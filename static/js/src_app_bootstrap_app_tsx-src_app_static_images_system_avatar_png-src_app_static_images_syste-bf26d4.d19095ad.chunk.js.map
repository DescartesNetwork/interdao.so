{"version":3,"file":"static/js/src_app_bootstrap_app_tsx-src_app_static_images_system_avatar_png-src_app_static_images_syste-bf26d4.d19095ad.chunk.js","mappings":"yQAAIA,EAAOC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,EAAQC,E,WAE3E,SAASC,IAAiS,OAApRA,EAAWC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcP,OAAOS,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,GAAkBJ,EAASa,MAAMC,KAAMR,WAItU,SAASS,EAAQC,EAAMC,GACrB,IAAI,MACFC,EAAK,QACLC,KACGC,GACDJ,EACJ,OAAoB,gBAAoB,MAAOhB,EAAS,CACtDqB,MAAO,GACPC,OAAQ,GACRC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPC,IAAKT,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DS,GAAIR,GACHD,GAAS,KAAM5B,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3EsC,EAAG,+oDACHJ,KAAM,aACHjC,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEqC,EAAG,qLACHJ,KAAM,aACHhC,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEoC,EAAG,oLACHJ,KAAM,aACH/B,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEmC,EAAG,oLACHJ,KAAM,aACH9B,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEkC,EAAG,oLACHJ,KAAM,aACH7B,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEiC,EAAG,4sBACHJ,KAAM,aACH5B,IAAWA,EAAsB,gBAAoB,OAAQ,CAChEgC,EAAG,sXACHJ,KAAM,aACH3B,IAAWA,EAAsB,gBAAoB,OAAQ,CAChE+B,EAAG,qXACHJ,KAAM,aACH1B,IAAWA,EAAsB,gBAAoB,OAAQ,CAChE8B,EAAG,iXACHJ,KAAM,aACHzB,IAAYA,EAAuB,gBAAoB,OAAQ,CAClE6B,EAAG,kXACHJ,KAAM,cAIV,MAAMK,EAA0B,aAAiBd,GACjD,EAAe,IAA0B,0D,6BCtDzCd,OAAO6B,eAAeC,EAAS,KAA/B9B,CACE+B,OAAO,IAET/B,OAAO6B,eAAeC,EAAS,KAA/B9B,CACEgC,YAAY,EACZC,IAAK,WACH,OAAOC,EAAMC,WAGjBL,EAAQ,QAAS,EACjB9B,OAAO6B,eAAeC,EAAS,KAA/B9B,CACEgC,YAAY,EACZC,IAAK,WACH,OAAOG,EAAQD,WAInB,IAAIE,EAASC,EAAuBC,EAAQ,QAExCC,EAAUF,EAAuBC,EAAQ,QAEzCE,EAAUH,EAAuBC,EAAQ,QAEzCL,EAAQI,EAAuBC,EAAQ,OAEvCH,EAAUE,EAAuBC,EAAQ,QAE7C,SAASD,EAAuBI,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAEP,QAASO,GAEvF,MAAME,EAAS,CAACP,EAAOF,QAASK,EAAQL,QAASM,EAAQN,SACzDL,EAAQ,GAASc,G,gNC9BjB,MA0BA,EA1Be,KAEX,UAAC,EAAAC,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAKC,QAAQ,SAA/B,WACE,SAAC,EAAAC,IAAD,WACE,SAAC,EAAAC,MAAD,CAAOC,UAAU,WAAWC,KAAM,EAAlC,UACE,SAAC,EAAAC,WAAA,MAAD,CACEC,MAAO,EACPC,MAAO,CAAEC,SAAU,GAAIC,UAAW,UAClCC,UAAU,kBAHZ,iDASJ,SAAC,EAAAT,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,UAAD,CACEO,KAAK,YACLL,MAAO,CAAEC,SAAU,GAAIC,UAAW,UAFpC,wECqBR,EA5BiB,IAA4C,IAA3C,KAAEI,EAAF,MAAQ3C,EAAR,MAAec,GAA2B,EAC1D,OACE,SAAC,EAAA8B,KAAD,CACEC,UAAU,EACVR,MAAO,CACLS,WAAY,cACZC,WAAY,YACZC,aAAc,SAEhBC,UAAW,CACTC,QAAS,UARb,UAWE,UAAC,EAAAtB,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,WACGW,GACD,SAAC,EAAAR,WAAA,KAAD,CAAiBO,KAAK,YAAtB,SAAmC1C,UAGvC,SAAC,EAAA+B,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,MAAD,CAAkBC,MAAO,EAAzB,SAA6BtB,Y,eClBvC,MAgDA,EAhDa,KACX,MAAMqC,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,OAClDI,GAAWH,EAAAA,EAAAA,cAAaC,GAAoBA,EAAME,WAElDC,GAAkBC,EAAAA,EAAAA,UAAQ,KAC9B,IAAIC,EAAQ,EACZ,IAAK,MAAMC,KAAgBJ,EAAU,CACnC,MAAM,SAAEK,GAAaL,EAASI,GAC1BC,GAAUF,IAGhB,OAAOA,IACN,CAACH,IAEJ,OACE,SAAC,EAAA3B,IAAD,CAAKY,UAAU,kBAAkBV,QAAQ,SAAzC,UACE,SAAC,EAAAC,IAAD,CAAK8B,GAAI,GAAIC,GAAI,GAAjB,UACE,UAAC,EAAAlC,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAD,OAEF,SAAC,EAAAV,IAAD,CAAK8B,GAAI,GAAIE,GAAI,GAAID,GAAI,EAAzB,UACE,SAAC,EAAD,CACEnB,MAAM,SAAC,IAAD,CAASqB,KAAK,kBACpBhE,MAAM,aACNc,OAAOmD,EAAAA,EAAAA,IAAQlF,OAAOmF,KAAKf,GAAM9D,QAAQ8E,OAAO,YAGpD,SAAC,EAAApC,IAAD,CAAK8B,GAAI,GAAIE,GAAI,GAAID,GAAI,EAAzB,UACE,SAAC,EAAD,CACEnB,MAAM,SAAC,IAAD,CAASqB,KAAK,mBACpBhE,MAAM,kBACNc,OAAOmD,EAAAA,EAAAA,IAAQlF,OAAOmF,KAAKX,GAAUlE,QAAQ8E,OAAO,YAGxD,SAAC,EAAApC,IAAD,CAAK8B,GAAI,GAAIE,GAAI,GAAID,GAAI,EAAzB,UACE,SAAC,EAAD,CACEnB,MAAM,SAAC,IAAD,CAASqB,KAAK,sBACpBhE,MAAM,2BACNc,OAAOmD,EAAAA,EAAAA,IAAQT,GAAiBW,OAAO,mB,eC5CrD,MAeA,EAfsB,IAA2C,IAA1C,MAAEnE,EAAF,MAASc,GAAgC,EAC9D,OACE,UAAC,EAAAkB,MAAD,CAAOC,UAAU,WAAjB,WACE,SAAC,EAAAE,WAAA,KAAD,CAAiBK,UAAU,UAAUE,KAAK,YAA1C,SACG1C,IAEF,CAAC,SAAU,UAAUoE,gBAAgBtD,IACpC,SAAC,EAAAqB,WAAA,KAAD,UAAkBrB,IAElBA,M,4CCTR,MAiBA,EAjBkB,IAA0C,IAAzC,OAAEuD,EAAF,QAAUC,GAA8B,EACzD,MAAMC,GAAMd,EAAAA,EAAAA,UAAQ,IACde,IAAQH,EAAQI,EAAAA,WAAAA,aAAgC,cAChDD,IAAQH,EAAQI,EAAAA,WAAAA,YAA+B,aAC/CD,IAAQH,EAAQI,EAAAA,WAAAA,YAA+B,aAC5C,cACN,CAACJ,IAEE7B,EAAY8B,EAAU,qBAAuB,UAEnD,OACE,SAAC,EAAAI,IAAD,CAAKlC,UAAWA,EAAWH,MAAO,CAAEsC,OAAQ,GAA5C,SACGJ,K,eCbP,MAAMK,EAA6C,MAACC,GAqFpD,EApEmB,IAMK,IANJ,YAClBC,EADkB,KAElB5C,EAAO,GAFW,KAGlBS,GAAO,SAAC,IAAD,CAASqB,KAAK,oBAHH,SAIlBe,GAAW,KACR7E,GACkB,EACrB,MAAO8E,EAASC,IAAcC,EAAAA,EAAAA,UAASN,IACjC,cAAEO,IAAkBC,EAAAA,EAAAA,YACpB,MAAEC,IAAUC,EAAAA,EAAAA,WAEZC,GAAeC,EAAAA,EAAAA,cACnBC,UACE,MAAMC,QAAcP,EAAcQ,cAAcC,GAChD,UAAIF,QAAJ,IAAIA,GAAAA,EAAOG,QAAS,OAAOH,EAAMG,UAGnC,CAACV,IAGGW,GAAgBN,EAAAA,EAAAA,cAAYC,UAChC,IAAKM,EAAAA,QAAAA,UAAkBjB,GAAc,OAAOG,EAAWL,GAEvD,MAAMoB,EAAWjH,OAAOkH,OAAOZ,GAAS,IAAIa,MAC1C,QAAC,SAAEC,GAAH,SAAkBA,IAAarB,KAEjC,GAAIkB,EAAU,CACZ,MAAM,OAAEI,EAAF,OAAUC,GAAWL,EACrBhB,QAAgBsB,QAAQC,IAAI,CAACH,EAAQC,GAAQG,IAAIjB,IAEvD,OADIR,GAAUC,EAAQyB,UACfxB,EAAWD,GAGpB,MAAM0B,QAAenB,EAAaT,GAClC,OAAOG,EAAW,CAACyB,MAClB,CAAC5B,EAAaC,EAAUQ,EAAcF,IAMzC,OAJAsB,EAAAA,EAAAA,YAAU,KACRb,MACC,CAACA,IAEmB,IAAnBd,EAAQ3F,QAER,SAAC,EAAAuH,OAAD,CACEC,IAAK7B,EAAQ,GACb9C,KAAMA,EACNG,MAAO,CAAEyE,gBAAiB,UAAWC,OAAQ,WACzC7G,EAJN,SAMGyC,KAIL,SAAC,EAAAiE,OAAA,MAAD,CAAcvE,MAAO,CAAE2E,QAAS,QAASC,WAAY,aAAgB/G,EAArE,SACG8E,EAAQwB,KAAI,CAACE,EAAQvH,KACpB,SAAC,EAAAyH,OAAD,CAEEC,IAAKH,EACLxE,KAAMA,EACNG,MAAO,CAAEyE,gBAAiB,UAAWC,OAAQ,QAJ/C,SAMGpE,GALIxD,QC5ET+H,EAAe,gBAuDrB,EA9CiB,IAQV,IARW,YAChBpC,EADgB,UAEhBqC,EAAY,WAFI,SAGhBpC,GAAW,GAKP,EACJ,MAAOf,EAAMoD,IAAWlC,EAAAA,EAAAA,UAASgC,IAC3B,cAAE/B,IAAkBC,EAAAA,EAAAA,YACpB,MAAEC,IAAUC,EAAAA,EAAAA,WAEZ+B,GAAa7B,EAAAA,EAAAA,cACjBC,UACE,MAAMC,QAAcP,EAAcQ,cAAcC,GAChD,cAAIF,QAAJ,IAAIA,GAAAA,EAAO1B,KAAa0B,EAAM1B,KACvBkD,IAET,CAAC/B,IAGGmC,GAAc9B,EAAAA,EAAAA,cAAYC,UAC9B,IAAKM,EAAAA,QAAAA,UAAkBjB,GAAc,OAAOsC,EAAQF,GAEpD,MAAMlB,EAAWjH,OAAOkH,OAAOZ,GAAS,IAAIa,MAC1C,QAAC,SAAEC,GAAH,SAAkBA,IAAarB,KAEjC,GAAIkB,EAAU,CACZ,MAAM,OAAEI,EAAF,OAAUC,GAAWL,EACrBuB,QAAcjB,QAAQC,IAAI,CAACH,EAAQC,GAAQG,IAAIa,IAErD,OADItC,GAAUwC,EAAMd,UACbW,EAAS,GAAEG,EAAMC,KAAKL,SAG/B,MAAMnD,QAAaqD,EAAWvC,GAC9B,OAAOsC,EAAQpD,KACd,CAACc,EAAaC,EAAUsC,EAAYhC,EAAO8B,IAM9C,OAJAR,EAAAA,EAAAA,YAAU,KACRW,MACC,CAACA,KAEG,0BAAOtD,KCpDVyD,EAAiB,OAuDvB,EA9CmB,IAQZ,IARa,YAClB3C,EADkB,UAElBqC,EAAY,WAFM,SAGlBpC,GAAW,GAKP,EACJ,MAAO2C,EAAQC,IAAazC,EAAAA,EAAAA,UAASuC,IAC/B,cAAEtC,IAAkBC,EAAAA,EAAAA,YACpB,MAAEC,IAAUC,EAAAA,EAAAA,WAEZsC,GAAepC,EAAAA,EAAAA,cACnBC,UACE,MAAMC,QAAcP,EAAcQ,cAAcC,GAChD,cAAIF,QAAJ,IAAIA,GAAAA,EAAOgC,OAAehC,EAAMgC,OACzB9B,EAAQiC,UAAU,EAAG,KAE9B,CAAC1C,IAGG2C,GAAgBtC,EAAAA,EAAAA,cAAYC,UAChC,IAAKM,EAAAA,QAAAA,UAAkBjB,GAAc,OAAO6C,EAAUF,GAEtD,MAAMzB,EAAWjH,OAAOkH,OAAOZ,GAAS,IAAIa,MAC1C,QAAC,SAAEC,GAAH,SAAkBA,IAAarB,KAEjC,GAAIkB,EAAU,CACZ,MAAM,OAAEI,EAAF,OAAUC,GAAWL,EACrB+B,QAAgBzB,QAAQC,IAAI,CAACH,EAAQC,GAAQG,IAAIoB,IAEvD,OADI7C,GAAUgD,EAAQtB,UACfkB,EAAUI,EAAQP,KAAKL,IAGhC,MAAMO,QAAeE,EAAa9C,GAClC,OAAO6C,EAAUD,KAChB,CAAC5C,EAAaC,EAAU6C,EAAcvC,EAAO8B,IAMhD,OAJAR,EAAAA,EAAAA,YAAU,KACRmB,MACC,CAACA,KAEG,0BAAOJ,KCThB,EAhCgB,IAIK,IAJJ,YACf5C,EADe,QAEfkD,EAAU,SAFK,OAGfC,GAAS,GACS,EAClB,OACE,SAAC,EAAArF,KAAD,CACEK,UAAW,CACTC,QAAS,EACTgF,OAAQ,WAEV7F,MAAO,CACLW,aAAc,EACd8D,iBAAiBqB,EAAAA,EAAAA,GAAYrD,EAAa,KAE5CtC,UAAU,WACVK,SAAUuF,QAAQH,GAClBD,QAAS,IAAMA,EAAQlD,GAXzB,UAaE,UAAC,EAAA9C,MAAD,CAAOE,KAAM,EAAGG,MAAO,CAAElC,MAAO,OAAQkI,eAAgB,UAAxD,WACE,SAAC,EAAD,CAAYvD,YAAaA,KACzB,SAAC,EAAA3C,WAAA,KAAD,CACEmG,UAAU,EACVjG,MAAO,CAAEkG,OAAOJ,EAAAA,EAAAA,GAAYrD,IAF9B,UAIE,SAAC,EAAD,CAAYA,YAAaA,MAE1BmD,IAAU,SAAC,IAAD,CAASjE,KAAK,4BCPjC,EA3BiB,IAA8D,IAA7D,YAAEc,EAAF,QAAekD,EAAU,UAAmC,EAC5E,OACE,SAAC,EAAApF,KAAD,CACEK,UAAW,CAAEC,QAAS,GACtBb,MAAO,CAAEmG,UAAW,QAASN,OAAQ,WACrCrF,UAAU,EACVmF,QAAS,IAAMA,EAAQlD,GAJzB,UAME,UAAC,EAAAlD,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAK4G,MAAM,SAA7B,WACE,SAAC,EAAA1G,IAAD,WACE,SAAC,EAAD,CAAY+C,YAAaA,EAAa5C,KAAM,QAE9C,SAAC,EAAAH,IAAD,WACE,UAAC,EAAAC,MAAD,CAAOC,UAAU,WAAWC,KAAM,EAAlC,WACE,SAAC,EAAAC,WAAA,KAAD,WACE,SAAC,EAAD,CAAY2C,YAAaA,OAE3B,SAAC,EAAA3C,WAAA,KAAD,CAAiBO,KAAK,YAAYF,UAAU,UAA5C,UACE,SAAC,EAAD,CAAUsC,YAAaA,iBCrB/B4D,EAAW,IAAkC,IAAjC,SAAEC,GAA8B,EAKhD,OAJAhC,EAAAA,EAAAA,YAAU,KACRgC,MACC,CAACA,KAEG,SAAC,EAAAC,SAAD,KAST,EAPsB1I,IAElB,SAAC,KAAD,CAAU2I,UAAQ,EAAlB,UACE,SAACH,EAAD,IAAcxI,MCZP4I,EAAsB,KACjC,MAAOC,EAAkBC,IAAuB9D,EAAAA,EAAAA,UAAmB,KAC7D,cAAEC,IAAkBC,EAAAA,EAAAA,WAEpB6D,GAA8BzD,EAAAA,EAAAA,cAAYC,UAC9C,MAAMsD,SAA0B5D,EAAcoB,OAAOC,KACnD,QAAC,QAAEZ,GAAH,SAAiBA,KAEbsD,EAAYH,EAAiBI,QAAQrE,GACzCiE,EAAiB3E,SAASU,KAE5B,OAAOkE,EAAoBE,KAC1B,CAAC/D,IAMJ,OAJAwB,EAAAA,EAAAA,YAAU,KACRsC,MACC,CAACA,IAEGF,GClBIK,EAAgBC,IAC3B,MAAOC,EAAaC,IAAkBrE,EAAAA,EAAAA,UAAmB,KACnD,SAAEsE,IAAaC,EAAAA,EAAAA,cAEfC,GAAiBjG,EAAAA,EAAAA,UAAQ,KAC7B,MAAMkG,EAAmC,GACzC,IAAK,MAAM5D,KAAWhH,OAAOkH,OAAOuD,GAClCG,EAAS5D,EAAQ6D,MAAQC,OAAO9D,EAAQ+D,OAAOC,YAEjD,OAAOJ,IACN,CAACH,IAEEQ,GAAYxE,EAAAA,EAAAA,cAChBC,UACE,MAAM6D,EAAcW,EAAcC,MAAK,CAACC,EAAGC,KACzC,IAAIC,EAAUX,EAAeS,KAAO,EAChCG,EAAUZ,EAAeU,KAAO,EACpC,OAAOP,OAAOS,GAAWT,OAAOQ,MAElC,OAAOd,EAAeD,KAExB,CAACI,IAMH,OAJA/C,EAAAA,EAAAA,YAAU,KACRqD,EAAUX,KACT,CAACA,EAAOW,IAEJ,CAAEV,cAAaU,c,0BCvBxB,MACMO,EAAoB,GAAEC,EAAAA,oBCH5B,IAAIC,EAEG,MCiJP,EA1HsB,IAKK,IALJ,MACrB3J,EAAQ,GADa,SAErB4J,EAAW,SAFU,MAGrBrI,EAAQ,GAHa,SAIrBsI,GAAW,GACa,EACxB,MAAOC,EAASC,IAAc3F,EAAAA,EAAAA,WAAS,IAChC4F,EAASC,IAAc7F,EAAAA,EAAAA,UAAS,KAChC8F,EAAQC,IAAa/F,EAAAA,EAAAA,UAlBhB,KAmBN,iBAAEgG,EAAF,iBAAoBC,GF7BO,MACjC,MAAOD,EAAkBE,IAAuBlG,EAAAA,EAAAA,UAAmB,IAC7D6D,EAAmBD,KACnB,YAAEQ,GAAgBF,EAAaL,GAE/BsC,GAAsB7F,EAAAA,EAAAA,cAAYC,UACtC,IAAI4D,EAAkBiC,EAAAA,EAAAA,IAAiBf,IAAqB,GAE5D,IAAK,MAAMX,KAAQN,EAAa,CAC9B,GAAID,EAAMhK,QAZG,EAYmB,MAC5BgK,EAAMjF,SAASwF,IACnBP,EAAMkC,KAAK3B,GAEb,OAAOwB,EAAoB/B,EAAMmC,MAAM,EAhBxB,MAiBd,CAAClC,IAEE6B,GAAmB3F,EAAAA,EAAAA,cACvBC,UACE,MAAM4D,EAAQ6B,EAAiB/B,QAAQS,GAASA,IAAS9E,IACnD2G,EAAW,CAAC3G,KAAgBuE,GAAOmC,MAAM,EAtBlC,GAyBb,OAFAF,EAAAA,EAAAA,IAAiBf,EAAkBkB,GAE5BL,EAAoBK,KAE7B,CAACP,IAOH,OAJAvE,EAAAA,EAAAA,YAAU,KACR0E,MACC,CAACA,IAEG,CACLH,mBACAC,qBEJ6CO,IACzC,cAAEC,EAAF,QAAiBC,GDjCO,WAA0C,IAAzCd,EAAwC,uDAAtB,GAAIe,EAAkB,uCACvE,MAAOD,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,IAChCyG,EAAeI,IAAoB7G,EAAAA,EAAAA,UAAmB,KACvD,cAAEC,IAAkBC,EAAAA,EAAAA,WACpBiE,EAAQP,IAERkD,GAASxG,EAAAA,EAAAA,cAAYC,UACzB,IAAKqF,EAEH,OADAgB,GAAW,GACJC,EAAiB1C,GAEtBoB,GAAWwB,aAAaxB,GAC5BqB,GAAW,GACXrB,EAAYyB,YAAWzG,UACrB,MAAMyD,SAAmB/D,EAAce,KAAK4E,EAASe,IAAQrF,KAC3D,QAAC,QAAEZ,GAAH,SAAiBA,KAGnB,OADAkG,GAAW,GACJC,EAAiB7C,KACvB,OACF,CAAC4B,EAASe,EAAOxC,EAAOlE,IAM3B,OAJAwB,EAAAA,EAAAA,YAAU,KACRqF,MACC,CAACA,IAEG,CAAEL,gBAAeC,WCOWO,CAAiBrB,EAAS,IACvD,YAAExB,GAAgBF,EAAauC,GAE/BS,GAAW5G,EAAAA,EAAAA,cACdV,IACC+F,GAAW,GACXH,EAAS5F,GACTqG,EAAiBrG,KAEnB,CAAC4F,EAAUS,IAab,OAVAxE,EAAAA,EAAAA,YAAU,KACRsE,EAjCU,IAkCV,MAAMoB,EAAOC,SAASC,eAAe,+BACjCF,IAAMA,EAAKG,UAAY,KAC1B,CAAC1B,EAASF,KAEbjE,EAAAA,EAAAA,YAAU,KACHiE,GAASG,EAAW,MACxB,CAACH,KAGF,UAAC,EAAAhC,SAAD,YACE,SAAC,EAAA6D,OAAD,CACE/J,KAAK,OACLsF,QAAS,IAAM6C,GAAW,GAC1BxI,MAAO,CAAEa,QAAS,KAAMb,GACxBsI,SAAUA,EAJZ,UAME,UAAC,EAAA3I,MAAD,YACE,SAAC,EAAD,CAAY8C,YAAahE,KACzB,SAAC,EAAD,CAAYgE,YAAahE,KACzB,SAAC,IAAD,CAASkD,KAAK,+BAGlB,SAAC,EAAA0I,MAAD,CACE9B,QAASA,EACT+B,SAAU,IAAM9B,GAAW,GAC3B+B,OAAQ,KACRC,UAAU,EACVC,UAAQ,EACRtK,UAAU,oBANZ,UAQE,UAAC,EAAAZ,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAsK,MAAD,CACEC,YAAY,0CACZC,QACE,SAAC,EAAAR,OAAD,CACE/J,KAAK,OACLL,MAAO,CAAE6K,aAAc,GACvBvK,MACE,SAAC,IAAD,CACEqB,KAAM8G,EAAU,gBAAkB,mBAGtC9C,QAAS8C,EAAU,IAAMC,EAAW,IAAM,OAC1Ca,QAASA,IAGb9K,MAAOgK,EACPJ,SAAWyC,GAAMpC,EAAWoC,EAAEjO,OAAO4B,OAAS,SAGhDgK,EAAQzL,SACR,SAAC,EAAA0C,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,SACGqJ,EAAiB1E,KAAK1B,IACrB,SAAC,EAAA/C,IAAD,CAAK8B,GAAI,GAAIE,GAAI,EAAGqJ,GAAI,EAAxB,UACE,SAAC,EAAD,CACEtI,YAAaA,EACbkD,QAASoE,EACTnE,OAAQnD,IAAgBhE,KAJIgE,UAWxC,SAAC,EAAA/C,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAb,IAAD,CACEC,OAAQ,CAAC,EAAG,GACZQ,MAAO,CAAEgL,UAAW,KACpB7K,UAAU,YACV/B,GAAG,8BACHqB,QAAQ,SALV,SAOGwH,EAAYjK,OACXiK,EAAYkC,MAAM,EAAGR,GAAQxE,KAAI,CAAC1B,EAAawI,KAC7C,UAAC,EAAAvL,IAAD,CAAKU,KAAM,GAAX,WACE,SAAC,KAAD,CAAUrC,OAAQ,GAAIyI,UAAQ,EAAC0E,SAAU,IAAzC,UACE,SAAC,EAAD,CAAUzI,YAAaA,EAAakD,QAASoE,MAE9CkB,IAAUtC,EAjHC,IAkHV,SAAC,EAAD,CAAUrC,SAAU,IAAMsC,EAAUD,EAnH5C,QA8GwBlG,MAUtB,SAAC,EAAA/C,IAAD,WACE,SAAC,EAAAyL,MAAD,CAAOnL,MAAO,CAAEa,QAAS,qB,8soBCvI3C,MAAMuK,EAAgB,CAACC,EAAc7B,KACnC,MAAM8B,EAAMC,EAAOC,KAAKH,GAClBJ,EAAQ,IAAIQ,IAAJ,CAAOH,GAAKI,IAAI,IAAID,IAAJ,CAAOjC,IACrC,OAAOhC,OAAOyD,IAsBhB,EAjBuB,IAGK,IAHJ,KACtBI,EAAOM,KAAKC,SAASlE,WADC,YAEtBmE,EAAc,IACW,EACzB,MAAMjM,EAAYwL,EAAcC,EAAM,MAChC,KAAE1J,EAAF,OAAQmK,GAAWC,EAAUX,EAAcC,EAAMU,EAAAA,SACvD,OACE,SAAC,EAAAxH,OAAD,CACEvE,MAAO,CACLS,WAAa,mBAAkBb,SAAiBkM,EAAO3G,KAAK,UAE9D6G,IAAKrK,KACDkK,K,0BCTV,MAAMI,EAAS,CACbC,MAAOC,WACPC,IAAKD,2DA6BP,EA1BgC,CAI9BE,YAAa,IACRJ,GAMLK,QAAS,IACJL,GAMLM,WAAY,IACPN,I,0BCDP,QApCA,MAMEO,cAAe,KALPC,QAA2BC,OAAOC,OAAOC,OAKnC,KAJNC,WAAwB,IAAIC,EAAAA,UAClC,gDAGY,KAINC,MAAQ3J,UACd,MAAMG,QAAgBhG,KAAKkP,QAAQO,aACnCzP,KAAKsP,WAAa,IAAIC,EAAAA,UAAUvJ,IANpB,KASd0J,gBAAkB7J,SACT7F,KAAKkP,QAAQQ,gBAAgBC,GAVxB,KAadC,oBAAsB/J,UACpB,IAAIgK,EAA2B,GAC/B,IAAK,MAAMF,KAAMG,EAAK,CACpB,MAAMC,QAAiB/P,KAAK0P,gBAAgBC,GAC5CE,EAAUlE,KAAKoE,GAEjB,OAAOF,GAlBP7P,KAAKwP,QAqBHQ,gBAIF,OAHAC,QAAQC,KACN,iGAEKlQ,KAAKsP,aCmBhB,EAvCgC,CAI9Ba,OAAQ,CACNC,SAAU,IAAIC,IAAJ,CACR,IAAIC,EACJ,gCACA,gDAEFC,QAAS,IAAIC,EAAAA,QAAQ,IAAIF,EAAc,iCACvCG,IAAK,IACLC,OAAQ,gDAMVC,QAAS,CACPP,SAAU,IAAIC,IAAJ,CAAa,IAAIC,EAAc,kCACzCC,QAAS,IAAIC,EAAAA,QAAQ,IAAIF,EAAc,iCACvCG,IAAK,IACLC,OAAQ,gDAMVE,QAAS,CACPR,SAAU,IAAIC,IAAJ,CAAa,IAAIC,EAAc,kCACzCC,QAAS,IAAIC,EAAAA,QAAQ,IAAIF,EAAc,kCACvCG,IAAK,IACLC,OAAQ,iDCpCZ,EARgB,CACdG,SAAUA,EAASC,EAAAA,IACnBC,IAAKA,EAAInG,EAAAA,MCCTmG,KAAK,SAAEX,KACLY,EAoBEC,GAA8B,CAClCC,QAAS,GACTC,YAAa,GACbC,MAAO,GACPC,UAAW,GACXC,QAAS,eACTC,QAAS,GACTC,mBAAoB,IAYhBC,GAAO,WACPC,GAA8B,CAClCC,aAAc,GACdC,aAAcX,IAOHY,IAAkBC,EAAAA,EAAAA,kBAI5B,GAAEL,sBAAwB5L,MAAA,OAAgD,IAAzC,WAAEkM,EAAF,MAAcC,GAA0B,GAAjB,SAAEC,GAAe,EAC1E,IAAK9L,EAAAA,QAAAA,UAAkB4L,GAAa,MAAM,IAAIG,MAAM,mBACpD,MACExO,KACEH,MACE,CAACwO,IAAa,KAAE/H,KAGpBmI,UACER,cAAgB,CAACI,GAAaK,KAE9BH,IAEE/M,EAAc8E,EAAKqI,WACzB,IAAKlM,EAAAA,QAAAA,UAAkBjB,GAAc,MAAO,GAC5C,GAAIkN,IAAiBJ,EAAO,MAAO,CAAE,CAACD,GAAaK,GACnD,MACEE,UAAU,WAAEC,IACVnC,GAASoC,QAUb,MAAO,CAAE,CAACT,UATaQ,EAAWE,mBAChCC,EAAAA,MAAAA,MAAAA,iBACA,CACEC,QAAS,CACP,CAAEC,SAAU,KACZ,CAAEC,OAAQ,CAAEC,MAAO5N,EAAakG,OAAQ,QAId3L,WAGrBsT,IAAkBjB,EAAAA,EAAAA,kBAC5B,GAAEL,sBACH5L,SACOmN,GAAiB/B,KAyB1B,IAhBcgC,EAAAA,EAAAA,aAAY,CACxB7O,KAAMqN,GACNC,gBACAwB,SAAU,GACVC,cAAgBC,IACTA,EACFC,QACCxB,GAAgByB,WAChB,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAMkO,aAAc4B,MAEhEF,QACCN,GAAgBO,WAChB,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAMmO,aAAc2B,SAIvE,QC1FA,GAvBoBxB,IAClB,MAAMyB,GAAWC,EAAAA,EAAAA,gBAEftB,UAAU,aAAER,GACZjO,KAAK,KAAEH,KACLC,EAAAA,EAAAA,cAAaC,GAAoBA,IAE/B2O,GAAevO,EAAAA,EAAAA,UACnB,IAAM8N,EAAaI,IACnB,CAACA,EAAYJ,IAET+B,GAAa7P,EAAAA,EAAAA,UAAQ,MAChB1E,OAAOmF,KAAKf,GAAM9D,QAC1B,CAAC8D,IAOJ,OALAwD,EAAAA,EAAAA,YAAU,KACJ2M,GAAcvN,EAAAA,QAAAA,UAAkB4L,IAClCyB,EAAS3B,GAAgB,CAAEE,kBAC5B,CAACyB,EAAUzB,EAAY2B,IAEnBtB,GAAgB,G,eCrBzB,MACEvB,UAAU,MAAElC,KACVqC,EAcJ,GAZe,KACb,MACE3B,QAAUrJ,QAAS2N,KACjBC,EAAAA,EAAAA,aAMJ,OAJY/P,EAAAA,EAAAA,UAAQ,IACX,IAAIgQ,GAAAA,EAAIF,GAAeG,eAAenF,KAC5C,CAACgF,K,4BCfN,MAAMI,GAAwC,CAC5CC,EAAG,gBACHC,QAAS,eACTC,SAAU,gBACVC,QAAS,eACTC,OAAQ,QACRC,OAAQ,eAaGC,GAAUC,IACrB,MAAMC,EAAW,IAAIC,WAAW,CAAC,GAAI,KAC/BC,EAAW,IAAID,WAAWD,EAAS/U,QAAT,OAAkB8U,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAQ9U,SAC1DiV,EAASC,IAAIH,GACbE,EAASC,IAAIJ,EAAQC,EAAS/U,QAE9B,OADYmV,GAAAA,GAAAA,OAAWF,GACZvK,YAGA0K,GAAY3T,GAChB,ycAAyc4T,KAC9c5T,GAIS6T,GAAWlG,IACtB,IAAKgG,GAAShG,GAAM,MAAO,GAC3B,IAAImG,EAAa,GACjB,MACMC,EADS,IAAIC,IAAIrG,GACHsG,SAASC,QAAQ,OAAQ,IAC7C,IAAK,MAAMC,KAAQJ,EAAM,CACvB,GAAa,MAATI,EAAc,MAClBL,GAAcK,EAEhB,MAAMC,EAAWvB,GAAciB,EAAWO,eAC1C,OAAKD,GAAiBvB,GAAa,QClC/ByB,GAAO,IAAIC,GAAAA,EA8BjB,GA5BqB1D,IACnB,MAAOiB,EAAU0C,IAAepQ,EAAAA,EAAAA,YAC1B/B,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,OAClDoS,EAAMC,KAENC,GAAcjQ,EAAAA,EAAAA,cAAYC,UAC9B,IAAKM,EAAAA,QAAAA,UAAkB4L,GAAa,OAAO2D,OAAYzQ,GACvD,MAAM6Q,QAAcH,EAAII,QAAQhE,IACxBI,SAAUoC,GAAWhR,EAAKwO,IAAgB,GAClD,IAAKwC,EAAQ,OACb,MAAMyB,EAAM1B,GAAOC,GACnB,GAAIuB,GAAQE,IAAQF,EAAKE,IAAK,OAAON,EAAYI,GAEjD,MAAM3D,QAA2BqD,GAAKpU,IAAI4U,GAC1C,IAAK7D,EAAU,OACf,MAAM8D,EAAgB,IAAK9D,EAAU6D,OAGrC,aAFML,EAAIO,QAAQnE,EAAYkE,GAEvBP,EAAYvD,KAClB,CAACJ,EAAYxO,EAAMoS,IAMtB,OAJA5O,EAAAA,EAAAA,YAAU,KACR8O,MACC,CAACA,IAEG7C,G,uCCjCT,MACEb,UAAU,SAAEgE,GAAF,aAAYC,KACpBC,GAAAA,SAEEC,GAA4B,IAAI/G,EAAAA,UACpC,+CAGIgD,GAAa,IAAIgE,GAAAA,WAAW3L,EAAAA,IAwBrB4L,GAAqB3Q,eAGLsQ,GAASM,gBAAgBlE,GAAYmE,GAIrDC,GAAiB9Q,eAGAsQ,GAASS,WAAWrE,GAAYsE,GA4CjDC,GAA2BjR,MACtCkR,EACAC,KAEA,IAAK,IAAD,EAEF,OAAI,iBADwBb,GAASS,WAAWrE,GAAYwE,IAC1CjB,KAAKmB,kBAAnB,eAA+BtX,OAAQqX,EAE3C,MAAOE,GACP,OAAO,ICbX,GA/E4BnF,IAC1B,MAAMxO,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,QAElD,KAAEyG,EAAF,SAAQmN,EAAR,MAAkBC,GAAU7T,EAAKwO,IAAgB,IACjD,SAAEnI,IAAaC,EAAAA,EAAAA,cACfmJ,EAAWqE,GAAYtF,IACtBuF,EAAcC,IAAmBjS,EAAAA,EAAAA,WAAS,IAC1CkS,EAAoBC,IAAyBnS,EAAAA,EAAAA,WAAS,IAE3D+J,QAAUrJ,QAAS0R,KACjB9D,EAAAA,EAAAA,aAEE+D,GAAqB/R,EAAAA,EAAAA,cAAYC,UACrC,IAAI+R,GAAQ,EACZ,IAAK,MAAMC,KAAejO,EAAU,CAKlC,SAJ0BkN,GACxBlN,EAASiO,GAAa7N,KACtBA,EAAKqI,YAEY,CACjBuF,GAAQ,EACR,OAGJ,OAAOA,IACN,CAAChO,EAAUI,IAER8N,GAAuBlS,EAAAA,EAAAA,cAAYC,UACvC,MAAM4D,EAAQ,GACd,IAAK,MAAMoO,KAAejO,EAAUH,EAAMkC,KAAK/B,EAASiO,GAAa7N,MACrE,OAAOP,EAAMjF,SAASwF,EAAKqI,cAC1B,CAACzI,EAAUI,IAER+N,GAA6BnS,EAAAA,EAAAA,cAAYC,UAC7C,IAAKmN,EAAU,OAAO,EACtB,MAAM,QAAEzB,GAAYyB,EACpB,IAAI4E,GAAQ,EACZ,IAAK,MAAM,cAAEjE,KAAmBpC,EAC9B,GAAIoC,IAAkB+D,EAAW,CAC/BE,GAAQ,EACR,MAEJ,OAAOA,IACN,CAAC5E,EAAU0E,IAERM,GAAiBpS,EAAAA,EAAAA,cAAYC,UACjC,GAAIsR,EAAU,OAAO,EACrB,IAAKnE,EAAU,OAAOyE,GAAsB,GAC5C,MAAM,QAAEnG,GAAY0B,EAEpB,IAAIsE,GAAwB,EACZ,iBAAZhG,IACSgG,EAAPF,QAA4BO,UACNG,KAEZ,iBAAZxG,IACFgG,QAAqBS,KAEvBR,EAAgBD,GAChBG,GAAsB,KACrB,CACDL,EACAD,EACAnE,EACA+E,EACAJ,EACAG,IAOF,OAJA/Q,EAAAA,EAAAA,YAAU,KACRiR,MACC,CAACA,IAEG,CACLV,eACAE,uB,wLChDES,GAAc,CAClBC,WADkB,GAElBC,WAFkB,GAGlBC,YAHkB,IAMdC,GAAe,SA0JrB,GAvJgB,IAAmC,IAAD,QAAjC,WAAEtG,GAA+B,EAChD,MAAM,OAAEtN,EAAF,MAAU6T,EAAV,KAAiBtO,EAAjB,SAAuBmN,EAAvB,MAAiCC,IAAU5T,EAAAA,EAAAA,cAC9CC,GAAoBA,EAAMC,IAAIH,KAAKwO,KAEhCwG,GAAUC,EAAAA,EAAAA,eAEdC,IAAI,MAAElY,KACJmY,EAAAA,EAAAA,SAEEnH,EAAUoH,GAAW5G,GACrBiB,EAAWqE,GAAYtF,IACvB,aAAEuF,EAAF,mBAAgBE,GAAuBoB,GAAmB7G,GAC1D8G,EAAW,UAAG1Z,OAAOmF,KAAKG,UAAf,aAAG,EAAsB,GAEpCqU,GAAcjV,EAAAA,EAAAA,UAAQ,IACtBtD,EAAQ,IAAY8X,GACpB9X,EAAQ,KAAa8X,SACH,EAAfA,IACN,CAAC9X,IAaEwY,EAAWxY,EAAQ,IACnByY,EAAezY,EAAQ,IAAMA,EAlCd,mBAkCuCA,EAE5D,OACE,UAAC,EAAAyB,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAIW,UAAU,mBAAmBwF,QAfhCvC,SACdsR,EAAiBoB,EAAQ5M,KAAM,OAAMoG,KACpCuF,GAAiBE,OAMtBe,EAAQ5M,KAAM,OAAMoG,KALX5C,OAAO8J,OAAO,CACnBnW,KAAM,UACNqO,YAAa,qCAUjB,WACE,SAAC,EAAAhP,IAAD,CACEU,KAAM,GACND,UAAU,eACVH,MAAO,CACLjC,OAASuY,GAEJxY,EA9CM,IA8CkBuY,GADxBE,EAAeE,IAAoBJ,GAL5C,UASE,SAAC,EAAAK,MAAD,CACEC,SAAS,EACTnS,IAAKgR,GAAYY,QAGrB,SAAC,EAAA1W,IAAD,CAAKS,UAAU,qBAAf,UACE,SAAC,EAAD,CAAW6B,OAAQA,EAAQC,SAAO,OAEpC,SAAC,EAAAvC,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAG,KAAD,CAAMC,UAAU,EAAhB,UACE,UAAC,EAAAjB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAIJ,MAAO,CAAE4W,UAAW,IAAnC,UACE,UAAC,EAAArX,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAKqX,MAAM,EAAOzQ,MAAM,MAA1C,WACE,SAAC,EAAA1G,IAAD,UACG,OAAC6Q,QAAD,IAACA,GAAAA,EAAU5B,OAMV,SAAC,EAAApK,OAAD,CAAQuS,MAAM,SAASjX,KAAM,GAAI2E,IAAG,OAAE+L,QAAF,IAAEA,OAAF,EAAEA,EAAU5B,SALhD,SAAC,EAAD,CACEtD,KAAMiE,EACNzD,YAAa,CAAEiL,MAAO,SAAUjX,KAAM,SAM5C,SAAC,EAAAH,IAAD,CAAKqX,KAAK,OAAV,UACE,UAAC,EAAApX,MAAD,CAAOC,UAAU,WAAWC,KAAM,EAAlC,WACE,SAAC,EAAAmX,QAAD,CACErZ,MAAe,OAAR4S,QAAQ,IAARA,GAAAA,EAAU9B,QAAU8B,EAAS9B,QAAUa,EADhD,UAGE,SAAC,EAAAxP,WAAA,MAAD,CACEE,MAAO,CAAEiX,WAAY,GACrBlX,MAAO,EACPkG,SAAU,CAAEiR,KAAM,GAHpB,SAKW,OAAR3G,QAAQ,IAARA,GAAAA,EAAU9B,QACP8B,EAAS9B,SACT0I,EAAAA,EAAAA,IAAe7H,QAGvB,SAAC,EAAAjN,IAAD,CAAKlC,UAAU,UAAUH,MAAO,CAAEsC,OAAQ,GAA1C,SACGoS,EAAW,SAAW,iBAEzB,SAAC,EAAA/U,MAAD,CAAOE,KAAM,EAAGG,MAAO,CAAEoX,YAAa,GAAtC,gBACG7G,QADH,IACGA,GADH,UACGA,EAAU3B,iBADb,aACG,EAAqBzK,KACpB,CAACiI,EAAKiL,IACJjF,GAAShG,KACP,SAAC,EAAAhC,OAAD,CACEvK,KAAK,QACLQ,KAAK,OACLsF,QAAS,IAAM+G,OAAO4K,KAAKlL,EAAK,UAChC9L,MAAM,SAAC,IAAD,CAASqB,KAAM2Q,GAAQlG,MACxBiL,kBASvB,SAAC,EAAA3X,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,EAAX,UACE,SAAC,EAAD,CACEzC,MAAM,UACNc,MACEkW,EACE,OAEA,UAAC,EAAAhV,MAAD,YACE,SAAC,EAAD,CAAY8C,YAAa8E,EAAKqI,cAC9B,SAAC,EAAD,CAAYnN,YAAa8E,EAAKqI,qBAMxC,SAAC,EAAAlQ,IAAD,CAAKU,KAAM,EAAX,UACE,SAAC,EAAD,CACEzC,MAAM,YACNc,OAAOmD,EAAAA,EAAAA,IAAQ4F,OAAOqO,IAAQ/T,OAAO,YAGzC,SAAC,EAAApC,IAAD,CAAKU,KAAM,EAAX,UACE,SAAC,EAAD,CACEzC,MAAM,UACNc,OAAOmD,EAAAA,EAAAA,IAAQkN,GAAShN,OAAO,iBAKvC,SAAC,EAAApC,IAAD,CAAKU,KAAM,GAAIJ,MAAO,CAAE4W,UAAW,IAAnC,UACE,SAAC,EAAA9W,WAAA,UAAD,CACEE,MAAO,CAAEsC,OAAQ,GACjBjC,KAAK,YACL4F,SAAU,CAAEiR,KAAM,GAHpB,gBAKG3G,QALH,IAKGA,OALH,EAKGA,EAAU7B,2B,gBCjL3B,MAsBA,GAtBkB,IAAoD,IAAnD,SAAE6I,EAAF,QAAYhO,GAAU,GAA4B,EACnE,OACE,SAAC,EAAAmB,MAAD,CACE8M,QACE,SAAC,EAAApN,OAAD,CACE/J,KAAK,OACLR,KAAK,QACLS,KACEiJ,GACE,SAAC,EAAAkO,KAAD,CAAMC,WAAW,SAACC,GAAA,EAAD,CAAiB3X,MAAO,CAAEC,SAAU,SAErD,SAAC,IAAD,CAAS0B,KAAK,qBAKtBgJ,YAAY,0BACZ3K,MAAO,CAAElC,MAAO,QAChBuK,SAAWyC,GAAMyM,EAASzM,EAAEjO,OAAO4B,UCjBnC+W,GAAc,CAClBC,WADkB,GAElBC,WAFkB,GAGlBC,YAHkB,IA+CpB,GAzCmB,IAQZ,IARa,MAClBlX,EADkB,OAElBuD,EAFkB,SAGlBqG,EAAW,UAKP,EACJ,OACE,UAAC,EAAA9H,KAAD,CACEC,UAAU,EACVR,MAAO,CAAEwG,SAAU,SAAUX,OAAQ,WACrCjF,UAAW,CAAEC,QAAS,GACtB8E,QAAS,IAAM0C,EAASrG,GACxB7B,UAAY,gBAAcgC,IAAQ1D,EAAOuD,GAAU,SAAW,IALhE,WAOE,SAAC,EAAA0U,MAAD,CACElS,IAAKgR,GAAY9Y,OAAOmF,KAAKG,GAAQ,IACrC2U,SAAS,KAEX,SAAC,EAAA7W,WAAA,KAAD,CACEE,MAAO,CACL4X,SAAU,WACVC,OAAQ,EACRC,KAAM,EACN5X,UAAW,SACXpC,MAAO,OACP+C,QAAS,EACTkX,eAAgB,YAChB7R,MAAO,OACP8R,cAAe,aACfC,WAAY,KAXhB,SAcGvb,OAAOmF,KAAKG,GAAQ,UCpC3BsM,KAAOX,SAAF,KACHY,EAMS2J,GAAmB,CAC9BzV,YAAa,GACb0V,OAAQ,IAAI1M,IAAJ,CAAO,GACfiE,cAAUlN,EACVvB,SAAKuB,EACLR,OAAQI,EAAAA,WAAAA,YACRsS,UAAU,EACVC,OAAO,GAsBH3F,GAAO,MACPC,GAAyB,CAC7BnO,KAAM,GACNsX,QAASF,IAOEG,IAAUhJ,EAAAA,EAAAA,kBAAkB,eAAkBjM,UACzD,MACEyM,UAAU,WAAEC,GADR,UAEJwI,EACA5U,SAAS,IAAEzC,IACT0M,GAASoC,QACPtR,QACEqR,EAAWE,mBAAmBsI,EAAW,CAC7CpI,QAAS,CACP,CAAEC,SAAUlP,EAAIpB,MAChB,CACEuQ,OAAQ,CACNzH,OAAQ,EACR0H,MAAOkI,EAAAA,uBAKjB,IAAIC,EAAgC,GAMpC,OALA/Z,EAAMga,SAAQ,IAAyC,IAAxC,OAAEC,EAAQhV,SAAW2P,KAAM/H,IAAY,EACpD,MAAM/H,EAAUmV,EAAO9I,WACjByD,EAAO1F,GAASgL,aAAarN,GACnCkN,EAAKjV,GAAW,IAAK8P,MAEhB,CAAEvS,KAAM0X,MAGJI,IAASvJ,EAAAA,EAAAA,kBAInB,cAAiBjM,MAAA,OAA6C,IAAtC,QAAEG,EAAF,MAAWgM,GAA0B,GAAjB,SAAEC,GAAe,EAC9D,IAAK9L,EAAAA,QAAAA,UAAkBH,GAAU,MAAM,IAAIkM,MAAM,mBACjD,MACExO,KACEH,MAAQ,CAACyC,GAAU8P,KAEnB7D,IACJ,GAAI6D,IAAS9D,EAAO,MAAO,CAAE,CAAChM,GAAU8P,GAExC,MAAO,CACL,CAAC9P,GAAU,UAFKoK,GAASkL,WAAWtV,QAQ3BuV,IAAWzJ,EAAAA,EAAAA,kBAIrB,gBAAmBjM,UAA8B,IAAvB,QAAEG,EAAF,KAAW8P,GAAW,EACjD,IAAK3P,EAAAA,QAAAA,UAAkBH,GAAU,MAAM,IAAIkM,MAAM,mBACjD,IAAK4D,EAAM,MAAM,IAAI5D,MAAM,iBAC3B,MAAO,CACL,CAAClM,GAAU,IAAK8P,OAIP0F,IAAa1J,EAAAA,EAAAA,kBACvB,kBACDjM,SACOgV,EACE,CAAEA,WADY,CAAEA,QAASF,MAiCpC,IAxBc1H,EAAAA,EAAAA,aAAY,CACxB7O,KAAMqN,GACNC,aAFwB,GAGxBwB,SAAU,GACVC,cAAgBC,IACTA,EACFC,QACCyH,GAAQxH,WACR,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,MAEnDF,QACCgI,GAAO/H,WACP,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAMF,KAAMgQ,MAExDF,QACCkI,GAASjI,WACT,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAMF,KAAMgQ,MAExDF,QACCmI,GAAWlI,WACX,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,SAI1D,QClJakI,GAAc,CACzB5W,EAAAA,WAAAA,YACAA,EAAAA,WAAAA,WACAA,EAAAA,WAAAA,YAgEF,GA7DoB,KAClB,MAAMgW,GAAUrX,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAImX,UACrDrH,GAAWC,EAAAA,EAAAA,gBAEThP,OAAQvD,GAAU2Z,EAE1B,OACE,UAAC,EAAA7Y,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,YACE,SAAC,EAAAG,WAAA,KAAD,0BACA,SAAC,EAAAmZ,QAAD,CACEC,aAAc,CAAEC,SAAU,KAC1BC,QAAQ,QACRC,SACE,UAAC,EAAA9Z,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,MAAD,CAAkBC,MAAO,EAAzB,oCAIF,SAAC,EAAAL,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAjB,WACE,UAAC,EAAAE,WAAA,KAAD,YACE,6CADF,wDAIA,UAAC,EAAAA,WAAA,KAAD,YACE,4CADF,oEAIA,UAAC,EAAAA,WAAA,KAAD,YACE,4CADF,0DApBV,UA6BE,SAAC,EAAAsK,OAAD,CACE/J,KAAK,OACLR,KAAK,QACLS,MAAM,SAAC,IAAD,CAASqB,KAAK,wCAK3BqX,GAAY7U,KAAI,CAACnC,EAAQqV,KACxB,SAAC,EAAA3X,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,GAAD,CACEtM,MAAOA,EACPuD,OAAQA,EACRqG,SAAWrG,GAAW+O,EAASgI,GAAW,IAAKX,EAASpW,eAJnCqV,SCpCjC,GAxBgB,IAAsC,IAArC,OAAEiC,EAAF,MAAU7a,GAA0B,EACnD,OACE,UAAC,EAAA8a,OAAD,CACE9a,MAAOA,EACPuB,MAAO,CAAEgY,cAAe,aAAcla,MAAO,QAC7CuK,SAAUiR,EAHZ,WAKE,SAAC,EAAAC,OAAA,OAAD,CAAe9a,MAAM,aAArB,4BACCua,GAAY7U,KAAI,CAACnC,EAAQqV,KACxB,MAAM5Y,EAAQ/B,OAAOmF,KAAKG,GAAQ,GAClC,OACE,SAAC,EAAAuX,OAAA,OAAD,CAEE9a,MAAOA,EACPuB,MAAO,CAAEgY,cAAe,cAH1B,SAKGvZ,GAJI4Y,UCIjB,GAdkB,IAAyC,IAAxC,MAAE5Y,EAAF,QAAS+a,GAA8B,EACxD,OACE,UAAC,EAAAD,OAAD,CACE9a,MAAOA,EACPuB,MAAO,CAAEgY,cAAe,aAAcla,MAAO,QAC7CuK,SAAUmR,EAHZ,WAKE,SAAC,EAAAD,OAAA,OAAD,CAAe9a,MAAM,WAArB,8BACA,SAAC,EAAA8a,OAAA,OAAD,CAAe9a,MAAM,eAArB,2BACA,SAAC,EAAA8a,OAAA,OAAD,CAAe9a,MAAM,eAArB,8B,2BCmDN,SA9DA,MAKE+N,YAAYiN,GAA4B,IAAD,YAJ/BC,YAI+B,OAH/BC,YAG+B,OAFvCF,cAEuC,OAiB/BG,WAAaxW,UACnB1G,OAAOmF,KAAKtE,KAAKkc,UAAUhB,SAASnJ,GAClC/R,KAAKmc,OAAOxH,IAAI5C,EAAY/R,KAAKkc,SAASnK,MAErC,CAAC/R,KAAKmc,SArBwB,KAwBvCxV,IAAMd,UACJ,MAAOsW,SAAgBnc,KAAKqc,aAC5B,OAAOC,MAAMrO,KAAKkO,EAAO9V,WA1BY,KA6BvCN,cAAgBF,UACd,MAAOsW,SAAgBnc,KAAKqc,aAC5B,GAAIF,EAAOI,IAAIC,GAAO,MAAO,CAACA,IA/BO,KAmCvClW,KAAOT,eAAOqF,GAAgE,IAA/Ce,EAA8C,uDAAtC,GACrC,MAAOkQ,SAAgB,EAAKE,aACtBD,EAAS,EAAKA,OACpB,IAAKA,EAAQ,OACb,IAAI7Y,EAAqB,GACzB,IAAK2H,EAAS,OAEd,MAAMuR,EAAQvR,EAAU,KACxBkR,EAAOhQ,OAAOqQ,GAAOvB,SAAQ,IAAc,IAAb,IAAEta,GAAU,EACxC,GAAI2C,EAAKmZ,WAAU,QAAC,WAAE3K,GAAH,SAAoBA,IAAenR,KAAO,EAAG,CAC9D,MAAM8C,EAAMyY,EAAO/a,IAAIR,GACnB8C,GAAKH,EAAKoI,KAAKjI,OAGvB,MAAMiZ,EAAqB,GAI3B,OAHApZ,EAAKqI,MAAM,EAAGK,GAAOiP,SAAQ,IAAqB,IAApB,WAAEnJ,GAAiB,EAC3CA,GAAY4K,EAAShR,KAAKoG,MAEzB4K,GApDP3c,KAAKkc,SAAWA,EAChBlc,KAAKmc,OAAS,IAAIS,IAClB5c,KAAKoc,OAASS,MAAK,WACjB7c,KAAKY,IAAI,cACTZ,KAAK8c,MAAM,cACX9c,KAAK8c,MAAM,WACX9c,KAAK8c,MAAM,eACX3d,OAAOmF,KAAK4X,GAAUhB,SAASlV,IAC7B,MAAM+W,EAAMb,EAASlW,GACjB+W,GAAK/c,KAAKgd,IAAID,SAItB/c,KAAKqc,eCkCT,GAjDqB,CAACnR,EAAiB+R,KACrC,MAAOjK,EAAU0C,IAAepQ,EAAAA,EAAAA,aACzB4X,EAAYC,IAAiB7X,EAAAA,EAAAA,aAC7B0G,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,GACjCqQ,EAAMC,KAENC,GAAcjQ,EAAAA,EAAAA,cAAYC,UAC9B,MAAMuX,EAA4B,GAClC,IAAK,MAAMrL,KAAckL,EAAc,CACrC,MAAMnH,QAAcH,EAAII,QAAQhE,GAC3B+D,IACLsH,EAASrL,GAAc,IAAK+D,EAAM/D,eAEpC,OAAO2D,EAAY0H,KAClB,CAACH,EAActH,IAEZqE,GAAWpU,EAAAA,EAAAA,cAAYC,UAC3B,IAAKqF,GAAWA,EAAQzL,OAAS,GAAiB,eAAZyL,IAA6B8H,EACjE,OAAOmK,OAAclY,GACvB,IACE,MAAMoY,EAAc,IAAIC,GAAYtK,GACpC,GAAI7M,EAAAA,QAAAA,UAAkB+E,GAAU,CAC9B,MAAM4K,QAAauH,EAAYtX,cAAcmF,GAC7C,OAAOiS,EAAcrH,GAEvB,MAAMA,QAAauH,EAAY/W,KAAK4E,GACpC,OAAOiS,EAAcrH,GACrB,MAAOoB,GACPiG,OAAclY,MAEf,CAACiG,EAAS8H,IAgBb,OAdAjM,EAAAA,EAAAA,YAAU,KACR8O,MACC,CAACA,KAEJ9O,EAAAA,EAAAA,YAAU,KACJmE,GAAWA,EAAQzL,QAAU,GAAGyM,GAAW,GAC/C,MAAMqR,EAAgBjR,YAAWzG,gBAEzBmU,IACN9N,GAAW,KACV,KACH,MAAO,IAAMG,aAAakR,KACzB,CAACrS,EAAS8O,IAEN,CAAEkD,aAAYlR,YCxBvB,GAxBoBlJ,IAClB,MAAMS,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,QACjD0Z,EAAcO,IAAmBlY,EAAAA,EAAAA,UAAmB,IACrDqQ,EAAMC,KAEN6H,GAAgB7X,EAAAA,EAAAA,cAAYC,UAChC,MAAM6X,EAAcve,OAAOmF,KAAKf,GAChC,GAAa,aAATT,EAAqB,OAAO0a,EAAgBE,GAChD,MAAMpU,EAAY,GAClB,IAAK,MAAMtD,KAAWzC,EAAM,CAC1B,MAAMyP,QAAkB2C,EAAII,QAAQ/P,GAC/BgN,IACDA,EAAS1B,UAAYxO,GAAMwG,EAAUqC,KAAK3F,IAEhD,OAAOwX,EAAgBlU,KACtB,CAAC/F,EAAMoS,EAAK7S,IAMf,OAJAiE,EAAAA,EAAAA,YAAU,KACR0W,MACC,CAACA,IAEGR,GC6CT,GAzDgB,KACd,MAAOU,EAAYC,IAAiBtY,EAAAA,EAAAA,UAAS,eACtCxC,EAAMmZ,IAAW3W,EAAAA,EAAAA,UAAS,aAC1BuY,EAAWC,IAAgBxY,EAAAA,EAAAA,UAAS,KAEzC5B,KAAK,KAAEH,KACLC,EAAAA,EAAAA,cAAaC,GAAoBA,IAC/Bsa,EAAgBC,GAAWlb,GAE3Bmb,GAAmBpa,EAAAA,EAAAA,UAAQ,KAC/B,IAAKka,EAActe,OAAQ,MAAO,GAClC,GAAmB,eAAfke,EAA6B,OAAOI,EAExC,MAAMG,EAAkB,GACxB,IAAK,MAAMnM,KAAcgM,EAAe,CACtC,MAAM,OAAEtZ,GAAWlB,EAAKwO,GAClB8G,EAAc1Z,OAAOmF,KAAKG,GAAQ,GACpCkZ,IAAe9E,GAAaqF,EAAgBvS,KAAKoG,GAEvD,OAAOmM,IACN,CAACH,EAAexa,EAAMoa,KAEnB,WAAET,EAAF,QAAclR,GAAYmS,GAAaN,EAAWI,GAExD,OACE,UAAC,EAAAjc,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAjB,UACE,UAAC,EAAAxL,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,GAAD,CAAWtM,MAAO4B,EAAMmZ,QAASA,OAEnC,SAAC,EAAA9Z,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,GAAD,CAASuO,OAAQ6B,EAAe1c,MAAOyc,OAEzC,SAAC,EAAAxb,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAjB,UACE,SAAC,GAAD,CAAWwM,SAAU8D,EAAc9R,QAASA,YAIlD,SAAC,EAAA7J,IAAD,CAAKU,KAAM,OACVgb,EAAUpe,QAAU,IAAOyd,GAAeA,EAAWzd,QAKnDyd,GAAce,GAAkBrX,KAAKmL,IACpC,SAAC,EAAA5P,IAAD,CAAsB8B,GAAI,GAAIuJ,GAAI,GAAI4Q,GAAI,EAA1C,UACE,SAAC,KAAD,CAAU5d,OAAQ,OAAQ4K,OAAQ,EAAlC,UACE,SAAC,GAAD,CAAS2G,WAAYA,OAFfA,MALZ,SAAC,EAAA5P,IAAD,CAAKU,KAAM,GAAIJ,MAAO,CAAEE,UAAW,UAAnC,UACE,SAAC,EAAAiL,MAAD,WC3CRiD,UAAYlC,MAAF,KACRqC,EAoDJ,GAlDiB,KACf,MACE3B,QAAUrJ,QAAS2N,KACjBC,EAAAA,EAAAA,cAEFlQ,KAAK,KAAEH,KACLC,EAAAA,EAAAA,cAAaC,GAAoBA,IAC/B8U,GAAUC,EAAAA,EAAAA,cAEV6F,GAAexa,EAAAA,EAAAA,UACnB,IACE1E,OAAOmF,KAAKf,GAAMgG,QAAQ+U,IACxB,MAAM,UAAEC,GAAchb,EAAK+a,IAAa,GAClCE,EAAcD,EAAUlM,WAC9B,OAAOlM,EAAAA,QAAAA,UAAkBqY,IAAgBA,IAAgB7K,MAE7D,CAACpQ,EAAMoQ,IAGT,OAAM0K,EAAa5e,QAEf,SAAC,EAAAuC,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,SACGoc,EAAazX,KAAKmL,IACjB,SAAC,EAAA5P,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAI4Q,GAAI,EAAzB,UACE,SAAC,KAAD,CAAU5d,OAAQ,MAAlB,UACE,SAAC,GAAD,CAASuR,WAAYA,OAFQA,QAUvC,SAAC,EAAA/P,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,UACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAG,KAAD,CAAMC,UAAU,EAAOI,UAAW,CAAEC,QAAS,GAAIX,UAAW,UAA5D,UACE,UAAC,EAAAP,MAAD,CAAOC,UAAU,WAAWwG,MAAM,SAAlC,WACE,SAAC,EAAAtG,WAAA,KAAD,CAAiBO,KAAK,YAAtB,mCAGA,SAAC,EAAA+J,OAAD,CAAQzE,QAAS,IAAMmQ,EAAQ5M,KAAM,QAAOgD,kBAA5C,uCC7CVkC,UAAYlC,MAAF,KACRqC,EAwCJ,GAtCY,KACV,MAAMuH,GAAUC,EAAAA,EAAAA,cAEhB,OACE,UAAC,EAAAxW,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAD,OAEF,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAb,IAAD,CAAKE,QAAQ,SAAb,UACE,SAAC,EAAAC,IAAD,CAAK8B,GAAI,GAAIC,GAAI,GAAjB,UACE,UAAC,EAAAua,KAAD,CACEhc,MAAO,CAAEwG,SAAU,WACnBrG,UAAU,WACV8b,oBACE,SAAC,EAAA7R,OAAD,CACE/J,KAAK,UACLsF,QAAS,IAAMmQ,EAAQ5M,KAAM,QAAOgD,kBACpC5L,MAAM,SAAC,IAAD,CAASqB,KAAK,gBAHtB,0BAJJ,WAaE,SAAC,EAAAqa,KAAA,QAAD,CAAcE,IAAI,iBAAlB,UACE,SAAC,GAAD,KADqC,mBAGvC,SAAC,EAAAF,KAAA,QAAD,CAAcE,IAAI,YAAlB,UACE,SAAC,GAAD,KADgC,0BC9B1CC,GAAuC,CAC3CC,UAAW,UACXC,OAAQ,UACRC,UAAW,UACXC,SAAU,UACVC,OAAQ,WAcV,GAXuB,IAAsC,IAArC,OAAEC,GAAkC,EAC1D,OACE,SAAC,EAAApa,IAAD,CACErC,MAAO,CAAEkG,MAAOiW,GAAaM,GAAS/X,OAAQ,QAASpC,OAAQ,GAC/D4D,MAAO,cAFT,SAIGuW,K,6DCnBP,MAWA,GAXwB,IAAuD,IAAtD,MAAEC,EAAQ,GAAV,MAAcje,EAAQ,IAA+B,EAC5E,OACE,UAAC,EAAAc,IAAD,CAAK6G,MAAM,SAAS5G,OAAQ,CAAC,GAAI,IAAjC,WACE,SAAC,EAAAE,IAAD,CAAKqX,KAAK,OAAV,UACE,SAAC,EAAAjX,WAAA,KAAD,CAAiBO,KAAK,YAAtB,SAAmCqc,OAErC,SAAC,EAAAhd,IAAD,UAAMjB,QCMZ,GAhByB,IAOL,IAPM,MACxBie,EAAQ,GADgB,MAExBje,KACGke,GAIc,EACjB,OACE,UAAC,EAAAhd,MAAD,IAAWgd,EAAM/c,UAAU,WAA3B,WACE,SAAC,EAAAE,WAAA,KAAD,CAAiBO,KAAK,YAAtB,SAAmCqc,IAClCje,MCcP,GApByBgE,IACvB,MAAOma,EAAUC,IAAeha,EAAAA,EAAAA,eAA6BL,IACvD,YAAEsa,IAAgB/Z,EAAAA,EAAAA,WAElBga,GAAgB5Z,EAAAA,EAAAA,cAAYC,UAChC,IACE,MAAMwZ,QAAiBE,EAAYra,GACnC,OAAOoa,EAAYD,GACnB,MAAOI,GACP,OAAOH,OAAYra,MAEpB,CAACC,EAAaqa,IAMjB,OAJAxY,EAAAA,EAAAA,YAAU,KACRyY,MACC,CAACA,IAEGH,GCLHK,GAAyB,IAIxB,IAJyB,aAC9BC,GAGI,EACJ,MAAOC,EAAQC,IAAava,EAAAA,EAAAA,UAAS,YAC/B,KACJ0E,EAAO,GADH,OAEJtK,EAAS,GAFL,YAGJogB,EAAc,GAHV,OAIJ5V,EAAS,GACPyV,GAAgB,GACdN,EAAWU,GAAgB/V,IAAS,EAEpCgW,EAASna,UACbga,EAAU7Z,SACJia,EAAAA,EAAAA,IAAU,MAChBJ,EAAU,YAGZ,OACE,UAAC,EAAA7d,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CAAiBsc,MAAM,WAAWje,MAAM,oBAE1C,SAAC,EAAAiB,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEsc,MAAM,0BACNje,OACE,UAAC,EAAAkB,MAAD,YACE,SAAC,EAAD,CAAY8C,YAAa8E,KACzB,SAAC,EAAD,CAAY9E,YAAa8E,YAKjC,SAAC,EAAA7H,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEsc,MAAM,kBACNje,MAAQ8I,EAAc0I,EAAAA,MAAAA,aAAmBwN,OAAOhW,GAASmV,GAA1C,UAGnB,SAAC,EAAAld,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEsc,MAAM,0BACNje,OACE,UAAC,EAAAkB,MAAD,CAAOE,KAAM,GAAb,WACE,SAAC,EAAAC,WAAA,KAAD,CACEE,MAAO,CAAE6F,OAAQ,UAAW6X,eAAgB,aAC5C/X,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS1gB,GAAS,UAF/C,UAIGka,EAAAA,EAAAA,IAAela,MAElB,SAAC,EAAA+Z,QAAD,CAASrZ,MAAM,SAAS4K,QAAS4U,IAAWlgB,EAA5C,UACE,SAAC,KAAD,CAAiB2gB,KAAM3gB,EAAvB,UACE,SAAC,IAAD,CACE+C,MAAO,CAAE6F,OAAQ,WACjBlE,KAAK,eACLgE,QAAS,IAAM4X,EAAOtgB,iBAQpC,SAAC,EAAAyC,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEsc,MAAM,4BACNje,OACE,UAAC,EAAAkB,MAAD,CAAOE,KAAM,GAAb,WACE,SAAC,EAAAC,WAAA,KAAD,CACEE,MAAO,CAAE6F,OAAQ,UAAW6X,eAAgB,aAC5C/X,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAASN,GAAc,UAFpD,UAIGlG,EAAAA,EAAAA,IAAekG,MAElB,SAAC,EAAArG,QAAD,CAASrZ,MAAM,SAAS4K,QAAS4U,IAAWE,EAA5C,UACE,SAAC,KAAD,CAAiBO,KAAMP,EAAvB,UACE,SAAC,IAAD,CACErd,MAAO,CAAE6F,OAAQ,WACjBlE,KAAK,eACLgE,QAAS,IAAM4X,EAAOF,oBAWpCQ,GAA0B,IAMzB,IAN0B,aAC/BX,EAD+B,QAE/BY,GAII,EACJ,MAAM,KAAEvW,EAAO,GAAT,OAAaE,EAAS,GAAMyV,GAAgB,GAC5CN,EAAWU,GAAgB/V,IAAS,EAE1C,OACE,UAAC,EAAAhI,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,GAAD,CACE2R,MAAM,WACNje,OACE,SAAC,EAAAqB,WAAA,KAAD,CAAiBK,UAAU,OAA3B,+BAIN,SAAC,EAAAT,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,GAAD,CACE2R,MAAM,0BACNje,OACE,SAAC,EAAAqB,WAAA,KAAD,CAAiBK,UAAU,OAA3B,UACE,UAAC,EAAAR,MAAD,YACE,SAAC,EAAD,CAAY8C,YAAa8E,KACzB,SAAC,EAAD,CAAY9E,YAAa8E,cAMnC,SAAC,EAAA7H,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,GAAD,CACE5K,UAAU,OACVuc,MAAM,kBACNje,MAAQ8I,EAAc0I,EAAAA,MAAAA,aAAmBwN,OAAOhW,GAASmV,GAA1C,UAGnB,SAAC,EAAAld,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,GAAD,CACE2R,MAAM,WACNje,MACEqf,IACE,SAAC,EAAAhe,WAAA,KAAD,CAAiBK,UAAU,OAA3B,SACG4d,KAAOD,GAAShc,OAAO,mCA0BxC,GAhByB,IAQlB,IARmB,iBACxBkc,EADwB,aAExBd,EAFwB,QAGxBY,GAKI,EACJ,OAAIE,GACK,SAACf,GAAD,CAAwBC,aAAcA,KAE7C,SAACW,GAAD,CAAyBC,QAASA,EAASZ,aAAcA,MC/K3D5O,KAAOX,SAAF,KACHY,EAYES,GAAO,WAOAiP,IAAe5O,EAAAA,EAAAA,kBACzB,yBACDjM,UACE,MAAM,QAAEM,GAAYiK,GAASoC,QAC7B,IAAIyI,EAAsB,GAE1B,MAAM0F,QAAkBxa,EAAQxC,SAASgD,MACzC,IAAK,MAAM,UAAEqJ,EAAW7J,QAASya,KAAkBD,EAAW,CAE5D1F,EADgBjL,EAAUqC,YACVuO,EAElB,OAAO3F,KAIE4F,IAAc/O,EAAAA,EAAAA,kBAIxB,wBAAsBjM,MAAA,OAA6C,IAAtC,QAAEG,EAAF,MAAWgM,GAA0B,GAAjB,SAAEC,GAAe,EACnE,IAAK9L,EAAAA,QAAAA,UAAkBH,GAAU,MAAM,IAAIkM,MAAM,mBACjD,MACExO,KAAO,CAACsC,GAAU8P,IAChB7D,IACJ,GAAI6D,IAAS9D,EAAO,MAAO,CAAE,CAAChM,GAAU8P,GAExC,MAAO,CAAE,CAAC9P,SADQoK,GAAS0Q,gBAAgB9a,OAIhC+a,IAAgBjP,EAAAA,EAAAA,kBAI1B,0BAAwBjM,UAA8B,IAAvB,QAAEG,EAAF,KAAW8P,GAAW,EACtD,IAAK3P,EAAAA,QAAAA,UAAkBH,GAAU,MAAM,IAAIkM,MAAM,mBACjD,IAAK4D,EAAM,MAAM,IAAI5D,MAAM,iBAC3B,MAAO,CAAE,CAAClM,GAAU8P,MAGTkL,IAAiBlP,EAAAA,EAAAA,kBAC3B,2BACDjM,UAA6C,IAAtC,QAAEG,GAAmC,EAC1C,IAAKG,EAAAA,QAAAA,UAAkBH,GAAU,MAAM,IAAIkM,MAAM,mBACjD,MAAO,CAAElM,cAgCb,IAxBciN,EAAAA,EAAAA,aAAY,CACxB7O,KAAMqN,GACNC,aA3DkC,GA4DlCwB,SAAU,GACVC,cAAgBC,IACTA,EACFC,QACCqN,GAAapN,WACb,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,MAEnDF,QACCwN,GAAYvN,WACZ,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,MAEnDF,QACC0N,GAAczN,WACd,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,MAEnDF,QACC2N,GAAe1N,WACf,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,SAI1D,QC7EA,GAjBoB,CAAC0N,EAAyBlP,KAC5C,MAAMyB,GAAWC,EAAAA,EAAAA,eACXkN,GAAYnd,EAAAA,EAAAA,cAAaC,GAAoBA,EAAME,WAEnDid,GAAe/c,EAAAA,EAAAA,UACnB,IAAM8c,EAAUM,IAAqB,IACrC,CAACN,EAAWM,IAQd,OALAla,EAAAA,EAAAA,YAAU,MACH6Z,GAAgBza,EAAAA,QAAAA,UAAkB8a,IACrCzN,EAASqN,GAAY,CAAE7a,QAASib,OACjC,CAAClP,EAAY6O,EAAcpN,EAAUyN,IAEjC,IAAKL,ICoDd,GA3DqB,IAKK,IALJ,gBACpBK,EADoB,WAEpBlP,EAFoB,iBAGpB0O,GAAmB,EAHC,QAIpBF,GACuB,EACvB,MAAOZ,EAAcuB,IAAmB5b,EAAAA,EAAAA,aACjC6b,EAAcC,IAAmB9b,EAAAA,EAAAA,UAAS,KAE3C,SAAEsE,EAAF,KAAYkM,GAASuL,GAAYJ,EAAiBlP,GAClDuP,GAAoB1b,EAAAA,EAAAA,cAAYC,UACpC,IAAK+D,IAAakM,EAAM,OACxB,MAAMyL,GAAOC,EAAAA,GAAAA,sBACX5X,EACAkM,GAEF,GAAKyL,IACLH,EAAgBG,EAAKnd,MACH,aAAdmd,EAAKnd,MAAqB,CAAC,IAAD,MAC5B,MAAM,KAAEqd,GAAStS,OAAOC,OAClBsS,GACJ,UAAAH,EAAK3X,SAASxI,IAAI,iBAAlB,eAA6B+Z,OAAO9I,aAAc,GAC9CsP,GACJ,UAAAJ,EAAK3X,SAASxI,IAAI,oBAAlB,eAAgC+Z,OAAO9I,aAAc,GACjDyN,GACJ,UAAAyB,EAAK3X,SAASxI,IAAI,sBAAlB,eAAkC+Z,OAAO9I,aAAc,IACnD,OAAEnI,GAAWqX,EAAKzL,KACxB,IAAI5Q,EAAc,GAElB,IACE,MAAM,KAAE8E,SAAeyX,EAAKG,eAAeF,GAC3Cxc,EAAc8E,EACd,MAAO6X,GACP3c,EAAc,GAEhB,OAAOgc,EAAgB,CACrBxhB,OAAQiiB,EACR7B,cACA5V,OAAQA,EAAO4X,WACf9X,KAAM9E,OAGT,CAAC0E,EAAUkM,IAMd,OAJA/O,EAAAA,EAAAA,YAAU,KACRua,MACC,CAACA,IAEiB,aAAjBH,GAEA,SAAC,GAAD,CACEV,iBAAkBA,EAClBd,aAAcA,EACdY,QAASA,KAGR,SAAC,EAAAvX,SAAD,KC9DH+Y,GAAc3T,KAAK4T,MAAM/X,OAAO,IAAIgY,MAAU,KAwDpD,GAtD2BhB,IACzB,MAAM,SAAEtd,IAAaH,EAAAA,EAAAA,cAAaC,GAAoBA,KAChD,UACJye,EADI,QAEJC,EAFI,SAGJne,EAHI,OAIJ4W,EAJI,mBAKJwH,EALI,eAMJC,EANI,gBAOJC,EAPI,mBAQJC,GACE5e,EAASsd,IAAqB,GAE5BuB,GAAe3e,EAAAA,EAAAA,UAAQ,KAC3B,IAAK+W,EAAQ,OAAO,IAAI1M,IAAJ,CAAO,GAI3B,MAAkB,wBAHAqU,EACdpjB,OAAOmF,KAAKie,GAAoB,GAChC,IAC2C3H,EACxCA,EAAO6H,IAAIN,EAAQO,IAAIR,MAC7B,CAACK,EAAoBJ,EAASD,EAAWtH,IAEtC+H,GAAY9e,EAAAA,EAAAA,UAAQ,KACxB,MAAM+e,EAASN,EAAkBnjB,OAAOmF,KAAKge,GAAiB,GAAK,GACnE,IAAKF,IAAuBA,EAAoB,OAAO,EACvD,MAAMS,EAAcR,EAAeK,IAAIN,GAEvC,OAAIS,EAAYC,IAAI,IAAI5U,IAAJ,CAAO,MACZ,SAAX0U,GAAsE,IAAjDC,EAAYE,IAAIP,EAAaQ,IAAI,IAAI9U,IAAJ,CAAO,OAGpD,aAAX0U,GACiD,IAAjDC,EAAYE,IAAIP,EAAaQ,IAAI,IAAI9U,IAAJ,CAAO,MAI7B,aAAX0U,GACgE,IAAhEC,EAAYE,IAAIP,EAAaC,IAAI,IAAIvU,IAAJ,CAAO,IAAI8U,IAAI,IAAI9U,IAAJ,CAAO,SAIxD,CAACsU,EAAcF,EAAiBF,EAAoBC,IAUvD,MAAO,CAAEnD,QAR0Brb,EAAAA,EAAAA,UAAQ,IACrCke,GAAc9X,OAAOiY,GAAmB,YACxCH,GAAc9X,OAAOkY,GAAiB,SACtCne,EAAiB,WACjB2e,EAAkB,YACf,UACN,CAACR,EAASne,EAAU2e,EAAWT,IAEjBS,YAAWH,iBC9B9B,GAxB6BvB,IAC3B,MAAOjO,EAAU0C,IAAepQ,EAAAA,EAAAA,aAC1B,SAAE3B,IAAaH,EAAAA,EAAAA,cAAaC,GAAoBA,KAC9C0O,SAAUoC,GAAW5Q,EAASsd,IAAoB,GAEpDpL,GAAcjQ,EAAAA,EAAAA,cAAYC,UAC9B,IAAK0O,EAAQ,OAAOmB,OAAYzQ,GAChC,MAAM+Q,EAAM1B,GAAOC,GACbiB,EAAO,IAAIC,GAAAA,EACjB,IACE,MAAMK,QAAaN,EAAKpU,IAAI4U,GAC5B,OAAON,EAAYI,GACnB,MAAO2J,GACP,OAAOtQ,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAasO,EAAGwD,aAEvD,CAAC1O,IAMJ,OAJAxN,EAAAA,EAAAA,YAAU,KACR8O,MACC,CAACA,IAEG7C,ICVPnC,UAAYlC,MAAF,KACRqC,EAIEkS,GAAsC,CAC1CC,a,shVAGIpB,GAAc3T,KAAK4T,MAAM/X,OAAO,IAAIgY,MAAU,KAuEpD,GArEqB,IAGU,IAHT,gBACpBhB,EADoB,WAEpBlP,GAC4B,EAC5B,MAAM,SAAEpO,IAAaH,EAAAA,EAAAA,cAAaC,GAAoBA,KAChD,IAAEC,EAAF,QAAOye,GAAYxe,EAASsd,IAAoB,CACpDvd,IAAK0f,EAAAA,cAAAA,UACLjB,QAAS,IAAIjU,IAAJ,CAAO6T,MAEZ,OAAE7C,GAAWmE,GAAkBpC,GAC/B1I,GAAUC,EAAAA,EAAAA,cACVxF,EAAWsQ,GAAoBrC,GAC/BV,EAA4B,IAAlBtW,OAAOkY,GAEvB,OACE,SAAC,EAAAnf,KAAD,CACEC,UAAU,EACVmF,QAAS,IACPmQ,EAAQ5M,KACL,QAAOgD,UAAajL,EAAI2O,uBAAuB4O,KAGpDre,UAAU,gBACVH,MAAO,CACLS,WAAa8P,EAER,OAAMkQ,GAAYlQ,EAASmO,iBAD5B,SAGN9d,UAAW,CAAEC,QAAS,UACtBigB,WAAS,EAdX,UAgBE,UAAC,EAAAvhB,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,YACE,SAAC,EAAAG,IAAD,CAAKqX,KAAK,OAAV,UACE,SAAC,EAAAjX,WAAA,MAAD,CAAkBC,MAAO,EAAzB,SACW,OAARwQ,QAAQ,IAARA,GAAAA,EAAU5S,MACP4S,EAAS5S,OACTwZ,EAAAA,EAAAA,IAAeqH,QAGvB,SAAC,EAAA9e,IAAD,WACE,SAAC,GAAD,CAAgB+c,OAAQA,YAI9B,SAAC,EAAA/c,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAjB,UACE,SAAC,GAAD,CACEiT,kBAAkB,EAClBQ,gBAAiBA,EACjBlP,WAAYA,EACZwO,QAASA,OAIb,SAAC,EAAApe,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,UAAD,CACEE,MAAO,CAAEsC,OAAQ,GACjBjC,KAAK,YACL4F,SAAU,CAAEiR,KAAM,GAHpB,gBAKG3G,QALH,IAKGA,OALH,EAKGA,EAAU7B,sB,gBCzEvB,MAAMM,GAAO,WACPC,GAA8B,CAClC1G,SAAS,EACT2E,QAAI1K,EACJkc,aAAc,IAOHlW,IAAa6G,EAAAA,EAAAA,kBACvB,uBACDjM,UACS,CAAEmF,cAIAwY,IAAQ1R,EAAAA,EAAAA,kBAClB,kBACDjM,UACS,CAAE8J,SAIA8T,IAAU3R,EAAAA,EAAAA,kBAAkB,oBAAkBjM,UAClD,CAAE8J,QAAI1K,MAGFmc,IAAkBtP,EAAAA,EAAAA,kBAC5B,4BACDjM,UACS,CAAEsb,aAAc/c,MAgC3B,IAxBc6O,EAAAA,EAAAA,aAAY,CACxB7O,KAAMqN,GACNC,aAFwB,GAGxBwB,SAAU,GACVC,cAAgBC,IACTA,EACFC,QACCpI,GAAWqI,WACX,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,MAEnDF,QACCmQ,GAAMlQ,WACN,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,MAEnDF,QACC+N,GAAgB9N,WAChB,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,MAEnDF,QACCoQ,GAAQnQ,WACR,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,SAI1D,QC7EA,IAAImQ,GAUJ,MAiEA,IAjEqBC,EAAAA,EAAAA,aACnB,CAAC,EAUC/iB,KACI,IAAD,MAVH,IACEgjB,EADF,QAEEC,EAAU,SAFZ,SAGE/Y,EAAW,YACRxK,GAMF,EACH,MAAOuhB,EAAOiC,IAAYxe,EAAAA,EAAAA,UAAS,KAC5BgD,EAAQyb,IAAaze,EAAAA,EAAAA,UAAwB,MAC9C0e,GAAWC,EAAAA,EAAAA,QAAOrjB,GAGlBsjB,GAAWte,EAAAA,EAAAA,cACdue,IACC,MAAMC,EAAW3E,IACXiE,KACFrX,aAAaqX,IACbA,QAAYze,GAEd6e,EAASrE,GACTiE,GAAYpX,YAAW,IAAMwX,EAAS,KAAK,MAG7C,MADY,gBACHhP,KAAKqP,GACVP,GAAOS,WAAWF,GAAOE,WAAWT,EAAIzZ,YACnCia,EAAQ,sBACVP,EAAQM,GAHYC,EAAQ,uBAKrC,CAACR,EAAKC,IAOR,OAFe,OAAXvb,IAAyB,OAAR0b,QAAQ,IAARA,GAAA,UAAAA,EAAUM,eAAV,SAAmBC,kBAAkBjc,EAAQA,KAGhE,SAAC,EAAAmR,QAAD,CACErZ,OACE,UAAC,EAAAgC,MAAD,YACE,SAAC,IAAD,CAASgC,KAAK,YACbyd,KAGL7W,UAAW6W,EAPb,UASE,SAAC,EAAA1U,MAAD,IACM7M,EACJwK,SAAWyC,IACTzC,EAASyC,GACTwW,EAAUxW,EAAEjO,OAAOklB,gBACnBN,EAAS3W,EAAEjO,OAAO4B,OAAS,KAE7BN,IAAKojB,UC9CbnT,UAAYlC,MAAF,KACRqC,EAISyT,GAAS,WAAyB,IAAxBva,EAAuB,uDAAd,IAAIgE,IAAJ,CAAO,GACrC,MAAMwW,EAAS,CACb,CAAE/kB,IAAK,OAAQmD,KAAM,MACrB,CAAEnD,IAAK,SAAUmD,KAAM,QAEnBiL,EAAM,IAAI4W,GAAAA,OAAiBD,EAAQ,CACvCE,KAAM,EACN1a,OAAQgW,OAAOhW,EAAOC,cACrB0a,WACH,OAAO9W,GAsMT,GA7J0B,IAAkD,IAAjD,WAAEgE,EAAa,IAAiC,EACzE,MAAO7Q,EAAO4jB,IAAYxf,EAAAA,EAAAA,UAAS,KAC5BJ,EAAa6f,IAAkBzf,EAAAA,EAAAA,UAAS,KACxC0f,EAAiBC,IAAsB3f,EAAAA,EAAAA,UAAS,KAChD4f,EAAYC,IAAiB7f,EAAAA,EAAAA,UAAS,KACtC8f,EAAYC,IAAiB/f,EAAAA,EAAAA,UAAS,KAEtC4E,EAAQob,IAAahgB,EAAAA,EAAAA,UAAS,IAC/BigB,GAAU/hB,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,OACrD8b,EAAWU,GAAgB7a,GAC3BsO,GAAWC,EAAAA,EAAAA,eACX8E,GAAUC,EAAAA,EAAAA,cACVgN,EAAcnO,GAAYtF,GAE1B0T,GAAgB5hB,EAAAA,EAAAA,UAAQ,KAC5B,MAAM,OAAE6hB,GAAWH,EAAQxT,IAAe,GAC1C,OAAa,OAAN2T,QAAM,IAANA,OAAA,EAAAA,EAAQrT,aAAc,KAC5B,CAACkT,EAASxT,IAEP6F,GAAQ/T,EAAAA,EAAAA,UAAQ,IACb2E,QACL0B,GAAU/D,EAAAA,QAAAA,UAAkB+e,IAAe/e,EAAAA,QAAAA,UAAkBif,KAE9D,CAAClb,EAAQgb,EAAYE,IAElBO,GAAU/f,EAAAA,EAAAA,cAAYC,UAC1B,IAAK+R,EAAO,OAAOpE,EAASgQ,QAAMve,IAClC,MAAM2gB,EAjE2B,EACnC1b,EACAjD,EACA4e,EACAC,KAEkC,CAChC1hB,KArBgB,eAsBhB0R,KAAM2O,GAAO,IAAIvW,IAAJ,CAAOhE,IACpBN,SAAU,CACR3C,IAAK,CACHkU,OAAQ,IAAI5L,EAAAA,UAAUtI,GACtB8e,YAAY,EACZC,UAAU,EACVC,UAAU,GAEZJ,IAAK,CACH1K,OAAQ,IAAI5L,EAAAA,UAAUsW,GACtBE,YAAY,EACZC,UAAU,EACVC,UAAU,GAEZH,MAAO,CACL3K,OAAQ,IAAI5L,EAAAA,UAAUuW,GACtBC,YAAY,EACZC,UAAU,EACVC,UAAU,IAGdlL,UAAWrI,EAAAA,MAAAA,MAAAA,mBAoCAwT,CACThc,EACAgb,EACAE,EACAK,GAMF,aAHMjS,EAASgQ,GAAMoC,UACfpS,EAAS4N,GAAgB+E,GAAUC,qBACnC5S,EAASvI,IAAW,IACnBsN,EAAQ5M,KAAM,QAAOgD,UAAaoD,oBACxC,CACD6F,EACApE,EACAtJ,EACAgb,EACAE,EACAK,EACAlN,EACAxG,IAGIsU,GAAQzgB,EAAAA,EAAAA,cAAYC,UACxBif,EAAS,IACTC,EAAe,IACfE,EAAmB,UACbzR,EAASgQ,QAAMve,IACduO,EAASvI,IAAW,MAC1B,CAACuI,IAEE8S,GAAmB1gB,EAAAA,EAAAA,cAAYC,UACnC,GAAIM,EAAAA,QAAAA,UAAkBsf,IAAkBtf,EAAAA,QAAAA,UAAkBjB,GAAc,CACtE,MAAMiW,QAAezI,EAAAA,MAAAA,MAAAA,kBAA8B,CACjD6T,MAAO,IAAIhX,EAAAA,UAAUkW,GACrBzb,KAAM,IAAIuF,EAAAA,UAAUrK,KAEtBigB,EAAchK,EAAO9I,iBAChB8S,EAAc,MACpB,CAACjgB,EAAaugB,IAEXe,GAAwB5gB,EAAAA,EAAAA,cAAYC,UACxC,GAAIM,EAAAA,QAAAA,UAAkB6e,IAAoB7e,EAAAA,QAAAA,UAAkBjB,GAAc,CACxE,MAAMiW,QAAezI,EAAAA,MAAAA,MAAAA,kBAA8B,CACjD6T,MAAO,IAAIhX,EAAAA,UAAUyV,GACrBhb,KAAM,IAAIuF,EAAAA,UAAUrK,KAEtBmgB,EAAclK,EAAO9I,iBAChBgT,EAAc,MACpB,CAACngB,EAAa8f,IAEXyB,GAAY7gB,EAAAA,EAAAA,cAAY,KACxBqE,OAAO/I,IAAUme,EACnBiG,EAAUoB,OAAOzc,OAAO/I,GAAS,IAAMme,IACpCiG,EAAU,MACd,CAACjG,EAAUne,IAcd,OAZA6F,EAAAA,EAAAA,YAAU,KACRuf,MACC,CAACA,KAEJvf,EAAAA,EAAAA,YAAU,KACRyf,MACC,CAACA,KAEJzf,EAAAA,EAAAA,YAAU,KACR0f,MACC,CAACA,KAGF,UAAC,EAAAzkB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAWC,KAAM,EAAGG,MAAO,CAAElC,MAAO,QAArD,WACE,SAAC,EAAAgC,WAAA,KAAD,CAAiBO,KAAK,YAAtB,uBACA,SAAC,GAAD,CACEF,UAAU,cACVwK,YAAY,eACZlM,MAAOA,EACP2iB,QAAU3iB,GAAU4jB,EAAS5jB,GAAS,IACtC+Y,QACE,SAAC,EAAD,CACE/Y,MAAOgE,EACP4F,SAAUia,EACVtiB,MAAO,CAAEoX,YAAa,aAMhC,SAAC,EAAA1X,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAWC,KAAM,EAAGG,MAAO,CAAElC,MAAO,QAArD,WACE,SAAC,EAAAgC,WAAA,KAAD,CAAiBO,KAAK,YAAtB,sCAGA,SAAC,EAAAqK,MAAD,CACEvK,UAAU,cACVwK,YAAY,gCACZlM,MAAOukB,EACP1a,SAAmC,kBAAd,OAAXya,QAAW,IAAXA,OAAA,EAAAA,EAAalU,iBAI7B,SAAC,EAAAnP,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAWC,KAAM,EAAGG,MAAO,CAAElC,MAAO,QAArD,WACE,SAAC,EAAAgC,WAAA,KAAD,CAAiBO,KAAK,YAAtB,wCAGA,SAAC,EAAAqK,MAAD,CACEvK,UAAU,cACVwK,YAAY,kCACZlM,MAAO8jB,EACPla,SAAWyC,GAAM0X,EAAmB1X,EAAEjO,OAAO4B,OAAS,YAI5D,SAAC,EAAAiB,IAAD,CAAKU,KAAM,MACX,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAIJ,MAAO,CAAEE,UAAW,SAAnC,UACE,UAAC,EAAAP,MAAD,YACE,SAAC,EAAAyK,OAAD,CAAQ/J,KAAK,OAAOsF,QAASie,EAA7B,oBAGA,SAAC,EAAAxZ,OAAD,CAAQ/J,KAAK,UAAUsF,QAASud,EAAS5a,UAAW6M,EAApD,+BC/JV,MACA,GAAe,IAA0B,2DC3DnC+O,GAAa,IAAoD,IAAnD,MAAExH,EAAF,YAAShO,EAAT,KAAsBpO,GAA4B,EACpE,OACE,UAAC,EAAAf,IAAD,YACE,SAAC,EAAAG,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,YACE,SAAC,EAAAG,IAAD,CAAKqX,KAAK,OAAV,UACE,SAAC,EAAAjX,WAAA,MAAD,CAAkBC,MAAO,EAAzB,SAA6B2c,OAE/B,SAAC,EAAAhd,IAAD,WACE,SAAC,IAAD,CAASM,MAAO,CAAEC,SAAU,IAAM0B,KAAMrB,YAI9C,SAAC,EAAAZ,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,KAAD,CAAiBO,KAAK,YAAtB,SAAmCqO,UA6E3C,GAvEY,IAA6C,IAA5C,WAAEY,GAAyC,EACtD,OACE,UAAC,EAAA/P,IAAD,YACE,SAAC,EAAAG,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAI5K,UAAU,gBAA/B,UACE,UAAC,EAAAZ,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAKW,UAAU,WAAjC,WACE,SAAC,EAAAT,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOE,KAAM,GAAb,WACE,SAAC,EAAA6W,MAAD,CAAOC,SAAS,EAAOnS,IAAK2f,MAC5B,UAAC,EAAAxkB,MAAD,CAAOE,KAAM,EAAGD,UAAU,WAA1B,WACE,SAAC,EAAAE,WAAA,KAAD,sCACA,UAAC,EAAAH,MAAD,CAAOE,KAAM,EAAGG,MAAO,CAAEoX,YAAa,GAAtC,WACE,SAAC,EAAAhN,OAAD,CAAQ/J,KAAK,OAAOC,MAAM,SAAC,IAAD,CAASqB,KAAK,oBACxC,SAAC,EAAAyI,OAAD,CAAQ/J,KAAK,OAAOC,MAAM,SAAC,IAAD,CAASqB,KAAK,oBACxC,SAAC,EAAAyI,OAAD,CAAQ/J,KAAK,OAAOC,MAAM,SAAC,IAAD,CAASqB,KAAK,gCAKhD,SAAC,EAAAjC,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,UAAD,CACEO,KAAK,YACL4F,SAAU,CAAEiR,KAAM,EAAGkN,YAAY,EAAM/e,OAAQ,aAFjD,wXAYF,SAAC,EAAA3F,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAWI,MAAO,CAAElC,MAAO,QAA5C,WACE,SAAC,EAAAgC,WAAA,KAAD,yBACA,SAAC,EAAAukB,MAAA,MAAD,CACE5lB,MAAM,WACNuB,MAAO,CAAElC,MAAO,QAChBqC,UAAU,oBAHZ,UAKE,UAAC,EAAAZ,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAK8B,GAAI,GAAIE,GAAI,GAAIqJ,GAAI,GAAItJ,GAAI,GAAjC,UACE,SAAC,EAAA4iB,MAAA,OAAD,CAAc5lB,MAAM,WAApB,UACE,SAACylB,GAAD,CACExH,MAAM,WACNhO,YAAY,2CACZpO,KAAK,6BAIX,SAAC,EAAAZ,IAAD,CAAK8B,GAAI,GAAIE,GAAI,GAAIqJ,GAAI,GAAItJ,GAAI,GAAjC,UACE,SAAC,EAAA4iB,MAAA,OAAD,CAAc5lB,MAAM,UAAU6J,UAAQ,EAAtC,UACE,SAAC4b,GAAD,CACExH,MAAM,UACNhO,YAAY,cACZpO,KAAK,0CAUvB,SAAC,EAAAZ,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAG5K,UAAU,sBAA9B,UACE,SAAC,GAAD,CAAmBmP,WAAYA,UCtFhC,IAAKoU,IAAZ,SAAYA,GAAAA,EAAAA,aAAAA,eAAZ,CAAYA,KAAAA,GAAAA,KAIZ,MAmCA,GAnCiB,IAA6C,IAA5C,WAAEpU,GAAyC,EAC3D,MACEgV,UAAU,QAAE/b,KACVxH,EAAAA,EAAAA,cAAaC,GAAoBA,IAC/B+P,GAAWC,EAAAA,EAAAA,eAEjB,OACE,SAAC,EAAA3G,MAAD,CACE9B,QAASA,EACTgC,QAAQ,EACRga,WAAW,SAAC,IAAD,CAAS5iB,KAAK,kBACzBxB,UAAU,+BACVmK,SAAU,IAAMyG,EAASvI,IAAW,IALtC,UAOE,UAAC,EAAAjJ,IAAD,YACE,SAAC,EAAAG,IAAD,CAAKU,KAAM,GAAID,UAAU,kBAAzB,UACE,SAAC,EAAAL,WAAA,MAAD,CAAkBC,MAAO,EAAzB,kCAEF,SAAC,EAAAL,IAAD,CAAKS,UAAU,gBAAgBC,KAAM,GAArC,UACE,UAAC,EAAA4b,KAAD,YACE,SAAC,EAAAA,KAAA,QAAD,CAAcE,IAAI,MAAlB,UACE,SAAC,GAAD,CAAK5M,WAAYA,KADS,QAG5B,SAAC,EAAA0M,KAAA,QAAD,CAAcE,IAAI,QAAoB5T,UAAQ,GAAhB,UAE9B,SAAC,EAAA0T,KAAA,QAAD,CAAcE,IAAI,SAAsB5T,UAAQ,GAAjB,WAE/B,SAAC,EAAA0T,KAAA,QAAD,CAAcE,IAAI,WAA0B5T,UAAQ,GAAnB,uBCxBvCgX,GAAc3T,KAAK4T,MAAM/X,OAAO,IAAIgY,MAAU,KAiLpD,GA/KqB,IAAwC,IAAvC,WAAElQ,GAAoC,EAC1D,MAAOmN,EAAQ+H,IAAa3hB,EAAAA,EAAAA,UAAS,eAC/B,SACJ3B,EACAD,KAAK,KAAEH,KACLC,EAAAA,EAAAA,cAAaC,GAAoBA,IAC/B+P,GAAWC,EAAAA,EAAAA,gBAEfpE,QAAUrJ,QAAS2N,KACjBC,EAAAA,EAAAA,cAEF6E,IAAI,MAAElY,KACJmY,EAAAA,EAAAA,UAEE,OAAEjU,EAAF,UAAU8Z,GAAchb,EAAKwO,IAAe,CAChDtN,OAAQI,EAAAA,WAAAA,YACR0Z,UAAW6E,EAAAA,cAAAA,WAEP8D,EAAe3mB,EAAQ,IAEvBoiB,GAAY/c,EAAAA,EAAAA,cAChB,CAACgd,EAAgBC,EAAqBsE,MAChCtE,GAAe,KACJ,SAAXD,GAAqBC,GAAesE,EAAY,IACrC,aAAXvE,GAAyBC,GAAesE,EAAY,GACzC,aAAXvE,GAAyBC,GAA4B,EAAZsE,EAAiB,KAIhE,IAGIC,GAAavjB,EAAAA,EAAAA,UAAQ,MACrBe,IAAQH,EAAQI,EAAAA,WAAAA,gBAChBD,IAAQH,EAAQI,EAAAA,WAAAA,aAChB0Z,EAAUlM,aAAesB,IAE5B,CAAClP,EAAQ8Z,EAAW5K,IAEjB0T,GAAoBxjB,EAAAA,EAAAA,UAAQ,IACP1E,OAAOmF,KAAKX,GAAUiD,KAAKZ,IAAD,CACjDA,aACGrC,EAASqC,OAGXuD,QAAO,QAAC,IAAE7F,GAAH,SAAaA,EAAI2O,aAAeN,KACvCnL,KAAI,QAAC,QAAEZ,GAAH,SAAiBA,MACvB,CAACrC,EAAUoO,IAERuV,GAA0BzjB,EAAAA,EAAAA,UAAQ,KACtC,IAAKwjB,EAAkB5nB,OAAQ,MAAO,GACtC,MAAMye,EAAkB,GAExB,IAAK,MAAMlY,KAAWqhB,EAAmB,CACvC,IAAIzP,GAAQ,EACZ,MAAM,QACJuK,EADI,UAEJD,EAFI,SAGJle,EAHI,OAIJ4W,EAJI,eAKJyH,EALI,gBAMJC,EANI,mBAOJC,EAPI,mBAQJH,GACEze,EAASqC,IAAY,GAEnB4c,EAASN,EAAkBnjB,OAAOmF,KAAKge,GAAiB,GAAK,GAC7DO,EAAc5Y,OAAOoY,GAAkBpY,OAAOmY,GAC9CmF,EAActd,OAAO2Q,IAAW,EAChC4M,EAAavd,OAAO2Q,IAAW3Q,OAAOkY,GAAWlY,OAAOiY,IAIxDM,EACU,wBAJED,EACdpjB,OAAOmF,KAAKie,GAAoB,GAChC,IAEmCgF,EAAcC,EAErD,OAAQtI,GACN,IAAK,YACHtH,EAAQmK,GAAc9X,OAAOiY,GAC7B,MACF,IAAK,SACHtK,EACEmK,IAAe9X,OAAOkY,IAAYJ,IAAe9X,OAAOiY,GAC1D,MACF,IAAK,WACHtK,EAAQ5T,EACR,MACF,IAAK,YACH4T,EACE+K,EAAUC,EAAQC,EAAaL,KAC9Bxe,GACD+d,GAAc9X,OAAOkY,GACvB,MACF,IAAK,SACHvK,GACG+K,EAAUC,EAAQC,EAAaL,IAChCT,GAAc9X,OAAOkY,GACvB,MACF,QACEvK,GAAQ,EAGRA,GAAOsG,EAAgBvS,KAAK3F,GAElC,OAAOkY,IACN,CAACyE,EAAWhf,EAAU0jB,EAAmBnI,IAO5C,OALAnY,EAAAA,EAAAA,YAAU,KAERoI,OAAOsY,SAAS,EAAG,KAClB,KAGD,UAAC,EAAAzlB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAK4G,MAAM,SAA7B,WACE,SAAC,EAAA1G,IAAD,CACEU,KAAMqkB,EAAe,QAAKjiB,EAC1BuU,KAAM0N,OAAejiB,EAAY,OAFnC,UAIE,SAAC,EAAA1C,WAAA,MAAD,CAAkBC,MAAO,EAAzB,0BAEF,SAAC,EAAAL,IAAD,CAAKU,KAAMqkB,EAAe,QAAKjiB,EAA/B,UACE,UAAC,EAAA+W,OAAD,CACEpZ,UAAU,yBACV8kB,aAAa,aACb5c,SAAUmc,EACVxkB,MAAO,CAAElC,MAAO,OAAQonB,SAAU,KAJpC,WAME,SAAC,EAAA3L,OAAA,OAAD,CAAe9a,MAAM,aAArB,yBACA,SAAC,EAAA8a,OAAA,OAAD,CAAe9a,MAAM,YAArB,wBACA,SAAC,EAAA8a,OAAA,OAAD,CAAe9a,MAAM,SAArB,qBACA,SAAC,EAAA8a,OAAA,OAAD,CAAe9a,MAAM,YAArB,wBACA,SAAC,EAAA8a,OAAA,OAAD,CAAe9a,MAAM,WAArB,uBACA,SAAC,EAAA8a,OAAA,OAAD,CAAe9a,MAAM,SAArB,0BAGJ,SAAC,EAAAiB,IAAD,CAAKU,KAAMqkB,EAAe,QAAKjiB,EAA/B,UACE,SAAC,EAAA4H,OAAD,CACE/J,KAAK,UACLC,MAAM,SAAC,IAAD,CAASqB,KAAK,gBACpBgE,QAAS,IAAMoL,EAASvI,IAAW,IACnCF,UAAWqc,EACXQ,OAAK,EALP,kCAYN,SAAC,EAAAzlB,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAb,IAAD,UACGslB,EAAwB7nB,OACvB6nB,EAAwB1gB,KAAKqa,IAC3B,SAAC,EAAA9e,IAAD,CAA2BU,KAAM,GAAjC,UACE,SAAC,KAAD,CAAUrC,OAAQ,IAAlB,UACE,SAAC,GAAD,CACEuR,WAAYA,EACZkP,gBAAiBA,OAJbA,MAUZ,SAAC,EAAA9e,IAAD,CAAKU,KAAM,GAAIJ,MAAO,CAAEE,UAAW,UAAnC,UACE,SAAC,EAAAiL,MAAD,WAKR,SAAC,GAAD,CAAUmE,WAAYA,QCpLtB8V,GAAa,IAA6C,IAA5C,WAAE9V,GAAyC,EAC7D,MAAO6N,EAAQC,IAAava,EAAAA,EAAAA,UAAS,WAC/B0N,EAAWqE,GAAYtF,GAQ7B,OACE,SAAC,EAAA/P,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,gBACG+Q,QADH,IACGA,OADH,EACGA,EAAUzB,QAAQ3K,KAAI,CAAC,EAAyB8G,KAA1B,IAAC,KAAEtJ,EAAF,cAAQuP,GAAT,SACrB,SAAC,EAAAxR,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,YACE,SAAC,EAAAG,IAAD,CAAKqX,KAAK,OAAV,UACE,SAAC,EAAAjX,WAAA,KAAD,CAA6BK,UAAU,OAAvC,SACGwB,GADmBsJ,MAIxB,SAAC,EAAAvL,IAAD,WACE,UAAC,EAAAC,MAAD,YACE,SAAC,EAAAG,WAAA,KAAD,CAAiBO,KAAK,YAAtB,UACG8W,EAAAA,EAAAA,IAAejG,MAElB,SAAC,EAAA8F,QAAD,CAASrZ,MAAM,SAAS4K,QAAS4U,IAAWjM,EAA5C,UACE,SAAC,KAAD,CACE0M,KAAM1M,EACNqM,OAAQ,IAxBXna,WACbga,EAAU7Z,SACJia,EAAAA,EAAAA,IAAU,MAChBJ,EAAU,YAqBoBG,CAAOrM,GAFvB,UAIE,SAAC,EAAApR,WAAA,KAAD,CACEE,MAAO,CAAE6F,OAAQ,WACjBxF,KAAK,YAFP,UAIE,SAAC,IAAD,CAASsB,KAAK,gCArBRuP,EAAgBjG,SAsE5C,GApCsB,IAA6C,IAA5C,WAAEqE,GAAyC,EAChE,MAAMR,EAAUoH,GAAW5G,GACrBiB,EAAWqE,GAAYtF,GACvB+V,EAAmC,kBAAd,OAAR9U,QAAQ,IAARA,OAAA,EAAAA,EAAU1B,SAEvByW,GAAgBlkB,EAAAA,EAAAA,UAAQ,KAC5B,IAAKikB,EAAY,OAAOvW,EACxB,MAAQA,QAASyW,GAAehV,EAChC,OAAOgV,EAAWvoB,SACjB,CAACqoB,EAAYvW,EAASyB,IAEzB,OACE,UAAC,EAAAhR,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOyG,MAAM,WAAb,WACE,SAAC,EAAAtG,WAAA,KAAD,CAAiBK,UAAU,UAAUE,KAAK,YAA1C,qBAGCglB,IACC,SAAC,EAAArO,QAAD,CACEwO,UAAU,aACVC,iBAAiB,cACjB9nB,OAAO,SAACynB,GAAD,CAAY9V,WAAYA,IAHjC,UAKE,SAAC,IAAD,CACEtP,MAAO,CAAE6F,OAAQ,WACjBlE,KAAK,uCAMf,UAAC,EAAAjC,IAAD,CAAKU,KAAM,GAAX,eAAiBwB,EAAAA,EAAAA,IAAQ0jB,GAAexjB,OAAO,eCnEnDsM,UAAYlC,MAAF,KACRqC,EAgIJ,GA9HgB,IAAsC,IAArC,WAAEe,GAAkC,EACnD,MAAMxO,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,QAEtDkV,IAAI,MAAElY,KACJmY,EAAAA,EAAAA,UAEFrJ,QAAUrJ,QAAS2N,KACjBC,EAAAA,EAAAA,aACEZ,EAAWqE,GAAYtF,GACvBwG,GAAUC,EAAAA,EAAAA,eAEV,OAAE/T,EAAF,MAAU6T,EAAV,KAAiBtO,EAAjB,UAAuBuU,EAAvB,MAAkCnH,IAAc,OAAJ7T,QAAI,IAAJA,OAAA,EAAAA,EAAOwO,KAAe,CACtEtN,OAAQ,GACR6T,MAAO,IAAIpK,IAAJ,CAAO,GACdlE,KAAMoZ,EAAAA,cAAAA,WAKF8D,EAAe3mB,EAAQ,IAE7B,OACE,SAAC,EAAAyC,KAAD,CAAMC,UAAU,EAAhB,UACE,UAAC,EAAAjB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,YACE,SAAC,EAAAG,IAAD,CAAKqX,KAAK,OAAV,UACE,UAAC,EAAAxX,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,UACG,OAAC6Q,QAAD,IAACA,GAAAA,EAAU5B,OAMV,SAAC,EAAApK,OAAD,CAAQuS,MAAM,SAASjX,KAAM,GAAI2E,IAAG,OAAE+L,QAAF,IAAEA,OAAF,EAAEA,EAAU5B,SALhD,SAAC,EAAD,CACEtD,KAAMiE,EACNzD,YAAa,CAAEiL,MAAO,SAAUjX,KAAM,SAM5C,SAAC,EAAAH,IAAD,CAAKqX,KAAM0N,EAAe,YAASjiB,EAAnC,UACE,UAAC,EAAA7C,MAAD,CAAOC,UAAU,WAAWC,KAAM,EAAlC,WACE,SAAC,EAAAC,WAAA,MAAD,CAAkBC,MAAO,EAAzB,SACW,OAARwQ,QAAQ,IAARA,GAAAA,EAAU9B,QACP8B,EAAS9B,SACT0I,EAAAA,EAAAA,IAAe7H,MAErB,SAAC,EAAA3P,MAAD,CAAOE,KAAM,EAAGG,MAAO,CAAEoX,YAAa,GAAtC,WACY,OAAR7G,QAAQ,IAARA,OAAA,EAAAA,EAAU3B,YAAa,IAAIzK,KAC3B,CAACiI,EAAKiL,IACJjF,GAAShG,KACP,SAAC,EAAAhC,OAAD,CACEvK,KAAK,QACLQ,KAAK,OACLsF,QAAS,IAAM+G,OAAO4K,KAAKlL,EAAK,UAChC9L,MAAM,SAAC,IAAD,CAASqB,KAAM2Q,GAAQlG,MACxBiL,kBASvB,SAAC,EAAA3X,IAAD,WACE,SAAC,EAAA0K,OAAD,CACE/J,KAAK,OACLR,KAAK,QACL8F,QAlDE,IAAMmQ,EAAQ5M,KAAM,QAAOgD,UAAaoD,UAmD1ChH,SAAUwT,GAAa5K,IAAkB4K,EAAUlM,WACnD5P,MAAO,CACL6K,aAAc,GACdoM,WAAY,IAEd3W,MAAM,SAAC,IAAD,CAASqB,KAAK,2BAK5B,SAAC,EAAAjC,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAK8B,GAAI,GAAIE,GAAI,EAAjB,UACE,SAAC,EAAD,CACE/D,MAAM,YACNc,OAAOmD,EAAAA,EAAAA,IAAQ4F,OAAOqO,IAAQ/T,OAAO,YAGzC,SAAC,EAAApC,IAAD,CAAK8B,GAAI,GAAIE,GAAI,EAAjB,UACE,SAAC,GAAD,CAAe4N,WAAYA,OAE7B,SAAC,EAAA5P,IAAD,CAAK8B,GAAI,GAAIE,GAAI,EAAjB,UACE,SAAC,EAAD,CACE/D,MAAM,UACNc,MACEkW,EACE,OAEA,UAAC,EAAAhV,MAAD,YACE,SAAC,EAAD,CAAY8C,YAAa8E,EAAKqI,cAC9B,SAAC,EAAD,CAAYnN,YAAa8E,EAAKqI,qBAMxC,SAAC,EAAAlQ,IAAD,CAAK8B,GAAI,GAAIE,GAAI,EAAjB,UACE,SAAC,EAAD,CACE/D,MAAM,SACNc,OAAO,SAAC,EAAD,CAAWuD,OAAQA,cAKlC,SAAC,EAAAtC,IAAD,CAAKU,KAAM,GAAID,UAAU,YAAYH,MAAO,CAAEjC,OAAQ,IAAtD,UACE,SAAC,EAAA+B,WAAA,UAAD,CACEO,KAAK,YACL4F,SAAU,CAAEiR,KAAM,EAAGkN,YAAY,EAAM/e,OAAQ,aAC/CrF,MAAO,CAAEsC,OAAQ,GAHnB,gBAKGiO,QALH,IAKGA,OALH,EAKGA,EAAU7B,sB,uBCtIvB,MACEJ,KAAK,QAAER,KACLS,EAEEwE,GAAO,IAAIC,GAAAA,EAIX0S,GAFele,OAAO,IAAIgY,MAEA,OAiKhC,SA/JA,MAAmB,cAAD,KAChBmG,YAAeC,IACb,MAAMC,EAAsBD,EAAQzhB,KAAI,CAACuU,EAAQzN,KACxC,CACL6Q,UAAWpD,EACXjR,OAAQ,IAAIgE,EAAAA,GAAG,GACfqa,UAAW,IAAIra,EAAAA,GAAG,GAClBsa,KAAMC,EAAAA,kBAAAA,KAAuB/a,EAAMvD,gBAKvC,OAF0B,IAAIse,EAAAA,kBAAkBH,GACXzD,YAXvB,KAehB6D,kBAAoB7iB,MAAOwiB,EAAsBnjB,KAC/C,MAAMyjB,EAAW3oB,KAAKooB,YAAYC,GAC5BO,EAAoBH,EAAAA,kBAAAA,WAA6BE,GAEjD3S,QAAYR,GAAKb,IAAIgU,EAASE,SAAS/S,OAE3CgT,WAAW,OAAEvU,IACXK,GAAAA,GAAAA,MAAUoB,GAER7D,EAAWnE,GAAOC,KAAKsG,IAEvB,mBAAE/C,SAA6BjB,GAAQwY,sBAAsB,CACjEC,aAAc9jB,EACdpB,MAAO8kB,EAAkBK,WACzBC,WAAYN,EAAkBO,mBAC9BhX,WACAiX,QAASjB,GAAW,MAGtB,OAAO3W,GAlCO,KAqChB6X,6BAA+BxjB,MAC7B8N,EACA0U,EACAnjB,KAEA,MAAMyjB,EAAW3oB,KAAKooB,YAAYC,GAC5BO,EAAoBH,EAAAA,kBAAAA,WAA6BE,GAEjD3S,QAAYR,GAAKb,IAAIgU,EAASE,SAAS/S,OAE3CgT,WAAW,OAAEvU,IACXK,GAAAA,GAAAA,MAAUoB,GAERsT,EAAkB,IAAI/Z,EAAAA,UAAUoE,GAChC4V,EAAiB,IAAIha,EAAAA,UAAUrK,GAC/BiN,EAAWnE,GAAOC,KAAKsG,GACvBiV,EAAcC,EAAAA,KAAAA,QAAAA,WACdC,QAAqBhX,EAAAA,MAAAA,MAAAA,kBAA8B,CACvD1I,KAAMuf,EACNhD,MAAO+C,IAEHK,QAAkBpZ,GAAQqZ,uBAC9BJ,EAAYxZ,UAAUqC,YAElBwX,QAAiBnX,EAAAA,MAAAA,MAAAA,kBAA8B,CACnD1I,KAAMuf,EACNhD,MAAO,IAAIhX,EAAAA,UAAUoa,KAEvB,OAAOpZ,GAAQiC,QAAQsX,QACpBf,sBACCzM,MAAMrO,KAAK2a,EAAkBO,oBAC7BP,EAAkBK,WAClB,IAAI/a,EAAAA,GAAGia,GAAW,KAClB7L,MAAMrO,KAAKkE,GACX,IAAIjE,EAAAA,GAAG,IAERtE,SAAS,CACR2U,UAAW,IAAIhP,EAAAA,UAAUoE,GACzB6V,YAAaA,EAAYxZ,UACzB/I,IAAKyiB,EACLC,YACAE,WACAE,aAAc,IAAIxa,EAAAA,UAAUoE,GAC5B3J,KAAMuf,EACNS,aAActX,EAAAA,MAAAA,MAAAA,iBACduX,uBAAwBvX,EAAAA,MAAAA,MAAAA,sBACxBwX,cAAeT,EAAAA,KAAAA,cAAAA,UACfU,KAAMV,EAAAA,KAAAA,qBAEPW,eAtFW,KAyFhBC,eAAiBxkB,gBACW0K,GAAQiC,QAAQrM,QAAQqjB,YAAYc,MAC5D9Y,IAEiBxH,KAAKqI,WA7FV,KAgGhBkY,qBAAuB1kB,UACrB,MAAM2jB,QAAoBjZ,GAAQiC,QAAQrM,QAAQqjB,YAAYc,MAC5D9Y,GAEIwE,QAAY1B,GAAOkV,EAAYrX,UAC/B2D,QAAaN,GAAKpU,IAAI4U,GAE5B,OAD0ByS,EAAAA,kBAAAA,WAA6Bza,GAAOC,KAAK6H,KAtGrD,KA0GhB0U,iBAAmB3kB,MACjB8N,EACAnC,KAEA,MAAMoX,QAA0B5oB,KAAKuqB,qBACnC/Y,GAEF,IAAK,MAAMiZ,KAAa7B,EAAkB8B,YAAa,CAErD,GAAI/W,IADqB8W,EAAUlM,UAAUlM,WACL,OAAOoY,IAnHnC,KAuHhBE,eAAiB9kB,MACf8N,EACAnC,KAEA,MAAMoZ,QAAsB5qB,KAAKwqB,iBAC/B7W,EACAnC,GAEF,IAAKoZ,EAAe,OAAO,EAC3B,MAAM,KAAEpC,GAASoC,EACXC,QAAuBta,GAAQua,qBACnCtC,EACAhX,GAIF,aAF0BjB,GAAQoa,eAAeE,IArInC,KA0IhBE,WAAallB,MAAO8N,EAAuBnC,KACzC,MAAMoZ,QAAsB5qB,KAAKwqB,iBAC/B7W,EACAnC,GAEF,IAAKoZ,EAAe,MAAM,IAAI1Y,MAAM,uBAEpC,MAGM8Y,SAH0BhrB,KAAKuqB,qBACnC/Y,IAE8ByZ,YAAYL,IAEtC,KAAEM,SAAe3a,GAAQ4a,MAAM,CACnC3Z,qBACAwZ,QACAlV,KAAM8U,IAER,OAAOM,K,2DC5BX,GAtIgB,IAAsC,IAArC,WAAEnZ,GAAkC,EACnD,MAAO/G,EAASC,IAAc3F,EAAAA,EAAAA,WAAS,IAChC0G,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,IAErC+J,QAAUrJ,QAAS2N,KACjBC,EAAAA,EAAAA,aACEZ,EAAWqE,GAAYtF,IACvB,SAAEnI,IAAaC,EAAAA,EAAAA,cAEfuhB,GAAWvnB,EAAAA,EAAAA,UAAQ,KACvB,MAAM4F,EAAQ,GACd,IAAK,MAAMoO,KAAejO,EACxBH,EAAMkC,KAAK/B,EAASiO,GAAa7N,MAEnC,OAAOP,IACN,CAACG,IAEEyhB,GAAiBzlB,EAAAA,EAAAA,cAAYC,UACjC,IACE,IAAKmN,IAAaA,EAASxB,mBAAoB,OAAOvG,GAAW,GACjE,MAAM,mBAAEuG,EAAF,QAAsBD,GAAYyB,EAClCwW,EAAc,IAAI8B,GAClBpmB,QAAoBskB,EAAYa,eAAe7Y,GAGrD,GAFuBD,EAAQ3K,KAAK2kB,GAAWA,EAAO5X,gBAGrCnP,SAASmP,KACvByX,EAAS5mB,SAASU,GAEnB,OAAO+F,GAAW,GAMpB,UAJ4Bue,EAAYgB,iBACtC7W,EACAnC,GAEkB,OAAOvG,GAAW,SAEZue,EAAYmB,eACpChX,EACAnC,GAEF,OAAwBvG,GAAW,GAEnC,MAAO4W,GACP,OAAO5W,GAAW,MAEnB,CAACmgB,EAAUpY,EAAUW,IAsCxB,OAJA5M,EAAAA,EAAAA,YAAU,KACRskB,MACC,CAACA,KAGF,UAAC,EAAAve,MAAD,CACE9B,QAASA,EACT+B,SAAU,IAAM9B,GAAW,GAC3B+b,WAAW,SAAC,IAAD,CAAS5iB,KAAK,kBACzB4I,OAAQ,KACRpK,UAAU,WACVS,UAAW,CAAEC,QAAS,uBANxB,WAQE,SAAC,EAAA6V,MAAD,CAAOC,SAAS,EAAOnS,IAAKukB,MAC5B,UAAC,EAAAxpB,IAAD,CACEY,UAAU,mBACVX,OAAQ,CAAC,GAAI,IACbQ,MAAO,CAAEE,UAAW,UAHtB,WAKE,SAAC,EAAAR,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,MAAD,CACEE,MAAO,CAAEC,SAAU,IACnBE,UAAU,iBACVJ,MAAO,EAHT,mCAQF,SAAC,EAAAL,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAN,WAAA,KAAD,CAAiBE,MAAO,CAAEC,SAAU,IAApC,+CACmC,kBADnC,wCAON,SAAC,EAAAP,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAgK,OAAD,CACE+a,OAAK,EACLtlB,KAAK,QACL0J,QAASA,EACT5D,QA3EMvC,UACd,IAAKmN,IAAaA,EAASxB,mBAAoB,OAC/C,MAAM,mBAAEA,GAAuBwB,EAC/B,IACE9G,GAAW,GACX,MAAMsd,EAAc,IAAI8B,GAKxB,UAJ4B9B,EAAYgB,iBACtC7W,EACAnC,GAEkB,OAEpB,MAAM0Z,QAAa1B,EAAYuB,WAC7BpX,EACAnC,GAEF,OAAOrC,OAAO8J,OAAO,CACnBnW,KAAM,UACNqO,YAAa,yDACb/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAE7C,MAAOzL,GACP,OAAOtQ,OAAO8J,OAAO,CACnBnW,KAAM,UACNqO,YAAasO,EAAGwD,UArBpB,QAwBE/W,GAAW,GACXjB,GAAW,KAgDLnI,KAAK,UALP,kCChHV,GAfwBoC,IACtB,MAAO8N,EAAU0C,IAAepQ,EAAAA,EAAAA,YAE1BuQ,GAAcjQ,EAAAA,EAAAA,cAAYC,UAC9B,MAAMsM,QAAiBwE,GAAezR,GACtCwQ,EAAYvD,KACX,CAACjN,IAMJ,OAJA6B,EAAAA,EAAAA,YAAU,KACR8O,MACC,CAACA,IAEG7C,G,sDC6BT,GAhCoB,IAA6C,IAA5C,WAAEjB,GAAyC,EAC9D,MAAO0Z,EAAUC,IAAepmB,EAAAA,EAAAA,YAC1B/B,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,OAElDooB,GAAmB9nB,EAAAA,EAAAA,UAAQ,KAC/B,MAAM,OAAE6hB,GAAWniB,EAAKwO,IAAe,GACvC,OAAa,OAAN2T,QAAM,IAANA,OAAA,EAAAA,EAAQrT,aAAc,KAC5B,CAAC9O,EAAMwO,IAEJ6Z,GAAmBhmB,EAAAA,EAAAA,cAAYC,UACnC,MAAMgmB,QAAarV,GAAmBmV,GACtC,OAAOD,EAAYG,KAClB,CAACF,IAMJ,OAJA5kB,EAAAA,EAAAA,YAAU,KACR6kB,MACC,CAACA,KAGF,SAAC,EAAA5pB,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAIW,UAAU,YAAYH,MAAO,CAAEjC,OAAQ,KAA5D,SACGirB,GACCA,EAAS7kB,KAAKklB,IACZ,SAAC,EAAA3pB,IAAD,CAAK8B,GAAI,EAAGuJ,GAAI,EAAhB,UACE,SAAC,KAAD,CAAUhN,OAAQ,GAAlB,UACE,SAACurB,GAAD,CAAS7mB,YAAa4mB,EAAI9hB,UAFN8hB,EAAI9hB,WAYhC+hB,GAAU,IAA+C,IAA9C,YAAE7mB,GAA2C,EAC5D,MAAO8mB,EAAQC,IAAa3mB,EAAAA,EAAAA,UAAS,KAC9B0G,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,GAEjC6M,EAAW+Z,GAAehnB,GAE1BinB,GAAoBvmB,EAAAA,EAAAA,cAAYC,UACpC,IAAKsM,EAAU,OAAO8Z,EAAUG,IAChC,IACElgB,GAAW,GACX,MAAM2C,EAAMsD,EAAS2D,KAAKA,KAAKuW,IAC/B,IAAKxd,EAAK,OAAOod,EAAUG,IAE3B,MACME,SADiBC,KAAAA,IAAU1d,IACZiH,KAAK1E,MAC1B,OAAO6a,EAAUK,GACjB,MAAO7M,GACP,OAAOtQ,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAasO,EAAGwD,UATxD,QAWE/W,GAAW,MAEZ,CAACiG,IAMJ,OAJApL,EAAAA,EAAAA,YAAU,KACRolB,MACC,CAACA,KAGF,SAAC,EAAAnpB,KAAD,CACEC,UAAU,EACVR,MAAO,CAAE6F,OAAQ,WACjBjF,UAAW,CAAEC,QAAS,GACtB0I,QAASA,EAJX,UAME,SAAC,EAAAhK,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,UACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAsW,MAAD,CACElS,IAAK+kB,EACL5S,SAAS,EACT3W,MAAO,CAAEW,aAAc,GACvB7C,MAAO,GACPC,OAAQ,YCjFdgsB,GAAe,CACnBxmB,QAAS,GACTjD,KAAM,GACNqB,KAAM,QACNqoB,MAAO,EACPC,YAAa,EACbC,KAAM,EACN7kB,OAAQ,QACR8kB,YAAa,GAiBFC,GAAahnB,MACxBinB,EACAvnB,EACAL,EACAma,EACAnV,KAEA,MAAM6iB,OArBoBlnB,OAC1BN,EACAL,KAEA,IAAK,IAAD,EACF,MAAMY,QAAcP,EAAcQ,cAAcb,GAC1C8nB,EAAM,OAAGlnB,QAAH,IAAGA,GAAH,UAAGA,EAAOmnB,kBAAV,aAAG,EAAmBC,YAElC,aADsBC,EAAAA,EAAAA,IAASH,GAE/B,MAAOnL,GACP,OAAO2K,KAWaY,CAAa7nB,EAAeL,GAClD,IAAImoB,EAAUpjB,OAAOyI,EAAAA,MAAAA,aAAmBxI,EAAQmV,IAGhD,OAFIyN,IAAOO,EAAUpjB,OAAOojB,GAAWN,EAAQN,OAExCY,GAsCT,GAnCoB,IAMb,IANc,MACnBP,GAAQ,EADW,SAEnBljB,GAII,EACJ,MAAM,cAAErE,EAAF,YAAiBga,IAAgB/Z,EAAAA,EAAAA,YAChC8nB,EAAUC,IAAejoB,EAAAA,EAAAA,UAAS,GAEnCkoB,GAAc5nB,EAAAA,EAAAA,cAAYC,UAC9B,IAAK+D,EAAU,OAAO2jB,EAAY,GAClC,IAAID,EAAW,EACf,IAAK,MAAMnnB,KAAWyD,EAAU,CAC9B,MAAM,KAAEI,EAAF,OAAQE,GAAW/D,EACnBkZ,QAAiBE,EAAYvV,GAQnCsjB,SAPsBT,GACpBC,EACAvnB,EACAyE,EACAqV,EACAnV,GAIJ,OAAOqjB,EAAYD,KAClB,CAAC1jB,EAAU2V,EAAaha,EAAeunB,IAM1C,OAJA/lB,EAAAA,EAAAA,YAAU,KACRymB,MACC,CAACA,IAEGF,GCbT,GArDoB,IAA4C,IAA3C,QAAEnnB,GAAwC,EAC7D,MAAOsnB,EAAYC,IAAiBpoB,EAAAA,EAAAA,UAAS,IACtCqoB,EAAaC,IAAkBtoB,EAAAA,EAAAA,UAAS,IAEzC,KAAE0E,EAAF,OAAQE,GAAW/D,GACnB,cAAEZ,IAAkBC,EAAAA,EAAAA,WACpB6Z,EAAWU,GAAgB/V,IAAS,EAEpC6jB,GAAejoB,EAAAA,EAAAA,cAAYC,UAC/B,MAAM8nB,QAAoBd,IACxB,EACAtnB,EACAyE,EACAqV,EACAnV,GAEIujB,QAAmBZ,IACvB,EACAtnB,EACAyE,EACAqV,EACAnV,GAEF0jB,EAAeD,GACfD,EAAcD,KACb,CAACvjB,EAAQmV,EAAUrV,EAAMzE,IAM5B,OAJAwB,EAAAA,EAAAA,YAAU,KACR8mB,MACC,CAACA,KAGF,UAAC,EAAA7rB,IAAD,CAAK6G,MAAM,SAAX,WACE,SAAC,EAAA1G,IAAD,CAAKqX,KAAK,OAAV,UACE,UAAC,EAAApX,MAAD,YACE,SAAC,EAAD,CAAY8C,YAAa8E,KACzB,UAAC,EAAA5H,MAAD,CAAOE,KAAM,EAAb,WACG+B,EAAAA,EAAAA,IAAQspB,GAAappB,OAAO,cAC7B,SAAC,EAAAhC,WAAA,KAAD,CAAiBO,KAAK,YAAtB,UACE,SAAC,EAAD,CAAYoC,YAAa8E,eAKjC,SAAC,EAAA7H,IAAD,WACE,UAAC,EAAAI,WAAA,KAAD,CAAiBO,KAAK,YAAtB,eACIuB,EAAAA,EAAAA,IAAQopB,GAAYlpB,OAAO,sBC5CjCupB,GAAgB,IAA6C,IAA5C,WAAE/b,GAAyC,EAChE,MAAO6N,EAAQC,IAAava,EAAAA,EAAAA,WAAS,GAQrC,OACE,SAAC,GAAD,CACE6Z,MAAM,mBACNje,OACE,UAAC,EAAAkB,MAAD,YACE,SAAC,EAAAG,WAAA,KAAD,CAAiBK,UAAU,OAA3B,UACGgX,EAAAA,EAAAA,IAAe7H,MAElB,SAAC,EAAA0H,QAAD,CAASrZ,MAAM,SAAS4K,QAAS4U,EAAjC,UACE,SAAC,KAAD,CAAiBS,KAAMtO,EAAYiO,OAf9Bna,UACbga,GAAU,SACJI,EAAAA,EAAAA,IAAU,MAChBJ,GAAU,IAYF,UACE,SAAC,EAAAtd,WAAA,KAAD,CAAiBE,MAAO,CAAE6F,OAAQ,WAAa1F,UAAU,OAAzD,UACE,SAAC,IAAD,CAASwB,KAAK,6BA0F9B,GAhFiB,IAA6C,IAA5C,WAAE2N,GAAyC,EAC3D,MAAOgc,EAAaC,IAAkB1oB,EAAAA,EAAAA,UAAwB,IACxDgoB,EAAWW,GAAY,CAAErkB,SAAUmkB,KAGvCrqB,KAAK,KAAEH,KACLC,EAAAA,EAAAA,cAAaC,GAAoBA,IAE/BkoB,GAAmB9nB,EAAAA,EAAAA,UAAQ,KAC/B,MAAM,OAAE6hB,GAAWniB,EAAKwO,IAAe,GACvC,OAAa,OAAN2T,QAAM,IAANA,OAAA,EAAAA,EAAQrT,aAAc,KAC5B,CAAC9O,EAAMwO,IAEJmc,GAAetoB,EAAAA,EAAAA,cAAYC,UAC/B,IAAK8lB,EAAkB,OAEvB,MAAM,KAAElK,GAAStS,OAAOC,OAClB+e,EAAiBhoB,EAAAA,QAAAA,YAAoBwlB,IACrC,MAAEzqB,SAAgBugB,EAAKlP,WAAW6b,wBACtCD,EACA,CAAEpT,UAAW0G,EAAK4M,gBAEpB,IAAIpT,EAAsB,GAS1B,aARMvU,QAAQC,IACZzF,EAAM0F,KAAIf,UAAuC,IAA9BM,SAAW2P,KAAM/H,IAAY,EAC9C,MAAM+H,EAAO2L,EAAK6M,iBAAiBvgB,GAC7BwgB,QAAiB9M,EAAK+M,YAAY1Y,EAAK9L,MAC7C,GAA4B,IAAtBukB,EAASlP,UAAiD,IAA5BpV,OAAOskB,EAAS3T,QAClD,OAAOK,EAAKtP,KAAKmK,OAGhBkY,EAAe/S,KACrB,CAAC0Q,IAMJ,OAJA5kB,EAAAA,EAAAA,YAAU,KACRmnB,MACC,CAACA,KAGF,UAAC,EAAAlsB,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAK6G,MAAM,SAAX,WACE,SAAC,EAAA1G,IAAD,CAAKqX,KAAK,OAAV,UACE,UAAC,EAAApX,MAAD,CAAOyG,MAAM,WAAb,WACE,SAAC,EAAAtG,WAAA,KAAD,CAAiBO,KAAK,YAAtB,+BAGA,SAAC,EAAA2W,QAAD,CACEwO,UAAU,aACVC,iBAAiB,4BACjB9nB,OAAO,SAAC0tB,GAAD,CAAe/b,WAAY4Z,IAHpC,UAKE,SAAC,IAAD,CACElpB,MAAO,CAAE6F,OAAQ,WACjBlE,KAAK,uCAKb,SAAC,EAAAjC,IAAD,WACE,UAAC,EAAAI,WAAA,MAAD,CAAkBC,MAAO,EAAzB,eACI6B,EAAAA,EAAAA,IAAQipB,GAAU/oB,OAAO,wBAKnC,SAAC,EAAApC,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAKW,UAAU,YAAYH,MAAO,CAAEjC,OAAQ,KAA9D,SACGutB,GACCA,EAAYnnB,KAAKT,IACf,SAAC,EAAAhE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CAAasD,QAASA,KADJA,EAAQ6D,gBC/F1C,GAfuB,IAA6C,IAA5C,WAAE+H,GAAyC,EACjE,OACE,SAAC,EAAA/O,KAAD,CAAMC,UAAU,EAAhB,UACE,UAAC,EAAAwb,KAAD,CAAM7b,UAAU,aAAhB,WACE,SAAC,EAAA6b,KAAA,QAAD,CAAcE,IAAI,WAAlB,UACE,SAAC,GAAD,CAAU5M,WAAYA,KADS,aAGjC,SAAC,EAAA0M,KAAA,QAAD,CAAcE,IAAI,OAAlB,UACE,SAAC,GAAD,CAAa5M,WAAYA,KADE,aCYrC,GAdmB,IAAsC,IAArC,WAAEA,GAAkC,EACtD,OACE,UAAC,EAAA/P,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAjB,UACE,SAAC,GAAD,CAASuE,WAAYA,OAEvB,SAAC,EAAA5P,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,GAAD,CAAgBuE,WAAYA,OAE9B,SAAC,GAAD,CAASA,WAAYA,SCLzBlB,UAAYlC,MAAF,KACRqC,EAsCJ,GApCiB,KACf,MAAMuH,GAAUC,EAAAA,EAAAA,eACV,WAAEzG,IAAe0c,EAAAA,EAAAA,cACjB,aAAEnX,EAAF,mBAAgBE,GAAuBoB,GAAmB7G,GAOhE,OANAhL,EAAAA,EAAAA,YAAU,KACR,IAAKuQ,IAAiBE,EACpB,OAAOe,EAAQ5M,KAAM,QAAOgD,YAE7B,CAACoD,EAAYwG,EAASjB,EAAcE,KAGrC,UAAC,EAAAxV,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAKC,QAAQ,SAAS2G,MAAM,SAA9C,WACE,SAAC,EAAA1G,IAAD,CAAK8B,GAAI,GAAIC,GAAI,GAAjB,UACE,UAAC,EAAAlC,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAgK,OAAD,CACE9J,MAAM,SAAC,IAAD,CAASqB,KAAK,uBACpBtB,KAAK,OACLsF,QAAS,IAAMmQ,EAAQ5M,KAAM,QAAOgD,UACpClM,MAAO,CAAEoX,YAAa,GAJxB,qBASF,SAAC,EAAA1X,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CAAYkP,WAAYA,YAI9B,SAAC,EAAA5P,IAAD,CAAK8B,GAAI,GAAIC,GAAI,GAAjB,UACE,SAAC,GAAD,CAAc6N,WAAYA,UC6ClC,GA/EgC,IAGK,IAHJ,MAC/B7Q,EAAQwtB,EAAAA,oBAAAA,mBADuB,SAE/B5jB,EAAW,UACuB,EAClC,MACE2N,IAAI,MAAEkW,KACJjW,EAAAA,EAAAA,SAEEkW,EADyB,OAAVD,EACa,QAAK1pB,EAEvC,OACE,UAAC,EAAAjD,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,YACE,SAAC,EAAAG,WAAA,KAAD,mCACA,SAAC,EAAAmZ,QAAD,CACEC,aAAc,CAAEC,SAAU,KAC1BC,QAAQ,QACRC,SACE,UAAC,EAAA9Z,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,MAAD,CAAkBC,MAAO,EAAzB,+CAIF,SAAC,EAAAL,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAjB,WACE,UAAC,EAAAE,WAAA,KAAD,YACE,wDADF,iFAIA,UAAC,EAAAA,WAAA,KAAD,YACE,wDADF,8GAhBV,UA0BE,SAAC,EAAAsK,OAAD,CACE/J,KAAK,OACLR,KAAK,QACLS,MAAM,SAAC,IAAD,CAASqB,KAAK,yCAK5B,SAAC,EAAAjC,IAAD,CAAKU,KAAM+rB,EAAX,UACE,SAAC,EAAA/hB,OAAD,CACEjK,UACEgC,IAAQ1D,EAAOwtB,EAAAA,oBAAAA,oBACX,GACA,eAENtmB,QAAS,IAAM0C,EAAS4jB,EAAAA,oBAAAA,oBACxB9G,OAAK,EAPP,+BAYF,SAAC,EAAAzlB,IAAD,CAAKU,KAAM+rB,EAAX,UACE,SAAC,EAAA/hB,OAAD,CACEjK,UACEgC,IAAQ1D,EAAOwtB,EAAAA,oBAAAA,oBACX,GACA,eAENtmB,QAAS,IAAM0C,EAAS4jB,EAAAA,oBAAAA,oBACxB9G,OAAK,EAPP,kCCZR,GApD6B,IAGK,IAHJ,MAC5B1mB,EAAQ2tB,EAAAA,iBAAAA,KADoB,SAE5B/jB,EAAW,UACoB,EAC/B,MACE2N,IAAI,MAAEkW,KACJjW,EAAAA,EAAAA,SAEEkW,EADyB,OAAVD,EACa,OAAI1pB,EAEtC,OACE,UAAC,EAAAjD,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,KAAD,kCAEF,SAAC,EAAAJ,IAAD,CAAKU,KAAM+rB,EAAX,UACE,SAAC,EAAA/hB,OAAD,CACEjK,UACEgC,IAAQ1D,EAAO2tB,EAAAA,iBAAAA,UAA6B,GAAK,eAEnDzmB,QAAS,IAAM0C,EAAS+jB,EAAAA,iBAAAA,UACxBjH,OAAK,EALP,oBAUF,SAAC,EAAAzlB,IAAD,CAAKU,KAAM+rB,EAAX,UACE,SAAC,EAAA/hB,OAAD,CACEjK,UACEgC,IAAQ1D,EAAO2tB,EAAAA,iBAAAA,MAAyB,GAAK,eAE/CzmB,QAAS,IAAM0C,EAAS+jB,EAAAA,iBAAAA,MACxBjH,OAAK,EALP,oBAUF,SAAC,EAAAzlB,IAAD,CAAKU,KAAM+rB,EAAX,UACE,SAAC,EAAA/hB,OAAD,CACEjK,UACEgC,IAAQ1D,EAAO2tB,EAAAA,iBAAAA,UAA6B,GAAK,eAEnDzmB,QAAS,IAAM0C,EAAS+jB,EAAAA,iBAAAA,UACxBjH,OAAK,EALP,uBCRR,GAhCsB,IAA6C,IAA5C,MAAE1mB,EAAF,SAAS4J,GAAkC,EAChE,OACE,UAAC,EAAA9I,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,KAAD,mCAEF,SAAC,EAAAJ,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAisB,WAAD,CACE1hB,YAAY,aACZlM,MAAOsf,KAAOtf,EAAM,IACpB4J,SAAWyC,GAAMzC,EAAS,EAAE,OAADyC,QAAC,IAADA,OAAA,EAAAA,EAAGwhB,YAAa7tB,EAAM,GAAIA,EAAM,KAC3D8tB,UAAQ,EACRvsB,MAAO,CAAElC,MAAO,aAGpB,SAAC,EAAA4B,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAisB,WAAD,CACE1hB,YAAY,WACZlM,MAAOsf,KAAOtf,EAAM,IACpB4J,SAAWyC,GAAMzC,EAAS,CAAC5J,EAAM,IAAK,OAADqM,QAAC,IAADA,OAAA,EAAAA,EAAGwhB,YAAa7tB,EAAM,KAC3D8tB,UAAQ,EACRvsB,MAAO,CAAElC,MAAO,qBCwB9B,GAvCwB,IAA2C,IAA1C,WAAEwR,GAAuC,EAChE,MACErO,KAAK,KAAEH,KACLC,EAAAA,EAAAA,cAAaC,GAAoBA,KAE/B,OAAEgB,EAAF,KAAUuF,GACdzG,EAAKwO,IACJ,CACCtN,OAAQ,GACRuF,KAAMoZ,EAAAA,cAAAA,WAEJ7R,EAAUoH,GAAW5G,GAE3B,OACE,UAAC,EAAA/P,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,EAAD,CAAepN,MAAM,cAAcc,OAAO0Y,EAAAA,EAAAA,IAAe7H,QAE3D,SAAC,EAAA5P,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,EAAD,CACEpN,MAAM,QACNc,OACE,UAAC,EAAAkB,MAAD,YACE,SAAC,EAAD,CAAY8C,YAAa8E,EAAKqI,cAC9B,SAAC,EAAD,CAAYnN,YAAa8E,EAAKqI,qBAKtC,SAAC,EAAAlQ,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,EAAD,CAAepN,MAAM,UAAUc,OAAOmD,EAAAA,EAAAA,IAAQkN,GAAShN,OAAO,YAEhE,SAAC,EAAApC,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,EAAD,CAAepN,MAAM,SAASc,OAAO,SAAC,EAAD,CAAWuD,OAAQA,Y,uBC1BhE,MACEsM,KAAOX,SAAF,UAAYM,GAAZ,IAAoBD,IACzBI,UAAYlC,MAAF,KACRqC,EAQEie,GAAehlB,OAAO,IAAIgY,MAC1BiN,GAAU,MAmMhB,GAjM+B,KAC7B,MAAO3M,EAAoB4M,IAAyB7pB,EAAAA,EAAAA,UAClDopB,EAAAA,oBAAAA,qBAEKpM,EAAiB8M,IAAsB9pB,EAAAA,EAAAA,UAASupB,EAAAA,iBAAAA,OAChDQ,EAAUC,IAAehqB,EAAAA,EAAAA,UAAS,CACvC2pB,GAAeC,GACfD,GAAe,UAEVjjB,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,IAChClF,EAAOmvB,IAAYjqB,EAAAA,EAAAA,UAAS,KAC5B6L,EAAaqe,IAAkBlqB,EAAAA,EAAAA,UAAS,KACzC,WAAEyM,IAAe0c,EAAAA,EAAAA,cAErB1H,UAAU,GAAEpX,EAAF,aAAMwR,GAChBzd,KAAK,KAAEH,KACLC,EAAAA,EAAAA,cAAaC,GAAoBA,IAC/B8U,GAAUC,EAAAA,EAAAA,cACVhF,GAAWC,EAAAA,EAAAA,eACX+R,EAAcnO,GAAYtF,GAE1BhH,GAAY3K,IAAU+Q,EACtBse,EAAyC,kBAAd,OAAXjK,QAAW,IAAXA,OAAA,EAAAA,EAAalU,SAE7Boe,GAAqC7rB,EAAAA,EAAAA,UAAQ,KAC1C,CACLzD,QACA+Q,cACAgQ,kBAED,CAAChQ,EAAagQ,EAAc/gB,IAEzBuvB,GAAc/pB,EAAAA,EAAAA,cAAYC,UAC9B,MAAM,UAAE0Y,GAAchb,EAAKwO,GAC3B,GAAKpC,EAEL,IACEzD,GAAW,GAEX,MAAMsJ,EAAO,IAAIC,GAAAA,EACXO,QAAYR,EAAKb,IAAI+a,IAEzB5G,WAAW,OAAEvU,IACXK,GAAAA,GAAAA,MAAUoB,GAER4Z,EAAiC,CACrCC,QAAS,IAAI3hB,IAAJ,CAAOuC,IAChBqf,kBAAmBvR,EAAUlM,WAC7B0d,IAAK,IAAI7hB,IAAJ,CAAOuC,IACZuf,cAAetf,KAGX,UAAEqK,EAAF,KAAajF,EAAb,SAAmBlM,GAAa+F,EAEhCwC,EAAWnE,GAAOC,KAAKsG,GACvB0b,EAAgB9wB,OAAOkH,OAAOuD,IAC9B,KAAEshB,EAAF,gBAAQjK,SAA0B7Q,GAAS8f,mBAC/Cne,EACAgJ,EAAU1I,WACVyD,EACAma,EAAcrpB,KAAI,QAAC,OAAEuU,GAAH,SAAgBA,KAClC8U,EAAcrpB,KAAI,QAAC,SAAEof,GAAH,SAAkBA,KACpCiK,EAAcrpB,KAAI,QAAC,WAAEmf,GAAH,SAAoBA,KACtCkK,EAAcrpB,KAAI,QAAC,SAAEqf,GAAH,SAAkBA,KACpC7X,KAAK4T,MAAMqN,EAAS,GAAK,KACzBjhB,KAAK4T,MAAMqN,EAAS,GAAK,KACzBld,EACAoQ,EACAD,EACAsN,GAYF,OAVAzgB,OAAO8J,OAAO,CACZnW,KAAM,UACNqO,YACE,kEACF/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAI7C1X,EAASiQ,MAEFlL,EAAQ5M,KACZ,QAAOgD,UAAaoD,cAAuBkP,KAE9C,MAAOxB,GACP,OAAOtQ,OAAO8J,OAAO,CACnBnW,KAAM,QACNqO,YAAasO,EAAGwD,UAnDpB,QAsDE,OAAO/W,GAAW,MAEnB,CACD3I,EACAwO,EACA2d,EACA/f,EACA0f,EACA9M,EACAD,EACA9O,EACA+E,IAOF,OAJAxR,EAAAA,EAAAA,YAAU,KACR,IAAK4I,EAAI,OAAO4I,EAAQ5M,KAAM,QAAOgD,UAAaoD,OACjD,CAACA,EAAYwG,EAAS5I,KAGvB,SAAC,EAAA3N,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAKC,QAAQ,SAA/B,UACE,SAAC,EAAAC,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAjB,UACE,SAAC,EAAAxK,KAAD,CAAMC,UAAU,EAAhB,UACE,UAAC,EAAAjB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,MAAD,CAAkBC,MAAO,EAAzB,2CAIF,SAAC,EAAAL,IAAD,CAAKU,KAAM,MACX,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CAAiBkP,WAAYA,OAE/B,SAAC,EAAA5P,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAstB,QAAD,CAASvtB,UAAU,2BAErB,SAAC,EAAAT,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAWI,MAAO,CAAElC,MAAO,QAA5C,WACE,SAAC,EAAAgC,WAAA,KAAD,qBACA,SAAC,EAAA4K,MAAD,CACEjM,MAAOd,EACPgN,YAAY,oCACZxK,UAAU,cACVkI,SAAWyC,GAAMgiB,EAAShiB,EAAEjO,OAAO4B,eAIzC,SAAC,EAAAiB,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAWI,MAAO,CAAElC,MAAO,QAA5C,WACE,SAAC,EAAAgC,WAAA,KAAD,2BACA,SAAC,EAAA4K,MAAA,SAAD,CACEC,YAAY,qCACZhJ,KAAK,cACLxB,UAAU,cACV1B,MAAOiQ,EACPrG,SAAWyC,GAAMiiB,EAAejiB,EAAEjO,OAAO4B,eAI/C,SAAC,EAAAiB,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CAAe3B,MAAOmuB,EAAUvkB,SAAUwkB,OAE1CG,IACA,SAAC,EAAAttB,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACE3B,MAAOqhB,EACPzX,SAAUqkB,OAIhB,SAAC,EAAAhtB,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACE3B,MAAOohB,EACPxX,SAAUskB,OAGd,SAAC,EAAAjtB,IAAD,CAAKU,KAAM,MACX,SAAC,EAAAV,IAAD,CAAKqX,KAAK,OAAV,UACE,SAAC,EAAA3M,OAAD,CACE/J,KAAK,OACLsF,QAAS,IAAMmQ,EAAQ5M,KAAM,QAAOgD,UAAaoD,KACjDzP,KAAK,QAHP,uBAQF,SAAC,EAAAH,IAAD,WACE,SAAC,EAAA0K,OAAD,CACEzE,QAASunB,EACT3jB,QAASA,EACTlJ,KAAK,UACLR,KAAK,QACLyI,SAAUA,EALZ,4CC/MRqlB,GAAW,CACf,CACEzwB,IAAK,eACLwf,MAAO,eACPhO,YACE,8JACF1N,MAAO,GAET,CACE9D,IAAK,eACLwf,MAAO,eACPhO,YACE,qLACF1N,MAAO,IAgEX,GA5DsB,KACpB,MAAM+P,GAAWC,EAAAA,EAAAA,eACXnC,GAAU9N,EAAAA,EAAAA,cACbC,GAAoBA,EAAM0O,SAASP,aAAaN,UAG7C+e,EAAc1wB,GAClB2R,IAAY3R,EAAM,CAAE2wB,YAAa,eAAkB,GAOrD,OACE,SAAC,EAAAtuB,IAAD,WACE,SAAC,EAAAG,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAikB,MAAA,MAAD,CACEY,aAAcpW,EACdxG,SAVcjF,UACpB,MAAMyL,EAAU/D,EAAEjO,OAAO4B,MACzBsS,EAAST,GAAgB,CAAEzB,cASrB1O,UAAU,iBAHZ,UAKE,SAAC,EAAAZ,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,SACGmuB,GAASxpB,KAAI,QAAC,IAAEjH,EAAF,MAAOwf,EAAP,YAAchO,EAAd,MAA2B1N,GAA5B,SACZ,SAAC,EAAAtB,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAjB,UACE,SAAC,EAAAsZ,MAAA,OAAD,CAAc5lB,MAAOvB,EAAK8C,MAAO,CAAE0E,OAAQ,QAA3C,UACE,SAAC,EAAAnE,KAAD,CACEP,MAAO,IAAK4tB,EAAW1wB,IACvBiD,UAAY,kBAAiBjD,KAC3B2R,IAAY3R,EAAM,SAAW,KAE/BsD,UAAU,EALZ,UAOE,UAAC,EAAAjB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAb,IAAD,WACE,SAAC,EAAAG,IAAD,CAAKqX,KAAK,OAAV,UACE,SAAC,EAAAjX,WAAA,MAAD,CAAkBC,MAAO,EAAzB,SACG2c,WAKT,SAAC,EAAAhd,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,KAAD,CAAiBO,KAAK,YAAtB,SACGqO,cArBaxR,eCyCxC,GA3EwB,KACtB,MACE+D,KAAK,QAAEmX,GACP1I,UAAU,aAAEP,KACVpO,EAAAA,EAAAA,cAAaC,GAAoBA,KAEnCgV,IAAI,MAAElY,KACJmY,EAAAA,EAAAA,UAEE,OAAEjU,EAAF,YAAUS,EAAV,OAAuB0V,GAAWC,GAClC,QAAE3J,EAAF,YAAWC,EAAX,MAAwBC,GAAUQ,EAGlC2e,EAFWhwB,EAAQ,IAGrB,SAFiBA,EAAQ,IAAMA,EAhBb,IAgBuCA,GAGzC,EAAIiwB,IAjBL,SAiBwC,EAAI,EAE/D,OACE,UAAC,EAAAxuB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAjB,UACE,UAAC,EAAApL,MAAD,CAAOC,UAAU,WAAWC,KAAM,GAAIG,MAAO,CAAElC,MAAO,QAAtD,WACE,UAAC,EAAA6B,MAAD,CAAOC,UAAU,WAAjB,WACE,SAAC,EAAAE,WAAA,KAAD,CAAiBO,KAAK,YAAtB,0BACA,SAAC,EAAAP,WAAA,MAAD,CAAkBC,MAAO,EAAzB,SAA6B0O,QAE/B,UAAC,EAAA9O,MAAD,CAAOC,UAAU,WAAWI,MAAO,CAAElC,MAAO,QAA5C,WACE,SAAC,EAAAgC,WAAA,KAAD,0BACA,SAAC,GAAD,CAAYkC,OAAQA,aAI1B,SAAC,EAAAtC,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAjB,UACE,UAAC,EAAApL,MAAD,CAAOC,UAAU,WAAWC,KAAM,GAAlC,WACE,UAAC,EAAAF,MAAD,CAAOC,UAAU,WAAjB,WACE,SAAC,EAAAE,WAAA,KAAD,CAAiBO,KAAK,YAAtB,4BACA,UAAC,EAAAV,MAAD,YACE,SAAC,EAAD,CAAY8C,YAAaA,EAAa5C,KAAM,MAC5C,SAAC,EAAAC,WAAA,MAAD,CAAkBC,MAAO,EAAzB,UACE,SAAC,EAAD,CAAY0C,YAAaA,aAI/B,UAAC,EAAA9C,MAAD,CAAOC,UAAU,WAAWO,UAAU,eAAtC,WACE,SAAC,EAAAL,WAAA,KAAD,wBACA,SAAC,EAAA4W,MAAD,CACE1W,MAAO,CAAElC,MAAOgwB,EAAU/vB,OAAQ+vB,GAClCtpB,IAAG,OAAEmK,QAAF,IAAEA,OAAF,EAAEA,EAAOjH,WACZiP,SAAS,aAKjB,SAAC,EAAAjX,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAjB,WACE,SAAC,EAAAE,WAAA,KAAD,CAAiBO,KAAK,YAAtB,0BACA,UAAC,EAAAV,MAAD,CAAOC,UAAU,aAAjB,WACE,SAAC,EAAAE,WAAA,MAAD,CAAkBC,MAAO,EAAzB,UACG6B,EAAAA,EAAAA,IAAO,OAACuW,QAAD,IAACA,OAAD,EAACA,EAAQkH,YAAYvd,OAAO,eAEtC,SAAC,EAAAhC,WAAA,MAAD,CAAkBC,MAAO,EAAzB,UACE,SAAC,EAAD,CAAY0C,YAAaA,eAKjC,SAAC,EAAA/C,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAjB,WACE,SAAC,EAAAE,WAAA,KAAD,CAAiBO,KAAK,YAAtB,0BACA,SAAC,EAAAP,WAAA,KAAD,UAAkB4O,aCsB5B,GA3FwB,KACtB,MACEzN,KAAK,QAAEmX,GACP1I,UAAU,aAAEP,KACVpO,EAAAA,EAAAA,cAAaC,GAAoBA,KAC/B,OAAEgB,EAAF,SAAU0S,GAAa0D,GACvB,MAAEzJ,EAAF,YAASD,EAAT,QAAsBD,EAAtB,QAA+BK,GAAYK,GAG/C6G,IAAI,MAAElY,KACJmY,EAAAA,EAAAA,SAIE6X,EAFWhwB,EAAQ,IAGrB,SAFiBA,EAAQ,IAAMA,EAfb,IAeuCA,GAGzC,EAAIiwB,IAnBL,SAmBwC,EAAI,EAE/D,OACE,UAAC,EAAAxuB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKE,QAAQ,gBAAb,WACE,SAAC,EAAAC,IAAD,WACE,SAAC,GAAD,CACEgd,MAAM,cACNje,OAAO,SAAC,EAAAqB,WAAA,MAAD,CAAkBC,MAAO,EAAzB,SAA6B0O,SAGxC,SAAC,EAAA/O,IAAD,WACE,SAAC,GAAD,CACEgd,MAAM,cACNje,OACE,SAAC,EAAAqB,WAAA,MAAD,CAAkBC,MAAO,EAAzB,SACG2U,EAAW,SAAW,qBAOnC,SAAC,EAAAhV,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAjB,UACE,SAAC,GAAD,CACE2R,MAAM,aACNje,OAAO,SAAC,GAAD,CAAYuD,OAAQA,SAG/B,SAAC,EAAAtC,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAjB,UACE,SAAC,GAAD,CACE2R,MAAM,aACNje,OACE,SAAC,EAAAiY,MAAD,CACE1W,MAAO,CAAElC,MAAOgwB,EAAU/vB,OAAQ+vB,GAClCtpB,IAAG,OAAEmK,QAAF,IAAEA,OAAF,EAAEA,EAAOjH,WACZiP,SAAS,SAKjB,SAAC,EAAAjX,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAN,WAAA,KAAD,CAAiBO,KAAK,YAAtB,UACGyO,EAAQ9R,OADX,gBAID8R,EAAQ3K,KAAI,QAAC,cAAE+M,EAAF,KAAiBvP,GAAlB,SACX,SAAC,EAAAjC,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,YACE,SAAC,EAAAG,WAAA,MAAD,CAAkBC,MAAO,EAAzB,SAA6B4B,KAC7B,SAAC,EAAA7B,WAAA,MAAD,CAAkBC,MAAO,EAAGM,KAAK,YAAjC,SACG6Q,QAJaA,YAW1B,SAAC,EAAAxR,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEsc,MAAM,cACNje,OACE,SAAC,EAAAqB,WAAA,UAAD,CAAsBE,MAAO,CAAEsC,OAAQ,GAAvC,SACGoM,YC/Df,GAtBuBjM,IACrB,MAAO0V,EAAQ6V,IAAanrB,EAAAA,EAAAA,eAAyBL,IAC/C,QAAEyrB,IAAYlrB,EAAAA,EAAAA,WAEdmrB,GAAc/qB,EAAAA,EAAAA,cAAYC,UAC9B,IACE,MACE,CAACX,IAAc,OAAE0V,UACT8V,EAAQ,CAAE1qB,QAASd,IAC7B,OAAOurB,EAAU,IAAIviB,IAAJ,CAAO0M,EAAOzQ,aAC/B,MAAOsV,GACP,OAAOgR,OAAUxrB,MAElB,CAACC,EAAawrB,IAMjB,OAJA3pB,EAAAA,EAAAA,YAAU,KACR4pB,MACC,CAACA,IAEG/V,GCgCT,GA7C+B,IAIK,IAJJ,YAC9B1V,EAAc,GADgB,MAE9BhE,EAF8B,SAG9B4J,GACiC,EACjC,MAAMuU,EAAWU,GAAgB7a,IAAgB,EAC3C0V,EAASgW,GAAc1rB,GACvB2rB,EAAanK,QAAa,OAAN9L,QAAM,IAANA,OAAA,EAAAA,EAAQoI,IAAI,IAAI9U,IAAJ,CAAO,IAAMmR,MAAc,IAAInR,IAAJ,CAAO,IAExE,OACE,UAAC,EAAAlM,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAIC,QAAQ,MAA7B,WACE,SAAC,EAAAC,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,KAAD,iCAEF,SAAC,EAAAJ,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACE3B,MAAOA,EACP2iB,QAAS/Y,EACTlI,UAAU,cACVN,KAAK,QACL8K,YAAY,wBACZC,QACE,SAAC,EAAAR,OAAD,CACE/J,KAAK,OACLsF,QAAS,IAAM0C,EAAS+lB,GACxB9tB,MAAM,SAAC,IAAD,CAASqB,KAAK,iBACpB3B,MAAO,CAAE6K,aAAc,GAJzB,gCAWN,SAAC,EAAAnL,IAAD,WACE,UAAC,EAAAC,MAAD,YACE,SAAC,EAAAG,WAAA,KAAD,CAAiBO,KAAK,YAAtB,uCAGA,SAAC,EAAAP,WAAA,KAAD,WAAkB8B,EAAAA,EAAAA,IAAQwsB,GAAYtsB,OAAO,kBCiCvD,GAtEkC,IAIE,IAJD,YACjCW,EAAc,GADmB,MAEjChE,EAFiC,SAGjC4J,GACiC,EACjC,MAAO+lB,EAAYC,IAAiBxrB,EAAAA,EAAAA,UAAS,KACtC0G,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,GAEjCyrB,GAAmBnrB,EAAAA,EAAAA,cAAYC,UACnC,IAAKM,EAAAA,QAAAA,UAAkBjB,GAAc,OAAO4rB,EAAc,IAC1D5kB,GAAW,GACX,IACE,IAAItC,OvD0C0C/D,gBAG3B0M,GAAWE,mBAChC6D,GACA,CACE0a,WAAY,YACZre,QAAS,CACP,CAAEC,SAAU,KACZ,CACEC,OAAQ,CACNzH,OAAQ,IACR0H,MAAOkE,OuDtDQia,CAAqC/rB,GAC1D4rB,EAAclnB,EAASnK,OAAO0K,YAC9B,MAAOsV,GACPtQ,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAasO,EAAGwD,UAJjD,QAME/W,GAAW,MAEZ,CAAChH,IAMJ,OAJA6B,EAAAA,EAAAA,YAAU,KACRgqB,MACC,CAACA,KAGF,UAAC,EAAA/uB,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAIC,QAAQ,MAA7B,WACE,SAAC,EAAAC,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,KAAD,iCAEF,SAAC,EAAAJ,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACE3B,MAAOA,EACP2iB,QAAS/Y,EACTlI,UAAU,cACVN,KAAK,QACL8K,YAAY,wBACZC,QACE,SAAC,EAAAR,OAAD,CACE/J,KAAK,OACLsF,QAAS,IAAM0C,EAAS+lB,GACxB9tB,MAAM,SAAC,IAAD,CAASqB,KAAK,iBACpB3B,MAAO,CAAE6K,aAAc,GAJzB,gCAWN,SAAC,EAAAnL,IAAD,WACE,UAAC,EAAAC,MAAD,YACE,SAAC,EAAAG,WAAA,KAAD,CAAiBO,KAAK,YAAtB,+CAGCkJ,GACC,SAAC,EAAAkO,KAAD,CACEgX,SAAUllB,EACVmO,WAAW,SAACC,GAAA,EAAD,CAAiB3X,MAAO,CAAEC,SAAU,SAGjD,SAAC,EAAAH,WAAA,KAAD,WACG8B,EAAAA,EAAAA,IAAQwsB,GAAYtsB,OAAO,kBC5C1C,GAzB0B,KACxB,MAAMsW,GAAUrX,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAImX,UACrDrH,GAAWC,EAAAA,EAAAA,gBAEX,MAAE2D,EAAF,OAASwD,EAAT,YAAiB1V,GAAgB2V,EAEvC,OAAQzD,GASN,SAAC,GAAD,CACElS,YAAaA,EACbhE,MAAK,OAAE0Z,QAAF,IAAEA,OAAF,EAAEA,EAAQzQ,WACfW,SAAW8P,GACTpH,EAASgI,GAAW,IAAKX,EAASD,OAAQ,IAAI1M,IAAJ,CAAO0M,SAZrD,SAAC,GAAD,CACE1V,YAAaA,EACbhE,MAAK,OAAE0Z,QAAF,IAAEA,OAAF,EAAEA,EAAQzQ,WACfW,SAAW8P,GACTpH,EAASgI,GAAW,IAAKX,EAASD,OAAQ,IAAI1M,IAAJ,CAAO0M,SC0EzD,GA1EgB,IAA0D,IAAzD,YAAE1V,EAAF,SAAesH,EAAf,WAAyB2kB,GAA+B,EACvE,MAAOnF,EAAQC,IAAa3mB,EAAAA,EAAAA,UAAS,KAC9B0G,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,IAErCmT,IAAI,MAAElY,KACJmY,EAAAA,EAAAA,SAEE0Y,GAAYvtB,EAAAA,EAAAA,UAAQ,IACpBtD,EAAQ,IAVI,IADC,KAahB,CAACA,IAEE4R,EAAW+Z,GAAehnB,GAC1BmsB,EAAY,OAAGlf,QAAH,IAAGA,OAAH,EAAGA,EAAU2D,KAAKA,KAE9BqW,GAAoBvmB,EAAAA,EAAAA,cAAYC,UACpC,IAAKsM,EAAU,OAAO8Z,EAAUG,IAChC,IACElgB,GAAW,GACX,MAAM2C,EAAMsD,EAAS2D,KAAKA,KAAKuW,IAC/B,IAAKxd,EAAK,OAAOod,EAAUG,IAE3B,MACME,SADiBC,KAAAA,IAAU1d,IACZiH,KAAK1E,MAC1B,OAAO6a,EAAUK,GACjB,MAAO7M,GACP,OAAOtQ,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAasO,EAAGwD,UATxD,QAWE/W,GAAW,MAEZ,CAACiG,IAMJ,OAJApL,EAAAA,EAAAA,YAAU,KACRolB,MACC,CAACA,KAGF,SAAC,EAAAnpB,KAAD,CACEC,UAAU,EACVR,MAAO,CAAE6F,OAAQ,UAAW3F,UAAW,UACvCU,UAAW,CAAEC,QAAS,GACtB0I,QAASA,EACT5D,QAAS,IAAMoE,EAAStH,GAL1B,UAOE,UAAC,EAAAlD,IAAD,WACGmvB,IACC,SAAC,IAAD,CACE/sB,KAAK,WACL3B,MAAO,CACL4X,SAAU,WACViX,KAAM,EACNC,OAAQ,EACR7uB,SAAU,GACV8uB,OAAQ,MAId,SAAC,EAAArvB,IAAD,CAAKU,KAAM,GAAIJ,MAAO,CAAEE,UAAW,SAAUpC,MAAO6wB,GAApD,UACE,SAAC,EAAAjY,MAAD,CACElS,IAAK+kB,EACL5S,SAAS,EACT3W,MAAO,CAAEW,aAAc,GACvB7C,MAAO6wB,EACP5wB,OAAQ4wB,OAGZ,SAAC,EAAAjvB,IAAD,CAAKU,KAAM,GAAIJ,MAAO,CAAEE,UAAW,SAAU8uB,WAAY,OAAzD,UACE,SAAC,EAAAlvB,WAAA,KAAD,iBAAkB8uB,QAAlB,IAAkBA,OAAlB,EAAkBA,EAAcjtB,eCvD1C,GAtB4B,IAAoD,IAAnD,SAAE4V,EAAF,QAAYhO,GAAU,GAA4B,EAC7E,OACE,SAAC,EAAAmB,MAAD,CACE8M,QACE,SAAC,EAAApN,OAAD,CACE/J,KAAK,OACLR,KAAK,QACLS,KACEiJ,GACE,SAAC,EAAAkO,KAAD,CAAMC,WAAW,SAACC,GAAA,EAAD,CAAiB3X,MAAO,CAAEC,SAAU,SAErD,SAAC,IAAD,CAAS0B,KAAK,qBAKtBgJ,YAAY,+BACZ3K,MAAO,CAAElC,MAAO,QAChBuK,SAAWyC,GAAMyM,EAASzM,EAAEjO,OAAO4B,UC2HzC,GA/H2B,IAIK,IAJJ,QAC1B8J,EAD0B,WAE1BC,EAF0B,SAG1BuB,GAC6B,EAC7B,MAAOklB,EAAoBC,IACzBrsB,EAAAA,EAAAA,aACKssB,EAAYC,IAAiBvsB,EAAAA,EAAAA,UAAiB,KAC9C0G,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,IAGrC+J,QAAUrJ,QAAS2N,KACjBC,EAAAA,EAAAA,aAEEke,GAAuBlsB,EAAAA,EAAAA,cAAYC,UACvC,IAAIksB,EAAqD,GACzD,IAAK5rB,EAAAA,QAAAA,UAAkByrB,GAAa,OAAOG,EAC3C,IAAIC,QAAuBrb,GAAeib,GAM1C,OALII,EAAelc,KACjBic,EAAeC,EAAelc,KAAK9L,MAAQ,CAACgoB,EAAelc,MAE3Dic,EAAiB,GAEZA,IACN,CAACH,IAEEK,EAAe/sB,IACnBsH,EAAStH,GACTgtB,KAGIA,EAAe,KACnBL,EAAc,IACd5mB,GAAW,IAGPknB,GAAoBvsB,EAAAA,EAAAA,cAAYC,UACpCqG,GAAW,GACX,IAAI6lB,EAAqD,GACzD,IAEIA,EADEH,EAAWnyB,OAAS,QACCqyB,S3D9CFjsB,WAG3B,MAAMusB,EAAiBze,EACjB0e,QAAqBlc,GAASM,gBAClClE,GACA6f,GAEF,IAAI3G,EAA+C,GAQnD,OAPA4G,EAAanX,SAAS4Q,IAChBA,EAAI7U,aACNwU,EAASK,EAAI7U,WAAWtX,KAAO8rB,EAASK,EAAI7U,WAAWtX,KACnD,IAAI8rB,EAASK,EAAI7U,WAAWtX,KAAMmsB,GAClC,CAACA,OAGFL,G2DgCsB6G,CAAc3e,GAEvC,MAAO8L,GACP,OAAOtQ,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAasO,EAAGwD,UAPxD,QASE/W,GAAW,GAEb,OAAOylB,EAAsBI,KAC5B,CAACD,EAAsBF,EAAYje,IAMtC,OAJA5M,EAAAA,EAAAA,YAAU,KACRorB,MACC,CAACA,KAGF,UAAC,EAAAnpB,SAAD,YACE,SAAC,EAAAhG,KAAD,CACEJ,UAAU,iBACVH,MAAO,CACLS,WAAa,ugYAEfG,UAAW,CAAEC,QAAS,IACtB8E,QAAS,IAAM6C,GAAW,GAN5B,UAQE,UAAC,EAAA7I,MAAD,CAAOC,UAAU,WAAWI,MAAO,CAAElC,MAAO,QAAUsI,MAAM,SAA5D,WACE,SAAC,EAAAtG,WAAA,KAAD,CAAiBE,MAAO,CAAEkG,MAAO,WAAjC,qBACA,SAAC,EAAApG,WAAA,KAAD,CAAiBE,MAAO,CAAEkG,MAAO,WAAjC,qBACA,SAAC,EAAApG,WAAA,KAAD,CAAiBE,MAAO,CAAEkG,MAAO,WAAjC,8BAMJ,SAAC,EAAAmE,MAAD,CACElK,UAAU,sBACVoI,QAASA,EACTgC,QAAQ,EACRD,SAAUmlB,EACVK,gBAAgB,EALlB,UAOE,UAAC,EAAAvwB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,MAAD,CAAkBC,MAAO,EAAzB,wCAIF,SAAC,EAAAL,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEmJ,QAASA,EACT4lB,WAAYA,EACZ5X,SAAW9Y,GAAU2wB,EAAc3wB,QAGvC,SAAC,EAAAiB,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAb,IAAD,CACEC,OAAQ,CAAC,GAAI,IACbW,UAAU,YACVH,MAAO,CAAEjC,OAAQ,KAHnB,SAKGkxB,GACDvyB,OAAOmF,KAAKotB,GAAoBjyB,OAAS,EACvCN,OAAOmF,KAAKotB,GAAoB9qB,KAAKoQ,IACnC,SAAC,EAAA7U,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,KAAD,CAAUhN,OAAQ,IAAlB,UACE,SAAC,GAAD,CACE0E,YAAa8R,EACbxK,SAAUylB,OAJSjb,MAU3B,SAAC,EAAA7U,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAA+K,MAAD,mBChDlB,GA/E0B,KACxB,MAAO5C,EAASC,IAAc3F,EAAAA,EAAAA,WAAS,GACjCuV,GAAUrX,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAImX,UACrDrH,GAAWC,EAAAA,EAAAA,gBACX,MAAE2D,EAAF,YAASlS,GAAgB2V,EAEzB2X,EAAepb,GACZ5D,EAASgI,GAAW,IAAKX,EAASzD,WAGrCqb,EAAuBvtB,GACpBsO,EAASgI,GAAW,IAAKX,EAAS3V,iBAG3C,OACE,UAAC,EAAAlD,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,KAAD,yBAEF,SAAC,EAAAJ,IAAD,CAAKqX,KAAM,EAAX,UACE,UAAC,EAAAxX,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,YACE,SAAC,EAAAyK,OAAD,CACEzE,QAAS,IAAMoqB,GAAY,GAC3B5vB,UAAWgC,IAAQwS,GAAO,GAAS,GAAK,eAF1C,oBAMA,SAAC,EAAAvK,OAAD,CACEzE,QAAS,IAAMoqB,GAAY,GAC3B5vB,UAAWgC,IAAQwS,GAAO,GAAQ,GAAK,eAFzC,uBAQJ,SAAC,EAAAjV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAsK,MAAD,CACE7K,KAAK,QACL8K,YACGgK,EAEG,yCADA,sBAGNlW,MAAOgE,EACPtC,UAAU,cACVkI,SAAWyC,GACTiG,EACEgI,GAAW,IAAKX,EAAS3V,YAAaqI,EAAEjO,OAAO4B,SAGnDmM,QACG+J,IACC,SAAC,EAAD,CACElW,MAAOgE,EACP4F,SAAU2nB,EACVhwB,MAAO,CAAE6K,aAAc,KAI7BolB,WAAW,WAKlBtb,IACC,SAAC,EAAAjV,IAAD,WACE,SAAC,GAAD,CACE6I,QAASA,EACTC,WAAYA,EACZuB,SAAUimB,UCpCtB,GAxCgB,KACd,MAAM5X,GAAUrX,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAImX,WACrD,SAAE1D,GAAa0D,EACfrH,GAAWC,EAAAA,EAAAA,gBAEfgF,IAAI,MAAEkW,KACJjW,EAAAA,EAAAA,SAEEkW,EADyB,OAAVD,EACa,OAAI1pB,EAEhC0tB,EAAexb,GACZ3D,EAASgI,GAAW,IAAKX,EAAS1D,cAE3C,OACE,UAAC,EAAAnV,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,KAAD,6BAEF,SAAC,EAAAJ,IAAD,CAAKU,KAAM+rB,EAAX,UACE,SAAC,EAAA/hB,OAAD,CACEzE,QAAS,IAAMuqB,GAAY,GAC3B/vB,UAAWgC,IAAQuS,GAAU,GAAS,GAAK,eAC3CyQ,OAAK,EAHP,4BAQF,SAAC,EAAAzlB,IAAD,CAAKU,KAAM+rB,EAAX,UACE,SAAC,EAAA/hB,OAAD,CACEzE,QAAS,IAAMuqB,GAAY,GAC3B/vB,UAAWgC,IAAQuS,GAAU,GAAQ,GAAK,eAC1CyQ,OAAK,EAHP,0BCTR,GAnBgB,KAEZ,UAAC,EAAA5lB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,OAEF,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,OAEF,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,OAEF,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,SCgBR,GA3Be,KACb,MACEa,KAAK,QAAEmX,KACLrX,EAAAA,EAAAA,cAAaC,GAAoBA,IAC/B+P,GAAWC,EAAAA,EAAAA,gBACX,OAAEhP,GAAWoW,EAOnB,OALA9T,EAAAA,EAAAA,YAAU,KACJtC,IAAWI,EAAAA,WAAAA,YACf2O,EAASgI,GAAW,IAAKX,EAASpW,OAAQI,EAAAA,WAAAA,gBACzC,CAACgW,EAASrH,EAAU/O,KAGrB,UAAC,EAAAzC,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,KAAD,4BAEF,SAAC,EAAAJ,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,SAAC,GAAD,CACEtM,MAAO2D,EAAAA,WAAAA,WACPJ,OAAQI,EAAAA,WAAAA,mBC4BlB,GA3CoB,IAQK,IARJ,KACnBT,EAAO,GADY,cAEnBuP,EAAgB,GAFG,SAGnB7I,EAHmB,YAInB8nB,GAAc,EAJK,oBAKnBC,GAAsB,EALH,aAMnBC,GAAe,EANI,OAOnBC,EAAS,UACa,EACtB,OACE,UAAC,EAAA/wB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,EAAX,UACE,SAAC,EAAAsK,MAAD,CACEvK,UAAU,cACVkI,SAAUA,EACV5J,MAAOkD,EACPgJ,YAAY,OACZhJ,KAAK,OACL2G,SAAU+nB,OAGd,SAAC,EAAA3wB,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAsK,MAAD,CACEvK,UAAU,cACV1B,MAAOyS,EACPvG,YAAY,uBACZrC,SAAU8nB,EACVzuB,KAAK,gBACL0G,SAAUA,OAGd,SAAC,EAAA3I,IAAD,CAAKU,KAAM,EAAX,UACE,SAAC,EAAAgK,OAAD,CACE9B,SAAU6nB,EACV9vB,KAAK,OACLC,MAAM,SAAC,IAAD,CAASqB,KAAK,kBACpBgE,QAAS2qB,UCoEnB,GA1GmB,KACjB,MACE1jB,QAAUrJ,QAAS0R,KACjB9D,EAAAA,EAAAA,cAEFzB,UAAU,aAAEP,KACVpO,EAAAA,EAAAA,cAAaC,GAAoBA,IAC/B+P,GAAWC,EAAAA,EAAAA,gBACX,QAAElC,GAAYK,EAEdohB,GAAkBptB,EAAAA,EAAAA,cAAY,KAClC,GAAI2L,EAAQ9R,OAAQ,OAEpB,OAAO+T,EAAST,GAAgB,CAAExB,QADX,CAAC,CAAEnN,KAAM,GAAIuP,cAAe+D,SAElD,CAAClE,EAAUjC,EAAQ9R,OAAQiY,IAwC9B,OAJA3Q,EAAAA,EAAAA,YAAU,KACRisB,MACC,CAACA,KAGF,UAAC,EAAAhxB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,MAAD,CAAkBC,MAAO,EAAzB,oDAIF,SAAC,EAAAL,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,SACG0O,EAAQ9R,SACP,SAAC,GAAD,CACE2E,KAAMmN,EAnEL,GAmEuBnN,KACxBuP,cAAe+D,EACf5M,SA9BUyC,IACtB,MAAM0lB,EAAc,IAAI1hB,GAExB,OADA0hB,EAzCa,GAyCW,IAAKA,EAzChB,GAyCuC7uB,KAAMmJ,EAAEjO,OAAO4B,OAC5DsS,EAAST,GAAgB,CAAExB,QAAS0hB,MA4B/BL,aAAa,EACbC,qBAAqB,KAPPnb,GAWnBnG,EAAQ9R,QACP8R,EAAQ3K,KAAI,CAAC,EAAyBkT,KAAS,IAAlC,KAAE1V,EAAF,cAAQuP,GAAyB,EAC5C,OAAIA,IAAkB+D,EAAkB,MAEtC,SAAC,EAAAvV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEuB,KAAMA,EACNuP,cAAeA,EACf7I,SAAWyC,GA5DN,EAACA,EAAkCG,KACxD,MAAMulB,EAAc,IAAI1hB,GACxB,IAAK,MAAM,cAAEoC,KAAmBpC,EAC9B,GAAI3M,IAAQ+O,EAAepG,EAAEjO,OAAO4B,OAClC,OAAOiO,OAAO8J,OAAO,CACnBnW,KAAM,UACNqO,YAAa,uCAOnB,OAJA8hB,EAAYvlB,GAAS,IAChBulB,EAAYvlB,GACf,CAACH,EAAEjO,OAAO8E,MAAOmJ,EAAEjO,OAAO4B,OAErBsS,EAAST,GAAgB,CAAExB,QAAS0hB,MAgDzBC,CAAe3lB,EAAGuM,GAEpBiZ,OAAQ,IAzCVrlB,KACd,MAAMulB,EAAc,IAAI1hB,GAExB,OADA0hB,EAAYE,OAAOzlB,EAAO,GACnB8F,EAAST,GAAgB,CAAExB,QAAS0hB,MAsCbF,CAAOjZ,MAPLA,OAY1B,SAAC,EAAA3X,IAAD,CAAKU,KAAM,EAAX,UACE,SAAC,EAAAgK,OAAD,CACE+a,OAAK,EACL9kB,KAAK,SACLC,MAAM,SAAC,IAAD,CAASqB,KAAK,gBACpBgE,QA/EM,KAChB,MAAM6qB,EAAc,IAAI1hB,GAExB,OADA0hB,EAAYtnB,KAAK,CAAEvH,KAAM,GAAIuP,cAAe,KACrCH,EAAST,GAAgB,CAAExB,QAAS0hB,MAwEnC,4BCnFZ,GAhBwB,KAEpB,UAAC,EAAAjxB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,OAEF,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,OAEF,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,SC8JR,GAxJuB,KAAO,IAAD,EAC3B,MAAM+O,GAAepO,EAAAA,EAAAA,cAClBC,GAAoBA,EAAM0O,SAASP,eAEhC4B,GAAWC,EAAAA,EAAAA,eAEX2f,EAAiBvtB,UACrB,MAAMwtB,EAAyB,IAC1BzhB,EACHR,MAAOkiB,GAET,OAAO9f,EAAST,GAAgBsgB,KAS5BvoB,EAAYyC,GAChBiG,EAAST,GAAgB,CAAE,CAACxF,EAAEjO,OAAO8E,MAAOmJ,EAAEjO,OAAO4B,SAoBvD,OACE,UAAC,EAAAc,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAWI,MAAO,CAAElC,MAAO,QAA5C,WACE,SAAC,EAAAgC,WAAA,KAAD,wBACA,SAAC,EAAA4K,MAAD,CACEC,YAAY,iBACZtC,SAAUA,EACV1G,KAAK,UACLxB,UAAU,sBAIhB,SAAC,EAAAT,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAWI,MAAO,CAAElC,MAAO,QAA5C,WACE,SAAC,EAAAgC,WAAA,KAAD,+BACA,SAAC,EAAA4K,MAAA,SAAD,CACEC,YAAY,wBACZhJ,KAAK,cACL0G,SAAUA,EACVlI,UAAU,sBAIhB,SAAC,EAAAT,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAjB,WACE,SAAC,EAAAE,WAAA,KAAD,qBACCqP,EAAaR,OACZ,UAAC,EAAApO,KAAD,CACEJ,UAAU,0BACVS,UAAW,CAAEC,QAAS,EAAG+W,SAAU,WAAY7Z,OAAQ,QAFzD,WAIE,SAAC,EAAA2Y,MAAD,CACElS,KAAK,UAAA2K,EAAaR,aAAb,eAAoBjH,aAAc,GACvCiP,SAAS,KAEX,SAAC,IAAD,CACExW,UAAU,oBACVwB,KAAK,gBACLgE,QAAS,IAAMoL,EAAST,GAAgB,CAAE3B,MAAO,YAIrD,SAAC,EAAAmiB,OAAD,CACE3wB,UAAY,6BACRgP,EAAaR,MAAQ,WAAa,IAEtCoiB,OAAO,iCACPpvB,KAAK,SACLqvB,SAAS,eACTC,SAAU,EACV5oB,SA9EU6oB,IACpB,MAAM,SAAEC,GAAaD,ErE1BG,EAC1BA,EACAE,KAEA,MAAMC,EAAS,IAAIC,WACnBD,EAAOE,cAAcL,GACrBG,EAAOG,OAASpuB,UACViuB,EAAOI,QAAQL,EAASC,EAAOI,UqEqBnCC,CADmBP,EAAS,GAAGQ,cACNhB,IA4EfiB,SAAU,KACR7gB,EAAST,GAAgB,CAAE3B,MAAO,OAC3B,GAXX,UAcE,UAAC,EAAAhP,MAAD,CAAOC,UAAU,WAAWC,KAAM,EAAlC,WACE,SAAC,EAAAC,WAAA,KAAD,CAAiBE,MAAO,CAAEC,SAAU,IAApC,UACE,SAAC,IAAD,CAAS0B,KAAK,4BAEhB,SAAC,EAAA7B,WAAA,KAAD,CAAiBO,KAAK,YAAYL,MAAO,CAAEC,SAAU,IAArD,yCAQV,SAAC,EAAAP,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOC,UAAU,WAAWI,MAAO,CAAElC,MAAO,QAA5C,WACE,SAAC,EAAAgC,WAAA,KAAD,uCACA,UAAC,EAAAP,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,UACG2P,EAAaP,UAAUzK,KAAI,CAAC0tB,EAAQ5mB,KACnC,SAAC,EAAAvL,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAsK,MAAD,CACEC,YAAY,aACZtC,SAAWyC,GAjGN,EAACA,EAAkCuM,KAC1D,MAAMya,EAAoB,IAAI3iB,EAAaP,WAC3CkjB,EAAQza,GAAOvM,EAAEjO,OAAO4B,MACxBsS,EAAST,GAAgB,CAAE1B,UAAWkjB,MA+FlBC,CAAiBjnB,EAAGG,GAEtB9K,UAAU,mBAGd,SAAC,EAAAT,IAAD,CAAKU,KAAM,EAAX,UACE,SAAC,EAAAgK,OAAD,CACE/J,KAAK,OACLC,MAAM,SAAC,IAAD,CAASqB,KAAK,kBACpBgE,QAAS,IA/FbsF,KACd,MAAM6mB,EAAoB,IAAI3iB,EAAaP,WAE3C,OADAkjB,EAAQpB,OAAOzlB,EAAO,GACf8F,EAAST,GAAgB,CAAE1B,UAAWkjB,MA4FZxB,CAAOrlB,WAfVA,MAqBtB,SAAC,EAAAvL,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAgK,OAAD,CACE/J,KAAK,SACLC,MAAM,SAAC,IAAD,CAASqB,KAAK,gBACpBgE,QA/GE,KACd,MAAMmsB,EAAoB,IAAI3iB,EAAaP,WAE3C,OADAkjB,EAAQ5oB,KAAK,IACN6H,EAAST,GAAgB,CAAE1B,UAAWkjB,MAyGnC,+BCpJP,IAAKE,IAAZ,SAAYA,GAAAA,EAAAA,EAAAA,QAAAA,GAAAA,UAAAA,EAAAA,EAAAA,QAAAA,GAAAA,UAAAA,EAAAA,EAAAA,UAAAA,GAAAA,YAAZ,CAAYA,KAAAA,GAAAA,KAMZ,MAmBA,GAnByB,IAAiC,IAAhC,KAAEC,GAA6B,EACvD,MAAMpjB,GAAU9N,EAAAA,EAAAA,cACbC,GAAoBA,EAAM0O,SAASP,aAAaN,UAEnD,OAAIojB,IAASD,GAAeE,SAAgB,SAAC,GAAD,IAExCD,IAASD,GAAeG,SAAuB,iBAAZtjB,GAC9B,SAAC,GAAD,IACLojB,IAASD,GAAeG,SAAuB,iBAAZtjB,GAC9B,SAAC,GAAD,IAELojB,IAASD,GAAeI,WAAyB,iBAAZvjB,GAChC,SAAC,GAAD,IACLojB,IAASD,GAAeI,WAAyB,iBAAZvjB,GAChC,SAAC,GAAD,KAEF,SAAC,GAAD,KCvBHwjB,GAAqB,CACzB,qBACA,uBACA,eACA,UAiBF,GAdsB,IAAmC,IAAlC,KAAEJ,GAA+B,EACtD,OACE,UAAC,EAAAtyB,MAAD,CAAOC,UAAU,WAAWC,KAAM,GAAlC,WACE,SAAC,EAAAC,WAAA,MAAD,CAAkBC,MAAO,EAAzB,SAA6BsyB,GAAmBJ,MAChD,SAAC,EAAAK,SAAD,CACEnyB,UAAU,kBACVoyB,QAdgB,GAcPN,EAdO,GAehBO,MAAO,EACPC,UAAU,SChBhBrkB,UAAYlC,MAAF,KACRqC,EAsBJ,GApBmB,IAA4D,IAA3D,KAAE0jB,EAAF,aAAQS,EAAe,UAAmC,EAC5E,MAAM5c,GAAUC,EAAAA,EAAAA,cAEhB,OAAIkc,EAAO,GAEP,SAAC,EAAA7nB,OAAD,CAAQ/J,KAAK,QAAQsF,QAAS+sB,EAAc7yB,KAAK,QAAjD,mBAKF,SAAC,EAAAuK,OAAD,CACE/J,KAAK,OACLsF,QAAS,IAAMmQ,EAAQ5M,KAAM,QAAOgD,UACpCrM,KAAK,QAHP,qB,uBCRJ,MACEyO,KAAOX,SAAF,IACLS,UAAYlC,MAAF,KACRqC,EAoDJ,GAlDuB,KACrB,MAAOhF,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,GACjCuV,GAAUrX,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAImX,UACrDjJ,GAAepO,EAAAA,EAAAA,cAClBC,GAAoBA,EAAM0O,SAASP,gBAEhC,YAAE1M,GAAgB2V,EAClBwE,EAAWU,GAAgB7a,IAAgB,EAC3CyQ,EAAMC,KACN2C,GAAUC,EAAAA,EAAAA,cAEV4c,GAAgBxvB,EAAAA,EAAAA,cAAYC,UAChC,IACEqG,GAAW,GACX,MAAM,YAAEhH,EAAF,OAAe0V,EAAf,OAAuBnW,EAAvB,SAA+B0S,EAA/B,MAAyCC,GAAUyD,EACnDrF,EAAO,IAAIC,GAAAA,EACXO,QAAYR,EAAKb,IAAI/C,IAEzBkX,WAAW,OAAEvU,IACXK,GAAAA,GAAAA,MAAUoB,GACR7D,EAAWnE,GAAOC,KAAKsG,GACvB8gB,EAAcza,EAAO6H,IAAI,IAAIvU,IAAJ,CAAO,IAAIonB,IAAI,IAAIpnB,IAAJ,CAAOmR,MAE/C,KAAE6L,EAAF,WAAQnZ,SAAqB3B,GAASmlB,cAC1CrwB,EACAmwB,EACAljB,OACAlN,EACAR,EACA2S,EACAD,GAEIlB,EAAgB,IAAKrE,EAAcoE,OAOzC,aANML,EAAIO,QAAQnE,EAAYkE,GAC9B9G,OAAO8J,OAAO,CACZnW,KAAM,UACNqO,YAAa,oDACb/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAEtC3S,EAAQ5M,KAAM,QAAOgD,UAAaoD,KACzC,MAAO0N,GACPtQ,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAasO,EAAGwD,UA7BjD,QA+BE/W,GAAW,MAEZ,CAAC2O,EAASjJ,EAAcyN,EAAU1J,EAAK4C,IAE1C,MAAO,CAAE6c,gBAAeppB,Y,gBCvD1B,MACE+E,KAAOR,QAAF,KACHS,EA2LJ,SAvLA,MAGE/B,YAAY/J,GAAsB,KAF1BswB,WAEyB,OAIjCC,eAAiB5vB,MACfwZ,EACAvZ,EACAwM,KAEA,MAAMojB,EAAMC,EAAAA,IAAAA,MAAUrjB,GAChBsjB,QAAYF,EAAIvvB,QAAgB6D,KAAK6rB,kBAAkB/vB,GACvD6J,GAAK,IAAI8Z,EAAAA,KAAAA,aAAmBzM,IAAI4Y,GAetC,OAdAjmB,EAAGqN,IACD0Y,EAAItL,YAAYqL,eACdpW,EACA/M,EAASjD,OAAOW,UAChBsC,EAASjD,OAAOW,UAChB,CACEpG,SAAU,CACRI,KAAMlE,EAAMkK,UACZma,KAAMV,EAAAA,KAAAA,oBAERqM,QAAS,MAIRxjB,EAASyjB,eAAepmB,EAAI,CAAC7J,KA1BL,KA6BjCkwB,YAAcnwB,UACZ,MAAM0M,EAAa,IAAIkX,EAAAA,KAAAA,WAAgBwM,EAAAA,GAAK,aAK5C,OAJuB,IAAIC,EAAAA,eAAe3jB,EAAY,IAAIjC,EAAc,CACtE0gB,WAAY,YACZmF,eAAe,KAjCc,KAsCjCC,eAAiBvwB,UACf,MAAMmE,EAAO,IAAIyf,EAAAA,KAAAA,SACX,OAAEpa,EAAF,KAAUoS,GAAStS,OAAOC,OAC1BuE,QAAsBtE,EAAOI,aASnC,aARMgS,EAAKgU,eACT,EACA9hB,EACA,KACA3J,EACAmF,OAAOC,OAAOC,QAEhBrP,KAAKw1B,MAAQxrB,EAAKgG,UACXhG,EAAKgG,UAAUqC,YAlDS,KAoDjCgkB,wBAA0BxwB,MAAO8N,EAAuBzJ,KACtD,MAAMF,EAAO,IAAIyf,EAAAA,KAAAA,QACXnX,QAAiBtS,KAAKg2B,cAEtBN,EAAMC,EAAAA,IAAAA,MAAUrjB,GAEhBsjB,QAAYF,EAAIvvB,QAAgB6D,KAAK6rB,kBAAkB7rB,GACvD2F,GAAK,IAAI8Z,EAAAA,KAAAA,aAAmBzM,IAAI4Y,GAChCxQ,QAAmB1S,EAAAA,MAAAA,MAAAA,kBAA8B,CACrD6T,MAAO,IAAIhX,EAAAA,UAAUoE,GACrB3J,KAAMA,EAAKgG,YAEbL,EAAGqN,IACD0Y,EAAItL,YAAYqL,eAtEG,EAwEjBnjB,EAASjD,OAAOW,UAChBsC,EAASjD,OAAOW,UAChB,CACEpG,SAAU,CACRI,KAAMA,EAAKgG,UACXma,KAAMV,EAAAA,KAAAA,uBAMd,MAAM6M,QAAiB/lB,GAAQiC,QAAQsX,QACpCyM,WAAW,IAAIroB,EAAAA,GAAGhE,GAAS,IAAIgE,EAAAA,GAAG,IAClCtE,SAAS,CACRqgB,uBAAwBuM,GAAAA,4BACxBjY,UAAW,IAAIhP,EAAAA,UAAUoE,GACzBkS,IAAKT,EACL2E,aAAc,IAAIxa,EAAAA,UAAUoE,GAC5B3J,KAAMA,EAAKgG,UACX8V,MAAO,IAAIvW,EAAAA,UAAUoE,GACrBwW,KAAMV,EAAAA,KAAAA,mBACNS,cAAeT,EAAAA,KAAAA,cAAAA,UACfO,aAActX,EAAAA,MAAAA,MAAAA,mBAEf0X,cAKH,OAJAza,EAAGqN,IAAIsZ,SAEDhkB,EAASyjB,eAAepmB,EAAI,CAAC3F,IACnChK,KAAKw1B,MAAQxrB,EAAKgG,UACXhG,EAAKgG,UAAUqC,YAhGS,KAmGjCokB,YAAc,IAAez2B,KAAKw1B,MAAMnjB,aAAeqkB,EAAAA,sBAnGtB,KAqGjCC,cAAgB9wB,MAAOuf,EAAoBlb,KACzC,IAAKlK,KAAKy2B,cAAe,MAAM,IAAIvkB,MAAM,mCACnC3B,GAAQgmB,WAAW,CACvBrsB,OAAQ,IAAIgE,EAAAA,GAAGhE,GACf8e,aAAchpB,KAAKw1B,MAAMnjB,WACzBukB,iBAAkBxR,KA1GW,KA8GjCyR,eAAiBhxB,UAUV,IAViB,OACtBqE,EADsB,aAEtB8e,EAFsB,iBAGtB4N,EAHsB,WAItBE,GAMI,EACJ,MAAMxkB,QAAiBtS,KAAKg2B,eACtB,IAAEvlB,EAAF,oBAAOsmB,GAAwBD,EACrC,KAAKE,EAAAA,EAAAA,WAAUD,GACb,MAAM,IAAI7kB,MAAM,iCAClB,GAAIhI,EAAO+sB,QAAS,MAAM,IAAI/kB,MAAM,qCACpC,KAAK8kB,EAAAA,EAAAA,WAAUhO,GAAe,MAAM,IAAI9W,MAAM,yBAC9C,KAAK8kB,EAAAA,EAAAA,WAAUJ,GACb,MAAM,IAAI1kB,MAAM,sCAElB,MAAMqX,EAAiB,IAAIE,EAAAA,KAAAA,UAAeT,GACpCkO,EAAqB,IAAIzN,EAAAA,KAAAA,UAAemN,GACxCO,QAAqBzkB,EAAAA,MAAAA,MAAAA,kBAA8B,CACvD1I,KAAMuf,EACNhD,MAAO2Q,IAiBT,aAdmB3mB,GAAQiC,QAAQ4X,YAAYmM,WAAWrsB,EAAQuG,EAAK,CACrE7G,SAAU,CACRkc,MAAOxT,EAASjD,OAAOW,UACvBuO,UAAW2Y,EACXrR,IAAKsR,EACLpN,aAAc,IAAIN,EAAAA,KAAAA,UAAesN,GACjC/sB,KAAMuf,EACNS,aAActX,EAAAA,MAAAA,MAAAA,iBACduX,uBAAwBvX,EAAAA,MAAAA,MAAAA,sBACxBwX,cAAeT,EAAAA,KAAAA,cAAAA,UACfU,KAAMV,EAAAA,KAAAA,uBAnJqB,KA0JjC2N,YAAcvxB,MACZ0Y,EACAvU,EACAtK,WAEMM,KAAKg2B,cACX,MAAMN,EAAMC,EAAAA,IAAAA,QACN0B,QAAqB3kB,EAAAA,MAAAA,MAAAA,kBAA8B,CACvD1I,KAAMA,EACNuc,MAAO7mB,UAGHg2B,EAAIO,IAAIqB,KAAK,IAAIppB,EAAAA,GAAG,GAAI,CAC5BtE,SAAU,CACRlK,OAAQ23B,EACRrtB,OACAuU,gBA1K2B,KA+KjC8L,eAAiB,IACVrqB,KAAKy2B,cACHz2B,KAAKw1B,MAAMnjB,WADc,GA/KhCrS,KAAKw1B,MAAQ,IAAIjmB,EAAAA,UAAUrK,K,uBCJ/B,MACE6L,KAAOX,SAAF,IACLS,UAAYlC,MAAF,KACRqC,EA4FJ,GA1FuB,KACrB,MAAOhF,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,GACjCuV,GAAUrX,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAImX,UACrDjJ,GAAepO,EAAAA,EAAAA,cAClBC,GAAoBA,EAAM0O,SAASP,eAEhC+D,EAAMC,KACN2C,GAAUC,EAAAA,EAAAA,eAEdnJ,QAAUrJ,QAASuxB,KACjB3jB,EAAAA,EAAAA,aAEE4jB,GAAmB5xB,EAAAA,EAAAA,cAAYC,UACnC,MAAM,QAAE0L,GAAYK,EACd6lB,EAAiB,IAAIC,GAAehB,EAAAA,uBACpCxxB,QAAoBuyB,EAAerB,iBAEzC,aADMqB,EAAed,cAAcY,EAAUhmB,EAAQ9R,QAC9CyF,IACN,CAAC0M,EAAc2lB,IAEZI,GAAwB/xB,EAAAA,EAAAA,cAC5BC,UACE,MAAM,QAAE0L,EAAF,QAAWD,GAAYM,EAC7B,GAAgB,iBAAZN,EAA4B,MAAO,GACvC,MAAMkY,EAAc,IAAI8B,GAClBsM,EAAUrmB,EACbhI,QAAO,QAAC,cAAEoK,GAAH,SAAuBA,IAAkB4jB,KAChD3wB,KAAI,QAAC,cAAE+M,GAAH,SAAuBxN,EAAAA,QAAAA,YAAoBwN,MAMlD,aAJiC6V,EAAYd,kBAC3CkP,EACA1yB,KAIJ,CAAC0M,EAAc2lB,IAGXM,GAAoBjyB,EAAAA,EAAAA,cAAYC,UACpC,IACEqG,GAAW,GACX,MAAM,OAAEzH,EAAF,SAAU0S,EAAV,MAAoBC,GAAUyD,EAC9B3V,QAAoBsyB,IACpBhmB,QAA2BmmB,EAAsBzyB,GACjDsQ,EAAO,IAAIC,GAAAA,EACXO,QAAYR,EAAKb,IAAI,IAAK/C,EAAcJ,wBAE5CsX,WAAW,OAAEvU,IACXK,GAAAA,GAAAA,MAAUoB,GACR7D,EAAWnE,GAAOC,KAAKsG,IACvB,QAAEhD,GAAYK,EACdyjB,EAAc,IAAInnB,IAAJ,CAAOqD,EAAQ9R,SAC7B,KAAEyrB,EAAF,WAAQnZ,SAAqB3B,GAASmlB,cAC1CrwB,EACAmwB,EACAljB,OACAlN,EACAR,EACA2S,EACAD,GAaF,aAVMxB,EAAIO,QAAQnE,EAAY,IACzBH,EACHJ,qBACAwE,QAEF7G,OAAO8J,OAAO,CACZnW,KAAM,UACNqO,YAAa,oDACb/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAEtC3S,EAAQ5M,KAAM,QAAOgD,UAAaoD,KACzC,MAAO0N,GACPtQ,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAasO,EAAGwD,UAnCjD,QAqCE/W,GAAW,MAEZ,CACD2O,EACA2c,EACAG,EACA/lB,EACA+D,EACA4C,IAGF,MAAO,CAAEsf,oBAAmB7rB,YCrGxB8rB,GAAgB,KACpB,MAAM,cAAE1C,EAAF,QAAiBppB,GAAY+rB,KAEnC,OACE,SAAC,EAAAlrB,OAAD,CACEzE,QAASgtB,EACTtyB,KAAK,UACLR,KAAK,QACL0J,QAASA,EAJX,sBAWEgsB,GAAoB,KACxB,MAAM,kBAAEH,EAAF,QAAqB7rB,GAAYisB,KAEvC,OACE,SAAC,EAAAprB,OAAD,CACEzE,QAASyvB,EACT/0B,KAAK,UACLR,KAAK,QACL0J,QAASA,EAJX,sBAqBJ,GAVsB,KACpB,MAAM4F,GAAepO,EAAAA,EAAAA,cAClBC,GAAoBA,EAAM0O,SAASP,gBAEhC,QAAEN,GAAYM,EACpB,MAAgB,iBAAZN,GAAmC,SAACwmB,GAAD,KAEhC,SAACE,GAAD,KCLT,GA7BqB,IAKK,IALJ,KACpBtD,EADoB,aAEpBS,EAFoB,SAGpBpqB,EAHoB,QAIpBmtB,GACuB,EACvB,OACE,UAAC,EAAAl2B,IAAD,YACE,SAAC,EAAAG,IAAD,CAAKqX,KAAK,OAAV,UACE,SAAC,GAAD,CAAYkb,KAAMA,EAAMS,aAAc+C,OAExC,SAAC,EAAA/1B,IAAD,UACGuyB,IAASD,GAAeI,WACvB,SAAC,GAAD,KAEA,SAAC,EAAAhoB,OAAD,CACEzE,QAAS+sB,EACTryB,KAAK,UACLR,KAAK,QACLyI,SAAUA,EAJZ,4BCoEV,GA/E0B,KACxB,MAAO2pB,EAAMwD,IAAW5yB,EAAAA,EAAAA,UAAS,GAE3BsM,GAAepO,EAAAA,EAAAA,cAClBC,GAAoBA,EAAM0O,SAASP,eAEhCiJ,GAAUrX,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAImX,WACrD,YAAE3V,EAAF,OAAe0V,EAAf,OAAuBnW,GAAWoW,EAElCsd,GAAavyB,EAAAA,EAAAA,cAAYC,UAC7B,IACE,GAAI6uB,IAASD,GAAeE,UAAY/iB,EACtC,MAAM,IAAIM,MAAM,oBAClB,GAAIwiB,IAASD,GAAeG,UAAY/Z,EACtC,MAAM,IAAI3I,MAAM,oBAClB,OAAOgmB,EAAQxD,EAAO,GACtB,MAAOxd,GACP/H,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAa+F,EAAI+L,aAEjD,CAACpI,EAASjJ,EAAc8iB,IAErB0D,GAAYv0B,EAAAA,EAAAA,UAAQ,KACxB,MAAM,UAAEwN,GAAcO,EACtB,IAAKP,EAAU5R,OAAQ,OAAO,EAC9B,IAAK,MAAM44B,KAAQhnB,EAAW,IAAKwD,GAASwjB,GAAO,OAAO,EAC1D,OAAO,IACN,CAACzmB,IAEE7G,GAAWlH,EAAAA,EAAAA,UAAQ,KACvB,MAAM,QAAEqN,EAAF,MAAWE,EAAX,QAAkBE,EAAlB,QAA2BC,EAA3B,YAAoCJ,GAAgBS,EAC1D,GAAI8iB,IAASD,GAAeE,QAC1B,OAAQzjB,IAAYE,IAAUD,IAAgBinB,EAEhD,GAAI1D,IAASD,GAAeG,SAAuB,iBAAZtjB,EACrC,OAAQpM,IAAgBT,IAAWwF,OAAO2Q,GAE5C,GACE8Z,IAASD,GAAeG,SACZ,iBAAZtjB,GACAC,EACA,CACA,IAAIqG,GAAQ,EACZ,IAAK,MAAM2T,KAAUha,EAAS,CAC5B,MAAM,KAAEnN,EAAF,cAAQuP,GAAkB4X,EAChC,IAAKnnB,IAAS+B,EAAAA,QAAAA,UAAkBwN,GAAgB,CAC9CiE,GAAQ,EACR,OAGJ,OAAOA,KAER,CAAChG,EAAcwmB,EAAWlzB,EAAaT,EAAQiwB,EAAM9Z,IAExD,OACE,SAAC,EAAA5Y,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAKC,QAAQ,SAA/B,UACE,SAAC,EAAAC,IAAD,CAAK8B,GAAI,GAAIC,GAAI,GAAjB,UACE,SAAC,EAAAlB,KAAD,CAAMC,UAAU,EAAhB,UACE,UAAC,EAAAjB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CAAe6xB,KAAMA,OAEvB,SAAC,EAAAvyB,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CAAkB6xB,KAAMA,OAE1B,SAAC,EAAAvyB,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACE6xB,KAAMA,EACNS,aAAcgD,EACdptB,SAAUA,EACVmtB,QAAS,IAAMA,EAAQxD,EAAO,kBC3E5C3jB,KAAOX,SAAF,KACHY,EAESsnB,GAAczyB,UAGzB,IAAKM,EAAAA,QAAAA,UAAkB8a,GAAkB,MAAM,IAAI/O,MAAM,mBACzD,MACEI,UAAU,WAAEC,GADR,UAEJwI,EACA5U,SAAS,QAAEoyB,IACTnoB,GAASoC,QACPtR,QACEqR,EAAWE,mBAAmBsI,EAAW,CAC7CpI,QAAS,CACP,CAAEC,SAAU2lB,EAAQj2B,MACpB,CACEuQ,OAAQ,CACNzH,OAAQ,GACR0H,MAAOmO,OAKjB,IAAIhG,EAAoC,GAMxC,OAJA/Z,EAAMga,SAAQ,IAAyC,IAAxC,OAAEC,EAAQhV,SAAW2P,KAAM/H,IAAY,EACpD,MAAM+H,EAAO1F,GAASooB,iBAAiBzqB,GACvCkN,EAAKE,EAAO9I,YAAcyD,KAErBmF,GAmBT,GAhBoB,IAAuD,IAAtD,gBAAEgG,GAAmD,EACxE,MAAOwX,EAAUC,IAAepzB,EAAAA,EAAAA,UAAsC,IAEhEqzB,GAAgB/yB,EAAAA,EAAAA,cAAYC,UAChC,IAAKM,EAAAA,QAAAA,UAAkB8a,GAAkB,OAAOyX,EAAY,IAC5D,MAAME,QAAoBN,GAAYrX,GACtC,OAAOyX,EAAYE,KAClB,CAAC3X,IAMJ,OAJAla,EAAAA,EAAAA,YAAU,KACR4xB,MACC,CAACA,IAEG,CAAEF,cCxCT1nB,KAAOX,SAAF,KACHY,EA2FJ,GAzFmB,IAAkD,IAAjD,gBAAEiQ,GAA8C,EAClE,MAAOjV,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,IACjC,OAAE4Z,GAAWmE,GAAkBpC,GAC/BjO,EAAWsQ,GAAoBrC,IAC/B,SAAEwX,GAAaI,GAAY,CAAE5X,oBAE7B1P,GAAU1N,EAAAA,EAAAA,UAAQ,KACtB,IAAK1E,OAAOkH,OAAOoyB,GAAUh5B,OAAQ,OAAO,EAC5C,MAAMq5B,EAAwB,GAE9B,IAAK,MAAMP,KAAWp5B,OAAOkH,OAAOoyB,GAAW,CAC7C,MAAM,UAAEla,GAAcga,EAClBO,EAAYt0B,SAAS+Z,EAAUlM,aACnCymB,EAAYntB,KAAK4S,EAAUlM,YAG7B,OAAOymB,EAAYr5B,SAClB,CAACg5B,IAEEM,GAAUnzB,EAAAA,EAAAA,cAAYC,UAC1BqG,GAAW,GACX,IACE,MAAM,KAAEgf,SAAe9a,GAASxM,gBAAgBqd,GAChD,OAAO9R,OAAO8J,OAAO,CACnBnW,KAAM,UACNqO,YAAa,uBACb/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAE7C,MAAOrJ,GACP,OAAO1S,OAAO8J,OAAO,CACnBnW,KAAM,QACNqO,YAAa0Q,EAAMoB,UAVvB,QAaE/W,GAAW,MAEZ,CAAC+U,IAEJ,OACE,SAAC,EAAAje,KAAD,CAAMC,UAAU,EAAhB,UACE,UAAC,EAAAjB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAKqX,MAAM,EAA7B,WACE,SAAC,EAAAnX,IAAD,CAAKqX,KAAK,OAAV,UACE,UAAC,EAAApX,MAAD,CAAOC,UAAU,WAAjB,WACE,UAAC,EAAAD,MAAD,YACE,SAAC,EAAAG,WAAA,MAAD,CACEC,MAAO,EACPC,MAAO,CAAEu2B,UAAW,aAFtB,SAIW,OAARhmB,QAAQ,IAARA,GAAAA,EAAU5S,MACP4S,EAAS5S,OACTwZ,EAAAA,EAAAA,IAAeqH,MAGrB,SAAC,GAAD,CAAgB/B,OAAQA,QAE1B,UAAC,EAAA9c,MAAD,YACE,SAAC,IAAD,CAASgC,KAAK,oBACd,UAAC,EAAA7B,WAAA,KAAD,sBAA0BgP,cAIhC,SAAC,EAAApP,IAAD,WACE,SAAC,EAAA0K,OAAD,CACEvK,KAAK,QACLQ,KAAK,UACLsF,QAAS2wB,EACT/sB,QAASA,EACTjB,SAAqB,cAAXmU,EALZ,6BAYN,SAAC,EAAA/c,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,UAAD,CACEO,KAAK,YACL4F,SAAU,CAAEiR,KAAM,EAAGkN,YAAY,EAAM/e,OAAQ,aAFjD,gBAIGkL,QAJH,IAIGA,OAJH,EAIGA,EAAU7B,uBCrFrBJ,KAAOL,OAAF,GAAUD,IAAV,KACHO,EAmCJ,GAjCuB,IAA0C,IAAzC,WAAEe,GAAsC,EAC9D,MAAMxO,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,QAClD,OAAEkB,EAAF,UAAU8Z,GAAchb,EAAKwO,IAAgB,GAE7C8G,GAAchV,EAAAA,EAAAA,UAAQ,IACrBY,EACEtF,OAAOmF,KAAKG,GAAQ,GADP,IAEnB,CAACA,IAuBJ,OArBoBZ,EAAAA,EAAAA,UAAQ,KAC1B,IAAKgV,IAAgB0F,EAAW,OAEhC,MAAMqR,EAAwB,CAC5BG,IAAK,IAAI7hB,EAAAA,GAAGuC,IACZuf,cAAetf,GACfmf,QAAS,IAAI3hB,EAAAA,GAAGuC,IAChBqf,kBAAmBvR,EAAUlM,YAG/B,MAAoB,eAAhBwG,EACK,CACLkX,IAAK,IAAI7hB,EAAAA,GAAG,GACZ8hB,cAAetf,GACfmf,QAAS,IAAI3hB,EAAAA,GAAG,GAChB4hB,kBAAmBvR,EAAUlM,YAG1Bud,IACN,CAACrR,EAAW1F,MC9Bf9H,KAAOX,SAAF,KACHY,EA2IJ,GAhIqB,IAOK,IAPJ,QACpBhG,EADoB,WAEpBC,EAFoB,WAGpBgM,EAHoB,WAIpBgiB,EAJoB,gBAKpBhY,EALoB,WAMpBlP,GACuB,EACvB,MAAOmnB,EAAWC,IAAgB7zB,EAAAA,EAAAA,UAAiB,KAC5C0G,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,GACjC8zB,EAAcC,GAAe,CAAEtnB,eAE/BunB,GAAe1zB,EAAAA,EAAAA,cAAYC,UAC/BqG,GAAW,GACX,IACE,IAAK/F,EAAAA,QAAAA,UAAkB8a,KAAqBiY,EAAW,OAEvD,MAAM,KAAEhO,SAAe9a,GAASmpB,WAC9BtY,EACAiY,EACAE,GAEF,OAAOjqB,OAAO8J,OAAO,CACnBnW,KAAM,UACNqO,YAAa,6CACb/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAE7C,MAAOrJ,GACP,OAAO1S,OAAO8J,OAAO,CACnBnW,KAAM,QACNqO,YAAa0Q,EAAMoB,UAhBvB,QAmBEhY,GAAW,GACXiB,GAAW,MAEZ,CAACgtB,EAAWjY,EAAiBmY,EAAanuB,IAEvCuuB,GAAmB5zB,EAAAA,EAAAA,cAAYC,UACnCqG,GAAW,GACX,IACE,IAAK/F,EAAAA,QAAAA,UAAkB8a,KAAqBiY,EAAW,OAEvD,MAAM,KAAEhO,SAAe9a,GAASqpB,eAC9BxY,EACAiY,EACAE,GAEF,OAAOjqB,OAAO8J,OAAO,CACnBnW,KAAM,UACNqO,YAAa,6CACb/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAE7C,MAAOrJ,GACP,OAAO1S,OAAO8J,OAAO,CACnBnW,KAAM,QACNqO,YAAa0Q,EAAMoB,UAhBvB,QAmBE/W,GAAW,GACXjB,GAAW,MAEZ,CAACiuB,EAAWjY,EAAiBmY,EAAanuB,IAa7C,OACE,SAAC,EAAA6B,MAAD,CACElK,UAAU,sBACVoI,QAASA,EACTgC,QAAQ,EACRD,SAAU,IAAM9B,GAAW,GAC3BsnB,gBAAgB,EALlB,UAOE,UAAC,EAAAvwB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAN,WAAA,MAAD,CAAkBC,MAAO,EAAzB,kBAAkCy2B,QAEpC,SAAC,EAAA92B,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,KAAD,oCAEF,SAAC,EAAAJ,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAKW,UAAU,YAAYH,MAAO,CAAEjC,OAAQ,KAA9D,SACGyW,EAAWrQ,KAAKuL,IACf,SAAC,EAAAhQ,IAAD,CACE8B,GAAI,GACJuJ,GAAI,EAEJ/K,MAAO,CAAEE,UAAW,UAJtB,UAME,SAAC,KAAD,CAAUnC,OAAQ,IAAlB,UACE,SAAC,GAAD,CACE0E,YAAaiN,EAASnI,KACtBmnB,WAAY+H,IAAc/mB,EAASnI,KACnCwC,SAAU2sB,OAPThnB,EAASnI,aActB,SAAC,EAAA7H,IAAD,CAAKU,KAAM,GAAIJ,MAAO,CAAEE,UAAW,SAAnC,UACE,UAAC,EAAAP,MAAD,YACE,SAAC,EAAAyK,OAAD,CAAQzE,QAAS,IAAM6C,GAAW,GAAlC,qBACA,SAAC,EAAA4B,OAAD,CACE9B,UAAWmuB,EACXp2B,KAAK,UACLkJ,QAASA,EACT5D,QArDM,KAChB,OAAQ6wB,GACN,KAAKS,GAAWC,MACdL,IACA,MACF,KAAKI,GAAWE,SACdJ,MA2CI,gCC5HZ,GAVmB,IAA0C,IAAzC,OAAEK,GAAsC,EAC1D,MAAM/2B,GAAOe,EAAAA,EAAAA,UAAQ,IAEJ,gBADA1E,OAAOmF,KAAKu1B,EAAOC,QAAU,IAAI,GACX,WAC9B,SACN,CAACD,EAAOC,SAEX,OAAO,SAAC,EAAAv3B,WAAA,KAAD,UAAkBO,KCe3B,GAjBoB,IAA4C,IAA3C,QAAEy1B,GAAwC,EAC7D,MAAMh1B,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,OAClDI,GAAWH,EAAAA,EAAAA,cAAaC,GAAoBA,EAAME,YAClD,MAAEo2B,EAAOp2B,SAAUq2B,GAAmBzB,GACpC70B,IAAKu2B,GAAct2B,EAASq2B,EAAe3nB,aAAe,IAC5D,KAAErI,GAASzG,GAAc,OAAT02B,QAAS,IAATA,OAAA,EAAAA,EAAW5nB,aAAc,KAAQ,GACjD6nB,EAAcna,GAAe,OAAC/V,QAAD,IAACA,OAAD,EAACA,EAAMqI,aAAe,EAEzD,OACE,SAAC,EAAA9P,WAAA,KAAD,WACG8B,EAAAA,EAAAA,IACCqO,EAAAA,MAAAA,aAAmBwN,OAAO6Z,EAAMjY,YAAaoY,IAC7C31B,OAAO,mBCDbwM,KAAOX,SAAF,KACHY,EAuIJ,GArIiB,IAA8D,IAA7D,WAAEe,EAAF,gBAAckP,GAA8C,EAC5E,MAAOjW,EAASC,IAAc3F,EAAAA,EAAAA,WAAS,IAChC0G,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,IAChCszB,EAAauB,IAAkB70B,EAAAA,EAAAA,UAAoB,KACpD,SAAEmzB,GAAaI,GAAY,CAAE5X,qBAC7B,KAAE1d,IAASC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,OAClD,MAAE0T,GAAU7T,EAAKwO,IAAgB,IAErC1C,QAAUrJ,QAAS2N,KACjBC,EAAAA,EAAAA,aAEEwmB,EAAU,CACd,CACEh6B,MAAO,OACPi6B,UAAW,aACXC,OAASC,IACP,SAAC,EAAAh4B,WAAA,KAAD,UACGie,KAA+B,IAAxB+Z,EAAWzY,YAAmBvd,OAAO,uBAInD,CACEnE,MAAO,QACPi6B,UAAW,QACXC,OAAQ,CAACE,EAAQjC,KACf,SAAC,GAAD,CAAaA,QAASA,KAG1B,CACEn4B,MAAO,OACPi6B,UAAW,YACXC,OAAQ,CAACE,EAAQjC,KAAyB,SAAC,GAAD,CAAYsB,OAAQtB,KAEhE,CACEn4B,MAAO,GACPi6B,UAAW,GACXC,OAAQ,CAACE,EAAQjC,KACf,SAAC,EAAA1rB,OAAD,CAAQ/J,KAAK,UAAUsF,QAAS,IAAMqyB,EAAWlC,GAAUj2B,KAAK,QAAhE,wBAOAo4B,GAAiB90B,EAAAA,EAAAA,cAAY,KACjC,MAKM+0B,EALax7B,OAAOmF,KAAKm0B,GAAU7xB,KAAKZ,IAAD,CAC3CA,aACGyyB,EAASzyB,OAGyBuD,QACpCgvB,GAAYA,EAAQha,UAAUlM,aAAesB,IAGhD,OAAOwmB,EAAeQ,KACrB,CAAClC,EAAU9kB,IAER8mB,GAAa70B,EAAAA,EAAAA,cACjBC,UACE,MAAMglB,EAAiB+P,EAAY50B,QACnC,GAAK6kB,EAAeprB,OAApB,CACAyM,GAAW,GACX,IACE,IAAI2uB,EACOA,EAAPzjB,QAAwBhH,GAAS0qB,eAAejQ,SAC9Bza,GAASiW,MAAMwE,GACrC1b,OAAO8J,OAAO,CACZnW,KAAM,UACNqO,YAAa,gDACb/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAASya,EAAS3P,MAAO,YAItDiP,EACE,IAAIvB,GAAarvB,QACdgvB,IAAa1N,EAAermB,SAAS+zB,EAAQvyB,YAGlD,MAAOyZ,GACPtQ,OAAO8J,OAAO,CACZnW,KAAM,QACNqO,YAAasO,EAAGwD,UAnBpB,QAsBE/W,GAAW,OAGf,CAACkL,EAAOwhB,IAOV,OAJA7xB,EAAAA,EAAAA,YAAU,KACR2zB,MACC,CAACA,KAGF,UAAC,EAAA1xB,SAAD,YACE,SAAC,EAAA6D,OAAD,CACE/J,KAAK,UACLsF,QAAS,IAAM6C,GAAW,GAC1B2c,OAAK,EACLtlB,KAAK,QACLyI,UAAW6tB,EAAYn5B,OALzB,uBASA,SAAC,EAAAqN,MAAD,CACE9B,QAASA,EACTgC,OAAQ,KACRga,WAAW,SAAC,IAAD,CAAS5iB,KAAK,kBACzB2I,SAAU,IAAM9B,GAAW,GAJ7B,UAME,UAAC,EAAAjJ,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,MAAD,CAAkBC,MAAO,EAAzB,yBAEF,SAAC,EAAAL,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAk4B,MAAD,CACEC,QAASZ,EACTa,WAAYrC,EACZsC,YAAY,EACZC,OAAQ,QAAC,MAAEztB,EAAF,WAAS6sB,GAAV,SACN7sB,EAAMoU,WAAayY,EAAWzY,YAEhCsZ,OAAQ,CAAEC,EAAG,KACbrvB,QAASA,e,2BC3HvB,SAASsvB,GAAoBC,EAAeC,GAE1C,OAAOC,GADUD,EAAeE,KAAKH,EAAU,WAAa,GAAM,GACnC,GAGjC,SAASI,GAAoBJ,EAAeC,GAE1C,OAAOC,GADSD,EAAeE,KAAKH,EAAU,WAAa,GAC5B,GAGjC,SAASK,GAAkBL,EAAeC,GAExC,OAAOC,GADOD,EAAeE,KAAKH,EAAU,SAAW,GAC1B,GAG/B,SAASM,GAAiBN,EAAeC,GAEvC,OADaA,EAAeE,KAAKH,EAAU,QAC/BpxB,WAGd,SAASsxB,GAAeK,EAAgBC,GACtC,MAAMC,EAAeF,EAAO3xB,WAC5B,OAAI6xB,EAAav8B,QAAUs8B,EAAkBC,EACtC,IAAIC,OAAOF,EAAYC,EAAav8B,QAAUu8B,EC/BvD,MAAME,GAAuB,CAC3BC,QAAS,KACTC,MAAO,KACPC,KAAM,KACNC,QAAS,MA8DX,GA3DqB,IAAyD,IAAxD,gBAAErb,EAAF,WAAmBlP,GAAoC,EAC3E,MAAOwqB,EAAeC,IAAoBl3B,EAAAA,EAAAA,UAAS42B,KAC7C,OAAEhd,GAAWmE,GAAkBpC,GAC/Bwb,GAAaj5B,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMi5B,QAAQxyB,UAC5D,QAAEiY,EAAF,UAAWD,GAAcb,GAAYJ,EAAiBlP,GAEtD4qB,GAAU,IAAI1a,MAAO2a,UACrBrc,EAA4B,IAAlBtW,OAAOkY,GACjB0a,EAAgC,IAApB5yB,OAAOiY,GAEnB4a,EAAYH,EAAUpc,EAAUA,EAAUoc,EAAU,EACpDI,EAAa9yB,OAAOwyB,GAAcK,EAAa,IAE/CE,GAAsBp3B,EAAAA,EAAAA,cAC1B,CAACq3B,EAAmBJ,IAClBL,EDrCC,SAA0BU,EAAqBC,GACpD,MAAM3B,EAAiB4B,KAAMF,GACvB3B,EAAW4B,GAA0BC,OAG3C,OAAI5B,EAAe6B,SAAS9B,GACnB,CACLY,QAAS,KACTC,MAAO,KACPC,KAAM,KACNC,QAAS,MAIN,CACLH,QAASR,GAAoBJ,EAAUC,GACvCY,MAAOR,GAAkBL,EAAUC,GACnCa,KAAMR,GAAiBN,EAAUC,GACjCc,QAAShB,GAAoBC,EAAUC,ICmBpB8B,CAAiBL,EAAWJ,KAC/C,IAWF,OARA91B,EAAAA,EAAAA,YAAU,KACR,GAAe,cAAXmY,EAAwB,OAAO8d,EAAoBzc,EAASsc,GAChE,MAAMU,EAAaC,aAAY,KAC7BR,EAAoBzc,KACnB,KACH,MAAO,IAAMkd,cAAcF,KAC1B,CAAChd,EAASsc,EAAW3d,EAAQ8d,KAG9B,UAAC,EAAAh7B,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKqX,KAAK,OAAV,UACE,UAAC,EAAApX,MAAD,CAAOC,UAAU,WAAjB,WACE,SAAC,EAAAE,WAAA,KAAD,8BACA,UAAC,EAAAA,WAAA,MAAD,CAAkBC,MAAO,EAAzB,UACG+5B,EAAcF,KADjB,OAC2BE,EAAcH,MADzC,MACmD,IAChDG,EAAcJ,QAFjB,OAE8BI,EAAcD,QAF5C,aAMJ,SAAC,EAAAn6B,IAAD,WACE,UAAC,EAAAC,MAAD,CAAOC,UAAU,WAAjB,WACE,UAAC,EAAAD,MAAD,YACE,SAAC,EAAAqX,QAAD,CAASrZ,MAAM,6FAAf,UACE,SAAC,IAAD,CACEqC,MAAO,CAAE6F,OAAQ,WACjBlE,KAAK,kCAGT,SAAC,EAAA7B,WAAA,KAAD,sCAGF,SAAC,EAAAA,WAAA,MAAD,CAAkBC,MAAO,EAAGC,MAAO,CAAEE,UAAW,SAAhD,UACG0B,EAAAA,EAAAA,IAAQ04B,GAAWx4B,OAAO,yBC9BvC,GAvCqB6tB,IACnB,MAAOvG,EAAM6R,IAAWp4B,EAAAA,EAAAA,UAA6B,KAC9Cq4B,EAAcC,IAAkBt4B,EAAAA,EAAAA,aACjC,SAAEsE,IAAaC,EAAAA,EAAAA,cAEfg0B,GAAYj4B,EAAAA,EAAAA,cAAYC,UAC5B,IAAKusB,EAAgB,OAAOsL,EAAQ,IACpC,MAAMI,QAAqBtnB,GAAmB4b,GAC9CsL,EAAQI,KACP,CAAC1L,KAEJrrB,EAAAA,EAAAA,YAAU,KACR82B,MACC,CAACA,IAEJ,MAAME,GAAan4B,EAAAA,EAAAA,cAAYC,UAC7B,IAAI83B,EAAmC,GAavC,aAZMj3B,QAAQC,IACZklB,EAAKjlB,KAAIf,UACP,MAAMm4B,QAAwBtrB,EAAAA,MAAAA,MAAAA,kBAA8B,CAC1D1I,KAAM,IAAIyf,EAAAA,KAAAA,UAAeqC,EAAI9hB,MAC7Buc,MAAO,IAAIkD,EAAAA,KAAAA,UAAe2I,KAE5B,IAAI6L,EAAiBr0B,EAASo0B,EAAgB3rB,YAC1C,IAAInE,EAAAA,GAAJ,OAAO+vB,QAAP,IAAOA,OAAP,EAAOA,EAAgB/zB,OAAOC,YAAY+zB,GAAG,IAAIhwB,EAAAA,GAAG,KACtDyvB,EAAahyB,KAAKmgB,OAIjB8R,EAAeD,KACrB,CAAC/zB,EAAUiiB,EAAMuG,IAMpB,OAJArrB,EAAAA,EAAAA,YAAU,KACRg3B,MACC,CAACA,IAEG,CAAElS,KAAM8R,ICbjB,GAxBiCvL,IAC/B,MAAM,KAAEvG,GAASsS,GAAY/L,IACtBuL,EAAcS,IACnB94B,EAAAA,EAAAA,YAEI+4B,GAAyBz4B,EAAAA,EAAAA,cAAYC,UACzC,IAAI4lB,EAA+C,GAQnD,OAPI,OAAJI,QAAI,IAAJA,GAAAA,EAAM3Q,SAAS4Q,IACTA,EAAI7U,aACNwU,EAASK,EAAI7U,WAAWtX,KAAO8rB,EAASK,EAAI7U,WAAWtX,KACnD,IAAI8rB,EAASK,EAAI7U,WAAWtX,KAAMmsB,GAClC,CAACA,OAGFsS,EAAgB3S,KACtB,CAACI,IAMJ,OAJA9kB,EAAAA,EAAAA,YAAU,KACRs3B,MACC,CAACA,IAEG,CAAExS,KAAM8R,ICRV,IAAKjE,IAAZ,SAAYA,GAAAA,EAAAA,MAAAA,QAAAA,EAAAA,SAAAA,WAAZ,CAAYA,KAAAA,GAAAA,KAKZ,MAmGA,GAnGsB,IAGS,IAHR,gBACrBzY,EADqB,WAErBlP,GAC4B,EAC5B,MAAOknB,EAAYqF,IAAiBh5B,EAAAA,EAAAA,UAAqBo0B,GAAWC,QAC7D3uB,EAASC,IAAc3F,EAAAA,EAAAA,WAAS,GACjC/B,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,QAClD,KAAEyG,GAASzG,EAAKwO,IAAgB,IAChC,OAAEmN,GAAWmE,GAAkBpC,IAC/B,mBAAEsB,GAAuBlB,GAAYJ,EAAiBlP,IAE1D1C,QAAUrJ,QAAS2N,KACjBC,EAAAA,EAAAA,cACIiY,KAAMkG,GAAmBwM,GAAwB5qB,GACnD6qB,GAA6B,OAAdzM,QAAc,IAAdA,OAAA,EAAAA,EAAiB/nB,EAAKqI,cAAe,GACpDosB,EACyC,uBAA7Ct/B,OAAOmF,KAAKie,GAAsB,IAAI,GAClCmc,GAAa76B,EAAAA,EAAAA,UAAQ,IACV,cAAXqb,GAAqC,WAAXA,GAE7B,CAACA,IACEnU,EACO,WAAXmU,IACC/Y,EAAAA,QAAAA,UAAkB8a,KAClBud,EAAa/+B,OAYhB,OACE,UAAC,EAAAuD,KAAD,CAAMC,UAAU,EAAhB,WACE,UAAC,EAAAjB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,MAAD,CAAkBC,MAAO,EAAzB,+BAEDi8B,IACC,SAAC,EAAAt8B,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEoe,gBAAiBA,EACjBlP,WAAYA,MAIjB2sB,GACC,SAAC,EAAAv8B,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEkP,WAAYA,EACZkP,gBAAiBA,OAIrB,SAAC,EAAA9e,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAgK,OAAD,CACEzE,QApCK,KACnB6C,GAAW,GACXqzB,EAAc5E,GAAWC,QAmCX72B,KAAK,UACLiI,SAAUA,EACV6c,OAAK,EACLtlB,KAAK,QACLS,MAAM,SAAC,IAAD,CAASqB,KAAK,sBANtB,yBAWF,SAAC,EAAAjC,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAgK,OAAD,CACEzE,QA3CS,KACvB6C,GAAW,GACXqzB,EAAc5E,GAAWE,WA0CX92B,KAAK,UACLiI,SAAUA,EACV6c,OAAK,EACLtlB,KAAK,QACLS,MAAM,SAAC,IAAD,CAASqB,KAAK,wBANtB,qCAeV,SAAC,GAAD,CACE4G,QAASA,EACTC,WAAYA,EACZgM,WAAYunB,EACZvF,WAAYA,EACZhY,gBAAiBA,EACjBlP,WAAYA,QCxGd4sB,GAAc,CAClBz5B,EACAgF,EACAmV,IAGGlZ,EAAAA,QAAAA,UAAkBjB,SACRD,IAAXiF,QACajF,IAAboa,EAGK,CACLna,cACAgF,SACAmV,WACAgO,QAASpjB,OAAOyI,EAAAA,MAAAA,aAAmBxI,EAAQmV,KALpC,CAAEnV,OAAQgW,OAAO,GAAIb,SAAU,EAAGgO,QAAS,GAqBhDuR,GAAqBC,IACzB,MACExvB,QAAUrJ,QAAS2N,EAAX,SAA0BmrB,KAChClrB,EAAAA,EAAAA,cACE,SAAEhK,IAAaC,EAAAA,EAAAA,eACf,OAAEK,EAAQF,KAAM9E,GAAgB0E,EAASi1B,IAAmB,GAC5Dxf,EAAWU,GAAgB7a,IAAgB,EAEjD,OAAKiB,EAAAA,QAAAA,UAAkBwN,IAAmBxN,EAAAA,QAAAA,UAAkB04B,GAExDA,IAAmBlrB,EACdgrB,GAAYjI,EAAAA,sBAAuBoI,EAAU,GAE/CH,GAAYz5B,EAAagF,EAAQmV,GAJ/Bsf,MAcEI,GAAkC75B,IAC7C,MAAO25B,EAAgBG,IAAqB15B,EAAAA,EAAAA,UAAS,KAEnD+J,QAAUrJ,QAAS2N,KACjBC,EAAAA,EAAAA,aACEkC,EAAO8oB,GAAkBC,GAqB/B,OAnBA93B,EAAAA,EAAAA,YAAU,KACP,WACC,IAAKZ,EAAAA,QAAAA,UAAkBwN,KAAmBxN,EAAAA,QAAAA,UAAkBjB,GAC1D,OAAO85B,EAAkB,IAC3B,MACE5vB,QAAQ,KAAEqS,IACRtS,OACJ,IACE,MAAMnJ,QAAgByb,EAAKwd,wBACzBtrB,EACAzO,GAEK85B,EAAkBh5B,GACzB,MAAOyZ,GACP,OAAOuf,EAAkB,MAb5B,MAkBIlpB,IC1EP/E,KAAOX,SAAF,KACHY,EA2HJ,GAvHmB,IAGY,IAHX,gBAClBiQ,EADkB,WAElBlP,GAC4B,EAC5B,MAAOmtB,EAAYC,IAAiB75B,EAAAA,EAAAA,WAAS,IACtC85B,EAAgBC,IAAqB/5B,EAAAA,EAAAA,WAAS,IAEnD5B,KAAK,KAAEH,GACPm5B,SAAS,OAAExyB,KACT1G,EAAAA,EAAAA,cAAaC,GAAoBA,KAC/B,KAAEuG,GAASzG,EAAKwO,IAAgB,IAChC,QAAEsb,EAAF,SAAWhO,GAAa0f,GAA8B,OAAC/0B,QAAD,IAACA,OAAD,EAACA,EAAMqI,aAC7D,OAAE6M,GAAWmE,GAAkBpC,GAC/BuE,EAAcnO,GAAYtF,GAC1BqnB,EAAcC,GAAe,CAAEtnB,eAC/B0d,EAAyC,kBAAd,OAAXjK,QAAW,IAAXA,OAAA,EAAAA,EAAalU,SAE7BvG,GAAWlH,EAAAA,EAAAA,UAAQ,IACnB4rB,EAAiC,WAAXvQ,GAAuBmO,GAAW,EAE1C,WAAXnO,IAAwBhV,IAAW/D,EAAAA,QAAAA,UAAkB8a,IAC3D,CAAC/W,EAAQmjB,EAASoC,EAAexO,EAAiB/B,IAE/CogB,GAAY15B,EAAAA,EAAAA,cAAYC,UAC5Bs5B,GAAc,GACd,IACE,KAAMj1B,IAAW/D,EAAAA,QAAAA,UAAkB8a,MAAsBwO,EACvD,OACF,MAAM8P,EAAe9P,EA9BS,EA8BqCvlB,EAC7DuyB,EAAa/pB,EAAAA,MAAAA,WAAiB6sB,EAAclgB,GAC5CmgB,EAAa,IAAItxB,EAAAA,GAAGuuB,EAAWtyB,aAC/B,KAAE+gB,SAAe9a,GAASqvB,QAC9Bxe,EACAue,EACApG,GAEFjqB,OAAO8J,OAAO,CACZnW,KAAM,UACNqO,YAAa,6CACb/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAE7C,MAAOrJ,GACP1S,OAAO8J,OAAO,CACZnW,KAAM,QACNqO,YAAa0Q,EAAMoB,UAnBvB,QAsBEkc,GAAc,MAEf,CAACj1B,EAAQ+W,EAAiBwO,EAAepQ,EAAU+Z,IAEhDsG,GAAgB95B,EAAAA,EAAAA,cAAYC,UAChCw5B,GAAkB,GAClB,IACE,KAAMn1B,IAAW/D,EAAAA,QAAAA,UAAkB8a,MAAsBwO,EACvD,OACF,MAAM8P,EAAe9P,EA1DS,EA0DqCvlB,EAC7DuyB,EAAa/pB,EAAAA,MAAAA,WAAiB6sB,EAAclgB,GAC5CmgB,EAAa,IAAItxB,EAAAA,GAAGuuB,EAAWtyB,aAC/B,KAAE+gB,SAAe9a,GAASuvB,YAC9B1e,EACAue,EACApG,GAEFjqB,OAAO8J,OAAO,CACZnW,KAAM,UACNqO,YAAa,6CACb/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAE7C,MAAOrJ,GACP1S,OAAO8J,OAAO,CACZnW,KAAM,QACNqO,YAAa0Q,EAAMoB,UAnBvB,QAsBEoc,GAAkB,MAEnB,CAACn1B,EAAQ+W,EAAiBwO,EAAepQ,EAAU+Z,IAEtD,OACE,SAAC,EAAApwB,SAAD,UACGqkB,GACC,UAAC,EAAArrB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM4sB,EAAgB,GAAK,GAAhC,UACE,SAAC,EAAA5iB,OAAD,CACEzE,QAASk3B,EACTx8B,KAAK,UACLiI,SAAUA,EACViB,QAASkzB,EACTtX,OAAK,EACLtlB,KAAK,QACLS,MAAM,SAAC,IAAD,CAASqB,KAAK,sBAPtB,yBAYF,SAAC,EAAAjC,IAAD,CAAKU,KAAM4sB,EAAgB,GAAK,GAAhC,UACE,SAAC,EAAA5iB,OAAD,CACEzE,QAASs3B,EACT58B,KAAK,UACLiI,SAAUA,EACViB,QAASozB,EACTxX,OAAK,EACLtlB,KAAK,QACLS,MAAM,SAAC,IAAD,CAASqB,KAAK,wBAPtB,gCAcJ,SAAC,EAAAyI,OAAD,CAAQ+a,OAAK,EAACtlB,KAAK,QAAQQ,KAAK,UAAUiI,UAAU,EAApD,sBCzHF0G,GAAO,UASAmuB,IAAmB9tB,EAAAA,EAAAA,kBAC7B,4BACDjM,SACOqE,EACE,CAAEA,UADW,CAAEA,OAAQ,MAoBlC,IAXc+I,EAAAA,EAAAA,aAAY,CACxB7O,KAAMqN,GACNC,aAtBiC,CACjCxH,OAAQ,IAsBRgJ,SAAU,GACVC,cAAgBC,IACTA,EAAQC,QACXusB,GAAiBtsB,WACjB,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,SAIxD,QCqEA,GA/FsB,IAGS,IAHR,gBACrB0N,EADqB,WAErBlP,GAC4B,EAC5B,MACErO,KAAK,KAAEH,GACPm5B,SAAS,OAAExyB,KACT1G,EAAAA,EAAAA,cAAaC,GAAoBA,IAC/B+P,GAAWC,EAAAA,EAAAA,gBACX,KAAEzJ,GAASzG,EAAKwO,IAAgB,IAChC,QAAEsb,GAAY0R,GAA8B,OAAC/0B,QAAD,IAACA,OAAD,EAACA,EAAMqI,aACnD,OAAE6M,GAAWmE,GAAkBpC,GAC/BuE,EAAcnO,GAAYtF,IAC1B,mBAAEwQ,GAAuBlB,GAAYJ,EAAiBlP,GACtD0d,EAAyC,kBAAd,OAAXjK,QAAW,IAAXA,OAAA,EAAAA,EAAalU,SAC7BmtB,EACyC,uBAA7Ct/B,OAAOmF,KAAKie,GAAsB,IAAI,GAClCmc,GAAa76B,EAAAA,EAAAA,UAAQ,IACV,cAAXqb,GAAqC,WAAXA,GAE7B,CAACA,IAEEpU,EAAY5J,IAChBsS,EAASosB,GAAiB1+B,KAG5B,OACE,SAAC,EAAA8B,KAAD,CAAMC,UAAU,EAAhB,UACE,UAAC,EAAAjB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,MAAD,CAAkBC,MAAO,EAAzB,gCAEAitB,IAAkBiP,IAClB,SAAC,EAAAv8B,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAG,KAAD,CACEJ,UAAU,iBACVS,UAAW,CAAEC,QAAS,YACtBL,UAAU,EAHZ,UAKE,UAAC,EAAAjB,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,WACE,SAAC,EAAAE,IAAD,CAAKqX,KAAK,OAAV,UACE,SAAC,EAAAjX,WAAA,KAAD,8BAEF,UAAC,EAAAJ,IAAD,YACE,UAAC,EAAAI,WAAA,KAAD,0BACc8B,EAAAA,EAAAA,IAAQgpB,GAAS9oB,OAAO,eACnB,KACnB,SAAC,EAAD,CAAYW,YAAW,OAAE8E,QAAF,IAAEA,OAAF,EAAEA,EAAMqI,iBAEjC,SAAC,EAAAlQ,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEI,UAAU,EACVR,MAAO,CAAEa,QAAS,GAClB8J,YAAY,IACZlM,MAAOgJ,EACP2Z,QAAS/Y,EACTuC,QACE,SAAC,EAAA9K,WAAA,KAAD,CACEE,MAAO,CAAE6F,OAAQ,WACjBF,QAAS,IAAM0C,EAASuiB,EAAQljB,YAFlC,4BAabs0B,IACC,SAAC,EAAAt8B,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEoe,gBAAiBA,EACjBlP,WAAYA,OAIlB,SAAC,EAAA5P,IAAD,CAAKU,KAAM,GAAX,SACI67B,GAMA,SAAC,GAAD,CACEzd,gBAAiBA,EACjBlP,WAAYA,KAPd,SAAC,GAAD,CACEkP,gBAAiBA,EACjBlP,WAAYA,YCjF1B,GAZiB,IAA8D,IAA7D,gBAAEkP,EAAF,WAAmBlP,GAAyC,EAC5E,MAAMxO,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,QAElD,MAAE6T,IAAc,OAAJ7T,QAAI,IAAJA,OAAA,EAAAA,EAAOwO,KAAgB,GAEzC,OAAOqF,GACL,SAAC,GAAD,CAAe6J,gBAAiBA,EAAiBlP,WAAYA,KAE7D,SAAC,GAAD,CAAekP,gBAAiBA,EAAiBlP,WAAYA,KCyBjE,GAhC0B,IAKA,IALC,gBACzBkP,EADyB,WAEzBlP,EAFyB,QAGzB/G,EAHyB,WAIzBC,GACuB,EACvB,OACE,SAAC,EAAA6B,MAAD,CACElK,UAAU,8BACVoI,QAASA,EACTgC,QAAQ,EACRD,SAAU,IAAM9B,GAAW,GAJ7B,UAME,UAAC,EAAAjJ,IAAD,YACE,SAAC,EAAAG,IAAD,CACES,UAAU,uBACVC,KAAM,GACNJ,MAAO,CAAEE,UAAW,QAHtB,UAKE,SAAC,EAAAJ,WAAA,MAAD,CAAkBC,MAAO,EAAzB,qCAEF,SAAC,EAAAL,IAAD,CAAKU,KAAM,GAAID,UAAU,qBAAzB,UACE,SAAC,GAAD,CACEqe,gBAAiBA,EACjBlP,WAAYA,YCpBxB,GAX4B6Q,IACP/e,EAAAA,EAAAA,UAAQ,KACzB,IAAK+e,EAAQ,MAAO,IACpB,MAAMid,EAAkB1gC,OAAOmF,KAAKse,GAAQ,GAC5C,MAAwB,SAApBid,EAAmC,MACf,aAApBA,EAAuC,MACnB,aAApBA,EAAuC,WAA3C,IACC,CAACjd,ICoGN,GAhGiB,IAA8D,IAA7D,gBAAE3B,EAAF,WAAmBlP,GAAyC,EAC5E,MAAO6N,EAAQC,IAAava,EAAAA,EAAAA,WAAS,IAC9B0F,EAASC,IAAc3F,EAAAA,EAAAA,WAAS,IACjC,gBAAEgd,EAAF,UAAmBJ,EAAnB,QAA8BC,EAA9B,mBAAuCI,EAAvC,QAA2Dud,GAC/Dze,GAAYJ,EAAiBlP,GACzBguB,GAA6B,OAAPD,QAAO,IAAPA,OAAA,EAAAA,EAASztB,aAAc,GAC7CuQ,EAASod,GAAmB1d,GAE5BtC,EAASna,UACbga,GAAU,SACJI,EAAAA,EAAAA,IAAU,MAChBJ,GAAU,IAGNogB,GAAYp8B,EAAAA,EAAAA,UAAQ,KACxB,IAAK0e,EAAoB,MAAO,IAChC,MAAM2d,EAAsB/gC,OAAOmF,KAAKie,GAAoB,GAC5D,MAA4B,uBAAxB2d,EAAqD,iBAC7B,uBAAxBA,EAAqD,sBAAzD,IACC,CAAC3d,IAEJ,OACE,UAAC,EAAAvf,KAAD,CAAMC,UAAU,EAAhB,WACE,UAAC,EAAAjB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAK6G,MAAM,SAAX,WACE,SAAC,EAAA1G,IAAD,CAAKqX,KAAK,OAAV,UACE,SAAC,EAAAjX,WAAA,MAAD,CAAkBC,MAAO,EAAzB,4BAEF,SAAC,EAAAL,IAAD,WACE,SAAC,EAAA0K,OAAD,CACE/J,KAAK,OACLC,MAAM,SAAC,IAAD,CAASqB,KAAK,+BACpB3B,MAAO,CAAE6K,aAAc,IACvBlF,QAAS,IAAM6C,GAAW,aAKlC,SAAC,EAAA9I,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOK,MAAO,CAAElC,MAAO,QAAU8B,UAAU,WAA3C,WACE,SAAC,GAAD,CACE8c,MAAM,cACNje,OAAO0Y,EAAAA,EAAAA,IAAeqH,EAAiB,MAEzC,SAAC,GAAD,CACE9B,MAAM,aACNje,MAAOsf,KAA+B,KAAf,OAAT0B,QAAS,IAATA,OAAA,EAAAA,EAAWJ,aAAmBvd,OAC1C,wBAGJ,SAAC,GAAD,CACE4a,MAAM,WACNje,MAAOsf,KAA6B,KAAf,OAAP2B,QAAO,IAAPA,OAAA,EAAAA,EAASL,aAAmBvd,OACxC,wBAGJ,SAAC,GAAD,CACE4a,MAAM,SACNje,OACE,UAAC,EAAAkB,MAAD,CAAOE,KAAM,GAAb,WACE,SAAC,EAAAC,WAAA,KAAD,CACEE,MAAO,CAAE6F,OAAQ,UAAW6X,eAAgB,aAC5C/X,QAAS,IACP+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS2f,GAAsB,UAH/C,UAMGnmB,EAAAA,EAAAA,IAAemmB,EAAqB,MAEvC,SAAC,EAAAtmB,QAAD,CAASrZ,MAAM,SAAS4K,QAAS4U,EAAjC,UACE,SAAC,KAAD,CAAiBS,KAAM0f,EAAqB/f,OAAQA,EAApD,UACE,SAAC,IAAD,CACEvd,MAAO,CAAE6F,OAAQ,WACjBlE,KAAK,eACLgE,QAAS4X,cAOrB,SAAC,GAAD,CAAiBb,MAAM,SAASje,MAAO0hB,KACvC,SAAC,GAAD,CAAiBzD,MAAM,cAAcje,MAAO++B,aAIlD,SAAC,GAAD,CACEh1B,WAAYA,EACZD,QAASA,EACTiW,gBAAiBA,EACjBlP,WAAYA,QCvFdouB,GAAe,CACnBC,KAAM,CAAE9+B,QAAS,UAAW++B,MAAO,UAAWC,SAAU,WACxDC,MAAO,CAAEj/B,QAAS,UAAW++B,MAAO,UAAWC,SAAU,YAsL3D,GAnLqB,IAGU,IAHT,gBACpBrf,EADoB,WAEpBlP,GAC4B,EAC5B,MAAOyuB,EAAiBC,IAAsBn7B,EAAAA,EAAAA,UAAS,KAChDo7B,EAAcC,IAAmBr7B,EAAAA,EAAAA,UAAS,IAC3C/B,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,QAClD,mBAAE6e,EAAF,eAAsBC,EAAtB,gBAAsCC,GAAoBjB,GAC9DJ,EACAlP,IAEI,KAAE/H,GAASzG,EAAKwO,IAAgB,GAChCmoB,EAAcna,GAAe,OAAC/V,QAAD,IAACA,OAAD,EAACA,EAAMqI,aAAe,GACnD,aAAEmQ,GAAiBa,GAAkBpC,IAEzCxI,IAAI,MAAEmoB,KACJloB,EAAAA,EAAAA,SAEEmoB,EAAS52B,OAAOmY,IAAuB,EACvC0e,EAAU72B,OAAOoY,IAAmB,EACpC0e,EAAYD,EAAUD,EACtBG,EAAcF,EAAUC,EAAa,IACrCE,EAAaJ,EAASE,EAAa,IAEnCG,GAAer9B,EAAAA,EAAAA,UAAQ,KAC3B,IAAKye,EAAiB,OAAO,IAAIpU,IAAJ,CAAO,GACpC,MAAMizB,EAAgB9e,EAAeK,IAAIN,GAEnCyd,EAAkB1gC,OAAOmF,KAAKge,GAAiB,GAErD,MAAwB,SAApBud,EACKsB,EAAc1e,IAAI,IAAIvU,IAAJ,CAAO,MAAM8U,IAAIR,GAEpB,aAApBqd,EACKsB,EAAc1e,IAAI,IAAIvU,IAAJ,CAAO,MAAM8U,IAAIR,GAEpB,aAApBqd,EACKsB,EAAc1e,IAAI,IAAIvU,IAAJ,CAAO,MAAM8U,IAAIR,EAAaC,IAAI,IAAIvU,IAAJ,CAAO,KAE7D,IAAIA,IAAJ,CAAO,KACb,CAACsU,EAAcF,EAAiBF,EAAoBC,IAEjD+e,GAAev9B,EAAAA,EAAAA,UAAQ,KAC3B,IAAKye,IAAoBE,GAAgB0e,EAAaG,IAAI,IAAInzB,IAAJ,CAAO,MAC/D,OAAO,IAAIA,IAAJ,CAAO,GAChB,MAAMizB,EAAgB9e,EAAeK,IAAIN,GAEnCyd,EAAkB1gC,OAAOmF,KAAKge,GAAiB,GAErD,MAAwB,SAApBud,EACKrd,EAAaQ,IAAI,IAAI9U,IAAJ,CAAO,IAAIwU,IAAIye,GAEjB,aAApBtB,EACKrd,EAAaQ,IAAI,IAAI9U,IAAJ,CAAO,IAAIwU,IAAIye,GAEjB,aAApBtB,EACKrd,EAAaC,IAAI,IAAIvU,IAAJ,CAAO,IAAI8U,IAAI,IAAI9U,IAAJ,CAAO,IAAIwU,IAAIye,GACjD,IAAIjzB,IAAJ,CAAO,KACb,CACDsU,EACAF,EACA4e,EACA9e,EACAC,IAGIif,GAAiBz9B,EAAAA,EAAAA,UAAQ,IACzBm9B,IACAC,EAAkB,IAAMA,EACrB,IACN,CAACA,EAAWD,IAETO,GAAY37B,EAAAA,EAAAA,cAAY,IACvBq7B,GAAcD,GAEdC,GAAaD,EACTL,EAAgBR,GAAaS,GAAOP,OACzCY,IAAcD,EACTP,EAAmBN,GAAaS,GAAON,WAEhDG,EAAmBN,GAAaS,GAAON,UAChCK,EAAgBR,GAAaS,GAAOP,QAPlCI,EAAmBN,GAAaS,GAAOt/B,UAQ/C,CAAC2/B,EAAWD,EAAYJ,IAM3B,OAJA75B,EAAAA,EAAAA,YAAU,KACRw6B,MACC,CAACA,KAGF,SAAC,EAAAv+B,KAAD,CAAMC,UAAU,EAAhB,UACE,UAAC,EAAAjB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,MAAD,CAAkBC,MAAO,EAAzB,gCAEF,SAAC,EAAAL,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOE,KAAM,EAAGG,MAAO,CAAElC,MAAO,QAAU8B,UAAU,WAApD,WACE,SAAC,EAAAE,WAAA,KAAD,CAAiBO,KAAK,YAAtB,qBACA,UAAC,EAAAP,WAAA,KAAD,YACG8B,EAAAA,EAAAA,IACCqO,EAAAA,MAAAA,aACEwN,OAAOkhB,EAAapkB,IAAI,IAAI9O,IAAJ,CAAO,IAAI/D,YACnC+vB,IAEF31B,OAAO,cAAe,IAN1B,8BASA,SAAC,EAAAwwB,SAAD,CACEC,QAAS,IACTwM,YAAarB,GAAaS,GAAOt/B,QACjCmgC,QAAS,CACPzM,QAASkM,EAAapf,WACtB0f,YAAarB,GAAaS,GAAOP,OAEnCnL,UAAU,UAIhB,SAAC,EAAA/yB,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,EAAG,GAAjB,WACE,SAAC,EAAAE,IAAD,CAAKqX,KAAK,OAAV,UACE,SAAC,GAAD,CACE2F,MAAM,QACN7c,KAAM,EACNpB,OACE,SAAC,EAAAqB,WAAA,MAAD,CAAkBC,MAAO,EAAzB,UACG6B,EAAAA,EAAAA,IACCqO,EAAAA,MAAAA,aAAmBwN,OAAO4gB,GAAU5G,IACpC31B,OAAO,qBAKjB,SAAC,EAAApC,IAAD,WACE,SAAC,GAAD,CACEgd,MAAM,WACN7c,KAAM,EACNuG,MAAM,MACN3H,OACE,SAAC,EAAAqB,WAAA,MAAD,CAAkBC,MAAO,EAAzB,UACG6B,EAAAA,EAAAA,IACCqO,EAAAA,MAAAA,aAAmBwN,OAAO2gB,GAAS3G,IACnC31B,OAAO,qBAKjB,SAAC,EAAApC,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAkyB,SAAD,CACEtyB,MAAO,CAAElC,MAAO,QAChBy0B,QAAS,IACTwM,YAAahB,EACbiB,QAAS,CACPzM,QAASsM,EACTE,YAAad,GAEfxL,UAAU,OAGd,SAAC,EAAA/yB,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,YACE,SAAC,EAAAG,IAAD,CAAKqX,KAAK,OAAV,UACE,UAAC,EAAAjX,WAAA,KAAD,CAAiBO,KAAK,YAAtB,WACGuB,EAAAA,EAAAA,IAAQ28B,GAAYz8B,OAAO,YAD9B,UAIF,SAAC,EAAApC,IAAD,WACE,UAAC,EAAAI,WAAA,KAAD,CAAiBO,KAAK,YAAtB,WACGuB,EAAAA,EAAAA,IAAQ48B,GAAW18B,OAAO,YAD7B,yBC9JlB,GAlBmB,IAAsD,IAArD,UAAEga,EAAF,gBAAa0C,GAAuC,EACtE,MAAM,SAAEtd,IAAaH,EAAAA,EAAAA,cAAaC,GAAoBA,KAChD,IAAEC,GAAF,OAAUC,QAAV,IAAUA,OAAV,EAAUA,EAAWsd,GACrBjO,EAAWqE,GAAY3T,EAAI2O,YAE3BjO,GAAOP,EAAAA,EAAAA,UAAQ,KACnB,MAAM0N,GAAkB,OAARyB,QAAQ,IAARA,OAAA,EAAAA,EAAUzB,UAAW,GACrC,IAAK,MAAM,cAAEoC,EAAF,KAAiBvP,KAAUmN,EACpC,GAAIoC,IAAkB4K,EACpB,OAAOna,EAGX,MAAO,OACN,CAACma,EAAWvL,IAEf,OAAO,SAAC,EAAAzQ,WAAA,KAAD,CAAiBK,UAAU,OAA3B,SAAmCwB,KCjB/Bs9B,GAA2B,CACtC,CACEthC,MAAO,iBACPi6B,UAAW,YACXC,OAAS3mB,IACP,SAAC,EAAApR,WAAD,WAAaqX,EAAAA,EAAAA,IAAejG,EAActB,eAG9C,CACEjS,MAAO,OACPi6B,UAAW,YACXC,OAAQ,CAACE,EAAQjC,KAAyB,SAAC,GAAD,CAAYsB,OAAQtB,KAEhE,CACEn4B,MAAO,QACPi6B,UAAW,QACXC,OAAQ,CAACE,EAAQjC,KAAyB,SAAC,GAAD,CAAaA,QAASA,MAIvDoJ,GAA2B,CACtC,CACEvhC,MAAO,OACPi6B,UAAW,YACXC,OAAQ,CAAC/b,EAAsBga,KAC7B,SAAC,GAAD,CACEtX,gBAAiBsX,EAAQ50B,SAAS0O,WAClCkM,UAAWA,EAAUlM,cAI3B,CACEjS,MAAO,iBACPi6B,UAAW,YACXC,OAAS3mB,IACP,SAAC,EAAApR,WAAD,WAAaqX,EAAAA,EAAAA,IAAejG,EAActB,eAG9C,CACEjS,MAAO,OACPi6B,UAAW,YACXC,OAAQ,CAACE,EAAQjC,KAAyB,SAAC,GAAD,CAAYsB,OAAQtB,MCoDlE,GAzFgB,IAMT,IANU,gBACftX,EADe,WAEflP,GAII,EACJ,MAAO7H,EAAQob,IAAahgB,EAAAA,EAAAA,UATC,IAUtB0G,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,IAChCszB,EAAauB,IAAkB70B,EAAAA,EAAAA,UAAwB,IACxD0N,EAAWqE,GAAYtF,GAEvB6vB,EADsC,kBAAd,OAAR5uB,QAAQ,IAARA,OAAA,EAAAA,EAAU1B,SAE5BqwB,GACAD,GAEE/I,GAAgB/yB,EAAAA,EAAAA,cAAYC,UAChCqG,GAAW,GACX,MAAMusB,QAAiBH,GAAYrX,GAC7B4gB,EAA8B,GA0BpC,OAzBA1iC,OAAOkH,OAAOoyB,GAAUvd,SAASqd,IAC/B,MAAM,UAAEha,EAAF,MAAawb,EAAb,OAAoBD,GAAWvB,EAC/BuJ,EAAa3iC,OAAOmF,KAAKw1B,GAAU,IAAI,GACvCvT,EAAQhI,EAAUlM,WAElB0vB,EAAeF,EAAav7B,MAAM07B,IACtC,MAAQlI,OAAQmI,EAAS1jB,UAAW2jB,GAAeF,EAC7CG,EAAchjC,OAAOmF,KAAK29B,GAAW,IAAI,GAG/C,OAFeC,EAAW7vB,aAERkU,GAASub,IAAeK,KAE5C,IAAKJ,EAAc,OAAOF,EAAal2B,KAAK4sB,GAE5C,MAAQwB,MAAOqI,GAAaL,EACtBr0B,EAAQm0B,EAAanlB,WACxBslB,GAAaA,IAAaD,IAE7B,OAAe,IAAXr0B,EACMm0B,EAAan0B,GAAS,IACzBm0B,EAAan0B,GAChBqsB,MAAOqI,EAASplB,IAAI+c,SAHxB,KAMF7tB,GAAW,GACJiuB,EAAe0H,KACrB,CAAC5gB,IAMJ,OAJAla,EAAAA,EAAAA,YAAU,KACR4xB,MACC,CAACA,KAGF,SAAC,EAAA31B,KAAD,CAAMC,UAAU,EAAhB,UACE,UAAC,EAAAjB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,YACE,SAAC,EAAAG,IAAD,CAAKqX,KAAK,OAAV,UACE,SAAC,EAAAjX,WAAA,MAAD,CAAkBC,MAAO,EAAzB,uBAEF,SAAC,EAAAL,IAAD,WACE,SAAC,EAAA0K,OAAD,CAAQzE,QAASuwB,EAAjB,6BAIN,SAAC,EAAAx2B,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAk4B,MAAD,CACEC,QAAS4G,EACT3G,WAAYrC,EAAYhtB,MAAM,EAAG1B,GACjCgxB,YAAY,EACZlvB,QAASA,EACTmvB,OAAQ,QAAC,MAAEztB,EAAF,WAAS6sB,GAAV,SACN7sB,EAAMoU,WAAayY,EAAWzY,iBAIpC,SAAC,EAAA3f,IAAD,CAAKU,KAAM,GAAIJ,MAAO,CAAEE,UAAW,UAAnC,UACE,SAAC,EAAAkK,OAAD,CACE9B,SAAU6tB,EAAYn5B,QAAUyK,EAChC9B,QAAS,IAAMkd,EAAUpb,EAjFN,GAkFnBnH,MAAM,SAAC,IAAD,CAASqB,KAAK,yBAHtB,gCC5ERyM,UAAYlC,MAAF,KACRqC,EAwEJ,GAjEwB,KACtB,MAAMuH,GAAUC,EAAAA,EAAAA,eACV,gBAAEyI,EAAF,WAAmBlP,IACvB0c,EAAAA,EAAAA,aAEF,OACE,SAAC,EAAAzsB,IAAD,CAAKE,QAAQ,SAAb,UACE,SAAC,EAAAC,IAAD,CAAK8B,GAAI,GAAIC,GAAI,GAAjB,UACE,UAAC,EAAAlC,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAgK,OAAD,CACE/J,KAAK,OACLC,MAAM,SAAC,IAAD,CAASqB,KAAK,uBACpBgE,QAAS,IAAMmQ,EAAQ5M,KAAM,QAAOgD,UAAaoD,KAHnD,qBAQF,SAAC,EAAA5P,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,GAAjB,UACE,UAAC,EAAAxL,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEoe,gBAAiBA,EACjBlP,WAAYA,OAGhB,SAAC,EAAA5P,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEoe,gBAAiBA,EACjBlP,WAAYA,OAGhB,SAAC,EAAA5P,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEoe,gBAAiBA,EACjBlP,WAAYA,YAKpB,SAAC,EAAA5P,IAAD,CAAK8B,GAAI,GAAIuJ,GAAI,EAAjB,UACE,UAAC,EAAAxL,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEoe,gBAAiBA,EACjBlP,WAAYA,OAGhB,SAAC,EAAA5P,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEoe,gBAAiBA,EACjBlP,WAAYA,yBCjEhClB,UAAYlC,MAAF,KACRqC,EAiCJ,GA1BqB,IAAyD,IAAxD,WAAEe,EAAF,OAAcswB,KAAWjjB,GAA8B,EAC3E,MAAM7G,GAAUC,EAAAA,EAAAA,cACVhF,GAAWC,EAAAA,EAAAA,eAQjB,OACE,UAAC,EAAAzR,IAAD,YACE,SAAC,EAAAG,IAAD,CAAKqX,KAAK,OAAV,UACE,SAAC,EAAA3M,OAAD,CAAQzE,QATGvC,gBACT2N,EAASgI,YACThI,EAAST,MACRwF,EAAQ5M,KAAM,QAAOgD,UAAaoD,MAMVjP,KAAK,OAAhC,uBAIF,SAAC,EAAAX,IAAD,WACE,SAAC,EAAA0K,OAAD,IAAYuS,EAAMhX,QAASi6B,EAAQv/B,KAAK,UAAxC,wB,uBCrBR,MACEiO,KAAOX,SAAF,KACHY,EAyDJ,GAvDoB,IAA6C,IAA5C,WAAEe,GAAyC,EAC9D,MAAO/F,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,IAErC6M,UAAU,aAAEP,KACVpO,EAAAA,EAAAA,cAAaC,GAAoBA,IAC/B+P,GAAWC,EAAAA,EAAAA,eACXT,EAAWqE,GAAYtF,GACvB4D,EAAMC,KAgCZ,OAJA7O,EAAAA,EAAAA,YAAU,KACRyM,EAAST,GAAgBC,MACxB,CAACQ,EAAUR,KAGZ,UAAC,EAAAhR,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,OAEF,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEw/B,OArCex8B,UACrBqG,GAAW,GACX,IACE,MAAMsJ,EAAO,IAAIC,GAAAA,EACXO,QAAYR,EAAKb,IAAI/C,IAEzBkX,WAAW,OAAEvU,IACXK,GAAAA,GAAAA,MAAUoB,GACRwP,EAAcxX,GAAOC,KAAKsG,IAC1B,KAAE2W,SAAe9a,GAASkyB,kBAAkB9c,EAAazT,GAC/D5C,OAAO8J,OAAO,CACZnW,KAAM,UACNqO,YACE,8DACF/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAG7C,MAAMjV,EAAgB,IAAKrE,EAAcoE,OACzC,OAAOL,EAAIO,QAAQnE,EAAYkE,GAC/B,MAAOwJ,GACP,OAAOtQ,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAasO,EAAGwD,UAlBxD,QAoBE/W,GAAW,KAgBP6F,WAAYA,EACZ/F,QAASA,UCmCnB,GA5FmB,KACjB,MAAOu2B,EAAWC,IAAgBl9B,EAAAA,EAAAA,UAAmB,KAEnD6M,UAAU,aAAEP,KACVpO,EAAAA,EAAAA,cAAaC,GAAoBA,IAC/B+P,GAAWC,EAAAA,EAAAA,gBACX,QAAElC,GAAYK,EA8Bd6wB,GAAoB78B,EAAAA,EAAAA,cAAY,KACpC,GAAI28B,EAAU9iC,OAAQ,OACtB,MAAMijC,EAAe,GACrB,IAAK,MAAM,cAAE/uB,KAAmBpC,EAC9BmxB,EAAa/2B,KAAKgI,GAEpB,OAAO6uB,EAAaE,KACnB,CAACnxB,EAASgxB,IAMb,OAJAx7B,EAAAA,EAAAA,YAAU,KACR07B,MACC,CAACA,KAGF,UAAC,EAAAzgC,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,EAAAN,WAAA,MAAD,CAAkBC,MAAO,EAAzB,oDAIF,SAAC,EAAAL,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAb,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,UACGsP,EAAQ9R,QACP8R,EAAQ3K,KAAI,CAAC,EAAyBkT,KAAS,IAAlC,KAAE1V,EAAF,cAAQuP,GAAyB,EAC5C,OACE,SAAC,EAAAxR,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEuB,KAAMA,EACNuP,cAAeA,EACf7I,SAAWyC,GAnDN,EAACA,EAAkCG,KACxD,MAAMulB,EAAc,IAAI1hB,GACxB,IAAK,MAAM,cAAEoC,KAAmBpC,EAC9B,GAAI3M,IAAQ+O,EAAepG,EAAEjO,OAAO4B,OAClC,OAAOiO,OAAO8J,OAAO,CACnBnW,KAAM,UACNqO,YAAa,uCAOnB,OAJA8hB,EAAYvlB,GAAS,IAChBulB,EAAYvlB,GACf,CAACH,EAAEjO,OAAO8E,MAAOmJ,EAAEjO,OAAO4B,OAErBsS,EAAST,GAAgB,CAAExB,QAAS0hB,MAuCzBC,CAAe3lB,EAAGuM,GAEpBiZ,OAAQ,IAtCVrlB,KACd,MAAMulB,EAAc,IAAI1hB,GAExB,OADA0hB,EAAYE,OAAOzlB,EAAO,GACnB8F,EAAST,GAAgB,CAAExB,QAAS0hB,MAmCbF,CAAOjZ,GACrB8Y,YAAa2P,EAAU/9B,SAASmP,GAChCkf,oBAAqB0P,EAAU/9B,SAASmP,GACxCmf,aAAcyP,EAAU/9B,SAASmP,MAVjBmG,OAe1B,SAAC,EAAA3X,IAAD,CAAKU,KAAM,EAAX,UACE,SAAC,EAAAgK,OAAD,CACE+a,OAAK,EACL9kB,KAAK,SACLC,MAAM,SAAC,IAAD,CAASqB,KAAK,gBACpBgE,QAzEM,KAChB,MAAM6qB,EAAc,IAAI1hB,GAExB,OADA0hB,EAAYtnB,KAAK,CAAEvH,KAAM,GAAIuP,cAAe,KACrCH,EAAST,GAAgB,CAAExB,QAAS0hB,MAkEnC,4B,uBCvEZ,MACEliB,KAAOX,SAAF,KACHY,EAwFJ,GAtF4B,IAA6C,IAA5C,WAAEe,GAAyC,EACtE,MAAO/F,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,GACjC/B,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,OAClDqO,GAAepO,EAAAA,EAAAA,cAClBC,GAAoBA,EAAM0O,SAASP,gBAGhC,QAAEL,GAAYK,EACd+D,EAAMC,KAEN7K,GAAWlH,EAAAA,EAAAA,UAAQ,KACvB,IAAK,MAAM,cAAE8P,KAAmBpC,EAC9B,IAAKpL,EAAAA,QAAAA,UAAkBwN,GAAgB,OAAO,EAEhD,OAAO,IACN,CAACpC,IAEEoxB,EAAe98B,MAAO8N,EAAuBzO,KACjD,IACE,MAAM,KAAEuc,GAAStS,OAAOC,OAClBwzB,QAA0BnhB,EAAKwd,wBACnCtrB,EACAzO,GAGF,SADmBuc,EAAKG,eAAeghB,GAC7B,OAAO,EACjB,MAAO/gB,GACP,OAAO,IAuCX,OACE,UAAC,EAAA7f,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,OAEF,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,OAEF,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEmJ,QAASA,EACTq2B,OA9Cax8B,UACnB,MAAM,KAAEmE,GAAF,OAAWzG,QAAX,IAAWA,OAAX,EAAWA,EAAOwO,GAClB7M,EAAc8E,EAAKqI,WACzB,IACEnG,GAAW,GACX,MAAMsJ,EAAO,IAAIC,GAAAA,EACXO,QAAYR,EAAKb,IAAI/C,IAEzBkX,WAAW,OAAEvU,IACXK,GAAAA,GAAAA,MAAUoB,GACRwP,EAAcxX,GAAOC,KAAKsG,IAC1B,KAAE2W,SAAe9a,GAASkyB,kBAAkB9c,EAAazT,GACzD8wB,EAAiB,IAAInL,GAAexyB,GAE1C,IAAK,MAAM,cAAEyO,KAAmBpC,EAAS,OACjBoxB,EAAahvB,EAAezO,UAE5C29B,EAAelM,cAAchjB,EAAe,GAGpDxE,OAAO8J,OAAO,CACZnW,KAAM,UACNqO,YAAa,0DACb/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAG7C,MAAMjV,EAAgB,IAAKrE,EAAcoE,OACzC,OAAOL,EAAIO,QAAQnE,EAAYkE,GAC/B,MAAOwJ,GACPtQ,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAasO,EAAGwD,UA1BjD,QA4BE/W,GAAW,KAgBP6F,WAAYA,EACZhH,SAAUA,WCnFlBgG,KAAOX,SAAF,KACHY,EAmFJ,GAjF4B,IAA6C,IAA5C,WAAEe,GAAyC,EACtE,MAAO/F,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,IAChCw9B,EAAWC,IAAgBz9B,EAAAA,EAAAA,aAC3B09B,EAAWC,IAAgB39B,EAAAA,EAAAA,UAAa,IAAI4I,IAAJ,CAAO,KAEpDxK,KAAK,KAAEH,EAAF,QAAQsX,KACXrX,EAAAA,EAAAA,cAAaC,GAAoBA,KAC/B,KAAEuG,EAAF,OAAQvF,EAAR,OAAgBmW,IAAe,OAAJrX,QAAI,IAAJA,OAAA,EAAAA,EAAOwO,KAAe,CACrDtN,OAAQ,GACRmW,OAAQ,IAAI1M,IAAJ,CAAO,GACflE,KAAMoZ,EAAAA,cAAAA,WAEF/D,EAAWU,GAAgB/V,EAAKqI,aAAe,EA2C/C2gB,GAAkBptB,EAAAA,EAAAA,cAAY,KAC9Bo9B,GAAaF,IACjBG,EAAaroB,GACbmoB,EAAat+B,MACZ,CAACq+B,EAAWE,EAAWv+B,EAAQmW,IAMlC,OAJA7T,EAAAA,EAAAA,YAAU,KACRisB,MACC,CAACA,KAGF,UAAC,EAAAhxB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,OAEF,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEmJ,QAASA,EACTq2B,OAzBSx8B,UACfqG,GAAW,QAnCQrG,WACnB,MAAM,OAAEpB,GAAWoW,EACnB,GAAKpW,IAAUG,IAAQH,EAAQq+B,GAC/B,IACE,MAAM,KAAE5X,SAAe9a,GAAS8yB,gBAAgBz+B,EAAQsN,GACxD,OAAO5C,OAAO8J,OAAO,CACnBnW,KAAM,UACNqO,YAAa,yDACb/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAE7C,MAAOzL,GACPtQ,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAasO,EAAGwD,YAyB3CkgB,QArBat9B,WACnB,MAAM,OAAE+U,GAAWC,EACbuoB,EAAgBxoB,EAAO6H,IAAI,IAAIvU,IAAJ,CAAO,IAAIonB,IAAI,IAAIpnB,IAAJ,CAAOmR,KACvD,GAAKzE,IAAUhW,IAAQw+B,EAAeJ,GACtC,IACE,MAAQ9X,KAAMmY,SAAqBjzB,GAASkzB,gBAC1CF,EACArxB,GAEF,OAAO5C,OAAO8J,OAAO,CACnBnW,KAAM,UACNqO,YAAa,yDACb/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAASijB,GAAa,YAEnD,MAAO5jB,GACPtQ,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAasO,EAAGwD,YAO3CsgB,GACCr3B,GAAW,IAsBZ6F,WAAYA,UC5CtB,GApCa,IAA6C,IAA5C,WAAEA,GAAyC,EACvD,MACErO,KAAK,KAAEH,KACLC,EAAAA,EAAAA,cAAaC,GAAoBA,KAC/B,KAAEuG,EAAF,OAAQvF,EAAR,OAAgBmW,EAAhB,MAAwBxD,EAAxB,SAA+BD,IAAiB,OAAJ5T,QAAI,IAAJA,OAAA,EAAAA,EAAOwO,KAAe,CACtEtN,OAAQ,GACRmW,OAAQ,IAAI1M,EAAAA,GAAG,GACflE,KAAMoZ,EAAAA,cAAAA,WAEF5P,GAAWC,EAAAA,EAAAA,eACX4L,EAAWU,GAAgB/V,EAAKqI,aAAe,EAC/CW,EAAWqE,GAAYtF,GAEvBihB,GAAkBptB,EAAAA,EAAAA,cAAY,KAClC,IAAKO,EAAAA,QAAAA,UAAkB4L,GAAa,OACpC,MAAMqL,EAAoB,CACxBlY,YAAa8E,EAAKqI,WAClBuI,OAAQA,EAAOoI,IAAI,IAAI9U,EAAAA,GAAG,IAAMmR,IAChC5a,SACA2S,QACAD,YAEF,OAAO3D,EAASgI,GAAW4B,MAC1B,CAACrL,EAAYsN,EAAU7L,EAAU4D,EAAOD,EAAUnN,EAAMvF,EAAQmW,IAMnE,OAJA7T,EAAAA,EAAAA,YAAU,KACRisB,MACC,CAACA,IAEyB,kBAAd,OAARhgB,QAAQ,IAARA,OAAA,EAAAA,EAAU1B,UACf,SAAC,GAAD,CAAqBS,WAAYA,KAEjC,SAAC,GAAD,CAAqBA,WAAYA,MClCnChB,KAAOX,SAAF,KACHY,EA8DJ,GA5D0B,IAA6C,IAA5C,WAAEe,GAAyC,EACpE,MAAOwM,EAAWilB,IAAgBl+B,EAAAA,EAAAA,UAAS,KACpC0G,EAASE,IAAc5G,EAAAA,EAAAA,WAAS,GAoBvC,OACE,UAAC,EAAAtD,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAlB,WACE,SAAC,EAAAE,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAT,MAAD,CAAOE,KAAM,GAAb,WACE,SAAC,IAAD,CAAS8B,KAAK,0BACd,SAAC,EAAA7B,WAAA,KAAD,CAAiBO,KAAK,YAAYF,UAAU,UAA5C,+FAMJ,SAAC,EAAAT,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEJ,MAAO,CAAElC,MAAO,QAChB4e,MAAM,qBACNje,OACE,SAAC,EAAAiM,MAAD,CACEC,YAAY,eACZtC,SAAWyC,GACTi2B,EAAaj2B,EAAEjO,OAAO4B,OAExB0B,UAAU,qBAKlB,SAAC,EAAAT,IAAD,CAAKU,KAAM,MACX,SAAC,EAAAV,IAAD,CAAKU,KAAM,GAAX,UACE,SAAC,GAAD,CACEmJ,QAASA,EACT+F,WAAYA,EACZswB,OAjDgBx8B,UACtB,GAAKM,EAAAA,QAAAA,UAAkBoY,GACvB,IACErS,GAAW,GACX,MAAM,KAAEgf,SAAe9a,GAASqzB,kBAAkBllB,EAAWxM,GAC7D,OAAO5C,OAAO8J,OAAO,CACnBnW,KAAM,UACNqO,YACE,8DACF/I,QAAS,IAAM+G,OAAO4K,MAAKqG,EAAAA,EAAAA,IAAS8K,GAAO,YAE7C,MAAOzL,GACP,OAAOtQ,OAAO8J,OAAO,CAAEnW,KAAM,QAASqO,YAAasO,EAAGwD,UAVxD,QAYE/W,GAAW,aCMjB,GA9BgB,KACd,MAAM,WAAE6F,IAAe0c,EAAAA,EAAAA,aAEvB,OACE,SAAC,EAAAzsB,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAKC,QAAQ,SAA/B,UACE,SAAC,EAAAC,IAAD,CAAK8B,GAAI,GAAIC,GAAI,GAAjB,UACE,SAAC,EAAAlB,KAAD,CAAMK,UAAW,CAAEC,QAAS,GAAKL,UAAU,EAAOL,UAAU,WAA5D,UACE,UAAC,EAAAZ,IAAD,YACE,SAAC,EAAAG,IAAD,CAAKU,KAAM,GAAID,UAAU,kBAAzB,UACE,SAAC,EAAAL,WAAA,MAAD,CAAkBC,MAAO,EAAzB,yBAEF,SAAC,EAAAL,IAAD,CAAKU,KAAM,GAAID,UAAU,gBAAzB,UACE,UAAC,EAAA6b,KAAD,YACE,SAAC,EAAAA,KAAA,QAAD,CAAgCE,IAAI,cAApC,UACE,SAAC,GAAD,CAAa5M,WAAYA,KADT,gBAGlB,SAAC,EAAA0M,KAAA,QAAD,CAAyBE,IAAI,OAA7B,UACE,SAAC,GAAD,CAAM5M,WAAYA,KADF,SAGlB,SAAC,EAAA0M,KAAA,QAAD,CAAuCE,IAAI,qBAA3C,UACE,SAAC,GAAD,CAAmB5M,WAAYA,KADf,sCCjBhChB,KAAOX,SAAF,KACHY,EAGJ,IAMI0yB,GACAC,GACAC,GACAC,GACAC,GAVAC,GAAuB,EACvBC,GAAyB,EACzBC,GAAsB,EACtBC,GAA2B,EAC3BC,GAA2B,EAQ/B,MAAMC,GAAe,IAuGrB,GArGmB,KACjB,MACE/0B,QAAUrJ,QAAS2N,KACjBC,EAAAA,EAAAA,aACEJ,GAAWC,EAAAA,EAAAA,eAEX4wB,GAAgBz+B,EAAAA,EAAAA,cACpB,IAAgD,IAA7ClC,IAAK4gC,GAAuC,EAC7C,MAAMvyB,EAAauyB,EAAajyB,WAChC,OAAOmB,EAAS6H,GAAO,CAAErV,QAAS+L,EAAYC,OAAO,OAEvD,CAACwB,IAIG+wB,GAAY3+B,EAAAA,EAAAA,cAAYC,UAC5B,IACE,IAAKM,EAAAA,QAAAA,UAAkBwN,GAAgB,aAEjCH,EAASsH,MAAW0pB,SAC1B,MAAO/kB,GACP,OAAOtQ,OAAO8J,OAAO,CACnBnW,KAAM,QACNqO,YAAa,iCAGhB,CAACqC,EAAUG,IAER8wB,GAAY7+B,EAAAA,EAAAA,cAAYC,UAC5B69B,GAA4BlG,aAAY33B,UACtC,GAAIk+B,GAAsB,OAAOtG,cAAciG,IAC/CK,SAA6B3zB,GAASs0B,YACpC,qBACAL,KAEDD,IAEHT,GAA8BnG,aAAY33B,UACxC,GAAIm+B,GACF,OAAOvG,cAAckG,IACvBK,SAA+B5zB,GAASs0B,YACtC,uBACAL,KAEDD,IAEHR,GAA2BpG,aAAY33B,UACrC,GAAIo+B,GAAqB,OAAOxG,cAAcmG,IAC9CK,SAA4B7zB,GAASs0B,YACnC,oBACAL,KAEDD,IAEHP,GAAgCrG,aAAY33B,UAC1C,GAAIq+B,GACF,OAAOzG,cAAcoG,IACvBK,SAAiC9zB,GAASs0B,YACxC,yBACAL,KAEDD,IAEHN,GAAgCtG,aAAY33B,UAC1C,GAAIs+B,GACF,OAAO1G,cAAcqG,IACvBK,SAAiC/zB,GAASs0B,YACxC,yBACAL,KAED,OACF,CAACA,IA2BJ,OAzBAt9B,EAAAA,EAAAA,YAAU,KACRw9B,IACAE,IAEO,KACJ,WACC,UACQr0B,GAASu0B,eAAeZ,UACxB3zB,GAASu0B,eAAeX,UACxB5zB,GAASu0B,eAAeV,UACxB7zB,GAASu0B,eAAeT,UACxB9zB,GAASu0B,eAAeR,IAC9B,MAAO1kB,GACPxP,QAAQC,KAAKuP,EAAGwD,SAPlB,QASE8gB,GAAuB,EACvBC,GAAyB,EACzBC,GAAsB,EACtBC,GAA2B,EAC3BC,GAA2B,IAd9B,MAkBF,CAACI,EAAWE,KAER,SAAC,EAAAz7B,SAAD,MCtHP+H,KAAOX,SAAF,KACHY,EAGJ,IAKI4zB,GACAC,GACAC,GACAC,GARAC,GAA4B,EAC5BC,GAAiB,EACjBC,GAAqB,EACrBC,GAAyB,EAO7B,MAAMf,GAAe,IA4ErB,GA1EwB,KACtB,MAAM5wB,GAAWC,EAAAA,EAAAA,eAEX2xB,GAAqBx/B,EAAAA,EAAAA,cACzB,IAA+D,IAA5DjC,SAAU0hC,GAAiD,EAC5D,MAAMpkB,EAAkBokB,EAAkBhzB,WAC1C,OAAOmB,EAASqN,GAAY,CAAE7a,QAASib,EAAiBjP,OAAO,OAEjE,CAACwB,IAIGixB,GAAY7+B,EAAAA,EAAAA,cAAYC,UAC5B++B,GAA0BpH,aAAY33B,UACpC,GAAIm/B,GACF,OAAOvH,cAAcmH,IACvBI,SAAkC50B,GAASs0B,YACzC,0BACAU,KAEDhB,IAEHS,GAAerH,aAAY33B,UACzB,GAAIo/B,GAAgB,OAAOxH,cAAcoH,IACzCI,SAAuB70B,GAASs0B,YAC9B,eACAU,KAEDhB,IAEHU,GAAmBtH,aAAY33B,UAC7B,GAAIq/B,GAAoB,OAAOzH,cAAcqH,IAC7CI,SAA2B90B,GAASs0B,YAClC,mBACAU,KAEDhB,IAEHW,GAAuBvH,aAAY33B,UACjC,GAAIs/B,GAAwB,OAAO1H,cAAcsH,IACjDI,SAA+B/0B,GAASs0B,YACtC,uBACAU,KAEDhB,MACF,CAACgB,IA0BJ,OAxBAr+B,EAAAA,EAAAA,YAAU,KAER09B,IACAjxB,EAASkN,MAEF,KACJ,WACC,UACQtQ,GAASu0B,eAAeK,UACxB50B,GAASu0B,eAAeM,UACxB70B,GAASu0B,eAAeO,UACxB90B,GAASu0B,eAAeQ,IAC9B,MAAO1lB,GACPxP,QAAQC,KAAKuP,EAAGwD,SANlB,QAQE+hB,GAA4B,EAC5BC,GAAiB,EACjBC,GAAqB,EACrBC,GAAyB,IAZ5B,MAgBF,CAAC3xB,EAAUixB,KAEP,SAAC,EAAAz7B,SAAD,MCpFP+H,KAAOX,SAAF,KACHY,EAYES,GAAO,UAOA6mB,IAAcxmB,EAAAA,EAAAA,kBACxB,uBACDjM,UAA+D,IAAxD,iBAAEy/B,GAAqD,EAC5D,IAAKn/B,EAAAA,QAAAA,UAAkBm/B,GAAmB,MAAM,IAAIpzB,MAAM,mBAC1D,MACEI,UAAU,WAAEC,GADR,UAEJwI,EACA5U,SAAS,QAAEoyB,IACTnoB,GAASoC,QACPtR,QACEqR,EAAWE,mBAAmBsI,EAAW,CAC7CpI,QAAS,CACP,CAAEC,SAAU2lB,EAAQj2B,MACpB,CACEuQ,OAAQ,CACNzH,OAAQ,EACR0H,MAAOyyB,EAAAA,wBAGX,CACE1yB,OAAQ,CACNzH,OAAQ,GACR0H,MAAOwyB,OAKjB,IAAIrqB,EAAqB,GAMzB,OALA/Z,EAAMga,SAAQ,IAAyC,IAAxC,OAAEC,EAAQhV,SAAW2P,KAAM/H,IAAY,EACpD,MAAM/H,EAAUmV,EAAO9I,WACjByD,EAAO1F,GAASooB,iBAAiBzqB,GACvCkN,EAAKjV,GAAW8P,KAEXmF,KAIEuqB,IAAa1zB,EAAAA,EAAAA,kBAIvB,sBAAqBjM,MAAA,OAA6C,IAAtC,QAAEG,EAAF,MAAWgM,GAA0B,GAAjB,SAAEC,GAAe,EAClE,IAAK9L,EAAAA,QAAAA,UAAkBH,GAAU,MAAM,IAAIkM,MAAM,mBACjD,MACExO,KAAO,CAACsC,GAAU8P,IAChB7D,IACJ,GAAI6D,IAAS9D,EAAO,MAAO,CAAE,CAAChM,GAAU8P,GAExC,MAAO,CAAE,CAAC9P,SADQoK,GAASua,eAAe3kB,OAI/By/B,IAAe3zB,EAAAA,EAAAA,kBAIzB,wBAAuBjM,UAA8B,IAAvB,QAAEG,EAAF,KAAW8P,GAAW,EACrD,IAAK3P,EAAAA,QAAAA,UAAkBH,GAAU,MAAM,IAAIkM,MAAM,mBACjD,IAAK4D,EAAM,MAAM,IAAI5D,MAAM,iBAC3B,MAAO,CAAE,CAAClM,GAAU8P,MAGT4vB,IAAgB5zB,EAAAA,EAAAA,kBAC1B,yBACDjM,UAA6C,IAAtC,QAAEG,GAAmC,EAC1C,IAAKG,EAAAA,QAAAA,UAAkBH,GAAU,MAAM,IAAIkM,MAAM,mBACjD,MAAO,CAAElM,cAgCb,IAxBciN,EAAAA,EAAAA,aAAY,CACxB7O,KAAMqN,GACNC,aAjFiC,GAkFjCwB,SAAU,GACVC,cAAgBC,IACTA,EACFC,QACCilB,GAAYhlB,WACZ,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,MAEnDF,QACCmyB,GAAWlyB,WACX,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,MAEnDF,QACCoyB,GAAanyB,WACb,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,MAEnDF,QACCqyB,GAAcpyB,WACd,CAAC7P,EAAD,SAAQ,QAAE8P,GAAV,EAA6BpU,OAAOC,OAAOqE,EAAO8P,SAI1D,SCtHExC,KAAOX,SAAF,KACHY,EAGJ,IAII6zB,GACAC,GACAa,GANAV,GAAiB,EACjBC,GAAqB,EACrBU,GAAe,EAMnB,MAAMxB,GAAe,IA4ErB,GA1EuB,KACrB,MACE/0B,QAAUrJ,QAAS2N,KACjBC,EAAAA,EAAAA,aACEJ,GAAWC,EAAAA,EAAAA,eAEXoyB,GAAoBjgC,EAAAA,EAAAA,cACxB,IAA4D,IAAzD2yB,QAASuN,GAA+C,EACzD,MAAMjb,EAAiBib,EAAiBzzB,WACxC,OAAOmB,EAASgyB,GAAW,CAAEx/B,QAAS6kB,EAAgB7Y,OAAO,OAE/D,CAACwB,IAIG+wB,GAAY3+B,EAAAA,EAAAA,cAAYC,UAC5B,IACE,IAAKM,EAAAA,QAAAA,UAAkBwN,GAAgB,aACjCH,EAAS8kB,GAAY,CAAEgN,iBAAkB3xB,KAAkB6wB,SACjE,MAAO/kB,GACP,OAAOtQ,OAAO8J,OAAO,CACnBnW,KAAM,QACNqO,YAAa,qCAGhB,CAACqC,EAAUG,IAER8wB,GAAY7+B,EAAAA,EAAAA,cAAYC,UAC5Bg/B,GAAerH,aAAY33B,UACzB,GAAIo/B,GAAgB,OAAOxH,cAAcoH,IACzCI,SAAuB70B,GAASs0B,YAC9B,eACAmB,KAEDzB,IAEHU,GAAmBtH,aAAY33B,UAC7B,GAAIq/B,GAAoB,OAAOzH,cAAcqH,IAC7CI,SAA2B90B,GAASs0B,YAClC,mBACAmB,KAEDzB,IAEHuB,GAAanI,aAAY33B,UACvB,GAAI+/B,GAAc,OAAOnI,cAAckI,IACvCC,SAAqBx1B,GAASs0B,YAAY,aAAcmB,KACvDzB,MACF,CAACyB,IAuBJ,OArBA9+B,EAAAA,EAAAA,YAAU,KACRw9B,IACAE,IAEO,KACJ,WACC,UACQr0B,GAASu0B,eAAeM,UACxB70B,GAASu0B,eAAeO,UACxB90B,GAASu0B,eAAeiB,IAC9B,MAAOnmB,GACPxP,QAAQC,KAAKuP,EAAGwD,SALlB,QAOEgiB,GAAiB,EACjBC,GAAqB,EACrBU,GAAe,IAVlB,MAcF,CAACrB,EAAWE,KAER,SAAC,EAAAz7B,SAAD,KCvFHwM,GAAO,IAAIC,GAAAA,EA8BjB,GAxBwB,KACtB,MAAMlS,GAAOC,EAAAA,EAAAA,cAAaC,GAAoBA,EAAMC,IAAIH,OAClDoS,EAAMC,KAENmwB,GAAkBngC,EAAAA,EAAAA,cAAYC,UAClC1G,OAAOmF,KAAKf,GAAMqD,KAAIf,UACpB,MAAMsM,QAAkBwD,EAAII,QAAQhE,IAC5BI,SAAUoC,GAAWhR,EAAKwO,GAC5BiE,EAAM1B,GAAOC,GACnB,GAAIpC,GAAYA,EAAS6D,MAAQA,EAAK,OACtC,MAAMF,QAAuBN,GAAKpU,IAAI4U,GACtC,IAAKF,EAAM,OACX,MAAMG,EAAgB,IAAKH,EAAME,aAC3BL,EAAIO,QAAQnE,EAAYkE,QAE/B,CAAC1S,EAAMoS,IAMV,OAJA5O,EAAAA,EAAAA,YAAU,KACRg/B,MACC,CAACA,KAEG,SAAC,EAAA/8B,SAAD,MCZP6H,UAAYlC,MAAF,KACRqC,EAmDJ,GAjDa,KACX,MAAM,cAAEg1B,IAAkBttB,EAAAA,EAAAA,SAM1B,OAJA3R,EAAAA,EAAAA,YAAU,KACRi/B,EAAc,CAAEzF,M,6YAAiBH,K,6ySAChC,CAAC4F,KAGF,UAAC,EAAAhkC,IAAD,CAAKC,OAAQ,CAAC,GAAI,IAAKC,QAAQ,SAA/B,WACE,SAAC,EAAAC,IAAD,CAAKU,KAAM,GAAX,UACE,UAAC,EAAAojC,OAAD,YACE,SAAC,EAAAC,MAAD,CAAOC,OAAK,EAACC,KAAO,QAAOz3B,SAAa03B,UAAWC,MACnD,SAAC,EAAAJ,MAAD,CACEC,OAAK,EACLC,KAAO,QAAOz3B,iBACd03B,UAAWE,MAEb,SAAC,EAAAL,MAAD,CACEC,OAAK,EACLC,KAAO,QAAOz3B,qBACd03B,UAAWG,MAEb,SAAC,EAAAN,MAAD,CACEC,OAAK,EACLC,KAAO,QAAOz3B,0BACd03B,UAAWI,MAEb,SAAC,EAAAP,MAAD,CACEC,OAAK,EACLC,KAAO,QAAOz3B,kCACd03B,UAAWK,MAEb,SAAC,EAAAR,MAAD,CACEC,OAAK,EACLC,KAAO,QAAOz3B,+CACd03B,UAAWM,MAEb,SAAC,EAAAC,SAAD,CAAU34B,KAAK,IAAI44B,GAAK,QAAOl4B,iBAGnC,SAAC,EAAAxM,IAAD,CAAKU,KAAM,MACX,SAAC,GAAD,KACA,SAAC,GAAD,KACA,SAAC,GAAD,KACA,SAAC,GAAD,Q,uBCjCNqd,OAAOtgB,UAAUipB,OAAS,WACxB,OAAO7oB,KAAKmK,YAEP,MAAM28B,GAAgC,CAC3CC,kBAAmB,CACjBC,eAzBa7iB,GAOE,qBAARA,GACC,OAARA,GACe,kBAARA,GACQ,mBAARA,GACQ,kBAARA,GACP7H,MAAM2qB,QAAQ9iB,IAXOtiB,KACrB,GAAY,OAARA,EAAc,OAAO,EACzB,MAAMqlC,EAAQ/nC,OAAOgoC,eAAetlC,GACpC,OAAiB,OAAVqlC,GAAmD,OAAjC/nC,OAAOgoC,eAAeD,IAS/CE,CAAcjjB,IACC,kBAARA,GACPA,aAAe5U,EAAAA,WACf4U,aAAejW,KACfiW,aAAenW,KCNnB,IAhBcq5B,EAAAA,EAAAA,gBAAe,CAC3BC,WAAaC,GACXA,EAAqBT,IACvBU,UDVwD,ECWxDC,QAAS,CACP/jC,IADO,GAEPyO,SAFO,GAGPxO,SAHO,GAIP40B,QAJO,GAKPmE,QALO,GAMP3V,SANO,M,gBCJX,MACElW,UAAYlC,MAAF,KACRqC,EAES02B,GAAO,KAEhB,SAAC,EAAAC,WAAD,CAAYh5B,MAAOA,GAAOi5B,KAAM,CAAEC,UAAWl5B,IAA7C,UACE,SAAC,EAAAm5B,eAAD,WACE,SAAC,EAAAC,gBAAD,WACE,SAAC,EAAAC,aAAD,WACE,SAAC,EAAAC,aAAD,WACE,SAAC,EAAAC,SAAD,CAAUC,MAAOC,GAAjB,UACE,SAAC,GAAD,iB,8CCVT,MAMMC,EAAoC,CAC/CC,IAAK,KAGMC,EAAmD,CAC9Dt8B,MAX+C,CAC/Cu8B,MAAO,GACPC,KAAM,KAUNC,MAAOL,GCpBF,MAAMM,EAIX15B,YAAYtP,GAAc,KAH1BA,IAAM,GAGmB,KAFjBipC,aAAsB,GAEL,KADjBC,YAAqB,GAE3B7oC,KAAKL,IAAMA,EAGbqd,IAAI8rB,EAAcC,GAChB/oC,KAAK4oC,aAAaj9B,KAAKm9B,GACvB9oC,KAAK6oC,YAAYl9B,KAAKo9B,GAGxBC,SAASlzB,GACP,KAAO9V,KAAK4oC,aAAanpC,OAAS,GAAG,CACnBO,KAAK4oC,aAAaK,OAClCH,CAAQhzB,IAIZozB,QAAQrnB,GACN,KAAO7hB,KAAK6oC,YAAYppC,OAAS,GAAG,CACnBO,KAAK6oC,YAAYI,OAChCF,CAAOlnB,KC3BN,MAAMsnB,EAGD,WACRxpC,EACAuB,GAEC,IADD8P,EACA,uDADuBq3B,EAEvBroC,KAAKopC,SAASz0B,IAAIhV,EAAKuB,GACvBoL,YAAW,KACTtM,KAAKopC,SAASC,OAAO1pC,KACpBqR,EAAQs3B,KAGH,WAAC3oC,GACT,OAAOK,KAAKopC,SAAShoC,IAAIzB,IAfhBwpC,EACIC,SAAW,IAAIxsB,ICCzB,MAAM0sB,EAGmB,uBAACt4B,GAC7B,MAAMu4B,EAAcC,KAAKC,UAAUz4B,GACnC,GAAIhR,KAAK0pC,YAAYntB,IAAIgtB,GAAc,CACrC,MAAMI,EAAW3pC,KAAK0pC,YAAYtoC,IAAImoC,GACtC,GAAII,EAAU,OAAOA,EAGvB,IAAIC,EAAkB,IAAIC,EAAa74B,GAEvC,OADAhR,KAAK0pC,YAAY/0B,IAAI40B,EAAaK,GAC3BA,EAGQ,kBACfE,EACA/gC,GAEa,IADbiI,EACY,uDADkB,GAEJ,kBAAf84B,IAAyBA,EAAaN,KAAKC,UAAUK,IAEhE,IAAIC,EAAeT,EAAWU,gBAAgBh5B,GAC9Cs4B,EAAWI,YAAY/0B,IAAIm1B,EAAYC,GACvC,MAAME,EAAa,IAAItB,EAAamB,GACpC,OAAOC,EAAaG,KAAQD,EAAYlhC,IAzB/BugC,EACJI,YAAc,IAAI9sB,IA4B3B,MAAMitB,EAQJ56B,YAAY+B,GAA8B,KAPlCm5B,YAOiC,OANjCC,qBAMiC,OALjCC,SAAqB,GAKY,KAHjCC,kBAAoB,IAAI1tB,IAGS,KAFjC2tB,aAAgC,GAGtCvqC,KAAKmqC,OAAShrC,OAAOC,OAAOmpC,EAA8Bv3B,GAGlD,WAAIi5B,EAA2BlhC,GACvC,MAAMyhC,EAAYrB,EAAkB/nC,IAAI6oC,EAAWtqC,KACnD,GAAI6qC,EAAW,OAAO9jC,QAAQoiC,QAAQ0B,GAEtC,IAAIC,GAAU,EACVC,EAAU1qC,KAAKsqC,kBAAkBlpC,IAAI6oC,EAAWtqC,KAOpD,OANK+qC,IACHA,EAAUT,EACVQ,GAAU,EACVzqC,KAAKsqC,kBAAkB31B,IAAI+1B,EAAQ/qC,IAAK+qC,IAGnC,IAAIhkC,SAAQ,CAACoiC,EAASC,KAC3B,IAAK2B,EAAS,OAAO3B,EAAO,sBAC5B2B,EAAQ1tB,IAAI8rB,EAASC,GACjB0B,GACFzqC,KAAKsqB,MAASogB,EAAS3hC,MAKrBuhB,MAASogB,EAAwB3hC,GACvC,IAAK/I,KAAK2qC,gBACR,OAAO3qC,KAAK4qC,gBAAgBF,EAAS3hC,GAEvC/I,KAAK6qC,iBAEL9hC,IACG+hC,MAAMjQ,IACLsO,EAAkBx0B,IAAI+1B,EAAQ/qC,IAAKk7B,EAAU76B,KAAKmqC,OAAOzB,OACzDgC,EAAQ1B,SAASnO,MAElBkQ,OAAOlpB,IACN6oB,EAAQxB,QAAQrnB,MAEjBmpB,SAAQ,KACPhrC,KAAKsqC,kBAAkBjB,OAAOqB,EAAQ/qC,KACtCK,KAAKirC,kBAAkBliC,MAIrBkiC,kBAAkBliC,GACxB,IAAK/I,KAAK2qC,gBAAiB,OAC3B,MAAMD,EAAU1qC,KAAKuqC,aAAatB,QAC9ByB,GAAS1qC,KAAKkqC,KAAKQ,EAAS3hC,GAEC,IAA7B/I,KAAKuqC,aAAa9qC,QAAgBO,KAAKoqC,iBACzC3M,cAAcz9B,KAAKoqC,iBAIfQ,gBACNF,EACA3hC,GACC,IAAD,EACA/I,KAAKuqC,aAAa5+B,KAAK++B,GACvB1qC,KAAKoqC,gBAAkB5M,aAAY,KACjCx9B,KAAKirC,kBAAkBliC,KADS,UAE/B/I,KAAKmqC,OAAOl+B,aAFmB,aAE/B,EAAmBw8B,MAGhBkC,gBACN,OAAO,EAGDE,iBAAkB,IAAD,EACvB,IAAK7qC,KAAKmqC,OAAOl+B,MAAO,OAExB,MAAMi/B,GAAM,IAAIjpB,MAAO2a,UACvB58B,KAAKqqC,SAAS1+B,KAAKu/B,GACflrC,KAAKqqC,SAAS5qC,QAAd,UAAuBO,KAAKmqC,OAAOl+B,aAAnC,aAAuB,EAAmBu8B,QAC5CxoC,KAAKqqC,SAASpB,W,2FC9GpB,MAAMp1B,EAKJ5E,YAAY0E,GACV,GADkC,KAJ3Bw3B,YAI0B,OAH3BC,YAG2B,OAF3B51B,UAE2B,OAWnC1B,eAAkBnF,GACT08B,IAAAA,eAA2B,CAChCD,OAAQprC,KAAKorC,OACbhnC,KAAMpE,KAAKmrC,OACXG,UAAW38B,IAfoB,KAmBnC48B,aAAe1lC,UACb,MAAM8jC,EAAW3pC,KAAK8T,eAAenF,GAErC,aADMg7B,EAAS6B,cACFH,IAAAA,aAAyB,CACpCjnC,KAAMpE,KAAKmrC,OACXG,UAAW38B,KAxBoB,KA4BnChI,IAAMd,UACJ,IAAIiQ,EAAY,GAChB,MAAM21B,SACIzrC,KAAK8T,eAAe,UAAUiC,QAAQ,WAC9C,IAEC21B,OACAC,OAAO,CAAC,WACX,IAAK,MAAMh9B,KAAS88B,EAAQ,CAC1B31B,EAAKnH,GAAS,GACd,MAAMg7B,EAAW3pC,KAAK8T,eAAenF,SAC/Bg7B,EAASiC,SAAQ,CAAC1qC,EAAevB,KACrCmW,EAAKnH,GAAOhP,GAAOuB,KAGvB,OAAO4U,GA3C0B,KAkDnCwU,MAAQzkB,eACO7F,KAAKwV,KAAKpU,IAAI4U,GAnDM,KAsDnC61B,OAAShmC,UACP,MAAMiQ,QAAa9V,KAAK2G,MACxB,aAAa3G,KAAKwV,KAAKb,IAAImB,IAxDM,KA2DnCg2B,QAAUjmC,UAER,MAAMiQ,QAAa9V,KAAKsqB,MAAMtU,GAE9B,IAAK,MAAMrH,KAASmH,EAAM,CACxB,MAAM6zB,QAAiB3pC,KAAK8T,eAAenF,GAC3C,IAAK,MAAMhP,KAAOmW,EAAKnH,GAAQ,CAC7B,MAAMzN,EAAQ4U,EAAKnH,GAAOhP,SACpBgqC,EAASzzB,QAAQvW,EAAKuB,IAGhC,OAAO4U,IArEF3P,EAAAA,QAAAA,UAAkBwN,GAAgB,MAAM,IAAIzB,MAAM,mBACvDlS,KAAKmrC,OAASx3B,EACd3T,KAAKorC,OAAS,CAACC,IAAAA,OAAoBA,IAAAA,cACnCrrC,KAAKwV,KAAO,IAAIC,EAAAA,GAsEpB,W,0FClFA,MAAMA,EAAM,cAAD,KACDs2B,MAAalmC,UACnB,IAEE,OADKsJ,OAAOqG,OAAMrG,OAAOqG,WAAaw2B,EAAAA,EAAAA,OAC/B78B,OAAOqG,KACd,MAAOiK,GAEP,aADMQ,EAAAA,EAAAA,IAAU,WACHjgB,KAAK+rC,UAPb,KAoBT3qC,IAAMyE,UACJ,IAAK4P,EAAKw2B,MAAMj2B,GAAM,MAAM,IAAI9D,MAAM,eACtC,IACE,MAAMsD,QAAaxV,KAAK+rC,QAClBG,QAAe12B,EAAK22B,IAAIn2B,EAAK,CAAEo2B,QAzBnB,OA0BlB,IAAIC,EAAM,GACV,UAAW,MAAMC,KAASJ,EAAQG,GAAOr+B,EAAOC,KAAKq+B,GAAOniC,WAE5D,OADaq/B,KAAK+C,MAAMF,GAExB,MAAOn1B,MA7BF,KAkCTvC,IAAM9O,UACJ,IAAKiQ,EAAM,MAAM,IAAI5D,MAAM,cAC3B,MAAMm6B,EAAM7C,KAAKC,UAAU3zB,GACrBN,QAAaxV,KAAK+rC,SAClB,IAAE/1B,SAAcR,EAAKwH,IAAIqvB,GAC/B,OAAOr2B,EAAI7L,aAvCTsL,EAWGw2B,MAASj2B,IACd,IACE,QAAKA,GACEw2B,EAAAA,GAAAA,UAAiBx2B,GACxB,MAAOyJ,GACP,OAAO,IA2Bb,W,yFC1CA,MAaa3O,EANA,aAwBAlG,EAbM,MACjB,OAAQ6hC,EAAAA,EAAAA,IAAY,YAClB,IAAK,SACH,MAAO,SACT,IAAK,UACH,MAAO,UAGT,QACE,MAAO,YAIWC,GAuBXC,EAbM,MACjB,OAAQ/hC,GACN,IAAK,SACH,OAAO,IACT,IAAK,UACH,OAAO,IAGT,QACE,OAAO,MAImBgiC,GAanB3W,EARyB,CACpC9lB,OAAQ,gCACRQ,QAAS,iCACTC,QACU,gBAARE,EACI,sCACA,uGAE4BlG,I,8CCxEpC,MAAMiiC,EAAM,SACNzB,EAASj8B,OAAOzD,aAEhBohC,EAAW5rC,IACf,IACE,OAAKA,EACEsoC,KAAK+C,MAAMrrC,GADC,KAEnB,MAAOqM,GACP,OAAO,OAILk/B,EAAU,CACd93B,IAAK,CAAChV,EAAauB,KACjB,IAAI4U,EAAOg3B,EAAQ1B,EAAOr1B,QAAQ82B,IAC7B/2B,GAAwB,kBAATA,IAAmBA,EAAO,IAC9CA,EAAKnW,GAAOuB,EACZkqC,EAAOl1B,QAAQ22B,EAAKrD,KAAKC,UAAU3zB,KAErC1U,IAAMzB,IACJ,IAAImW,EAAOg3B,EAAQ1B,EAAOr1B,QAAQ82B,IAClC,OAAK/2B,GAAwB,kBAATA,EACbA,EAAKnW,GADkC,MAGhD6rC,MAAQ7rC,IACN8sC,EAAQ93B,IAAIhV,EAAK,QAIrB,K,oJClBO,MAAMsgB,EAAa8sB,GACjB,IAAIrmC,SAASoiC,GAAYx8B,WAAWw8B,EAASiE,KAUzCnzB,EAAiB,SAAC5T,GAAiD,IAAhCgnC,EAA+B,uDAAzB,EAAGC,EAAsB,uDAAV,MACnE,OACEjnC,EAAQiC,UAAU,EAAG+kC,GACrBC,EACAjnC,EAAQiC,UAAUjC,EAAQvG,OAASutC,EAAKhnC,EAAQvG,SASvC2gB,EAAY8sB,GACnB/mC,EAAAA,QAAAA,UAAkB+mC,GACZ,8BAA6BA,aAAyBtiC,EAAAA,KAExD,yBAAwBsiC,aAAyBtiC,EAAAA,KAQ9CvG,EACXnD,GAEKA,EACEisC,IAAOjsC,GADKisC,IAAO,KAUf5kC,EAAc,CAACuF,EAAes/B,KACzC,IAAIC,EAAOj/B,KAAK4T,MAAsB,SAAhB5T,KAAKC,UAC3B,GAAIP,EAAM,CACRu/B,EAAO,EACP,IAAK,IAAI9tC,EAAI,EAAGA,EAAIuO,EAAKrO,OAAQF,IAC/B8tC,EAAOv/B,EAAKw/B,WAAW/tC,KAAO8tC,GAAQ,GAAKA,GAG/C,IAAIE,EAAM,CAAC,EAAG,EAAG,GACjB,IAAK,IAAIhuC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,IAAI2B,EAASmsC,GAAa,EAAJ9tC,EAAU,IAChCguC,EAAIhuC,GAAK2B,EAEX,MAAQ,QAAOqsC,EAAI,YAAYA,EAAI,MAAMH,GAAW,MAQzCjgB,EAAWtnB,iBAAwB,IAAjBmnB,EAAgB,uDAAP,GACtC,OAAOsc,EAAAA,EAAAA,KAAgB,WAAatc,GAAQ,IAAMta,EAAAA,MAAAA,SAAesa,O","sources":["app/static/images/logo.svg","app/static.app.tsx","app/view/dao/hero/banner.tsx","app/view/dao/hero/infoCard.tsx","app/view/dao/hero/index.tsx","app/components/statisticCard.tsx","app/components/regimeTag.tsx","shared/antd/mint/mintAvatar.tsx","shared/antd/mint/mintName.tsx","shared/antd/mint/mintSymbol.tsx","shared/antd/mint/mintSelection/mintTag.tsx","shared/antd/mint/mintSelection/mintCard.tsx","shared/antd/mint/mintSelection/loadMore.tsx","shared/antd/mint/mintSelection/hooks/useAllMintAddresses.ts","shared/hooks/useSortMints.ts","shared/antd/mint/mintSelection/hooks/useRecommendedMints.ts","shared/antd/mint/mintSelection/hooks/useSearchedMints.ts","shared/antd/mint/mintSelection/index.tsx","app/components/gradientAvatar/index.tsx","app/configs/manifest.config.ts","app/helpers/safeWallet.ts","app/configs/sol.config.ts","app/configs/index.ts","app/model/metadata.controller.tsx","app/hooks/useMembers.ts","app/hooks/usePDB.ts","app/helpers/index.ts","app/hooks/useMetaData.ts","app/helpers/metaplex.ts","app/hooks/dao/useCheckMemberOnly.ts","app/view/dao/daoList/daoCard.tsx","app/view/dao/daoList/search/index.tsx","app/view/dao/daoInitialization/components/cardRegime.tsx","app/model/dao.controller.tsx","app/view/dao/daoInitialization/flexibleDAO/daoRule/regimeInput.tsx","app/view/dao/daoList/sortDao.tsx","app/view/dao/daoList/typeOfDao.tsx","app/view/dao/daoList/search/daoProvider.ts","app/hooks/useSearchDao.ts","app/hooks/useDaoType.ts","app/view/dao/daoList/index.tsx","app/view/dao/daoList/yourDao.tsx","app/view/dao/index.tsx","app/components/proposalStatus.tsx","app/components/rowSpaceBetween.tsx","app/components/rowSpaceVertical.tsx","shared/hooks/useMintDecimals.ts","app/view/proposal/modalTemplateInfo/transferInfo.tsx","app/model/proposal.controller.tsx","app/hooks/proposal/useProposal.ts","app/view/proposal/modalTemplateInfo/component/templateInfo.tsx","app/hooks/proposal/useProposalStatus.ts","app/hooks/proposal/useProposalMetaData.ts","app/view/proposal/proposalList/proposalCard.tsx","app/model/template.controller.tsx","shared/antd/numericInput.tsx","app/view/templates/spl/transfer/index.tsx","app/static/images/templates/solana.svg","app/view/templates/spl/index.tsx","app/view/templates/index.tsx","app/view/proposal/proposalList/index.tsx","app/view/dao/daoDetails/members.tsx","app/view/dao/daoDetails/daoInfo.tsx","app/helpers/distributor.ts","app/view/dao/daoDetails/joinDao.tsx","app/hooks/useNftMetaData.ts","app/view/dao/daoDetails/daoOwnerAssets/nftsTreasury/index.tsx","app/hooks/useBalance.ts","app/view/dao/daoDetails/daoOwnerAssets/treasury/mintBalance.tsx","app/view/dao/daoDetails/daoOwnerAssets/treasury/index.tsx","app/view/dao/daoDetails/daoOwnerAssets/index.tsx","app/view/dao/daoDetails/index.tsx","app/view/proposal/index.tsx","app/view/proposal/proposalInitialization/consensusMechanismInput.tsx","app/components/consensusQuorumInput.tsx","app/view/proposal/proposalInitialization/durationInput.tsx","app/view/proposal/proposalInitialization/proposalPreview.tsx","app/view/proposal/proposalInitialization/index.tsx","app/view/dao/daoInitialization/chooseDaoType.tsx","app/view/dao/daoInitialization/flexibleDAO/reviewAndCreate.tsx","app/view/dao/daoInitialization/multisigDAO/reviewAndCreate.tsx","shared/hooks/useMintSupply.ts","app/view/dao/daoInitialization/flexibleDAO/circulatingSupply/circulatingSupplyInput.tsx","app/view/dao/daoInitialization/flexibleDAO/circulatingSupply/circulatingSupplyInputNFT.tsx","app/view/dao/daoInitialization/flexibleDAO/circulatingSupply/index.tsx","app/components/cardNFT.tsx","app/view/dao/daoInitialization/components/searchNftCollection.tsx","app/view/dao/daoInitialization/components/modalNftCollection.tsx","app/view/dao/daoInitialization/flexibleDAO/daoRule/tokenAddressInput.tsx","app/view/dao/daoInitialization/components/privacy.tsx","app/view/dao/daoInitialization/flexibleDAO/daoRule/index.tsx","app/view/dao/daoInitialization/multisigDAO/daoRule/regime.tsx","app/view/dao/daoInitialization/multisigDAO/daoRule/memberInput.tsx","app/view/dao/daoInitialization/multisigDAO/daoRule/daoMembers.tsx","app/view/dao/daoInitialization/multisigDAO/daoRule/index.tsx","app/view/dao/daoInitialization/daoInfomation.tsx","app/view/dao/daoInitialization/initDAOContainer.tsx","app/view/dao/daoInitialization/initDAOHeader.tsx","app/view/dao/daoInitialization/actions/backAction.tsx","app/hooks/dao/useFlexibleDao.ts","app/helpers/mutisigWallet.ts","app/hooks/dao/useMultisigDao.ts","app/view/dao/daoInitialization/actions/confirmButton.tsx","app/view/dao/daoInitialization/actions/index.tsx","app/view/dao/daoInitialization/index.tsx","app/hooks/proposal/useReceipts.ts","app/view/proposal/proposalDetails/cardStatus.tsx","app/hooks/proposal/useProposalFee.tsx","app/view/proposal/proposalDetails/cardVote/nft/modalVoteNFT.tsx","app/view/proposal/proposalDetails/history/columnType.tsx","app/view/proposal/proposalDetails/history/columnPower.tsx","app/view/proposal/proposalDetails/withdraw.tsx","app/helpers/countDown.ts","app/view/proposal/proposalDetails/cardVote/lockedVoting.tsx","app/hooks/useOwnerNFT.ts","app/hooks/useOwnerNftByCollection.ts","app/view/proposal/proposalDetails/cardVote/nft/index.tsx","shared/hooks/useAccountBalance.ts","app/view/proposal/proposalDetails/cardVote/token/actionVote.tsx","app/model/voteBid.controller.tsx","app/view/proposal/proposalDetails/cardVote/token/index.tsx","app/view/proposal/proposalDetails/cardVote/index.tsx","app/view/proposal/modalTemplateInfo/index.tsx","app/hooks/proposal/useParseQuorumText.ts","app/view/proposal/proposalDetails/cardInfo.tsx","app/view/proposal/proposalDetails/cardProgress.tsx","app/view/proposal/proposalDetails/history/columnName.tsx","app/view/proposal/proposalDetails/history/column.tsx","app/view/proposal/proposalDetails/history/index.tsx","app/view/proposal/proposalDetails/index.tsx","app/view/dao/editDao/actionButton.tsx","app/view/dao/editDao/information.tsx","app/view/dao/editDao/rule/editMultisigDaoRule/daoMembers.tsx","app/view/dao/editDao/rule/editMultisigDaoRule/index.tsx","app/view/dao/editDao/rule/editFlexibleDaoRule.tsx","app/view/dao/editDao/rule/index.tsx","app/view/dao/editDao/transferAuthority.tsx","app/view/dao/editDao/index.tsx","app/view/watcher/dao.watcher.tsx","app/view/watcher/proposal.watcher.tsx","app/model/receipt.controller.tsx","app/view/watcher/receipt.watcher.tsx","app/view/watcher/metadata.watcher.tsx","app/view/index.tsx","app/model/devTools.ts","app/model/index.ts","app/bootstrap.app.tsx","shared/dataloader/constant.ts","shared/dataloader/request.ts","shared/dataloader/cache.ts","shared/dataloader/index.ts","shared/pdb/index.ts","shared/pdb/ipfs.ts","shared/runtime.ts","shared/storage.ts","shared/util.ts"],"sourcesContent":["var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9, _path10;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.9183 4.85506L23.3679 5.05527L20.2655 6.20646L16.8629 7.48279C16.6627 7.55787 16.4626 7.35766 16.5376 7.15746L17.8136 3.75391L18.9645 0.675704L19.1647 0.12513C18.7894 0.0500521 18.4141 0 18.0138 0H6.00459C5.60429 0 5.229 0.0500521 4.85371 0.100104L5.05386 0.650678L6.20474 3.75391L7.48072 7.18248C7.55578 7.38269 7.35562 7.5829 7.15547 7.50782L3.75287 6.20646L0.675517 5.05527L0.125096 4.85506C0.0250191 5.23045 0 5.60584 0 6.00626V18.0188C0 18.4192 0.0250191 18.7946 0.100077 19.17L0.650497 18.9698L3.75287 17.8186L7.15547 16.5422C7.35562 16.4672 7.55578 16.6674 7.48072 16.8676L6.20474 20.2711L5.05386 23.3493L4.85371 23.8999C5.229 23.975 5.60429 24 6.00459 24H18.0138C18.4141 24 18.7894 23.9499 19.1647 23.8999L18.9645 23.3493L17.8136 20.2711L16.5376 16.8676C16.4626 16.6674 16.6627 16.4672 16.8629 16.5422L20.2655 17.8186L23.3428 18.9698L23.8933 19.17C23.9683 18.7946 23.9933 18.4192 23.9933 18.0188V6.00626C24.0184 5.60584 23.9683 5.23045 23.9183 4.85506ZM14.336 14.0396C14.1358 13.9645 13.9357 14.1648 14.0107 14.365L15.9122 19.4953C14.8864 18.5693 13.5103 18.0188 12.0092 18.0188C10.508 18.0188 9.13198 18.5693 8.08118 19.4703L9.98263 14.3399C10.0577 14.1397 9.85754 13.9395 9.65738 14.0146L4.52846 15.9166C5.45417 14.8905 6.00459 13.5141 6.00459 12.0125C6.00459 10.5109 5.45417 9.13451 4.52846 8.08342L9.65738 10.0104C9.85754 10.0855 10.0577 9.8853 9.98263 9.68509L8.08118 4.55474C9.13198 5.45568 10.508 6.00626 12.0092 6.00626C13.5103 6.00626 14.8864 5.45568 15.9372 4.52972L14.0357 9.66006C13.9607 9.86027 14.1608 10.0605 14.361 9.9854L19.4899 8.05839C18.5642 9.13452 18.0138 10.5109 18.0138 12.0125C18.0138 13.5141 18.5642 14.8905 19.4899 15.9416L14.336 14.0396Z\",\n    fill: \"#F9DEB0\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.4429 3.45417L20.2655 4.65542L19.3648 5.00579C19.1647 5.08086 18.9645 4.88066 19.0396 4.68045L19.3898 3.75448L20.5908 0.576172C21.8417 1.15177 22.8675 2.20287 23.4429 3.45417Z\",\n    fill: \"#F9DEB0\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.65429 4.98076L3.7536 4.65542L0.576172 3.45417C1.15161 2.20287 2.20242 1.15177 3.45337 0.576172L4.65429 3.75448L5.00456 4.68045C5.0546 4.88066 4.87946 5.05584 4.65429 4.98076Z\",\n    fill: \"#F9DEB0\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.97819 19.3707L4.65294 20.2716L3.45202 23.475C2.17605 22.8743 1.15026 21.8483 0.549805 20.5719L3.75225 19.3707L4.65294 19.0203C4.87811 18.9703 5.05325 19.1454 4.97819 19.3707Z\",\n    fill: \"#F9DEB0\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.4426 20.5701C22.8421 21.8464 21.8163 22.8725 20.5403 23.4731L19.3644 20.2698L19.0142 19.3688C18.9391 19.1686 19.1393 18.9684 19.3394 19.0435L20.2401 19.3938L23.4426 20.5701Z\",\n    fill: \"#F9DEB0\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.0346 14.3665L15.9361 19.4968C14.8853 18.5709 13.5092 18.0203 12.0081 18.0203C10.5069 18.0203 9.13086 18.5709 8.08006 19.4718L9.98151 14.3415C10.0566 14.1413 9.85642 13.9411 9.65626 14.0161L4.52734 15.9181C5.45305 14.892 6.00347 13.5156 6.00347 12.014C6.00347 10.5125 5.45305 9.13605 4.52734 8.08495L9.65626 10.012C9.85642 10.087 10.0566 9.88683 9.98151 9.68662L8.08006 4.55628C9.13086 5.45721 10.5069 6.00779 12.0081 6.00779C13.5092 6.00779 14.8853 5.45721 15.9361 4.53125L14.0346 9.66159C13.9596 9.8618 14.1597 10.062 14.3599 9.98693L19.4888 8.05993C18.5631 9.13605 18.0127 10.5125 18.0127 12.014C18.0127 13.5156 18.5631 14.892 19.4888 15.9431L14.3599 14.0412C14.1347 13.9661 13.9596 14.1413 14.0346 14.3665Z\",\n    fill: \"#1A1311\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.9173 4.85688L23.3669 5.05709L20.2645 6.20829L16.8619 7.48462C16.6617 7.5597 16.4616 7.35949 16.5366 7.15928L17.8126 3.75573L18.9635 0.677527L19.1637 0.126953C19.664 0.227057 20.1144 0.377214 20.5647 0.577422L19.3638 3.75573L19.0135 4.6817C18.9385 4.88191 19.1386 5.08211 19.3388 5.00704L20.2395 4.65667L23.4169 3.45542C23.6671 3.90589 23.8172 4.38138 23.9173 4.85688Z\",\n    fill: \"#1A1311\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.1544 7.48462L3.7518 6.20829L0.674444 5.05709L0.124023 4.85688C0.2241 4.35636 0.374215 3.90589 0.574368 3.45542L3.7518 4.65667L4.65249 5.00704C4.85264 5.08211 5.05279 4.88191 4.97773 4.6817L4.65249 3.75573L3.45157 0.577422C3.90191 0.377214 4.35226 0.227057 4.85264 0.126953L5.05279 0.677527L6.20367 3.75573L7.47965 7.1843C7.55471 7.38451 7.37957 7.5597 7.1544 7.48462Z\",\n    fill: \"#1A1311\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.47965 16.8684L6.20367 20.2719L5.05279 23.3501L4.85264 23.9007C4.35226 23.8006 3.90191 23.6504 3.45157 23.4502L4.65249 20.2719L5.00275 19.371C5.07781 19.1708 4.87766 18.9706 4.67751 19.0456L3.7518 19.371L0.574368 20.5722C0.374215 20.1218 0.2241 19.6713 0.124023 19.1708L0.674444 18.9706L3.7518 17.8194L7.1544 16.543C7.37957 16.4679 7.55471 16.6431 7.47965 16.8684Z\",\n    fill: \"#1A1311\"\n  })), _path10 || (_path10 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.0386 19.3714L19.3888 20.2724L20.5897 23.4507C20.1394 23.6509 19.6891 23.8261 19.1887 23.9011L18.9885 23.3506L17.8126 20.2724L16.5366 16.8688C16.4616 16.6686 16.6617 16.4684 16.8619 16.5435L20.2645 17.8198L23.3418 18.971L23.8923 19.1712C23.7922 19.6717 23.6421 20.1222 23.4419 20.5727L20.2645 19.3714L19.3638 19.0211C19.1386 18.971 18.9635 19.1462 19.0386 19.3714Z\",\n    fill: \"#1A1311\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.b14551bd17f53fea785636a049f9dae9.svg\";\nexport { ForwardRef as ReactComponent };","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"logo\", {\n  enumerable: true,\n  get: function () {\n    return _logo.default;\n  }\n});\nexports.panels = void 0;\nObject.defineProperty(exports, \"readme\", {\n  enumerable: true,\n  get: function () {\n    return _README.default;\n  }\n});\n\nvar _panel = _interopRequireDefault(require(\"./static/images/panel.png\"));\n\nvar _panel2 = _interopRequireDefault(require(\"./static/images/panel1.png\"));\n\nvar _panel3 = _interopRequireDefault(require(\"./static/images/panel2.png\"));\n\nvar _logo = _interopRequireDefault(require(\"./static/images/logo.svg\"));\n\nvar _README = _interopRequireDefault(require(\"./static/docs/README.md\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst panels = [_panel.default, _panel2.default, _panel3.default];\nexports.panels = panels;","import { Col, Row, Space, Typography } from 'antd'\n\nconst Banner = () => {\n  return (\n    <Row gutter={[16, 16]} justify=\"center\">\n      <Col>\n        <Space direction=\"vertical\" size={0}>\n          <Typography.Title\n            level={1}\n            style={{ fontSize: 72, textAlign: 'center' }}\n            className=\"title-underline\"\n          >\n            Let’s build YOUR OWN DAO.\n          </Typography.Title>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Typography.Paragraph\n          type=\"secondary\"\n          style={{ fontSize: 20, textAlign: 'center' }}\n        >\n          Customize the DAO to your purpose - No coding needed.\n        </Typography.Paragraph>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Banner\n","import { ReactNode } from 'react'\n\nimport { Card, Col, Row, Space, Typography } from 'antd'\n\nexport type InfoCardProps = {\n  icon?: ReactNode\n  title?: string\n  value?: string\n}\n\nconst InfoCard = ({ icon, title, value }: InfoCardProps) => {\n  return (\n    <Card\n      bordered={false}\n      style={{\n        background: 'transparent',\n        borderLeft: '1px solid',\n        borderRadius: 'unset',\n      }}\n      bodyStyle={{\n        padding: '0 24px',\n      }}\n    >\n      <Row gutter={[5, 5]}>\n        <Col span={24}>\n          <Space>\n            {icon}\n            <Typography.Text type=\"secondary\">{title}</Typography.Text>\n          </Space>\n        </Col>\n        <Col span={24}>\n          <Typography.Title level={4}>{value}</Typography.Title>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default InfoCard\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Col, Row } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport Banner from './banner'\nimport InfoCard from './infoCard'\n\nimport { numeric } from 'shared/util'\nimport { AppState } from 'app/model'\n\nimport './index.less'\n\nconst Hero = () => {\n  const daos = useSelector((state: AppState) => state.dao.daos)\n  const proposal = useSelector((state: AppState) => state.proposal)\n\n  const executeProposal = useMemo(() => {\n    let total = 0\n    for (const proposalAddr in proposal) {\n      const { executed } = proposal[proposalAddr]\n      if (executed) total++\n      continue\n    }\n    return total\n  }, [proposal])\n\n  return (\n    <Row className=\"interdao-banner\" justify=\"center\">\n      <Col xs={24} lg={18}>\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <Banner />\n          </Col>\n          <Col xs={24} sm={12} lg={8}>\n            <InfoCard\n              icon={<IonIcon name=\"earth-outline\" />}\n              title=\"Total DAOs\"\n              value={numeric(Object.keys(daos).length).format('0,0')}\n            />\n          </Col>\n          <Col xs={24} sm={12} lg={8}>\n            <InfoCard\n              icon={<IonIcon name=\"pencil-outline\" />}\n              title=\"Total Proposals\"\n              value={numeric(Object.keys(proposal).length).format('0,0')}\n            />\n          </Col>\n          <Col xs={24} sm={12} lg={8}>\n            <InfoCard\n              icon={<IonIcon name=\"thumbs-up-outline\" />}\n              title=\"Total executed proposals\"\n              value={numeric(executeProposal).format('0,0')}\n            />\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Hero\n","import { ReactNode } from 'react'\n\nimport { Space, Typography } from 'antd'\n\nexport type StatisticCardProps = {\n  title: string\n  value: string | number | ReactNode\n}\nconst StatisticCard = ({ title, value }: StatisticCardProps) => {\n  return (\n    <Space direction=\"vertical\">\n      <Typography.Text className=\"caption\" type=\"secondary\">\n        {title}\n      </Typography.Text>\n      {['number', 'string'].includes(typeof value) ? (\n        <Typography.Text>{value}</Typography.Text>\n      ) : (\n        value\n      )}\n    </Space>\n  )\n}\n\nexport default StatisticCard\n","import { useMemo } from 'react'\nimport { DaoRegime, DaoRegimes } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\n\nimport { Tag } from 'antd'\n\nexport type RegimeTagProps = { regime: DaoRegime; special?: boolean }\n\nconst RegimeTag = ({ regime, special }: RegimeTagProps) => {\n  const tag = useMemo(() => {\n    if (isEqual(regime, DaoRegimes.Dictatorial)) return 'Dictatorial'\n    if (isEqual(regime, DaoRegimes.Democratic)) return 'Democratic'\n    if (isEqual(regime, DaoRegimes.Autonomous)) return 'Autonomous'\n    return 'DAO Regime'\n  }, [regime])\n\n  const className = special ? 'regime-tag dao-tag' : 'dao-tag'\n\n  return (\n    <Tag className={className} style={{ margin: 0 }}>\n      {tag}\n    </Tag>\n  )\n}\n\nexport default RegimeTag\n","import { ReactNode, useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nimport { Avatar } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nconst DEFAULT_AVATARS: Array<string | undefined> = [undefined]\n\nexport type MintAvatarProps = {\n  mintAddress: string\n  size?: number\n  icon?: ReactNode\n  reversed?: boolean\n}\n\n/**\n * Mint/Token avatar, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param size - Avatar size. Default 24px.\n * @param icon - Fallback icon for unknown token\n * @param reversed - (Optional) The default LP token avatar is A-B. The reversed is to change it to B-A\n * @returns name\n */\nconst MintAvatar = ({\n  mintAddress,\n  size = 24,\n  icon = <IonIcon name=\"diamond-outline\" />,\n  reversed = false,\n  ...props\n}: MintAvatarProps) => {\n  const [avatars, setAvatars] = useState(DEFAULT_AVATARS)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveAvatar = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.logoURI) return token.logoURI\n      return undefined\n    },\n    [tokenProvider],\n  )\n\n  const deriveAvatars = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setAvatars(DEFAULT_AVATARS)\n    // LP mint\n    const poolData = Object.values(pools || {}).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const avatars = await Promise.all([mint_a, mint_b].map(deriveAvatar))\n      if (reversed) avatars.reverse()\n      return setAvatars(avatars)\n    }\n    // Normal mint\n    const avatar = await deriveAvatar(mintAddress)\n    return setAvatars([avatar])\n  }, [mintAddress, reversed, deriveAvatar, pools])\n\n  useEffect(() => {\n    deriveAvatars()\n  }, [deriveAvatars])\n\n  if (avatars.length === 1)\n    return (\n      <Avatar\n        src={avatars[0]}\n        size={size}\n        style={{ backgroundColor: '#2D3355', border: 'none' }}\n        {...props}\n      >\n        {icon}\n      </Avatar>\n    )\n  return (\n    <Avatar.Group style={{ display: 'block', whiteSpace: 'nowrap' }} {...props}>\n      {avatars.map((avatar, i) => (\n        <Avatar\n          key={i}\n          src={avatar}\n          size={size}\n          style={{ backgroundColor: '#2D3355', border: 'none' }}\n        >\n          {icon}\n        </Avatar>\n      ))}\n    </Avatar.Group>\n  )\n}\n\nexport default MintAvatar\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nconst DEFAULT_NAME = 'Unknown Token'\n\n/**\n * Mint/Token name, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param separator - (Optional) In case of LP tokens, the names is combined by 2 token names. The separator is to separate them.\n * @param reversed - (Optional) The default LP token names is A-B. The reversed is to change it to B-A\n * @returns name\n */\nconst MintName = ({\n  mintAddress,\n  separator = ' • ',\n  reversed = false,\n}: {\n  mintAddress: string\n  separator?: string\n  reversed?: boolean\n}) => {\n  const [name, setName] = useState(DEFAULT_NAME)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveName = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.name) return token.name\n      return DEFAULT_NAME\n    },\n    [tokenProvider],\n  )\n\n  const deriveNames = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setName(DEFAULT_NAME)\n    // LP mint\n    const poolData = Object.values(pools || {}).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const names = await Promise.all([mint_a, mint_b].map(deriveName))\n      if (reversed) names.reverse()\n      return setName(`${names.join(separator)} LP`)\n    }\n    // Normal mint\n    const name = await deriveName(mintAddress)\n    return setName(name)\n  }, [mintAddress, reversed, deriveName, pools, separator])\n\n  useEffect(() => {\n    deriveNames()\n  }, [deriveNames])\n\n  return <span>{name}</span>\n}\n\nexport default MintName\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nconst DEFAULT_SYMBOL = 'TOKN'\n\n/**\n * Mint/Token symbol, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param separator - (Optional) In case of LP tokens, the symbols is combined by 2 token symbols. The separator is to separate them.\n * @param reversed - (Optional) The default LP token symbol is A-B. The reversed is to change it to B-A\n * @returns symbol\n */\nconst MintSymbol = ({\n  mintAddress,\n  separator = ' • ',\n  reversed = false,\n}: {\n  mintAddress: string\n  separator?: string\n  reversed?: boolean\n}) => {\n  const [symbol, setSymbol] = useState(DEFAULT_SYMBOL)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveSymbol = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.symbol) return token.symbol\n      return address.substring(0, 4)\n    },\n    [tokenProvider],\n  )\n\n  const deriveSymbols = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setSymbol(DEFAULT_SYMBOL)\n    // LP mint\n    const poolData = Object.values(pools || {}).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const symbols = await Promise.all([mint_a, mint_b].map(deriveSymbol))\n      if (reversed) symbols.reverse()\n      return setSymbol(symbols.join(separator))\n    }\n    // Normal mint\n    const symbol = await deriveSymbol(mintAddress)\n    return setSymbol(symbol)\n  }, [mintAddress, reversed, deriveSymbol, pools, separator])\n\n  useEffect(() => {\n    deriveSymbols()\n  }, [deriveSymbols])\n\n  return <span>{symbol}</span>\n}\n\nexport default MintSymbol\n","import { Card, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { MintAvatar } from 'shared/antd/mint'\nimport MintSymbol from '../mintSymbol'\n\nimport { randomColor } from 'shared/util'\n\nimport './index.less'\n\nexport type MintTagProps = {\n  mintAddress: string\n  onClick?: (mintAddress: string) => void\n  active?: boolean\n}\n\nconst MintTag = ({\n  mintAddress,\n  onClick = () => {},\n  active = false,\n}: MintTagProps) => {\n  return (\n    <Card\n      bodyStyle={{\n        padding: 8,\n        cursor: 'pointer',\n      }}\n      style={{\n        borderRadius: 8,\n        backgroundColor: randomColor(mintAddress, 0.2),\n      }}\n      className=\"mint-tag\"\n      bordered={Boolean(active)}\n      onClick={() => onClick(mintAddress)}\n    >\n      <Space size={8} style={{ width: '100%', justifyContent: 'center' }}>\n        <MintAvatar mintAddress={mintAddress} />\n        <Typography.Text\n          ellipsis={true}\n          style={{ color: randomColor(mintAddress) }}\n        >\n          <MintSymbol mintAddress={mintAddress} />\n        </Typography.Text>\n        {active && <IonIcon name=\"checkmark-outline\" />}\n      </Space>\n    </Card>\n  )\n}\nexport default MintTag\n","import { Card, Col, Row, Space, Typography } from 'antd'\nimport { MintAvatar, MintName, MintSymbol } from 'shared/antd/mint'\n\nexport type MintSelectionProps = {\n  mintAddress: string\n  onClick?: (mintAddress: string) => void\n}\n\nconst MintCard = ({ mintAddress, onClick = () => {} }: MintSelectionProps) => {\n  return (\n    <Card\n      bodyStyle={{ padding: 8 }}\n      style={{ boxShadow: 'unset', cursor: 'pointer' }}\n      bordered={false}\n      onClick={() => onClick(mintAddress)}\n    >\n      <Row gutter={[16, 16]} align=\"middle\">\n        <Col>\n          <MintAvatar mintAddress={mintAddress} size={36} />\n        </Col>\n        <Col>\n          <Space direction=\"vertical\" size={0}>\n            <Typography.Text>\n              <MintSymbol mintAddress={mintAddress} />\n            </Typography.Text>\n            <Typography.Text type=\"secondary\" className=\"caption\">\n              <MintName mintAddress={mintAddress} />\n            </Typography.Text>\n          </Space>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default MintCard\n","import { Fragment, useEffect } from 'react'\nimport LazyLoad from '@sentre/react-lazyload'\n\ntype PropsLoadMore = { callback: () => void }\n\nconst LoadMore = ({ callback }: PropsLoadMore) => {\n  useEffect(() => {\n    callback()\n  }, [callback])\n\n  return <Fragment />\n}\nconst WrapLoadMore = (props: PropsLoadMore) => {\n  return (\n    <LazyLoad overflow>\n      <LoadMore {...props} />\n    </LazyLoad>\n  )\n}\nexport default WrapLoadMore\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\n\nexport const useAllMintAddresses = () => {\n  const [allMintAddresses, setAllMintAddresses] = useState<string[]>([])\n  const { tokenProvider } = useMint()\n\n  const getRecommendedMintAddresses = useCallback(async () => {\n    const allMintAddresses = (await tokenProvider.all()).map(\n      ({ address }) => address,\n    )\n    const addresses = allMintAddresses.filter((mintAddress) =>\n      allMintAddresses.includes(mintAddress),\n    )\n    return setAllMintAddresses(addresses)\n  }, [tokenProvider])\n\n  useEffect(() => {\n    getRecommendedMintAddresses()\n  }, [getRecommendedMintAddresses])\n\n  return allMintAddresses\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useAccount } from '@senhub/providers'\n\nexport const useSortMints = (mints: string[]) => {\n  const [sortedMints, setSortedMints] = useState<string[]>([])\n  const { accounts } = useAccount()\n\n  const mapMintAmounts = useMemo(() => {\n    const mapMints: Record<string, number> = {}\n    for (const account of Object.values(accounts)) {\n      mapMints[account.mint] = Number(account.amount.toString())\n    }\n    return mapMints\n  }, [accounts])\n\n  const sortMints = useCallback(\n    async (mintAddresses: string[]) => {\n      const sortedMints = mintAddresses.sort((a, b) => {\n        let amountA = mapMintAmounts[a] || -1\n        let amountB = mapMintAmounts[b] || -1\n        return Number(amountB) - Number(amountA)\n      })\n      return setSortedMints(sortedMints)\n    },\n    [mapMintAmounts],\n  )\n  useEffect(() => {\n    sortMints(mints)\n  }, [mints, sortMints])\n\n  return { sortedMints, sortMints }\n}\n","import { useCallback, useEffect, useState } from 'react'\n\nimport { useAllMintAddresses } from './useAllMintAddresses'\nimport { useSortMints } from 'shared/hooks/useSortMints'\nimport { net } from 'shared/runtime'\nimport localStorage from 'shared/storage'\n\nconst LIMIT_ITEM = 8\nconst LOCAL_STORAGE_ID = `${net}:selected_mints`\n\nexport const useRecommendedMints = () => {\n  const [recommendedMints, setRecommendedMints] = useState<string[]>([])\n  const allMintAddresses = useAllMintAddresses()\n  const { sortedMints } = useSortMints(allMintAddresses)\n\n  const getRecommendedMints = useCallback(async () => {\n    let mints: string[] = localStorage.get(LOCAL_STORAGE_ID) || []\n\n    for (const mint of sortedMints) {\n      if (mints.length >= LIMIT_ITEM) break\n      if (mints.includes(mint)) continue\n      mints.push(mint)\n    }\n    return setRecommendedMints(mints.slice(0, LIMIT_ITEM))\n  }, [sortedMints])\n\n  const addRecommendMint = useCallback(\n    async (mintAddress: string) => {\n      const mints = recommendedMints.filter((mint) => mint !== mintAddress)\n      const newMints = [mintAddress, ...mints].slice(0, LIMIT_ITEM)\n      localStorage.set(LOCAL_STORAGE_ID, newMints)\n\n      return setRecommendedMints(newMints)\n    },\n    [recommendedMints],\n  )\n\n  useEffect(() => {\n    getRecommendedMints()\n  }, [getRecommendedMints])\n\n  return {\n    recommendedMints,\n    addRecommendMint,\n  }\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\n\nimport { useAllMintAddresses } from './useAllMintAddresses'\n\nlet searching: NodeJS.Timeout\n\nexport const useSearchedMints = (keyword: string = '', limit: number) => {\n  const [loading, setLoading] = useState(false)\n  const [searchedMints, setSearchedMints] = useState<string[]>([])\n  const { tokenProvider } = useMint()\n  const mints = useAllMintAddresses()\n\n  const search = useCallback(async () => {\n    if (!keyword) {\n      setLoading(false)\n      return setSearchedMints(mints)\n    }\n    if (searching) clearTimeout(searching)\n    setLoading(true)\n    searching = setTimeout(async () => {\n      const addresses = (await tokenProvider.find(keyword, limit)).map(\n        ({ address }) => address,\n      )\n      setLoading(false)\n      return setSearchedMints(addresses)\n    }, 500)\n  }, [keyword, limit, mints, tokenProvider])\n\n  useEffect(() => {\n    search()\n  }, [search])\n\n  return { searchedMints, loading }\n}\n","import {\n  CSSProperties,\n  Fragment,\n  useCallback,\n  useEffect,\n  useState,\n} from 'react'\nimport LazyLoad from '@sentre/react-lazyload'\n\nimport { Button, Empty, Col, Input, Modal, Row, Space } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport MintTag from './mintTag'\nimport MintCard from './mintCard'\nimport LoadMore from './loadMore'\n\nimport { useRecommendedMints } from './hooks/useRecommendedMints'\nimport { useSearchedMints } from './hooks/useSearchedMints'\nimport { useSortMints } from 'shared/hooks/useSortMints'\n\nconst LIMIT = 20\nconst AMOUNT_BEFORE_LOAD_MORE = 5\n\nexport type MintSelectionProps = {\n  value?: string\n  onChange?: (value: string) => void\n  style?: CSSProperties\n  disabled?: boolean\n}\n\nconst MintSelection = ({\n  value = '',\n  onChange = () => {},\n  style = {},\n  disabled = false,\n}: MintSelectionProps) => {\n  const [visible, setVisible] = useState(false)\n  const [keyword, setKeyword] = useState('')\n  const [offset, setOffset] = useState(LIMIT)\n  const { recommendedMints, addRecommendMint } = useRecommendedMints()\n  const { searchedMints, loading } = useSearchedMints(keyword, 0)\n  const { sortedMints } = useSortMints(searchedMints)\n\n  const onSelect = useCallback(\n    (mintAddress: string) => {\n      setVisible(false)\n      onChange(mintAddress)\n      addRecommendMint(mintAddress)\n    },\n    [onChange, addRecommendMint],\n  )\n\n  useEffect(() => {\n    setOffset(LIMIT)\n    const list = document.getElementById('sentre-token-selection-list')\n    if (list) list.scrollTop = 0\n  }, [keyword, visible])\n\n  useEffect(() => {\n    if (!visible) setKeyword('')\n  }, [visible])\n\n  return (\n    <Fragment>\n      <Button\n        type=\"text\"\n        onClick={() => setVisible(true)}\n        style={{ padding: 4, ...style }}\n        disabled={disabled}\n      >\n        <Space>\n          <MintAvatar mintAddress={value} />\n          <MintSymbol mintAddress={value} />\n          <IonIcon name=\"chevron-down-outline\" />\n        </Space>\n      </Button>\n      <Modal\n        visible={visible}\n        onCancel={() => setVisible(false)}\n        footer={null}\n        closable={false}\n        centered\n        className=\"mint-select-modal\"\n      >\n        <Row gutter={[32, 32]}>\n          <Col span={24}>\n            <Input\n              placeholder=\"Search token symbol, name, address, ...\"\n              suffix={\n                <Button\n                  type=\"text\"\n                  style={{ marginRight: -7 }}\n                  icon={\n                    <IonIcon\n                      name={keyword ? 'close-outline' : 'search-outline'}\n                    />\n                  }\n                  onClick={keyword ? () => setKeyword('') : () => {}}\n                  loading={loading}\n                />\n              }\n              value={keyword}\n              onChange={(e) => setKeyword(e.target.value || '')}\n            />\n          </Col>\n          {!keyword.length && (\n            <Col span={24}>\n              <Row gutter={[8, 8]}>\n                {recommendedMints.map((mintAddress) => (\n                  <Col xs={12} sm={8} md={6} key={mintAddress}>\n                    <MintTag\n                      mintAddress={mintAddress}\n                      onClick={onSelect}\n                      active={mintAddress === value}\n                    />\n                  </Col>\n                ))}\n              </Row>\n            </Col>\n          )}\n          <Col span={24}>\n            <Row\n              gutter={[8, 8]}\n              style={{ maxHeight: 360 }}\n              className=\"scrollbar\"\n              id=\"sentre-token-selection-list\"\n              justify=\"center\"\n            >\n              {sortedMints.length ? (\n                sortedMints.slice(0, offset).map((mintAddress, index) => (\n                  <Col span={24} key={mintAddress}>\n                    <LazyLoad height={60} overflow throttle={500}>\n                      <MintCard mintAddress={mintAddress} onClick={onSelect} />\n                    </LazyLoad>\n                    {index === offset - AMOUNT_BEFORE_LOAD_MORE && (\n                      <LoadMore callback={() => setOffset(offset + LIMIT)} />\n                    )}\n                  </Col>\n                ))\n              ) : (\n                <Col>\n                  <Empty style={{ padding: 40 }} />\n                </Col>\n              )}\n            </Row>\n          </Col>\n        </Row>\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default MintSelection\n","import BN from 'bn.js'\n\nimport { Avatar, AvatarProps } from 'antd'\n\nimport gradients from './gradients.json'\n\nconst string2Number = (seed: string, limit: number) => {\n  const buf = Buffer.from(seed)\n  const index = new BN(buf).mod(new BN(limit))\n  return Number(index)\n}\n\nexport type GradientAvatarProps = { seed?: string; avatarProps?: AvatarProps }\n\nconst GradientAvatar = ({\n  seed = Math.random().toString(),\n  avatarProps = {},\n}: GradientAvatarProps) => {\n  const direction = string2Number(seed, 360)\n  const { name, colors } = gradients[string2Number(seed, gradients.length)]\n  return (\n    <Avatar\n      style={{\n        background: `linear-gradient(${direction}deg, ${colors.join(', ')})`,\n      }}\n      alt={name}\n      {...avatarProps}\n    />\n  )\n}\n\nexport default GradientAvatar\n","import { Env } from 'shared/runtime'\n\nif (\n  typeof process.env.REACT_APP_ID !== 'string' ||\n  typeof process.env.REACT_APP_URL !== 'string'\n)\n  throw new Error('Please add REACT_APP_ID, REACT_APP_URL in .env!')\n\n/**\n * Contructor\n */\n\ntype Conf = {\n  appId: string\n  url: string\n}\n\nconst shared = {\n  appId: process.env.REACT_APP_ID,\n  url: process.env.REACT_APP_URL,\n}\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    ...shared,\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    ...shared,\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    ...shared,\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Transaction, PublicKey } from '@solana/web3.js'\nimport { AnchorWallet } from '@interdao/core'\nimport { WalletInterface } from '@senswap/sen-js'\n\nclass SafeWallet implements AnchorWallet {\n  private _wallet: WalletInterface = window.sentre.wallet\n  private _publicKey: PublicKey = new PublicKey(\n    'GuestAccount11111111111111111111111111111111',\n  )\n\n  constructor() {\n    this._init()\n  }\n\n  private _init = async () => {\n    const address = await this._wallet.getAddress()\n    this._publicKey = new PublicKey(address)\n  }\n\n  signTransaction = async (tx: Transaction): Promise<Transaction> => {\n    return this._wallet.signTransaction(tx)\n  }\n\n  signAllTransactions = async (txs: Transaction[]): Promise<Transaction[]> => {\n    let signedTxs: Transaction[] = []\n    for (const tx of txs) {\n      const signedTx = await this.signTransaction(tx)\n      signedTxs.push(signedTx)\n    }\n    return signedTxs\n  }\n\n  get publicKey() {\n    console.warn(\n      'This is an async getter for interface consistency. Please do not fully rely on this function.',\n    )\n    return this._publicKey\n  }\n}\n\nexport default SafeWallet\n","import InterDAO from '@interdao/core'\nimport { Utility } from '@sentre/utility'\n\nimport SafeWallet from 'app/helpers/safeWallet'\nimport { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Conf = {\n  interDao: InterDAO\n  utility: Utility\n  fee: number\n  taxman: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    interDao: new InterDAO(\n      new SafeWallet(),\n      'https://api.devnet.solana.com',\n      'DaoMWqkUbZd1amaqxoxqCBveRbdcVZbVFNqa22EwCfMi',\n    ),\n    utility: new Utility(new SafeWallet(), 'https://api.devnet.solana.com'),\n    fee: 1000000, // 0.000005 SOL\n    taxman: '8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    interDao: new InterDAO(new SafeWallet(), 'https://api.testnet.solana.com'),\n    utility: new Utility(new SafeWallet(), 'https://api.devnet.solana.com'),\n    fee: 1000000, // 0.000005 SOL\n    taxman: '8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    interDao: new InterDAO(new SafeWallet(), 'https://ssc-dao.genesysgo.net/'),\n    utility: new Utility(new SafeWallet(), 'https://ssc-dao.genesysgo.net/'),\n    fee: 1000000, // 0.000005 SOL\n    taxman: '8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { env, net } from 'shared/runtime'\nimport manifest from './manifest.config'\nimport sol from './sol.config'\n\nconst configs = {\n  manifest: manifest[env],\n  sol: sol[net],\n}\n\n/**\n * Module exports\n */\nexport default configs\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { account } from '@senswap/sen-js'\nimport { utils } from '@project-serum/anchor'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\n/**\n * Interface & Utility\n */\n\nexport type DAOMember = {\n  name: string\n  walletAddress: string\n}\nexport type MetaData = {\n  daoName: string\n  description: string\n  image: string | ArrayBuffer | null\n  optionals: string[]\n  daoType: 'flexible-dao' | 'multisig-dao'\n  members: DAOMember[]\n  distributorAddress: string\n}\n\nconst DEFAULT_META_DATA: MetaData = {\n  daoName: '',\n  description: '',\n  image: '',\n  optionals: [],\n  daoType: 'flexible-dao',\n  members: [],\n  distributorAddress: '',\n}\n\ntype MetaDataState = {\n  tokenHolders: Record<string, number>\n  initMetadata: MetaData\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'metadata'\nconst initialState: MetaDataState = {\n  tokenHolders: {},\n  initMetadata: DEFAULT_META_DATA,\n}\n\n/**\n * Actions\n */\n\nexport const getTokenHolders = createAsyncThunk<\n  Partial<MetaDataState>,\n  { daoAddress: string; force?: boolean },\n  { state: any }\n>(`${NAME}/getTokenHolders`, async ({ daoAddress, force }, { getState }) => {\n  if (!account.isAddress(daoAddress)) throw new Error('Invalid address')\n  const {\n    dao: {\n      daos: {\n        [daoAddress]: { mint },\n      },\n    },\n    metadata: {\n      tokenHolders: { [daoAddress]: amountHolder },\n    },\n  } = getState()\n\n  const mintAddress = mint.toBase58()\n  if (!account.isAddress(mintAddress)) return {}\n  if (amountHolder && !force) return { [daoAddress]: amountHolder }\n  const {\n    provider: { connection },\n  } = interDao.program\n  const accounts = await connection.getProgramAccounts(\n    utils.token.TOKEN_PROGRAM_ID,\n    {\n      filters: [\n        { dataSize: 165 },\n        { memcmp: { bytes: mintAddress, offset: 0 } },\n      ],\n    },\n  )\n  return { [daoAddress]: accounts.length }\n})\n\nexport const setInitMetadata = createAsyncThunk(\n  `${NAME}/setInitMetadata`,\n  async (metaData?: Partial<MetaData>) => {\n    if (!metaData) return DEFAULT_META_DATA\n    return metaData\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        getTokenHolders.fulfilled,\n        (state, { payload }) => void Object.assign(state.tokenHolders, payload),\n      )\n      .addCase(\n        setInitMetadata.fulfilled,\n        (state, { payload }) => void Object.assign(state.initMetadata, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { getTokenHolders } from 'app/model/metadata.controller'\n\nconst useMembers = (daoAddress: string) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    metadata: { tokenHolders },\n    dao: { daos },\n  } = useSelector((state: AppState) => state)\n\n  const amountHolder = useMemo(\n    () => tokenHolders[daoAddress],\n    [daoAddress, tokenHolders],\n  )\n  const isExistDao = useMemo(() => {\n    return !!Object.keys(daos).length\n  }, [daos])\n\n  useEffect(() => {\n    if (isExistDao && account.isAddress(daoAddress))\n      dispatch(getTokenHolders({ daoAddress }))\n  }, [dispatch, daoAddress, isExistDao])\n\n  return amountHolder || 0\n}\n\nexport default useMembers\n","import { useMemo } from 'react'\nimport { useWallet } from '@senhub/providers'\n\nimport configs from 'app/configs'\nimport PDB from 'shared/pdb'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst usePDB = () => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const pdb = useMemo(() => {\n    return new PDB(walletAddress).createInstance(appId)\n  }, [walletAddress])\n\n  return pdb\n}\n\nexport default usePDB\n","import { CID } from 'ipfs-core'\n\nconst SOCIALS_MEDIA: Record<string, string> = {\n  t: 'logo-telegram',\n  twitter: 'logo-twitter',\n  facebook: 'logo-facebook',\n  discord: 'logo-discord',\n  global: 'globe',\n  medium: 'logo-medium',\n}\nexport const fileToBase64 = (\n  file: File,\n  callBack: (result: string | ArrayBuffer | null) => void,\n) => {\n  const reader = new FileReader()\n  reader.readAsDataURL(file)\n  reader.onload = async () => {\n    if (reader.result) callBack(reader.result)\n  }\n}\n\nexport const getCID = (digest: number[]) => {\n  const v0Prefix = new Uint8Array([18, 32])\n  const v0Digest = new Uint8Array(v0Prefix.length + digest?.length)\n  v0Digest.set(v0Prefix) // multicodec + length\n  v0Digest.set(digest, v0Prefix.length)\n  const cid = CID.decode(v0Digest)\n  return cid.toString()\n}\n\nexport const validURL = (value: string) => {\n  return /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test(\n    value,\n  )\n}\n\nexport const getIcon = (url: string) => {\n  if (!validURL(url)) return ''\n  let socialName = ''\n  const domain = new URL(url)\n  const host = domain.hostname.replace('www.', '')\n  for (const char of host) {\n    if (char === '.') break\n    socialName += char\n  }\n  const iconName = SOCIALS_MEDIA[socialName.toLowerCase()]\n  if (!iconName) return SOCIALS_MEDIA['global']\n  return iconName\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { DaoData } from '@interdao/core'\n\nimport { MetaData } from 'app/model/metadata.controller'\nimport usePDB from './usePDB'\nimport IPFS from 'shared/pdb/ipfs'\nimport { AppState } from 'app/model'\nimport { getCID } from 'app/helpers'\nimport { LocalMetadata } from 'app/view/watcher/metadata.watcher'\n\nconst ipfs = new IPFS()\n\nconst useMetaData = (daoAddress: string) => {\n  const [metaData, setMetaData] = useState<MetaData>()\n  const daos = useSelector((state: AppState) => state.dao.daos)\n  const pdb = usePDB()\n\n  const getMetaData = useCallback(async () => {\n    if (!account.isAddress(daoAddress)) return setMetaData(undefined)\n    const data = (await pdb.getItem(daoAddress)) as LocalMetadata\n    const { metadata: digest } = daos[daoAddress] || ({} as DaoData)\n    if (!digest) return\n    const cid = getCID(digest)\n    if (data && cid === data.cid) return setMetaData(data)\n\n    const metadata: MetaData = await ipfs.get(cid)\n    if (!metadata) return\n    const localMetadata = { ...metadata, cid }\n    await pdb.setItem(daoAddress, localMetadata)\n\n    return setMetaData(metadata)\n  }, [daoAddress, daos, pdb])\n\n  useEffect(() => {\n    getMetaData()\n  }, [getMetaData])\n\n  return metaData\n}\n\nexport default useMetaData\n","import axios from 'axios'\nimport { Connection, programs } from '@metaplex/js'\nimport { PublicKey } from '@solana/web3.js'\n\nimport { net } from 'shared/runtime'\n\nconst {\n  metadata: { Metadata, MetadataData },\n} = programs\n\nconst TOKEN_METADATA_PROGRAM_ID = new PublicKey(\n  'metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s',\n)\n\nconst connection = new Connection(net)\n\nexport type MetadataType = InstanceType<typeof Metadata>\nexport type MetadataDataType = InstanceType<typeof MetadataData>\n\nexport const fetchListNTFs = async (\n  walletAddress: string,\n): Promise<Record<string, MetadataDataType[]>> => {\n  const ownerPublickey = walletAddress\n  const nftsmetadata = await Metadata.findDataByOwner(\n    connection,\n    ownerPublickey,\n  )\n  let listNFTs: Record<string, MetadataDataType[]> = {}\n  nftsmetadata.forEach((nft: MetadataDataType) => {\n    if (nft.collection) {\n      listNFTs[nft.collection.key] = listNFTs[nft.collection.key]\n        ? [...listNFTs[nft.collection.key], nft]\n        : [nft]\n    }\n  })\n  return listNFTs\n}\n\nexport const fetchYourOwnerNTFs = async (\n  ownerAddress: string,\n): Promise<MetadataDataType[]> => {\n  const nftsmetadata = await Metadata.findDataByOwner(connection, ownerAddress)\n  return nftsmetadata\n}\n\nexport const getNftMetaData = async (\n  tokenMint: string,\n): Promise<MetadataType> => {\n  const tokenMetadata = await Metadata.findByMint(connection, tokenMint)\n  return tokenMetadata\n}\n\nexport const getNftPDA = async (tokenMint: string) => {\n  const metadataPDA = await Metadata.getPDA(new PublicKey(tokenMint))\n  return metadataPDA\n}\n\nexport const getInfoNFT = async (address: string) => {\n  const nftInfo = await Metadata.getInfo(connection, new PublicKey(address))\n  return nftInfo\n}\n\nexport const deserializeData = async (dataBuffer: Buffer) => {\n  return MetadataData.deserialize(dataBuffer)\n}\n\nexport const fetchNftFromURI = async (URL: string) => {\n  const data = await axios.get(URL)\n  return data\n}\n\nexport const getListAccountNFTsBelongToCollection = async (\n  collectionAddress: string,\n) => {\n  const accounts = await connection.getProgramAccounts(\n    TOKEN_METADATA_PROGRAM_ID,\n    {\n      commitment: 'confirmed',\n      filters: [\n        { dataSize: 679 },\n        {\n          memcmp: {\n            offset: 368,\n            bytes: collectionAddress,\n          },\n        },\n      ],\n    },\n  )\n  return accounts\n}\n\nexport const isNftBelongsToCollection = async (\n  mintNftAddress: string,\n  collectionAddress: string,\n) => {\n  try {\n    const tokenMetadata = await Metadata.findByMint(connection, mintNftAddress)\n    if (tokenMetadata.data.collection?.key === collectionAddress) return true\n    return false\n  } catch (err: any) {\n    return false\n  }\n}\n","import { useSelector } from 'react-redux'\nimport { useCallback, useEffect, useState } from 'react'\nimport { DaoData } from '@interdao/core'\nimport { useAccount, useWallet } from '@senhub/providers'\n\nimport { AppState } from 'app/model'\nimport { isNftBelongsToCollection } from 'app/helpers/metaplex'\nimport useMetaData from 'app/hooks/useMetaData'\n\nconst useCheckMemberOnly = (daoAddress: string) => {\n  const daos = useSelector((state: AppState) => state.dao.daos)\n\n  const { mint, isPublic, isNft } = daos[daoAddress] || ({} as DaoData)\n  const { accounts } = useAccount()\n  const metaData = useMetaData(daoAddress)\n  const [isMemberOnly, setIsMemberOnly] = useState(false)\n  const [loadingDaoMetadata, setLoadingDaoMetadata] = useState(true)\n  const {\n    wallet: { address: myAddress },\n  } = useWallet()\n\n  const checkMemberOnlyNFT = useCallback(async () => {\n    let valid = false\n    for (const accountAddr in accounts) {\n      let isMemnberOnly = await isNftBelongsToCollection(\n        accounts[accountAddr].mint,\n        mint.toBase58(),\n      )\n      if (isMemnberOnly) {\n        valid = true\n        break\n      }\n    }\n    return valid\n  }, [accounts, mint])\n\n  const checkMemberOnlyToken = useCallback(async () => {\n    const mints = []\n    for (const accountAddr in accounts) mints.push(accounts[accountAddr].mint)\n    return mints.includes(mint.toBase58())\n  }, [accounts, mint])\n\n  const checkMemberOnlyMultisigDao = useCallback(async () => {\n    if (!metaData) return false\n    const { members } = metaData\n    let valid = false\n    for (const { walletAddress } of members)\n      if (walletAddress === myAddress) {\n        valid = true\n        break\n      }\n    return valid\n  }, [metaData, myAddress])\n\n  const checkDaoMember = useCallback(async () => {\n    if (isPublic) return true\n    if (!metaData) return setLoadingDaoMetadata(true)\n    const { daoType } = metaData\n\n    let isMemberOnly: boolean = false\n    if (daoType === 'flexible-dao') {\n      if (isNft) isMemberOnly = await checkMemberOnlyNFT()\n      else isMemberOnly = await checkMemberOnlyToken()\n    }\n    if (daoType === 'multisig-dao') {\n      isMemberOnly = await checkMemberOnlyMultisigDao()\n    }\n    setIsMemberOnly(isMemberOnly)\n    setLoadingDaoMetadata(false)\n  }, [\n    isNft,\n    isPublic,\n    metaData,\n    checkMemberOnlyMultisigDao,\n    checkMemberOnlyNFT,\n    checkMemberOnlyToken,\n  ])\n\n  useEffect(() => {\n    checkDaoMember()\n  }, [checkDaoMember])\n\n  return {\n    isMemberOnly,\n    loadingDaoMetadata,\n  }\n}\n\nexport default useCheckMemberOnly\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { useUI } from '@senhub/providers'\n\nimport {\n  Avatar,\n  Button,\n  Card,\n  Col,\n  Image,\n  Row,\n  Space,\n  Tag,\n  Tooltip,\n  Typography,\n} from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport StatisticCard from 'app/components/statisticCard'\nimport RegimeTag from 'app/components/regimeTag'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport GradientAvatar from 'app/components/gradientAvatar'\n\nimport { AppState } from 'app/model'\nimport { numeric, shortenAddress } from 'shared/util'\nimport useMembers from 'app/hooks/useMembers'\nimport useMetaData from 'app/hooks/useMetaData'\nimport useCheckMemberOnly from 'app/hooks/dao/useCheckMemberOnly'\nimport { getIcon, validURL } from 'app/helpers'\n\nimport autonomous from 'app/static/images/system/bg-autonomous.png'\nimport democratic from 'app/static/images/system/bg-democratic.png'\nimport dictatorial from 'app/static/images/system/bg-dictatorial.png'\n\nexport type DaoCardProps = { daoAddress: string }\nexport type DaoCardBackground = 'autonomous' | 'democratic' | 'dictatorial'\nconst DAO_CARD_BG = {\n  autonomous,\n  democratic,\n  dictatorial,\n}\nconst PAGE_PADDING = 24\nconst HEIGHT_RATIO = 1.777777\nconst MAX_WIDTH_RATE = 24 / 18 // full screen is 24 col, max width is 18 col\n\nconst DaoCard = ({ daoAddress }: DaoCardProps) => {\n  const { regime, nonce, mint, isPublic, isNft } = useSelector(\n    (state: AppState) => state.dao.daos[daoAddress],\n  )\n  const history = useHistory()\n  const {\n    ui: { width },\n  } = useUI()\n\n  const members = useMembers(daoAddress)\n  const metaData = useMetaData(daoAddress)\n  const { isMemberOnly, loadingDaoMetadata } = useCheckMemberOnly(daoAddress)\n  const parseRegime = Object.keys(regime)?.[0]\n\n  const heightRatio = useMemo(() => {\n    if (width < 768) return HEIGHT_RATIO\n    if (width < 1200) return HEIGHT_RATIO * 2\n    return HEIGHT_RATIO * 3\n  }, [width])\n\n  const handleClick = async () => {\n    if (isPublic) return history.push(`dao/${daoAddress}`)\n    if (!isMemberOnly && !loadingDaoMetadata) {\n      return window.notify({\n        type: 'warning',\n        description: 'You are not a member of this DAO',\n      })\n    }\n    history.push(`dao/${daoAddress}`)\n  }\n\n  const isMobile = width < 768\n  const desktopWidth = width > 992 ? width / MAX_WIDTH_RATE : width\n\n  return (\n    <Row gutter={[0, 0]} className=\"dao-card-wrapper\" onClick={handleClick}>\n      <Col\n        span={24}\n        className=\"dao-card-img\"\n        style={{\n          height: !isMobile\n            ? (desktopWidth - PAGE_PADDING * 2) / heightRatio\n            : (width - PAGE_PADDING) / heightRatio,\n        }}\n      >\n        <Image\n          preview={false}\n          src={DAO_CARD_BG[parseRegime as DaoCardBackground]}\n        />\n      </Col>\n      <Col className=\"regime-tag-wrapper\">\n        <RegimeTag regime={regime} special />\n      </Col>\n      <Col span={24}>\n        <Card bordered={false}>\n          <Row gutter={[20, 20]}>\n            <Col span={24} style={{ minHeight: 88 }}>\n              <Row gutter={[16, 16]} wrap={false} align=\"top\">\n                <Col>\n                  {!metaData?.image ? (\n                    <GradientAvatar\n                      seed={daoAddress}\n                      avatarProps={{ shape: 'square', size: 68 }}\n                    />\n                  ) : (\n                    <Avatar shape=\"square\" size={68} src={metaData?.image} />\n                  )}\n                </Col>\n                <Col flex=\"auto\">\n                  <Space direction=\"vertical\" size={0}>\n                    <Tooltip\n                      title={metaData?.daoName ? metaData.daoName : daoAddress}\n                    >\n                      <Typography.Title\n                        style={{ marginTop: -6 }}\n                        level={4}\n                        ellipsis={{ rows: 2 }}\n                      >\n                        {metaData?.daoName\n                          ? metaData.daoName\n                          : shortenAddress(daoAddress)}\n                      </Typography.Title>\n                    </Tooltip>\n                    <Tag className=\"dao-tag\" style={{ margin: 0 }}>\n                      {isPublic ? 'Public' : 'Member only'}\n                    </Tag>\n                    <Space size={2} style={{ marginLeft: -3 }}>\n                      {metaData?.optionals?.map(\n                        (url, idx) =>\n                          validURL(url) && (\n                            <Button\n                              size=\"small\"\n                              type=\"text\"\n                              onClick={() => window.open(url, '_blank')}\n                              icon={<IonIcon name={getIcon(url)} />}\n                              key={idx}\n                            />\n                          ),\n                      )}\n                    </Space>\n                  </Space>\n                </Col>\n              </Row>\n            </Col>\n            <Col span={24}>\n              <Row gutter={[16, 16]}>\n                <Col span={8}>\n                  <StatisticCard\n                    title=\"Vote by\"\n                    value={\n                      isNft ? (\n                        'NFT'\n                      ) : (\n                        <Space>\n                          <MintAvatar mintAddress={mint.toBase58()} />\n                          <MintSymbol mintAddress={mint.toBase58()} />\n                        </Space>\n                      )\n                    }\n                  />\n                </Col>\n                <Col span={8}>\n                  <StatisticCard\n                    title=\"Proposals\"\n                    value={numeric(Number(nonce)).format('0,0')}\n                  />\n                </Col>\n                <Col span={8}>\n                  <StatisticCard\n                    title=\"Members\"\n                    value={numeric(members).format('0,0')}\n                  />\n                </Col>\n              </Row>\n            </Col>\n            <Col span={24} style={{ minHeight: 44 }}>\n              <Typography.Paragraph\n                style={{ margin: 0 }}\n                type=\"secondary\"\n                ellipsis={{ rows: 2 }}\n              >\n                {metaData?.description}\n              </Typography.Paragraph>\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DaoCard\n","import { Button, Input, Spin } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { LoadingOutlined } from '@ant-design/icons'\n\ntype SearchDaoProps = {\n  onSearch: (keyword: string) => void\n  loading?: boolean\n}\n\nconst SearchDao = ({ onSearch, loading = false }: SearchDaoProps) => {\n  return (\n    <Input\n      prefix={\n        <Button\n          type=\"text\"\n          size=\"small\"\n          icon={\n            loading ? (\n              <Spin indicator={<LoadingOutlined style={{ fontSize: 14 }} />} />\n            ) : (\n              <IonIcon name=\"search-outline\" />\n            )\n          }\n        />\n      }\n      placeholder=\"Search by name, address\"\n      style={{ width: '100%' }}\n      onChange={(e) => onSearch(e.target.value)}\n    />\n  )\n}\nexport default SearchDao\n","import isEqual from 'react-fast-compare'\nimport { DaoRegime } from '@interdao/core'\n\nimport { Card, Image, Typography } from 'antd'\n\nimport autonomous from 'app/static/images/system/bg-autonomous.png'\nimport democratic from 'app/static/images/system/bg-democratic.png'\nimport dictatorial from 'app/static/images/system/bg-dictatorial.png'\nimport { DaoCardBackground } from '../../daoList/daoCard'\n\nconst DAO_CARD_BG = {\n  autonomous,\n  democratic,\n  dictatorial,\n}\n\nconst CardRegime = ({\n  value,\n  regime,\n  onChange = () => {},\n}: {\n  value?: DaoRegime\n  regime: DaoRegime\n  onChange?: (regime: DaoRegime) => void\n}) => {\n  return (\n    <Card\n      bordered={false}\n      style={{ overflow: 'hidden', cursor: 'pointer' }}\n      bodyStyle={{ padding: 0 }}\n      onClick={() => onChange(regime)}\n      className={`card-regime ${isEqual(value, regime) ? 'active' : ''}`}\n    >\n      <Image\n        src={DAO_CARD_BG[Object.keys(regime)[0] as DaoCardBackground]}\n        preview={false}\n      />\n      <Typography.Text\n        style={{\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          textAlign: 'center',\n          width: '100%',\n          padding: 4,\n          backdropFilter: 'blur(4px)',\n          color: '#fff',\n          textTransform: 'capitalize',\n          fontWeight: 400,\n        }}\n      >\n        {Object.keys(regime)[0]}\n      </Typography.Text>\n    </Card>\n  )\n}\n\nexport default CardRegime\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { account } from '@senswap/sen-js'\nimport {\n  DaoData,\n  DAO_DISCRIMINATOR,\n  DaoRegime,\n  DaoRegimes,\n} from '@interdao/core'\nimport { AccountInfo, PublicKey } from '@solana/web3.js'\nimport { web3 } from '@project-serum/anchor'\nimport BN from 'bn.js'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\n/**\n * Interface & Utility\n */\n\nexport const DEFAULT_DAO_DATA = {\n  mintAddress: '',\n  supply: new BN(0),\n  metadata: undefined,\n  dao: undefined,\n  regime: DaoRegimes.Dictatorial,\n  isPublic: true,\n  isNft: false,\n}\n\nexport type InitDao = {\n  mintAddress: string\n  supply: BN\n  metadata?: Buffer\n  dao?: web3.Keypair\n  regime: DaoRegime\n  isPublic: boolean\n  isNft: boolean\n}\n\nexport type DaoState = {\n  daos: Record<string, DaoData>\n  initDao: InitDao\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'dao'\nconst initialState: DaoState = {\n  daos: {},\n  initDao: DEFAULT_DAO_DATA,\n}\n\n/**\n * Actions\n */\n\nexport const getDaos = createAsyncThunk(`${NAME}/getDaos`, async () => {\n  const {\n    provider: { connection },\n    programId,\n    account: { dao },\n  } = interDao.program\n  const value: Array<{ pubkey: PublicKey; account: AccountInfo<Buffer> }> =\n    await connection.getProgramAccounts(programId, {\n      filters: [\n        { dataSize: dao.size },\n        {\n          memcmp: {\n            offset: 0,\n            bytes: DAO_DISCRIMINATOR,\n          },\n        },\n      ],\n    })\n  let bulk: Record<string, DaoData> = {}\n  value.forEach(({ pubkey, account: { data: buf } }) => {\n    const address = pubkey.toBase58()\n    const data = interDao.parseDaoData(buf)\n    bulk[address] = { ...data }\n  })\n  return { daos: bulk }\n})\n\nexport const getDao = createAsyncThunk<\n  Partial<DaoState>,\n  { address: string; force?: boolean },\n  { state: any }\n>(`${NAME}/getDao`, async ({ address, force }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  const {\n    dao: {\n      daos: { [address]: data },\n    },\n  } = getState()\n  if (data && !force) return { [address]: data }\n  const raw = await interDao.getDaoData(address)\n  return {\n    [address]: {\n      ...raw,\n    },\n  }\n})\n\nexport const upsetDao = createAsyncThunk<\n  Partial<DaoState>,\n  { address: string; data: DaoData },\n  { state: any }\n>(`${NAME}/upsetDao`, async ({ address, data }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  if (!data) throw new Error('Data is empty')\n  return {\n    [address]: { ...data },\n  }\n})\n\nexport const setInitDao = createAsyncThunk(\n  `${NAME}/setInitDao`,\n  async (initDao?: InitDao) => {\n    if (!initDao) return { initDao: DEFAULT_DAO_DATA }\n    return { initDao }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        getDaos.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        getDao.fulfilled,\n        (state, { payload }) => void Object.assign(state.daos, payload),\n      )\n      .addCase(\n        upsetDao.fulfilled,\n        (state, { payload }) => void Object.assign(state.daos, payload),\n      )\n      .addCase(\n        setInitDao.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { DaoRegimes } from '@interdao/core'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Button, Row, Col, Space, Typography, Popover } from 'antd'\nimport CardRegime from '../../components/cardRegime'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { setInitDao } from 'app/model/dao.controller'\n\nexport const REGIME_LIST = [\n  DaoRegimes.Dictatorial,\n  DaoRegimes.Democratic,\n  DaoRegimes.Autonomous,\n]\n\nconst RegimeInput = () => {\n  const initDao = useSelector((state: AppState) => state.dao.initDao)\n  const dispatch = useDispatch<AppDispatch>()\n\n  const { regime: value } = initDao\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Space>\n          <Typography.Text>DAO Regime</Typography.Text>\n          <Popover\n            overlayStyle={{ maxWidth: 300 }}\n            trigger=\"click\"\n            content={\n              <Row gutter={[16, 16]}>\n                <Col span={24}>\n                  <Typography.Title level={5}>\n                    What is DAO Regime?\n                  </Typography.Title>\n                </Col>\n                <Col span={24}>\n                  <Space direction=\"vertical\">\n                    <Typography.Text>\n                      <strong>Dictatorial.</strong> Only DAO owner can create\n                      and execute proposals.\n                    </Typography.Text>\n                    <Typography.Text>\n                      <strong>Democratic.</strong> Community can create\n                      proposals, DAO owner execute proposals.\n                    </Typography.Text>\n                    <Typography.Text>\n                      <strong>Autonomous.</strong> Community can create and\n                      execute proposals.\n                    </Typography.Text>\n                  </Space>\n                </Col>\n              </Row>\n            }\n          >\n            <Button\n              type=\"text\"\n              size=\"small\"\n              icon={<IonIcon name=\"information-circle-outline\" />}\n            />\n          </Popover>\n        </Space>\n      </Col>\n      {REGIME_LIST.map((regime, idx) => (\n        <Col xs={24} md={8} key={idx}>\n          <CardRegime\n            value={value}\n            regime={regime}\n            onChange={(regime) => dispatch(setInitDao({ ...initDao, regime }))}\n          />\n        </Col>\n      ))}\n    </Row>\n  )\n}\n\nexport default RegimeInput\n","import { Select } from 'antd'\nimport { REGIME_LIST } from '../daoInitialization/flexibleDAO/daoRule/regimeInput'\n\ntype SortDaoProps = { value: string; onSort: (value: string) => void }\n\nconst SortDao = ({ onSort, value }: SortDaoProps) => {\n  return (\n    <Select\n      value={value}\n      style={{ textTransform: 'capitalize', width: '100%' }}\n      onChange={onSort}\n    >\n      <Select.Option value=\"all-regime\">All mechanisms</Select.Option>\n      {REGIME_LIST.map((regime, idx) => {\n        const value = Object.keys(regime)[0]\n        return (\n          <Select.Option\n            key={idx}\n            value={value}\n            style={{ textTransform: 'capitalize' }}\n          >\n            {value}\n          </Select.Option>\n        )\n      })}\n    </Select>\n  )\n}\n\nexport default SortDao\n","import { Select } from 'antd'\n\ntype TypeOfDAOProps = {\n  value: string\n  setType: (type: string) => void\n}\n\nconst TypeOfDAO = ({ value, setType }: TypeOfDAOProps) => {\n  return (\n    <Select\n      value={value}\n      style={{ textTransform: 'capitalize', width: '100%' }}\n      onChange={setType}\n    >\n      <Select.Option value=\"all-type\">All type of DAO</Select.Option>\n      <Select.Option value=\"flexible-dao\">Flexible DAO</Select.Option>\n      <Select.Option value=\"multisig-dao\">Multisig DAO</Select.Option>\n    </Select>\n  )\n}\n\nexport default TypeOfDAO\n","import { MetaData } from 'app/model/metadata.controller'\nimport lunr, { Index } from 'lunr'\n\nexport type SearchData = { daoAddress: string } & MetaData\nexport type RegisterDaoData = Record<string, SearchData>\nclass DaoProvider {\n  private daoMap: Map<string, SearchData>\n  private engine: Index | undefined\n  register: RegisterDaoData\n\n  constructor(register: RegisterDaoData) {\n    this.register = register\n    this.daoMap = new Map<string, SearchData>()\n    this.engine = lunr(function () {\n      this.ref('daoAddress')\n      this.field('daoAddress')\n      this.field('daoName')\n      this.field('description')\n      Object.keys(register).forEach((address: string) => {\n        const doc = register[address]\n        if (doc) this.add(doc)\n      })\n    })\n    // build dao map\n    this._setDaoMap()\n  }\n\n  private _setDaoMap = async (): Promise<[Map<string, SearchData>]> => {\n    Object.keys(this.register).forEach((daoAddress) =>\n      this.daoMap.set(daoAddress, this.register[daoAddress]),\n    )\n    return [this.daoMap]\n  }\n\n  all = async (): Promise<SearchData[]> => {\n    const [daoMap] = await this._setDaoMap()\n    return Array.from(daoMap.values())\n  }\n\n  findByAddress = async (addr: string): Promise<string[] | undefined> => {\n    const [daoMap] = await this._setDaoMap()\n    if (daoMap.has(addr)) return [addr]\n    return\n  }\n\n  find = async (keyword: string, limit = 10): Promise<string[] | undefined> => {\n    const [daoMap] = await this._setDaoMap()\n    const engine = this.engine\n    if (!engine) return\n    let daos: SearchData[] = []\n    if (!keyword) return\n\n    const fuzzy = keyword + '~1'\n    engine.search(fuzzy).forEach(({ ref }) => {\n      if (daos.findIndex(({ daoAddress }) => daoAddress === ref) < 0) {\n        const dao = daoMap.get(ref)\n        if (dao) daos.push(dao)\n      }\n    })\n    const nextDaos: string[] = []\n    daos.slice(0, limit).forEach(({ daoAddress }) => {\n      if (daoAddress) nextDaos.push(daoAddress)\n    })\n    return nextDaos\n  }\n}\n\nexport default DaoProvider\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\n\nimport DaoProvider, {\n  RegisterDaoData,\n} from 'app/view/dao/daoList/search/daoProvider'\nimport { MetaData } from 'app/model/metadata.controller'\nimport usePDB from './usePDB'\n\nconst useSearchDao = (keyword: string, daoAddresses: string[]) => {\n  const [metaData, setMetaData] = useState<RegisterDaoData>()\n  const [searchData, setSearchData] = useState<string[]>()\n  const [loading, setLoading] = useState(false)\n  const pdb = usePDB()\n\n  const getMetaData = useCallback(async () => {\n    const nextData: RegisterDaoData = {}\n    for (const daoAddress of daoAddresses) {\n      const data = (await pdb.getItem(daoAddress)) as MetaData\n      if (!data) continue\n      nextData[daoAddress] = { ...data, daoAddress }\n    }\n    return setMetaData(nextData)\n  }, [daoAddresses, pdb])\n\n  const onSearch = useCallback(async () => {\n    if (!keyword || keyword.length < 3 || keyword === 'all-regime' || !metaData)\n      return setSearchData(undefined)\n    try {\n      const daoProvider = new DaoProvider(metaData)\n      if (account.isAddress(keyword)) {\n        const data = await daoProvider.findByAddress(keyword)\n        return setSearchData(data)\n      }\n      const data = await daoProvider.find(keyword)\n      return setSearchData(data)\n    } catch (err) {\n      setSearchData(undefined)\n    }\n  }, [keyword, metaData])\n\n  useEffect(() => {\n    getMetaData()\n  }, [getMetaData])\n\n  useEffect(() => {\n    if (keyword && keyword.length >= 3) setLoading(true)\n    const delayToSearch = setTimeout(async () => {\n      //  delay to waiting keyboard typing\n      await onSearch()\n      setLoading(false)\n    }, 500)\n    return () => clearTimeout(delayToSearch)\n  }, [keyword, onSearch])\n\n  return { searchData, loading }\n}\n\nexport default useSearchDao\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { AppState } from 'app/model'\nimport { MetaData } from 'app/model/metadata.controller'\nimport usePDB from './usePDB'\n\nconst useDaoType = (type: string) => {\n  const daos = useSelector((state: AppState) => state.dao.daos)\n  const [daoAddresses, setDaoAddresses] = useState<string[]>([])\n  const pdb = usePDB()\n\n  const filterAddress = useCallback(async () => {\n    const listAddress = Object.keys(daos)\n    if (type === 'all-type') return setDaoAddresses(listAddress)\n    const addresses = []\n    for (const address in daos) {\n      const metaData = (await pdb.getItem(address)) as MetaData\n      if (!metaData) continue\n      if (metaData.daoType === type) addresses.push(address)\n    }\n    return setDaoAddresses(addresses)\n  }, [daos, pdb, type])\n\n  useEffect(() => {\n    filterAddress()\n  }, [filterAddress])\n\n  return daoAddresses\n}\n\nexport default useDaoType\n","import { useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport LazyLoad from '@sentre/react-lazyload'\n\nimport { Col, Empty, Row } from 'antd'\nimport DaoCard from './daoCard'\nimport SearchDao from './search'\nimport SortDao from './sortDao'\nimport TypeOfDAO from './typeOfDao'\n\nimport { AppState } from 'app/model'\nimport useSearchDao from 'app/hooks/useSearchDao'\nimport useDaoType from 'app/hooks/useDaoType'\n\nimport './index.less'\n\nconst DaoList = () => {\n  const [mechanisms, setMechanisms] = useState('all-regime')\n  const [type, setType] = useState('all-type')\n  const [searchKey, setSearchKey] = useState('')\n  const {\n    dao: { daos },\n  } = useSelector((state: AppState) => state)\n  const listDaoByType = useDaoType(type)\n\n  const filterDaoAddress = useMemo(() => {\n    if (!listDaoByType.length) return []\n    if (mechanisms === 'all-regime') return listDaoByType\n\n    const filteredAddress = []\n    for (const daoAddress of listDaoByType) {\n      const { regime } = daos[daoAddress]\n      const parseRegime = Object.keys(regime)[0]\n      if (mechanisms === parseRegime) filteredAddress.push(daoAddress)\n    }\n    return filteredAddress\n  }, [listDaoByType, daos, mechanisms])\n\n  const { searchData, loading } = useSearchDao(searchKey, filterDaoAddress)\n\n  return (\n    <Row gutter={[24, 16]}>\n      <Col xs={24} md={16}>\n        <Row gutter={[12, 12]}>\n          <Col xs={12} md={6}>\n            <TypeOfDAO value={type} setType={setType} />\n          </Col>\n          <Col xs={12} md={6}>\n            <SortDao onSort={setMechanisms} value={mechanisms} />\n          </Col>\n          <Col xs={24} md={12}>\n            <SearchDao onSearch={setSearchKey} loading={loading} />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24} />\n      {searchKey.length >= 3 && (!searchData || !searchData.length) ? (\n        <Col span={24} style={{ textAlign: 'center' }}>\n          <Empty />\n        </Col>\n      ) : (\n        (searchData || filterDaoAddress).map((daoAddress) => (\n          <Col key={daoAddress} xs={24} md={12} xl={8}>\n            <LazyLoad height={479.75} offset={2}>\n              <DaoCard daoAddress={daoAddress} />\n            </LazyLoad>\n          </Col>\n        ))\n      )}\n    </Row>\n  )\n}\n\nexport default DaoList\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport LazyLoad from '@sentre/react-lazyload'\nimport { useWallet } from '@senhub/providers'\nimport { account } from '@senswap/sen-js'\nimport { DaoData } from '@interdao/core'\n\nimport { Button, Card, Col, Row, Space, Typography } from 'antd'\nimport DaoCard from './daoCard'\n\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst YourDaos = () => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const {\n    dao: { daos },\n  } = useSelector((state: AppState) => state)\n  const history = useHistory()\n\n  const filteredDaos = useMemo(\n    () =>\n      Object.keys(daos).filter((daoAddr) => {\n        const { authority } = daos[daoAddr] || ({} as DaoData)\n        const authAddress = authority.toBase58()\n        return account.isAddress(authAddress) && authAddress === walletAddress\n      }),\n    [daos, walletAddress],\n  )\n\n  if (!!filteredDaos.length)\n    return (\n      <Row gutter={[24, 24]}>\n        {filteredDaos.map((daoAddress) => (\n          <Col xs={24} md={12} xl={8} key={daoAddress}>\n            <LazyLoad height={191.5}>\n              <DaoCard daoAddress={daoAddress} />\n            </LazyLoad>\n          </Col>\n        ))}\n      </Row>\n    )\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Card bordered={false} bodyStyle={{ padding: 45, textAlign: 'center' }}>\n          <Space direction=\"vertical\" align=\"center\">\n            <Typography.Text type=\"secondary\">\n              You have no DAO yet!\n            </Typography.Text>\n            <Button onClick={() => history.push(`/app/${appId}/dao/new-dao`)}>\n              Build your DAO\n            </Button>\n          </Space>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default YourDaos\n","import { useHistory } from 'react-router-dom'\n\nimport { Row, Col, Button, Tabs } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport Hero from './hero'\nimport DaoList from './daoList'\nimport YourDaos from './daoList/yourDao'\n\nimport configs from 'app/configs'\n\nimport './index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst Dao = () => {\n  const history = useHistory()\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Hero />\n      </Col>\n      <Col span={24}>\n        <Row justify=\"center\">\n          <Col xs={24} lg={18}>\n            <Tabs\n              style={{ overflow: 'visible' }}\n              className=\"dao-tabs\"\n              tabBarExtraContent={\n                <Button\n                  type=\"primary\"\n                  onClick={() => history.push(`/app/${appId}/dao/new-dao`)}\n                  icon={<IonIcon name=\"add-outline\" />}\n                >\n                  Create a DAO\n                </Button>\n              }\n            >\n              <Tabs.TabPane tab=\"Community DAOs\" key=\"community-daos\">\n                <DaoList />\n              </Tabs.TabPane>\n              <Tabs.TabPane tab=\"Your DAOs\" key=\"your-daos\">\n                <YourDaos />\n              </Tabs.TabPane>\n            </Tabs>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Dao\n","import { Tag } from 'antd'\n\nexport type ProposalStatusType =\n  | 'Failed'\n  | 'Voting'\n  | 'Preparing'\n  | 'Succeeded'\n  | 'Executed'\n\nexport type ProposalStatusProps = {\n  status: ProposalStatusType\n}\n\nconst STATUS_COLOR: Record<string, string> = {\n  Succeeded: '#0CA1BF',\n  Failed: '#F9575E',\n  Preparing: '#D4B106',\n  Executed: '#03A326',\n  Voting: '#40A9FF',\n}\n\nconst ProposalStatus = ({ status }: ProposalStatusProps) => {\n  return (\n    <Tag\n      style={{ color: STATUS_COLOR[status], border: 'solid', margin: 0 }}\n      color={'transparent'}\n    >\n      {status}\n    </Tag>\n  )\n}\n\nexport default ProposalStatus\n","import { ReactNode } from 'react'\n\nimport { Col, Row, Typography } from 'antd'\n\ntype RowSpaceBetweenProps = {\n  label?: string\n  value?: string | ReactNode\n}\nconst RowSpaceBetween = ({ label = '', value = '' }: RowSpaceBetweenProps) => {\n  return (\n    <Row align=\"middle\" gutter={[24, 24]}>\n      <Col flex=\"auto\">\n        <Typography.Text type=\"secondary\">{label}</Typography.Text>\n      </Col>\n      <Col>{value}</Col>\n    </Row>\n  )\n}\n\nexport default RowSpaceBetween\n","import { ReactNode } from 'react'\n\nimport { Space, SpaceProps, Typography } from 'antd'\n\nconst RowSpaceVertical = ({\n  label = '',\n  value,\n  ...rest\n}: {\n  label?: string\n  value: ReactNode\n} & SpaceProps) => {\n  return (\n    <Space {...rest} direction=\"vertical\">\n      <Typography.Text type=\"secondary\">{label}</Typography.Text>\n      {value}\n    </Space>\n  )\n}\n\nexport default RowSpaceVertical\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\n\n/**\n * Get token decimals from multiple resources. This hook needs MintProvider for working.\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * @param mintAddress Mint address\n * @returns Decimals\n */\nconst useMintDecimals = (mintAddress: string) => {\n  const [decimals, setDecimals] = useState<number | undefined>(undefined)\n  const { getDecimals } = useMint()\n\n  const fetchDecimals = useCallback(async () => {\n    try {\n      const decimals = await getDecimals(mintAddress)\n      return setDecimals(decimals)\n    } catch (er: any) {\n      return setDecimals(undefined)\n    }\n  }, [mintAddress, getDecimals])\n\n  useEffect(() => {\n    fetchDecimals()\n  }, [fetchDecimals])\n\n  return decimals\n}\n\nexport default useMintDecimals\n","import { useState } from 'react'\nimport { utils } from '@senswap/sen-js'\nimport CopyToClipboard from 'react-copy-to-clipboard'\nimport moment from 'moment'\n\nimport { Col, Row, Space, Tooltip, Typography } from 'antd'\nimport RowSpaceBetween from 'app/components/rowSpaceBetween'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport IonIcon from '@sentre/antd-ionicon'\nimport RowSpaceVertical from 'app/components/rowSpaceVertical'\n\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport { asyncWait, explorer, shortenAddress } from 'shared/util'\n\nexport type TransferType = {\n  mint?: string\n  amount: number\n  source: string\n  destination: string\n}\n\nconst InfoTransferInProposal = ({\n  transferInfo,\n}: {\n  transferInfo?: TransferType\n}) => {\n  const [copied, setCopied] = useState('address')\n  const {\n    mint = '',\n    source = '',\n    destination = '',\n    amount = 0,\n  } = transferInfo || {}\n  const decimals = useMintDecimals(mint) || 0\n\n  const onCopy = async (address: string) => {\n    setCopied(address)\n    await asyncWait(1500)\n    setCopied('address')\n  }\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <RowSpaceBetween label=\"Template\" value=\"SPL/Transfer\" />\n      </Col>\n      <Col span={24}>\n        <RowSpaceBetween\n          label=\"Token to be transferred\"\n          value={\n            <Space>\n              <MintAvatar mintAddress={mint} />\n              <MintSymbol mintAddress={mint} />\n            </Space>\n          }\n        />\n      </Col>\n      <Col span={24}>\n        <RowSpaceBetween\n          label=\"Transfer amount\"\n          value={!mint ? '--' : utils.undecimalize(BigInt(amount), decimals)}\n        />\n      </Col>\n      <Col span={24}>\n        <RowSpaceBetween\n          label=\"Sender's Wallet Address\"\n          value={\n            <Space size={10}>\n              <Typography.Text\n                style={{ cursor: 'pointer', textDecoration: 'underline' }}\n                onClick={() => window.open(explorer(source), '_blank')}\n              >\n                {shortenAddress(source)}\n              </Typography.Text>\n              <Tooltip title=\"Copied\" visible={copied === source}>\n                <CopyToClipboard text={source}>\n                  <IonIcon\n                    style={{ cursor: 'pointer' }}\n                    name=\"copy-outline\"\n                    onClick={() => onCopy(source)}\n                  />\n                </CopyToClipboard>\n              </Tooltip>\n            </Space>\n          }\n        />\n      </Col>\n      <Col span={24}>\n        <RowSpaceBetween\n          label=\"Receiver's Wallet Address\"\n          value={\n            <Space size={10}>\n              <Typography.Text\n                style={{ cursor: 'pointer', textDecoration: 'underline' }}\n                onClick={() => window.open(explorer(destination), '_blank')}\n              >\n                {shortenAddress(destination)}\n              </Typography.Text>\n              <Tooltip title=\"Copied\" visible={copied === destination}>\n                <CopyToClipboard text={destination}>\n                  <IonIcon\n                    style={{ cursor: 'pointer' }}\n                    name=\"copy-outline\"\n                    onClick={() => onCopy(destination)}\n                  />\n                </CopyToClipboard>\n              </Tooltip>\n            </Space>\n          }\n        />\n      </Col>\n    </Row>\n  )\n}\nconst InfoTransferInDaoDetail = ({\n  transferInfo,\n  endTime,\n}: {\n  transferInfo?: TransferType\n  endTime?: number\n}) => {\n  const { mint = '', amount = 0 } = transferInfo || {}\n  const decimals = useMintDecimals(mint) || 0\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col xs={12} md={6}>\n        <RowSpaceVertical\n          label=\"Template\"\n          value={\n            <Typography.Text className=\"t-16\">SPL/Transfer</Typography.Text>\n          }\n        />\n      </Col>\n      <Col xs={12} md={6}>\n        <RowSpaceVertical\n          label=\"Token to be transferred\"\n          value={\n            <Typography.Text className=\"t-16\">\n              <Space>\n                <MintAvatar mintAddress={mint} />\n                <MintSymbol mintAddress={mint} />\n              </Space>\n            </Typography.Text>\n          }\n        />\n      </Col>\n      <Col xs={12} md={6}>\n        <RowSpaceVertical\n          className=\"t-16\"\n          label=\"Transfer amount\"\n          value={!mint ? '--' : utils.undecimalize(BigInt(amount), decimals)}\n        />\n      </Col>\n      <Col xs={12} md={6}>\n        <RowSpaceVertical\n          label=\"End time\"\n          value={\n            endTime && (\n              <Typography.Text className=\"t-16\">\n                {moment(endTime).format('hh:mm A, MMM Do, YYYY')}\n              </Typography.Text>\n            )\n          }\n        />\n      </Col>\n    </Row>\n  )\n}\n\nconst TemplateTransfer = ({\n  isProposalDetail,\n  transferInfo,\n  endTime,\n}: {\n  transferInfo?: TransferType\n  isProposalDetail?: boolean\n  endTime?: number\n}) => {\n  if (isProposalDetail)\n    return <InfoTransferInProposal transferInfo={transferInfo} />\n  return (\n    <InfoTransferInDaoDetail endTime={endTime} transferInfo={transferInfo} />\n  )\n}\n\nexport default TemplateTransfer\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { ProposalData } from '@interdao/core'\nimport { account } from '@senswap/sen-js'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\n/**\n * Interface & Utility\n */\n\nexport type ProposalState = Record<string, ProposalData>\n\n/**\n * Store constructor\n */\n\nconst NAME = 'proposal'\nconst initialState: ProposalState = {}\n\n/**\n * Actions\n */\n\nexport const getProposals = createAsyncThunk(\n  `${NAME}/getProposals`,\n  async () => {\n    const { account } = interDao.program\n    let bulk: ProposalState = {}\n\n    const proposals = await account.proposal.all()\n    for (const { publicKey, account: proposalData } of proposals) {\n      const address = publicKey.toBase58()\n      bulk[address] = proposalData as any\n    }\n    return bulk\n  },\n)\n\nexport const getProposal = createAsyncThunk<\n  ProposalState,\n  { address: string; force?: boolean },\n  { state: any }\n>(`${NAME}/getProposal`, async ({ address, force }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  const {\n    dao: { [address]: data },\n  } = getState()\n  if (data && !force) return { [address]: data }\n  const raw = await interDao.getProposalData(address)\n  return { [address]: raw }\n})\n\nexport const upsetProposal = createAsyncThunk<\n  ProposalState,\n  { address: string; data: ProposalData },\n  { state: any }\n>(`${NAME}/upsetProposal`, async ({ address, data }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  if (!data) throw new Error('Data is empty')\n  return { [address]: data }\n})\n\nexport const deleteProposal = createAsyncThunk(\n  `${NAME}/deleteProposal`,\n  async ({ address }: { address: string }) => {\n    if (!account.isAddress(address)) throw new Error('Invalid address')\n    return { address }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        getProposals.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        getProposal.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetProposal.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        deleteProposal.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { ProposalData } from '@interdao/core'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { getProposal } from 'app/model/proposal.controller'\n\nconst useProposal = (proposalAddress: string, daoAddress: string) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const proposals = useSelector((state: AppState) => state.proposal)\n\n  const proposalData = useMemo(\n    () => proposals[proposalAddress] || ({} as ProposalData),\n    [proposals, proposalAddress],\n  )\n\n  useEffect(() => {\n    if (!proposalData && account.isAddress(proposalAddress))\n      dispatch(getProposal({ address: proposalAddress }))\n  }, [daoAddress, proposalData, dispatch, proposalAddress])\n\n  return { ...proposalData }\n}\n\nexport default useProposal\n","import { Fragment, useCallback, useEffect, useState } from 'react'\nimport { AccountMeta } from '@solana/web3.js'\nimport { decodeSplInstruction } from 'sen-idl-parser'\nimport BN from 'bn.js'\n\nimport TemplateTransfer, { TransferType } from '../transferInfo'\n\nimport useProposal from 'app/hooks/proposal/useProposal'\nimport { ProposalChildCardProps } from '../../proposalDetails/index'\n\ntype TemplateInfoProps = {\n  isProposalDetail?: boolean\n  endTime?: number\n} & ProposalChildCardProps\n\nconst TemplateInfo = ({\n  proposalAddress,\n  daoAddress,\n  isProposalDetail = true,\n  endTime,\n}: TemplateInfoProps) => {\n  const [transferInfo, setTransferInfo] = useState<TransferType>()\n  const [templateName, setTemplateName] = useState('')\n\n  const { accounts, data } = useProposal(proposalAddress, daoAddress)\n  const fetchProposalInfo = useCallback(async () => {\n    if (!accounts || !data) return\n    const info = decodeSplInstruction<{ amount: BN }>(\n      accounts as AccountMeta[],\n      data as Buffer,\n    )\n    if (!info) return\n    setTemplateName(info.name)\n    if (info.name === 'transfer') {\n      const { splt } = window.sentre\n      const sourceAssociated =\n        info.accounts.get('source')?.pubkey.toBase58() || ''\n      const sourceAddress =\n        info.accounts.get('authority')?.pubkey.toBase58() || ''\n      const destination =\n        info.accounts.get('destination')?.pubkey.toBase58() || ''\n      const { amount } = info.data\n      let mintAddress = ''\n\n      try {\n        const { mint } = await splt.getAccountData(sourceAssociated)\n        mintAddress = mint\n      } catch (error) {\n        mintAddress = ''\n      }\n      return setTransferInfo({\n        source: sourceAddress,\n        destination,\n        amount: amount.toNumber(),\n        mint: mintAddress,\n      })\n    }\n  }, [accounts, data])\n\n  useEffect(() => {\n    fetchProposalInfo()\n  }, [fetchProposalInfo])\n\n  if (templateName === 'transfer')\n    return (\n      <TemplateTransfer\n        isProposalDetail={isProposalDetail}\n        transferInfo={transferInfo}\n        endTime={endTime}\n      />\n    )\n  return <Fragment />\n}\n\nexport default TemplateInfo\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { ProposalData } from '@interdao/core'\nimport BN from 'bn.js'\n\nimport { ProposalStatusType } from 'app/components/proposalStatus'\n\nimport { AppState } from 'app/model'\n\nconst currentDate = Math.floor(Number(new Date()) / 1000)\n\nconst useProposalStatus = (proposalAddress: string) => {\n  const { proposal } = useSelector((state: AppState) => state)\n  const {\n    startDate,\n    endDate,\n    executed,\n    supply,\n    votingAgainstPower,\n    votingForPower,\n    consensusQuorum,\n    consensusMechanism,\n  } = proposal[proposalAddress] || ({} as ProposalData)\n\n  const actualSupply = useMemo(() => {\n    if (!supply) return new BN(0)\n    const mechanism = consensusMechanism\n      ? Object.keys(consensusMechanism)[0]\n      : ''\n    if (mechanism === 'stakedTokenCounter') return supply\n    return supply.mul(endDate.sub(startDate))\n  }, [consensusMechanism, endDate, startDate, supply])\n\n  const isSuccess = useMemo(() => {\n    const quorum = consensusQuorum ? Object.keys(consensusQuorum)[0] : ''\n    if (!votingAgainstPower || !votingAgainstPower) return false\n    const votingPower = votingForPower.sub(votingAgainstPower)\n\n    if (votingPower.lte(new BN(0))) return false\n    if (quorum === 'half' && votingPower.cmp(actualSupply.div(new BN(2))) === 1)\n      return true\n    if (\n      quorum === 'oneThird' &&\n      votingPower.cmp(actualSupply.div(new BN(3))) === 1\n    )\n      return true\n    if (\n      quorum === 'twoThird' &&\n      votingPower.cmp(actualSupply.mul(new BN(2)).div(new BN(3))) === 1\n    )\n      return true\n    return false\n  }, [actualSupply, consensusQuorum, votingAgainstPower, votingForPower])\n\n  const status: ProposalStatusType = useMemo(() => {\n    if (currentDate < Number(startDate)) return 'Preparing'\n    if (currentDate < Number(endDate)) return 'Voting'\n    if (executed) return 'Executed'\n    if (isSuccess) return 'Succeeded'\n    return 'Failed'\n  }, [endDate, executed, isSuccess, startDate])\n\n  return { status, isSuccess, actualSupply }\n}\n\nexport default useProposalStatus\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { AppState } from 'app/model'\nimport { getCID } from 'app/helpers'\nimport { ProposalMetaData } from 'app/view/proposal/proposalInitialization'\nimport IPFS from 'shared/pdb/ipfs'\n\nconst useProposalMetaData = (proposalAddress: string) => {\n  const [metaData, setMetaData] = useState<ProposalMetaData>()\n  const { proposal } = useSelector((state: AppState) => state)\n  const { metadata: digest } = proposal[proposalAddress] || {}\n\n  const getMetaData = useCallback(async () => {\n    if (!digest) return setMetaData(undefined)\n    const cid = getCID(digest)\n    const ipfs = new IPFS()\n    try {\n      const data = await ipfs.get(cid)\n      return setMetaData(data)\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    }\n  }, [digest])\n\n  useEffect(() => {\n    getMetaData()\n  }, [getMetaData])\n\n  return metaData\n}\n\nexport default useProposalMetaData\n","import { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { SystemProgram } from '@solana/web3.js'\nimport BN from 'bn.js'\n\nimport { Card, Col, Row, Typography } from 'antd'\nimport ProposalStatus from 'app/components/proposalStatus'\nimport TemplateInfo from '../modalTemplateInfo/component/templateInfo'\n\nimport { shortenAddress } from 'shared/util'\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport useProposalMetaData from 'app/hooks/proposal/useProposalMetaData'\nimport { ProposalChildCardProps } from '../proposalDetails'\n\nimport BG_SOLANA from 'app/static/images/templates/bg-spl.png'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport type ProposalCardProps = { proposalAddress: string }\n\nconst BG_PROPOSAL: Record<string, string> = {\n  spl_transfer: BG_SOLANA,\n}\n\nconst currentDate = Math.floor(Number(new Date()) / 1000)\n\nconst ProposalCard = ({\n  proposalAddress,\n  daoAddress,\n}: ProposalChildCardProps) => {\n  const { proposal } = useSelector((state: AppState) => state)\n  const { dao, endDate } = proposal[proposalAddress] || {\n    dao: SystemProgram.programId,\n    endDate: new BN(currentDate),\n  }\n  const { status } = useProposalStatus(proposalAddress)\n  const history = useHistory()\n  const metaData = useProposalMetaData(proposalAddress)\n  const endTime = Number(endDate) * 1000\n\n  return (\n    <Card\n      bordered={false}\n      onClick={() =>\n        history.push(\n          `/app/${appId}/dao/${dao.toBase58()}/proposal/${proposalAddress}`,\n        )\n      }\n      className=\"proposal-card\"\n      style={{\n        background: !metaData\n          ? 'unset'\n          : `url(${BG_PROPOSAL[metaData.templateName]})`,\n      }}\n      bodyStyle={{ padding: '24px 0' }}\n      hoverable\n    >\n      <Row gutter={[8, 8]}>\n        <Col span={24}>\n          <Row>\n            <Col flex=\"auto\">\n              <Typography.Title level={4}>\n                {metaData?.title\n                  ? metaData.title\n                  : shortenAddress(proposalAddress)}\n              </Typography.Title>\n            </Col>\n            <Col>\n              <ProposalStatus status={status} />\n            </Col>\n          </Row>\n        </Col>\n        <Col xs={24} md={20}>\n          <TemplateInfo\n            isProposalDetail={false}\n            proposalAddress={proposalAddress}\n            daoAddress={daoAddress}\n            endTime={endTime}\n          />\n        </Col>\n\n        <Col span={24}>\n          <Typography.Paragraph\n            style={{ margin: 0 }}\n            type=\"secondary\"\n            ellipsis={{ rows: 2 }}\n          >\n            {metaData?.description}\n          </Typography.Paragraph>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default ProposalCard\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\nimport { ProposalReturnType } from 'app/view/templates/types'\n\n/**\n * Interface & Utility\n */\n\nexport type TemplateState = {\n  visible: boolean\n  tx?: ProposalReturnType\n  templateName: string\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'template'\nconst initialState: TemplateState = {\n  visible: false,\n  tx: undefined,\n  templateName: '',\n}\n\n/**\n * Actions\n */\n\nexport const setVisible = createAsyncThunk(\n  `${NAME}/setVisible`,\n  async (visible: boolean) => {\n    return { visible }\n  },\n)\n\nexport const setTx = createAsyncThunk(\n  `${NAME}/setTx`,\n  async (tx?: ProposalReturnType) => {\n    return { tx }\n  },\n)\n\nexport const clearTx = createAsyncThunk(`${NAME}/clearTx`, async () => {\n  return { tx: undefined }\n})\n\nexport const setTemplateName = createAsyncThunk(\n  `${NAME}/setTemplateName`,\n  async (name: string) => {\n    return { templateName: name }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        setVisible.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setTx.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setTemplateName.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        clearTx.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { ChangeEvent, useState, forwardRef, useCallback, useRef } from 'react'\n\nimport { Input, Tooltip, Space, InputProps } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nlet timeoutId: ReturnType<typeof setTimeout> | undefined\n\n/**\n * Numeric Input\n * - Check balance based on the max\n * - Only accept numeric characters\n * @remarks The props of input follows the same as https://ant.design/components/input/#API. Extra & Overrided props\n * @param max - Maximum\n * @param onValue - A triggerred function if a valid number\n */\nconst NumericInput = forwardRef(\n  (\n    {\n      max,\n      onValue = () => {},\n      onChange = () => {},\n      ...props\n    }: InputProps & {\n      onValue?: (val: string) => void\n      max?: string | number\n    },\n    ref: any,\n  ) => {\n    const [error, setError] = useState('')\n    const [cursor, setCursor] = useState<number | null>(null)\n    const innerRef = useRef(ref)\n\n    // Handle amount\n    const onAmount = useCallback(\n      (val: string) => {\n        const onError = (er: string) => {\n          if (timeoutId) {\n            clearTimeout(timeoutId)\n            timeoutId = undefined\n          }\n          setError(er)\n          timeoutId = setTimeout(() => setError(''), 500)\n        }\n        const reg = /^\\d*(\\.\\d*)?$/\n        if (!reg.test(val)) return onError('Invalid character')\n        if (max && parseFloat(val) > parseFloat(max.toString()))\n          return onError('Not enough balance')\n        return onValue(val)\n      },\n      [max, onValue],\n    )\n\n    // Handle cursor jumping\n    // To prevent autofocus on mobile, we must strictly check cursor different from null\n    if (cursor !== null) innerRef?.current?.setSelectionRange(cursor, cursor)\n\n    return (\n      <Tooltip\n        title={\n          <Space>\n            <IonIcon name=\"warning\" />\n            {error}\n          </Space>\n        }\n        visible={!!error}\n      >\n        <Input\n          {...props}\n          onChange={(e: ChangeEvent<HTMLInputElement>) => {\n            onChange(e)\n            setCursor(e.target.selectionStart)\n            onAmount(e.target.value || '')\n          }}\n          ref={innerRef}\n        />\n      </Tooltip>\n    )\n  },\n)\n\nexport default NumericInput\n","import { useCallback, useState, useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { PublicKey } from '@solana/web3.js'\nimport { utils } from '@project-serum/anchor'\nimport BN from 'bn.js'\n// @ts-ignore\nimport * as soproxABI from 'soprox-abi'\nimport { account } from '@senswap/sen-js'\n\nimport { Button, Col, Input, Row, Space, Typography } from 'antd'\nimport { MintSelection } from 'shared/antd/mint'\n\nimport { ProposalReturnType } from 'app/view/templates/types'\nimport { AppDispatch, AppState } from 'app/model'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport {\n  setTemplateName,\n  setTx,\n  setVisible,\n} from 'app/model/template.controller'\nimport configs from 'app/configs'\nimport NumericInput from 'shared/antd/numericInput'\nimport useMetaData from 'app/hooks/useMetaData'\nimport { Templates } from '../..'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport const NAME = 'spl/transfer'\n\nexport const toData = (amount = new BN(0)) => {\n  const schema = [\n    { key: 'code', type: 'u8' },\n    { key: 'amount', type: 'u64' },\n  ]\n  const buf = new soproxABI.struct(schema, {\n    code: 3,\n    amount: BigInt(amount.toString()),\n  }).toBuffer()\n  return buf\n}\n\nexport const buildTransferSplvalue = (\n  amount: string | number | BN,\n  src: string,\n  dst: string,\n  payer: string,\n) => {\n  const value: ProposalReturnType = {\n    name: NAME,\n    data: toData(new BN(amount)),\n    accounts: {\n      src: {\n        pubkey: new PublicKey(src),\n        isWritable: true,\n        isSigner: false,\n        isMaster: false,\n      },\n      dst: {\n        pubkey: new PublicKey(dst),\n        isWritable: true,\n        isSigner: false,\n        isMaster: false,\n      },\n      payer: {\n        pubkey: new PublicKey(payer),\n        isWritable: true,\n        isSigner: true,\n        isMaster: true,\n      },\n    },\n    programId: utils.token.TOKEN_PROGRAM_ID,\n  }\n  return value\n}\n\ntype TransferSplPluginProps = {\n  daoAddress: string\n}\n\nconst TransferSplPlugin = ({ daoAddress = '' }: TransferSplPluginProps) => {\n  const [value, setValue] = useState('')\n  const [mintAddress, setMintAddress] = useState('')\n  const [receiverAddress, setReceiverAddress] = useState('')\n  const [srcAddress, setSrcAddress] = useState('')\n  const [dstAddress, setDstAddress] = useState('')\n\n  const [amount, setAmount] = useState('')\n  const listDAO = useSelector((state: AppState) => state.dao.daos)\n  const decimals = useMintDecimals(mintAddress)\n  const dispatch = useDispatch<AppDispatch>()\n  const history = useHistory()\n  const daoMetaData = useMetaData(daoAddress)\n\n  const senderAddress = useMemo(() => {\n    const { master } = listDAO[daoAddress] || {}\n    return master?.toBase58() || ''\n  }, [listDAO, daoAddress])\n\n  const valid = useMemo(() => {\n    return Boolean(\n      amount && account.isAddress(srcAddress) && account.isAddress(dstAddress),\n    )\n  }, [amount, srcAddress, dstAddress])\n\n  const confirm = useCallback(async () => {\n    if (!valid) return dispatch(setTx(undefined))\n    const re = buildTransferSplvalue(\n      amount,\n      srcAddress,\n      dstAddress,\n      senderAddress,\n    )\n\n    await dispatch(setTx(re))\n    await dispatch(setTemplateName(Templates.SPL_TRANSFER))\n    await dispatch(setVisible(false))\n    return history.push(`/app/${appId}/dao/${daoAddress}/new-proposal`)\n  }, [\n    valid,\n    dispatch,\n    amount,\n    srcAddress,\n    dstAddress,\n    senderAddress,\n    history,\n    daoAddress,\n  ])\n\n  const close = useCallback(async () => {\n    setValue('')\n    setMintAddress('')\n    setReceiverAddress('')\n    await dispatch(setTx(undefined))\n    return dispatch(setVisible(false))\n  }, [dispatch])\n\n  const setSourceAddress = useCallback(async () => {\n    if (account.isAddress(senderAddress) && account.isAddress(mintAddress)) {\n      const pubkey = await utils.token.associatedAddress({\n        owner: new PublicKey(senderAddress),\n        mint: new PublicKey(mintAddress),\n      })\n      setSrcAddress(pubkey.toBase58())\n    } else setSrcAddress('')\n  }, [mintAddress, senderAddress])\n\n  const setDestinationAddress = useCallback(async () => {\n    if (account.isAddress(receiverAddress) && account.isAddress(mintAddress)) {\n      const pubkey = await utils.token.associatedAddress({\n        owner: new PublicKey(receiverAddress),\n        mint: new PublicKey(mintAddress),\n      })\n      setDstAddress(pubkey.toBase58())\n    } else setDstAddress('')\n  }, [mintAddress, receiverAddress])\n\n  const getAmount = useCallback(() => {\n    if (Number(value) && decimals)\n      setAmount(String(Number(value) * 10 ** decimals))\n    else setAmount('')\n  }, [decimals, value])\n\n  useEffect(() => {\n    setSourceAddress()\n  }, [setSourceAddress])\n\n  useEffect(() => {\n    setDestinationAddress()\n  }, [setDestinationAddress])\n\n  useEffect(() => {\n    getAmount()\n  }, [getAmount])\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Space direction=\"vertical\" size={4} style={{ width: '100%' }}>\n          <Typography.Text type=\"secondary\">Transfer</Typography.Text>\n          <NumericInput\n            className=\"border-less\"\n            placeholder=\"Input Amount\"\n            value={value}\n            onValue={(value) => setValue(value || '')}\n            prefix={\n              <MintSelection\n                value={mintAddress}\n                onChange={setMintAddress}\n                style={{ marginLeft: -7 }}\n              />\n            }\n          />\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\" size={4} style={{ width: '100%' }}>\n          <Typography.Text type=\"secondary\">\n            Sender's Wallet Address\n          </Typography.Text>\n          <Input\n            className=\"border-less\"\n            placeholder=\"Input Sender's Wallet Address\"\n            value={senderAddress}\n            disabled={daoMetaData?.daoType === 'multisig-dao'}\n          />\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\" size={4} style={{ width: '100%' }}>\n          <Typography.Text type=\"secondary\">\n            Receiver's Wallet Address\n          </Typography.Text>\n          <Input\n            className=\"border-less\"\n            placeholder=\"Input Receiver's Wallet Address\"\n            value={receiverAddress}\n            onChange={(e) => setReceiverAddress(e.target.value || '')}\n          />\n        </Space>\n      </Col>\n      <Col span={24} />\n      <Col span={24} style={{ textAlign: 'right' }}>\n        <Space>\n          <Button type=\"text\" onClick={close}>\n            Close\n          </Button>\n          <Button type=\"primary\" onClick={confirm} disabled={!valid}>\n            Continue\n          </Button>\n        </Space>\n      </Col>\n      {/* <TemplateInfo content=\"\" /> */}\n    </Row>\n  )\n}\n\nexport default TransferSplPlugin\n","var _path, _path2, _path3, _defs;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgSolana(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 56,\n    height: 56,\n    viewBox: \"0 0 56 56\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.09822 38.7451C9.43613 38.4072 9.90075 38.2101 10.3935 38.2101H55.082C55.8986 38.2101 56.3069 39.1956 55.7297 39.7729L46.9018 48.6008C46.5639 48.9387 46.0993 49.1358 45.6065 49.1358H0.918008C0.101395 49.1358 -0.306912 48.1502 0.270349 47.573L9.09822 38.7451Z\",\n    fill: \"url(#paint0_linear_514_9086)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.09822 5.78502C9.45021 5.44711 9.91483 5.25 10.3935 5.25L55.082 5.25C55.8986 5.25 56.3069 6.23557 55.7297 6.81283L46.9018 15.6407C46.5639 15.9786 46.0993 16.1757 45.6065 16.1757H0.918008C0.101395 16.1757 -0.306912 15.1902 0.270349 14.6129L9.09822 5.78502Z\",\n    fill: \"url(#paint1_linear_514_9086)\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M46.9018 22.1596C46.5639 21.8217 46.0993 21.6246 45.6065 21.6246H0.918008C0.101395 21.6246 -0.306912 22.6101 0.270349 23.1874L9.09822 32.0153C9.43613 32.3532 9.90075 32.5503 10.3935 32.5503H55.082C55.8986 32.5503 56.3069 31.5647 55.7297 30.9875L46.9018 22.1596Z\",\n    fill: \"url(#paint2_linear_514_9086)\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_514_9086\",\n    x1: 50.8129,\n    y1: -0.023655,\n    x2: 19.885,\n    y2: 59.2159,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#00FFA3\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#DC1FFF\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint1_linear_514_9086\",\n    x1: 37.2896,\n    y1: -7.08387,\n    x2: 6.36157,\n    y2: 52.1556,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#00FFA3\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#DC1FFF\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint2_linear_514_9086\",\n    x1: 44.0082,\n    y1: -3.57611,\n    x2: 13.0802,\n    y2: 55.6634,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#00FFA3\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#DC1FFF\"\n  })))));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSolana);\nexport default __webpack_public_path__ + \"static/media/solana.6db9bd9600699ad1fc2b302acd0731be.svg\";\nexport { ForwardRef as ReactComponent };","import { Button, Col, Image, Radio, Row, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport TransferSplPlugin from './transfer'\n\nimport SOLANA_LOGO from 'app/static/images/templates/solana.svg'\n\ntype CardOptionProps = {\n  label: string\n  description: string\n  icon: string\n}\n\nconst CardOption = ({ label, description, icon }: CardOptionProps) => {\n  return (\n    <Row>\n      <Col span={24}>\n        <Row>\n          <Col flex=\"auto\">\n            <Typography.Title level={5}>{label}</Typography.Title>\n          </Col>\n          <Col>\n            <IonIcon style={{ fontSize: 24 }} name={icon} />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Typography.Text type=\"secondary\">{description}</Typography.Text>\n      </Col>\n    </Row>\n  )\n}\n\nconst SPL = ({ daoAddress }: { daoAddress: string }) => {\n  return (\n    <Row>\n      <Col xs={24} md={16} className=\"wrap-spl-info\">\n        <Row gutter={[16, 16]} className=\"spl-info\">\n          <Col span={24}>\n            <Space size={24}>\n              <Image preview={false} src={SOLANA_LOGO} />\n              <Space size={0} direction=\"vertical\">\n                <Typography.Text>Solana Program Library</Typography.Text>\n                <Space size={2} style={{ marginLeft: -8 }}>\n                  <Button type=\"text\" icon={<IonIcon name=\"logo-discord\" />} />\n                  <Button type=\"text\" icon={<IonIcon name=\"logo-twitter\" />} />\n                  <Button type=\"text\" icon={<IonIcon name=\"logo-telegram\" />} />\n                </Space>\n              </Space>\n            </Space>\n          </Col>\n          <Col span={24}>\n            <Typography.Paragraph\n              type=\"secondary\"\n              ellipsis={{ rows: 3, expandable: true, symbol: 'View more' }}\n            >\n              The Solana Program Library (SPL) is a collection of on-chain\n              programs targeting the Sealevel parallel runtime. These programs\n              are tested against Solana's implementation of Sealevel,\n              solana-runtime, and deployed to its mainnet. As others implement\n              Sealevel, we will graciously accept patches to ensure the programs\n              here are portable across all implementations.\n            </Typography.Paragraph>\n          </Col>\n          <Col span={24}>\n            <Space direction=\"vertical\" style={{ width: '100%' }}>\n              <Typography.Text>Templates</Typography.Text>\n              <Radio.Group\n                value=\"transfer\"\n                style={{ width: '100%' }}\n                className=\"select-spl-option\"\n              >\n                <Row gutter={[24, 24]}>\n                  <Col xs={24} sm={12} md={12} lg={12}>\n                    <Radio.Button value=\"transfer\">\n                      <CardOption\n                        label=\"Transfer\"\n                        description=\"Transfer token to another wallet address\"\n                        icon=\"paper-plane-outline\"\n                      />\n                    </Radio.Button>\n                  </Col>\n                  <Col xs={24} sm={12} md={12} lg={12}>\n                    <Radio.Button value=\"approve\" disabled>\n                      <CardOption\n                        label=\"Approve\"\n                        description=\"Coming soon\"\n                        icon=\"thumbs-up-outline\"\n                      />\n                    </Radio.Button>\n                  </Col>\n                </Row>\n              </Radio.Group>\n            </Space>\n          </Col>\n        </Row>\n      </Col>\n      <Col xs={24} md={8} className=\"spl-option-transfer\">\n        <TransferSplPlugin daoAddress={daoAddress} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default SPL\n","import { useDispatch, useSelector } from 'react-redux'\n\nimport { Col, Modal, Row, Tabs, Typography } from 'antd'\nimport SPL from './spl'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { setVisible } from 'app/model/template.controller'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport './index.less'\n\nexport enum Templates {\n  SPL_TRANSFER = 'spl_transfer',\n}\n\nconst Template = ({ daoAddress }: { daoAddress: string }) => {\n  const {\n    template: { visible },\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch<AppDispatch>()\n\n  return (\n    <Modal\n      visible={visible}\n      footer={false}\n      closeIcon={<IonIcon name=\"close-outline\" />}\n      className=\"template-card template-modal\"\n      onCancel={() => dispatch(setVisible(false))}\n    >\n      <Row>\n        <Col span={24} className=\"template-header\">\n          <Typography.Title level={4}>Choose a template</Typography.Title>\n        </Col>\n        <Col className=\"template-body\" span={24}>\n          <Tabs>\n            <Tabs.TabPane tab=\"SPL\" key=\"spl\">\n              <SPL daoAddress={daoAddress} />\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"Atrix\" key=\"atrix\" disabled />\n\n            <Tabs.TabPane tab=\"Quarry\" key=\"quarry\" disabled />\n\n            <Tabs.TabPane tab=\"Advanced\" key=\"advanced\" disabled />\n          </Tabs>\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\n\nexport default Template\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport LazyLoad from '@sentre/react-lazyload'\nimport { useUI, useWallet } from '@senhub/providers'\nimport { DaoRegimes } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\nimport { SystemProgram } from '@solana/web3.js'\n\nimport { Button, Col, Empty, Row, Select, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ProposalCard from './proposalCard'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport Template from 'app/view/templates'\nimport { setVisible } from 'app/model/template.controller'\n\nexport type ProposalListProps = { daoAddress: string }\n\nconst currentDate = Math.floor(Number(new Date()) / 1000)\n\nconst ProposalList = ({ daoAddress }: ProposalListProps) => {\n  const [status, setStatus] = useState('all-status')\n  const {\n    proposal,\n    dao: { daos },\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const {\n    ui: { width },\n  } = useUI()\n\n  const { regime, authority } = daos[daoAddress] || {\n    regime: DaoRegimes.Dictatorial,\n    authority: SystemProgram.programId,\n  }\n  const mobileScreen = width < 768\n\n  const isSuccess = useCallback(\n    (quorum: string, votingPower: number, numSupply: number) => {\n      if (votingPower <= 0) return false\n      if (quorum === 'half' && votingPower >= numSupply / 2) return true\n      if (quorum === 'oneThird' && votingPower >= numSupply / 3) return true\n      if (quorum === 'twoThird' && votingPower >= (numSupply * 2) / 3)\n        return true\n      return false\n    },\n    [],\n  )\n\n  const authorized = useMemo(() => {\n    if (isEqual(regime, DaoRegimes.Autonomous)) return true\n    if (isEqual(regime, DaoRegimes.Democratic)) return true\n    if (authority.toBase58() === walletAddress) return true\n    return false\n  }, [regime, authority, walletAddress])\n\n  const proposalAddresses = useMemo(() => {\n    const expandedProposal = Object.keys(proposal).map((address) => ({\n      address,\n      ...proposal[address],\n    }))\n    return expandedProposal\n      .filter(({ dao }) => dao.toBase58() === daoAddress)\n      .map(({ address }) => address)\n  }, [proposal, daoAddress])\n\n  const filterProposalAddresses = useMemo(() => {\n    if (!proposalAddresses.length) return []\n    const filteredAddress = []\n\n    for (const address of proposalAddresses) {\n      let valid = false\n      const {\n        endDate,\n        startDate,\n        executed,\n        supply,\n        votingForPower,\n        consensusQuorum,\n        consensusMechanism,\n        votingAgainstPower,\n      } = proposal[address] || {}\n\n      const quorum = consensusQuorum ? Object.keys(consensusQuorum)[0] : ''\n      const votingPower = Number(votingForPower) - Number(votingAgainstPower)\n      const stakeSupply = Number(supply) || 0\n      const lockSupply = Number(supply) * (Number(endDate) - Number(startDate))\n      const mechanism = consensusMechanism\n        ? Object.keys(consensusMechanism)[0]\n        : ''\n      const actualSupply =\n        mechanism === 'StakedTokenCounter' ? stakeSupply : lockSupply\n\n      switch (status) {\n        case 'preparing':\n          valid = currentDate < Number(startDate)\n          break\n        case 'voting':\n          valid =\n            currentDate <= Number(endDate) && currentDate >= Number(startDate)\n          break\n        case 'executed':\n          valid = executed\n          break\n        case 'succeeded':\n          valid =\n            isSuccess(quorum, votingPower, actualSupply) &&\n            !executed &&\n            currentDate > Number(endDate)\n          break\n        case 'failed':\n          valid =\n            !isSuccess(quorum, votingPower, actualSupply) &&\n            currentDate > Number(endDate)\n          break\n        default:\n          valid = true\n          break\n      }\n      if (valid) filteredAddress.push(address)\n    }\n    return filteredAddress\n  }, [isSuccess, proposal, proposalAddresses, status])\n\n  useEffect(() => {\n    // scroll to top\n    window.scrollTo(0, 0)\n  }, [])\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Row gutter={[16, 16]} align=\"bottom\">\n          <Col\n            span={mobileScreen ? 24 : undefined}\n            flex={mobileScreen ? undefined : 'auto'}\n          >\n            <Typography.Title level={4}>Proposals</Typography.Title>\n          </Col>\n          <Col span={mobileScreen ? 12 : undefined}>\n            <Select\n              className=\"select-filter-proposal\"\n              defaultValue=\"all-status\"\n              onChange={setStatus}\n              style={{ width: '100%', minWidth: 150 }}\n            >\n              <Select.Option value=\"all-status\">All status</Select.Option>\n              <Select.Option value=\"preparing\">Preparing</Select.Option>\n              <Select.Option value=\"voting\">Voting</Select.Option>\n              <Select.Option value=\"succeeded\">Succeeded</Select.Option>\n              <Select.Option value=\"executed\">Executed</Select.Option>\n              <Select.Option value=\"failed\">Failed</Select.Option>\n            </Select>\n          </Col>\n          <Col span={mobileScreen ? 12 : undefined}>\n            <Button\n              type=\"primary\"\n              icon={<IonIcon name=\"add-outline\" />}\n              onClick={() => dispatch(setVisible(true))}\n              disabled={!authorized}\n              block\n            >\n              New Proposal\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row>\n          {filterProposalAddresses.length ? (\n            filterProposalAddresses.map((proposalAddress) => (\n              <Col key={proposalAddress} span={24}>\n                <LazyLoad height={176}>\n                  <ProposalCard\n                    daoAddress={daoAddress}\n                    proposalAddress={proposalAddress}\n                  />\n                </LazyLoad>\n              </Col>\n            ))\n          ) : (\n            <Col span={24} style={{ textAlign: 'center' }}>\n              <Empty />\n            </Col>\n          )}\n        </Row>\n      </Col>\n      <Template daoAddress={daoAddress} />\n    </Row>\n  )\n}\n\nexport default ProposalList\n","import { useMemo, useState } from 'react'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { Col, Row, Space, Tooltip, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport useMembers from 'app/hooks/useMembers'\nimport useMetaData from 'app/hooks/useMetaData'\nimport { asyncWait, numeric, shortenAddress } from 'shared/util'\n\nconst InfoMember = ({ daoAddress }: { daoAddress: string }) => {\n  const [copied, setCopied] = useState('address')\n  const metaData = useMetaData(daoAddress)\n\n  const onCopy = async (address: string) => {\n    setCopied(address)\n    await asyncWait(1500)\n    setCopied('address')\n  }\n\n  return (\n    <Row gutter={[8, 8]}>\n      {metaData?.members.map(({ name, walletAddress }, index) => (\n        <Col span={24} key={walletAddress + index}>\n          <Row>\n            <Col flex=\"auto\">\n              <Typography.Text key={index} className=\"t-16\">\n                {name}\n              </Typography.Text>\n            </Col>\n            <Col>\n              <Space>\n                <Typography.Text type=\"secondary\">\n                  {shortenAddress(walletAddress)}\n                </Typography.Text>\n                <Tooltip title=\"Copied\" visible={copied === walletAddress}>\n                  <CopyToClipboard\n                    text={walletAddress}\n                    onCopy={() => onCopy(walletAddress)}\n                  >\n                    <Typography.Text\n                      style={{ cursor: 'pointer' }}\n                      type=\"secondary\"\n                    >\n                      <IonIcon name=\"copy-outline\" />\n                    </Typography.Text>\n                  </CopyToClipboard>\n                </Tooltip>\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n      ))}\n    </Row>\n  )\n}\n\nconst AmountMembers = ({ daoAddress }: { daoAddress: string }) => {\n  const members = useMembers(daoAddress)\n  const metaData = useMetaData(daoAddress)\n  const isMultisig = metaData?.daoType === 'multisig-dao'\n\n  const amountMembers = useMemo(() => {\n    if (!isMultisig) return members\n    const { members: daoMembers } = metaData\n    return daoMembers.length\n  }, [isMultisig, members, metaData])\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Space align=\"baseline\">\n          <Typography.Text className=\"caption\" type=\"secondary\">\n            Members\n          </Typography.Text>\n          {isMultisig && (\n            <Tooltip\n              placement=\"bottomLeft\"\n              overlayClassName=\"info-member\"\n              title={<InfoMember daoAddress={daoAddress} />}\n            >\n              <IonIcon\n                style={{ cursor: 'pointer' }}\n                name=\"information-circle-outline\"\n              />\n            </Tooltip>\n          )}\n        </Space>\n      </Col>\n      <Col span={24}> {numeric(amountMembers).format('0,0')}</Col>\n    </Row>\n  )\n}\nexport default AmountMembers\n","import { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { SystemProgram } from '@solana/web3.js'\nimport BN from 'bn.js'\nimport { useUI, useWallet } from '@senhub/providers'\n\nimport { Avatar, Button, Card, Col, Row, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport StatisticCard from 'app/components/statisticCard'\nimport RegimeTag from 'app/components/regimeTag'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport GradientAvatar from 'app/components/gradientAvatar'\nimport AmountMembers from './members'\n\nimport { AppState } from 'app/model'\nimport { numeric, shortenAddress } from 'shared/util'\nimport useMetaData from 'app/hooks/useMetaData'\nimport { getIcon, validURL } from 'app/helpers'\nimport configs from 'app/configs'\nimport { DaoDetailsProps } from './index'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst DaoInfo = ({ daoAddress }: DaoDetailsProps) => {\n  const daos = useSelector((state: AppState) => state.dao.daos)\n  const {\n    ui: { width },\n  } = useUI()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const metaData = useMetaData(daoAddress)\n  const history = useHistory()\n\n  const { regime, nonce, mint, authority, isNft } = daos?.[daoAddress] || {\n    regime: {},\n    nonce: new BN(0),\n    mint: SystemProgram.programId,\n  }\n\n  const editDAO = () => history.push(`/app/${appId}/dao/${daoAddress}/edit`)\n\n  const mobileScreen = width < 768\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Row>\n            <Col flex=\"auto\">\n              <Row gutter={[16, 16]}>\n                <Col>\n                  {!metaData?.image ? (\n                    <GradientAvatar\n                      seed={daoAddress}\n                      avatarProps={{ shape: 'square', size: 56 }}\n                    />\n                  ) : (\n                    <Avatar shape=\"square\" size={56} src={metaData?.image} />\n                  )}\n                </Col>\n                <Col flex={mobileScreen ? 'auto' : undefined}>\n                  <Space direction=\"vertical\" size={0}>\n                    <Typography.Title level={4}>\n                      {metaData?.daoName\n                        ? metaData.daoName\n                        : shortenAddress(daoAddress)}\n                    </Typography.Title>\n                    <Space size={0} style={{ marginLeft: -3 }}>\n                      {(metaData?.optionals || []).map(\n                        (url, idx) =>\n                          validURL(url) && (\n                            <Button\n                              size=\"small\"\n                              type=\"text\"\n                              onClick={() => window.open(url, '_blank')}\n                              icon={<IonIcon name={getIcon(url)} />}\n                              key={idx}\n                            />\n                          ),\n                      )}\n                    </Space>\n                  </Space>\n                </Col>\n              </Row>\n            </Col>\n            <Col>\n              <Button\n                type=\"text\"\n                size=\"large\"\n                onClick={editDAO}\n                disabled={authority && walletAddress !== authority.toBase58()}\n                style={{\n                  marginRight: -10,\n                  marginTop: -20,\n                }}\n                icon={<IonIcon name=\"open-outline\" />}\n              />\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[36, 16]}>\n            <Col xs={12} sm={6}>\n              <StatisticCard\n                title=\"Proposals\"\n                value={numeric(Number(nonce)).format('0,0')}\n              />\n            </Col>\n            <Col xs={12} sm={6}>\n              <AmountMembers daoAddress={daoAddress} />\n            </Col>\n            <Col xs={12} sm={6}>\n              <StatisticCard\n                title=\"Vote by\"\n                value={\n                  isNft ? (\n                    'NFT'\n                  ) : (\n                    <Space>\n                      <MintAvatar mintAddress={mint.toBase58()} />\n                      <MintSymbol mintAddress={mint.toBase58()} />\n                    </Space>\n                  )\n                }\n              />\n            </Col>\n            <Col xs={12} sm={6}>\n              <StatisticCard\n                title=\"Regime\"\n                value={<RegimeTag regime={regime} />}\n              />\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24} className=\"scrollbar\" style={{ height: 66 }}>\n          <Typography.Paragraph\n            type=\"secondary\"\n            ellipsis={{ rows: 3, expandable: true, symbol: 'View more' }}\n            style={{ margin: 0 }}\n          >\n            {metaData?.description}\n          </Typography.Paragraph>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default DaoInfo\n","import { BN, utils, web3 } from '@project-serum/anchor'\nimport { PublicKey } from '@solana/web3.js'\nimport { Leaf, MerkleDistributor } from '@sentre/utility'\nimport IPFS from 'shared/pdb/ipfs'\nimport { CID } from 'ipfs-core'\n\nimport configs from 'app/configs'\nimport { getCID } from './index'\n\nconst {\n  sol: { utility },\n} = configs\n\nconst ipfs = new IPFS()\n\nconst CURRENT_TIME = Number(new Date())\nconst ONE_DAY = 24 * 60 * 60 * 1000\nconst ENDED_AT = CURRENT_TIME + 15 * ONE_DAY\n\nclass Distributor {\n  getTreeData = (pubkeys: PublicKey[]) => {\n    const balanceTree: Leaf[] = pubkeys.map((pubkey, index) => {\n      return {\n        authority: pubkey,\n        amount: new BN(1),\n        startedAt: new BN(0),\n        salt: MerkleDistributor.salt(index.toString()),\n      }\n    })\n    const merkleDistributor = new MerkleDistributor(balanceTree)\n    const dataBuffer = merkleDistributor.toBuffer()\n    return dataBuffer\n  }\n\n  createDistributor = async (pubkeys: PublicKey[], mintAddress: string) => {\n    const treeData = this.getTreeData(pubkeys)\n    const merkleDistributor = MerkleDistributor.fromBuffer(treeData)\n\n    const cid = await ipfs.set(treeData.toJSON().data)\n    const {\n      multihash: { digest },\n    } = CID.parse(cid)\n\n    const metadata = Buffer.from(digest)\n\n    const { distributorAddress } = await utility.initializeDistributor({\n      tokenAddress: mintAddress,\n      total: merkleDistributor.getTotal(),\n      merkleRoot: merkleDistributor.deriveMerkleRoot(),\n      metadata,\n      endedAt: ENDED_AT / 1000,\n    })\n\n    return distributorAddress\n  }\n\n  createDistributorInstruction = async (\n    walletAddress: string,\n    pubkeys: PublicKey[],\n    mintAddress: string,\n  ) => {\n    const treeData = this.getTreeData(pubkeys)\n    const merkleDistributor = MerkleDistributor.fromBuffer(treeData)\n\n    const cid = await ipfs.set(treeData.toJSON().data)\n    const {\n      multihash: { digest },\n    } = CID.parse(cid)\n\n    const walletPublicKey = new PublicKey(walletAddress)\n    const tokenPublicKey = new PublicKey(mintAddress)\n    const metadata = Buffer.from(digest)\n    const distributor = web3.Keypair.generate()\n    const srcPublicKey = await utils.token.associatedAddress({\n      mint: tokenPublicKey,\n      owner: walletPublicKey,\n    })\n    const treasurer = await utility.deriveTreasurerAddress(\n      distributor.publicKey.toBase58(),\n    )\n    const treasury = await utils.token.associatedAddress({\n      mint: tokenPublicKey,\n      owner: new PublicKey(treasurer),\n    })\n    return utility.program.methods\n      .initializeDistributor(\n        Array.from(merkleDistributor.deriveMerkleRoot()),\n        merkleDistributor.getTotal(),\n        new BN(ENDED_AT / 1000),\n        Array.from(metadata),\n        new BN(0),\n      )\n      .accounts({\n        authority: new PublicKey(walletAddress),\n        distributor: distributor.publicKey,\n        src: srcPublicKey,\n        treasurer,\n        treasury,\n        feeCollector: new PublicKey(walletAddress),\n        mint: tokenPublicKey,\n        tokenProgram: utils.token.TOKEN_PROGRAM_ID,\n        associatedTokenProgram: utils.token.ASSOCIATED_PROGRAM_ID,\n        systemProgram: web3.SystemProgram.programId,\n        rent: web3.SYSVAR_RENT_PUBKEY,\n      })\n      .instruction()\n  }\n\n  getMintAddress = async (distributorAddress: string) => {\n    const distributor = await utility.program.account.distributor.fetch(\n      distributorAddress,\n    )\n    return distributor.mint.toBase58()\n  }\n\n  getMerkleDistributor = async (distributorAddress: string) => {\n    const distributor = await utility.program.account.distributor.fetch(\n      distributorAddress,\n    )\n    const cid = await getCID(distributor.metadata)\n    const data = await ipfs.get(cid)\n    const merkleDistributor = MerkleDistributor.fromBuffer(Buffer.from(data))\n    return merkleDistributor\n  }\n\n  getRecipientData = async (\n    walletAddress: string,\n    distributorAddress: string,\n  ) => {\n    const merkleDistributor = await this.getMerkleDistributor(\n      distributorAddress,\n    )\n    for (const recipient of merkleDistributor.receipients) {\n      const authorityAddress = recipient.authority.toBase58()\n      if (walletAddress === authorityAddress) return recipient\n    }\n  }\n\n  getReceiptData = async (\n    walletAddress: string,\n    distributorAddress: string,\n  ) => {\n    const recipientData = await this.getRecipientData(\n      walletAddress,\n      distributorAddress,\n    )\n    if (!recipientData) return false\n    const { salt } = recipientData\n    const receiptAddress = await utility.deriveReceiptAddress(\n      salt,\n      distributorAddress,\n    )\n    const receiptData = await utility.getReceiptData(receiptAddress)\n\n    return receiptData\n  }\n\n  claimToken = async (walletAddress: string, distributorAddress: string) => {\n    const recipientData = await this.getRecipientData(\n      walletAddress,\n      distributorAddress,\n    )\n    if (!recipientData) throw new Error('You not on the list')\n\n    const merkleDistributor = await this.getMerkleDistributor(\n      distributorAddress,\n    )\n    const proof = merkleDistributor.deriveProof(recipientData)\n\n    const { txId } = await utility.claim({\n      distributorAddress,\n      proof,\n      data: recipientData,\n    })\n    return txId\n  }\n}\n\nexport default Distributor\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useAccount, useWallet } from '@senhub/providers'\n\nimport { Button, Col, Image, Modal, Row, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { DaoDetailsProps } from './index'\nimport useMetaData from 'app/hooks/useMetaData'\nimport Distributor from 'app/helpers/distributor'\nimport { explorer } from 'shared/util'\nimport BG_JOIN_DAO from 'app/static/images/system/bg-join-dao.png'\n\nconst JoinDao = ({ daoAddress }: DaoDetailsProps) => {\n  const [visible, setVisible] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const metaData = useMetaData(daoAddress)\n  const { accounts } = useAccount()\n\n  const listMint = useMemo(() => {\n    const mints = []\n    for (const accountAddr in accounts) {\n      mints.push(accounts[accountAddr].mint)\n    }\n    return mints\n  }, [accounts])\n\n  const isValidAccount = useCallback(async () => {\n    try {\n      if (!metaData || !metaData.distributorAddress) return setVisible(false)\n      const { distributorAddress, members } = metaData\n      const distributor = new Distributor()\n      const mintAddress = await distributor.getMintAddress(distributorAddress)\n      const membersAddress = members.map((member) => member.walletAddress)\n\n      if (\n        membersAddress.includes(walletAddress) &&\n        !listMint.includes(mintAddress)\n      )\n        return setVisible(true)\n\n      const recipientData = await distributor.getRecipientData(\n        walletAddress,\n        distributorAddress,\n      )\n      if (!recipientData) return setVisible(false) // not in list\n\n      const receiptData = await distributor.getReceiptData(\n        walletAddress,\n        distributorAddress,\n      )\n      if (receiptData) return setVisible(false) // claimed\n      return setVisible(false)\n    } catch (error) {\n      return setVisible(true) // Not claim\n    }\n  }, [listMint, metaData, walletAddress])\n\n  const onClaim = async () => {\n    if (!metaData || !metaData.distributorAddress) return\n    const { distributorAddress } = metaData\n    try {\n      setLoading(true)\n      const distributor = new Distributor()\n      const recipientData = await distributor.getRecipientData(\n        walletAddress,\n        distributorAddress,\n      )\n      if (!recipientData) return\n\n      const txId = await distributor.claimToken(\n        walletAddress,\n        distributorAddress,\n      )\n      return window.notify({\n        type: 'success',\n        description: 'Join the DAO successfully. Click here to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (er: any) {\n      return window.notify({\n        type: 'success',\n        description: er.message,\n      })\n    } finally {\n      setLoading(false)\n      setVisible(false)\n    }\n  }\n\n  useEffect(() => {\n    isValidAccount()\n  }, [isValidAccount])\n\n  return (\n    <Modal\n      visible={visible}\n      onCancel={() => setVisible(false)}\n      closeIcon={<IonIcon name=\"close-outline\" />}\n      footer={null}\n      className=\"join-dao\"\n      bodyStyle={{ padding: '72px 24px 24px 24px' }}\n    >\n      <Image preview={false} src={BG_JOIN_DAO} />\n      <Row\n        className=\"join-dao_content\"\n        gutter={[48, 48]}\n        style={{ textAlign: 'center' }}\n      >\n        <Col span={24}>\n          <Row gutter={[12, 12]}>\n            <Col span={24}>\n              <Typography.Title\n                style={{ fontSize: 32 }}\n                className=\"join-dao_title\"\n                level={2}\n              >\n                Welcome to the DAO\n              </Typography.Title>\n            </Col>\n            <Col span={24}>\n              <Typography.Text style={{ fontSize: 16 }}>\n                Click the button below to become <br /> an official member of\n                DAO\n              </Typography.Text>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Button\n            block\n            size=\"large\"\n            loading={loading}\n            onClick={onClaim}\n            type=\"primary\"\n          >\n            Get started\n          </Button>\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\n\nexport default JoinDao\n","import { useCallback, useEffect, useState } from 'react'\n\nimport { getNftMetaData, MetadataType } from 'app/helpers/metaplex'\n\nconst useNftMetaData = (mintAddress: string) => {\n  const [metaData, setMetaData] = useState<MetadataType>()\n\n  const getMetaData = useCallback(async () => {\n    const metadata = await getNftMetaData(mintAddress)\n    setMetaData(metadata)\n  }, [mintAddress])\n\n  useEffect(() => {\n    getMetaData()\n  }, [getMetaData])\n\n  return metaData\n}\n\nexport default useNftMetaData\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport LazyLoad from '@sentre/react-lazyload'\nimport axios from 'axios'\n\nimport { Card, Col, Image, Row } from 'antd'\n\nimport useNftMetaData from 'app/hooks/useNftMetaData'\nimport { fetchYourOwnerNTFs, MetadataDataType } from 'app/helpers/metaplex'\nimport { AppState } from 'app/model'\n\nimport IMAGE_DEFAULT from 'app/static/images/system/avatar.png'\n\nconst NftTreasury = ({ daoAddress }: { daoAddress: string }) => {\n  const [listNFTs, setListNFTs] = useState<MetadataDataType[]>()\n  const daos = useSelector((state: AppState) => state.dao.daos)\n\n  const daoMasterAddress = useMemo(() => {\n    const { master } = daos[daoAddress] || {}\n    return master?.toBase58() || ''\n  }, [daos, daoAddress])\n\n  const getYourOwnerNFTs = useCallback(async () => {\n    const nfts = await fetchYourOwnerNTFs(daoMasterAddress)\n    return setListNFTs(nfts)\n  }, [daoMasterAddress])\n\n  useEffect(() => {\n    getYourOwnerNFTs()\n  }, [getYourOwnerNFTs])\n\n  return (\n    <Row gutter={[8, 8]} className=\"scrollbar\" style={{ height: 160 }}>\n      {listNFTs &&\n        listNFTs.map((nft) => (\n          <Col xs={8} md={8} key={nft.mint}>\n            <LazyLoad height={87}>\n              <CardNFT mintAddress={nft.mint} />\n            </LazyLoad>\n          </Col>\n        ))}\n    </Row>\n  )\n}\n\nexport default NftTreasury\n\nconst CardNFT = ({ mintAddress }: { mintAddress: string }) => {\n  const [nftImg, setNftImg] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const metadata = useNftMetaData(mintAddress)\n\n  const getNftInfoFromURI = useCallback(async () => {\n    if (!metadata) return setNftImg(IMAGE_DEFAULT)\n    try {\n      setLoading(true)\n      const url = metadata.data.data.uri\n      if (!url) return setNftImg(IMAGE_DEFAULT)\n\n      const response = await axios.get(url)\n      const img = response.data.image\n      return setNftImg(img)\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }, [metadata])\n\n  useEffect(() => {\n    getNftInfoFromURI()\n  }, [getNftInfoFromURI])\n\n  return (\n    <Card\n      bordered={false}\n      style={{ cursor: 'pointer' }}\n      bodyStyle={{ padding: 8 }}\n      loading={loading}\n    >\n      <Row gutter={[8, 8]}>\n        <Col span={24}>\n          <Image\n            src={nftImg}\n            preview={false}\n            style={{ borderRadius: 4 }}\n            width={87}\n            height={87}\n          />\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { AccountData, utils } from '@senswap/sen-js'\nimport { useMint } from '@senhub/providers'\n\nimport { fetchCGK } from 'shared/util'\nimport TokenProvider from 'shared/tokenProvider'\n\nconst DEFAULT_DATA = {\n  address: '',\n  icon: '',\n  name: 'TOKEN',\n  price: 0,\n  priceChange: 0,\n  rank: 0,\n  symbol: 'TOKEN',\n  totalVolume: 0,\n}\n\nexport const fetchCgkData = async (\n  tokenProvider: TokenProvider,\n  mintAddress: string,\n) => {\n  try {\n    const token = await tokenProvider.findByAddress(mintAddress)\n    const ticket = token?.extensions?.coingeckoId\n    const cgkData = await fetchCGK(ticket)\n    return cgkData\n  } catch (error) {\n    return DEFAULT_DATA\n  }\n}\n\nexport const getBalance = async (\n  inUSD: boolean,\n  tokenProvider: TokenProvider,\n  mintAddress: string,\n  decimals: number,\n  amount: bigint,\n) => {\n  const cgkData = await fetchCgkData(tokenProvider, mintAddress)\n  let balance = Number(utils.undecimalize(amount, decimals))\n  if (inUSD) balance = Number(balance) * cgkData.price\n\n  return balance\n}\n\nconst useTotalUSD = ({\n  inUSD = true,\n  accounts,\n}: {\n  inUSD?: boolean\n  accounts: AccountData[]\n}) => {\n  const { tokenProvider, getDecimals } = useMint()\n  const [totalUSD, setTotalUSD] = useState(0)\n\n  const clcTotalUSD = useCallback(async () => {\n    if (!accounts) return setTotalUSD(0)\n    let totalUSD = 0\n    for (const account of accounts) {\n      const { mint, amount } = account\n      const decimals = await getDecimals(mint)\n      const balance = await getBalance(\n        inUSD,\n        tokenProvider,\n        mint,\n        decimals,\n        amount,\n      )\n      totalUSD += balance\n    }\n    return setTotalUSD(totalUSD)\n  }, [accounts, getDecimals, tokenProvider, inUSD])\n\n  useEffect(() => {\n    clcTotalUSD()\n  }, [clcTotalUSD])\n\n  return totalUSD\n}\n\nexport default useTotalUSD\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\nimport { AccountData } from '@senswap/sen-js'\n\nimport { Col, Row, Space, Typography } from 'antd'\n\nimport { getBalance } from 'app/hooks/useBalance'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\n\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport { numeric } from 'shared/util'\n\nconst MintBalance = ({ account }: { account: AccountData }) => {\n  const [usdBalance, setUSDBalance] = useState(0)\n  const [mintBalance, setMintBalance] = useState(0)\n\n  const { mint, amount } = account\n  const { tokenProvider } = useMint()\n  const decimals = useMintDecimals(mint) || 0\n\n  const fetchBalance = useCallback(async () => {\n    const mintBalance = await getBalance(\n      false,\n      tokenProvider,\n      mint,\n      decimals,\n      amount,\n    )\n    const usdBalance = await getBalance(\n      true,\n      tokenProvider,\n      mint,\n      decimals,\n      amount,\n    )\n    setMintBalance(mintBalance)\n    setUSDBalance(usdBalance)\n  }, [amount, decimals, mint, tokenProvider])\n\n  useEffect(() => {\n    fetchBalance()\n  }, [fetchBalance])\n\n  return (\n    <Row align=\"middle\">\n      <Col flex=\"auto\">\n        <Space>\n          <MintAvatar mintAddress={mint} />\n          <Space size={4}>\n            {numeric(mintBalance).format('0,0.[000]')}\n            <Typography.Text type=\"secondary\">\n              <MintSymbol mintAddress={mint} />\n            </Typography.Text>\n          </Space>\n        </Space>\n      </Col>\n      <Col>\n        <Typography.Text type=\"secondary\">\n          ${numeric(usdBalance).format('0,0.[000]')}\n        </Typography.Text>\n      </Col>\n    </Row>\n  )\n}\n\nexport default MintBalance\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account, AccountData } from '@senswap/sen-js'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { Col, Row, Space, Tooltip, Typography } from 'antd'\nimport MintBalance from './mintBalance'\nimport RowSpaceBetween from 'app/components/rowSpaceBetween'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { AppState } from 'app/model'\nimport useTotalUSD from 'app/hooks/useBalance'\nimport { asyncWait, numeric, shortenAddress } from 'shared/util'\n\nconst InfoDAOMaster = ({ daoAddress }: { daoAddress: string }) => {\n  const [copied, setCopied] = useState(false)\n\n  const onCopy = async () => {\n    setCopied(true)\n    await asyncWait(1500)\n    setCopied(false)\n  }\n\n  return (\n    <RowSpaceBetween\n      label=\"Treasury Address\"\n      value={\n        <Space>\n          <Typography.Text className=\"t-16\">\n            {shortenAddress(daoAddress)}\n          </Typography.Text>\n          <Tooltip title=\"Copied\" visible={copied}>\n            <CopyToClipboard text={daoAddress} onCopy={onCopy}>\n              <Typography.Text style={{ cursor: 'pointer' }} className=\"t-16\">\n                <IonIcon name=\"copy-outline\" />\n              </Typography.Text>\n            </CopyToClipboard>\n          </Tooltip>\n        </Space>\n      }\n    />\n  )\n}\n\nconst Treasury = ({ daoAddress }: { daoAddress: string }) => {\n  const [listAccount, setListAccount] = useState<AccountData[]>([])\n  const totalUSD = useTotalUSD({ accounts: listAccount })\n\n  const {\n    dao: { daos },\n  } = useSelector((state: AppState) => state)\n\n  const daoMasterAddress = useMemo(() => {\n    const { master } = daos[daoAddress] || {}\n    return master?.toBase58() || ''\n  }, [daos, daoAddress])\n\n  const fetchAccount = useCallback(async () => {\n    if (!daoMasterAddress) return\n\n    const { splt } = window.sentre\n    const ownerPublicKey = account.fromAddress(daoMasterAddress)\n    const { value } = await splt.connection.getTokenAccountsByOwner(\n      ownerPublicKey,\n      { programId: splt.spltProgramId },\n    )\n    let bulk: AccountData[] = []\n    await Promise.all(\n      value.map(async ({ account: { data: buf } }) => {\n        const data = splt.parseAccountData(buf)\n        const mintInfo = await splt.getMintData(data.mint)\n        if (!(mintInfo.decimals === 0) && !(Number(mintInfo.supply) === 1))\n          return bulk.push(data)\n      }),\n    )\n    return setListAccount(bulk)\n  }, [daoMasterAddress])\n\n  useEffect(() => {\n    fetchAccount()\n  }, [fetchAccount])\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Row align=\"middle\">\n          <Col flex=\"auto\">\n            <Space align=\"baseline\">\n              <Typography.Text type=\"secondary\">\n                Treasury Balance\n              </Typography.Text>\n              <Tooltip\n                placement=\"bottomLeft\"\n                overlayClassName=\"info-member treasury-addr\"\n                title={<InfoDAOMaster daoAddress={daoMasterAddress} />}\n              >\n                <IonIcon\n                  style={{ cursor: 'pointer' }}\n                  name=\"information-circle-outline\"\n                />\n              </Tooltip>\n            </Space>\n          </Col>\n          <Col>\n            <Typography.Title level={4}>\n              ${numeric(totalUSD).format('0,0.[000]')}\n            </Typography.Title>\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[24, 24]} className=\"scrollbar\" style={{ height: 124 }}>\n          {listAccount &&\n            listAccount.map((account) => (\n              <Col span={24} key={account.mint}>\n                <MintBalance account={account} />\n              </Col>\n            ))}\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Treasury\n","import { Card, Tabs } from 'antd'\nimport NftTreasury from './nftsTreasury'\nimport Treasury from './treasury'\n\nconst DaoOwnerAssets = ({ daoAddress }: { daoAddress: string }) => {\n  return (\n    <Card bordered={false}>\n      <Tabs className=\"dao-assets\">\n        <Tabs.TabPane tab=\"Treasury\" key=\"treasury\">\n          <Treasury daoAddress={daoAddress} />\n        </Tabs.TabPane>\n        <Tabs.TabPane tab=\"NFTs\" key=\"nft\">\n          <NftTreasury daoAddress={daoAddress} />\n        </Tabs.TabPane>\n      </Tabs>\n    </Card>\n  )\n}\n\nexport default DaoOwnerAssets\n","import { Col, Row } from 'antd'\nimport DaoInfo from './daoInfo'\nimport JoinDao from './joinDao'\nimport DaoOwnerAssets from './daoOwnerAssets'\n\nimport './index.less'\n\nexport type DaoDetailsProps = { daoAddress: string }\n\nconst DaoDetails = ({ daoAddress }: DaoDetailsProps) => {\n  return (\n    <Row gutter={[24, 24]}>\n      <Col xs={24} md={16}>\n        <DaoInfo daoAddress={daoAddress} />\n      </Col>\n      <Col xs={24} md={8}>\n        <DaoOwnerAssets daoAddress={daoAddress} />\n      </Col>\n      <JoinDao daoAddress={daoAddress} />\n    </Row>\n  )\n}\n\nexport default DaoDetails\n","import { useHistory, useParams } from 'react-router-dom'\n\nimport { Button, Col, Row } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ProposalList from './proposalList'\nimport DaoDetails from '../dao/daoDetails'\n\nimport configs from 'app/configs'\nimport './index.less'\nimport { useEffect } from 'react'\nimport useCheckMemberOnly from 'app/hooks/dao/useCheckMemberOnly'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst Proposal = () => {\n  const history = useHistory()\n  const { daoAddress } = useParams<{ daoAddress: string }>()\n  const { isMemberOnly, loadingDaoMetadata } = useCheckMemberOnly(daoAddress)\n  useEffect(() => {\n    if (!isMemberOnly && !loadingDaoMetadata) {\n      return history.push(`/app/${appId}/dao`)\n    }\n  }, [daoAddress, history, isMemberOnly, loadingDaoMetadata])\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\" align=\"middle\">\n      <Col xs={24} lg={18}>\n        <Row gutter={[16, 16]}>\n          <Col span={24}>\n            <Button\n              icon={<IonIcon name=\"arrow-back-outline\" />}\n              type=\"text\"\n              onClick={() => history.push(`/app/${appId}/dao`)}\n              style={{ marginLeft: -8 }}\n            >\n              Back\n            </Button>\n          </Col>\n          <Col span={24}>\n            <DaoDetails daoAddress={daoAddress} />\n          </Col>\n        </Row>\n      </Col>\n      <Col xs={24} lg={18}>\n        <ProposalList daoAddress={daoAddress} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Proposal\n","import { ConsensusMechanism, ConsensusMechanisms } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\nimport { useUI } from '@senhub/providers'\n\nimport { Button, Row, Col, Space, Typography, Popover } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nexport type ConsensusMechanismInputProps = {\n  value: ConsensusMechanism\n  onChange: (value: ConsensusMechanism) => void\n}\n\nconst ConsensusMechanismInput = ({\n  value = ConsensusMechanisms.StakedTokenCounter,\n  onChange = () => {},\n}: ConsensusMechanismInputProps) => {\n  const {\n    ui: { infix },\n  } = useUI()\n  const mobileScreen = infix === 'xs'\n  const mobileSpan = mobileScreen ? 12 : undefined\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Space>\n          <Typography.Text>Consensus Mechanism</Typography.Text>\n          <Popover\n            overlayStyle={{ maxWidth: 300 }}\n            trigger=\"click\"\n            content={\n              <Row gutter={[16, 16]}>\n                <Col span={24}>\n                  <Typography.Title level={5}>\n                    What are Consensus Mechanisms?\n                  </Typography.Title>\n                </Col>\n                <Col span={24}>\n                  <Space direction=\"vertical\">\n                    <Typography.Text>\n                      <strong>Staked (Token) Counter.</strong> The power of a\n                      vote is only counted based on the number of staked tokens.\n                    </Typography.Text>\n                    <Typography.Text>\n                      <strong>Locked (Token) Counter.</strong> The power of a\n                      vote is the product of the number of staked tokens and the\n                      lock time in seconds.\n                    </Typography.Text>\n                  </Space>\n                </Col>\n              </Row>\n            }\n          >\n            <Button\n              type=\"text\"\n              size=\"small\"\n              icon={<IonIcon name=\"information-circle-outline\" />}\n            />\n          </Popover>\n        </Space>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusMechanisms.StakedTokenCounter)\n              ? ''\n              : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusMechanisms.StakedTokenCounter)}\n          block\n        >\n          Staked Counter\n        </Button>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusMechanisms.LockedTokenCounter)\n              ? ''\n              : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusMechanisms.LockedTokenCounter)}\n          block\n        >\n          Locked Counter\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ConsensusMechanismInput\n","import { ConsensusQuorum, ConsensusQuorums } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\nimport { useUI } from '@senhub/providers'\n\nimport { Button, Row, Col, Typography } from 'antd'\n\nexport type ConsensusQuorumInputProps = {\n  value: ConsensusQuorum\n  onChange: (value: ConsensusQuorum) => void\n}\n\nconst ConsensusQuorumInput = ({\n  value = ConsensusQuorums.Half,\n  onChange = () => {},\n}: ConsensusQuorumInputProps) => {\n  const {\n    ui: { infix },\n  } = useUI()\n  const mobileScreen = infix === 'xs'\n  const mobileSpan = mobileScreen ? 8 : undefined\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <Typography.Text>Consensus Quorum</Typography.Text>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusQuorums.OneThird) ? '' : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusQuorums.OneThird)}\n          block\n        >\n          1/3\n        </Button>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusQuorums.Half) ? '' : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusQuorums.Half)}\n          block\n        >\n          1/2\n        </Button>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusQuorums.TwoThird) ? '' : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusQuorums.TwoThird)}\n          block\n        >\n          2/3\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ConsensusQuorumInput\n","import moment from 'moment'\n\nimport { Col, DatePicker, Row, Typography } from 'antd'\n\nexport type DurationInputType = {\n  value: Array<number>\n  onChange: (value: Array<number>) => void\n}\n\nconst DurationInput = ({ value, onChange }: DurationInputType) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Typography.Text>Proposal Duration</Typography.Text>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[12, 12]}>\n          <Col span={12}>\n            <DatePicker\n              placeholder=\"Start Date\"\n              value={moment(value[0])}\n              onChange={(e) => onChange([e?.valueOf() || value[0], value[1]])}\n              showTime\n              style={{ width: '100%' }}\n            />\n          </Col>\n          <Col span={12}>\n            <DatePicker\n              placeholder=\"End Date\"\n              value={moment(value[1])}\n              onChange={(e) => onChange([value[0], e?.valueOf() || value[1]])}\n              showTime\n              style={{ width: '100%' }}\n            />\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DurationInput\n","import { useSelector } from 'react-redux'\nimport { DaoData } from '@interdao/core'\nimport { SystemProgram } from '@solana/web3.js'\n\nimport { Col, Row, Space } from 'antd'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport StatisticCard from 'app/components/statisticCard'\nimport RegimeTag from 'app/components/regimeTag'\n\nimport { AppState } from 'app/model'\nimport { numeric, shortenAddress } from 'shared/util'\nimport useMembers from 'app/hooks/useMembers'\n\nexport type ProposalPreviewProps = {\n  daoAddress: string\n}\n\nconst ProposalPreview = ({ daoAddress }: ProposalPreviewProps) => {\n  const {\n    dao: { daos },\n  } = useSelector((state: AppState) => state)\n\n  const { regime, mint } =\n    daos[daoAddress] ||\n    ({\n      regime: {},\n      mint: SystemProgram.programId,\n    } as DaoData)\n  const members = useMembers(daoAddress)\n\n  return (\n    <Row gutter={[36, 16]}>\n      <Col xs={12} md={5}>\n        <StatisticCard title=\"DAO Address\" value={shortenAddress(daoAddress)} />\n      </Col>\n      <Col xs={12} md={5}>\n        <StatisticCard\n          title=\"Token\"\n          value={\n            <Space>\n              <MintAvatar mintAddress={mint.toBase58()} />\n              <MintSymbol mintAddress={mint.toBase58()} />\n            </Space>\n          }\n        />\n      </Col>\n      <Col xs={12} md={5}>\n        <StatisticCard title=\"Members\" value={numeric(members).format('0,0')} />\n      </Col>\n      <Col xs={12} md={5}>\n        <StatisticCard title=\"Regime\" value={<RegimeTag regime={regime} />} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default ProposalPreview\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n  ConsensusMechanisms,\n  ConsensusQuorums,\n  FeeOptions,\n} from '@interdao/core'\nimport BN from 'bn.js'\nimport { CID } from 'ipfs-core'\n\nimport { Button, Card, Col, Divider, Input, Row, Space, Typography } from 'antd'\nimport ConsensusMechanismInput from './consensusMechanismInput'\nimport ConsensusQuorumInput from '../../../components/consensusQuorumInput'\nimport DurationInput from './durationInput'\nimport ProposalPreview from './proposalPreview'\n\nimport configs from 'app/configs'\nimport { explorer } from 'shared/util'\nimport IPFS from 'shared/pdb/ipfs'\nimport { AppState } from 'app/model'\nimport { clearTx } from 'app/model/template.controller'\nimport useMetaData from 'app/hooks/useMetaData'\n\nconst {\n  sol: { interDao, taxman, fee },\n  manifest: { appId },\n} = configs\n\nexport type ProposalMetaData = {\n  title: string\n  description: string\n  templateName: string\n}\n\nconst CURRENT_TIME = Number(new Date())\nconst ONE_DAY = 24 * 60 * 60 * 1000\n\nconst ProposalInitialization = () => {\n  const [consensusMechanism, setConsensusMechanism] = useState(\n    ConsensusMechanisms.StakedTokenCounter,\n  )\n  const [consensusQuorum, setConsensusQuorum] = useState(ConsensusQuorums.Half)\n  const [duration, setDuration] = useState([\n    CURRENT_TIME + ONE_DAY,\n    CURRENT_TIME + 15 * ONE_DAY,\n  ])\n  const [loading, setLoading] = useState(false)\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const { daoAddress } = useParams<{ daoAddress: string }>()\n  const {\n    template: { tx, templateName },\n    dao: { daos },\n  } = useSelector((state: AppState) => state)\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const daoMetaData = useMetaData(daoAddress)\n\n  const disabled = !title || !description\n  const isMultisigDAO = daoMetaData?.daoType === 'multisig-dao'\n\n  const proposalMetaData: ProposalMetaData = useMemo(() => {\n    return {\n      title,\n      description,\n      templateName,\n    }\n  }, [description, templateName, title])\n\n  const newProposal = useCallback(async () => {\n    const { authority } = daos[daoAddress]\n    if (!tx) return\n\n    try {\n      setLoading(true)\n\n      const ipfs = new IPFS()\n      const cid = await ipfs.set(proposalMetaData)\n      const {\n        multihash: { digest },\n      } = CID.parse(cid)\n\n      const feeOption: Partial<FeeOptions> = {\n        revenue: new BN(fee),\n        revenuemanAddress: authority.toBase58(),\n        tax: new BN(fee),\n        taxmanAddress: taxman,\n      }\n\n      const { programId, data, accounts } = tx\n\n      const metadata = Buffer.from(digest)\n      const valueAccounts = Object.values(accounts)\n      const { txId, proposalAddress } = await interDao.initializeProposal(\n        daoAddress,\n        programId.toBase58(),\n        data,\n        valueAccounts.map(({ pubkey }) => pubkey),\n        valueAccounts.map(({ isSigner }) => isSigner),\n        valueAccounts.map(({ isWritable }) => isWritable),\n        valueAccounts.map(({ isMaster }) => isMaster),\n        Math.floor(duration[0] / 1000),\n        Math.floor(duration[1] / 1000),\n        metadata,\n        consensusMechanism,\n        consensusQuorum,\n        feeOption,\n      )\n      window.notify({\n        type: 'success',\n        description:\n          'Create a new proposal successfully. Click here to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n\n      //Clear tx in redux\n      dispatch(clearTx())\n\n      return history.push(\n        `/app/${appId}/dao/${daoAddress}/proposal/${proposalAddress}`,\n      )\n    } catch (er: any) {\n      return window.notify({\n        type: 'error',\n        description: er.message,\n      })\n    } finally {\n      return setLoading(false)\n    }\n  }, [\n    daos,\n    daoAddress,\n    proposalMetaData,\n    tx,\n    duration,\n    consensusMechanism,\n    consensusQuorum,\n    dispatch,\n    history,\n  ])\n\n  useEffect(() => {\n    if (!tx) return history.push(`/app/${appId}/dao/${daoAddress}`)\n  }, [daoAddress, history, tx])\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\">\n      <Col xs={24} md={14}>\n        <Card bordered={false}>\n          <Row gutter={[24, 24]}>\n            <Col span={24}>\n              <Typography.Title level={1}>\n                Input proposal information\n              </Typography.Title>\n            </Col>\n            <Col span={24} />\n            <Col span={24}>\n              <ProposalPreview daoAddress={daoAddress} />\n            </Col>\n            <Col span={24}>\n              <Divider className=\"proposal-initialize\" />\n            </Col>\n            <Col span={24}>\n              <Space direction=\"vertical\" style={{ width: '100%' }}>\n                <Typography.Text>Title</Typography.Text>\n                <Input\n                  value={title}\n                  placeholder=\"A short summary of your proposal.\"\n                  className=\"border-less\"\n                  onChange={(e) => setTitle(e.target.value)}\n                />\n              </Space>\n            </Col>\n            <Col span={24}>\n              <Space direction=\"vertical\" style={{ width: '100%' }}>\n                <Typography.Text>Description</Typography.Text>\n                <Input.TextArea\n                  placeholder=\"More detail about your proposal...\"\n                  name=\"description\"\n                  className=\"border-less\"\n                  value={description}\n                  onChange={(e) => setDescription(e.target.value)}\n                />\n              </Space>\n            </Col>\n            <Col span={24}>\n              <DurationInput value={duration} onChange={setDuration} />\n            </Col>\n            {!isMultisigDAO && (\n              <Col span={24}>\n                <ConsensusMechanismInput\n                  value={consensusMechanism}\n                  onChange={setConsensusMechanism}\n                />\n              </Col>\n            )}\n            <Col span={24}>\n              <ConsensusQuorumInput\n                value={consensusQuorum}\n                onChange={setConsensusQuorum}\n              />\n            </Col>\n            <Col span={24} />\n            <Col flex=\"auto\">\n              <Button\n                type=\"text\"\n                onClick={() => history.push(`/app/${appId}/dao/${daoAddress}`)}\n                size=\"large\"\n              >\n                Cancel\n              </Button>\n            </Col>\n            <Col>\n              <Button\n                onClick={newProposal}\n                loading={loading}\n                type=\"primary\"\n                size=\"large\"\n                disabled={disabled}\n              >\n                Add a new Proposal\n              </Button>\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ProposalInitialization\n","import { useDispatch, useSelector } from 'react-redux'\n\nimport { Card, Col, Radio, RadioChangeEvent, Row, Typography } from 'antd'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { setInitMetadata } from 'app/model/metadata.controller'\n\nconst DAO_TYPE = [\n  {\n    key: 'flexible-dao',\n    label: 'Flexible DAO',\n    description:\n      'The Flexible DAO has 3 regimes that allow you to create a DAO customized for your individual requirements, community structure, and governance token setup.',\n    state: 1,\n  },\n  {\n    key: 'multisig-dao',\n    label: 'MultiSig DAO',\n    description:\n      'The Multisig DAO allows you to create an organization for your team members with Autonomous regime and jointly own, manage shared assets such as treasury accounts, NFTs or mints.',\n    state: 0,\n  },\n]\n\nconst ChooseDaoType = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const daoType = useSelector(\n    (state: AppState) => state.metadata.initMetadata.daoType,\n  )\n\n  const cardBorder = (key: string) =>\n    daoType !== key ? { borderColor: 'transparent' } : {}\n\n  const selectDaoType = async (e: RadioChangeEvent) => {\n    const daoType = e.target.value\n    dispatch(setInitMetadata({ daoType }))\n  }\n\n  return (\n    <Row>\n      <Col span={24}>\n        <Radio.Group\n          defaultValue={daoType}\n          onChange={selectDaoType}\n          className=\"btn-radio-card\"\n        >\n          <Row gutter={[24, 24]}>\n            {DAO_TYPE.map(({ key, label, description, state }) => (\n              <Col xs={24} md={12} key={key}>\n                <Radio.Button value={key} style={{ border: 'none' }}>\n                  <Card\n                    style={{ ...cardBorder(key) }}\n                    className={`group-btn-card ${key} ${\n                      daoType === key ? 'active' : ''\n                    }`}\n                    bordered={false}\n                  >\n                    <Row gutter={[12, 12]}>\n                      <Col span={24}>\n                        <Row>\n                          <Col flex=\"auto\">\n                            <Typography.Title level={4}>\n                              {label}\n                            </Typography.Title>\n                          </Col>\n                        </Row>\n                      </Col>\n                      <Col span={24}>\n                        <Typography.Text type=\"secondary\">\n                          {description}\n                        </Typography.Text>\n                      </Col>\n                    </Row>\n                  </Card>\n                </Radio.Button>\n              </Col>\n            ))}\n          </Row>\n        </Radio.Group>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ChooseDaoType\n","import { useSelector } from 'react-redux'\nimport { useUI } from '@senhub/providers'\n\nimport { Col, Image, Row, Space, Typography } from 'antd'\nimport CardRegime from '../components/cardRegime'\n\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\n\nconst MAX_WIDTH_RATIO = 24 / 16\nconst PAGE_SPACING = 24\nconst HEIGHT_RATIO = 1.777777\n\nconst ReviewAndCreate = () => {\n  const {\n    dao: { initDao },\n    metadata: { initMetadata },\n  } = useSelector((state: AppState) => state)\n  const {\n    ui: { width },\n  } = useUI()\n\n  const { regime, mintAddress, supply } = initDao\n  const { daoName, description, image } = initMetadata\n  const isMobile = width < 768\n  const desktopWidth = width > 992 ? width / MAX_WIDTH_RATIO : width\n  const logoSize = isMobile\n    ? '100%'\n    : (desktopWidth - 6 - PAGE_SPACING * 4) / HEIGHT_RATIO / 2 + 3\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col xs={24} md={12}>\n        <Space direction=\"vertical\" size={24} style={{ width: '100%' }}>\n          <Space direction=\"vertical\">\n            <Typography.Text type=\"secondary\">Name of DAO</Typography.Text>\n            <Typography.Title level={1}>{daoName}</Typography.Title>\n          </Space>\n          <Space direction=\"vertical\" style={{ width: '100%' }}>\n            <Typography.Text>DAO Regime</Typography.Text>\n            <CardRegime regime={regime} />\n          </Space>\n        </Space>\n      </Col>\n      <Col xs={24} md={12}>\n        <Space direction=\"vertical\" size={24}>\n          <Space direction=\"vertical\">\n            <Typography.Text type=\"secondary\">Token to vote</Typography.Text>\n            <Space>\n              <MintAvatar mintAddress={mintAddress} size={48} />\n              <Typography.Title level={1}>\n                <MintSymbol mintAddress={mintAddress} />\n              </Typography.Title>\n            </Space>\n          </Space>\n          <Space direction=\"vertical\" className=\"dao-logo-img\">\n            <Typography.Text>DAO Logo</Typography.Text>\n            <Image\n              style={{ width: logoSize, height: logoSize }}\n              src={image?.toString()}\n              preview={false}\n            />\n          </Space>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\">\n          <Typography.Text type=\"secondary\">Total power</Typography.Text>\n          <Space direction=\"horizontal\">\n            <Typography.Title level={1}>\n              {numeric(supply?.toNumber()).format('0,0.[00]')}\n            </Typography.Title>\n            <Typography.Title level={1}>\n              <MintSymbol mintAddress={mintAddress} />\n            </Typography.Title>\n          </Space>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\">\n          <Typography.Text type=\"secondary\">Description</Typography.Text>\n          <Typography.Text>{description}</Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ReviewAndCreate\n","import { useSelector } from 'react-redux'\n\nimport { Col, Image, Row, Space, Typography } from 'antd'\nimport RowSpaceVertical from 'app/components/rowSpaceVertical'\nimport CardRegime from '../components/cardRegime'\n\nimport { AppState } from 'app/model'\nimport { useUI } from '@senhub/providers'\n\nconst PAGE_SPACING = 24\nconst HEIGHT_RATIO = 1.777777\nconst MAX_WIDTH_RATIO = 24 / 16\n\nconst ReviewAndCreate = () => {\n  const {\n    dao: { initDao },\n    metadata: { initMetadata },\n  } = useSelector((state: AppState) => state)\n  const { regime, isPublic } = initDao\n  const { image, description, daoName, members } = initMetadata\n\n  const {\n    ui: { width },\n  } = useUI()\n\n  const isMobile = width < 768\n  const desktopWidth = width > 992 ? width / MAX_WIDTH_RATIO : width\n  const logoSize = isMobile\n    ? '100%'\n    : (desktopWidth - 6 - PAGE_SPACING * 4) / HEIGHT_RATIO / 2 + 3\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Row justify=\"space-between\">\n          <Col>\n            <RowSpaceVertical\n              label=\"Name of DAO\"\n              value={<Typography.Title level={1}>{daoName}</Typography.Title>}\n            />\n          </Col>\n          <Col>\n            <RowSpaceVertical\n              label=\"DAO privacy\"\n              value={\n                <Typography.Title level={1}>\n                  {isPublic ? 'Public' : 'Member'}\n                </Typography.Title>\n              }\n            />\n          </Col>\n        </Row>\n      </Col>\n      <Col xs={24} md={12}>\n        <RowSpaceVertical\n          label=\"DAO Regime\"\n          value={<CardRegime regime={regime} />}\n        />\n      </Col>\n      <Col xs={24} md={12}>\n        <RowSpaceVertical\n          label=\"DAO Regime\"\n          value={\n            <Image\n              style={{ width: logoSize, height: logoSize }}\n              src={image?.toString()}\n              preview={false}\n            />\n          }\n        />\n      </Col>\n      <Col span={24}>\n        <Row gutter={[8, 8]}>\n          <Col span={24}>\n            <Typography.Text type=\"secondary\">\n              {members.length} members\n            </Typography.Text>\n          </Col>\n          {members.map(({ walletAddress, name }) => (\n            <Col span={24} key={walletAddress}>\n              <Space>\n                <Typography.Title level={4}>{name}</Typography.Title>\n                <Typography.Title level={4} type=\"secondary\">\n                  {walletAddress}\n                </Typography.Title>\n              </Space>\n            </Col>\n          ))}\n        </Row>\n      </Col>\n      <Col span={24}>\n        <RowSpaceVertical\n          label=\"Description\"\n          value={\n            <Typography.Paragraph style={{ margin: 0 }}>\n              {description}\n            </Typography.Paragraph>\n          }\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default ReviewAndCreate\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\nimport BN from 'bn.js'\n\n/**\n * Get token's total supply. This hook needs MintProvider for working.\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * @param mintAddress Mint address\n * @returns Decimals\n */\nconst useMintSupply = (mintAddress: string) => {\n  const [supply, setSupply] = useState<BN | undefined>(undefined)\n  const { getMint } = useMint()\n\n  const fetchSupply = useCallback(async () => {\n    try {\n      const {\n        [mintAddress]: { supply },\n      } = await getMint({ address: mintAddress })\n      return setSupply(new BN(supply.toString()))\n    } catch (er: any) {\n      return setSupply(undefined)\n    }\n  }, [mintAddress, getMint])\n\n  useEffect(() => {\n    fetchSupply()\n  }, [fetchSupply])\n\n  return supply\n}\n\nexport default useMintSupply\n","import BN from 'bn.js'\n\nimport { Button, Col, Row, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport NumericInput from 'shared/antd/numericInput'\n\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport useMintSupply from 'shared/hooks/useMintSupply'\nimport { numeric } from 'shared/util'\n\nexport type CirculatingSupplyInputProps = {\n  mintAddress?: string\n  value: string\n  onChange: (value: string) => void\n}\n\nconst CirculatingSupplyInput = ({\n  mintAddress = '',\n  value,\n  onChange,\n}: CirculatingSupplyInputProps) => {\n  const decimals = useMintDecimals(mintAddress) || 0\n  const supply = useMintSupply(mintAddress)\n  const suggestion = String(supply?.div(new BN(10 ** decimals)) || new BN(0))\n\n  return (\n    <Row gutter={[8, 8]} justify=\"end\">\n      <Col span={24}>\n        <Typography.Text>Total DAO Power</Typography.Text>\n      </Col>\n      <Col span={24}>\n        <NumericInput\n          value={value}\n          onValue={onChange}\n          className=\"border-less\"\n          size=\"large\"\n          placeholder=\"Input Total DAO Power\"\n          suffix={\n            <Button\n              type=\"text\"\n              onClick={() => onChange(suggestion)}\n              icon={<IonIcon name=\"copy-outline\" />}\n              style={{ marginRight: -7 }}\n            >\n              By Suggestion\n            </Button>\n          }\n        />\n      </Col>\n      <Col>\n        <Space>\n          <Typography.Text type=\"secondary\">\n            Suggestion Token Supply:\n          </Typography.Text>\n          <Typography.Text>{numeric(suggestion).format('0,0')}</Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default CirculatingSupplyInput\n","import { account } from '@senswap/sen-js'\n\nimport { Button, Col, Row, Space, Spin, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport NumericInput from 'shared/antd/numericInput'\nimport { LoadingOutlined } from '@ant-design/icons'\n\nimport { numeric } from 'shared/util'\nimport { getListAccountNFTsBelongToCollection } from 'app/helpers/metaplex'\nimport { useCallback, useEffect, useState } from 'react'\n\nexport type CirculatingSupplyInputProps = {\n  mintAddress?: string\n  value: string\n  onChange: (value: string) => void\n}\n\nconst CirculatingSupplyInputNFT = ({\n  mintAddress = '',\n  value,\n  onChange,\n}: CirculatingSupplyInputProps) => {\n  const [suggestion, setSuggestion] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const getNftSuggestion = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setSuggestion('')\n    setLoading(true)\n    try {\n      let accounts = await getListAccountNFTsBelongToCollection(mintAddress)\n      setSuggestion(accounts.length.toString())\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }, [mintAddress])\n\n  useEffect(() => {\n    getNftSuggestion()\n  }, [getNftSuggestion])\n\n  return (\n    <Row gutter={[8, 8]} justify=\"end\">\n      <Col span={24}>\n        <Typography.Text>Total DAO Power</Typography.Text>\n      </Col>\n      <Col span={24}>\n        <NumericInput\n          value={value}\n          onValue={onChange}\n          className=\"border-less\"\n          size=\"large\"\n          placeholder=\"Input Total DAO Power\"\n          suffix={\n            <Button\n              type=\"text\"\n              onClick={() => onChange(suggestion)}\n              icon={<IonIcon name=\"copy-outline\" />}\n              style={{ marginRight: -7 }}\n            >\n              By Suggestion\n            </Button>\n          }\n        />\n      </Col>\n      <Col>\n        <Space>\n          <Typography.Text type=\"secondary\">\n            Suggestion NFT collection supply:\n          </Typography.Text>\n          {loading ? (\n            <Spin\n              spinning={loading}\n              indicator={<LoadingOutlined style={{ fontSize: 24 }} />}\n            />\n          ) : (\n            <Typography.Text>\n              {numeric(suggestion).format('0,0')}\n            </Typography.Text>\n          )}\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default CirculatingSupplyInputNFT\n","import { useDispatch, useSelector } from 'react-redux'\nimport BN from 'bn.js'\n\nimport CirculatingSupplyInput from './circulatingSupplyInput'\nimport CirculatingSupplyInputNFT from './circulatingSupplyInputNFT'\n\nimport { setInitDao } from 'app/model/dao.controller'\nimport { AppDispatch, AppState } from 'app/model'\n\nconst CirculatingSupply = () => {\n  const initDao = useSelector((state: AppState) => state.dao.initDao)\n  const dispatch = useDispatch<AppDispatch>()\n\n  const { isNft, supply, mintAddress } = initDao\n\n  return !isNft ? (\n    <CirculatingSupplyInput\n      mintAddress={mintAddress}\n      value={supply?.toString()}\n      onChange={(supply) =>\n        dispatch(setInitDao({ ...initDao, supply: new BN(supply) }))\n      }\n    />\n  ) : (\n    <CirculatingSupplyInputNFT\n      mintAddress={mintAddress}\n      value={supply?.toString()}\n      onChange={(supply) =>\n        dispatch(setInitDao({ ...initDao, supply: new BN(supply) }))\n      }\n    />\n  )\n}\n\nexport default CirculatingSupply\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useUI } from '@senhub/providers'\nimport axios from 'axios'\n\nimport { Card, Row, Col, Typography, Image } from 'antd'\n\nimport useNftMetaData from 'app/hooks/useNftMetaData'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport IMAGE_DEFAULT from 'app/static/images/system/avatar.png'\n\nexport type CardNFTProps = {\n  mintAddress: string\n  onSelect: (mintAddress: string) => void\n  isSelected?: boolean\n}\n\nconst SIZE_DESKTOP = 198\nconst SIZE_MOBILE = 150\n\nconst CardNFT = ({ mintAddress, onSelect, isSelected }: CardNFTProps) => {\n  const [nftImg, setNftImg] = useState('')\n  const [loading, setLoading] = useState(false)\n  const {\n    ui: { width },\n  } = useUI()\n\n  const imageSize = useMemo(() => {\n    if (width < 768) return SIZE_MOBILE\n    return SIZE_DESKTOP\n  }, [width])\n\n  const metadata = useNftMetaData(mintAddress)\n  const metadataData = metadata?.data.data\n\n  const getNftInfoFromURI = useCallback(async () => {\n    if (!metadata) return setNftImg(IMAGE_DEFAULT)\n    try {\n      setLoading(true)\n      const url = metadata.data.data.uri\n      if (!url) return setNftImg(IMAGE_DEFAULT)\n\n      const response = await axios.get(url)\n      const img = response.data.image\n      return setNftImg(img)\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }, [metadata])\n\n  useEffect(() => {\n    getNftInfoFromURI()\n  }, [getNftInfoFromURI])\n\n  return (\n    <Card\n      bordered={false}\n      style={{ cursor: 'pointer', textAlign: 'center' }}\n      bodyStyle={{ padding: 0 }}\n      loading={loading}\n      onClick={() => onSelect(mintAddress)}\n    >\n      <Row>\n        {isSelected && (\n          <IonIcon\n            name=\"checkbox\"\n            style={{\n              position: 'absolute',\n              top: -1,\n              right: -1,\n              fontSize: 20,\n              zIndex: 1,\n            }}\n          />\n        )}\n        <Col span={24} style={{ textAlign: 'center', width: imageSize }}>\n          <Image\n            src={nftImg}\n            preview={false}\n            style={{ borderRadius: 4 }}\n            width={imageSize}\n            height={imageSize}\n          />\n        </Col>\n        <Col span={24} style={{ textAlign: 'center', paddingTop: '8px' }}>\n          <Typography.Text>{metadataData?.name}</Typography.Text>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default CardNFT\n","import IonIcon from '@sentre/antd-ionicon'\nimport { Button, Input, Spin } from 'antd'\nimport { LoadingOutlined } from '@ant-design/icons'\n\ntype SearchDaoProps = {\n  onSearch: (keyword: string) => void\n  loading?: boolean\n  searchText: string\n}\n\nconst SearchNftCollection = ({ onSearch, loading = false }: SearchDaoProps) => {\n  return (\n    <Input\n      prefix={\n        <Button\n          type=\"text\"\n          size=\"small\"\n          icon={\n            loading ? (\n              <Spin indicator={<LoadingOutlined style={{ fontSize: 14 }} />} />\n            ) : (\n              <IonIcon name=\"search-outline\" />\n            )\n          }\n        />\n      }\n      placeholder=\"Search by collection address\"\n      style={{ width: '100%' }}\n      onChange={(e) => onSearch(e.target.value)}\n    />\n  )\n}\nexport default SearchNftCollection\n","import { Fragment, useCallback, useEffect, useState } from 'react'\nimport { useWallet } from '@senhub/providers'\nimport LazyLoad from '@sentre/react-lazyload'\nimport { account } from '@senswap/sen-js'\n\nimport { Card, Col, Empty, Modal, Row, Space, Typography } from 'antd'\n\nimport CardNFT from 'app/components/cardNFT'\nimport SearchNftCollection from './searchNftCollection'\n\nimport {\n  fetchListNTFs,\n  getNftMetaData,\n  MetadataDataType,\n} from 'app/helpers/metaplex'\n\nimport BG_BTN from 'app/static/images/system/select-dao.png'\n\ntype ModalNftCollectionProps = {\n  visible: boolean\n  setVisible: (visible: boolean) => void\n  onSelect: (mintAddress: string) => void\n}\n\nconst ModalNftCollection = ({\n  visible,\n  setVisible,\n  onSelect,\n}: ModalNftCollectionProps) => {\n  const [listCollectionNFTs, setListCollectionNFTs] =\n    useState<Record<string, MetadataDataType[]>>()\n  const [searchText, setSearchText] = useState<string>('')\n  const [loading, setLoading] = useState(false)\n\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const getNftCollectionInfo = useCallback(async () => {\n    let collectionNFTs: Record<string, MetadataDataType[]> = {}\n    if (!account.isAddress(searchText)) return collectionNFTs\n    let collectionInfo = await getNftMetaData(searchText)\n    if (collectionInfo.data) {\n      collectionNFTs[collectionInfo.data.mint] = [collectionInfo.data]\n    } else {\n      collectionNFTs = {}\n    }\n    return collectionNFTs\n  }, [searchText])\n\n  const onSelectNFT = (mintAddress: string) => {\n    onSelect(mintAddress)\n    onCloseModal()\n  }\n\n  const onCloseModal = () => {\n    setSearchText('')\n    setVisible(false)\n  }\n\n  const getCollectionNFTs = useCallback(async () => {\n    setLoading(true)\n    let collectionNFTs: Record<string, MetadataDataType[]> = {}\n    try {\n      if (searchText.length > 0) {\n        collectionNFTs = await getNftCollectionInfo()\n      } else {\n        collectionNFTs = await fetchListNTFs(walletAddress)\n      }\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n    return setListCollectionNFTs(collectionNFTs)\n  }, [getNftCollectionInfo, searchText, walletAddress])\n\n  useEffect(() => {\n    getCollectionNFTs()\n  }, [getCollectionNFTs])\n\n  return (\n    <Fragment>\n      <Card\n        className=\"btn-select-nft\"\n        style={{\n          background: `url(${BG_BTN})`,\n        }}\n        bodyStyle={{ padding: 10 }}\n        onClick={() => setVisible(true)}\n      >\n        <Space direction=\"vertical\" style={{ width: '100%' }} align=\"center\">\n          <Typography.Text style={{ color: '#f9deb0' }}>Select</Typography.Text>\n          <Typography.Text style={{ color: '#f9deb0' }}> a NFT</Typography.Text>\n          <Typography.Text style={{ color: '#f9deb0' }}>\n            collection\n          </Typography.Text>\n        </Space>\n      </Card>\n\n      <Modal\n        className=\"modal-nft-selection\"\n        visible={visible}\n        footer={false}\n        onCancel={onCloseModal}\n        destroyOnClose={true}\n      >\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <Typography.Title level={4}>\n              Select a NFT collection\n            </Typography.Title>\n          </Col>\n          <Col span={24}>\n            <SearchNftCollection\n              loading={loading}\n              searchText={searchText}\n              onSearch={(value) => setSearchText(value)}\n            />\n          </Col>\n          <Col span={24}>\n            <Row\n              gutter={[24, 24]}\n              className=\"scrollbar\"\n              style={{ height: 500 }}\n            >\n              {listCollectionNFTs &&\n              Object.keys(listCollectionNFTs).length > 0 ? (\n                Object.keys(listCollectionNFTs).map((collectionAddress) => (\n                  <Col xs={12} md={8} key={collectionAddress}>\n                    <LazyLoad height={198}>\n                      <CardNFT\n                        mintAddress={collectionAddress}\n                        onSelect={onSelectNFT}\n                      />\n                    </LazyLoad>\n                  </Col>\n                ))\n              ) : (\n                <Col span={24}>\n                  <Empty />\n                </Col>\n              )}\n            </Row>\n          </Col>\n        </Row>\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default ModalNftCollection\n","import { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport isEqual from 'react-fast-compare'\n\nimport { Button, Col, Input, Row, Space, Typography } from 'antd'\nimport ModalNftCollection from '../../components/modalNftCollection'\n\nimport { MintSelection } from 'shared/antd/mint'\nimport { AppDispatch, AppState } from 'app/model'\nimport { setInitDao } from 'app/model/dao.controller'\n\nimport './index.less'\n\nconst TokenAddressInput = () => {\n  const [visible, setVisible] = useState(false)\n  const initDao = useSelector((state: AppState) => state.dao.initDao)\n  const dispatch = useDispatch<AppDispatch>()\n  const { isNft, mintAddress } = initDao\n\n  const onNftChange = (isNft: boolean) => {\n    return dispatch(setInitDao({ ...initDao, isNft }))\n  }\n\n  const onMintAddressChange = (mintAddress: string) => {\n    return dispatch(setInitDao({ ...initDao, mintAddress }))\n  }\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Typography.Text>Vote by</Typography.Text>\n      </Col>\n      <Col flex={1}>\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <Space>\n              <Button\n                onClick={() => onNftChange(false)}\n                className={isEqual(isNft, false) ? '' : 'btn-unselect'}\n              >\n                Token\n              </Button>\n              <Button\n                onClick={() => onNftChange(true)}\n                className={isEqual(isNft, true) ? '' : 'btn-unselect'}\n              >\n                NFT\n              </Button>\n            </Space>\n          </Col>\n          <Col span={24}>\n            <Input\n              size=\"large\"\n              placeholder={\n                !isNft\n                  ? 'Input Token Address'\n                  : 'Input NFT collection address or Select'\n              }\n              value={mintAddress}\n              className=\"border-less\"\n              onChange={(e) =>\n                dispatch(\n                  setInitDao({ ...initDao, mintAddress: e.target.value }),\n                )\n              }\n              suffix={\n                !isNft && (\n                  <MintSelection\n                    value={mintAddress}\n                    onChange={onMintAddressChange}\n                    style={{ marginRight: -7 }}\n                  />\n                )\n              }\n              autoFocus={true}\n            />\n          </Col>\n        </Row>\n      </Col>\n      {isNft && (\n        <Col>\n          <ModalNftCollection\n            visible={visible}\n            setVisible={setVisible}\n            onSelect={onMintAddressChange}\n          />\n        </Col>\n      )}\n    </Row>\n  )\n}\n\nexport default TokenAddressInput\n","import { useDispatch, useSelector } from 'react-redux'\nimport isEqual from 'react-fast-compare'\nimport { useUI } from '@senhub/providers'\n\nimport { Button, Col, Row, Typography } from 'antd'\nimport { AppDispatch, AppState } from 'app/model'\nimport { setInitDao } from 'app/model/dao.controller'\n\nconst Privacy = () => {\n  const initDao = useSelector((state: AppState) => state.dao.initDao)\n  const { isPublic } = initDao\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    ui: { infix },\n  } = useUI()\n  const mobileScreen = infix === 'xs'\n  const mobileSpan = mobileScreen ? 8 : undefined\n\n  const handleClick = (isPublic: boolean) => {\n    return dispatch(setInitDao({ ...initDao, isPublic }))\n  }\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <Typography.Text>DAO privacy</Typography.Text>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          onClick={() => handleClick(false)}\n          className={isEqual(isPublic, false) ? '' : 'btn-unselect'}\n          block\n        >\n          Member Only\n        </Button>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          onClick={() => handleClick(true)}\n          className={isEqual(isPublic, true) ? '' : 'btn-unselect'}\n          block\n        >\n          Public\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Privacy\n","import { Col, Row } from 'antd'\nimport RegimeInput from './regimeInput'\nimport CirculatingSupply from '../circulatingSupply'\nimport TokenAddressInput from './tokenAddressInput'\nimport Privacy from '../../components/privacy'\n\nimport './index.less'\n\nconst DaoRule = () => {\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <RegimeInput />\n      </Col>\n      <Col span={24}>\n        <TokenAddressInput />\n      </Col>\n      <Col span={24}>\n        <CirculatingSupply />\n      </Col>\n      <Col span={24}>\n        <Privacy />\n      </Col>\n    </Row>\n  )\n}\n\nexport default DaoRule\n","import { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { DaoRegimes } from '@interdao/core'\n\nimport { Col, Row, Typography } from 'antd'\nimport CardRegime from '../../components/cardRegime'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { setInitDao } from 'app/model/dao.controller'\n\nconst Regime = () => {\n  const {\n    dao: { initDao },\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch<AppDispatch>()\n  const { regime } = initDao\n\n  useEffect(() => {\n    if (regime === DaoRegimes.Autonomous) return\n    dispatch(setInitDao({ ...initDao, regime: DaoRegimes.Autonomous }))\n  }, [initDao, dispatch, regime])\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Typography.Text>DAO Regime</Typography.Text>\n      </Col>\n      <Col xs={24} md={8}>\n        <CardRegime\n          value={DaoRegimes.Autonomous}\n          regime={DaoRegimes.Autonomous}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Regime\n","import { ChangeEvent } from 'react'\n\nimport { Button, Col, Input, Row } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { DAOMember } from 'app/model/metadata.controller'\n\ntype MemberInputProps = {\n  onChange: (e: ChangeEvent<HTMLInputElement>) => void\n  disabledBtn?: boolean\n  disabledWalletInput?: boolean\n  disabledName?: boolean\n  remove?: () => void\n} & DAOMember\n\nconst MemberInput = ({\n  name = '',\n  walletAddress = '',\n  onChange,\n  disabledBtn = false,\n  disabledWalletInput = false,\n  disabledName = false,\n  remove = () => {},\n}: MemberInputProps) => {\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={4}>\n        <Input\n          className=\"border-less\"\n          onChange={onChange}\n          value={name}\n          placeholder=\"Name\"\n          name=\"name\"\n          disabled={disabledName}\n        />\n      </Col>\n      <Col span={18}>\n        <Input\n          className=\"border-less\"\n          value={walletAddress}\n          placeholder=\"Input wallet address\"\n          disabled={disabledWalletInput}\n          name=\"walletAddress\"\n          onChange={onChange}\n        />\n      </Col>\n      <Col span={2}>\n        <Button\n          disabled={disabledBtn}\n          type=\"text\"\n          icon={<IonIcon name=\"trash-outline\" />}\n          onClick={remove}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default MemberInput\n","import { ChangeEvent, useCallback, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useWallet } from '@senhub/providers'\nimport isEqual from 'react-fast-compare'\n\nimport { Button, Col, Row, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport MemberInput from './memberInput'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { setInitMetadata } from 'app/model/metadata.controller'\n\nconst MY_INDEX = 0\nconst DAOMembers = () => {\n  const {\n    wallet: { address: myAddress },\n  } = useWallet()\n  const {\n    metadata: { initMetadata },\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch<AppDispatch>()\n  const { members } = initMetadata\n\n  const setDefaultValue = useCallback(() => {\n    if (members.length) return\n    const DEFAULT_MEMBER = [{ name: '', walletAddress: myAddress }]\n    return dispatch(setInitMetadata({ members: DEFAULT_MEMBER }))\n  }, [dispatch, members.length, myAddress])\n\n  const addMember = () => {\n    const nextMembers = [...members]\n    nextMembers.push({ name: '', walletAddress: '' })\n    return dispatch(setInitMetadata({ members: nextMembers }))\n  }\n\n  const onChangeMember = (e: ChangeEvent<HTMLInputElement>, index: number) => {\n    const nextMembers = [...members]\n    for (const { walletAddress } of members) {\n      if (isEqual(walletAddress, e.target.value))\n        return window.notify({\n          type: 'warning',\n          description: 'This wallet address already exists',\n        })\n    }\n    nextMembers[index] = {\n      ...nextMembers[index],\n      [e.target.name]: e.target.value,\n    }\n    return dispatch(setInitMetadata({ members: nextMembers }))\n  }\n\n  const onChangeMyName = (e: ChangeEvent<HTMLInputElement>) => {\n    const nextMembers = [...members]\n    nextMembers[MY_INDEX] = { ...nextMembers[MY_INDEX], name: e.target.value }\n    return dispatch(setInitMetadata({ members: nextMembers }))\n  }\n\n  const remove = (index: number) => {\n    const nextMembers = [...members]\n    nextMembers.splice(index, 1)\n    return dispatch(setInitMetadata({ members: nextMembers }))\n  }\n\n  useEffect(() => {\n    setDefaultValue()\n  }, [setDefaultValue])\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Typography.Title level={4}>\n          People who'll be part of your team.\n        </Typography.Title>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[12, 12]}>\n          <Col span={24} key={myAddress}>\n            {members.length && (\n              <MemberInput\n                name={members[MY_INDEX].name}\n                walletAddress={myAddress}\n                onChange={onChangeMyName}\n                disabledBtn={true}\n                disabledWalletInput={true}\n              />\n            )}\n          </Col>\n          {members.length &&\n            members.map(({ name, walletAddress }, idx) => {\n              if (walletAddress === myAddress) return null\n              return (\n                <Col span={24} key={idx}>\n                  <MemberInput\n                    name={name}\n                    walletAddress={walletAddress}\n                    onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                      onChangeMember(e, idx)\n                    }\n                    remove={() => remove(idx)}\n                  />\n                </Col>\n              )\n            })}\n          <Col span={4}>\n            <Button\n              block\n              type=\"dashed\"\n              icon={<IonIcon name=\"add-outline\" />}\n              onClick={addMember}\n            >\n              Add\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DAOMembers\n","import { Col, Row } from 'antd'\nimport Regime from './regime'\nimport DAOMembers from './daoMembers'\nimport Privacy from '../../components/privacy'\n\nconst MultiSigDAORule = () => {\n  return (\n    <Row gutter={[32, 32]}>\n      <Col span={24}>\n        <Regime />\n      </Col>\n      <Col span={24}>\n        <Privacy />\n      </Col>\n      <Col span={24}>\n        <DAOMembers />\n      </Col>\n    </Row>\n  )\n}\n\nexport default MultiSigDAORule\n","import { ChangeEvent } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport {\n  Button,\n  Card,\n  Col,\n  Image,\n  Input,\n  Row,\n  Space,\n  Typography,\n  Upload,\n} from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { UploadChangeParam } from 'antd/lib/upload'\nimport { fileToBase64 } from 'app/helpers'\nimport { MetaData, setInitMetadata } from 'app/model/metadata.controller'\nimport { AppDispatch, AppState } from 'app/model'\n\nconst DaoInformation = () => {\n  const initMetadata = useSelector(\n    (state: AppState) => state.metadata.initMetadata,\n  )\n  const dispatch = useDispatch<AppDispatch>()\n\n  const formatMetaData = async (imgBase64: string | ArrayBuffer | null) => {\n    const nextMetaData: MetaData = {\n      ...initMetadata,\n      image: imgBase64,\n    }\n    return dispatch(setInitMetadata(nextMetaData))\n  }\n\n  const onFileChange = (file: UploadChangeParam) => {\n    const { fileList } = file\n    const originFile = fileList[0].originFileObj as File\n    fileToBase64(originFile, formatMetaData)\n  }\n\n  const onChange = (e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) =>\n    dispatch(setInitMetadata({ [e.target.name]: e.target.value }))\n\n  const onOptionalChange = (e: ChangeEvent<HTMLInputElement>, idx: number) => {\n    const socials: string[] = [...initMetadata.optionals]\n    socials[idx] = e.target.value\n    dispatch(setInitMetadata({ optionals: socials }))\n  }\n\n  const addLink = () => {\n    const socials: string[] = [...initMetadata.optionals]\n    socials.push('')\n    return dispatch(setInitMetadata({ optionals: socials }))\n  }\n\n  const remove = (index: number) => {\n    const socials: string[] = [...initMetadata.optionals]\n    socials.splice(index, 1)\n    return dispatch(setInitMetadata({ optionals: socials }))\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n          <Typography.Text>DAO name</Typography.Text>\n          <Input\n            placeholder=\"Input DAO name\"\n            onChange={onChange}\n            name=\"daoName\"\n            className=\"border-less\"\n          />\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n          <Typography.Text>DAO description</Typography.Text>\n          <Input.TextArea\n            placeholder=\"Input DAO description\"\n            name=\"description\"\n            onChange={onChange}\n            className=\"border-less\"\n          />\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\">\n          <Typography.Text>Avatar</Typography.Text>\n          {initMetadata.image ? (\n            <Card\n              className=\"img-card-preview-upload\"\n              bodyStyle={{ padding: 0, position: 'relative', height: '100%' }}\n            >\n              <Image\n                src={initMetadata.image?.toString() || ''}\n                preview={false}\n              />\n              <IonIcon\n                className=\"ico-action-upload\"\n                name=\"trash-outline\"\n                onClick={() => dispatch(setInitMetadata({ image: '' }))}\n              />\n            </Card>\n          ) : (\n            <Upload\n              className={`interdao-upload-metadata ${\n                !!initMetadata.image ? 'uploaded' : ''\n              }`}\n              accept=\"image/png,image/jpg,image/webp\"\n              name=\"avatar\"\n              listType=\"picture-card\"\n              maxCount={1}\n              onChange={onFileChange}\n              onRemove={() => {\n                dispatch(setInitMetadata({ image: '' }))\n                return true\n              }}\n            >\n              <Space direction=\"vertical\" size={0}>\n                <Typography.Text style={{ fontSize: 24 }}>\n                  <IonIcon name=\"cloud-upload-outline\" />\n                </Typography.Text>\n                <Typography.Text type=\"secondary\" style={{ fontSize: 10 }}>\n                  Support JPG, PNG\n                </Typography.Text>\n              </Space>\n            </Upload>\n          )}\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n          <Typography.Text>Social media (Optional)</Typography.Text>\n          <Row gutter={[8, 8]}>\n            {initMetadata.optionals.map((social, index) => (\n              <Col span={24} key={index}>\n                <Row gutter={[12, 12]}>\n                  <Col span={22}>\n                    <Input\n                      placeholder=\"Input link\"\n                      onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                        onOptionalChange(e, index)\n                      }\n                      className=\"border-less\"\n                    />\n                  </Col>\n                  <Col span={2}>\n                    <Button\n                      type=\"text\"\n                      icon={<IonIcon name=\"trash-outline\" />}\n                      onClick={() => remove(index)}\n                    />\n                  </Col>\n                </Row>\n              </Col>\n            ))}\n            <Col span={24}>\n              <Button\n                type=\"dashed\"\n                icon={<IonIcon name=\"add-outline\" />}\n                onClick={addLink}\n              >\n                Add\n              </Button>\n            </Col>\n          </Row>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DaoInformation\n","import { AppState } from 'app/model'\nimport { useSelector } from 'react-redux'\n\nimport ChooseDaoType from './chooseDaoType'\nimport ReviewAndCreateFlexibleDAO from './flexibleDAO/reviewAndCreate'\nimport ReviewAndCreateMultisigDAO from './multisigDAO/reviewAndCreate'\nimport FlexibleDAORule from './flexibleDAO/daoRule'\nimport MultiSigDAORule from './multisigDAO/daoRule'\nimport DaoInformation from './daoInfomation'\n\nexport enum CreateDaoSteps {\n  stepOne = 1,\n  stepTwo = 2,\n  stepThree = 3,\n}\n\nconst InitDAOContainer = ({ step }: { step: number }) => {\n  const daoType = useSelector(\n    (state: AppState) => state.metadata.initMetadata.daoType,\n  )\n  if (step === CreateDaoSteps.stepOne) return <DaoInformation />\n\n  if (step === CreateDaoSteps.stepTwo && daoType === 'flexible-dao')\n    return <FlexibleDAORule />\n  if (step === CreateDaoSteps.stepTwo && daoType === 'multisig-dao')\n    return <MultiSigDAORule />\n\n  if (step === CreateDaoSteps.stepThree && daoType === 'flexible-dao')\n    return <ReviewAndCreateFlexibleDAO />\n  if (step === CreateDaoSteps.stepThree && daoType === 'multisig-dao')\n    return <ReviewAndCreateMultisigDAO />\n\n  return <ChooseDaoType />\n}\n\nexport default InitDAOContainer\n","import { Progress, Space, Typography } from 'antd'\n\nexport type InitDAOHeaderProps = {\n  step: number\n  onHandleStep?: () => void\n  disabled?: boolean\n}\n\nconst DEFAULT_PERCENT = 25\nconst DAO_PROGRESS_TITLE = [\n  'Choose type of DAO',\n  'Input DAO infomation',\n  'Set the rule',\n  'Review',\n]\n\nconst InitDAOHeader = ({ step }: InitDAOHeaderProps) => {\n  return (\n    <Space direction=\"vertical\" size={12}>\n      <Typography.Title level={1}>{DAO_PROGRESS_TITLE[step]}</Typography.Title>\n      <Progress\n        className=\"create-progress\"\n        percent={step * DEFAULT_PERCENT + DEFAULT_PERCENT}\n        steps={4}\n        showInfo={false}\n      />\n    </Space>\n  )\n}\n\nexport default InitDAOHeader\n","import { useHistory } from 'react-router-dom'\n\nimport { Button } from 'antd'\nimport { InitDAOHeaderProps } from '../initDAOHeader'\n\nimport configs from 'app/configs'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst BackAction = ({ step, onHandleStep = () => {} }: InitDAOHeaderProps) => {\n  const history = useHistory()\n\n  if (step > 0)\n    return (\n      <Button type=\"ghost\" onClick={onHandleStep} size=\"large\">\n        Back\n      </Button>\n    )\n  return (\n    <Button\n      type=\"text\"\n      onClick={() => history.push(`/app/${appId}/dao`)}\n      size=\"large\"\n    >\n      Cancel\n    </Button>\n  )\n}\n\nexport default BackAction\n","import { useCallback, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { CID } from 'ipfs-core'\nimport BN from 'bn.js'\n\nimport IPFS from 'shared/pdb/ipfs'\nimport { explorer } from 'shared/util'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport configs from 'app/configs'\nimport { AppState } from 'app/model'\nimport usePDB from '../usePDB'\n\nconst {\n  sol: { interDao },\n  manifest: { appId },\n} = configs\n\nconst useFlexibleDao = () => {\n  const [loading, setLoading] = useState(false)\n  const initDao = useSelector((state: AppState) => state.dao.initDao)\n  const initMetadata = useSelector(\n    (state: AppState) => state.metadata.initMetadata,\n  )\n  const { mintAddress } = initDao\n  const decimals = useMintDecimals(mintAddress) || 0\n  const pdb = usePDB()\n  const history = useHistory()\n\n  const createFlexDAO = useCallback(async () => {\n    try {\n      setLoading(true)\n      const { mintAddress, supply, regime, isPublic, isNft } = initDao\n      const ipfs = new IPFS()\n      const cid = await ipfs.set(initMetadata)\n      const {\n        multihash: { digest },\n      } = CID.parse(cid)\n      const metadata = Buffer.from(digest)\n      const totalSupply = supply.mul(new BN(10).pow(new BN(decimals)))\n\n      const { txId, daoAddress } = await interDao.initializeDao(\n        mintAddress,\n        totalSupply,\n        metadata,\n        undefined, // Optional DAO's keypair\n        regime,\n        isNft,\n        isPublic,\n      )\n      const localMetadata = { ...initMetadata, cid }\n      await pdb.setItem(daoAddress, localMetadata) // to realtime\n      window.notify({\n        type: 'success',\n        description: 'A new DAO is created. Click here to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n      return history.push(`/app/${appId}/dao/${daoAddress}`)\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }, [initDao, initMetadata, decimals, pdb, history])\n\n  return { createFlexDAO, loading }\n}\n\nexport default useFlexibleDao\n","import { DEFAULT_EMPTY_ADDRESS } from '@senswap/sen-js'\nimport { ASSOCIATED_TOKEN_PROGRAM_ID } from '@solana/spl-token'\nimport { Spl, AnchorProvider, web3, BN, utils } from '@project-serum/anchor'\nimport { PublicKey } from '@solana/web3.js'\nimport { FeeOptions, isAddress } from '@sentre/utility'\n\nimport configs from 'app/configs'\nimport SafeWallet from 'app/helpers/safeWallet'\nimport { rpc } from 'shared/runtime'\n\nconst {\n  sol: { utility },\n} = configs\n\nconst DEFAULT_DECIMALS = 9\n\nclass MultisigWallet {\n  private _mint: PublicKey\n\n  constructor(mintAddress: string) {\n    this._mint = new PublicKey(mintAddress)\n  }\n\n  initializeMint = async (\n    decimals: number,\n    token: web3.Keypair,\n    provider: AnchorProvider,\n  ) => {\n    const spl = Spl.token(provider)\n    const ix = await (spl.account as any).mint.createInstruction(token)\n    const tx = new web3.Transaction().add(ix)\n    tx.add(\n      spl.instruction.initializeMint(\n        decimals,\n        provider.wallet.publicKey,\n        provider.wallet.publicKey,\n        {\n          accounts: {\n            mint: token.publicKey,\n            rent: web3.SYSVAR_RENT_PUBKEY,\n          },\n          signers: [],\n        },\n      ),\n    )\n    return provider.sendAndConfirm(tx, [token])\n  }\n\n  getProvider = async () => {\n    const connection = new web3.Connection(rpc, 'confirmed')\n    const anchorProvider = new AnchorProvider(connection, new SafeWallet(), {\n      commitment: 'confirmed',\n      skipPreflight: true,\n    })\n    return anchorProvider\n  }\n\n  createNewToken = async () => {\n    const mint = new web3.Keypair()\n    const { wallet, splt } = window.sentre\n    const walletAddress = await wallet.getAddress()\n    await splt.initializeMint(\n      0,\n      walletAddress,\n      null,\n      mint,\n      window.sentre.wallet,\n    )\n    this._mint = mint.publicKey\n    return mint.publicKey.toBase58()\n  }\n  createNewTokenAndMintTo = async (walletAddress: string, amount: number) => {\n    const mint = new web3.Keypair()\n    const provider = await this.getProvider()\n\n    const spl = Spl.token(provider)\n    // Create Mint Instruction\n    const ix = await (spl.account as any).mint.createInstruction(mint)\n    const tx = new web3.Transaction().add(ix)\n    const dstAddress = await utils.token.associatedAddress({\n      owner: new PublicKey(walletAddress),\n      mint: mint.publicKey,\n    })\n    tx.add(\n      spl.instruction.initializeMint(\n        DEFAULT_DECIMALS,\n        provider.wallet.publicKey,\n        provider.wallet.publicKey,\n        {\n          accounts: {\n            mint: mint.publicKey,\n            rent: web3.SYSVAR_RENT_PUBKEY,\n          },\n        },\n      ),\n    )\n    // Mint to instruction\n    const mintToIx = await utility.program.methods\n      .safeMintTo(new BN(amount), new BN(0))\n      .accounts({\n        associatedTokenProgram: ASSOCIATED_TOKEN_PROGRAM_ID,\n        authority: new PublicKey(walletAddress),\n        dst: dstAddress,\n        feeCollector: new PublicKey(walletAddress),\n        mint: mint.publicKey,\n        payer: new PublicKey(walletAddress),\n        rent: web3.SYSVAR_RENT_PUBKEY,\n        systemProgram: web3.SystemProgram.programId,\n        tokenProgram: utils.token.TOKEN_PROGRAM_ID,\n      })\n      .instruction()\n    tx.add(mintToIx)\n\n    await provider.sendAndConfirm(tx, [mint])\n    this._mint = mint.publicKey\n    return mint.publicKey.toBase58()\n  }\n\n  isValidMint = (): boolean => this._mint.toBase58() !== DEFAULT_EMPTY_ADDRESS\n\n  mintToAccount = async (dstAddress: string, amount: number) => {\n    if (!this.isValidMint()) throw new Error('Please create mint first!')\n    await utility.safeMintTo({\n      amount: new BN(amount),\n      tokenAddress: this._mint.toBase58(),\n      dstWalletAddress: dstAddress,\n    })\n  }\n\n  wrapSafeMintTo = async ({\n    amount,\n    tokenAddress,\n    dstWalletAddress,\n    feeOptions,\n  }: {\n    amount: BN\n    tokenAddress: string\n    dstWalletAddress: string\n    feeOptions: FeeOptions\n  }) => {\n    const provider = await this.getProvider()\n    const { fee, feeCollectorAddress } = feeOptions\n    if (!isAddress(feeCollectorAddress))\n      throw new Error('Invalid fee collector address')\n    if (amount.isNeg()) throw new Error('Token amount must not be negative')\n    if (!isAddress(tokenAddress)) throw new Error('Invalid token address')\n    if (!isAddress(dstWalletAddress))\n      throw new Error('Invalid destination wallet address')\n\n    const tokenPublicKey = new web3.PublicKey(tokenAddress)\n    const dstWalletPublicKey = new web3.PublicKey(dstWalletAddress)\n    const dstPublicKey = await utils.token.associatedAddress({\n      mint: tokenPublicKey,\n      owner: dstWalletPublicKey,\n    })\n\n    const txId = await utility.program.instruction.safeMintTo(amount, fee, {\n      accounts: {\n        payer: provider.wallet.publicKey,\n        authority: dstWalletPublicKey,\n        dst: dstPublicKey,\n        feeCollector: new web3.PublicKey(feeCollectorAddress),\n        mint: tokenPublicKey,\n        tokenProgram: utils.token.TOKEN_PROGRAM_ID,\n        associatedTokenProgram: utils.token.ASSOCIATED_PROGRAM_ID,\n        systemProgram: web3.SystemProgram.programId,\n        rent: web3.SYSVAR_RENT_PUBKEY,\n      },\n    })\n\n    return txId\n  }\n\n  burnAccount = async (\n    authority: PublicKey,\n    mint: PublicKey,\n    source: PublicKey,\n  ) => {\n    await this.getProvider()\n    const spl = Spl.token()\n    const tokenAccount = await utils.token.associatedAddress({\n      mint: mint,\n      owner: source,\n    })\n\n    await spl.rpc.burn(new BN(1), {\n      accounts: {\n        source: tokenAccount,\n        mint,\n        authority,\n      },\n    })\n  }\n\n  getMintAddress = (): string => {\n    if (!this.isValidMint()) return ''\n    return this._mint.toBase58()\n  }\n}\nexport default MultisigWallet\n","import { useCallback, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { CID } from 'ipfs-core'\nimport BN from 'bn.js'\nimport { account, DEFAULT_EMPTY_ADDRESS } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\n\nimport IPFS from 'shared/pdb/ipfs'\nimport { explorer } from 'shared/util'\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\nimport MultisigWallet from 'app/helpers/mutisigWallet'\nimport Distributor from 'app/helpers/distributor'\nimport usePDB from '../usePDB'\n\nconst {\n  sol: { interDao },\n  manifest: { appId },\n} = configs\n\nconst useMultisigDao = () => {\n  const [loading, setLoading] = useState(false)\n  const initDao = useSelector((state: AppState) => state.dao.initDao)\n  const initMetadata = useSelector(\n    (state: AppState) => state.metadata.initMetadata,\n  )\n  const pdb = usePDB()\n  const history = useHistory()\n  const {\n    wallet: { address: myWallet },\n  } = useWallet()\n\n  const createVotingMint = useCallback(async () => {\n    const { members } = initMetadata\n    const multiSigWallet = new MultisigWallet(DEFAULT_EMPTY_ADDRESS)\n    const mintAddress = await multiSigWallet.createNewToken()\n    await multiSigWallet.mintToAccount(myWallet, members.length)\n    return mintAddress\n  }, [initMetadata, myWallet])\n\n  const getDistributorAddress = useCallback(\n    async (mintAddress: string) => {\n      const { members, daoType } = initMetadata\n      if (daoType === 'flexible-dao') return ''\n      const distributor = new Distributor()\n      const pubKeys = members\n        .filter(({ walletAddress }) => walletAddress !== myWallet)\n        .map(({ walletAddress }) => account.fromAddress(walletAddress))\n\n      const distributorAddress = await distributor.createDistributor(\n        pubKeys,\n        mintAddress,\n      )\n      return distributorAddress\n    },\n    [initMetadata, myWallet],\n  )\n\n  const createMultisigDao = useCallback(async () => {\n    try {\n      setLoading(true)\n      const { regime, isPublic, isNft } = initDao\n      const mintAddress = await createVotingMint()\n      const distributorAddress = await getDistributorAddress(mintAddress)\n      const ipfs = new IPFS()\n      const cid = await ipfs.set({ ...initMetadata, distributorAddress })\n      const {\n        multihash: { digest },\n      } = CID.parse(cid)\n      const metadata = Buffer.from(digest)\n      const { members } = initMetadata\n      const totalSupply = new BN(members.length)\n      const { txId, daoAddress } = await interDao.initializeDao(\n        mintAddress,\n        totalSupply,\n        metadata,\n        undefined, // Optional DAO's keypair\n        regime,\n        isNft,\n        isPublic,\n      )\n\n      await pdb.setItem(daoAddress, {\n        ...initMetadata,\n        distributorAddress,\n        cid,\n      }) // to realtime\n      window.notify({\n        type: 'success',\n        description: 'A new DAO is created. Click here to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n      return history.push(`/app/${appId}/dao/${daoAddress}`)\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }, [\n    initDao,\n    createVotingMint,\n    getDistributorAddress,\n    initMetadata,\n    pdb,\n    history,\n  ])\n\n  return { createMultisigDao, loading }\n}\n\nexport default useMultisigDao\n","import { Button } from 'antd'\nimport { useSelector } from 'react-redux'\n\nimport useFlexibleDao from 'app/hooks/dao/useFlexibleDao'\nimport useMultisigDao from 'app/hooks/dao/useMultisigDao'\nimport { AppState } from 'app/model'\n\nconst ButtonFlexDao = () => {\n  const { createFlexDAO, loading } = useFlexibleDao()\n\n  return (\n    <Button\n      onClick={createFlexDAO}\n      type=\"primary\"\n      size=\"large\"\n      loading={loading}\n    >\n      Confirm\n    </Button>\n  )\n}\n\nconst ButtonMultisigDao = () => {\n  const { createMultisigDao, loading } = useMultisigDao()\n\n  return (\n    <Button\n      onClick={createMultisigDao}\n      type=\"primary\"\n      size=\"large\"\n      loading={loading}\n    >\n      Confirm\n    </Button>\n  )\n}\n\nconst ConfirmButton = () => {\n  const initMetadata = useSelector(\n    (state: AppState) => state.metadata.initMetadata,\n  )\n  const { daoType } = initMetadata\n  if (daoType === 'flexible-dao') return <ButtonFlexDao />\n\n  return <ButtonMultisigDao />\n}\n\nexport default ConfirmButton\n","import { Button, Col, Row } from 'antd'\nimport { CreateDaoSteps } from '../initDAOContainer'\nimport { InitDAOHeaderProps } from '../initDAOHeader'\nimport BackAction from './backAction'\nimport ConfirmButton from './confirmButton'\n\ntype ActionButtonProps = {\n  setStep: () => void\n} & InitDAOHeaderProps\n\nconst ActionButton = ({\n  step,\n  onHandleStep,\n  disabled,\n  setStep,\n}: ActionButtonProps) => {\n  return (\n    <Row>\n      <Col flex=\"auto\">\n        <BackAction step={step} onHandleStep={setStep} />\n      </Col>\n      <Col>\n        {step === CreateDaoSteps.stepThree ? (\n          <ConfirmButton />\n        ) : (\n          <Button\n            onClick={onHandleStep}\n            type=\"primary\"\n            size=\"large\"\n            disabled={disabled}\n          >\n            Continue\n          </Button>\n        )}\n      </Col>\n    </Row>\n  )\n}\n\nexport default ActionButton\n","import { useCallback, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\n\nimport { Row, Col, Card } from 'antd'\nimport InitDAOContainer, { CreateDaoSteps } from './initDAOContainer'\nimport InitDAOHeader from './initDAOHeader'\nimport ActionButton from './actions'\n\nimport { AppState } from 'app/model'\nimport { validURL } from 'app/helpers'\n\nimport './index.less'\n\nconst DaoInitialization = () => {\n  const [step, setStep] = useState(0)\n\n  const initMetadata = useSelector(\n    (state: AppState) => state.metadata.initMetadata,\n  )\n  const initDao = useSelector((state: AppState) => state.dao.initDao)\n  const { mintAddress, supply, regime } = initDao\n\n  const onNextStep = useCallback(async () => {\n    try {\n      if (step === CreateDaoSteps.stepOne && !initMetadata)\n        throw new Error('Invalid Metadata')\n      if (step === CreateDaoSteps.stepTwo && !initDao)\n        throw new Error('Invalid DAO data')\n      return setStep(step + 1)\n    } catch (err: any) {\n      window.notify({ type: 'error', description: err.message })\n    }\n  }, [initDao, initMetadata, step])\n\n  const validLink = useMemo(() => {\n    const { optionals } = initMetadata\n    if (!optionals.length) return true\n    for (const link of optionals) if (!validURL(link)) return false\n    return true\n  }, [initMetadata])\n\n  const disabled = useMemo(() => {\n    const { daoName, image, daoType, members, description } = initMetadata\n    if (step === CreateDaoSteps.stepOne)\n      return !daoName || !image || !description || !validLink\n\n    if (step === CreateDaoSteps.stepTwo && daoType === 'flexible-dao')\n      return !mintAddress || !regime || !Number(supply)\n\n    if (\n      step === CreateDaoSteps.stepTwo &&\n      daoType === 'multisig-dao' &&\n      members\n    ) {\n      let valid = false\n      for (const member of members) {\n        const { name, walletAddress } = member\n        if (!name || !account.isAddress(walletAddress)) {\n          valid = true\n          break\n        }\n      }\n      return valid\n    }\n  }, [initMetadata, validLink, mintAddress, regime, step, supply])\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\">\n      <Col xs={24} lg={16}>\n        <Card bordered={false}>\n          <Row gutter={[24, 32]}>\n            <Col span={24}>\n              <InitDAOHeader step={step} />\n            </Col>\n            <Col span={24}>\n              <InitDAOContainer step={step} />\n            </Col>\n            <Col span={24}>\n              <ActionButton\n                step={step}\n                onHandleStep={onNextStep}\n                disabled={disabled}\n                setStep={() => setStep(step - 1)}\n              />\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DaoInitialization\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { AccountInfo, PublicKey } from '@solana/web3.js'\n\nimport configs from 'app/configs'\nimport { ReceiptData } from '@interdao/core'\n\nconst {\n  sol: { interDao },\n} = configs\n\nexport const getReceipts = async (\n  proposalAddress: string,\n): Promise<Record<string, ReceiptData>> => {\n  if (!account.isAddress(proposalAddress)) throw new Error('Invalid address')\n  const {\n    provider: { connection },\n    programId,\n    account: { receipt },\n  } = interDao.program\n  const value: Array<{ pubkey: PublicKey; account: AccountInfo<Buffer> }> =\n    await connection.getProgramAccounts(programId, {\n      filters: [\n        { dataSize: receipt.size },\n        {\n          memcmp: {\n            offset: 48,\n            bytes: proposalAddress,\n          },\n        },\n      ],\n    })\n  let bulk: Record<string, ReceiptData> = {}\n\n  value.forEach(({ pubkey, account: { data: buf } }) => {\n    const data = interDao.parseReceiptData(buf)\n    bulk[pubkey.toBase58()] = data\n  })\n  return bulk\n}\n\nconst useReceipts = ({ proposalAddress }: { proposalAddress: string }) => {\n  const [receipts, setReceipts] = useState<Record<string, ReceiptData>>({})\n\n  const fetchReceipts = useCallback(async () => {\n    if (!account.isAddress(proposalAddress)) return setReceipts({})\n    const listReceipt = await getReceipts(proposalAddress)\n    return setReceipts(listReceipt)\n  }, [proposalAddress])\n\n  useEffect(() => {\n    fetchReceipts()\n  }, [fetchReceipts])\n\n  return { receipts }\n}\n\nexport default useReceipts\n","import { useCallback, useMemo, useState } from 'react'\n\nimport { Button, Card, Col, Row, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ProposalStatus from 'app/components/proposalStatus'\n\nimport { ProposalChildCardProps } from './index'\nimport { explorer, shortenAddress } from 'shared/util'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport useProposalMetaData from 'app/hooks/proposal/useProposalMetaData'\nimport useReceipts from 'app/hooks/proposal/useReceipts'\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst CardStatus = ({ proposalAddress }: ProposalChildCardProps) => {\n  const [loading, setLoading] = useState(false)\n  const { status } = useProposalStatus(proposalAddress)\n  const metaData = useProposalMetaData(proposalAddress)\n  const { receipts } = useReceipts({ proposalAddress })\n\n  const members = useMemo(() => {\n    if (!Object.values(receipts).length) return 0\n    const authorities: string[] = []\n\n    for (const receipt of Object.values(receipts)) {\n      const { authority } = receipt\n      if (authorities.includes(authority.toBase58())) continue\n      authorities.push(authority.toBase58())\n    }\n\n    return authorities.length\n  }, [receipts])\n\n  const execute = useCallback(async () => {\n    setLoading(true)\n    try {\n      const { txId } = await interDao.executeProposal(proposalAddress)\n      return window.notify({\n        type: 'success',\n        description: 'Execute successfully',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      return window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setLoading(false)\n    }\n  }, [proposalAddress])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Row gutter={[24, 24]} wrap={false}>\n            <Col flex=\"auto\">\n              <Space direction=\"vertical\">\n                <Space>\n                  <Typography.Title\n                    level={3}\n                    style={{ wordBreak: 'break-all' }}\n                  >\n                    {metaData?.title\n                      ? metaData.title\n                      : shortenAddress(proposalAddress)}\n                  </Typography.Title>\n\n                  <ProposalStatus status={status} />\n                </Space>\n                <Space>\n                  <IonIcon name=\"people-outline\" />\n                  <Typography.Text>Member: {members}</Typography.Text>\n                </Space>\n              </Space>\n            </Col>\n            <Col>\n              <Button\n                size=\"large\"\n                type=\"primary\"\n                onClick={execute}\n                loading={loading}\n                disabled={status !== 'Succeeded'}\n              >\n                Execute\n              </Button>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Typography.Paragraph\n            type=\"secondary\"\n            ellipsis={{ rows: 3, expandable: true, symbol: 'View more' }}\n          >\n            {metaData?.description}\n          </Typography.Paragraph>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default CardStatus\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { DaoData, FeeOptions } from '@interdao/core'\nimport { BN } from 'bn.js'\n\nimport configs from 'app/configs'\nimport { AppState } from 'app/model'\n\ntype useProposalFeeProps = {\n  daoAddress: string\n}\n\nconst {\n  sol: { taxman, fee },\n} = configs\n\nconst useProposalFee = ({ daoAddress }: useProposalFeeProps) => {\n  const daos = useSelector((state: AppState) => state.dao.daos)\n  const { regime, authority } = daos[daoAddress] || ({} as DaoData)\n\n  const parseRegime = useMemo(() => {\n    if (!regime) return ''\n    return Object.keys(regime)[0]\n  }, [regime])\n\n  const proposalFee = useMemo(() => {\n    if (!parseRegime || !authority) return\n\n    const feeOption: FeeOptions = {\n      tax: new BN(fee),\n      taxmanAddress: taxman,\n      revenue: new BN(fee),\n      revenuemanAddress: authority.toBase58(),\n    }\n\n    if (parseRegime === 'democratic')\n      return {\n        tax: new BN(0),\n        taxmanAddress: taxman,\n        revenue: new BN(0),\n        revenuemanAddress: authority.toBase58(),\n      }\n\n    return feeOption\n  }, [authority, parseRegime])\n\n  return proposalFee\n}\n\nexport default useProposalFee\n","import { useCallback, useState } from 'react'\nimport LazyLoad from '@sentre/react-lazyload'\nimport { account } from '@senswap/sen-js'\n\nimport { Button, Col, Modal, Row, Space, Typography } from 'antd'\nimport CardNFT from 'app/components/cardNFT'\n\nimport { MetadataDataType } from 'app/helpers/metaplex'\nimport configs from 'app/configs'\nimport { explorer } from 'shared/util'\nimport { VotingType } from './index'\nimport useProposalFee from 'app/hooks/proposal/useProposalFee'\n\nconst {\n  sol: { interDao },\n} = configs\n\ntype ModalVoteNFTProps = {\n  visible: boolean\n  setVisible: (visible: boolean) => void\n  collection: MetadataDataType[]\n  votingType: VotingType\n  proposalAddress: string\n  daoAddress: string\n}\n\nconst ModalVoteNFT = ({\n  visible,\n  setVisible,\n  collection,\n  votingType,\n  proposalAddress,\n  daoAddress,\n}: ModalVoteNFTProps) => {\n  const [nftVoting, setNftVoting] = useState<string>('')\n  const [loading, setLoading] = useState(false)\n  const proposalFee = useProposalFee({ daoAddress })\n\n  const onVoteNftFor = useCallback(async () => {\n    setLoading(true)\n    try {\n      if (!account.isAddress(proposalAddress) || !nftVoting) return\n\n      const { txId } = await interDao.voteNftFor(\n        proposalAddress,\n        nftVoting,\n        proposalFee,\n      )\n      return window.notify({\n        type: 'success',\n        description: 'Voted successfully. Click to view details!',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      return window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setVisible(false)\n      setLoading(false)\n    }\n  }, [nftVoting, proposalAddress, proposalFee, setVisible])\n\n  const onVoteNftAgainst = useCallback(async () => {\n    setLoading(true)\n    try {\n      if (!account.isAddress(proposalAddress) || !nftVoting) return\n\n      const { txId } = await interDao.voteNftAgainst(\n        proposalAddress,\n        nftVoting,\n        proposalFee,\n      )\n      return window.notify({\n        type: 'success',\n        description: 'Voted successfully. Click to view details!',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      return window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setLoading(false)\n      setVisible(false)\n    }\n  }, [nftVoting, proposalAddress, proposalFee, setVisible])\n\n  const onConfirm = () => {\n    switch (votingType) {\n      case VotingType.Agree:\n        onVoteNftFor()\n        break\n      case VotingType.Disagree:\n        onVoteNftAgainst()\n        break\n    }\n  }\n\n  return (\n    <Modal\n      className=\"modal-nft-selection\"\n      visible={visible}\n      footer={false}\n      onCancel={() => setVisible(false)}\n      destroyOnClose={true}\n    >\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Typography.Title level={4}>Vote {votingType}</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Typography.Text>Choose NFT to vote</Typography.Text>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[24, 24]} className=\"scrollbar\" style={{ height: 240 }}>\n            {collection.map((metadata) => (\n              <Col\n                xs={12}\n                md={8}\n                key={metadata.mint}\n                style={{ textAlign: 'center' }}\n              >\n                <LazyLoad height={198}>\n                  <CardNFT\n                    mintAddress={metadata.mint}\n                    isSelected={nftVoting === metadata.mint}\n                    onSelect={setNftVoting}\n                  />\n                </LazyLoad>\n              </Col>\n            ))}\n          </Row>\n        </Col>\n        <Col span={24} style={{ textAlign: 'right' }}>\n          <Space>\n            <Button onClick={() => setVisible(false)}>Cancel</Button>\n            <Button\n              disabled={!nftVoting}\n              type=\"primary\"\n              loading={loading}\n              onClick={onConfirm}\n            >\n              Confirm\n            </Button>\n          </Space>\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\n\nexport default ModalVoteNFT\n","import { useMemo } from 'react'\nimport { ReceiptData } from '@interdao/core'\n\nimport { Typography } from 'antd'\n\nconst ColumnType = ({ record }: { record: ReceiptData }) => {\n  const type = useMemo(() => {\n    const action = Object.keys(record.action || {})[0]\n    if (action === 'voteAgainst') return 'DISAGREE'\n    return 'AGREE'\n  }, [record.action])\n\n  return <Typography.Text>{type}</Typography.Text>\n}\n\nexport default ColumnType\n","import { useSelector } from 'react-redux'\nimport { DaoData, ReceiptData } from '@interdao/core'\nimport { utils } from '@senswap/sen-js'\n\nimport { Typography } from 'antd'\n\nimport { AppState } from 'app/model'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport { numeric } from 'shared/util'\n\nconst ColumnPower = ({ receipt }: { receipt: ReceiptData }) => {\n  const daos = useSelector((state: AppState) => state.dao.daos)\n  const proposal = useSelector((state: AppState) => state.proposal)\n  const { power, proposal: proposalPubkey } = receipt\n  const { dao: daoPubkey } = proposal[proposalPubkey.toBase58()] || {}\n  const { mint } = daos[daoPubkey?.toBase58() || ''] || ({} as DaoData)\n  const mintDecimal = useMintDecimals(mint?.toBase58()) || 0\n\n  return (\n    <Typography.Text>\n      {numeric(\n        utils.undecimalize(BigInt(power.toNumber()), mintDecimal),\n      ).format('0,0.[0000]a')}\n    </Typography.Text>\n  )\n}\n\nexport default ColumnPower\n","import { Fragment, useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useWallet } from '@senhub/providers'\nimport { DaoData, ReceiptData } from '@interdao/core'\nimport BN from 'bn.js'\nimport moment from 'moment'\n\nimport { Button, Col, Modal, Row, Typography, Table } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ColumnType from './history/columnType'\nimport ColumnPower from './history/columnPower'\n\nimport { ProposalChildCardProps } from './index'\nimport useReceipts from 'app/hooks/proposal/useReceipts'\nimport configs from 'app/configs'\nimport { explorer } from 'shared/util'\nimport { AppState } from 'app/model'\n\nexport type Receipt = ReceiptData & { address: string }\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst Withdraw = ({ daoAddress, proposalAddress }: ProposalChildCardProps) => {\n  const [visible, setVisible] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [listReceipt, setListReceipt] = useState<Receipt[]>([])\n  const { receipts } = useReceipts({ proposalAddress })\n  const { daos } = useSelector((state: AppState) => state.dao)\n  const { isNft } = daos[daoAddress] || ({} as DaoData)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const COLUMNS = [\n    {\n      title: 'TIME',\n      dataIndex: 'lockedDate',\n      render: (lockedDate: BN) => (\n        <Typography.Text>\n          {moment(lockedDate.toNumber() * 1000).format('DD/MM/YYYY HH:mm')}\n        </Typography.Text>\n      ),\n    },\n    {\n      title: 'POWER',\n      dataIndex: 'power',\n      render: (_: any, receipt: ReceiptData) => (\n        <ColumnPower receipt={receipt} />\n      ),\n    },\n    {\n      title: 'TYPE',\n      dataIndex: 'authority',\n      render: (_: any, receipt: ReceiptData) => <ColumnType record={receipt} />,\n    },\n    {\n      title: '',\n      dataIndex: '',\n      render: (_: any, receipt: Receipt) => (\n        <Button type=\"primary\" onClick={() => onWithdraw(receipt)} size=\"small\">\n          Withdraw\n        </Button>\n      ),\n    },\n  ]\n\n  const filterReceipts = useCallback(() => {\n    const listRecept = Object.keys(receipts).map((address) => ({\n      address,\n      ...receipts[address],\n    }))\n\n    const myRecept: Receipt[] = listRecept.filter(\n      (receipt) => receipt.authority.toBase58() === walletAddress,\n    )\n\n    return setListReceipt(myRecept)\n  }, [receipts, walletAddress])\n\n  const onWithdraw = useCallback(\n    async (receiptData: Receipt) => {\n      const receiptAddress = receiptData.address\n      if (!receiptAddress.length) return\n      setLoading(true)\n      try {\n        let response: { txId: string; receiptAddress: string }\n        if (isNft) response = await interDao.closeNftVoting(receiptAddress)\n        else response = await interDao.close(receiptAddress)\n        window.notify({\n          type: 'success',\n          description: 'Successful withdrawal. Click to view details!',\n          onClick: () => window.open(explorer(response.txId), '_blank'),\n        })\n\n        //for real time\n        setListReceipt(\n          [...listReceipt].filter(\n            (receipt) => !receiptAddress.includes(receipt.address),\n          ),\n        )\n      } catch (er: any) {\n        window.notify({\n          type: 'error',\n          description: er.message,\n        })\n      } finally {\n        setLoading(false)\n      }\n    },\n    [isNft, listReceipt],\n  )\n\n  useEffect(() => {\n    filterReceipts()\n  }, [filterReceipts])\n\n  return (\n    <Fragment>\n      <Button\n        type=\"primary\"\n        onClick={() => setVisible(true)}\n        block\n        size=\"large\"\n        disabled={!listReceipt.length}\n      >\n        Withdraw\n      </Button>\n      <Modal\n        visible={visible}\n        footer={null}\n        closeIcon={<IonIcon name=\"close-outline\" />}\n        onCancel={() => setVisible(false)}\n      >\n        <Row gutter={[32, 32]}>\n          <Col span={24}>\n            <Typography.Title level={4}>Withdraw</Typography.Title>\n          </Col>\n          <Col span={24}>\n            <Table\n              columns={COLUMNS}\n              dataSource={listReceipt}\n              pagination={false}\n              rowKey={({ index, lockedDate }) =>\n                index.toNumber() + lockedDate.toNumber()\n              }\n              scroll={{ y: 300 }}\n              loading={loading}\n            />\n          </Col>\n        </Row>\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default Withdraw\n","import dayjs from 'dayjs'\n\nexport function getRemainingTime(timestampMs: number, finishTime?: number) {\n  const timestampDayjs = dayjs(timestampMs)\n  const nowDayjs = finishTime ? finishTime : dayjs()\n\n  // times of the past\n  if (timestampDayjs.isBefore(nowDayjs)) {\n    return {\n      minutes: '00',\n      hours: '00',\n      days: '00',\n      seconds: '00',\n    }\n  }\n\n  return {\n    minutes: getRemainingMinutes(nowDayjs, timestampDayjs),\n    hours: getRemainingHours(nowDayjs, timestampDayjs),\n    days: getRemainingDays(nowDayjs, timestampDayjs),\n    seconds: getRemainingSeconds(nowDayjs, timestampDayjs),\n  }\n}\n\n/** Get the difference function */\nfunction getRemainingSeconds(nowDayjs: any, timestampDayjs: any) {\n  const seconds = (timestampDayjs.diff(nowDayjs, 'seconds') % 60) % 60\n  return startWithZeros(seconds, 2)\n}\n\nfunction getRemainingMinutes(nowDayjs: any, timestampDayjs: any) {\n  const minutes = timestampDayjs.diff(nowDayjs, 'minutes') % 60\n  return startWithZeros(minutes, 2)\n}\n\nfunction getRemainingHours(nowDayjs: any, timestampDayjs: any) {\n  const hours = timestampDayjs.diff(nowDayjs, 'hours') % 24\n  return startWithZeros(hours, 2)\n}\n\nfunction getRemainingDays(nowDayjs: any, timestampDayjs: any) {\n  const days = timestampDayjs.diff(nowDayjs, 'days')\n  return days.toString()\n}\n\nfunction startWithZeros(number: number, minLength: number) {\n  const numberString = number.toString()\n  if (numberString.length >= minLength) return numberString\n  return '0'.repeat(minLength - numberString.length) + numberString\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Col, Row, Space, Tooltip, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { getRemainingTime } from 'app/helpers/countDown'\nimport useProposal from 'app/hooks/proposal/useProposal'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\n\ntype LockedVotingProps = {\n  proposalAddress: string\n  daoAddress: string\n}\n\nconst defaultRemainingTime = {\n  minutes: '00',\n  hours: '00',\n  days: '00',\n  seconds: '00',\n}\n\nconst LockedVoting = ({ proposalAddress, daoAddress }: LockedVotingProps) => {\n  const [remainingTime, setRemainingTime] = useState(defaultRemainingTime)\n  const { status } = useProposalStatus(proposalAddress)\n  const voteAmount = useSelector((state: AppState) => state.voteBid.amount)\n  const { endDate, startDate } = useProposal(proposalAddress, daoAddress)\n\n  const voteNow = new Date().getTime()\n  const endTime = Number(endDate) * 1000\n  const startTime = Number(startDate) * 1000\n\n  const remaining = voteNow < endTime ? endTime - voteNow : 0\n  const votePower = (Number(voteAmount) * remaining) / 1000\n\n  const updateRemainingTime = useCallback(\n    (countdown: number, startTime?: number) =>\n      setRemainingTime(getRemainingTime(countdown, startTime)),\n    [],\n  )\n\n  useEffect(() => {\n    if (status === 'Preparing') return updateRemainingTime(endTime, startTime)\n    const intervalId = setInterval(() => {\n      updateRemainingTime(endTime)\n    }, 1000)\n    return () => clearInterval(intervalId)\n  }, [endTime, startTime, status, updateRemainingTime])\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col flex=\"auto\">\n        <Space direction=\"vertical\">\n          <Typography.Text>Time remaining</Typography.Text>\n          <Typography.Title level={5}>\n            {remainingTime.days}d : {remainingTime.hours}h :{' '}\n            {remainingTime.minutes}m : {remainingTime.seconds}s\n          </Typography.Title>\n        </Space>\n      </Col>\n      <Col>\n        <Space direction=\"vertical\">\n          <Space>\n            <Tooltip title=\"Your power will be equal to the token amount multiplied by the remaining time (by seconds)\">\n              <IonIcon\n                style={{ cursor: 'pointer' }}\n                name=\"information-circle-outline\"\n              />\n            </Tooltip>\n            <Typography.Text>Power of your votes</Typography.Text>\n          </Space>\n\n          <Typography.Title level={5} style={{ textAlign: 'right' }}>\n            {numeric(votePower).format('0,0.[0000]')}\n          </Typography.Title>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default LockedVoting\n","import { useCallback, useEffect, useState } from 'react'\nimport { useAccount } from '@senhub/providers'\nimport { utils, web3, BN } from '@project-serum/anchor'\n\nimport { fetchYourOwnerNTFs, MetadataDataType } from 'app/helpers/metaplex'\n\nconst useOwnerNFT = (ownerPublickey: string) => {\n  const [nfts, setNfts] = useState<MetadataDataType[]>([])\n  const [nftsFiltered, setNftFiltered] = useState<MetadataDataType[]>()\n  const { accounts } = useAccount()\n\n  const fetchNFTs = useCallback(async () => {\n    if (!ownerPublickey) return setNfts([])\n    const nftsFetching = await fetchYourOwnerNTFs(ownerPublickey)\n    setNfts(nftsFetching)\n  }, [ownerPublickey])\n\n  useEffect(() => {\n    fetchNFTs()\n  }, [fetchNFTs])\n\n  const filterNFTs = useCallback(async () => {\n    let nftsFiltered: MetadataDataType[] = []\n    await Promise.all(\n      nfts.map(async (nft: MetadataDataType) => {\n        const nftTokenAccount = await utils.token.associatedAddress({\n          mint: new web3.PublicKey(nft.mint),\n          owner: new web3.PublicKey(ownerPublickey),\n        })\n        let nftAccountData = accounts[nftTokenAccount.toBase58()]\n        if (new BN(nftAccountData?.amount.toString()).eq(new BN(1))) {\n          nftsFiltered.push(nft)\n        }\n      }),\n    )\n    return setNftFiltered(nftsFiltered)\n  }, [accounts, nfts, ownerPublickey])\n\n  useEffect(() => {\n    filterNFTs()\n  }, [filterNFTs])\n\n  return { nfts: nftsFiltered }\n}\n\nexport default useOwnerNFT\n","import { useCallback, useEffect, useState } from 'react'\n\nimport { MetadataDataType } from 'app/helpers/metaplex'\nimport useOwnerNFT from './useOwnerNFT'\n\nconst useOwnerNftByCollection = (ownerPublickey: string) => {\n  const { nfts } = useOwnerNFT(ownerPublickey)\n  const [nftsFiltered, setNftsFiltered] =\n    useState<Record<string, MetadataDataType[]>>()\n\n  const filterNFTsByCollection = useCallback(async () => {\n    let listNFTs: Record<string, MetadataDataType[]> = {}\n    nfts?.forEach((nft: MetadataDataType) => {\n      if (nft.collection) {\n        listNFTs[nft.collection.key] = listNFTs[nft.collection.key]\n          ? [...listNFTs[nft.collection.key], nft]\n          : [nft]\n      }\n    })\n    return setNftsFiltered(listNFTs)\n  }, [nfts])\n\n  useEffect(() => {\n    filterNFTsByCollection()\n  }, [filterNFTsByCollection])\n\n  return { nfts: nftsFiltered }\n}\n\nexport default useOwnerNftByCollection\n","import { useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { DaoData } from '@interdao/core'\nimport { useWallet } from '@senhub/providers'\n\nimport { Button, Card, Col, Row, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ModalVoteNFT from './modalVoteNFT'\nimport Withdraw from '../../withdraw'\nimport LockedVoting from '../lockedVoting'\n\nimport { AppState } from 'app/model'\nimport { ProposalChildCardProps } from '../../index'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport useOwnerNftByCollection from 'app/hooks/useOwnerNftByCollection'\nimport useProposal from 'app/hooks/proposal/useProposal'\n\nexport enum VotingType {\n  Agree = 'Agree',\n  Disagree = 'Disagree',\n}\n\nconst CardVoteByNFT = ({\n  proposalAddress,\n  daoAddress,\n}: ProposalChildCardProps) => {\n  const [votingType, setVotingType] = useState<VotingType>(VotingType.Agree)\n  const [visible, setVisible] = useState(false)\n  const daos = useSelector((state: AppState) => state.dao.daos)\n  const { mint } = daos[daoAddress] || ({} as DaoData)\n  const { status } = useProposalStatus(proposalAddress)\n  const { consensusMechanism } = useProposal(proposalAddress, daoAddress)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { nfts: collectionNFTs } = useOwnerNftByCollection(walletAddress)\n  const myCollection = collectionNFTs?.[mint.toBase58()] || []\n  const isLockedVote =\n    Object.keys(consensusMechanism || [])[0] === 'lockedTokenCounter'\n  const isComplete = useMemo(() => {\n    if (status === 'Preparing' || status === 'Voting') return false\n    return true\n  }, [status])\n  const disabled =\n    status !== 'Voting' ||\n    !account.isAddress(proposalAddress) ||\n    !myCollection.length\n\n  const onVoteNftFor = () => {\n    setVisible(true)\n    setVotingType(VotingType.Agree)\n  }\n\n  const onVoteNftAgainst = () => {\n    setVisible(true)\n    setVotingType(VotingType.Disagree)\n  }\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Typography.Title level={5}>Cast your votes</Typography.Title>\n        </Col>\n        {isLockedVote && (\n          <Col span={24}>\n            <LockedVoting\n              proposalAddress={proposalAddress}\n              daoAddress={daoAddress}\n            />\n          </Col>\n        )}\n        {isComplete ? (\n          <Col span={24}>\n            <Withdraw\n              daoAddress={daoAddress}\n              proposalAddress={proposalAddress}\n            />\n          </Col>\n        ) : (\n          <Col span={24}>\n            <Row gutter={[16, 16]}>\n              <Col span={12}>\n                <Button\n                  onClick={onVoteNftFor}\n                  type=\"primary\"\n                  disabled={disabled}\n                  block\n                  size=\"large\"\n                  icon={<IonIcon name=\"thumbs-up-outline\" />}\n                >\n                  Vote For\n                </Button>\n              </Col>\n              <Col span={12}>\n                <Button\n                  onClick={onVoteNftAgainst}\n                  type=\"primary\"\n                  disabled={disabled}\n                  block\n                  size=\"large\"\n                  icon={<IonIcon name=\"thumbs-down-outline\" />}\n                >\n                  Vote Against\n                </Button>\n              </Col>\n            </Row>\n          </Col>\n        )}\n      </Row>\n      <ModalVoteNFT\n        visible={visible}\n        setVisible={setVisible}\n        collection={myCollection}\n        votingType={votingType}\n        proposalAddress={proposalAddress}\n        daoAddress={daoAddress}\n      />\n    </Card>\n  )\n}\nexport default CardVoteByNFT\n","import { useEffect, useState } from 'react'\nimport { account, DEFAULT_EMPTY_ADDRESS, utils } from '@senswap/sen-js'\nimport { useAccount, useWallet } from '@senhub/providers'\n\nimport useMintDecimals from './useMintDecimals'\n\nexport type AccountBalanceReturn = {\n  amount: bigint\n  decimals: number\n  balance: number\n  mintAddress: string\n}\n\nconst buildResult = (\n  mintAddress?: string,\n  amount?: bigint,\n  decimals?: number,\n) => {\n  if (\n    !account.isAddress(mintAddress) ||\n    amount === undefined ||\n    decimals === undefined\n  )\n    return { amount: BigInt(0), decimals: 0, balance: 0 }\n  return {\n    mintAddress,\n    amount,\n    decimals,\n    balance: Number(utils.undecimalize(amount, decimals)),\n  }\n}\n\n/**\n * Get account balance. This hook needs WalletProvider, MintProvider, and AccountProvider for working.\n * WalletProvider Ref: https://docs.sentre.io/senhub/development/providers/wallet-provider\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * AccountProvider Ref: https://docs.sentre.io/senhub/development/providers/account-provider\n * @param accountAddress Associated account address\n * @returns AccountBalanceReturn\n * - AccountBalanceReturn.amount: The amount with decimals\n * - AccountBalanceReturn.decimals: The corresponding mint decimals\n * - AccountBalanceReturn.balance: The human-readable balance (undecimalized amount)\n * - AccountBalanceReturn.mintAddress: The corresponding mint\n */\nconst useAccountBalance = (accountAddress: string) => {\n  const {\n    wallet: { address: walletAddress, lamports },\n  } = useWallet()\n  const { accounts } = useAccount()\n  const { amount, mint: mintAddress } = accounts[accountAddress] || {}\n  const decimals = useMintDecimals(mintAddress) || 0\n\n  if (!account.isAddress(walletAddress) || !account.isAddress(accountAddress))\n    return buildResult()\n  if (accountAddress === walletAddress)\n    return buildResult(DEFAULT_EMPTY_ADDRESS, lamports, 9)\n\n  return buildResult(mintAddress, amount, decimals)\n}\n\nexport default useAccountBalance\n\n/**\n * The same as useAccountBalance but the input is mint address\n * @param mintAddress Mint address\n * @returns AccountBalanceReturn\n */\nexport const useAccountBalanceByMintAddress = (mintAddress: string) => {\n  const [accountAddress, setAccountAddress] = useState('')\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const data = useAccountBalance(accountAddress)\n\n  useEffect(() => {\n    ;(async () => {\n      if (!account.isAddress(walletAddress) || !account.isAddress(mintAddress))\n        return setAccountAddress('')\n      const {\n        sentre: { splt },\n      } = window\n      try {\n        const address = await splt.deriveAssociatedAddress(\n          walletAddress,\n          mintAddress,\n        )\n        return setAccountAddress(address)\n      } catch (er) {\n        return setAccountAddress('')\n      }\n    })()\n  })\n\n  return data\n}\n","import { Fragment, useCallback, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account, utils } from '@senswap/sen-js'\nimport { DaoData } from '@interdao/core'\nimport { BN } from 'bn.js'\n\nimport { Button, Col, Row } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { AppState } from 'app/model'\nimport { ProposalChildCardProps } from '../../index'\nimport { explorer } from 'shared/util'\nimport configs from 'app/configs'\nimport { useAccountBalanceByMintAddress } from 'shared/hooks/useAccountBalance'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport useMetaData from 'app/hooks/useMetaData'\nimport useProposalFee from 'app/hooks/proposal/useProposalFee'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst DEFAULT_VALUE_VOTE_MULTISIG = 1\n\nconst ActionVote = ({\n  proposalAddress,\n  daoAddress,\n}: ProposalChildCardProps) => {\n  const [loadingFor, setLoadingFor] = useState(false)\n  const [loadingAgainst, setLoadingAgainst] = useState(false)\n  const {\n    dao: { daos },\n    voteBid: { amount },\n  } = useSelector((state: AppState) => state)\n  const { mint } = daos[daoAddress] || ({} as DaoData)\n  const { balance, decimals } = useAccountBalanceByMintAddress(mint?.toBase58())\n  const { status } = useProposalStatus(proposalAddress)\n  const daoMetaData = useMetaData(daoAddress)\n  const proposalFee = useProposalFee({ daoAddress })\n  const isMultisigDAO = daoMetaData?.daoType === 'multisig-dao'\n\n  const disabled = useMemo(() => {\n    if (isMultisigDAO) return status !== 'Voting' || balance <= 0\n\n    return status !== 'Voting' || !amount || !account.isAddress(proposalAddress)\n  }, [amount, balance, isMultisigDAO, proposalAddress, status])\n\n  const onVoteFor = useCallback(async () => {\n    setLoadingFor(true)\n    try {\n      if ((!amount || !account.isAddress(proposalAddress)) && !isMultisigDAO)\n        return\n      const actualAmount = isMultisigDAO ? DEFAULT_VALUE_VOTE_MULTISIG : amount\n      const voteAmount = utils.decimalize(actualAmount, decimals)\n      const nextAmount = new BN(voteAmount.toString())\n      const { txId } = await interDao.voteFor(\n        proposalAddress,\n        nextAmount,\n        proposalFee,\n      )\n      window.notify({\n        type: 'success',\n        description: 'Voted successfully. Click to view details!',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setLoadingFor(false)\n    }\n  }, [amount, proposalAddress, isMultisigDAO, decimals, proposalFee])\n\n  const onVoteAgainst = useCallback(async () => {\n    setLoadingAgainst(true)\n    try {\n      if ((!amount || !account.isAddress(proposalAddress)) && !isMultisigDAO)\n        return\n      const actualAmount = isMultisigDAO ? DEFAULT_VALUE_VOTE_MULTISIG : amount\n      const voteAmount = utils.decimalize(actualAmount, decimals)\n      const nextAmount = new BN(voteAmount.toString())\n      const { txId } = await interDao.voteAgainst(\n        proposalAddress,\n        nextAmount,\n        proposalFee,\n      )\n      window.notify({\n        type: 'success',\n        description: 'Voted successfully. Click to view details!',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setLoadingAgainst(false)\n    }\n  }, [amount, proposalAddress, isMultisigDAO, decimals, proposalFee])\n\n  return (\n    <Fragment>\n      {balance ? (\n        <Row gutter={[16, 16]}>\n          <Col span={isMultisigDAO ? 24 : 12}>\n            <Button\n              onClick={onVoteFor}\n              type=\"primary\"\n              disabled={disabled}\n              loading={loadingFor}\n              block\n              size=\"large\"\n              icon={<IonIcon name=\"thumbs-up-outline\" />}\n            >\n              Vote For\n            </Button>\n          </Col>\n          <Col span={isMultisigDAO ? 24 : 12}>\n            <Button\n              onClick={onVoteAgainst}\n              type=\"primary\"\n              disabled={disabled}\n              loading={loadingAgainst}\n              block\n              size=\"large\"\n              icon={<IonIcon name=\"thumbs-down-outline\" />}\n            >\n              Vote Against\n            </Button>\n          </Col>\n        </Row>\n      ) : (\n        <Button block size=\"large\" type=\"primary\" disabled={true}>\n          Voted\n        </Button>\n      )}\n    </Fragment>\n  )\n}\n\nexport default ActionVote\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\n/**\n * Interface & Utility\n */\n\nexport type VoteBidState = {\n  amount: string\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'voteBid'\nconst initialState: VoteBidState = {\n  amount: '',\n}\n\n/**\n * Actions\n */\n\nexport const setVoteBidAmount = createAsyncThunk(\n  `${NAME}/setVoteBidAmount`,\n  async (amount: string) => {\n    if (!amount) return { amount: '' }\n    return { amount }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      setVoteBidAmount.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { DaoData } from '@interdao/core'\n\nimport { Card, Col, Row, Typography } from 'antd'\nimport NumericInput from 'shared/antd/numericInput'\nimport Withdraw from '../../withdraw'\nimport LockedVoting from '../lockedVoting'\nimport ActionVote from './actionVote'\n\nimport { AppState } from 'app/model'\nimport { setVoteBidAmount } from 'app/model/voteBid.controller'\nimport { ProposalChildCardProps } from '../../index'\nimport { numeric } from 'shared/util'\nimport { useAccountBalanceByMintAddress } from 'shared/hooks/useAccountBalance'\nimport { MintSymbol } from 'shared/antd/mint'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport useMetaData from 'app/hooks/useMetaData'\nimport useProposal from 'app/hooks/proposal/useProposal'\n\nconst CardVoteToken = ({\n  proposalAddress,\n  daoAddress,\n}: ProposalChildCardProps) => {\n  const {\n    dao: { daos },\n    voteBid: { amount },\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch()\n  const { mint } = daos[daoAddress] || ({} as DaoData)\n  const { balance } = useAccountBalanceByMintAddress(mint?.toBase58())\n  const { status } = useProposalStatus(proposalAddress)\n  const daoMetaData = useMetaData(daoAddress)\n  const { consensusMechanism } = useProposal(proposalAddress, daoAddress)\n  const isMultisigDAO = daoMetaData?.daoType === 'multisig-dao'\n  const isLockedVote =\n    Object.keys(consensusMechanism || [])[0] === 'lockedTokenCounter'\n  const isComplete = useMemo(() => {\n    if (status === 'Preparing' || status === 'Voting') return false\n    return true\n  }, [status])\n\n  const onChange = (value: string) => {\n    dispatch(setVoteBidAmount(value))\n  }\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Typography.Title level={5}>Cast your votes</Typography.Title>\n        </Col>\n        {!isMultisigDAO && !isComplete && (\n          <Col span={24}>\n            <Card\n              className=\"numric-ip-card\"\n              bodyStyle={{ padding: '8px 12px' }}\n              bordered={false}\n            >\n              <Row gutter={[8, 8]}>\n                <Col flex=\"auto\">\n                  <Typography.Text>Amount votes</Typography.Text>\n                </Col>\n                <Col>\n                  <Typography.Text>\n                    Available: {numeric(balance).format('0,0.[00]')}\n                  </Typography.Text>{' '}\n                  <MintSymbol mintAddress={mint?.toBase58()} />\n                </Col>\n                <Col span={24}>\n                  <NumericInput\n                    bordered={false}\n                    style={{ padding: 0 }}\n                    placeholder=\"0\"\n                    value={amount}\n                    onValue={onChange}\n                    suffix={\n                      <Typography.Text\n                        style={{ cursor: 'pointer' }}\n                        onClick={() => onChange(balance.toString())}\n                      >\n                        MAX\n                      </Typography.Text>\n                    }\n                  />\n                </Col>\n              </Row>\n            </Card>\n          </Col>\n        )}\n        {isLockedVote && (\n          <Col span={24}>\n            <LockedVoting\n              proposalAddress={proposalAddress}\n              daoAddress={daoAddress}\n            />\n          </Col>\n        )}\n        <Col span={24}>\n          {!isComplete ? (\n            <ActionVote\n              proposalAddress={proposalAddress}\n              daoAddress={daoAddress}\n            />\n          ) : (\n            <Withdraw\n              proposalAddress={proposalAddress}\n              daoAddress={daoAddress}\n            />\n          )}\n        </Col>\n      </Row>\n    </Card>\n  )\n}\nexport default CardVoteToken\n","import { useSelector } from 'react-redux'\nimport { DaoData } from '@interdao/core'\n\nimport CardVoteByNFT from './nft'\nimport CardVoteToken from './token'\n\nimport { AppState } from 'app/model'\nimport { ProposalChildCardProps } from '../index'\n\nconst CardVote = ({ proposalAddress, daoAddress }: ProposalChildCardProps) => {\n  const daos = useSelector((state: AppState) => state.dao.daos)\n\n  const { isNft } = daos?.[daoAddress] || ({} as DaoData)\n\n  return isNft ? (\n    <CardVoteByNFT proposalAddress={proposalAddress} daoAddress={daoAddress} />\n  ) : (\n    <CardVoteToken proposalAddress={proposalAddress} daoAddress={daoAddress} />\n  )\n}\n\nexport default CardVote\n","import { Col, Modal, Row, Typography } from 'antd'\n\nimport { ProposalChildCardProps } from '../proposalDetails/index'\nimport TemplateInfo from './component/templateInfo'\n\ntype TemplateInfoProps = {\n  visible: boolean\n  setVisible: (visible: boolean) => void\n} & ProposalChildCardProps\n\nconst ModalTemplateInfo = ({\n  proposalAddress,\n  daoAddress,\n  visible,\n  setVisible,\n}: TemplateInfoProps) => {\n  return (\n    <Modal\n      className=\"template-card template-info\"\n      visible={visible}\n      footer={false}\n      onCancel={() => setVisible(false)}\n    >\n      <Row>\n        <Col\n          className=\"template-info-header\"\n          span={24}\n          style={{ textAlign: 'left' }}\n        >\n          <Typography.Title level={4}>Template information</Typography.Title>\n        </Col>\n        <Col span={24} className=\"template-info-body\">\n          <TemplateInfo\n            proposalAddress={proposalAddress}\n            daoAddress={daoAddress}\n          />\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\n\nexport default ModalTemplateInfo\n","import { useMemo } from 'react'\nimport { ConsensusQuorum } from '@interdao/core'\n\nconst useParseQuorumText = (quorum?: ConsensusQuorum) => {\n  const quorumText = useMemo(() => {\n    if (!quorum) return '-'\n    const mechanismQuorum = Object.keys(quorum)[0]\n    if (mechanismQuorum === 'half') return '1/2'\n    if (mechanismQuorum === 'oneThird') return '1/3'\n    if (mechanismQuorum === 'twoThird') return '2/3'\n  }, [quorum])\n\n  return quorumText\n}\nexport default useParseQuorumText\n","import { useMemo, useState } from 'react'\nimport moment from 'moment'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { Card, Col, Row, Space, Typography, Tooltip, Button } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ModalTemplateInfo from '../modalTemplateInfo'\nimport RowSpaceBetween from 'app/components/rowSpaceBetween'\n\nimport useProposal from 'app/hooks/proposal/useProposal'\nimport { asyncWait, explorer, shortenAddress } from 'shared/util'\nimport { ProposalChildCardProps } from './index'\nimport useParseQuorumText from 'app/hooks/proposal/useParseQuorumText'\n\nconst CardInfo = ({ proposalAddress, daoAddress }: ProposalChildCardProps) => {\n  const [copied, setCopied] = useState(false)\n  const [visible, setVisible] = useState(false)\n  const { consensusQuorum, startDate, endDate, consensusMechanism, creator } =\n    useProposal(proposalAddress, daoAddress)\n  const authProposalAddress = creator?.toBase58() || ''\n  const quorum = useParseQuorumText(consensusQuorum)\n\n  const onCopy = async () => {\n    setCopied(true)\n    await asyncWait(1500)\n    setCopied(false)\n  }\n\n  const consensus = useMemo(() => {\n    if (!consensusMechanism) return '-'\n    const _consensusMechanism = Object.keys(consensusMechanism)[0]\n    if (_consensusMechanism === 'stakedTokenCounter') return 'Staked counter'\n    if (_consensusMechanism === 'lockedTokenCounter') return 'Locked counter'\n  }, [consensusMechanism])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Row align=\"middle\">\n            <Col flex=\"auto\">\n              <Typography.Title level={5}>Information</Typography.Title>\n            </Col>\n            <Col>\n              <Button\n                type=\"text\"\n                icon={<IonIcon name=\"information-circle-outline\" />}\n                style={{ marginRight: -10 }}\n                onClick={() => setVisible(true)}\n              />\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Space style={{ width: '100%' }} direction=\"vertical\">\n            <RowSpaceBetween\n              label=\"Proposal ID\"\n              value={shortenAddress(proposalAddress, 3)}\n            />\n            <RowSpaceBetween\n              label=\"Start time\"\n              value={moment(startDate?.toNumber() * 1000).format(\n                'MMM DD,yyyy HH:mm',\n              )}\n            />\n            <RowSpaceBetween\n              label=\"End time\"\n              value={moment(endDate?.toNumber() * 1000).format(\n                'MMM DD,yyyy HH:mm',\n              )}\n            />\n            <RowSpaceBetween\n              label=\"Author\"\n              value={\n                <Space size={10}>\n                  <Typography.Text\n                    style={{ cursor: 'pointer', textDecoration: 'underline' }}\n                    onClick={() =>\n                      window.open(explorer(authProposalAddress), '_blank')\n                    }\n                  >\n                    {shortenAddress(authProposalAddress, 3)}\n                  </Typography.Text>\n                  <Tooltip title=\"Copied\" visible={copied}>\n                    <CopyToClipboard text={authProposalAddress} onCopy={onCopy}>\n                      <IonIcon\n                        style={{ cursor: 'pointer' }}\n                        name=\"copy-outline\"\n                        onClick={onCopy}\n                      />\n                    </CopyToClipboard>\n                  </Tooltip>\n                </Space>\n              }\n            />\n            <RowSpaceBetween label=\"Quorum\" value={quorum} />\n            <RowSpaceBetween label=\"Vote method\" value={consensus} />\n          </Space>\n        </Col>\n      </Row>\n      <ModalTemplateInfo\n        setVisible={setVisible}\n        visible={visible}\n        proposalAddress={proposalAddress}\n        daoAddress={daoAddress}\n      />\n    </Card>\n  )\n}\n\nexport default CardInfo\n","import { useSelector } from 'react-redux'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport { DaoData } from '@interdao/core'\nimport { utils } from '@senswap/sen-js'\nimport { useUI } from '@senhub/providers'\nimport BN from 'bn.js'\n\nimport { Card, Col, Row, Space, Typography, Progress } from 'antd'\nimport RowSpaceVertical from 'app/components/rowSpaceVertical'\n\nimport { ProposalChildCardProps } from './index'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport useProposal from 'app/hooks/proposal/useProposal'\n\nconst STROKE_COLOR = {\n  dark: { default: '#312B29', agree: '#698033', disagree: '#F9575E' },\n  light: { default: '#F2EFE9', agree: '#F9DEB0', disagree: '#F9575E' },\n}\n\nconst CardProgress = ({\n  proposalAddress,\n  daoAddress,\n}: ProposalChildCardProps) => {\n  const [backGroundColor, setBackGroundColor] = useState('')\n  const [successColor, setSuccessColor] = useState('')\n  const daos = useSelector((state: AppState) => state.dao.daos)\n  const { votingAgainstPower, votingForPower, consensusQuorum } = useProposal(\n    proposalAddress,\n    daoAddress,\n  )\n  const { mint } = daos[daoAddress] || ({} as DaoData)\n  const mintDecimal = useMintDecimals(mint?.toBase58()) || 0\n  const { actualSupply } = useProposalStatus(proposalAddress)\n  const {\n    ui: { theme },\n  } = useUI()\n\n  const noVote = Number(votingAgainstPower) || 0\n  const yesVote = Number(votingForPower) || 0\n  const totalVote = yesVote + noVote\n  const percentYes = (yesVote / totalVote) * 100\n  const percentNo = (noVote / totalVote) * 100\n\n  const currentPower = useMemo(() => {\n    if (!consensusQuorum) return new BN(0)\n    const actualYesVote = votingForPower.sub(votingAgainstPower)\n\n    const mechanismQuorum = Object.keys(consensusQuorum)[0]\n\n    if (mechanismQuorum === 'half')\n      return actualYesVote.mul(new BN(200)).div(actualSupply)\n\n    if (mechanismQuorum === 'oneThird')\n      return actualYesVote.mul(new BN(300)).div(actualSupply)\n\n    if (mechanismQuorum === 'twoThird')\n      return actualYesVote.mul(new BN(300)).div(actualSupply.mul(new BN(2)))\n\n    return new BN(0)\n  }, [actualSupply, consensusQuorum, votingAgainstPower, votingForPower])\n\n  const powerRequire = useMemo(() => {\n    if (!consensusQuorum || !actualSupply || currentPower.gte(new BN(100)))\n      return new BN(0)\n    const actualYesVote = votingForPower.sub(votingAgainstPower)\n\n    const mechanismQuorum = Object.keys(consensusQuorum)[0]\n\n    if (mechanismQuorum === 'half')\n      return actualSupply.div(new BN(2)).sub(actualYesVote)\n\n    if (mechanismQuorum === 'oneThird')\n      return actualSupply.div(new BN(3)).sub(actualYesVote)\n\n    if (mechanismQuorum === 'twoThird')\n      return actualSupply.mul(new BN(2)).div(new BN(3)).sub(actualYesVote)\n    return new BN(0)\n  }, [\n    actualSupply,\n    consensusQuorum,\n    currentPower,\n    votingAgainstPower,\n    votingForPower,\n  ])\n\n  const percentSuccess = useMemo(() => {\n    if (percentYes) return percentYes\n    if (percentNo) return 100 - percentNo\n    return 0\n  }, [percentNo, percentYes])\n\n  const getColors = useCallback(() => {\n    if (!percentNo && !percentYes)\n      return setBackGroundColor(STROKE_COLOR[theme].default)\n    if (!percentNo && percentYes)\n      return setSuccessColor(STROKE_COLOR[theme].agree)\n    if (percentNo && !percentYes)\n      return setBackGroundColor(STROKE_COLOR[theme].disagree)\n\n    setBackGroundColor(STROKE_COLOR[theme].disagree)\n    return setSuccessColor(STROKE_COLOR[theme].agree)\n  }, [percentNo, percentYes, theme])\n\n  useEffect(() => {\n    getColors()\n  }, [getColors])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Typography.Title level={5}>Current results</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Space size={0} style={{ width: '100%' }} direction=\"vertical\">\n            <Typography.Text type=\"secondary\">Quorum</Typography.Text>\n            <Typography.Text>\n              {numeric(\n                utils.undecimalize(\n                  BigInt(powerRequire.add(new BN(1)).toString()),\n                  mintDecimal,\n                ),\n              ).format('0,0.[0000]')}{' '}\n              more Yes votes required\n            </Typography.Text>\n            <Progress\n              percent={100}\n              strokeColor={STROKE_COLOR[theme].default}\n              success={{\n                percent: currentPower.toNumber(),\n                strokeColor: STROKE_COLOR[theme].agree,\n              }}\n              showInfo={false}\n            />\n          </Space>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[4, 4]}>\n            <Col flex=\"auto\">\n              <RowSpaceVertical\n                label=\"Agree\"\n                size={0}\n                value={\n                  <Typography.Title level={4}>\n                    {numeric(\n                      utils.undecimalize(BigInt(yesVote), mintDecimal),\n                    ).format('0,0.[0000]')}\n                  </Typography.Title>\n                }\n              />\n            </Col>\n            <Col>\n              <RowSpaceVertical\n                label=\"Disagree\"\n                size={0}\n                align=\"end\"\n                value={\n                  <Typography.Title level={4}>\n                    {numeric(\n                      utils.undecimalize(BigInt(noVote), mintDecimal),\n                    ).format('0,0.[0000]')}\n                  </Typography.Title>\n                }\n              />\n            </Col>\n            <Col span={24}>\n              <Progress\n                style={{ width: '100%' }}\n                percent={100}\n                strokeColor={backGroundColor}\n                success={{\n                  percent: percentSuccess,\n                  strokeColor: successColor,\n                }}\n                showInfo={false}\n              />\n            </Col>\n            <Col span={24}>\n              <Row>\n                <Col flex=\"auto\">\n                  <Typography.Text type=\"secondary\">\n                    {numeric(percentYes).format('0,0.[00]')}%\n                  </Typography.Text>\n                </Col>\n                <Col>\n                  <Typography.Text type=\"secondary\">\n                    {numeric(percentNo).format('0,0.[00]')}%\n                  </Typography.Text>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default CardProgress\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport useMetaData from 'app/hooks/useMetaData'\nimport { AppState } from 'app/model'\nimport { Typography } from 'antd'\n\ntype ColumnNameProps = {\n  authority: string\n  proposalAddress: string\n}\n\nconst ColumnName = ({ authority, proposalAddress }: ColumnNameProps) => {\n  const { proposal } = useSelector((state: AppState) => state)\n  const { dao } = proposal?.[proposalAddress]\n  const metaData = useMetaData(dao.toBase58())\n\n  const name = useMemo(() => {\n    const members = metaData?.members || []\n    for (const { walletAddress, name } of members) {\n      if (walletAddress === authority) {\n        return name\n      }\n    }\n    return '--'\n  }, [authority, metaData])\n\n  return <Typography.Text className=\"t-16\">{name}</Typography.Text>\n}\n\nexport default ColumnName\n","import { PublicKey } from '@solana/web3.js'\nimport { ReceiptData } from '@interdao/core'\n\nimport { Typography } from 'antd'\nimport ColumnType from './columnType'\nimport ColumnPower from './columnPower'\n\nimport { shortenAddress } from 'shared/util'\nimport ColumnName from './columnName'\n\nexport const HISTORY_COLUMNS_FLEXIBLE = [\n  {\n    title: 'WALLET ADDRESS',\n    dataIndex: 'authority',\n    render: (walletAddress: PublicKey) => (\n      <Typography>{shortenAddress(walletAddress.toBase58())}</Typography>\n    ),\n  },\n  {\n    title: 'TYPE',\n    dataIndex: 'authority',\n    render: (_: any, receipt: ReceiptData) => <ColumnType record={receipt} />,\n  },\n  {\n    title: 'POWER',\n    dataIndex: 'power',\n    render: (_: any, receipt: ReceiptData) => <ColumnPower receipt={receipt} />,\n  },\n]\n\nexport const HISTORY_COLUMNS_MULTISIG = [\n  {\n    title: 'NAME',\n    dataIndex: 'authority',\n    render: (authority: PublicKey, receipt: ReceiptData) => (\n      <ColumnName\n        proposalAddress={receipt.proposal.toBase58()}\n        authority={authority.toBase58()}\n      />\n    ),\n  },\n  {\n    title: 'WALLET ADDRESS',\n    dataIndex: 'authority',\n    render: (walletAddress: PublicKey) => (\n      <Typography>{shortenAddress(walletAddress.toBase58())}</Typography>\n    ),\n  },\n  {\n    title: 'TYPE',\n    dataIndex: 'authority',\n    render: (_: any, receipt: ReceiptData) => <ColumnType record={receipt} />,\n  },\n]\n","import { useCallback, useEffect, useState } from 'react'\nimport { ReceiptData } from '@interdao/core'\n\nimport { Card, Col, Row, Typography, Table, Button } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { HISTORY_COLUMNS_MULTISIG, HISTORY_COLUMNS_FLEXIBLE } from './column'\nimport { getReceipts } from 'app/hooks/proposal/useReceipts'\n\nimport './index.less'\nimport useMetaData from 'app/hooks/useMetaData'\n\nconst DEFAULT_AMOUNT_HISTORY = 5\n\nconst History = ({\n  proposalAddress,\n  daoAddress,\n}: {\n  proposalAddress: string\n  daoAddress: string\n}) => {\n  const [amount, setAmount] = useState(DEFAULT_AMOUNT_HISTORY)\n  const [loading, setLoading] = useState(false)\n  const [listReceipt, setListReceipt] = useState<ReceiptData[]>([])\n  const metaData = useMetaData(daoAddress)\n  const isMultisigDAO = metaData?.daoType === 'multisig-dao'\n  const historyColum = isMultisigDAO\n    ? HISTORY_COLUMNS_MULTISIG\n    : HISTORY_COLUMNS_FLEXIBLE\n\n  const fetchReceipts = useCallback(async () => {\n    setLoading(true)\n    const receipts = await getReceipts(proposalAddress)\n    const nextReceipts: ReceiptData[] = []\n    Object.values(receipts).forEach((receipt) => {\n      const { authority, power, action } = receipt\n      const actionType = Object.keys(action || {})[0]\n      const owner = authority.toBase58()\n\n      const existReceipt = nextReceipts.find((_receipt) => {\n        const { action: _action, authority: _authority } = _receipt\n        const _actionType = Object.keys(_action || {})[0]\n        const _owner = _authority.toBase58()\n\n        return _owner === owner && actionType === _actionType\n      })\n      if (!existReceipt) return nextReceipts.push(receipt)\n\n      const { power: oldPower } = existReceipt\n      const index = nextReceipts.findIndex(\n        (_receipt) => _receipt === existReceipt,\n      )\n      if (index !== -1)\n        return (nextReceipts[index] = {\n          ...nextReceipts[index],\n          power: oldPower.add(power),\n        })\n    })\n    setLoading(false)\n    return setListReceipt(nextReceipts)\n  }, [proposalAddress])\n\n  useEffect(() => {\n    fetchReceipts()\n  }, [fetchReceipts])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Row>\n            <Col flex=\"auto\">\n              <Typography.Title level={5}> Votes</Typography.Title>\n            </Col>\n            <Col>\n              <Button onClick={fetchReceipts}>Refresh</Button>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Table\n            columns={historyColum}\n            dataSource={listReceipt.slice(0, amount)}\n            pagination={false}\n            loading={loading}\n            rowKey={({ index, lockedDate }) =>\n              index.toNumber() + lockedDate.toNumber()\n            }\n          />\n        </Col>\n        <Col span={24} style={{ textAlign: 'center' }}>\n          <Button\n            disabled={listReceipt.length <= amount}\n            onClick={() => setAmount(amount + DEFAULT_AMOUNT_HISTORY)}\n            icon={<IonIcon name=\"chevron-down-outline\" />}\n          >\n            View more\n          </Button>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\nexport default History\n","import { useParams, useHistory } from 'react-router-dom'\n\nimport { Button, Col, Row } from 'antd'\nimport CardStatus from './cardStatus'\nimport CardVote from './cardVote'\nimport CardInfo from './cardInfo'\nimport CardProgress from './cardProgress'\nimport History from './history'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport configs from 'app/configs'\n\nimport './index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport type ProposalChildCardProps = {\n  proposalAddress: string\n  daoAddress: string\n}\n\nconst ProposalDetails = () => {\n  const history = useHistory()\n  const { proposalAddress, daoAddress } =\n    useParams<{ daoAddress: string; proposalAddress: string }>()\n\n  return (\n    <Row justify=\"center\">\n      <Col xs={24} lg={18}>\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <Button\n              type=\"text\"\n              icon={<IonIcon name=\"arrow-back-outline\" />}\n              onClick={() => history.push(`/app/${appId}/dao/${daoAddress}`)}\n            >\n              Back\n            </Button>\n          </Col>\n          <Col span={24}>\n            <Row gutter={[24, 24]}>\n              <Col xs={24} md={16}>\n                <Row gutter={[24, 24]}>\n                  <Col span={24}>\n                    <CardStatus\n                      proposalAddress={proposalAddress}\n                      daoAddress={daoAddress}\n                    />\n                  </Col>\n                  <Col span={24}>\n                    <CardVote\n                      proposalAddress={proposalAddress}\n                      daoAddress={daoAddress}\n                    />\n                  </Col>\n                  <Col span={24}>\n                    <History\n                      proposalAddress={proposalAddress}\n                      daoAddress={daoAddress}\n                    />\n                  </Col>\n                </Row>\n              </Col>\n              <Col xs={24} md={8}>\n                <Row gutter={[24, 24]}>\n                  <Col span={24}>\n                    <CardInfo\n                      proposalAddress={proposalAddress}\n                      daoAddress={daoAddress}\n                    />\n                  </Col>\n                  <Col span={24}>\n                    <CardProgress\n                      proposalAddress={proposalAddress}\n                      daoAddress={daoAddress}\n                    />\n                  </Col>\n                </Row>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\nexport default ProposalDetails\n","import { useHistory } from 'react-router-dom'\nimport { useDispatch } from 'react-redux'\n\nimport { Row, Button, Col, ButtonProps } from 'antd'\n\nimport configs from 'app/configs'\nimport { AppDispatch } from 'app/model'\nimport { setInitDao } from 'app/model/dao.controller'\nimport { setInitMetadata } from 'app/model/metadata.controller'\n\nconst {\n  manifest: { appId },\n} = configs\n\ntype ActionButtonProps = {\n  daoAddress: string\n  onSave: () => void\n} & ButtonProps\n\nconst ActionButton = ({ daoAddress, onSave, ...rest }: ActionButtonProps) => {\n  const history = useHistory()\n  const dispatch = useDispatch<AppDispatch>()\n\n  const onCancel = async () => {\n    await dispatch(setInitDao())\n    await dispatch(setInitMetadata())\n    return history.push(`/app/${appId}/dao/${daoAddress}`)\n  }\n\n  return (\n    <Row>\n      <Col flex=\"auto\">\n        <Button onClick={onCancel} type=\"text\">\n          Cancel\n        </Button>\n      </Col>\n      <Col>\n        <Button {...rest} onClick={onSave} type=\"primary\">\n          Save\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ActionButton\n","import { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { CID } from 'ipfs-core'\n\nimport { Col, Row } from 'antd'\nimport DaoInformation from '../daoInitialization/daoInfomation'\nimport ActionButton from './actionButton'\n\nimport IPFS from 'shared/pdb/ipfs'\nimport { explorer } from 'shared/util'\nimport configs from 'app/configs'\nimport { AppDispatch, AppState } from 'app/model'\nimport useMetaData from 'app/hooks/useMetaData'\nimport { setInitMetadata } from 'app/model/metadata.controller'\nimport usePDB from 'app/hooks/usePDB'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst Information = ({ daoAddress }: { daoAddress: string }) => {\n  const [loading, setLoading] = useState(false)\n  const {\n    metadata: { initMetadata },\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch<AppDispatch>()\n  const metaData = useMetaData(daoAddress)\n  const pdb = usePDB()\n\n  const updateMetaData = async () => {\n    setLoading(true)\n    try {\n      const ipfs = new IPFS()\n      const cid = await ipfs.set(initMetadata)\n      const {\n        multihash: { digest },\n      } = CID.parse(cid)\n      const daoMetaData = Buffer.from(digest)\n      const { txId } = await interDao.updateDaoMetadata(daoMetaData, daoAddress)\n      window.notify({\n        type: 'success',\n        description:\n          'Update information successfully. Click here to view details',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n\n      const localMetadata = { ...initMetadata, cid } //update metadata for realtime\n      return pdb.setItem(daoAddress, localMetadata)\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    dispatch(setInitMetadata(metaData))\n  }, [dispatch, metaData])\n\n  return (\n    <Row gutter={[32, 32]}>\n      <Col span={24}>\n        <DaoInformation />\n      </Col>\n      <Col span={24}>\n        <ActionButton\n          onSave={updateMetaData}\n          daoAddress={daoAddress}\n          loading={loading}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Information\n","import { ChangeEvent, useCallback, useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport isEqual from 'react-fast-compare'\n\nimport { Button, Col, Row, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport MemberInput from 'app/view/dao/daoInitialization/multisigDAO/daoRule/memberInput'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { setInitMetadata } from 'app/model/metadata.controller'\n\nconst DAOMembers = () => {\n  const [oldMember, setOldMember] = useState<string[]>([])\n  const {\n    metadata: { initMetadata },\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch<AppDispatch>()\n  const { members } = initMetadata\n\n  const addMember = () => {\n    const nextMembers = [...members]\n    nextMembers.push({ name: '', walletAddress: '' })\n    return dispatch(setInitMetadata({ members: nextMembers }))\n  }\n\n  const onChangeMember = (e: ChangeEvent<HTMLInputElement>, index: number) => {\n    const nextMembers = [...members]\n    for (const { walletAddress } of members) {\n      if (isEqual(walletAddress, e.target.value))\n        return window.notify({\n          type: 'warning',\n          description: 'This wallet address already exists',\n        })\n    }\n    nextMembers[index] = {\n      ...nextMembers[index],\n      [e.target.name]: e.target.value,\n    }\n    return dispatch(setInitMetadata({ members: nextMembers }))\n  }\n\n  const remove = (index: number) => {\n    const nextMembers = [...members]\n    nextMembers.splice(index, 1)\n    return dispatch(setInitMetadata({ members: nextMembers }))\n  }\n\n  const setDefaultMembers = useCallback(() => {\n    if (oldMember.length) return\n    const oldAddresses = []\n    for (const { walletAddress } of members) {\n      oldAddresses.push(walletAddress)\n    }\n    return setOldMember(oldAddresses)\n  }, [members, oldMember])\n\n  useEffect(() => {\n    setDefaultMembers()\n  }, [setDefaultMembers])\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Typography.Title level={4}>\n          People who'll be part of your team.\n        </Typography.Title>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[12, 12]}>\n          {members.length &&\n            members.map(({ name, walletAddress }, idx) => {\n              return (\n                <Col span={24} key={idx}>\n                  <MemberInput\n                    name={name}\n                    walletAddress={walletAddress}\n                    onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                      onChangeMember(e, idx)\n                    }\n                    remove={() => remove(idx)}\n                    disabledBtn={oldMember.includes(walletAddress)}\n                    disabledWalletInput={oldMember.includes(walletAddress)}\n                    disabledName={oldMember.includes(walletAddress)}\n                  />\n                </Col>\n              )\n            })}\n          <Col span={4}>\n            <Button\n              block\n              type=\"dashed\"\n              icon={<IonIcon name=\"add-outline\" />}\n              onClick={addMember}\n            >\n              Add\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DAOMembers\n","import { useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { CID } from 'ipfs-core'\n\nimport { Col, Row } from 'antd'\nimport Regime from '../../../daoInitialization/multisigDAO/daoRule/regime'\nimport ActionButton from '../../actionButton'\nimport DAOMembers from './daoMembers'\n\nimport { AppState } from 'app/model'\nimport { explorer } from 'shared/util'\nimport configs from 'app/configs'\nimport IPFS from 'shared/pdb/ipfs'\nimport MultisigWallet from 'app/helpers/mutisigWallet'\nimport usePDB from 'app/hooks/usePDB'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst EditMultisigDaoRule = ({ daoAddress }: { daoAddress: string }) => {\n  const [loading, setLoading] = useState(false)\n  const daos = useSelector((state: AppState) => state.dao.daos)\n  const initMetadata = useSelector(\n    (state: AppState) => state.metadata.initMetadata,\n  )\n\n  const { members } = initMetadata\n  const pdb = usePDB()\n\n  const disabled = useMemo(() => {\n    for (const { walletAddress } of members) {\n      if (!account.isAddress(walletAddress)) return true\n    }\n    return false\n  }, [members])\n\n  const validAccount = async (walletAddress: string, mintAddress: string) => {\n    try {\n      const { splt } = window.sentre\n      const associatedAddress = await splt.deriveAssociatedAddress(\n        walletAddress,\n        mintAddress,\n      )\n      const data = await splt.getAccountData(associatedAddress)\n      if (data) return false\n    } catch (error) {\n      return true\n    }\n  }\n\n  const updateMember = async () => {\n    const { mint } = daos?.[daoAddress]\n    const mintAddress = mint.toBase58()\n    try {\n      setLoading(true)\n      const ipfs = new IPFS()\n      const cid = await ipfs.set(initMetadata)\n      const {\n        multihash: { digest },\n      } = CID.parse(cid)\n      const daoMetaData = Buffer.from(digest)\n      const { txId } = await interDao.updateDaoMetadata(daoMetaData, daoAddress)\n      const multisigWallet = new MultisigWallet(mintAddress)\n\n      for (const { walletAddress } of members) {\n        const isValid = await validAccount(walletAddress, mintAddress)\n        if (!isValid) continue\n        await multisigWallet.mintToAccount(walletAddress, 1)\n      }\n\n      window.notify({\n        type: 'success',\n        description: 'Update members successfully. Click here to view details',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n\n      const localMetadata = { ...initMetadata, cid } //update metadata for realtime\n      return pdb.setItem(daoAddress, localMetadata)\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Row gutter={[32, 32]}>\n      <Col span={24}>\n        <Regime />\n      </Col>\n      <Col span={24}>\n        <DAOMembers />\n      </Col>\n      <Col span={24}>\n        <ActionButton\n          loading={loading}\n          onSave={updateMember}\n          daoAddress={daoAddress}\n          disabled={disabled}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default EditMultisigDaoRule\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { SystemProgram } from '@solana/web3.js'\nimport BN from 'bn.js'\nimport { DaoRegime } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\n\nimport { Col, Row } from 'antd'\nimport DaoRule from '../../daoInitialization/flexibleDAO/daoRule'\nimport ActionButton from '../actionButton'\n\nimport configs from 'app/configs'\nimport { AppState } from 'app/model'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport { explorer } from 'shared/util'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst EditFlexibleDaoRule = ({ daoAddress }: { daoAddress: string }) => {\n  const [loading, setLoading] = useState(false)\n  const [oldRegime, setOldRegime] = useState<DaoRegime>()\n  const [oldSupply, setOldSupply] = useState<BN>(new BN(0))\n  const {\n    dao: { daos, initDao },\n  } = useSelector((state: AppState) => state)\n  const { mint, regime, supply } = daos?.[daoAddress] || {\n    regime: {},\n    supply: new BN(0),\n    mint: SystemProgram.programId,\n  }\n  const decimals = useMintDecimals(mint.toBase58()) || 0\n\n  const updateRegime = async () => {\n    const { regime } = initDao\n    if (!regime || isEqual(regime, oldRegime)) return\n    try {\n      const { txId } = await interDao.updateDaoRegime(regime, daoAddress)\n      return window.notify({\n        type: 'success',\n        description: 'Update regime successfully. Click here to view details',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    }\n  }\n\n  const updateSupply = async () => {\n    const { supply } = initDao\n    const supplyDecimal = supply.mul(new BN(10).pow(new BN(decimals)))\n    if (!supply || isEqual(supplyDecimal, oldSupply)) return\n    try {\n      const { txId: txIdSupply } = await interDao.updateDaoSupply(\n        supplyDecimal,\n        daoAddress,\n      )\n      return window.notify({\n        type: 'success',\n        description: 'Update supply successfully. Click here to view details',\n        onClick: () => window.open(explorer(txIdSupply), '_blank'),\n      })\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    }\n  }\n\n  const onUpdate = async () => {\n    setLoading(true)\n    await updateRegime()\n    await updateSupply()\n    return setLoading(false)\n  }\n\n  const setDefaultValue = useCallback(() => {\n    if (oldSupply && oldRegime) return\n    setOldSupply(supply)\n    setOldRegime(regime)\n  }, [oldRegime, oldSupply, regime, supply])\n\n  useEffect(() => {\n    setDefaultValue()\n  }, [setDefaultValue])\n\n  return (\n    <Row gutter={[32, 32]}>\n      <Col span={24}>\n        <DaoRule />\n      </Col>\n      <Col span={24}>\n        <ActionButton\n          loading={loading}\n          onSave={onUpdate}\n          daoAddress={daoAddress}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default EditFlexibleDaoRule\n","import { useCallback, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { SystemProgram } from '@solana/web3.js'\nimport { BN } from 'bn.js'\n\nimport EditMultisigDaoRule from './editMultisigDaoRule'\nimport EditFlexibleDaoRule from './editFlexibleDaoRule'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { InitDao, setInitDao } from 'app/model/dao.controller'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport useMetaData from 'app/hooks/useMetaData'\n\nconst Rule = ({ daoAddress }: { daoAddress: string }) => {\n  const {\n    dao: { daos },\n  } = useSelector((state: AppState) => state)\n  const { mint, regime, supply, isNft, isPublic } = daos?.[daoAddress] || {\n    regime: {},\n    supply: new BN(0),\n    mint: SystemProgram.programId,\n  }\n  const dispatch = useDispatch<AppDispatch>()\n  const decimals = useMintDecimals(mint.toBase58()) || 0\n  const metaData = useMetaData(daoAddress)\n\n  const setDefaultValue = useCallback(() => {\n    if (!account.isAddress(daoAddress)) return\n    const nextData: InitDao = {\n      mintAddress: mint.toBase58(),\n      supply: supply.div(new BN(10 ** decimals)),\n      regime,\n      isNft,\n      isPublic,\n    }\n    return dispatch(setInitDao(nextData))\n  }, [daoAddress, decimals, dispatch, isNft, isPublic, mint, regime, supply])\n\n  useEffect(() => {\n    setDefaultValue()\n  }, [setDefaultValue])\n\n  return metaData?.daoType === 'multisig-dao' ? (\n    <EditMultisigDaoRule daoAddress={daoAddress} />\n  ) : (\n    <EditFlexibleDaoRule daoAddress={daoAddress} />\n  )\n}\n\nexport default Rule\n","import { ChangeEvent, useState } from 'react'\nimport { account } from '@senswap/sen-js'\n\nimport { Col, Input, Row, Space, Typography } from 'antd'\nimport RowSpaceVertical from 'app/components/rowSpaceVertical'\nimport ActionButton from './actionButton'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport configs from 'app/configs'\nimport { explorer } from 'shared/util'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst TransferAuthority = ({ daoAddress }: { daoAddress: string }) => {\n  const [authority, setAuthority] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const updateAuthority = async () => {\n    if (!account.isAddress(authority)) return\n    try {\n      setLoading(true)\n      const { txId } = await interDao.transferAuthority(authority, daoAddress)\n      return window.notify({\n        type: 'success',\n        description:\n          'Transfer authority successfully. Click here to view details',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Space size={12}>\n          <IonIcon name=\"alert-circle-outline\" />\n          <Typography.Text type=\"secondary\" className=\"caption\">\n            Your current account will lose the DAO control when you transfer\n            authority.\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <RowSpaceVertical\n          style={{ width: '100%' }}\n          label=\"Transfer to author\"\n          value={\n            <Input\n              placeholder=\"E.g. Agt8...\"\n              onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                setAuthority(e.target.value)\n              }\n              className=\"border-less\"\n            />\n          }\n        />\n      </Col>\n      <Col span={24} />\n      <Col span={24}>\n        <ActionButton\n          loading={loading}\n          daoAddress={daoAddress}\n          onSave={updateAuthority}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default TransferAuthority\n","import { useParams } from 'react-router-dom'\n\nimport { Card, Col, Row, Tabs, Typography } from 'antd'\nimport Information from './information'\nimport Rule from './rule'\nimport TransferAuthority from './transferAuthority'\n\nimport './index.less'\n\nconst EditDAO = () => {\n  const { daoAddress } = useParams<{ daoAddress: string }>()\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\">\n      <Col xs={24} lg={16}>\n        <Card bodyStyle={{ padding: 0 }} bordered={false} className=\"edit-dao\">\n          <Row>\n            <Col span={24} className=\"edit-dao_header\">\n              <Typography.Title level={4}>Edit DAO</Typography.Title>\n            </Col>\n            <Col span={24} className=\"edit-dao_body\">\n              <Tabs>\n                <Tabs.TabPane key=\"information\" tab=\"Information\">\n                  <Information daoAddress={daoAddress} />\n                </Tabs.TabPane>\n                <Tabs.TabPane key=\"rule\" tab=\"Rule\">\n                  <Rule daoAddress={daoAddress} />\n                </Tabs.TabPane>\n                <Tabs.TabPane key=\"transfer-authority\" tab=\"Transfer Authority\">\n                  <TransferAuthority daoAddress={daoAddress} />\n                </Tabs.TabPane>\n              </Tabs>\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\nexport default EditDAO\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\nimport { PublicKey } from '@solana/web3.js'\n\nimport { AppDispatch } from 'app/model'\nimport configs from 'app/configs'\nimport { getDao, getDaos } from 'app/model/dao.controller'\n\nconst {\n  sol: { interDao },\n} = configs\n\n// Watch id\nlet initializeDAOEventId = 0\nlet updateDaoRegimeEventId = 0\nlet updateSupplyEventId = 0\nlet transferAuthorityEventId = 0\nlet updateDaoMetadataEventId = 0\n\nlet watchInitializeDAOEventId: NodeJS.Timer\nlet watchUpdateDaoRegimeEventId: NodeJS.Timer\nlet watchUpdateSupplyEventId: NodeJS.Timer\nlet watchTransferAuthorityEventId: NodeJS.Timer\nlet watchUpdateDaoMetadataEventId: NodeJS.Timer\n\nconst TIME_RECHECK = 2000\n\nconst DaoWatcher = () => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const dispatch = useDispatch<AppDispatch>()\n\n  const reloadDaoData = useCallback(\n    ({ dao: daoPublicKey }: { dao: PublicKey }) => {\n      const daoAddress = daoPublicKey.toBase58()\n      return dispatch(getDao({ address: daoAddress, force: true }))\n    },\n    [dispatch],\n  )\n\n  // First-time fetching\n  const fetchData = useCallback(async () => {\n    try {\n      if (!account.isAddress(walletAddress)) return\n\n      await dispatch(getDaos()).unwrap()\n    } catch (er) {\n      return window.notify({\n        type: 'error',\n        description: 'Cannot fetch data of DAOs',\n      })\n    }\n  }, [dispatch, walletAddress])\n  // Watch dao events\n  const watchData = useCallback(async () => {\n    watchInitializeDAOEventId = setInterval(async () => {\n      if (initializeDAOEventId) return clearInterval(watchInitializeDAOEventId)\n      initializeDAOEventId = await interDao.addListener(\n        'InitializeDAOEvent',\n        reloadDaoData,\n      )\n    }, TIME_RECHECK)\n\n    watchUpdateDaoRegimeEventId = setInterval(async () => {\n      if (updateDaoRegimeEventId)\n        return clearInterval(watchUpdateDaoRegimeEventId)\n      updateDaoRegimeEventId = await interDao.addListener(\n        'UpdateDaoRegimeEvent',\n        reloadDaoData,\n      )\n    }, TIME_RECHECK)\n\n    watchUpdateSupplyEventId = setInterval(async () => {\n      if (updateSupplyEventId) return clearInterval(watchUpdateSupplyEventId)\n      updateSupplyEventId = await interDao.addListener(\n        'UpdateSupplyEvent',\n        reloadDaoData,\n      )\n    }, TIME_RECHECK)\n\n    watchTransferAuthorityEventId = setInterval(async () => {\n      if (transferAuthorityEventId)\n        return clearInterval(watchTransferAuthorityEventId)\n      transferAuthorityEventId = await interDao.addListener(\n        'TransferAuthorityEvent',\n        reloadDaoData,\n      )\n    }, TIME_RECHECK)\n\n    watchUpdateDaoMetadataEventId = setInterval(async () => {\n      if (updateDaoMetadataEventId)\n        return clearInterval(watchUpdateDaoMetadataEventId)\n      updateDaoMetadataEventId = await interDao.addListener(\n        'UpdateDaoMetadataEvent',\n        reloadDaoData,\n      )\n    }, 2000)\n  }, [reloadDaoData])\n\n  useEffect(() => {\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await interDao.removeListener(initializeDAOEventId)\n          await interDao.removeListener(updateDaoRegimeEventId)\n          await interDao.removeListener(updateSupplyEventId)\n          await interDao.removeListener(transferAuthorityEventId)\n          await interDao.removeListener(updateDaoMetadataEventId)\n        } catch (er: any) {\n          console.warn(er.message)\n        } finally {\n          initializeDAOEventId = 0\n          updateDaoRegimeEventId = 0\n          updateSupplyEventId = 0\n          transferAuthorityEventId = 0\n          updateDaoMetadataEventId = 0\n        }\n      })()\n    }\n  }, [fetchData, watchData])\n\n  return <Fragment />\n}\n\nexport default DaoWatcher\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { PublicKey } from '@solana/web3.js'\n\nimport { AppDispatch } from 'app/model'\nimport configs from 'app/configs'\nimport { getProposal, getProposals } from 'app/model/proposal.controller'\n\nconst {\n  sol: { interDao },\n} = configs\n\n// Watch id\nlet initializeProposalEventId = 0\nlet voteForEventId = 0\nlet voteAgainstEventId = 0\nlet executeProposalEventId = 0\n\nlet watchInitializeProposal: NodeJS.Timer\nlet watchVoteFor: NodeJS.Timer\nlet watchVoteAgainst: NodeJS.Timer\nlet watchExecuteProposal: NodeJS.Timer\n\nconst TIME_RECHECK = 2000\n\nconst ProposalWatcher = () => {\n  const dispatch = useDispatch<AppDispatch>()\n\n  const reloadProposalData = useCallback(\n    ({ proposal: proposalPublicKey }: { proposal: PublicKey }) => {\n      const proposalAddress = proposalPublicKey.toBase58()\n      return dispatch(getProposal({ address: proposalAddress, force: true }))\n    },\n    [dispatch],\n  )\n\n  // Watch dao events\n  const watchData = useCallback(async () => {\n    watchInitializeProposal = setInterval(async () => {\n      if (initializeProposalEventId)\n        return clearInterval(watchInitializeProposal)\n      initializeProposalEventId = await interDao.addListener(\n        'InitializeProposalEvent',\n        reloadProposalData,\n      )\n    }, TIME_RECHECK)\n\n    watchVoteFor = setInterval(async () => {\n      if (voteForEventId) return clearInterval(watchVoteFor)\n      voteForEventId = await interDao.addListener(\n        'VoteForEvent',\n        reloadProposalData,\n      )\n    }, TIME_RECHECK)\n\n    watchVoteAgainst = setInterval(async () => {\n      if (voteAgainstEventId) return clearInterval(watchVoteAgainst)\n      voteAgainstEventId = await interDao.addListener(\n        'VoteAgainstEvent',\n        reloadProposalData,\n      )\n    }, TIME_RECHECK)\n\n    watchExecuteProposal = setInterval(async () => {\n      if (executeProposalEventId) return clearInterval(watchExecuteProposal)\n      executeProposalEventId = await interDao.addListener(\n        'ExecuteProposalEvent',\n        reloadProposalData,\n      )\n    }, TIME_RECHECK)\n  }, [reloadProposalData])\n\n  useEffect(() => {\n    // I don't understand why but this fixes the watcher error\n    watchData()\n    dispatch(getProposals()) //fetch all proposal\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await interDao.removeListener(initializeProposalEventId)\n          await interDao.removeListener(voteForEventId)\n          await interDao.removeListener(voteAgainstEventId)\n          await interDao.removeListener(executeProposalEventId)\n        } catch (er: any) {\n          console.warn(er.message)\n        } finally {\n          initializeProposalEventId = 0\n          voteForEventId = 0\n          voteAgainstEventId = 0\n          executeProposalEventId = 0\n        }\n      })()\n    }\n  }, [dispatch, watchData])\n\n  return <Fragment />\n}\n\nexport default ProposalWatcher\n","import { AccountInfo, PublicKey } from '@solana/web3.js'\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport {\n  ProposalData,\n  ReceiptData,\n  RECEIPT_DISCRIMINATOR,\n} from '@interdao/core'\nimport { account } from '@senswap/sen-js'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\n/**\n * Interface & Utility\n */\n\nexport type ReceiptState = Record<string, ReceiptData>\n\n/**\n * Store constructor\n */\n\nconst NAME = 'receipt'\nconst initialState: ReceiptState = {}\n\n/**\n * Actions\n */\n\nexport const getReceipts = createAsyncThunk(\n  `${NAME}/getReceipts`,\n  async ({ authorityAddress }: { authorityAddress: string }) => {\n    if (!account.isAddress(authorityAddress)) throw new Error('Invalid address')\n    const {\n      provider: { connection },\n      programId,\n      account: { receipt },\n    } = interDao.program\n    const value: Array<{ pubkey: PublicKey; account: AccountInfo<Buffer> }> =\n      await connection.getProgramAccounts(programId, {\n        filters: [\n          { dataSize: receipt.size },\n          {\n            memcmp: {\n              offset: 0,\n              bytes: RECEIPT_DISCRIMINATOR,\n            },\n          },\n          {\n            memcmp: {\n              offset: 16,\n              bytes: authorityAddress,\n            },\n          },\n        ],\n      })\n    let bulk: ReceiptState = {}\n    value.forEach(({ pubkey, account: { data: buf } }) => {\n      const address = pubkey.toBase58()\n      const data = interDao.parseReceiptData(buf)\n      bulk[address] = data\n    })\n    return bulk\n  },\n)\n\nexport const getReceipt = createAsyncThunk<\n  ReceiptState,\n  { address: string; force?: boolean },\n  { state: any }\n>(`${NAME}/getReceipt`, async ({ address, force }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  const {\n    dao: { [address]: data },\n  } = getState()\n  if (data && !force) return { [address]: data }\n  const raw = await interDao.getReceiptData(address)\n  return { [address]: raw }\n})\n\nexport const upsetReceipt = createAsyncThunk<\n  ReceiptState,\n  { address: string; data: ProposalData },\n  { state: any }\n>(`${NAME}/upsetReceipt`, async ({ address, data }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  if (!data) throw new Error('Data is empty')\n  return { [address]: data }\n})\n\nexport const deleteReceipt = createAsyncThunk(\n  `${NAME}/deleteReceipt`,\n  async ({ address }: { address: string }) => {\n    if (!account.isAddress(address)) throw new Error('Invalid address')\n    return { address }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        getReceipts.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        getReceipt.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetReceipt.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        deleteReceipt.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { PublicKey } from '@solana/web3.js'\nimport { useWallet } from '@senhub/providers'\nimport { account } from '@senswap/sen-js'\n\nimport { AppDispatch } from 'app/model'\nimport configs from 'app/configs'\nimport { getReceipt, getReceipts } from 'app/model/receipt.controller'\n\nconst {\n  sol: { interDao },\n} = configs\n\n// Watch id\nlet voteForEventId = 0\nlet voteAgainstEventId = 0\nlet closeEventId = 0\n\nlet watchVoteFor: NodeJS.Timer\nlet watchVoteAgainst: NodeJS.Timer\nlet watchClose: NodeJS.Timer\n\nconst TIME_RECHECK = 2000\n\nconst ReceiptWatcher = () => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const dispatch = useDispatch<AppDispatch>()\n\n  const reloadReceiptData = useCallback(\n    ({ receipt: receiptPublicKey }: { receipt: PublicKey }) => {\n      const receiptAddress = receiptPublicKey.toBase58()\n      return dispatch(getReceipt({ address: receiptAddress, force: true }))\n    },\n    [dispatch],\n  )\n\n  // First-time fetching\n  const fetchData = useCallback(async () => {\n    try {\n      if (!account.isAddress(walletAddress)) return\n      await dispatch(getReceipts({ authorityAddress: walletAddress })).unwrap()\n    } catch (er) {\n      return window.notify({\n        type: 'error',\n        description: 'Cannot fetch data of receipts',\n      })\n    }\n  }, [dispatch, walletAddress])\n  // Watch dao events\n  const watchData = useCallback(async () => {\n    watchVoteFor = setInterval(async () => {\n      if (voteForEventId) return clearInterval(watchVoteFor)\n      voteForEventId = await interDao.addListener(\n        'VoteForEvent',\n        reloadReceiptData,\n      )\n    }, TIME_RECHECK)\n\n    watchVoteAgainst = setInterval(async () => {\n      if (voteAgainstEventId) return clearInterval(watchVoteAgainst)\n      voteAgainstEventId = await interDao.addListener(\n        'VoteAgainstEvent',\n        reloadReceiptData,\n      )\n    }, TIME_RECHECK)\n\n    watchClose = setInterval(async () => {\n      if (closeEventId) return clearInterval(watchClose)\n      closeEventId = await interDao.addListener('CloseEvent', reloadReceiptData)\n    }, TIME_RECHECK)\n  }, [reloadReceiptData])\n\n  useEffect(() => {\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await interDao.removeListener(voteForEventId)\n          await interDao.removeListener(voteAgainstEventId)\n          await interDao.removeListener(closeEventId)\n        } catch (er: any) {\n          console.warn(er.message)\n        } finally {\n          voteForEventId = 0\n          voteAgainstEventId = 0\n          closeEventId = 0\n        }\n      })()\n    }\n  }, [fetchData, watchData])\n\n  return <Fragment />\n}\n\nexport default ReceiptWatcher\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { AppState } from 'app/model'\nimport { getCID } from 'app/helpers'\nimport IPFS from 'shared/pdb/ipfs'\nimport { MetaData } from 'app/model/metadata.controller'\nimport usePDB from 'app/hooks/usePDB'\n\nconst ipfs = new IPFS()\n\nexport type LocalMetadata = {\n  cid: string\n} & MetaData\n\nconst MetadataWatcher = () => {\n  const daos = useSelector((state: AppState) => state.dao.daos)\n  const pdb = usePDB()\n\n  const loadAllMetaData = useCallback(async () => {\n    Object.keys(daos).map(async (daoAddress) => {\n      const metadata = (await pdb.getItem(daoAddress)) as LocalMetadata\n      const { metadata: digest } = daos[daoAddress]\n      const cid = getCID(digest)\n      if (metadata && metadata.cid === cid) return\n      const data: MetaData = await ipfs.get(cid)\n      if (!data) return\n      const localMetadata = { ...data, cid }\n      await pdb.setItem(daoAddress, localMetadata)\n    })\n  }, [daos, pdb])\n\n  useEffect(() => {\n    loadAllMetaData()\n  }, [loadAllMetaData])\n\n  return <Fragment />\n}\n\nexport default MetadataWatcher\n","import { useEffect } from 'react'\nimport { useUI } from '@senhub/providers'\nimport { Redirect, Route, Switch } from 'react-router-dom'\n\nimport { Row, Col } from 'antd'\nimport Dao from './dao'\nimport Proposal from './proposal'\nimport ProposalInitialization from './proposal/proposalInitialization'\nimport DaoInitialization from './dao/daoInitialization'\nimport ProposalDetails from './proposal/proposalDetails'\nimport EditDAO from './dao/editDao'\nimport DaoWatcher from './watcher/dao.watcher'\nimport ProposalWatcher from './watcher/proposal.watcher'\nimport ReceiptWatcher from './watcher/receipt.watcher'\nimport MetadataWatcher from './watcher/metadata.watcher'\n\nimport BG from 'app/static/images/system/bg-dark.png'\nimport BG_LIGHT from 'app/static/images/system/bg-light.png'\nimport configs from 'app/configs'\n\nimport 'app/static/styles/dark.less'\nimport 'app/static/styles/light.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst View = () => {\n  const { setBackground } = useUI()\n\n  useEffect(() => {\n    setBackground({ light: BG_LIGHT, dark: BG })\n  }, [setBackground])\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\">\n      <Col span={24}>\n        <Switch>\n          <Route exact path={`/app/${appId}/dao`} component={Dao} />\n          <Route\n            exact\n            path={`/app/${appId}/dao/new-dao`}\n            component={DaoInitialization}\n          />\n          <Route\n            exact\n            path={`/app/${appId}/dao/:daoAddress`}\n            component={Proposal}\n          />\n          <Route\n            exact\n            path={`/app/${appId}/dao/:daoAddress/edit`}\n            component={EditDAO}\n          />\n          <Route\n            exact\n            path={`/app/${appId}/dao/:daoAddress/new-proposal`}\n            component={ProposalInitialization}\n          />\n          <Route\n            exact\n            path={`/app/${appId}/dao/:daoAddress/proposal/:proposalAddress`}\n            component={ProposalDetails}\n          />\n          <Redirect from=\"*\" to={`/app/${appId}/dao`} />\n        </Switch>\n      </Col>\n      <Col span={24} />\n      <DaoWatcher />\n      <ProposalWatcher />\n      <ReceiptWatcher />\n      <MetadataWatcher />\n    </Row>\n  )\n}\n\nexport default View\n","import { PublicKey } from '@solana/web3.js'\nimport BN from 'bn.js'\n\n// Bugfix performance\n// https://github.com/zalmoxisus/redux-devtools-extension/blob/master/docs/Troubleshooting.md#excessive-use-of-memory-and-cpu\nexport const devTools = (appName: string): any => {\n  if (process.env.REACT_APP_ENV !== 'development') return false\n  return {\n    name: appName,\n    actionSanitizer: ({ payload, type }: { payload: any; type: string }) => ({\n      payload,\n      type,\n    }),\n  }\n}\n\n// BigInt Serialization Middleware\n// https://redux-toolkit.js.org/api/serializabilityMiddleware\nconst isPlain = (val: any): boolean => {\n  const isPlainObject = (obj: object): boolean => {\n    if (obj === null) return false\n    const proto = Object.getPrototypeOf(obj)\n    return proto !== null && Object.getPrototypeOf(proto) === null\n  }\n  return (\n    typeof val === 'undefined' ||\n    val === null ||\n    typeof val === 'string' ||\n    typeof val === 'boolean' ||\n    typeof val === 'number' ||\n    Array.isArray(val) ||\n    isPlainObject(val) ||\n    typeof val === 'bigint' ||\n    val instanceof PublicKey ||\n    val instanceof BN ||\n    val instanceof Buffer\n  )\n}\nBigInt.prototype.toJSON = function () {\n  return this.toString() // https://github.com/GoogleChromeLabs/jsbi/issues/30\n}\nexport const bigintSerializationMiddleware = {\n  serializableCheck: {\n    isSerializable: isPlain,\n  },\n}\n","import { configureStore } from '@reduxjs/toolkit'\nimport { devTools, bigintSerializationMiddleware } from 'app/model/devTools'\n\nimport dao from 'app/model/dao.controller'\nimport metadata from 'app/model/metadata.controller'\nimport proposal from 'app/model/proposal.controller'\nimport receipt from 'app/model/receipt.controller'\nimport voteBid from 'app/model/voteBid.controller'\nimport template from 'app/model/template.controller'\n\n/**\n * Isolated store\n */\nconst model = configureStore({\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware(bigintSerializationMiddleware),\n  devTools: devTools(process.env.REACT_APP_ID as string),\n  reducer: {\n    dao,\n    metadata,\n    proposal,\n    receipt,\n    voteBid,\n    template,\n  },\n})\n\nexport type AppState = ReturnType<typeof model.getState>\nexport type AppDispatch = typeof model.dispatch\nexport default model\n","import { Provider } from 'react-redux'\nimport {\n  WalletProvider,\n  UIProvider,\n  AccountProvider,\n  PoolProvider,\n  MintProvider,\n} from '@senhub/providers'\n\nimport View from 'app/view'\nimport model from 'app/model'\nimport configs from 'app/configs'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport const Page = () => {\n  return (\n    <UIProvider appId={appId} antd={{ prefixCls: appId }}>\n      <WalletProvider>\n        <AccountProvider>\n          <PoolProvider>\n            <MintProvider>\n              <Provider store={model}>\n                <View />\n              </Provider>\n            </MintProvider>\n          </PoolProvider>\n        </AccountProvider>\n      </WalletProvider>\n    </UIProvider>\n  )\n}\n\nexport * from 'app/static.app'\n","export type LimitConfig = {\n  calls: number\n  time: number\n}\n\nexport type CacheConfig = {\n  ttl: number // millisecond\n}\n\nexport type SingleFlightConfig = {\n  limit?: LimitConfig\n  cache?: CacheConfig\n}\n\n// 10 request per 1 second\nexport const DEFAULT_LIMIT_CONFIG: LimitConfig = {\n  calls: 10,\n  time: 1000,\n}\n\n// 10 request per 1 second\nexport const DEFAULT_CACHE_CONFIG: CacheConfig = {\n  ttl: 30000,\n}\n\nexport const DEFAULT_SINGLE_FLIGHT_CONFIG: SingleFlightConfig = {\n  limit : DEFAULT_LIMIT_CONFIG,\n  cache: DEFAULT_CACHE_CONFIG\n}","export interface IRequestQueue {\n  key: string\n  add(resolve: any, reject: any): void\n  resolves(data: any): void\n  rejects(error: any): void\n}\n\nexport class RequestQueue implements IRequestQueue {\n  key = ''\n  private resolveQueue: any[] = []\n  private rejectQueue: any[] = []\n  constructor(key: string) {\n    this.key = key\n  }\n\n  add(resolve: any, reject: any) {\n    this.resolveQueue.push(resolve)\n    this.rejectQueue.push(reject)\n  }\n\n  resolves(data: any) {\n    while (this.resolveQueue.length > 0) {\n      const resolve = this.resolveQueue.shift()\n      resolve(data)\n    }\n  }\n\n  rejects(error: any) {\n    while (this.rejectQueue.length > 0) {\n      const reject = this.rejectQueue.shift()\n      reject(error)\n    }\n  }\n}\n","import { DEFAULT_CACHE_CONFIG } from './constant'\nimport { CacheConfig } from './constant'\n\nexport class SingleFlightCache {\n  private static mapCache = new Map<string, any>()\n\n  static set(\n    key: string,\n    value: any,\n    configs: CacheConfig = DEFAULT_CACHE_CONFIG,\n  ) {\n    this.mapCache.set(key, value)\n    setTimeout(() => {\n      this.mapCache.delete(key)\n    }, configs.ttl)\n  }\n\n  static get(key: string) {\n    return this.mapCache.get(key)\n  }\n}\n","import { DEFAULT_SINGLE_FLIGHT_CONFIG, SingleFlightConfig } from './constant'\n\nimport { IRequestQueue, RequestQueue } from './request'\nimport { SingleFlightCache } from './cache'\n\nexport class DataLoader {\n  static mapInstance = new Map<string, SingleFlight>()\n\n  private static getSingleFlight(configs: SingleFlightConfig): SingleFlight {\n    const instanceKey = JSON.stringify(configs)\n    if (this.mapInstance.has(instanceKey)) {\n      const instance = this.mapInstance.get(instanceKey)\n      if (instance) return instance\n    }\n\n    let newSingleFlight = new SingleFlight(configs)\n    this.mapInstance.set(instanceKey, newSingleFlight)\n    return newSingleFlight\n  }\n\n  static async load<T>(\n    requestKey: string | object,\n    callback: () => Promise<T>,\n    configs: SingleFlightConfig = {},\n  ): Promise<T> {\n    if (typeof requestKey === 'object') requestKey = JSON.stringify(requestKey)\n\n    let singleFlight = DataLoader.getSingleFlight(configs)\n    DataLoader.mapInstance.set(requestKey, singleFlight)\n    const newRequest = new RequestQueue(requestKey)\n    return singleFlight.load<T>(newRequest, callback)\n  }\n}\n\nclass SingleFlight {\n  private config: SingleFlightConfig\n  private intervalRequest: any\n  private timeLogs: number[] = []\n\n  private mapRequestCalling = new Map<string, IRequestQueue>()\n  private requestQueue: IRequestQueue[] = []\n\n  constructor(configs: SingleFlightConfig) {\n    this.config = Object.assign(DEFAULT_SINGLE_FLIGHT_CONFIG, configs)\n  }\n\n  async load<T>(newRequest: IRequestQueue, callback: () => Promise<T>) {\n    const cacheData = SingleFlightCache.get(newRequest.key)\n    if (cacheData) return Promise.resolve(cacheData)\n\n    let isFetch = false\n    let request = this.mapRequestCalling.get(newRequest.key)\n    if (!request) {\n      request = newRequest\n      isFetch = true\n      this.mapRequestCalling.set(request.key, request)\n    }\n\n    return new Promise((resolve, reject) => {\n      if (!request) return reject('Not found request!')\n      request.add(resolve, reject)\n      if (isFetch) {\n        this.fetch<T>(request, callback)\n      }\n    })\n  }\n\n  private fetch<T>(request: IRequestQueue, callback: () => Promise<T>) {\n    if (!this.validateLimit()) {\n      return this.addRequestQueue(request, callback)\n    }\n    this.createTimeLogs()\n\n    callback()\n      .then((response) => {\n        SingleFlightCache.set(request.key, response, this.config.cache)\n        request.resolves(response)\n      })\n      .catch((error) => {\n        request.rejects(error)\n      })\n      .finally(() => {\n        this.mapRequestCalling.delete(request.key)\n        this.fetchRequestQueue(callback)\n      })\n  }\n\n  private fetchRequestQueue(callback: () => Promise<any>) {\n    if (!this.validateLimit()) return\n    const request = this.requestQueue.shift()\n    if (request) this.load(request, callback)\n\n    if (this.requestQueue.length === 0 && this.intervalRequest) {\n      clearInterval(this.intervalRequest)\n    }\n  }\n\n  private addRequestQueue(\n    request: IRequestQueue,\n    callback: () => Promise<any>,\n  ) {\n    this.requestQueue.push(request)\n    this.intervalRequest = setInterval(() => {\n      this.fetchRequestQueue(callback)\n    }, this.config.limit?.time)\n  }\n\n  private validateLimit(): boolean {\n    return true\n  }\n\n  private createTimeLogs() {\n    if (!this.config.limit) return\n\n    const now = new Date().getTime()\n    this.timeLogs.push(now)\n    if (this.timeLogs.length > this.config.limit?.calls) {\n      this.timeLogs.shift()\n    }\n  }\n}\n","import localForage from 'localforage'\nimport { account } from '@senswap/sen-js'\nimport IPFS from './ipfs'\n\n/**\n * Persistent Database\n */\nclass PDB {\n  readonly dbName: string\n  private driver: any\n  private ipfs: IPFS\n\n  constructor(walletAddress: string) {\n    if (!account.isAddress(walletAddress)) throw new Error('Invalid address')\n    this.dbName = walletAddress\n    this.driver = [localForage.WEBSQL, localForage.LOCALSTORAGE]\n    this.ipfs = new IPFS()\n  }\n\n  /**\n   * Local\n   */\n\n  createInstance = (appId: string): LocalForage => {\n    return localForage.createInstance({\n      driver: this.driver,\n      name: this.dbName,\n      storeName: appId,\n    })\n  }\n\n  dropInstance = async (appId: string): Promise<void> => {\n    const instance = this.createInstance(appId)\n    await instance.clear()\n    return await localForage.dropInstance({\n      name: this.dbName,\n      storeName: appId,\n    })\n  }\n\n  all = async (): Promise<any> => {\n    let data: any = {}\n    const appIds = (\n      ((await this.createInstance('sentre').getItem('appIds')) as string[]) ||\n      []\n    )\n      .flat()\n      .concat(['sentre'])\n    for (const appId of appIds) {\n      data[appId] = {}\n      const instance = this.createInstance(appId)\n      await instance.iterate((value: string, key: string) => {\n        data[appId][key] = value\n      })\n    }\n    return data\n  }\n\n  /**\n   * Cloud\n   */\n\n  fetch = async (cid: string) => {\n    return await this.ipfs.get(cid)\n  }\n\n  backup = async () => {\n    const data = await this.all()\n    return await this.ipfs.set(data)\n  }\n\n  restore = async (cid: string) => {\n    // Download data\n    const data = await this.fetch(cid)\n    // Apply to storage\n    for (const appId in data) {\n      const instance = await this.createInstance(appId)\n      for (const key in data[appId]) {\n        const value = data[appId][key]\n        await instance.setItem(key, value)\n      }\n    }\n    return data\n  }\n}\n\nexport default PDB\n\n/**\n * High abtraction pdb for app\n */\nexport const createPDB = (walletArress: string, appId: string) => {\n  return account.isAddress(walletArress)\n    ? new PDB(walletArress).createInstance(appId)\n    : undefined\n}\n","import { create, isIPFS } from 'ipfs-core'\nimport { asyncWait } from 'shared/util'\n\nconst GET_CID_TIMEOUT = 15000\nclass IPFS {\n  private _ipfs: any = async () => {\n    try {\n      if (!window.ipfs) window.ipfs = await create()\n      return window.ipfs\n    } catch (er) {\n      await asyncWait(500)\n      return await this._ipfs()\n    }\n  }\n\n  static isCID = (cid: string | undefined | null): boolean => {\n    try {\n      if (!cid) return false\n      return isIPFS.multihash(cid)\n    } catch (er) {\n      return false\n    }\n  }\n\n  get = async (cid: string) => {\n    if (!IPFS.isCID(cid)) throw new Error('Invalid CID')\n    try {\n      const ipfs = await this._ipfs()\n      const stream = await ipfs.cat(cid, { timeout: GET_CID_TIMEOUT })\n      let raw = ''\n      for await (const chunk of stream) raw += Buffer.from(chunk).toString()\n      const data = JSON.parse(raw)\n      return data\n    } catch (err) {\n      // notthing\n    }\n  }\n\n  set = async (data: object): Promise<string> => {\n    if (!data) throw new Error('Empty data')\n    const raw = JSON.stringify(data)\n    const ipfs = await this._ipfs()\n    const { cid } = await ipfs.add(raw)\n    return cid.toString()\n  }\n}\n\nexport default IPFS\n","import storage from './storage'\n\n/**\n * Environment\n */\nconst getEnv = () => {\n  switch (process.env.REACT_APP_ENV) {\n    case 'development':\n      return 'development'\n    case 'staging':\n      return 'staging'\n    case 'production':\n      return 'production'\n    default:\n      return 'development'\n  }\n}\nexport type Env = 'development' | 'staging' | 'production'\nexport const env: Env = getEnv()\n\n/**\n * Network\n */\nconst getNetwork = () => {\n  switch (storage.get('network')) {\n    case 'devnet':\n      return 'devnet'\n    case 'testnet':\n      return 'testnet'\n    case 'mainnet':\n      return 'mainnet'\n    default:\n      return 'mainnet'\n  }\n}\nexport type Net = 'devnet' | 'testnet' | 'mainnet'\nexport const net: Net = getNetwork()\n\nexport const onSwitchNetwork = (value: Net) => {\n  storage.set('network', value)\n  return window.location.reload()\n}\n\n/**\n * Chain ID\n */\nconst getChainId = () => {\n  switch (net) {\n    case 'devnet':\n      return 103\n    case 'testnet':\n      return 102\n    case 'mainnet':\n      return 101\n    default:\n      return 101\n  }\n}\nexport type ChainId = 101 | 102 | 103\nexport const chainId: ChainId = getChainId()\n\n/**\n * RPC Node\n */\nconst CLUSTERS: Record<Net, string> = {\n  devnet: 'https://api.devnet.solana.com',\n  testnet: 'https://api.testnet.solana.com',\n  mainnet:\n    env === 'development'\n      ? 'https://api.mainnet-beta.solana.com'\n      : 'https://solitary-autumn-water.solana-mainnet.quiknode.pro/dcbac9d444818a20ac583541dec35b44c6840888/',\n}\nexport const rpc: string = CLUSTERS[net]\n","const KEY = 'sentre'\nconst driver = window.localStorage\n\nconst convert = (value: string | null) => {\n  try {\n    if (!value) return null\n    return JSON.parse(value)\n  } catch (e) {\n    return null\n  }\n}\n\nconst storage = {\n  set: (key: string, value: any) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') data = {}\n    data[key] = value\n    driver.setItem(KEY, JSON.stringify(data))\n  },\n  get: (key: string) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') return null\n    return data[key]\n  },\n  clear: (key: string) => {\n    storage.set(key, null)\n  },\n}\n\nexport default storage\n","import { account, utils } from '@senswap/sen-js'\nimport numbro from 'numbro'\n\nimport { net } from 'shared/runtime'\nimport { DataLoader } from './dataloader'\n\n/**\n * Delay by async/await\n * @param ms - milisenconds\n * @returns\n */\nexport const asyncWait = (ms: number): Promise<void> => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\n/**\n * Shorten a long address\n * @param address - The long address\n * @param num - The number of the heading and trailing characters\n * @param delimiter - The delimiter\n * @returns Shortened address\n */\nexport const shortenAddress = (address: string, num = 4, delimiter = '...') => {\n  return (\n    address.substring(0, num) +\n    delimiter +\n    address.substring(address.length - num, address.length)\n  )\n}\n\n/**\n * Build a explorer url by context including addresses or transaction ids\n * @param addressOrTxId - Address or TxId\n * @returns\n */\nexport const explorer = (addressOrTxId: string): string => {\n  if (account.isAddress(addressOrTxId)) {\n    return `https://solscan.io/account/${addressOrTxId}?cluster=${net}`\n  }\n  return `https://solscan.io/tx/${addressOrTxId}?cluster=${net}`\n}\n\n/**\n * Wrapped Numbro - https://numbrojs.com/old-format.html\n * @param value - value\n * @returns\n */\nexport const numeric = (\n  value?: number | string | BigInt,\n): ReturnType<typeof numbro> => {\n  if (!value) return numbro('0')\n  return numbro(value)\n}\n\n/**\n * Generate a random color\n * @param seed - Seed\n * @param opacity - Opacity\n * @returns\n */\nexport const randomColor = (seed?: string, opacity?: string | number) => {\n  let hash = Math.floor(Math.random() * 16777215)\n  if (seed) {\n    hash = 0\n    for (let i = 0; i < seed.length; i++) {\n      hash = seed.charCodeAt(i) + ((hash << 5) - hash)\n    }\n  }\n  var rgb = [0, 0, 0]\n  for (let i = 0; i < 3; i++) {\n    var value = (hash >> (i * 8)) & 255\n    rgb[i] = value\n  }\n  return `rgba(${rgb[0]}, 100, ${rgb[1]},${opacity || 1})`\n}\n\n/**\n * Fetch coingecko data with cache\n * @param ticket - Token ticket\n * @returns\n */\nexport const fetchCGK = async (ticket = '') => {\n  return DataLoader.load('fetchCGK' + ticket, () => utils.parseCGK(ticket))\n}\n\n/**\n * Randomly choose an element in the input array\n * @param arr - Original array of elements\n * @returns\n */\nexport const randChoose = <T>(arr: T[]): T => {\n  const rand = Math.floor(Math.random() * arr.length)\n  return arr[rand]\n}\n\n/**\n * Randomize a subarray in the input array with a specific number of elements\n * @param arr - Original array of elements\n * @param num - Number of elements in randomized subarray\n * @returns\n */\nexport const randElements = <T>(arr: T[], num: number): T[] => {\n  if (arr.length < num) return [...arr]\n  const re: T[] = []\n  while (re.length < num) {\n    const el = randChoose(arr)\n    if (!re.includes(el)) re.push(el)\n  }\n  return re\n}\n"],"names":["_path","_path2","_path3","_path4","_path5","_path6","_path7","_path8","_path9","_path10","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgLogo","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","ForwardRef","defineProperty","exports","value","enumerable","get","_logo","default","_README","_panel","_interopRequireDefault","require","_panel2","_panel3","obj","__esModule","panels","Row","gutter","justify","Col","Space","direction","size","Typography","level","style","fontSize","textAlign","className","span","type","icon","Card","bordered","background","borderLeft","borderRadius","bodyStyle","padding","daos","useSelector","state","dao","proposal","executeProposal","useMemo","total","proposalAddr","executed","xs","lg","sm","name","numeric","keys","format","includes","regime","special","tag","isEqual","DaoRegimes","Tag","margin","DEFAULT_AVATARS","undefined","mintAddress","reversed","avatars","setAvatars","useState","tokenProvider","useMint","pools","usePool","deriveAvatar","useCallback","async","token","findByAddress","address","logoURI","deriveAvatars","account","poolData","values","find","mint_lpt","mint_a","mint_b","Promise","all","map","reverse","avatar","useEffect","Avatar","src","backgroundColor","border","display","whiteSpace","DEFAULT_NAME","separator","setName","deriveName","deriveNames","names","join","DEFAULT_SYMBOL","symbol","setSymbol","deriveSymbol","substring","deriveSymbols","symbols","onClick","active","cursor","randomColor","Boolean","justifyContent","ellipsis","color","boxShadow","align","LoadMore","callback","Fragment","overflow","useAllMintAddresses","allMintAddresses","setAllMintAddresses","getRecommendedMintAddresses","addresses","filter","useSortMints","mints","sortedMints","setSortedMints","accounts","useAccount","mapMintAmounts","mapMints","mint","Number","amount","toString","sortMints","mintAddresses","sort","a","b","amountA","amountB","LOCAL_STORAGE_ID","net","searching","onChange","disabled","visible","setVisible","keyword","setKeyword","offset","setOffset","recommendedMints","addRecommendMint","setRecommendedMints","getRecommendedMints","localStorage","push","slice","newMints","useRecommendedMints","searchedMints","loading","limit","setLoading","setSearchedMints","search","clearTimeout","setTimeout","useSearchedMints","onSelect","list","document","getElementById","scrollTop","Button","Modal","onCancel","footer","closable","centered","Input","placeholder","suffix","marginRight","e","md","maxHeight","index","throttle","Empty","string2Number","seed","buf","Buffer","from","BN","mod","Math","random","avatarProps","colors","gradients","alt","shared","appId","process","url","development","staging","production","constructor","_wallet","window","sentre","wallet","_publicKey","PublicKey","_init","getAddress","signTransaction","tx","signAllTransactions","signedTxs","txs","signedTx","publicKey","console","warn","devnet","interDao","InterDAO","SafeWallet","utility","Utility","fee","taxman","testnet","mainnet","manifest","env","sol","configs","DEFAULT_META_DATA","daoName","description","image","optionals","daoType","members","distributorAddress","NAME","initialState","tokenHolders","initMetadata","getTokenHolders","createAsyncThunk","daoAddress","force","getState","Error","metadata","amountHolder","toBase58","provider","connection","program","getProgramAccounts","utils","filters","dataSize","memcmp","bytes","setInitMetadata","metaData","createSlice","reducers","extraReducers","builder","addCase","fulfilled","payload","dispatch","useDispatch","isExistDao","walletAddress","useWallet","PDB","createInstance","SOCIALS_MEDIA","t","twitter","facebook","discord","global","medium","getCID","digest","v0Prefix","Uint8Array","v0Digest","set","CID","validURL","test","getIcon","socialName","host","URL","hostname","replace","char","iconName","toLowerCase","ipfs","IPFS","setMetaData","pdb","usePDB","getMetaData","data","getItem","cid","localMetadata","setItem","Metadata","MetadataData","programs","TOKEN_METADATA_PROGRAM_ID","Connection","fetchYourOwnerNTFs","findDataByOwner","ownerAddress","getNftMetaData","findByMint","tokenMint","isNftBelongsToCollection","mintNftAddress","collectionAddress","collection","err","isPublic","isNft","useMetaData","isMemberOnly","setIsMemberOnly","loadingDaoMetadata","setLoadingDaoMetadata","myAddress","checkMemberOnlyNFT","valid","accountAddr","checkMemberOnlyToken","checkMemberOnlyMultisigDao","checkDaoMember","DAO_CARD_BG","autonomous","democratic","dictatorial","HEIGHT_RATIO","nonce","history","useHistory","ui","useUI","useMembers","useCheckMemberOnly","parseRegime","heightRatio","isMobile","desktopWidth","notify","PAGE_PADDING","Image","preview","minHeight","wrap","shape","flex","Tooltip","marginTop","rows","shortenAddress","marginLeft","idx","open","onSearch","prefix","Spin","indicator","LoadingOutlined","position","bottom","left","backdropFilter","textTransform","fontWeight","DEFAULT_DAO_DATA","supply","initDao","getDaos","programId","DAO_DISCRIMINATOR","bulk","forEach","pubkey","parseDaoData","getDao","getDaoData","upsetDao","setInitDao","REGIME_LIST","Popover","overlayStyle","maxWidth","trigger","content","onSort","Select","setType","register","daoMap","engine","_setDaoMap","Array","has","addr","fuzzy","findIndex","nextDaos","Map","lunr","field","doc","add","daoAddresses","searchData","setSearchData","nextData","daoProvider","DaoProvider","delayToSearch","setDaoAddresses","filterAddress","listAddress","mechanisms","setMechanisms","searchKey","setSearchKey","listDaoByType","useDaoType","filterDaoAddress","filteredAddress","useSearchDao","xl","filteredDaos","daoAddr","authority","authAddress","Tabs","tabBarExtraContent","tab","STATUS_COLOR","Succeeded","Failed","Preparing","Executed","Voting","status","label","rest","decimals","setDecimals","getDecimals","fetchDecimals","er","InfoTransferInProposal","transferInfo","copied","setCopied","destination","useMintDecimals","onCopy","asyncWait","BigInt","textDecoration","explorer","text","InfoTransferInDaoDetail","endTime","moment","isProposalDetail","getProposals","proposals","proposalData","getProposal","getProposalData","upsetProposal","deleteProposal","proposalAddress","setTransferInfo","templateName","setTemplateName","useProposal","fetchProposalInfo","info","decodeSplInstruction","splt","sourceAssociated","sourceAddress","getAccountData","error","toNumber","currentDate","floor","Date","startDate","endDate","votingAgainstPower","votingForPower","consensusQuorum","consensusMechanism","actualSupply","mul","sub","isSuccess","quorum","votingPower","lte","cmp","div","message","BG_PROPOSAL","spl_transfer","SystemProgram","useProposalStatus","useProposalMetaData","hoverable","setTx","clearTx","timeoutId","forwardRef","max","onValue","setError","setCursor","innerRef","useRef","onAmount","val","onError","parseFloat","current","setSelectionRange","selectionStart","toData","schema","soproxABI","code","toBuffer","setValue","setMintAddress","receiverAddress","setReceiverAddress","srcAddress","setSrcAddress","dstAddress","setDstAddress","setAmount","listDAO","daoMetaData","senderAddress","master","confirm","re","dst","payer","isWritable","isSigner","isMaster","buildTransferSplvalue","Templates","SPL_TRANSFER","close","setSourceAddress","owner","setDestinationAddress","getAmount","String","CardOption","SOLANA_LOGO","expandable","Radio","template","closeIcon","setStatus","mobileScreen","numSupply","authorized","proposalAddresses","filterProposalAddresses","stakeSupply","lockSupply","scrollTo","defaultValue","minWidth","block","InfoMember","isMultisig","amountMembers","daoMembers","placement","overlayClassName","ENDED_AT","getTreeData","pubkeys","balanceTree","startedAt","salt","MerkleDistributor","createDistributor","treeData","merkleDistributor","toJSON","multihash","initializeDistributor","tokenAddress","getTotal","merkleRoot","deriveMerkleRoot","endedAt","createDistributorInstruction","walletPublicKey","tokenPublicKey","distributor","web3","srcPublicKey","treasurer","deriveTreasurerAddress","treasury","methods","feeCollector","tokenProgram","associatedTokenProgram","systemProgram","rent","instruction","getMintAddress","fetch","getMerkleDistributor","getRecipientData","recipient","receipients","getReceiptData","recipientData","receiptAddress","deriveReceiptAddress","claimToken","proof","deriveProof","txId","claim","listMint","isValidAccount","Distributor","member","BG_JOIN_DAO","listNFTs","setListNFTs","daoMasterAddress","getYourOwnerNFTs","nfts","nft","CardNFT","nftImg","setNftImg","useNftMetaData","getNftInfoFromURI","IMAGE_DEFAULT","uri","img","axios","DEFAULT_DATA","price","priceChange","rank","totalVolume","getBalance","inUSD","cgkData","ticket","extensions","coingeckoId","fetchCGK","fetchCgkData","balance","totalUSD","setTotalUSD","clcTotalUSD","usdBalance","setUSDBalance","mintBalance","setMintBalance","fetchBalance","InfoDAOMaster","listAccount","setListAccount","useTotalUSD","fetchAccount","ownerPublicKey","getTokenAccountsByOwner","spltProgramId","parseAccountData","mintInfo","getMintData","useParams","ConsensusMechanisms","infix","mobileSpan","ConsensusQuorums","DatePicker","valueOf","showTime","CURRENT_TIME","ONE_DAY","setConsensusMechanism","setConsensusQuorum","duration","setDuration","setTitle","setDescription","isMultisigDAO","proposalMetaData","newProposal","feeOption","revenue","revenuemanAddress","tax","taxmanAddress","valueAccounts","initializeProposal","Divider","DAO_TYPE","cardBorder","borderColor","logoSize","PAGE_SPACING","setSupply","getMint","fetchSupply","useMintSupply","suggestion","setSuggestion","getNftSuggestion","commitment","getListAccountNFTsBelongToCollection","spinning","isSelected","imageSize","metadataData","top","right","zIndex","paddingTop","listCollectionNFTs","setListCollectionNFTs","searchText","setSearchText","getNftCollectionInfo","collectionNFTs","collectionInfo","onSelectNFT","onCloseModal","getCollectionNFTs","ownerPublickey","nftsmetadata","fetchListNTFs","destroyOnClose","onNftChange","onMintAddressChange","autoFocus","handleClick","disabledBtn","disabledWalletInput","disabledName","remove","setDefaultValue","nextMembers","onChangeMember","splice","formatMetaData","nextMetaData","imgBase64","Upload","accept","listType","maxCount","file","fileList","callBack","reader","FileReader","readAsDataURL","onload","result","fileToBase64","originFileObj","onRemove","social","socials","onOptionalChange","CreateDaoSteps","step","stepOne","stepTwo","stepThree","DAO_PROGRESS_TITLE","Progress","percent","steps","showInfo","onHandleStep","createFlexDAO","totalSupply","pow","initializeDao","_mint","initializeMint","spl","Spl","ix","createInstruction","signers","sendAndConfirm","getProvider","rpc","AnchorProvider","skipPreflight","createNewToken","createNewTokenAndMintTo","mintToIx","safeMintTo","ASSOCIATED_TOKEN_PROGRAM_ID","isValidMint","DEFAULT_EMPTY_ADDRESS","mintToAccount","dstWalletAddress","wrapSafeMintTo","feeOptions","feeCollectorAddress","isAddress","isNeg","dstWalletPublicKey","dstPublicKey","burnAccount","tokenAccount","burn","myWallet","createVotingMint","multiSigWallet","MultisigWallet","getDistributorAddress","pubKeys","createMultisigDao","ButtonFlexDao","useFlexibleDao","ButtonMultisigDao","useMultisigDao","setStep","onNextStep","validLink","link","getReceipts","receipt","parseReceiptData","receipts","setReceipts","fetchReceipts","listReceipt","useReceipts","authorities","execute","wordBreak","votingType","nftVoting","setNftVoting","proposalFee","useProposalFee","onVoteNftFor","voteNftFor","onVoteNftAgainst","voteNftAgainst","VotingType","Agree","Disagree","record","action","power","proposalPubkey","daoPubkey","mintDecimal","setListReceipt","COLUMNS","dataIndex","render","lockedDate","_","onWithdraw","filterReceipts","myRecept","receiptData","response","closeNftVoting","Table","columns","dataSource","pagination","rowKey","scroll","y","getRemainingSeconds","nowDayjs","timestampDayjs","startWithZeros","diff","getRemainingMinutes","getRemainingHours","getRemainingDays","number","minLength","numberString","repeat","defaultRemainingTime","minutes","hours","days","seconds","remainingTime","setRemainingTime","voteAmount","voteBid","voteNow","getTime","startTime","remaining","votePower","updateRemainingTime","countdown","timestampMs","finishTime","dayjs","isBefore","getRemainingTime","intervalId","setInterval","clearInterval","setNfts","nftsFiltered","setNftFiltered","fetchNFTs","nftsFetching","filterNFTs","nftTokenAccount","nftAccountData","eq","useOwnerNFT","setNftsFiltered","filterNFTsByCollection","setVotingType","useOwnerNftByCollection","myCollection","isLockedVote","isComplete","buildResult","useAccountBalance","accountAddress","lamports","useAccountBalanceByMintAddress","setAccountAddress","deriveAssociatedAddress","loadingFor","setLoadingFor","loadingAgainst","setLoadingAgainst","onVoteFor","actualAmount","nextAmount","voteFor","onVoteAgainst","voteAgainst","setVoteBidAmount","mechanismQuorum","creator","authProposalAddress","useParseQuorumText","consensus","_consensusMechanism","STROKE_COLOR","dark","agree","disagree","light","backGroundColor","setBackGroundColor","successColor","setSuccessColor","theme","noVote","yesVote","totalVote","percentYes","percentNo","currentPower","actualYesVote","powerRequire","gte","percentSuccess","getColors","strokeColor","success","HISTORY_COLUMNS_FLEXIBLE","HISTORY_COLUMNS_MULTISIG","historyColum","nextReceipts","actionType","existReceipt","_receipt","_action","_authority","_actionType","oldPower","onSave","updateDaoMetadata","oldMember","setOldMember","setDefaultMembers","oldAddresses","validAccount","associatedAddress","multisigWallet","oldRegime","setOldRegime","oldSupply","setOldSupply","updateDaoRegime","updateRegime","supplyDecimal","txIdSupply","updateDaoSupply","updateSupply","setAuthority","transferAuthority","watchInitializeDAOEventId","watchUpdateDaoRegimeEventId","watchUpdateSupplyEventId","watchTransferAuthorityEventId","watchUpdateDaoMetadataEventId","initializeDAOEventId","updateDaoRegimeEventId","updateSupplyEventId","transferAuthorityEventId","updateDaoMetadataEventId","TIME_RECHECK","reloadDaoData","daoPublicKey","fetchData","unwrap","watchData","addListener","removeListener","watchInitializeProposal","watchVoteFor","watchVoteAgainst","watchExecuteProposal","initializeProposalEventId","voteForEventId","voteAgainstEventId","executeProposalEventId","reloadProposalData","proposalPublicKey","authorityAddress","RECEIPT_DISCRIMINATOR","getReceipt","upsetReceipt","deleteReceipt","watchClose","closeEventId","reloadReceiptData","receiptPublicKey","loadAllMetaData","setBackground","Switch","Route","exact","path","component","Dao","DaoInitialization","Proposal","EditDAO","ProposalInitialization","ProposalDetails","Redirect","to","bigintSerializationMiddleware","serializableCheck","isSerializable","isArray","proto","getPrototypeOf","isPlainObject","configureStore","middleware","getDefaultMiddleware","devTools","reducer","Page","UIProvider","antd","prefixCls","WalletProvider","AccountProvider","PoolProvider","MintProvider","Provider","store","model","DEFAULT_CACHE_CONFIG","ttl","DEFAULT_SINGLE_FLIGHT_CONFIG","calls","time","cache","RequestQueue","resolveQueue","rejectQueue","resolve","reject","resolves","shift","rejects","SingleFlightCache","mapCache","delete","DataLoader","instanceKey","JSON","stringify","mapInstance","instance","newSingleFlight","SingleFlight","requestKey","singleFlight","getSingleFlight","newRequest","load","config","intervalRequest","timeLogs","mapRequestCalling","requestQueue","cacheData","isFetch","request","validateLimit","addRequestQueue","createTimeLogs","then","catch","finally","fetchRequestQueue","now","dbName","driver","localForage","storeName","dropInstance","clear","appIds","flat","concat","iterate","backup","restore","_ipfs","create","isCID","stream","cat","timeout","raw","chunk","parse","isIPFS","storage","getNetwork","chainId","getChainId","KEY","convert","ms","num","delimiter","addressOrTxId","numbro","opacity","hash","charCodeAt","rgb"],"sourceRoot":""}