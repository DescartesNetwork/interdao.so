"use strict";(globalThis.webpackChunkinter_dao=globalThis.webpackChunkinter_dao||[]).push([["src_templates_view_embedded-view_create_tsx"],{329:(e,t,a)=>{a.d(t,{h:()=>c});var n=a(45055),l=a(92950),s=a(55754),o=a(50794),i=a(62919),r=a(75406);const c=()=>{const e=(0,s.useDispatch)(),t=(0,n.useHistory)();return{confirm:(0,l.useCallback)((async(a,n,l,s)=>{const c=o.web3.Keypair.generate().publicKey,d={templateConfig:n,templateData:l,serializedTxs:s.map((e=>(e.recentBlockhash=c.toBase58(),e.feePayer=c,e.serialize({requireAllSignatures:!1}).toString("base64")))),daoAddress:a};await e((0,i.vr)(d)),t.push(r.z.createProposal.generatePath({}))}),[e,t]),close:(0,l.useCallback)((async()=>{await e((0,i.JJ)())}),[e])}}},1327:(e,t,a)=>{a.d(t,{f:()=>n});const n={name:a(96706).s.EmbeddedView,title:"EmbeddedView",components:[]}},10690:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(92950),l=a(45263),s=a(80754);const o=function(e){var t=e.appId,a=e.src,o=e.title,i=e.wallet,r=e.verbose,c=void 0!==r&&r;return(0,n.useEffect)((function(){return new s.Gateway(i,c).terminate}),[]),(0,l.jsx)("iframe",{id:t+"-iframe",src:a,title:o||"".concat(t," on Senhub"),style:{height:"100vh",margin:-12,border:"none",width:"calc(100% + 24px)"},loading:"lazy",allowFullScreen:!0})};var i=a(32671),r=a(1327),c=a(329),d=a(22734);const h=e=>{let{daoAddress:t="",defaultData:a}=e;const[s,h]=(0,n.useState)(!1),u=(0,d.K)(t),{confirm:p,close:w}=(0,c.h)(),[g,m]=(0,n.useState)(!1),[y,v]=(0,n.useState)([]),x=(0,n.useCallback)((async()=>(console.log("txs",y),p(t,{...r.f,title:null===a||void 0===a?void 0:a.title},{...a},y))),[p,t,a,y]),b=(0,n.useMemo)((()=>{const e=null===u||void 0===u?void 0:u.master.toBase58();return{...window.sentre.solana,disconnect:async()=>{h(!1)},signAllTransactions:async e=>{throw v(e),m(!0),new Error("Dao Wallet can't sign transaction")},signTransaction:async e=>{throw v([e]),m(!0),new Error("Dao Wallet can't sign transaction")},getAddress:async()=>e}}),[null===u||void 0===u?void 0:u.master]);return a?(0,l.jsxs)(i.Row,{gutter:[24,24],children:[(0,l.jsx)(i.Modal,{open:g,onCancel:()=>{h(!1),m(!1)},onOk:()=>{x(),h(!1)},children:(0,l.jsx)(i.Row,{children:(0,l.jsx)(i.Col,{children:(0,l.jsx)(i.Typography.Title,{level:4,children:"Do you want to create new proposal?"})})})}),(0,l.jsx)(i.Modal,{title:"InterDao Wallet",open:s,style:{top:0,minWidth:"100vw",maxWidth:"100vw",width:"100vw",height:"100vh",minHeight:"100vh",maxHeight:"100vh"},bodyStyle:{width:"100%",height:"calc(100vh - 55px)",maxHeight:"100%",minHeight:"100%",paddingLeft:12},footer:null,onCancel:()=>h(!1),destroyOnClose:!0,children:(0,l.jsx)(o,{wallet:b,appId:a.appId,src:a.url,title:"Inter Dao Master Wallet"})}),(0,l.jsx)(i.Col,{span:24,style:{textAlign:"right"},children:(0,l.jsxs)(i.Space,{children:[(0,l.jsx)(i.Button,{type:"text",onClick:w,children:"Close"}),(0,l.jsx)(i.Button,{type:"primary",onClick:()=>h(!0),children:"Open Application"})]})})]}):null}}}]);
//# sourceMappingURL=src_templates_view_embedded-view_create_tsx.02efe43d.chunk.js.map