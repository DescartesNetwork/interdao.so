/*! For license information please see vendors-node_modules_interdao_core_dist_index_js-node_modules_sentre_antd-ionicon_dist_index_-dc7f27.5b4a2b16.chunk.js.LICENSE.txt */
(globalThis.webpackChunkinterdao=globalThis.webpackChunkinterdao||[]).push([["vendors-node_modules_interdao_core_dist_index_js-node_modules_sentre_antd-ionicon_dist_index_-dc7f27"],{60399:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FEE_OPTIONS=t.RECEIPT_DISCRIMINATOR=t.PROPOSAL_DISCRIMINATOR=t.DAO_DISCRIMINATOR=t.DEFAULT_INTERDAO_IDL=t.DEFAULT_INTERDAO_PROGRAM_ID=t.DEFAULT_RPC_ENDPOINT=void 0;const i=n(r(84201)),o=r(27906),s=r(46317);t.DEFAULT_RPC_ENDPOINT="https://api.devnet.solana.com",t.DEFAULT_INTERDAO_PROGRAM_ID="DaoMWqkUbZd1amaqxoxqCBveRbdcVZbVFNqa22EwCfMi",t.DEFAULT_INTERDAO_IDL=s.IDL,t.DAO_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("dao")),t.PROPOSAL_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("proposal")),t.RECEIPT_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("receipt"));t.FEE_OPTIONS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new o.web3.Keypair).publicKey.toBase58();return{tax:new o.BN(0),taxmanAddress:e,revenue:new o.BN(0),revenuemanAddress:e}}},47939:function(e,t,r){"use strict";var n=r(97429).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const c=s(r(70320)),u=r(27906),d=r(60399),l=r(15929),f=r(69995);t.default=class{constructor(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.DEFAULT_RPC_ENDPOINT,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.DEFAULT_INTERDAO_PROGRAM_ID;if(this.addListener=(e,t)=>a(this,void 0,void 0,(function*(){return yield this.program.addEventListener(e,(e=>t(e)))})),this.removeListener=e=>a(this,void 0,void 0,(function*(){try{yield this.program.removeEventListener(e)}catch(t){console.warn(t)}})),this.getCurrentUnixTimestamp=()=>a(this,void 0,void 0,(function*(){const{data:e}=(yield this.program.provider.connection.getAccountInfo(u.web3.SYSVAR_CLOCK_PUBKEY))||{},t=new c.struct([{key:"slot",type:"u64"},{key:"epoch_start_timestamp",type:"i64"},{key:"epoch",type:"u64"},{key:"leader_schedule_epoch",type:"u64"},{key:"unix_timestamp",type:"i64"}]);t.fromBuffer(e);const{unix_timestamp:r}=t.value;return Number(r)})),this.parseDaoData=e=>this.program.coder.accounts.decode("dao",e),this.getDaoData=e=>a(this,void 0,void 0,(function*(){return this.program.account.dao.fetch(e)})),this.parseProposalData=e=>this.program.coder.accounts.decode("proposal",e),this.parseContentData=e=>this.program.coder.accounts.decode("content",e),this.getProposalData=e=>a(this,void 0,void 0,(function*(){return this.program.account.proposal.fetch(e)})),this.parseReceiptData=e=>this.program.coder.accounts.decode("receipt",e),this.getReceiptData=e=>a(this,void 0,void 0,(function*(){return this.program.account.receipt.fetch(e)})),this.deriveProposalAddress=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(t,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid DAO address");if(r.isNeg())throw new Error("Invalid index must be greater than or equal to zero");const t=(yield(0,f.findProposal)(new u.BN(r),new u.web3.PublicKey(e),this.program.programId)).toBase58();if(n){let n,o;try{const{dao:e,index:r}=yield this.getProposalData(t);n=e.toBase58(),o=r}catch(i){throw new Error(`This proposal ${t} is not initialized yet`)}if(e!==n)throw new Error("Violated DAO address");if(!r.eq(o))throw new Error("Violated index")}return t}))},this.deriveReceiptAddress=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(t,void 0,void 0,(function*(){if(e.isNeg())throw new Error("Invalid index must be greater than or equal to zero");if(!(0,f.isAddress)(r))throw new Error("Invalid proposal address");const t=(yield(0,f.findReceipt)(e,new u.web3.PublicKey(r),this._provider.wallet.publicKey,this.program.programId)).toBase58();if(n){let n,o,s;try{const{authority:e,proposal:r,index:i}=yield this.getReceiptData(t);n=e.toBase58(),o=r.toBase58(),s=i}catch(i){throw new Error(`This receipt ${t} is not initialized yet`)}if(this._provider.wallet.publicKey.toBase58()!==n)throw new Error("Violated authority address");if(r!==o)throw new Error("Violated proposal address");if(!e.eq(s))throw new Error("Violated index")}return t}))},this.findAvailableReceiptIndex=(e,t)=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");if(!(0,f.isAddress)(t))throw new Error("Invalid authority address");let r=new u.BN(0);const n=new u.BN(1);for(;;)try{yield this.deriveReceiptAddress(r,e,!0),r=r.add(n)}catch(i){return r}})),this.deriveTreasurerAddress=e=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");const t=new u.web3.PublicKey(e),[r]=yield u.web3.PublicKey.findProgramAddress([n.from("treasurer"),t.toBuffer()],this.program.programId);return r.toBase58()})),this.deriveMasterAddress=e=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid DAO address");const t=new u.web3.PublicKey(e),[r]=yield u.web3.PublicKey.findProgramAddress([n.from("master"),t.toBuffer()],this.program.programId);return r.toBase58()})),this.initializeDao=function(e,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.web3.Keypair.generate(),o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l.DaoRegimes.Dictatorial,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return a(t,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid token address");if(!r.gt(new u.BN(0)))throw new Error("Invalid token supply must be greater than zero");if(32!==n.length)throw new Error("Invalid metadata path");const t=yield this.deriveMasterAddress(i.publicKey.toBase58()),a=new u.web3.PublicKey(t),d=new u.web3.PublicKey(e);return{txId:yield this.program.rpc.initializeDao(o,r,n,s,c,{accounts:{dao:i.publicKey,authority:this._provider.wallet.publicKey,master:a,mint:d,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY},signers:[i]}),daoAddress:i.publicKey.toBase58()}}))},this.initializeProposal=function(e,r,n,i,o,s,c,m,p,h){let y=arguments.length>10&&void 0!==arguments[10]?arguments[10]:l.ConsensusMechanisms.StakedTokenCounter,w=arguments.length>11&&void 0!==arguments[11]?arguments[11]:l.ConsensusQuorums.Half,g=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{};return a(t,void 0,void 0,(function*(){const{tax:t,taxmanAddress:a,revenue:l,revenuemanAddress:v}=Object.assign(Object.assign({},(0,d.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),g);if(!(0,f.isAddress)(e))throw new Error("Invalid DAO address");if(!(0,f.isAddress)(a))throw new Error("Invalid taxman address");if(!(0,f.isAddress)(v))throw new Error("Invalid revenue receiver address");if(32!==h.length)throw new Error("Invalid metadata path");if(i.length!==o.length||i.length!==s.length||i.length!==c.length)throw new Error("Invalid length of pubkeys and thier flags (isSigner, isWritable, isMaster)");const b=[];for(let e=0;e<s.length;e++){const t=i.find(((t,r)=>i[e].toBase58()===t.toBase58()&&!0===s[r]&&e!==r));b.push(!!t||s[e])}const A=yield this.getCurrentUnixTimestamp();if(m<=A)throw new Error("Invalid start date");if(p<=m)throw new Error("Invalid end date");const{nonce:_}=yield this.getDaoData(e),P=yield this.deriveProposalAddress(e,_),S=new u.web3.PublicKey(P),E=new u.web3.PublicKey(e),I=new u.web3.PublicKey(r),M=new u.web3.PublicKey(a),k=new u.web3.PublicKey(v);return{txId:yield this.program.rpc.initializeProposal(n,i,o,b,c,y,w,new u.BN(m),new u.BN(p),h,t,l,{accounts:{caller:this._provider.wallet.publicKey,proposal:S,dao:E,invokedProgram:I,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY,taxman:M,revenueman:k}}),proposalAddress:P}}))},this.executeProposal=e=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");const{accounts:t,dao:r,invokedProgram:n}=yield this.getProposalData(e),i=t.map((e=>{let{pubkey:t,isSigner:r,isWritable:n,isMaster:i}=e;return{pubkey:t,isSigner:r&&!i,isWritable:n}})),o=new u.web3.PublicKey(e),s=yield this.deriveMasterAddress(r.toBase58());return{txId:yield this.program.rpc.executeProposal({accounts:{caller:this._provider.wallet.publicKey,proposal:o,dao:r,master:s,invokedProgram:n},remainingAccounts:i})}})),this.voteFor=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return a(t,void 0,void 0,(function*(){const{tax:t,taxmanAddress:o,revenue:s,revenuemanAddress:a}=Object.assign(Object.assign({},(0,d.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),n);if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");if(!(0,f.isAddress)(o))throw new Error("Invalid taxman address");if(!(0,f.isAddress)(a))throw new Error("Invalid revenue receiver address");if(r.isNeg()||r.isZero())throw new Error("Invalid amount");const c=new u.web3.PublicKey(e),{dao:l}=yield this.getProposalData(e),{mint:m}=yield this.getDaoData(l.toBase58()),p=this._provider.wallet.publicKey,h=yield u.utils.token.associatedAddress({mint:m,owner:p}),y=yield this.findAvailableReceiptIndex(e,p.toBase58()),w=yield this.deriveReceiptAddress(y,e),g=new u.web3.PublicKey(w),v=yield this.deriveTreasurerAddress(e),b=new u.web3.PublicKey(v),A=yield u.utils.token.associatedAddress({mint:m,owner:b}),_=new u.web3.PublicKey(o),P=new u.web3.PublicKey(a);let S="";const E=yield this.program.methods.voteFor(y,r,t,s).accounts({authority:p,src:h,treasurer:b,mint:m,treasury:A,proposal:c,dao:l,receipt:g,taxman:_,revenueman:P,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();return i&&(S=yield this._provider.sendAndConfirm(E)),{txId:S,receiptAddress:w,tx:E}}))},this.voteNftFor=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return a(t,void 0,void 0,(function*(){const{tax:t,taxmanAddress:o,revenue:s,revenuemanAddress:a}=Object.assign(Object.assign({},(0,d.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),n);if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");if(!(0,f.isAddress)(o))throw new Error("Invalid taxman address");if(!(0,f.isAddress)(a))throw new Error("Invalid revenue receiver address");const c=new u.web3.PublicKey(e),l=new u.web3.PublicKey(r),m=(yield(0,f.findNftMetadataAddress)(l)).toBase58(),{dao:p}=yield this.getProposalData(e),h=this._provider.wallet.publicKey,y=yield u.utils.token.associatedAddress({mint:l,owner:h}),w=yield this.findAvailableReceiptIndex(e,h.toBase58()),g=yield this.deriveReceiptAddress(w,e),v=new u.web3.PublicKey(g),b=yield this.deriveTreasurerAddress(e),A=new u.web3.PublicKey(b),_=yield u.utils.token.associatedAddress({mint:l,owner:A}),P=new u.web3.PublicKey(o),S=new u.web3.PublicKey(a);let E="";const I=yield this.program.methods.voteNftFor(w,t,s).accounts({authority:h,src:y,treasurer:A,mint:l,metadata:m,treasury:_,proposal:c,dao:p,receipt:v,taxman:P,revenueman:S,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();return i&&(E=yield this._provider.sendAndConfirm(I)),{txId:E,receiptAddress:g,tx:I}}))},this.voteAgainst=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return a(t,void 0,void 0,(function*(){const{tax:t,taxmanAddress:o,revenue:s,revenuemanAddress:a}=Object.assign(Object.assign({},(0,d.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),n);if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");if(!(0,f.isAddress)(o))throw new Error("Invalid taxman address");if(!(0,f.isAddress)(a))throw new Error("Invalid revenue receiver address");if(r.isNeg()||r.isZero())throw new Error("Invalid amount");const c=new u.web3.PublicKey(e),{dao:l}=yield this.getProposalData(e),{mint:m}=yield this.getDaoData(l.toBase58()),p=this._provider.wallet.publicKey,h=yield u.utils.token.associatedAddress({mint:m,owner:p}),y=yield this.findAvailableReceiptIndex(e,p.toBase58()),w=yield this.deriveReceiptAddress(y,e),g=new u.web3.PublicKey(w),v=yield this.deriveTreasurerAddress(e),b=new u.web3.PublicKey(v),A=yield u.utils.token.associatedAddress({mint:m,owner:b}),_=new u.web3.PublicKey(o),P=new u.web3.PublicKey(a);let S="";const E=yield this.program.methods.voteAgainst(y,r,t,s).accounts({authority:p,src:h,treasurer:b,mint:m,treasury:A,proposal:c,dao:l,receipt:g,taxman:_,revenueman:P,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();return i&&(S=yield this._provider.sendAndConfirm(E)),{txId:S,receiptAddress:w,tx:E}}))},this.voteNftAgainst=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return a(t,void 0,void 0,(function*(){const{tax:t,taxmanAddress:o,revenue:s,revenuemanAddress:a}=Object.assign(Object.assign({},(0,d.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),n);if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");if(!(0,f.isAddress)(o))throw new Error("Invalid taxman address");if(!(0,f.isAddress)(a))throw new Error("Invalid revenue receiver address");const c=new u.web3.PublicKey(e),l=new u.web3.PublicKey(r),m=yield(0,f.findNftMetadataAddress)(l),p=new u.web3.PublicKey(m),{dao:h}=yield this.getProposalData(e),y=this._provider.wallet.publicKey,w=yield u.utils.token.associatedAddress({mint:l,owner:y}),g=yield this.findAvailableReceiptIndex(e,y.toBase58()),v=yield this.deriveReceiptAddress(g,e),b=new u.web3.PublicKey(v),A=yield this.deriveTreasurerAddress(e),_=new u.web3.PublicKey(A),P=yield u.utils.token.associatedAddress({mint:l,owner:_}),S=new u.web3.PublicKey(o),E=new u.web3.PublicKey(a);let I="",M=yield this.program.methods.voteNftAgainst(g,t,s).accounts({authority:y,src:w,treasurer:_,mint:l,metadata:p,treasury:P,proposal:c,dao:h,receipt:b,taxman:S,revenueman:E,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();return i&&(I=yield this._provider.sendAndConfirm(M)),{txId:I,receiptAddress:v,tx:M}}))},this.close=function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return a(t,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid receipt address");const{proposal:t}=yield this.getReceiptData(e),n=t.toBase58(),{dao:i,endDate:o}=yield this.getProposalData(n),{mint:s}=yield this.getDaoData(i.toBase58()),a=this._provider.wallet.publicKey,c=yield u.utils.token.associatedAddress({mint:s,owner:a}),d=new u.web3.PublicKey(e),l=yield this.deriveTreasurerAddress(n),m=new u.web3.PublicKey(l),p=yield u.utils.token.associatedAddress({mint:s,owner:m});if((yield this.getCurrentUnixTimestamp())<=o.toNumber())throw new Error("The proposal is not ended yet");let h="";const y=yield this.program.methods.close().accounts({authority:a,dst:c,treasurer:m,mint:s,treasury:p,proposal:t,dao:i,receipt:d,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();return r&&(h=yield this._provider.sendAndConfirm(y)),{txId:h,receiptAddress:e,tx:y}}))},this.closeNftVoting=function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return a(t,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid receipt address");const{proposal:t,mint:n}=yield this.getReceiptData(e),i=t.toBase58(),{dao:o,endDate:s}=yield this.getProposalData(i),a=(yield(0,f.findNftMetadataAddress)(n)).toBase58(),c=this._provider.wallet.publicKey,d=yield u.utils.token.associatedAddress({mint:n,owner:c}),l=new u.web3.PublicKey(e),m=yield this.deriveTreasurerAddress(i),p=new u.web3.PublicKey(m),h=yield u.utils.token.associatedAddress({mint:n,owner:p});if((yield this.getCurrentUnixTimestamp())<=s.toNumber())throw new Error("The proposal is not ended yet");let y="";const w=yield this.program.methods.closeNftVoting().accounts({authority:c,dst:d,treasurer:p,mint:n,metadata:a,treasury:h,proposal:t,dao:o,receipt:l,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();return r&&(y=yield this._provider.sendAndConfirm(w)),{txId:y,receiptAddress:e,tx:w}}))},this.updateDaoSupply=(e,t)=>a(this,void 0,void 0,(function*(){if(e.isNeg()||e.isZero())throw new Error("Invalid supply");if(!(0,f.isAddress)(t))throw new Error("Invalid DAO address");return{txId:yield this.program.rpc.updateSupply(e,{accounts:{authority:this._provider.wallet.publicKey,dao:new u.web3.PublicKey(t)}})}})),this.updateDaoRegime=(e,t)=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(t))throw new Error("Invalid DAO address");return{txId:yield this.program.rpc.updateDaoRegime(e,{accounts:{authority:this._provider.wallet.publicKey,dao:new u.web3.PublicKey(t)}})}})),this.updateDaoMetadata=(e,t)=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(t))throw new Error("Invalid DAO address");if(32!==e.length)throw new Error("Invalid metadata path");return{txId:yield this.program.rpc.updateDaoMetadata(e,{accounts:{authority:this._provider.wallet.publicKey,dao:new u.web3.PublicKey(t)}})}})),this.transferAuthority=(e,t)=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid authority address");if(!(0,f.isAddress)(t))throw new Error("Invalid DAO address");return{txId:yield this.program.rpc.transferAuthority({accounts:{authority:this._provider.wallet.publicKey,newAuthority:new u.web3.PublicKey(e),dao:new u.web3.PublicKey(t)}})}})),this.deriveContentAddress=e=>a(this,void 0,void 0,(function*(){const[t]=yield u.web3.PublicKey.findProgramAddress([n.from("content"),e,this._provider.wallet.publicKey.toBuffer()],this.program.programId);return t})),this.initializeContent=function(e,r){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a(t,void 0,void 0,(function*(){if(8!==e.length)throw new Error("Invalid discriminator path");if(32!==r.length)throw new Error("Invalid metadata path");const t=yield this.deriveContentAddress(e);let i="";const o=yield this.program.methods.initializeContent(Array.from(e),Array.from(r)).accounts({authority:this._provider.wallet.publicKey,content:t,systemProgram:u.web3.SystemProgram.programId}).transaction();return n&&(i=yield this._provider.sendAndConfirm(o)),{txId:i,tx:o}}))},!(0,f.isAddress)(i))throw new Error("Invalid program id");this._connection=new u.web3.Connection(r,"confirmed"),this._provider=new u.AnchorProvider(this._connection,e,{skipPreflight:!0,commitment:"confirmed"}),this.program=new u.Program(d.DEFAULT_INTERDAO_IDL,i,this._provider)}get events(){return this.program.idl.events.map((e=>{let{name:t}=e;return t}))}}},40401:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(r(47939));i(r(60399),t),i(r(15929),t),i(r(69995),t),i(r(47939),t),t.default=s.default},46317:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDL=void 0,t.IDL={version:"0.1.0",name:"inter_dao",instructions:[{name:"initializeDao",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dao",isMut:!0,isSigner:!0},{name:"master",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"regime",type:{defined:"DaoRegime"}},{name:"supply",type:"u64"},{name:"metadata",type:{array:["u8",32]}},{name:"isNft",type:"bool"},{name:"isPublic",type:"bool"}]},{name:"initializeProposal",accounts:[{name:"caller",isMut:!0,isSigner:!0},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1},{name:"invokedProgram",isMut:!1,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"data",type:"bytes"},{name:"pubkeys",type:{vec:"publicKey"}},{name:"isSigners",type:{vec:"bool"}},{name:"isWritables",type:{vec:"bool"}},{name:"isMasters",type:{vec:"bool"}},{name:"consensusMechanism",type:{defined:"ConsensusMechanism"}},{name:"consesusQuorum",type:{defined:"ConsensusQuorum"}},{name:"startDate",type:"i64"},{name:"endDate",type:"i64"},{name:"metadata",type:{array:["u8",32]}},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"voteFor",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!1,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"voteNftFor",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"metadata",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"index",type:"u64"},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"voteAgainst",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!1,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"voteNftAgainst",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"metadata",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"index",type:"u64"},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"executeProposal",accounts:[{name:"caller",isMut:!0,isSigner:!0},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!1,isSigner:!1},{name:"master",isMut:!1,isSigner:!1},{name:"invokedProgram",isMut:!1,isSigner:!1}],args:[]},{name:"close",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dst",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!1,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"closeNftVoting",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dst",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"metadata",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"updateDaoRegime",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dao",isMut:!0,isSigner:!1}],args:[{name:"regime",type:{defined:"DaoRegime"}}]},{name:"updateDaoMetadata",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dao",isMut:!0,isSigner:!1}],args:[{name:"metadata",type:{array:["u8",32]}}]},{name:"updateSupply",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dao",isMut:!0,isSigner:!1}],args:[{name:"supply",type:"u64"}]},{name:"transferAuthority",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"newAuthority",isMut:!1,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1}],args:[]},{name:"initializeContent",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"content",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"discriminator",type:{array:["u8",8]}},{name:"metadata",type:{array:["u8",32]}}]}],accounts:[{name:"content",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"discriminator",type:{array:["u8",8]}},{name:"metadata",type:{array:["u8",32]}}]}},{name:"dao",type:{kind:"struct",fields:[{name:"master",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"regime",type:{defined:"DaoRegime"}},{name:"supply",type:"u64"},{name:"nonce",type:"u64"},{name:"metadata",type:{array:["u8",32]}},{name:"isNft",type:"bool"},{name:"isPublic",type:"bool"}]}},{name:"proposal",type:{kind:"struct",fields:[{name:"index",type:"u64"},{name:"creator",type:"publicKey"},{name:"dao",type:"publicKey"},{name:"invokedProgram",type:"publicKey"},{name:"dataLen",type:"u64"},{name:"data",type:"bytes"},{name:"accountsLen",type:"u8"},{name:"accounts",type:{vec:{defined:"InvokedAccount"}}},{name:"regime",type:{defined:"DaoRegime"}},{name:"consensusMechanism",type:{defined:"ConsensusMechanism"}},{name:"consensusQuorum",type:{defined:"ConsensusQuorum"}},{name:"executed",type:"bool"},{name:"votingForPower",type:"u128"},{name:"votingAgainstPower",type:"u128"},{name:"supply",type:"u64"},{name:"startDate",type:"i64"},{name:"endDate",type:"i64"},{name:"metadata",type:{array:["u8",32]}}]}},{name:"receipt",type:{kind:"struct",fields:[{name:"index",type:"u64"},{name:"authority",type:"publicKey"},{name:"proposal",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"amount",type:"u64"},{name:"power",type:"u128"},{name:"lockedDate",type:"i64"},{name:"unlockedDate",type:"i64"},{name:"action",type:{defined:"ReceiptAction"}}]}}],types:[{name:"InvokedAccount",type:{kind:"struct",fields:[{name:"pubkey",type:"publicKey"},{name:"isSigner",type:"bool"},{name:"isWritable",type:"bool"},{name:"isMaster",type:"bool"}]}},{name:"DaoRegime",type:{kind:"enum",variants:[{name:"Dictatorial"},{name:"Democratic"},{name:"Autonomous"}]}},{name:"ConsensusMechanism",type:{kind:"enum",variants:[{name:"StakedTokenCounter"},{name:"LockedTokenCounter"}]}},{name:"ConsensusQuorum",type:{kind:"enum",variants:[{name:"OneThird"},{name:"Half"},{name:"TwoThird"}]}},{name:"ReceiptAction",type:{kind:"enum",variants:[{name:"VoteFor"},{name:"VoteAgainst"}]}}],events:[{name:"CloseEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"CloseEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"ExecuteProposalEvent",fields:[{name:"proposal",type:"publicKey",index:!1},{name:"caller",type:"publicKey",index:!1}]},{name:"InitializeDAOEvent",fields:[{name:"dao",type:"publicKey",index:!1},{name:"authority",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"regime",type:{defined:"DaoRegime"},index:!1},{name:"supply",type:"u64",index:!1},{name:"isNft",type:"bool",index:!1},{name:"isPublic",type:"bool",index:!1}]},{name:"InitializeProposalEvent",fields:[{name:"proposal",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"caller",type:"publicKey",index:!1},{name:"quorum",type:{defined:"ConsensusQuorum"},index:!1},{name:"invokedProgram",type:"publicKey",index:!1},{name:"data",type:"bytes",index:!1},{name:"accounts",type:{vec:{defined:"InvokedAccount"}},index:!1}]},{name:"TransferAuthorityEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"newAuthority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1}]},{name:"UpdateDaoMetadataEvent",fields:[{name:"dao",type:"publicKey",index:!1},{name:"metadata",type:{array:["u8",32]},index:!1}]},{name:"UpdateDaoRegimeEvent",fields:[{name:"dao",type:"publicKey",index:!1},{name:"regime",type:{defined:"DaoRegime"},index:!1}]},{name:"UpdateSupplyEvent",fields:[{name:"dao",type:"publicKey",index:!1},{name:"supply",type:"u64",index:!1}]},{name:"VoteAgainstEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"proposal",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"VoteForEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"proposal",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"VoteAgainstEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"proposal",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"amountNft",type:"u64",index:!1}]},{name:"VoteForEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"proposal",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"amountNft",type:"u64",index:!1}]}],errors:[{code:6e3,name:"Overflow",msg:"Operation overflowed"},{code:6001,name:"InvalidDataLength",msg:"Invalid accounts length"},{code:6002,name:"InconsistentProposal",msg:"Inconsistent proposal's accounts configuration"},{code:6003,name:"NotConsentedProposal",msg:"The community isn't consenting on the proposal yet"},{code:6004,name:"NotStartedProposal",msg:"The proposal isn't started yet"},{code:6005,name:"NotEndedProposal",msg:"The proposal isn't ended yet"},{code:6006,name:"EndedProposal",msg:"The proposal had been ended"},{code:6007,name:"ExecutedProposal",msg:"The proposal had been executed"},{code:6008,name:"NoPermission",msg:"No permission"},{code:6009,name:"NoBump",msg:"Cannot derive the program address"},{code:6010,name:"InvalidCurrentDate",msg:"Cannot get current date"},{code:6011,name:"InvalidStartDate",msg:"Start date need to be greater than or equal to current date"},{code:6012,name:"InvalidEndDate",msg:"End date need to be greater than start date and current date"},{code:6013,name:"InvalidNftCollection",msg:"Invalid NFT collection"}]}},15929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsensusQuorums=t.ConsensusMechanisms=t.DaoRegimes=void 0,t.DaoRegimes={Dictatorial:{dictatorial:{}},Democratic:{democratic:{}},Autonomous:{autonomous:{}}},t.ConsensusMechanisms={StakedTokenCounter:{stakedTokenCounter:{}},LockedTokenCounter:{lockedTokenCounter:{}}},t.ConsensusQuorums={OneThird:{oneThird:{}},Half:{half:{}},TwoThird:{twoThird:{}}}},69995:function(e,t,r){"use strict";var n=r(97429).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.findNftMetadataAddress=t.findReceipt=t.findProposal=t.isAddress=void 0;const o=r(27906),s=r(38073);t.isAddress=e=>{if(!e)return!1;try{if(!new o.web3.PublicKey(e))throw new Error("Invalid public key");return!0}catch(t){return!1}};t.findProposal=(e,t,r)=>i(void 0,void 0,void 0,(function*(){const[i]=yield o.web3.PublicKey.findProgramAddress([n.from("proposal"),e.toArrayLike(n,"le",8),t.toBuffer()],r);return i}));t.findReceipt=(e,t,r,s)=>i(void 0,void 0,void 0,(function*(){const[i]=yield o.web3.PublicKey.findProgramAddress([n.from("receipt"),e.toArrayLike(n,"le",8),t.toBuffer(),r.toBuffer()],s);return i}));t.findNftMetadataAddress=e=>i(void 0,void 0,void 0,(function*(){return yield s.programs.metadata.Metadata.getPDA(new o.web3.PublicKey(e))}))},24817:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var d=t[e.charCodeAt(r)];if(255===d)return;for(var l=0,f=o-1;(0!==d||l<i)&&-1!==f;f--,l++)d+=s*u[f]>>>0,u[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=l,r++}for(var m=o-i;m!==o&&0===u[m];)m++;for(var p=new Uint8Array(n+(o-m)),h=n;m!==o;)p[h++]=u[m++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,d=new Uint8Array(c);i!==o;){for(var l=t[i],f=0,m=c-1;(0!==l||f<n)&&-1!==m;m--,f++)l+=256*d[m]>>>0,d[m]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");n=f,i++}for(var p=c-n;p!==c&&0===d[p];)p++;for(var h=a.repeat(r);p<c;++p)h+=e.charAt(d[p]);return h},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},84201:(e,t,r)=>{const n=r(24817);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},43785:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(45263),i=r(92950);var o={"logo-telegram":r.p+"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg","logo-sentre":r.p+"static/media/icon-sentre.1aa4776f6a84fe8cdea1b2025dd823c5.svg","logo-solana":r.p+"static/media/icon-solana.0f29c7077d2fa64ecf8c70fb05cd9e86.svg"},s=r(6863),a=function(){return a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},c=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const u=(0,i.forwardRef)((function(e,t){var r=e.name,u=e.className,d=c(e,["name","className"]),l=u?"anticon "+u:"anticon";return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(s.q,{children:(0,n.jsx)("script",{type:"module",src:"https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"})}),(0,n.jsx)("span",a({className:l},d,{children:o[r]?(0,n.jsx)("ion-icon",{ref:t,src:o[r]}):(0,n.jsx)("ion-icon",{ref:t,name:r})}))]})}))},58421:(e,t,r)=>{"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(92950),o=l(i),s=l(r(43091)),a=r(2471),c=l(r(31161)),u=l(r(23698)),d=l(r(51941));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=0,y=0,w=0,g=0,v="data-lazyload-listened",b=[],A=[],_=!1;try{var P=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("test",null,P)}catch(D){}var S=!!_&&{capture:!1,passive:!0},E=function(e){var t=e.ref;if(t instanceof HTMLElement){var r=(0,c.default)(t),n=e.props.overflow&&r!==t.ownerDocument&&r!==document&&r!==document.documentElement?function(e,t){var r=e.ref,n=void 0,i=void 0,o=void 0,s=void 0;try{var a=t.getBoundingClientRect();n=a.top,i=a.left,o=a.height,s=a.width}catch(D){n=h,i=y,o=g,s=w}var c=window.innerHeight||document.documentElement.clientHeight,u=window.innerWidth||document.documentElement.clientWidth,d=Math.max(n,0),l=Math.max(i,0),f=Math.min(c,n+o)-d,m=Math.min(u,i+s)-l,p=void 0,v=void 0,b=void 0,A=void 0;try{var _=r.getBoundingClientRect();p=_.top,v=_.left,b=_.height,A=_.width}catch(D){p=h,v=y,b=g,A=w}var P=p-d,S=v-l,E=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return P-E[0]<=f&&P+b+E[1]>=0&&S-E[0]<=m&&S+A+E[1]>=0}(e,r):function(e){var t=e.ref;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var r=void 0,n=void 0;try{var i=t.getBoundingClientRect();r=i.top,n=i.height}catch(D){r=h,n=g}var o=window.innerHeight||document.documentElement.clientHeight,s=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return r-s[0]<=o&&r+n+s[1]>=0}(e);n?e.visible||(e.props.once&&A.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},I=function(){A.forEach((function(e){var t=b.indexOf(e);-1!==t&&b.splice(t,1)})),A=[]},M=function(){for(var e=0;e<b.length;++e){var t=b[e];E(t)}I()},k=void 0,O=null,x=function(e){function t(e){f(this,t);var r=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.visible=!1,r.setRef=r.setRef.bind(r),r}return p(t,e),n(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&"string"===typeof t&&(e=e.document.querySelector(t));var r=void 0!==this.props.debounce&&"throttle"===k||"debounce"===k&&void 0===this.props.debounce;if(r&&((0,a.off)(e,"scroll",O,S),(0,a.off)(window,"resize",O,S),O=null),O||(void 0!==this.props.debounce?(O=(0,u.default)(M,"number"===typeof this.props.debounce?this.props.debounce:300),k="debounce"):void 0!==this.props.throttle?(O=(0,d.default)(M,"number"===typeof this.props.throttle?this.props.throttle:300),k="throttle"):O=M),this.props.overflow){var n=(0,c.default)(this.ref);if(n&&"function"===typeof n.getAttribute){var i=+n.getAttribute(v)+1;1===i&&n.addEventListener("scroll",O,S),n.setAttribute(v,i)}}else if(0===b.length||r){var o=this.props,s=o.scroll,l=o.resize;s&&(0,a.on)(e,"scroll",O,S),l&&(0,a.on)(window,"resize",O,S)}b.push(this),E(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,c.default)(this.ref);if(e&&"function"===typeof e.getAttribute){var t=+e.getAttribute(v)-1;0===t?(e.removeEventListener("scroll",O,S),e.removeAttribute(v)):e.setAttribute(v,t)}}var r=b.indexOf(this);-1!==r&&b.splice(r,1),0===b.length&&"undefined"!==typeof window&&((0,a.off)(window,"resize",O,S),(0,a.off)(window,"scroll",O,S))}},{key:"setRef",value:function(e){e&&(this.ref=e)}},{key:"render",value:function(){var e=this.props,t=e.height,r=e.children,n=e.placeholder,i=e.className,s=e.classNamePrefix,a=e.style;return o.default.createElement("div",{className:s+"-wrapper "+i,ref:this.setRef,style:a},this.visible?r:n||o.default.createElement("div",{style:{height:t},className:s+"-placeholder"}))}}]),t}(i.Component);x.propTypes={className:s.default.string,classNamePrefix:s.default.string,once:s.default.bool,height:s.default.oneOfType([s.default.number,s.default.string]),offset:s.default.oneOfType([s.default.number,s.default.arrayOf(s.default.number)]),overflow:s.default.bool,resize:s.default.bool,scroll:s.default.bool,children:s.default.node,throttle:s.default.oneOfType([s.default.number,s.default.bool]),debounce:s.default.oneOfType([s.default.number,s.default.bool]),placeholder:s.default.node,scrollContainer:s.default.oneOfType([s.default.string,s.default.object]),unmountIfInvisible:s.default.bool,style:s.default.object},x.defaultProps={className:"",classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};var T=function(e){return e.displayName||e.name||"Component"};t.ZP=x},23698:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=void 0,i=void 0,o=void 0,s=void 0,a=void 0,c=function c(){var u=+new Date-s;u<t&&u>=0?n=setTimeout(c,t-u):(n=null,r||(a=e.apply(o,i),n||(o=null,i=null)))};return function(){o=this,i=arguments,s=+new Date;var u=r&&!n;return n||(n=setTimeout(c,t)),u&&(a=e.apply(o,i),o=null,i=null),a}}},2471:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,r,n){n=n||!1,e.addEventListener?e.addEventListener(t,r,n):e.attachEvent&&e.attachEvent("on"+t,(function(t){r.call(e,t||window.event)}))},t.off=function(e,t,r,n){n=n||!1,e.removeEventListener?e.removeEventListener(t,r,n):e.detachEvent&&e.detachEvent("on"+t,r)}},31161:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,r=/(scroll|auto|overlay)/,n=e;n;){if(!n.parentNode)return e.ownerDocument||document.documentElement;var i=window.getComputedStyle(n),o=i.position,s=i.overflow,a=i["overflow-x"],c=i["overflow-y"];if("static"===o&&t)n=n.parentNode;else{if(r.test(s)&&r.test(a)&&r.test(c))return n;n=n.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},51941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n,i;return t||(t=250),function(){var o=r||this,s=+new Date,a=arguments;n&&s<n+t?(clearTimeout(i),i=setTimeout((function(){n=s,e.apply(o,a)}),t)):(n=s,e.apply(o,a))}}},12870:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FEE_OPTIONS=t.RECEIPT_DISCRIMINATOR=t.DISTRIBUTOR_DISCRIMINATOR=t.DEFAULT_SEN_UTILITY_IDL=t.DEFAULT_SEN_UTILITY_PROGRAM_ID=t.DEFAULT_RPC_ENDPOINT=void 0;const i=n(r(34651)),o=r(27906),s=r(84017);t.DEFAULT_RPC_ENDPOINT="https://api.devnet.solana.com",t.DEFAULT_SEN_UTILITY_PROGRAM_ID="7oyG4wSf2kz2CxTqKTf1uhpPqrw9a8Av1w5t8Uj5PfXb",t.DEFAULT_SEN_UTILITY_IDL=s.IDL,t.DISTRIBUTOR_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("distributor")),t.RECEIPT_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("receipt"));t.FEE_OPTIONS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new o.web3.Keypair).publicKey.toBase58();return{fee:new o.BN(0),feeCollectorAddress:e}}},67250:function(e,t,r){"use strict";var n=r(97429).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Utility=void 0;const o=r(27906),s=r(12870),a=r(12190);t.Utility=class{constructor(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.DEFAULT_RPC_ENDPOINT,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.DEFAULT_SEN_UTILITY_PROGRAM_ID;if(this.addListener=(e,t)=>i(this,void 0,void 0,(function*(){return yield this.program.addEventListener(e,(e=>t(e)))})),this.removeListener=e=>i(this,void 0,void 0,(function*(){try{yield this.program.removeEventListener(e)}catch(t){console.warn(t)}})),this.getCurrentUnixTimestamp=()=>i(this,void 0,void 0,(function*(){const{data:e}=(yield this.program.provider.connection.getAccountInfo(o.web3.SYSVAR_CLOCK_PUBKEY))||{};if(!e)throw new Error("Cannot fetch clock data");return new o.BN(e.subarray(32,40),"le").toNumber()})),this.parseDistributorData=e=>this.program.coder.accounts.decode("distributor",e),this.getDistributorData=e=>i(this,void 0,void 0,(function*(){return this.program.account.distributor.fetch(e)})),this.parseReceiptData=e=>this.program.coder.accounts.decode("receipt",e),this.getReceiptData=e=>i(this,void 0,void 0,(function*(){return this.program.account.receipt.fetch(e)})),this.deriveReceiptAddress=function(e,r){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i(t,void 0,void 0,(function*(){if(32!==e.length)throw new Error("The salt must has length 32");if(!(0,a.isAddress)(r))throw new Error("Invalid distributor address");const t=(yield(0,a.findReceipt)(e,new o.web3.PublicKey(r),this._provider.wallet.publicKey,this.program.programId)).toBase58();if(s){let o,s,a;try{const{authority:e,distributor:r,salt:i}=yield this.getReceiptData(t);o=e.toBase58(),s=r.toBase58(),a=n.from(i)}catch(i){throw new Error(`This receipt ${t} is not initialized yet`)}if(this._provider.wallet.publicKey.toBase58()!==o)throw new Error("Violated authority address");if(r!==s)throw new Error("Violated proposal address");if(0!==e.compare(a))throw new Error("Violated salt")}return t}))},this.deriveTreasurerAddress=e=>i(this,void 0,void 0,(function*(){if(!(0,a.isAddress)(e))throw new Error("Invalid distributor address");const t=new o.web3.PublicKey(e),[r]=yield o.web3.PublicKey.findProgramAddress([n.from("treasurer"),t.toBuffer()],this.program.programId);return r.toBase58()})),this.initializeDistributor=e=>{let{tokenAddress:t,total:r,merkleRoot:n,metadata:c,endedAt:u=0,distributor:d=o.web3.Keypair.generate(),feeOptions:l=(0,s.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58()),sendAndConfirm:f=!0}=e;return i(this,void 0,void 0,(function*(){const{fee:e,feeCollectorAddress:i}=l;if(!(0,a.isAddress)(i))throw new Error("Invalid fee collector address");if(!(0,a.isAddress)(t))throw new Error("Invalid token address");if(!(0,a.isHash)(n))throw new Error("Invalid merkle root");if(r.isNeg())throw new Error("The total must not be negative");if(32!==c.length)throw new Error("Invalid metadata path");const s=d.publicKey.toBase58(),m=new o.web3.PublicKey(t),p=yield o.utils.token.associatedAddress({mint:m,owner:this._provider.wallet.publicKey}),h=yield this.deriveTreasurerAddress(s),y=new o.web3.PublicKey(h),w=yield o.utils.token.associatedAddress({mint:m,owner:y}),g=yield this.program.methods.initializeDistributor([...n],r,new o.BN(u),[...c],e).accounts({authority:this._provider.wallet.publicKey,distributor:d.publicKey,src:p,treasurer:y,treasury:w,feeCollector:new o.web3.PublicKey(i),mint:m,tokenProgram:o.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:o.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:o.web3.SystemProgram.programId,rent:o.web3.SYSVAR_RENT_PUBKEY}).signers([d]);return{tx:yield g.transaction(),txId:f?yield g.rpc({commitment:"confirmed"}):"",distributorAddress:s}}))},this.claim=e=>{let{distributorAddress:t,proof:r,data:n,feeOptions:c=(0,s.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58()),sendAndConfirm:u=!0}=e;return i(this,void 0,void 0,(function*(){const{fee:e,feeCollectorAddress:i}=c;if(!(0,a.isAddress)(i))throw new Error("Invalid fee collector address");if(!(0,a.isAddress)(t))throw new Error("Invalid distributor address");if(!this._provider.wallet.publicKey.equals(n.authority))throw new Error("Invalid athority address");const{mint:s}=yield this.getDistributorData(t),d=yield this.deriveReceiptAddress(n.salt,t),l=yield o.utils.token.associatedAddress({mint:s,owner:this._provider.wallet.publicKey}),f=yield this.deriveTreasurerAddress(t),m=new o.web3.PublicKey(f),p=yield o.utils.token.associatedAddress({mint:s,owner:m}),h=yield this.program.methods.claim(r.map((e=>e.toJSON().data)),n.amount,n.startedAt,n.salt.toJSON().data,e).accounts({authority:this._provider.wallet.publicKey,distributor:new o.web3.PublicKey(t),receipt:new o.web3.PublicKey(d),dst:l,treasurer:m,treasury:p,feeCollector:new o.web3.PublicKey(i),mint:s,tokenProgram:o.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:o.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:o.web3.SystemProgram.programId,rent:o.web3.SYSVAR_RENT_PUBKEY});return{tx:yield h.transaction(),txId:u?yield h.rpc({commitment:"confirmed"}):"",dstAddress:l.toBase58()}}))},this.revoke=e=>{let{distributorAddress:t,feeOptions:r=(0,s.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58()),sendAndConfirm:n=!0}=e;return i(this,void 0,void 0,(function*(){const{fee:e,feeCollectorAddress:i}=r;if(!(0,a.isAddress)(i))throw new Error("Invalid fee collector address");if(!(0,a.isAddress)(t))throw new Error("Invalid distributor address");const{mint:s,authority:c}=yield this.getDistributorData(t);if(!this._provider.wallet.publicKey.equals(c))throw new Error("Invalid athority address");const u=yield o.utils.token.associatedAddress({mint:s,owner:this._provider.wallet.publicKey}),d=yield this.deriveTreasurerAddress(t),l=new o.web3.PublicKey(d),f=yield o.utils.token.associatedAddress({mint:s,owner:l}),m=yield this.program.methods.revoke(e).accounts({authority:this._provider.wallet.publicKey,distributor:new o.web3.PublicKey(t),dst:u,treasurer:l,treasury:f,feeCollector:new o.web3.PublicKey(i),mint:s,tokenProgram:o.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:o.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:o.web3.SystemProgram.programId,rent:o.web3.SYSVAR_RENT_PUBKEY});return{tx:yield m.transaction(),txId:n?yield m.rpc({commitment:"confirmed"}):"",dstAddress:u.toBase58()}}))},this.safeMintTo=e=>{let{amount:t,tokenAddress:r,dstWalletAddress:n,feeOptions:c=(0,s.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58()),sendAndConfirm:u=!0}=e;return i(this,void 0,void 0,(function*(){const{fee:e,feeCollectorAddress:i}=c;if(!(0,a.isAddress)(i))throw new Error("Invalid fee collector address");if(t.isNeg())throw new Error("Token amount must not be negative");if(!(0,a.isAddress)(r))throw new Error("Invalid token address");if(!(0,a.isAddress)(n))throw new Error("Invalid destination wallet address");const s=new o.web3.PublicKey(r),d=new o.web3.PublicKey(n),l=yield o.utils.token.associatedAddress({mint:s,owner:d}),f=yield this.program.methods.safeMintTo(t,e).accounts({payer:this._provider.wallet.publicKey,authority:d,dst:l,feeCollector:new o.web3.PublicKey(i),mint:s,tokenProgram:o.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:o.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:o.web3.SystemProgram.programId,rent:o.web3.SYSVAR_RENT_PUBKEY});return{tx:yield f.transaction(),txId:u?yield f.rpc({commitment:"confirmed"}):"",dstAddress:l.toBase58()}}))},this.safeTransfer=e=>{let{amount:t,tokenAddress:r,dstWalletAddress:n,feeOptions:c=(0,s.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58()),sendAndConfirm:u=!0}=e;return i(this,void 0,void 0,(function*(){const{fee:e,feeCollectorAddress:i}=c;if(!(0,a.isAddress)(i))throw new Error("Invalid fee collector address");if(t.isNeg())throw new Error("Token amount must not be negative");if(!(0,a.isAddress)(r))throw new Error("Invalid token address");if(!(0,a.isAddress)(n))throw new Error("Invalid destination wallet address");const s=new o.web3.PublicKey(r),d=yield o.utils.token.associatedAddress({mint:s,owner:this._provider.wallet.publicKey}),l=new o.web3.PublicKey(n),f=yield o.utils.token.associatedAddress({mint:s,owner:l}),m=yield this.program.methods.safeTransfer(t,e).accounts({payer:this._provider.wallet.publicKey,authority:l,src:d,dst:f,feeCollector:new o.web3.PublicKey(i),mint:s,tokenProgram:o.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:o.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:o.web3.SystemProgram.programId,rent:o.web3.SYSVAR_RENT_PUBKEY});return{tx:yield m.transaction(),txId:u?yield m.rpc({commitment:"confirmed"}):"",srcAddress:d.toBase58(),dstAddress:f.toBase58()}}))},!(0,a.isAddress)(c))throw new Error("Invalid program id");this._connection=new o.web3.Connection(r,"confirmed"),this._provider=new o.AnchorProvider(this._connection,e,{skipPreflight:!0,commitment:"confirmed"}),this.program=new o.Program(s.DEFAULT_SEN_UTILITY_IDL,c,this._provider)}get events(){return this.program.idl.events.map((e=>{let{name:t}=e;return t}))}}},97425:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(12870),t),i(r(68085),t),i(r(12190),t),i(r(67250),t),i(r(70104),t)},70104:(e,t,r)=>{"use strict";var n=r(97429).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.MerkleDistributor=t.LEAF_LEN=void 0;const i=r(27906),o=r(16348);t.LEAF_LEN=80;class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.getTotal=()=>{let e=new i.BN(0);return this.receipients.forEach((t=>{let{amount:r}=t;return e=e.add(r)})),e},this.toBuffer=()=>n.concat(this.receipients.map(s.serialize)),this.getLeaf=e=>{const t=s.serialize(e);return n.from(o.keccak_256.digest(t))},this.getParent=(e,t)=>{if(!e||!t)throw new Error("Invalid child");const r=n.concat(s.sort(e,t));return n.from(o.keccak_256.digest(r))},this.getSibling=(e,t)=>{const r=t.findIndex((t=>0===t.compare(e)));if(-1===r)throw new Error("Invalid child");return r%2===1?t[r-1]:t[r+1]},this.nextLayer=e=>{const t=[...e];if(0===t.length)throw new Error("Invalid tree");if(1===t.length)return t;const r=t.length%2===1?t.pop():void 0,n=[];for(let i=0;i<t.length;i+=2)n.push(this.getParent(t[i],t[i+1]));return r?[...n,r]:n},this.deriveMerkleRoot=()=>{let e=this.leafs;for(;e.length>1;)e=this.nextLayer(e);return e[0]},this.deriveProof=e=>{let t=this.getLeaf(e);const r=[];let n=this.leafs;for(;n.length>1;){const e=this.getSibling(t,n);e&&(t=this.getParent(t,e),r.push(e)),n=this.nextLayer(n)}return r},this.verifyProof=(e,t)=>{let r=this.getLeaf(t);for(const n of e)r=this.getParent(r,n);return 0===this.deriveMerkleRoot().compare(r)},this.receipients=e,this.leafs=s.sort(...this.receipients.map((e=>this.getLeaf(e))))}}t.MerkleDistributor=s,s.sort=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return[...t].sort(((e,t)=>{const r=n.compare(e,t);if(0===r)throw new Error("The receipients has a duplication");return r}))},s.serialize=e=>{let{authority:t,amount:r,startedAt:i,salt:o}=e;return n.concat([t.toBuffer(),r.toArrayLike(n,"le",8),i.toArrayLike(n,"le",8),o])},s.deserialize=e=>{if(e.length!==t.LEAF_LEN)throw new Error("Invalid buffer");return{authority:new i.web3.PublicKey(e.subarray(0,32)),amount:new i.BN(e.subarray(32,40),"le"),startedAt:new i.BN(e.subarray(40,48),"le"),salt:n.from(e.subarray(48,80))}},s.salt=e=>{let t="";for(;t.length<128;)t+=Math.round(10*Math.random()).toString();const r=e||t;return n.from(o.keccak_256.digest(r))},s.fromBuffer=e=>{if(e.length%t.LEAF_LEN!==0)throw new Error("Invalid buffer");let r=[];for(let n=0;n<e.length;n+=t.LEAF_LEN)r.push(s.deserialize(e.subarray(n,n+t.LEAF_LEN)));return new s(r)}},68085:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},12190:function(e,t,r){"use strict";var n=r(97429).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.findReceipt=t.isHash=t.isAddress=void 0;const o=r(27906);t.isAddress=e=>{if(!e)return!1;try{if(!new o.web3.PublicKey(e))throw new Error("Invalid public key");return!0}catch(t){return!1}};t.isHash=e=>!(!e||32!==e.length);t.findReceipt=(e,t,r,s)=>i(void 0,void 0,void 0,(function*(){const[i]=yield o.web3.PublicKey.findProgramAddress([n.from("receipt"),e,t.toBuffer(),r.toBuffer()],s);return i}))},84017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDL=void 0,t.IDL={version:"0.1.0",name:"sen_utility",instructions:[{name:"initializeDistributor",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"merkleRoot",type:{array:["u8",32]}},{name:"total",type:"u64"},{name:"endedAt",type:"i64"},{name:"metadata",type:{array:["u8",32]}},{name:"fee",type:"u64"}]},{name:"claim",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"dst",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"proof",type:{vec:{array:["u8",32]}}},{name:"amount",type:"u64"},{name:"startedAt",type:"i64"},{name:"salt",type:{array:["u8",32]}},{name:"fee",type:"u64"}]},{name:"revoke",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"dst",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"fee",type:"u64"}]},{name:"safeMintTo",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"authority",isMut:!1,isSigner:!1},{name:"dst",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"},{name:"fee",type:"u64"}]},{name:"safeTransfer",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"authority",isMut:!1,isSigner:!1},{name:"src",isMut:!0,isSigner:!1},{name:"dst",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"},{name:"fee",type:"u64"}]}],accounts:[{name:"distributor",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"merkleRoot",type:{array:["u8",32]}},{name:"total",type:"u64"},{name:"claimed",type:"u64"},{name:"endedAt",type:"i64"},{name:"metadata",type:{array:["u8",32]}}]}},{name:"receipt",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"distributor",type:"publicKey"},{name:"amount",type:"u64"},{name:"startedAt",type:"i64"},{name:"claimedAt",type:"i64"},{name:"salt",type:{array:["u8",32]}}]}}],events:[{name:"ClaimEvent",fields:[{name:"destination",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1},{name:"startedAt",type:"i64",index:!1},{name:"claimedAt",type:"i64",index:!1},{name:"claimed",type:"u64",index:!1}]},{name:"InitializeDistributorEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"distributor",type:"publicKey",index:!1},{name:"merkleRoot",type:{array:["u8",32]},index:!1},{name:"total",type:"u64",index:!1},{name:"endedAt",type:"i64",index:!1},{name:"metadata",type:{array:["u8",32]},index:!1}]},{name:"RevokeEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"distributor",type:"publicKey",index:!1},{name:"remaining",type:"u64",index:!1}]}],errors:[{code:6e3,name:"Overflow",msg:"Operation overflowed"},{code:6001,name:"InvalidMerkleProof",msg:"Invalid merkle proof"},{code:6002,name:"InvalidCurrentDate",msg:"Cannot get current date"},{code:6003,name:"EndedCampaign",msg:"The campaign has been ended"},{code:6004,name:"NotStartedCampaign",msg:"The campaign is not started yet"},{code:6005,name:"NotEndedCampaign",msg:"The campaign is not ended yet"},{code:6006,name:"NoBump",msg:"Cannot derive the program address"}]}},45006:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var d=t[e.charCodeAt(r)];if(255===d)return;for(var l=0,f=o-1;(0!==d||l<i)&&-1!==f;f--,l++)d+=s*u[f]>>>0,u[f]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");i=l,r++}for(var m=o-i;m!==o&&0===u[m];)m++;for(var p=new Uint8Array(n+(o-m)),h=n;m!==o;)p[h++]=u[m++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,d=new Uint8Array(c);i!==o;){for(var l=t[i],f=0,m=c-1;(0!==l||f<n)&&-1!==m;m--,f++)l+=256*d[m]>>>0,d[m]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");n=f,i++}for(var p=c-n;p!==c&&0===d[p];)p++;for(var h=a.repeat(r);p<c;++p)h+=e.charAt(d[p]);return h},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},34651:(e,t,r)=>{const n=r(45006);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},66549:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",i="second",o="minute",s="hour",a="day",c="week",u="month",d="quarter",l="year",f="date",m="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},w=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},g={s:w,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+w(n,2,"0")+":"+w(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,u),o=r-i<0,s=t.clone().add(n+(o?-1:1),u);return+(-(n+(r-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:l,w:c,d:a,D:f,h:s,m:o,s:i,ms:n,Q:d}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},v="en",b={};b[v]=y;var A=function(e){return e instanceof E},_=function e(t,r,n){var i;if(!t)return v;if("string"==typeof t){var o=t.toLowerCase();b[o]&&(i=o),r&&(b[o]=r,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;b[a]=t,i=a}return!n&&i&&(v=i),i||!n&&v},P=function(e,t){if(A(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new E(r)},S=g;S.l=_,S.i=A,S.w=function(e,t){return P(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=function(){function y(e){this.$L=_(e.locale,null,!0),this.parse(e)}var w=y.prototype;return w.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(p);if(n){var i=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},w.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},w.$utils=function(){return S},w.isValid=function(){return!(this.$d.toString()===m)},w.isSame=function(e,t){var r=P(e);return this.startOf(t)<=r&&r<=this.endOf(t)},w.isAfter=function(e,t){return P(e)<this.startOf(t)},w.isBefore=function(e,t){return this.endOf(t)<P(e)},w.$g=function(e,t,r){return S.u(e)?this[t]:this.set(r,e)},w.unix=function(){return Math.floor(this.valueOf()/1e3)},w.valueOf=function(){return this.$d.getTime()},w.startOf=function(e,t){var r=this,n=!!S.u(t)||t,d=S.p(e),m=function(e,t){var i=S.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?i:i.endOf(a)},p=function(e,t){return S.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},h=this.$W,y=this.$M,w=this.$D,g="set"+(this.$u?"UTC":"");switch(d){case l:return n?m(1,0):m(31,11);case u:return n?m(1,y):m(0,y+1);case c:var v=this.$locale().weekStart||0,b=(h<v?h+7:h)-v;return m(n?w-b:w+(6-b),y);case a:case f:return p(g+"Hours",0);case s:return p(g+"Minutes",1);case o:return p(g+"Seconds",2);case i:return p(g+"Milliseconds",3);default:return this.clone()}},w.endOf=function(e){return this.startOf(e,!1)},w.$set=function(e,t){var r,c=S.p(e),d="set"+(this.$u?"UTC":""),m=(r={},r[a]=d+"Date",r[f]=d+"Date",r[u]=d+"Month",r[l]=d+"FullYear",r[s]=d+"Hours",r[o]=d+"Minutes",r[i]=d+"Seconds",r[n]=d+"Milliseconds",r)[c],p=c===a?this.$D+(t-this.$W):t;if(c===u||c===l){var h=this.clone().set(f,1);h.$d[m](p),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else m&&this.$d[m](p);return this.init(),this},w.set=function(e,t){return this.clone().$set(e,t)},w.get=function(e){return this[S.p(e)]()},w.add=function(n,d){var f,m=this;n=Number(n);var p=S.p(d),h=function(e){var t=P(m);return S.w(t.date(t.date()+Math.round(e*n)),m)};if(p===u)return this.set(u,this.$M+n);if(p===l)return this.set(l,this.$y+n);if(p===a)return h(1);if(p===c)return h(7);var y=(f={},f[o]=t,f[s]=r,f[i]=e,f)[p]||1,w=this.$d.getTime()+n*y;return S.w(w,this)},w.subtract=function(e,t){return this.add(-1*e,t)},w.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||m;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,s=this.$m,a=this.$M,c=r.weekdays,u=r.months,d=function(e,r,i,o){return e&&(e[r]||e(t,n))||i[r].slice(0,o)},l=function(e){return S.s(o%12||12,e,"0")},f=r.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:S.s(a+1,2,"0"),MMM:d(r.monthsShort,a,u,3),MMMM:d(u,a),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:d(r.weekdaysMin,this.$W,c,2),ddd:d(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:S.s(o,2,"0"),h:l(1),hh:l(2),a:f(o,s,!0),A:f(o,s,!1),m:String(s),mm:S.s(s,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:i};return n.replace(h,(function(e,t){return t||p[e]||i.replace(":","")}))},w.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},w.diff=function(n,f,m){var p,h=S.p(f),y=P(n),w=(y.utcOffset()-this.utcOffset())*t,g=this-y,v=S.m(this,y);return v=(p={},p[l]=v/12,p[u]=v,p[d]=v/3,p[c]=(g-w)/6048e5,p[a]=(g-w)/864e5,p[s]=g/r,p[o]=g/t,p[i]=g/e,p)[h]||g,m?v:S.a(v)},w.daysInMonth=function(){return this.endOf(u).$D},w.$locale=function(){return b[this.$L]},w.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=_(e,t,!0);return n&&(r.$L=n),r},w.clone=function(){return S.w(this.$d,this)},w.toDate=function(){return new Date(this.valueOf())},w.toJSON=function(){return this.isValid()?this.toISOString():null},w.toISOString=function(){return this.$d.toISOString()},w.toString=function(){return this.$d.toUTCString()},y}(),I=E.prototype;return P.prototype=I,[["$ms",n],["$s",i],["$m",o],["$H",s],["$W",a],["$M",u],["$y",l],["$D",f]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),P.extend=function(e,t){return e.$i||(e(t,E,P),e.$i=!0),P},P.locale=_,P.isDayjs=A,P.unix=function(e){return P(1e3*e)},P.en=b[v],P.Ls=b,P.p={},P}()},25882:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var s,a,c=i(e),u=1;u<arguments.length;u++){for(var d in s=Object(arguments[u]))r.call(s,d)&&(c[d]=s[d]);if(t){a=t(s);for(var l=0;l<a.length;l++)n.call(s,a[l])&&(c[a[l]]=s[a[l]])}}return c}},9517:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var i=a(r(92950)),o=a(r(29548)),s=["text","onCopy","options","children"];function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t){return m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},m(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=w(e);if(t){var i=w(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return h(this,r)}}function h(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(c,e);var t,r,n,a=p(c);function c(){var e;l(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return g(y(e=a.call.apply(a,[this].concat(r))),"onClick",(function(t){var r=e.props,n=r.text,s=r.onCopy,a=r.children,c=r.options,u=i.default.Children.only(a),d=(0,o.default)(n,c);s&&s(n,d),u&&u.props&&"function"===typeof u.props.onClick&&u.props.onClick(t)})),e}return t=c,(r=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),r=d(e,s),n=i.default.Children.only(t);return i.default.cloneElement(n,u(u({},r),{},{onClick:this.onClick}))}}])&&f(t.prototype,r),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.default.PureComponent);t.CopyToClipboard=v,g(v,"defaultProps",{onCopy:void 0,options:void 0})},51518:(e,t,r)=>{"use strict";var n=r(9517).CopyToClipboard;n.CopyToClipboard=n,e.exports=n},62175:(e,t,r)=>{"use strict";r(25882);var n=r(92950),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,o={},u=null,d=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(d=t.ref),t)a.call(t,n)&&!c.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:u,ref:d,props:o,_owner:s.current}}t.jsx=u,t.jsxs=u},45263:(e,t,r)=>{"use strict";e.exports=r(62175)},92311:function(e,t,r){"use strict";var n=r(97429).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IdlParser=t.ixDiscriminator=t.accountDiscriminator=void 0;const o=r(27906),s=r(10119),a=i(r(84760)),c=r(2670),u=r(85736);t.accountDiscriminator=e=>n.from(s.sha256.digest(`account:${(0,a.default)(e,{pascalCase:!0})}`)).slice(0,8);t.ixDiscriminator=e=>{let t=`global:${(0,c.snakeCase)(e)}`;return n.from(s.sha256.digest(t)).slice(0,8)};t.IdlParser=class{constructor(e){var r=this;this.parserAccountData=function(e,i){let o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!o){const r=(0,t.accountDiscriminator)(e);i=n.concat([r,i])}return r.program.coder.accounts.decode(e,i)},this.parserIxData=function(e,i){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{if(!r.idl.instructions.find((t=>t.name===e)))return null;if(!s){const r=(0,t.ixDiscriminator)(e);i=n.concat([r,i])}const a=new o.BorshInstructionCoder(r.idl).decode(i);return a?{name:a.name,data:a.data}:null}catch(a){return null}},this.program=(0,u.getRawProgram)(e),this.idl=e}}},46029:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(93014),t),i(r(85736),t),i(r(63030),t),i(r(12211),t),i(r(92311),t),i(r(96345),t)},12211:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IPFS=void 0;const i=r(74985);t.IPFS=class{constructor(e){this.set=e=>n(this,void 0,void 0,(function*(){const t=new i.File([JSON.stringify(e)],"file",{type:"application/json"});return yield this.provider.put([t])})),this.get=e=>n(this,void 0,void 0,(function*(){const t=yield this.provider.get(e);return null===t||void 0===t?void 0:t.files()})),this.provider=new i.Web3Storage({endpoint:new URL("https://api.web3.storage"),token:e})}}},63030:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountDataSmart=t.getMultipleAccounts=void 0;function n(e,t,n){return r(this,void 0,void 0,(function*(){const r=null!==n&&void 0!==n?n:e.commitment;return(yield e.getMultipleAccountsInfo(t,r)).map(((e,r)=>null===e?null:{publicKey:t[r],account:e}))}))}function i(e,t,i){return r(this,void 0,void 0,(function*(){if(t.length<=99)return yield n(e,t,i);{const s=(r=t,o=99,Array.apply(0,new Array(Math.ceil(r.length/o))).map(((e,t)=>r.slice(t*o,(t+1)*o))));return(yield Promise.all(s.map((t=>n(e,t,i))))).flat()}var r,o}))}t.getMultipleAccounts=i;let o=new Array,s=new Map;t.getAccountDataSmart=function(e,t){return r(this,void 0,void 0,(function*(){const{connection:n,publicKey:a,commitment:c="confirmed",debounce:u=500}=e,d=a.toBase58();if(!s.has(d)){const e=new Promise(((e,d)=>{o.length||setTimeout((()=>r(this,void 0,void 0,(function*(){return function(){return r(this,void 0,void 0,(function*(){const e=o;o=[],s=new Map;const r=yield i(n,e.map((e=>e.publicKey)),c);for(let n=0;n<e.length;n++){const i=e[n];try{const e=r[n];if(!(null===e||void 0===e?void 0:e.account.data))throw new Error("Invalid Data");const o=t(null===e||void 0===e?void 0:e.account.data);i.resolve({publicKey:i.publicKey,data:o})}catch(a){i.resolve({publicKey:i.publicKey,data:null})}}}))}()}))),u),o.push({publicKey:a,resolve:e,reject:d})}));s.set(d,e)}return s.get(d)}))}},93014:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createMintAndMintTo=void 0;const c=r(71256),u=o(r(83862));t.createMintAndMintTo=function(e,t){let{amount:r,mint:n,dstAddress:i,decimals:o=9}=t,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a(void 0,void 0,void 0,(function*(){const t=yield u.initTxCreateMint(e,{mint:n,decimals:o}),a=n.publicKey,d=yield u.initTxCreateTokenAccount(e,{mintAddress:a,owner:i}),l=yield u.initTxMintTo(e,{mintAddress:n.publicKey,amount:r,dstAddress:i}),f=(new c.Transaction).add(t,d,l);let m="";return s&&(m=yield e.sendAndConfirm(f,[n])),{txId:m,transaction:f,signer:[n]}}))},s(r(83862),t)},83862:function(e,t,r){"use strict";var n=r(97429).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initTxCreateMultiTokenAccount=t.initTxCreateTokenAccount=t.initTxCreateMint=t.initTxMintTo=void 0;const o=r(27906),s=r(63030),a=r(85736);t.initTxMintTo=(e,t)=>{let{mintAddress:r,amount:n,dstAddress:s=e.wallet.publicKey}=t;return i(void 0,void 0,void 0,(function*(){const t=o.Spl.token(e),i=(0,a.toPublicKey)(r),c=yield o.utils.token.associatedAddress({mint:i,owner:(0,a.toPublicKey)(s)});return yield t.methods.mintTo(n).accounts({mint:i,to:c,authority:e.wallet.publicKey}).instruction()}))};t.initTxCreateMint=(e,t)=>{let{mint:r,decimals:n=9,mintAuthority:s=e.wallet.publicKey,freezeAuthority:c=e.wallet.publicKey}=t;return i(void 0,void 0,void 0,(function*(){const t=o.Spl.token(e),i=yield t.account.mint.createInstruction(r),u=yield t.methods.initializeMint(n,(0,a.toPublicKey)(s),(0,a.toPublicKey)(c)).accounts({mint:r.publicKey,rent:o.web3.SYSVAR_RENT_PUBKEY}).instruction();return(new o.web3.Transaction).add(i).add(u)}))};t.initTxCreateTokenAccount=(e,t)=>{let{mintAddress:r,owner:s=e.wallet.publicKey}=t;return i(void 0,void 0,void 0,(function*(){const t=(0,a.toPublicKey)(r),i=(0,a.toPublicKey)(e.wallet.publicKey),c=(0,a.toPublicKey)(s),u=yield o.utils.token.associatedAddress({mint:t,owner:c}),d=new o.web3.TransactionInstruction({keys:[{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.utils.token.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:o.utils.token.ASSOCIATED_PROGRAM_ID,data:n.from([])});return(new o.web3.Transaction).add(d)}))};t.initTxCreateMultiTokenAccount=(e,r)=>{let{mints:n,owner:c=e.wallet.publicKey}=r;return i(void 0,void 0,void 0,(function*(){const r=(0,a.toPublicKey)(c),u=[],d=[];for(const e of n){const t=(0,a.toPublicKey)(e),n=yield o.utils.token.associatedAddress({mint:t,owner:r});d.push(n)}return(yield(0,s.getMultipleAccounts)(e.connection,d)).forEach(((r,o)=>i(void 0,void 0,void 0,(function*(){if(null!==r)return;const i=yield(0,t.initTxCreateTokenAccount)(e,{mintAddress:n[o],owner:c});u.push(i)})))),u}))}},85736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRawProgram=t.getRawAnchorProvider=t.getAnchorProvider=t.toBase58=t.toPublicKey=void 0;const n=r(27906);t.toPublicKey=e=>new n.web3.PublicKey(e);t.toBase58=e=>new n.web3.PublicKey(e).toBase58();t.getAnchorProvider=(e,t,r)=>{const i=new n.web3.Connection(e,"confirmed"),o=new n.web3.PublicKey(t);return new n.AnchorProvider(i,{publicKey:o,signAllTransactions:r.signAllTransactions,signTransaction:r.signTransaction},{commitment:"confirmed",skipPreflight:!0})};t.getRawAnchorProvider=()=>{const e=n.web3.clusterApiUrl("mainnet-beta"),t=new n.web3.Connection(e,"confirmed"),r=n.web3.Keypair.generate(),i=new n.Wallet(r);return new n.AnchorProvider(t,{publicKey:i.publicKey,signAllTransactions:i.signAllTransactions,signTransaction:i.signTransaction},{commitment:"confirmed",skipPreflight:!0})};t.getRawProgram=e=>{const r=n.web3.Keypair.generate().publicKey,i=(0,t.getRawAnchorProvider)();return new n.Program(e,r,i)}},96345:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utilsBN=void 0;const n=r(27906);t.utilsBN={decimalize:(e,t)=>{if(!e)return new n.BN(0);if(t<0||t%1!==0)throw new Error("decimals must be an integer greater than zero");const r=e.toString().split(".");if(r.length>2)throw new Error("Invalid number");return t?1===r.length?new n.BN(e).mul(new n.BN(Math.pow(10,t))):r[1].length>=t?new n.BN(r[0]+r[1].substring(0,t)):new n.BN(r[0]+r[1]+"0".repeat(t-r[1].length)):new n.BN(r[0])},undecimalize:(e,t)=>{if(t<0||t%1!==0)throw new Error("decimals must be an integer greater than zero");if(!e)return"0";const r=e.toString();if(!t)return r;let n=r.length>t?r.substring(0,r.length-t):"0",i="";for(i=r.length>t?r.substring(r.length-t,r.length):r.length===t?r:"0".repeat(t-r.length)+r,i=i.split("");"0"===i[i.length-1];)i.pop();return i=i.join(""),i?n+"."+i:n},toNumber:e=>Number(t.utilsBN.undecimalize(e,0))}},2670:(e,t,r)=>{"use strict";r.r(t),r.d(t,{snakeCase:()=>u});var n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.create;Object.create;function i(e){return e.toLowerCase()}var o=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],s=/[^A-Z0-9]+/gi;function a(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}function c(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,n=void 0===r?o:r,c=t.stripRegexp,u=void 0===c?s:c,d=t.transform,l=void 0===d?i:d,f=t.delimiter,m=void 0===f?" ":f,p=a(a(e,n,"$1\0$2"),u,"\0"),h=0,y=p.length;"\0"===p.charAt(h);)h++;for(;"\0"===p.charAt(y-1);)y--;return p.slice(h,y).split("\0").map(l).join(m)}(e,n({delimiter:"."},t))}function u(e,t){return void 0===t&&(t={}),c(e,n({delimiter:"_"},t))}},92358:(e,t)=>{"use strict";function r(e,t,r){void 0===r&&(r=!1),r&&(t/=e,e=1);var n,i=[],o=0,s=0,a=function(){var r=o+t,c=Date.now();if(c<r)return void 0!==n&&clearTimeout(n),void(n=setTimeout(a,r-c));o=c,s=0;for(var u=0,d=i.splice(0,e);u<d.length;u++){var l=d[u];s++,l()}n=i.length?setTimeout(a,t):void 0};return function(r){return new Promise((function(c,u){var d=function(){return Promise.resolve().then(r).then(c).catch(u)},l=Date.now();void 0===n&&l-o>t&&(o=l,s=0),s++<e?d():(i.push(d),void 0===n&&(n=setTimeout(a,o+t-l)))}))}}Object.defineProperty(t,"__esModule",{value:!0}),e.exports=r,t.default=r},33101:(e,t,r)=>{"use strict";r.d(t,{tL:()=>i,Gp:()=>l});var n=r(64699);class i{constructor(e,t,r){this._version=e,this._roots=t,this._blocks=r,this._keys=r.map((e=>e.cid.toString()))}get version(){return this._version}async getRoots(){return this._roots}async has(e){return this._keys.indexOf(e.toString())>-1}async get(e){const t=this._keys.indexOf(e.toString());return t>-1?this._blocks[t]:void 0}async*blocks(){for(const e of this._blocks)yield e}async*cids(){for(const e of this._blocks)yield e.cid}static async fromBytes(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return o((0,n.HR)(e))}static async fromIterable(e){if(!e||"function"!==typeof e[Symbol.asyncIterator])throw new TypeError("fromIterable() requires an async iterable");return o((0,n.Cy)(e))}}async function o(e){const t=(0,n.UF)(e),{version:r,roots:o}=await t.header(),s=[];for await(const n of t.blocks())s.push(n);return new i(r,o,s)}Symbol.asyncIterator;r(95352);var s=r(32743),a=r(75617),c=r(60372);function u(e){const t=(0,c.encode)({version:1,roots:e}),r=a.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function d(){}class l{constructor(e,t){this._encoder=t,this._mutex=t.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array)||!e.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const t=s.CID.asCID(e.cid);if(!t)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then((()=>this._encoder.writeBlock({cid:t,bytes:e.bytes}))),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=function(e){if(void 0===e)return[];if(!Array.isArray(e)){const t=s.CID.asCID(e);if(!t)throw new TypeError("roots must be a single CID or an array of CIDs");return[t]}const t=[];for(const r of e){const e=s.CID.asCID(r);if(!e)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(e)}return t}(e);const{encoder:t,iterator:r}=m();return{writer:new l(e,t),out:new f(r)}}static createAppender(){const{encoder:e,iterator:t}=m();e.setRoots=()=>Promise.resolve();return{writer:new l([],e),out:new f(t)}}static async updateRootsInBytes(e,t){const r=(0,n.HR)(e);await(0,n.xU)(r);const i=u(t);if(r.pos!==i.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${r.pos} bytes, new header is ${i.length} bytes)`);return e.set(i,0),e}}class f{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function m(){const e=function(){const e=[];let t=null,r=d,n=!1,i=null,o=d;const s=()=>(t||(t=new Promise((e=>{r=()=>{t=null,r=d,e()}}))),t),a={write(t){e.push(t);const r=s();return o(),r},async end(){n=!0;const e=s();return o(),e}},c={async next(){const t=e.shift();return t?(0===e.length&&r(),{done:!1,value:t}):n?(r(),{done:!0,value:void 0}):(i||(i=new Promise((e=>{o=()=>(i=null,o=d,e(c.next()))}))),i)}};return{writer:a,iterator:c}}(),{writer:t,iterator:r}=e,n=function(e){return{async setRoots(t){const r=u(t);await e.write(r)},async writeBlock(t){const{cid:r,bytes:n}=t;await e.write(new Uint8Array(a.encode(r.bytes.length+n.length))),await e.write(r.bytes),n.length&&await e.write(n)},close:async()=>e.end()}}(t);return{encoder:n,iterator:r}}},64699:(e,t,r)=>{"use strict";r.d(t,{Cy:()=>g,HR:()=>w,UF:()=>y,xU:()=>l});var n=r(75617),i=r(32743),o=r(17578),s=r(60372);const a=18,c=32,u=112;async function d(e){const t=await e.upTo(8),r=n.decode(t);return e.seek(n.decode.bytes),r}async function l(e){const t=await d(e);if(0===t)throw new Error("Invalid CAR header (zero length)");const r=await e.exactly(t);e.seek(t);const n=(0,s.decode)(r);if(null==n||Array.isArray(n)||"object"!==typeof n)throw new Error("Invalid CAR header format");if(1!==n.version){if("string"===typeof n.version)throw new Error(`Invalid CAR version: "${n.version}"`);throw new Error(`Invalid CAR version: ${n.version}`)}if(!Array.isArray(n.roots))throw new Error("Invalid CAR header format");if(Object.keys(n).filter((e=>"roots"!==e&&"version"!==e)).length)throw new Error("Invalid CAR header format");return n}async function f(e){const t=await e.exactly(2);if(t[0]===a&&t[1]===c){const t=await e.exactly(34);e.seek(34);const r=o.decode(t);return i.CID.create(0,u,r)}const r=await d(e);if(1!==r)throw new Error(`Unexpected CID version (${r})`);const s=await d(e),l=await async function(e){const t=await e.upTo(8);n.decode(t);const r=n.decode.bytes,i=n.decode(t.subarray(n.decode.bytes)),o=r+n.decode.bytes+i,s=await e.exactly(o);return e.seek(o),s}(e),f=o.decode(l);return i.CID.create(r,s,f)}async function m(e){const t=e.pos;let r=await d(e);if(0===r)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;return{cid:await f(e),length:r,blockLength:r-(e.pos-t)}}async function p(e){const{cid:t,blockLength:r}=await m(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function h(e){const t=e.pos,{cid:r,length:n,blockLength:i}=await m(e),o={cid:r,length:n,blockLength:i,offset:t,blockOffset:e.pos};return e.seek(o.blockLength),o}function y(e){const t=l(e);return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await p(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await h(e)}}}function w(e){let t=0;return{upTo:async r=>e.subarray(t,t+Math.min(r,e.length-t)),async exactly(r){if(r>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+r)},seek(e){t+=e},get pos(){return t}}}function g(e){const t=e[Symbol.asyncIterator]();return function(e){let t=0,r=0,n=0,i=new Uint8Array(0);const o=async t=>{r=i.length-n;const o=[i.subarray(n)];for(;r<t;){const t=await e();if(null==t)break;r<0?t.length>r&&o.push(t.subarray(-r)):o.push(t),r+=t.length}i=new Uint8Array(o.reduce(((e,t)=>e+t.length),0));let s=0;for(const e of o)i.set(e,s),s+=e.length;n=0};return{upTo:async e=>(i.length-n<e&&await o(e),i.subarray(n,n+Math.min(i.length-n,e))),async exactly(e){if(i.length-n<e&&await o(e),i.length-n<e)throw new Error("Unexpected end of data");return i.subarray(n,n+e)},seek(e){t+=e,n+=e},get pos(){return t}}}((async function(){const e=await t.next();return e.done?null:e.value}))}},95352:(e,t,r)=>{"use strict";r.d(t,{vQ:()=>o});var n=r(64699);class i{constructor(e,t,r){this._version=e,this._roots=t,this._iterable=r,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class o extends i{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(e){const{version:t,roots:r,iterator:n}=await s(e);return new o(t,r,n)}static async fromIterable(e){const{version:t,roots:r,iterator:n}=await a(e);return new o(t,r,n)}}Symbol.asyncIterator;async function s(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return c((0,n.HR)(e))}async function a(e){if(!e||"function"!==typeof e[Symbol.asyncIterator])throw new TypeError("fromIterable() requires an async iterable");return c((0,n.Cy)(e))}async function c(e){const t=(0,n.UF)(e),{version:r,roots:i}=await t.header();return{version:r,roots:i,iterator:t.blocks()}}},98548:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});function n(e){return e&&e.rel}function i(e,t){return t.rel.split(/\s+/).forEach((function(r){e[r]=Object.assign({},t,{rel:r})})),e}function o(e,t){const r=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return r&&(e[r[1]]=r[2]),e}function s(e){try{const t=e.match(/<?([^>]*)>(.*)/),r=t[1],n=t[2].split(";"),i={},s=new URL(r,"https://example.com");for(const[e,o]of s.searchParams)i[e]=o;n.shift();let a=n.reduce(o,{});return a=Object.assign({},i,a),a.url=r,a}catch{return null}}function a(e,t){return function(e,t){if(!e)return!1;const r=(t=t||{}).maxHeaderLength||2e3,n=t.throwOnMaxHeaderLengthExceeded||!1;if(e.length>r){if(n)throw new Error("Input string too long, it should be under "+r+" characters.");return!1}return!0}(e,t)?e.split(/,\s*</).map(s).filter(n).reduce(i,{}):null}},22112:(e,t,r)=>{"use strict";r.d(t,{o:()=>y});var n={};r.r(n),r.d(n,{code:()=>f,decode:()=>p,encode:()=>m,name:()=>l});var i=r(33101),o=r(83737),s=r(96602),a=r(64429),c=r(32743);const u={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=c.CID.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new a.WU(a.Dy.tag,42),new a.WU(a.Dy.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const d={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};d.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return c.CID.decode(e.subarray(1))};const l="dag-cbor",f=113,m=e=>a.cv(e,u),p=e=>a.Jx(e,d);var h=r(47922);class y{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("number"!==typeof t||t<=0)throw new Error("invalid target chunk size");this._reader=e,this._targetSize=t,this._decoders=[h,s,n,...r.decoders||[]]}async*cars(){const e=await this._reader.getRoots();if(1!==e.length)throw new Error(`unexpected number of roots: ${e.length}`);let t;for await(const r of this._cars(e[0]))t=r.channel,r.out&&(yield r.out);if(!t)throw new Error("missing CAR writer channel");t.writer.close(),yield t.out}async _get(e){const t=await this._reader.get(e);if(!t)throw new Error(`missing block for ${e}`);const{bytes:r}=t,n=this._decoders.find((t=>t.code===e.code));if(!n)throw new Error(`missing decoder for ${e.code}`);return new o.gO({cid:e,bytes:r,value:n.decode(r)})}async*_cars(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n=await this._get(e);if(r=r||Object.assign(i.Gp.create(e),{size:0}),r.size>0&&r.size+n.bytes.byteLength>=this._targetSize){r.writer.close();const{out:e}=r;r=function(e){const t=Object.assign(i.Gp.create(e[0].cid),{size:e.reduce(((e,t)=>e+t.bytes.byteLength),0)});for(const r of e)t.writer.put(r);return t}(t),yield{channel:r,out:e}}t=t.concat(n),r.size+=n.bytes.byteLength,r.writer.put(n);for(const[,i]of n.links())for await(const e of this._cars(i,t,r))r=e.channel,yield e;if(!r)throw new Error("missing CAR writer channel");yield{channel:r}}static async fromIterable(e,t,r){const n=await i.tL.fromIterable(e);return new y(n,t,r)}static async fromBlob(e,t,r){const n=await e.arrayBuffer(),o=await i.tL.fromBytes(new Uint8Array(n));return new y(o,t,r)}}},26536:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var n=r(28546),i=r(55997);class o extends i.Ed{constructor(){super(),this.store=new Map}async*blocks(){for(const[e,t]of this.store.entries())yield{cid:n.k0.parse(e),bytes:t}}put(e,t){return this.store.set(e.toString(),t),Promise.resolve()}get(e){const t=this.store.get(e.toString());if(!t)throw new Error(`block with cid ${e.toString()} no found`);return Promise.resolve(t)}has(e){return Promise.resolve(this.store.has(e.toString()))}close(){return this.store.clear(),Promise.resolve()}}},27500:(e,t,r)=>{"use strict";r.d(t,{P:()=>O});var n=r(16586),i=r(89962),o=r(33101),s=r(62742),a=r(15504),c=r(68425),u=r(55194),d=r(31156),l=r(62469),f=r(21958),m=r(60191);function p(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function h(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"===typeof e.stream}function y(e){return"object"===typeof e&&(e.path||e.content)}const w=e=>e&&"function"===typeof e.getReader;async function*g(e){yield e}async function v(e){if(p(e))return g(b(e));if("string"===typeof e||e instanceof String)return g(b(e.toString()));if(h(e))return d(e);if(w(e)&&(e=u(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const t=l(e),{value:r,done:n}=await t.peek();if(n)return g(new Uint8Array(0));if(t.push(r),Number.isInteger(r))return g(Uint8Array.from(await f(t)));if(p(r)||"string"===typeof r||r instanceof String)return m(t,b)}throw a(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function b(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):(0,c.fromString)(e.toString())}var A=r(72512);async function _(e,t){const{path:r,mode:n,mtime:i,content:o}=e,s={path:r||"",mode:(0,A.tK)(n),mtime:(0,A.Xu)(i)};return o?s.content=await t(o):r||(s.content=await t(e)),s}function P(e){return async function*(e,t){if(null===e||void 0===e)throw a(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if("string"===typeof e||e instanceof String)yield _(e.toString(),t);else if(p(e)||h(e))yield _(e,t);else{if(w(e)&&(e=u(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const r=l(e),{value:n,done:i}=await r.peek();if(i)return void(yield{content:[]});if(r.push(n),Number.isInteger(n)||p(n)||"string"===typeof n||n instanceof String)return void(yield _(r,t));throw a(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(!y(e))throw a(new Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT");yield _(e,t)}}(e,v)}async function S(e,t){const{path:r,mode:n,mtime:i,content:o}=e,s={path:r||"",mode:(0,A.tK)(n),mtime:(0,A.Xu)(i)};return o?s.content=await t(o):r||(s.content=await t(e)),s}function E(e){return async function*(e,t){if("string"===typeof e||e instanceof String||p(e)||h(e)||e._readableState)throw a(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(w(e)&&(e=u(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const r=l(e),{value:n,done:i}=await r.peek();if(i)return void(yield*[]);if(r.push(n),Number.isInteger(n))throw a(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState)return void(yield*m(r,(e=>S({content:e},t))));if(p(n))return void(yield S({content:r},t));if(y(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||w(n)||h(n))return void(yield*m(r,(e=>S(e,t))))}if(y(e))throw a(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw a(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}(e,v)}function I(e){return"string"===typeof e||e instanceof String||(t=e,ArrayBuffer.isView(t)||t instanceof ArrayBuffer)||function(e){return Boolean(e.constructor)&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"===typeof e.stream}(e)||"_readableState"in e;var t}var M=r(26536);const k={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:r(92829).sha256,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};async function O(e){let{input:t,blockstore:r,hasher:a,maxChunkSize:c,maxChildrenPerNode:u,wrapWithDirectory:d,rawLeaves:l}=e;if(!t||Array.isArray(t)&&!t.length)throw new Error("missing input file(s)");const f=r||new M.X,m=await n(i(function(e){return I(e)?P(e):E(e)}(t),(e=>(0,s.Z)(e,f,{...k,hasher:a||k.hasher,maxChunkSize:c||k.maxChunkSize,maxChildrenPerNode:u||k.maxChildrenPerNode,wrapWithDirectory:!1!==d&&k.wrapWithDirectory,rawLeaves:null==l?k.rawLeaves:l}))));if(!m||!m.cid)throw new Error("given input could not be parsed correctly");const p=m.cid,{writer:h,out:y}=await o.Gp.create([p]),w=y[Symbol.asyncIterator]();let g;return{root:p,out:{[Symbol.asyncIterator](){if(null!=g)throw new Error("Multiple iterator not supported");return g=(async()=>{for await(const e of f.blocks())await h.put(e);await h.close(),r||await f.close()})(),{async next(){const e=await w.next();return e.done&&await g,e}}}}}}},32878:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var n=r(55194),i=r(95352),o=r(97760),s=r(10764),a=r(92829),c=r(55997);class u extends c.Ed{constructor(e){super(),this.store=e}async get(e){const t=await this.store.get(e);if(!t)throw new Error(`Incomplete CAR. Block missing for CID ${e}`);if(!async function(e){let{cid:t,bytes:r}=e;const n=await a.sha256.digest(r);return(0,s.equals)(n.digest,t.multihash.digest)}({cid:e,bytes:t}))throw new Error(`Invalid CAR. Hash of block data does not match CID ${e}`);return t}static fromBlockstore(e){return new u(e)}static fromCarReader(e){return new u({get:async t=>{const r=await e.get(t);return null===r||void 0===r?void 0:r.bytes}})}}var d=r(26536);async function*l(e){let{roots:t,blockstore:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await i.vQ.fromIterable(f(e)),s=r||new d.X;for await(const i of n)await s.put(i.cid,i.bytes);const a=u.fromBlockstore(s);t&&0!==t.length||(t=await n.getRoots());for(const i of t)yield*(0,o.BE)(i,a)}function f(e){return Symbol.asyncIterator in e?e:n(e)}},74985:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Blob:()=>h,File:()=>y,Web3Storage:()=>S,createRateLimiter:()=>_,filesFromPath:()=>l,getFilesFromPath:()=>d});var n=r(65846),i=r(67746),o=r(27500),s=r(98548),a=r(32878),c=r(22112),u=r(33101);async function d(){throw new Error("Unsupported in this environment")}async function*l(){throw new Error("Unsupported in this environment")}var f=r(92358),m=r(26536);const p=globalThis.fetch,h=(globalThis.Request,globalThis.Response,globalThis.Blob),y=globalThis.File,w=m.X,g=5,v=10485760,b=1048576,A=104857600;function _(){const e=f(30,1e4);return()=>e((()=>{}))}const P=_();class S{constructor(e){let{token:t,endpoint:r=new URL("https://api.web3.storage"),rateLimiter:n,fetch:i=p}=e;this.token=t,this.endpoint=r,this.rateLimiter=n||_(),this.fetch=i}static headers(e){if(!e)throw new Error("missing token");return{Authorization:`Bearer ${e}`,"X-Client":"web3.storage/js"}}static async put(e,t){let{endpoint:r,token:n,rateLimiter:i=P,fetch:s=p}=e,{onRootCidReady:a,onStoredChunk:c,maxRetries:d=g,maxChunkSize:l=v,wrapWithDirectory:f=!0,name:m,signal:h}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(l>=A||l<b)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const y=new w;try{const{out:e,root:p}=await(0,o.P)({input:Array.from(t).map(I),blockstore:y,wrapWithDirectory:f,maxChunkSize:b,maxChildrenPerNode:1024});a&&a(p.toString());const w=await u.tL.fromIterable(e);return await S.putCar({endpoint:r,token:n,rateLimiter:i,fetch:s},w,{onStoredChunk:c,maxRetries:d,maxChunkSize:l,name:m,signal:h})}finally{await y.close()}}static async putCar(e,t){let{endpoint:r,token:o,rateLimiter:s=P,fetch:a=p}=e,{name:u,onStoredChunk:d,maxRetries:l=g,maxChunkSize:f=v,decoders:m,signal:y}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(f>=A||f<b)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const w=f,_=new URL("car",r);let E=S.headers(o);u&&(E={...E,"X-Name":encodeURIComponent(u)});const I=await t.getRoots();if(null==I[0])throw new Error("missing root CID");if(I.length>1)throw new Error("too many roots");const M=I[0].toString(),k=new c.o(t,w,{decoders:m}),O=(0,n.vs)(3,(async e=>{const t=[];for await(const i of e)t.push(i);const r=new h(t,{type:"application/vnd.ipld.car"}),n=await i((async()=>{let e;await s();try{e=await a(_.toString(),{method:"POST",headers:E,body:r,signal:y})}catch(n){throw y&&y.aborted?new i.AbortError(n):n}if(429===e.status)throw new Error("rate limited");const t=await e.json();if(!e.ok)throw new Error(t.message);if(t.cid!==M)throw new Error(`root CID mismatch, expected: ${M}, received: ${t.cid}`);return t.cid}),{retries:l});return d&&d(r.size),n}));for await(const n of O(k.cars()));return M}static async get(e,t){let{endpoint:r,token:n,rateLimiter:i=P,fetch:o=p}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=new URL(`car/${t}`,r);await i();const u=await o(c.toString(),{method:"GET",headers:S.headers(n),signal:s.signal});if(429===u.status)throw new Error("rate limited");return function(e){const t=Object.assign(e,{unixFsIterator:async function*(){if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .unixFsIterator`);if(!e.body)throw new Error("No body on response");const t=new w;try{for await(const r of(0,a.I)(e.body,{blockstore:t}))yield r}finally{await t.close()}},files:async()=>{if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .files`);const r=[];for await(const e of t.unixFsIterator()){if("directory"===e.type)continue;const t=await E(e);r.push(t)}return r}});return t}(u)}static async delete(e,t){let{endpoint:r,token:n,rateLimiter:i=P}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};throw console.log("Not deleting",t,r,n,i,o),Error(".delete not implemented yet")}static async status(e,t){let{endpoint:r,token:n,rateLimiter:i=P,fetch:o=p}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=new URL(`status/${t}`,r);await i();const c=await o(a.toString(),{method:"GET",headers:S.headers(n),signal:s.signal});if(429===c.status)throw new Error("rate limited");if(404!==c.status){if(!c.ok)throw new Error(c.statusText);return c.json()}}static async*list(e){let{before:t=(new Date).toISOString(),maxResults:r=1/0,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};let i=0;const o=r>100?100:r;for await(const a of async function*(e,t,r){let n=await e(t,r);yield n;let i=(0,s.d)(n.headers.get("Link")||"");for(;i&&i.next;)n=await e(t,i.next),yield n,i=(0,s.d)(n.headers.get("Link")||"")}((async function(e,t){let{endpoint:r,token:i,rateLimiter:o=P,fetch:s=p}=e,{before:a,size:c}=t;const u=new URLSearchParams({before:a,size:c.toString()}),d=new URL(`user/uploads?${u}`,r);return await o(),s(d.toString(),{method:"GET",headers:{...S.headers(i),"Access-Control-Request-Headers":"Link"},signal:n})}),e,{before:t,size:o})){if(!a.ok){if(429===a.status)throw new Error("rate limited");const e=await a.json();throw new Error(`${a.status} ${a.statusText} ${e?"- "+e.message:""}`)}const e=await a.json();for(const t of e){if(++i>r)return;yield t}}}put(e,t){return S.put(this,e,t)}putCar(e,t){return S.putCar(this,e,t)}get(e,t){return S.get(this,e,t)}delete(e,t){return S.delete(this,e,t)}status(e,t){return S.status(this,e,t)}list(e){return S.list(this,e)}}async function E(e){let{content:t,path:r,cid:n}=e;const i=[];for await(const s of t())i.push(s);const o=new y(i,function(e){const t=e.indexOf("/");return-1===t?e:e.substring(t+1)}(r));return Object.assign(o,{cid:n.toString()})}function I(e){let t;return{path:e.name,get content(){return t=t||e.stream(),t}}}},65846:(e,t,r)=>{"use strict";r.d(t,{vs:()=>s});Symbol("TIMEOUT");function n(e){if("function"===typeof e.next)return e;if("function"===typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"===typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function i(){let e,t;return{promise:new Promise(((r,n)=>{t=r,e=n})),reject:e,resolve:t}}function o(e,t,r){const o=n(r),s=[],a=[];let c=!1,u=!1,d=0,l=null;function f(){for(;a.length>0&&s.length>0;){const{resolve:e}=a.shift();e({done:!1,value:s.shift()})}for(;a.length>0&&0===d&&c;){const{resolve:e,reject:t}=a.shift();l?(t(l),l=null):e({done:!0,value:void 0})}}async function m(){if(c)f();else if(!u&&!(d+s.length>=e)){u=!0,d++;try{const{done:e,value:r}=await o.next();e?(c=!0,d--,f()):async function(e){try{const r=await t(e);s.push(r)}catch(r){c=!0,l=r}d--,f(),m()}(r)}catch(r){c=!0,d--,l=r,f()}u=!1,m()}}const p={next:async function(){if(0===s.length){const e=i();return a.push(e),m(),e.promise}const e=s.shift();return m(),{done:!1,value:e}},[Symbol.asyncIterator]:()=>p};return p}function s(e,t,r){return void 0===t?(t,r)=>r?s(e,t,r):s(e,t):void 0===r?r=>s(e,t,r):o(e,t,r)}},7726:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n,i,o=r(24214),s=function(){return s=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)},a=function(e){return"function"==typeof e[1]?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},c=(n=o.ZP,i=function(e){return function(t,r,n){return n.revalidateOnFocus=!1,n.revalidateIfStale=!1,n.revalidateOnReconnect=!1,e(t,r,n)}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a(e),o=r[0],c=r[1],u=r[2],d=(u.use||[]).concat(i);return n(o,c,s(s({},u),{use:d}))})},76026:(e,t,r)=>{"use strict";r.d(t,{xk:()=>_});var n=r(65846),i=r(67746),o=r(27500),s=r(98548),a=r(32878),c=r(22112),u=r(33101),d=r(92358),l=r(26536);const f=globalThis.fetch,m=(globalThis.Request,globalThis.Response,globalThis.Blob),p=globalThis.File,h=l.X,y=5,w=10485760,g=1048576,v=104857600;function b(){const e=d(30,1e4);return()=>e((()=>{}))}const A=b();class _{constructor(e){let{token:t,endpoint:r=new URL("https://api.web3.storage"),rateLimiter:n}=e;this.token=t,this.endpoint=r,this.rateLimiter=n||b()}static headers(e){if(!e)throw new Error("missing token");return{Authorization:`Bearer ${e}`,"X-Client":"web3.storage/js"}}static async put(e,t){let{endpoint:r,token:n,rateLimiter:i=A}=e,{onRootCidReady:s,onStoredChunk:a,maxRetries:c=y,maxChunkSize:d=w,wrapWithDirectory:l=!0,name:f}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(d>=v||d<g)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const m=new h;try{const{out:e,root:p}=await(0,o.P)({input:Array.from(t).map(S),blockstore:m,wrapWithDirectory:l,maxChunkSize:g,maxChildrenPerNode:1024});s&&s(p.toString());const h=await u.tL.fromIterable(e);return await _.putCar({endpoint:r,token:n,rateLimiter:i},h,{onStoredChunk:a,maxRetries:c,maxChunkSize:d,name:f})}finally{await m.close()}}static async putCar(e,t){let{endpoint:r,token:o,rateLimiter:s=A}=e,{name:a,onStoredChunk:u,maxRetries:d=y,maxChunkSize:l=w,decoders:p}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(l>=v||l<g)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const h=l,b=new URL("car",r);let P=_.headers(o);a&&(P={...P,"X-Name":encodeURIComponent(a)});const S=await t.getRoots();if(null==S[0])throw new Error("missing root CID");if(S.length>1)throw new Error("too many roots");const E=S[0].toString(),I=new c.o(t,h,{decoders:p}),M=(0,n.vs)(3,(async e=>{const t=[];for await(const i of e)t.push(i);const r=new m(t,{type:"application/vnd.ipld.car"}),n=await i((async()=>{await s();const e=await f(b.toString(),{method:"POST",headers:P,body:r});if(429===e.status)throw new Error("rate limited");const t=await e.json();if(!e.ok)throw new Error(t.message);if(t.cid!==E)throw new Error(`root CID mismatch, expected: ${E}, received: ${t.cid}`);return t.cid}),{retries:d});return u&&u(r.size),n}));for await(const n of M(I.cars()));return E}static async get(e,t){let{endpoint:r,token:n,rateLimiter:i=A}=e;const o=new URL(`car/${t}`,r);await i();const s=await f(o.toString(),{method:"GET",headers:_.headers(n)});if(429===s.status)throw new Error("rate limited");return function(e){const t=Object.assign(e,{unixFsIterator:async function*(){if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .unixFsIterator`);if(!e.body)throw new Error("No body on response");const t=new h;try{for await(const r of(0,a.I)(e.body,{blockstore:t}))yield r}finally{await t.close()}},files:async()=>{if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .files`);const r=[];for await(const e of t.unixFsIterator()){if("directory"===e.type)continue;const t=await P(e);r.push(t)}return r}});return t}(s)}static async delete(e,t){let{endpoint:r,token:n,rateLimiter:i=A}=e;throw console.log("Not deleting",t,r,n,i),Error(".delete not implemented yet")}static async status(e,t){let{endpoint:r,token:n,rateLimiter:i=A}=e;const o=new URL(`status/${t}`,r);await i();const s=await f(o.toString(),{method:"GET",headers:_.headers(n)});if(429===s.status)throw new Error("rate limited");if(404!==s.status){if(!s.ok)throw new Error(s.statusText);return s.json()}}static async*list(e){let{before:t=(new Date).toISOString(),maxResults:r=1/0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};let n=0;const i=r>100?100:r;for await(const o of async function*(e,t,r){let n=await e(t,r);yield n;let i=(0,s.d)(n.headers.get("Link")||"");for(;i&&i.next;)n=await e(t,i.next),yield n,i=(0,s.d)(n.headers.get("Link")||"")}((async function(e,t){let{endpoint:r,token:n,rateLimiter:i=A}=e,{before:o,size:s}=t;const a=new URLSearchParams({before:o,size:s.toString()}),c=new URL(`user/uploads?${a}`,r);return await i(),f(c.toString(),{method:"GET",headers:{..._.headers(n),"Access-Control-Request-Headers":"Link"}})}),e,{before:t,size:i})){if(!o.ok){if(429===o.status)throw new Error("rate limited");const e=await o.json();throw new Error(`${o.status} ${o.statusText} ${e?"- "+e.message:""}`)}const e=await o.json();for(const t of e){if(++n>r)return;yield t}}}put(e,t){return _.put(this,e,t)}putCar(e,t){return _.putCar(this,e,t)}get(e){return _.get(this,e)}delete(e){return _.delete(this,e)}status(e){return _.status(this,e)}list(e){return _.list(this,e)}}async function P(e){let{content:t,path:r,cid:n}=e;const i=[];for await(const s of t())i.push(s);const o=new p(i,function(e){const t=e.indexOf("/");return-1===t?e:e.substring(t+1)}(r));return Object.assign(o,{cid:n.toString()})}function S(e){let t;return{path:e.name,get content(){return t=t||e.stream(),t}}}}}]);
//# sourceMappingURL=vendors-node_modules_interdao_core_dist_index_js-node_modules_sentre_antd-ionicon_dist_index_-dc7f27.5b4a2b16.chunk.js.map