"use strict";(globalThis.webpackChunkinter_dao=globalThis.webpackChunkinter_dao||[]).push([["src_templates_view_embedded-view_create_tsx"],{329:(e,t,a)=>{a.d(t,{h:()=>c});var n=a(45055),s=a(92950),i=a(55754),l=a(50794),r=a(62919),o=a(75406);const c=()=>{const e=(0,i.useDispatch)(),t=(0,n.useHistory)();return{confirm:(0,s.useCallback)((async(a,n,s,i)=>{const c=l.web3.Keypair.generate().publicKey,d={templateConfig:n,templateData:s,serializedTxs:i.map((e=>(e.recentBlockhash=c.toBase58(),e.feePayer=c,e.serialize({requireAllSignatures:!1}).toString("base64")))),daoAddress:a};await e((0,r.vr)(d)),t.push(o.z.createProposal.generatePath({}))}),[e,t]),close:(0,s.useCallback)((async()=>{await e((0,r.JJ)())}),[e])}}},1327:(e,t,a)=>{a.d(t,{f:()=>n});const n={name:a(96706).s.EmbeddedView,title:"EmbeddedView",components:[]}},10690:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(92950),s=a(45263),i=a(80754);const l=function(e){var t=e.appId,a=e.src,l=e.title,r=e.wallet,o=e.verbose,c=void 0!==o&&o;return(0,n.useEffect)((function(){return new i.Gateway(r,c).terminate}),[]),(0,s.jsx)("iframe",{id:t+"-iframe",src:a,title:l||"".concat(t," on Senhub"),style:{height:"100vh",margin:-12,border:"none",width:"calc(100% + 24px)"},loading:"lazy",allowFullScreen:!0})};var r=a(32671),o=a(1327),c=a(329),d=a(22734);const h=e=>{let{daoAddress:t="",defaultData:a}=e;const[i,h]=(0,n.useState)(!1),u=(0,d.K)(t),{confirm:p,close:w}=(0,c.h)(),g=(0,n.useCallback)((async e=>(h(!1),p(t,{...o.f,title:null===a||void 0===a?void 0:a.title},{...a},e))),[p,t,a]),m=(0,n.useMemo)((()=>{const e=null===u||void 0===u?void 0:u.master.toBase58();return{...window.sentre.solana,disconnect:async()=>{h(!1)},signAllTransactions:async e=>{throw g(e),new Error("Dao Wallet can't sign transaction")},signTransaction:async e=>{throw g([e]),new Error("Dao Wallet can't sign transaction")},getAddress:async()=>e}}),[null===u||void 0===u?void 0:u.master,g]);return a?(0,s.jsxs)(r.Row,{gutter:[24,24],children:[(0,s.jsx)(r.Modal,{title:"InterDao Wallet",open:i,style:{top:0,minWidth:"100vw",maxWidth:"100vw",width:"100vw",height:"100vh",minHeight:"100vh",maxHeight:"100vh"},bodyStyle:{width:"100%",height:"calc(100vh - 55px)",maxHeight:"100%",minHeight:"100%",paddingLeft:12},footer:null,onCancel:()=>h(!1),children:(0,s.jsx)(l,{wallet:m,appId:a.appId,src:a.url,title:"Inter Dao Master Wallet"})}),(0,s.jsx)(r.Col,{span:24,style:{textAlign:"right"},children:(0,s.jsxs)(r.Space,{children:[(0,s.jsx)(r.Button,{type:"text",onClick:w,children:"Close"}),(0,s.jsx)(r.Button,{type:"primary",onClick:()=>h(!0),children:"Open Application"})]})})]}):null}}}]);
//# sourceMappingURL=src_templates_view_embedded-view_create_tsx.604d39c8.chunk.js.map