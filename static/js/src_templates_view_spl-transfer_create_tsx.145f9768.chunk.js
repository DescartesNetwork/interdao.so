"use strict";(globalThis.webpackChunkinter_dao=globalThis.webpackChunkinter_dao||[]).push([["src_templates_view_spl-transfer_create_tsx"],{25827:(e,t,a)=>{a.d(t,{U:()=>b,Z:()=>m});var s=a(92950),n=a(32671),r=a(45055),l=a(22734),i=a(45263);const d=e=>{let{id:t,defaultValue:a,value:d,handleChange:o,disabled:c}=e;const{daoAddress:u}=(0,r.useParams)(),p=(0,l.K)(u);(0,s.useEffect)((()=>{a&&o(t,a)}),[a,t,o]);const h=d===(null===p||void 0===p?void 0:p.master.toBase58());return(0,i.jsx)(n.Input,{className:"border-less",placeholder:"Input Address",value:d,onChange:e=>o(t,e.target.value),readOnly:c,prefix:h?(0,i.jsx)(n.Button,{type:"dashed",size:"small",style:{marginLeft:-4,marginRight:2,borderWidth:.5},children:"Master"}):(0,i.jsx)(s.Fragment,{})})};var o=a(33968);const c=e=>{let{id:t,value:a,handleChange:n,defaultValue:r,disabled:l,...d}=e;return(0,s.useEffect)((()=>{r&&n(t,r)}),[r,t,n]),(0,i.jsx)(o.Z,{className:"border-less",placeholder:"Input Amount",value:a,onValue:e=>n(t,e),...d,disabled:!1,readOnly:l})};var u=a(39295);const p=e=>{let{id:t,value:a,handleChange:n,defaultValue:r,disabled:l}=e;return(0,s.useEffect)((()=>{r&&n(t,r)}),[r,t,n]),(0,i.jsx)(u.Z,{disabled:l,value:a,onChange:e=>n(t,e),style:{marginLeft:-7}})},h=e=>{let{configs:t,templateData:a,onChange:n}=e;const{id:r,prefix:l,type:o,disabled:u}=t,m=a[r],b=(0,s.useMemo)((()=>{if(l)return(0,i.jsx)(h,{configs:{...l,disabled:u},onChange:n,templateData:a})}),[u,n,l,a]),f=(0,s.useMemo)((()=>({handleChange:n,prefix:b,id:r,value:m,disabled:u})),[u,r,n,b,m]);return"number"===o?(0,i.jsx)(c,{...f}):"mint-select"===o?(0,i.jsx)(p,{...f}):"address"===o?(0,i.jsx)(d,{...f}):null},m=e=>{let{onChange:t,components:a,templateData:r}=e;const l=(0,s.useCallback)(((e,a)=>{t({...r,[e]:a})}),[t,r]);return(0,i.jsx)(n.Row,{gutter:[24,24],children:a.map((e=>(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",size:4,style:{width:"100%"},children:[e.title&&(0,i.jsx)(n.Typography.Text,{type:"secondary",children:e.title}),(0,i.jsx)(h,{configs:e,onChange:l,templateData:r})]})},e.id)))})},b=e=>{let{components:t,templateData:a}=e;return(0,i.jsx)(n.Row,{gutter:[24,24],children:t.map((e=>(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",size:4,style:{width:"100%"},children:[e.title&&(0,i.jsx)(n.Typography.Text,{type:"secondary",children:e.title}),(0,i.jsx)(h,{configs:{...e,disabled:!0},onChange:()=>{},templateData:a})]})},e.id)))})}},329:(e,t,a)=>{a.d(t,{h:()=>o});var s=a(45055),n=a(92950),r=a(55754),l=a(50794),i=a(62919),d=a(75406);const o=()=>{const e=(0,r.useDispatch)(),t=(0,s.useHistory)();return{confirm:(0,n.useCallback)((async(a,s,n,r)=>{const o=l.web3.Keypair.generate().publicKey,c={templateConfig:s,templateData:n,serializedTxs:r.map((e=>(e.recentBlockhash=o.toBase58(),e.feePayer=o,e.serialize({requireAllSignatures:!1}).toString("base64")))),daoAddress:a};await e((0,i.vr)(c)),t.push(d.z.createProposal.generatePath({}))}),[e,t]),close:(0,n.useCallback)((async()=>{await e((0,i.JJ)())}),[e])}}},21687:(e,t,a)=>{a.d(t,{M:()=>s});const s=new(a(50794).web3.PublicKey)("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA")},8081:(e,t,a)=>{a.d(t,{f:()=>s});const s={name:a(96706).s.SplTransfer,title:"SPL/Transfer",components:[{title:"Transfer Amount",type:"number",id:"amount",prefix:{id:"mint",type:"mint-select"}},{title:"Sender's Wallet Address",type:"address",id:"sender",disabled:!0},{title:"Receiver's Wallet Address",type:"address",id:"receiver"}]}},10853:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var s=a(65284),n=a(50794),r=a(93038),l=a(18863),i=a(4065),d=a(32671),o=a(25827),c=a(8081),u=a(329),p=a(21687),h=a(22734),m=a(51845),b=a(45263);const f=e=>{let{daoAddress:t="",defaultData:a}=e;const f=(0,h.K)(t),[y,g]=(0,s.Z)(a||{amount:"",sender:null===f||void 0===f?void 0:f.master.toBase58(),mint:"",receiver:""}),{confirm:x,close:w}=(0,u.h)(),v=(0,l.useGetMintDecimals)();return(0,b.jsxs)(d.Row,{gutter:[24,24],children:[(0,b.jsx)(d.Col,{span:24,children:(0,b.jsx)(o.Z,{templateData:y,components:c.f.components,onChange:g})}),(0,b.jsx)(d.Col,{span:24}),(0,b.jsx)(d.Col,{span:24,style:{textAlign:"right"},children:(0,b.jsxs)(d.Space,{children:[(0,b.jsx)(d.Button,{type:"text",onClick:w,children:"Close"}),(0,b.jsx)(d.Button,{type:"primary",onClick:async()=>{try{const e=await n.utils.token.associatedAddress({owner:new n.web3.PublicKey(y.sender),mint:new n.web3.PublicKey(y.mint)}),a=await n.utils.token.associatedAddress({owner:new n.web3.PublicKey(y.receiver),mint:new n.web3.PublicKey(y.mint)}),s=await v({mintAddress:y.mint}),l=i.utilsBN.decimalize(y.amount,s),d=(new n.web3.Transaction).add(r.Token.createTransferInstruction(p.M,e,a,new n.web3.PublicKey(y.sender),[],l.toNumber()));return x(t,c.f,y,[d])}catch(e){(0,m.cB)(e)}},children:"Continue"})]})})]})}},65284:(e,t,a)=>{a.d(t,{Z:()=>n});var s=a(92950);const n=function(e){void 0===e&&(e={});var t=(0,s.useState)(e),a=t[0],n=t[1];return[a,(0,s.useCallback)((function(e){n((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[])]}}}]);
//# sourceMappingURL=src_templates_view_spl-transfer_create_tsx.145f9768.chunk.js.map