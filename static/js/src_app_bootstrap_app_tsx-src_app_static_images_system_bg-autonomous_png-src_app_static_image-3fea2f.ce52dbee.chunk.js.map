{"version":3,"file":"static/js/src_app_bootstrap_app_tsx-src_app_static_images_system_bg-autonomous_png-src_app_static_image-3fea2f.ce52dbee.chunk.js","mappings":"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","sources":["app/static/images/logo.svg","app/static.app.tsx","app/view/dao/hero/banner.tsx","app/view/dao/hero/infoCard.tsx","app/view/dao/hero/index.tsx","app/components/statisticCard.tsx","app/components/regimeTag.tsx","app/helpers/metaplex.ts","app/hooks/useNftMetaData.ts","app/components/avatarNFT.tsx","app/components/gradientAvatar/index.tsx","app/model/tokenHolder.controller.tsx","app/hooks/useMembers.ts","app/hooks/useOwnerNFT.ts","app/hooks/dao/useValidDaoMember.ts","app/view/dao/communityDaos/daoCard.tsx","app/view/dao/communityDaos/search/index.tsx","app/view/createDao/components/cardRegime.tsx","app/view/createDao/setRule/flexible/regimeInput.tsx","app/view/dao/communityDaos/mechanisms.tsx","app/view/dao/communityDaos/typeOfDao.tsx","app/view/dao/communityDaos/search/daoProvider.ts","app/hooks/useSearchDao.ts","app/hooks/daos/useCommunityDaos.ts","app/view/dao/communityDaos/index.tsx","app/view/dao/communityDaos/yourDao.tsx","app/hooks/daos/useDaoCanJoin.ts","app/view/dao/daoCanJoin/index.tsx","app/components/withdrawNotificationModal/proposalItem.tsx","app/hooks/proposal/useWithdrawableReceipt.ts","app/components/withdrawNotificationModal/index.tsx","app/view/dao/index.tsx","app/templates/hooks/useTemplateWithProposal.ts","app/templates/templateLoader.tsx","app/static/images/templates/solana.svg","app/view/templates/spl.tsx","app/view/templates/index.tsx","app/view/proposal/proposalList/index.tsx","app/view/dao/daoDetails/members.tsx","app/view/dao/daoDetails/daoInfo.tsx","app/helpers/distributor.ts","app/view/dao/daoDetails/joinDao.tsx","app/view/dao/daoDetails/daoOwnerAssets/nftsTreasury/index.tsx","app/hooks/useBalance.ts","shared/hooks/useMintDecimals.ts","app/view/dao/daoDetails/daoOwnerAssets/treasury/mintBalance.tsx","app/view/dao/daoDetails/daoOwnerAssets/treasury/index.tsx","app/view/dao/daoDetails/daoOwnerAssets/index.tsx","app/view/dao/daoDetails/index.tsx","app/view/proposal/index.tsx","app/view/proposal/proposalInitialization/consensusMechanismInput.tsx","app/components/consensusQuorumInput.tsx","app/view/proposal/proposalInitialization/durationInput.tsx","app/view/proposal/proposalInitialization/proposalPreview.tsx","app/view/proposal/proposalInitialization/index.tsx","app/view/createDao/initDAOHeader.tsx","app/model/createDao.controller.tsx","app/view/createDao/chooseType/index.tsx","app/components/formInputDetail.tsx","app/view/createDao/daoInputDetail/index.tsx","app/view/createDao/review/flexibleDaoReview.tsx","app/view/createDao/review/multisigDaoReview.tsx","app/hooks/dao/useFlexibleDao.ts","app/helpers/mutisigWallet.ts","app/hooks/dao/useMultisigDao.ts","app/view/createDao/review/confirmButton.tsx","app/view/createDao/review/index.tsx","app/components/cardNFT.tsx","app/view/createDao/components/searchNftCollection.tsx","app/view/createDao/components/modalNftCollection.tsx","app/view/createDao/setRule/flexible/tokenAddressInput/voteInput/voteNftInput.tsx","app/view/createDao/setRule/flexible/tokenAddressInput/voteInput/voteTokenInput.tsx","app/view/createDao/setRule/flexible/tokenAddressInput/voteInput/index.tsx","app/view/createDao/setRule/flexible/tokenAddressInput/index.tsx","app/view/createDao/setRule/privacy.tsx","shared/hooks/useMintSupply.ts","app/view/createDao/setRule/flexible/circulatingSupply/circulatingSupplyInput.tsx","app/view/createDao/setRule/flexible/circulatingSupply/circulatingSupplyInputNFT.tsx","app/view/createDao/setRule/flexible/circulatingSupply/index.tsx","app/view/createDao/setRule/flexible/index.tsx","app/view/createDao/setRule/multisig/regime.tsx","app/view/createDao/setRule/multisig/memberInput.tsx","app/view/createDao/setRule/multisig/daoMembers.tsx","app/view/createDao/setRule/multisig/index.tsx","app/view/createDao/setRule/index.tsx","app/view/createDao/initDAOBody.tsx","app/view/createDao/index.tsx","app/hooks/proposal/useReceipts.ts","app/view/proposal/proposalDetails/cardStatus.tsx","app/hooks/proposal/useProposalFee.tsx","app/view/proposal/proposalDetails/cardVote/nft/modalVoteNFT.tsx","app/constant/index.ts","app/view/proposal/proposalDetails/history/columnType.tsx","app/view/proposal/proposalDetails/history/columnPower.tsx","app/view/proposal/proposalDetails/withdraw.tsx","app/helpers/countDown.ts","app/hooks/proposal/useProposal.ts","app/view/proposal/proposalDetails/cardVote/lockedVoting.tsx","app/hooks/useOwnerNftByCollection.ts","app/view/proposal/proposalDetails/cardVote/nft/index.tsx","shared/hooks/useAccountBalance.ts","app/model/voteBid.controller.tsx","app/view/proposal/proposalDetails/cardVote/token/actionVote.tsx","app/view/proposal/proposalDetails/cardVote/token/index.tsx","app/view/proposal/proposalDetails/cardVote/index.tsx","app/view/proposal/modalTemplateInfo/index.tsx","app/hooks/proposal/useParseQuorumText.ts","app/view/proposal/proposalDetails/cardInfo.tsx","app/view/proposal/proposalDetails/cardProgress.tsx","app/view/proposal/proposalDetails/history/columnName.tsx","app/view/proposal/proposalDetails/history/column.tsx","app/view/proposal/proposalDetails/history/index.tsx","app/view/proposal/proposalDetails/index.tsx","app/view/dao/editDao/actionButton.tsx","app/view/dao/editDao/editDaoDetail.tsx","app/view/dao/editDao/rule/editMultisigDaoRule/daoMembers.tsx","app/view/dao/editDao/rule/editMultisigDaoRule/index.tsx","app/view/dao/editDao/rule/editFlexibleDaoRule.tsx","app/view/dao/editDao/rule/index.tsx","app/view/dao/editDao/transferAuthority.tsx","app/view/dao/editDao/index.tsx","app/components/loading/index.tsx","app/model/daos.controller.tsx","app/model/loading.controller.tsx","app/watcher/dao.watcher.tsx","app/watcher/proposal.watcher.tsx","app/model/receipt.controller.tsx","app/watcher/receipt.watcher.tsx","app/watcher/metadata.watcher.tsx","app/view/index.tsx","app/model/devTools.ts","app/model/index.ts","app/bootstrap.app.tsx","app/components/proposalStatus.tsx","app/components/rowSpaceBetween.tsx","app/components/rowSpaceVertical.tsx","app/configs/manifest.config.ts","app/configs/sol.config.ts","app/configs/index.ts","app/helpers/index.ts","app/helpers/ipfs.ts","app/helpers/safeWallet.ts","app/hooks/proposal/useProposalMetaData.ts","app/hooks/proposal/useProposalStatus.ts","app/hooks/useMetaData.ts","app/hooks/usePDB.ts","app/model/proposal.controller.tsx","app/model/template.controller.tsx","app/templates/index.ts","shared/antd/mint/mintAvatar.tsx","shared/antd/mint/mintName.tsx","shared/antd/mint/mintSymbol.tsx","shared/antd/mint/mintSelection/mintTag.tsx","shared/antd/mint/mintSelection/mintCard.tsx","shared/antd/mint/mintSelection/loadMore.tsx","shared/antd/mint/mintSelection/hooks/useAllMintAddresses.ts","shared/hooks/useSortMints.ts","shared/antd/mint/mintSelection/hooks/useRecommendedMints.ts","shared/antd/mint/mintSelection/hooks/useSearchedMints.ts","shared/antd/mint/mintSelection/index.tsx","shared/antd/numericInput.tsx","shared/dataloader/constant.ts","shared/dataloader/request.ts","shared/dataloader/cache.ts","shared/dataloader/index.ts","shared/pdb/index.ts","shared/pdb/ipfs.ts","shared/runtime.ts","shared/storage.ts","shared/util.ts","app/templates|lazy|/^/.//.*//create$/|groupOptions: {}|namespace object","app/templates|lazy|/^/.//.*//info$/|groupOptions: {}|namespace object","app/templates|lazy|/^/.//.*//proposal$/|groupOptions: {}|namespace object"],"sourcesContent":["var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9, _path10;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.9183 4.85506L23.3679 5.05527L20.2655 6.20646L16.8629 7.48279C16.6627 7.55787 16.4626 7.35766 16.5376 7.15746L17.8136 3.75391L18.9645 0.675704L19.1647 0.12513C18.7894 0.0500521 18.4141 0 18.0138 0H6.00459C5.60429 0 5.229 0.0500521 4.85371 0.100104L5.05386 0.650678L6.20474 3.75391L7.48072 7.18248C7.55578 7.38269 7.35562 7.5829 7.15547 7.50782L3.75287 6.20646L0.675517 5.05527L0.125096 4.85506C0.0250191 5.23045 0 5.60584 0 6.00626V18.0188C0 18.4192 0.0250191 18.7946 0.100077 19.17L0.650497 18.9698L3.75287 17.8186L7.15547 16.5422C7.35562 16.4672 7.55578 16.6674 7.48072 16.8676L6.20474 20.2711L5.05386 23.3493L4.85371 23.8999C5.229 23.975 5.60429 24 6.00459 24H18.0138C18.4141 24 18.7894 23.9499 19.1647 23.8999L18.9645 23.3493L17.8136 20.2711L16.5376 16.8676C16.4626 16.6674 16.6627 16.4672 16.8629 16.5422L20.2655 17.8186L23.3428 18.9698L23.8933 19.17C23.9683 18.7946 23.9933 18.4192 23.9933 18.0188V6.00626C24.0184 5.60584 23.9683 5.23045 23.9183 4.85506ZM14.336 14.0396C14.1358 13.9645 13.9357 14.1648 14.0107 14.365L15.9122 19.4953C14.8864 18.5693 13.5103 18.0188 12.0092 18.0188C10.508 18.0188 9.13198 18.5693 8.08118 19.4703L9.98263 14.3399C10.0577 14.1397 9.85754 13.9395 9.65738 14.0146L4.52846 15.9166C5.45417 14.8905 6.00459 13.5141 6.00459 12.0125C6.00459 10.5109 5.45417 9.13451 4.52846 8.08342L9.65738 10.0104C9.85754 10.0855 10.0577 9.8853 9.98263 9.68509L8.08118 4.55474C9.13198 5.45568 10.508 6.00626 12.0092 6.00626C13.5103 6.00626 14.8864 5.45568 15.9372 4.52972L14.0357 9.66006C13.9607 9.86027 14.1608 10.0605 14.361 9.9854L19.4899 8.05839C18.5642 9.13452 18.0138 10.5109 18.0138 12.0125C18.0138 13.5141 18.5642 14.8905 19.4899 15.9416L14.336 14.0396Z\",\n    fill: \"#F9DEB0\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.4429 3.45417L20.2655 4.65542L19.3648 5.00579C19.1647 5.08086 18.9645 4.88066 19.0396 4.68045L19.3898 3.75448L20.5908 0.576172C21.8417 1.15177 22.8675 2.20287 23.4429 3.45417Z\",\n    fill: \"#F9DEB0\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.65429 4.98076L3.7536 4.65542L0.576172 3.45417C1.15161 2.20287 2.20242 1.15177 3.45337 0.576172L4.65429 3.75448L5.00456 4.68045C5.0546 4.88066 4.87946 5.05584 4.65429 4.98076Z\",\n    fill: \"#F9DEB0\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M4.97819 19.3707L4.65294 20.2716L3.45202 23.475C2.17605 22.8743 1.15026 21.8483 0.549805 20.5719L3.75225 19.3707L4.65294 19.0203C4.87811 18.9703 5.05325 19.1454 4.97819 19.3707Z\",\n    fill: \"#F9DEB0\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.4426 20.5701C22.8421 21.8464 21.8163 22.8725 20.5403 23.4731L19.3644 20.2698L19.0142 19.3688C18.9391 19.1686 19.1393 18.9684 19.3394 19.0435L20.2401 19.3938L23.4426 20.5701Z\",\n    fill: \"#F9DEB0\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M14.0346 14.3665L15.9361 19.4968C14.8853 18.5709 13.5092 18.0203 12.0081 18.0203C10.5069 18.0203 9.13086 18.5709 8.08006 19.4718L9.98151 14.3415C10.0566 14.1413 9.85642 13.9411 9.65626 14.0161L4.52734 15.9181C5.45305 14.892 6.00347 13.5156 6.00347 12.014C6.00347 10.5125 5.45305 9.13605 4.52734 8.08495L9.65626 10.012C9.85642 10.087 10.0566 9.88683 9.98151 9.68662L8.08006 4.55628C9.13086 5.45721 10.5069 6.00779 12.0081 6.00779C13.5092 6.00779 14.8853 5.45721 15.9361 4.53125L14.0346 9.66159C13.9596 9.8618 14.1597 10.062 14.3599 9.98693L19.4888 8.05993C18.5631 9.13605 18.0127 10.5125 18.0127 12.014C18.0127 13.5156 18.5631 14.892 19.4888 15.9431L14.3599 14.0412C14.1347 13.9661 13.9596 14.1413 14.0346 14.3665Z\",\n    fill: \"#1A1311\"\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M23.9173 4.85688L23.3669 5.05709L20.2645 6.20829L16.8619 7.48462C16.6617 7.5597 16.4616 7.35949 16.5366 7.15928L17.8126 3.75573L18.9635 0.677527L19.1637 0.126953C19.664 0.227057 20.1144 0.377214 20.5647 0.577422L19.3638 3.75573L19.0135 4.6817C18.9385 4.88191 19.1386 5.08211 19.3388 5.00704L20.2395 4.65667L23.4169 3.45542C23.6671 3.90589 23.8172 4.38138 23.9173 4.85688Z\",\n    fill: \"#1A1311\"\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.1544 7.48462L3.7518 6.20829L0.674444 5.05709L0.124023 4.85688C0.2241 4.35636 0.374215 3.90589 0.574368 3.45542L3.7518 4.65667L4.65249 5.00704C4.85264 5.08211 5.05279 4.88191 4.97773 4.6817L4.65249 3.75573L3.45157 0.577422C3.90191 0.377214 4.35226 0.227057 4.85264 0.126953L5.05279 0.677527L6.20367 3.75573L7.47965 7.1843C7.55471 7.38451 7.37957 7.5597 7.1544 7.48462Z\",\n    fill: \"#1A1311\"\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M7.47965 16.8684L6.20367 20.2719L5.05279 23.3501L4.85264 23.9007C4.35226 23.8006 3.90191 23.6504 3.45157 23.4502L4.65249 20.2719L5.00275 19.371C5.07781 19.1708 4.87766 18.9706 4.67751 19.0456L3.7518 19.371L0.574368 20.5722C0.374215 20.1218 0.2241 19.6713 0.124023 19.1708L0.674444 18.9706L3.7518 17.8194L7.1544 16.543C7.37957 16.4679 7.55471 16.6431 7.47965 16.8684Z\",\n    fill: \"#1A1311\"\n  })), _path10 || (_path10 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.0386 19.3714L19.3888 20.2724L20.5897 23.4507C20.1394 23.6509 19.6891 23.8261 19.1887 23.9011L18.9885 23.3506L17.8126 20.2724L16.5366 16.8688C16.4616 16.6686 16.6617 16.4684 16.8619 16.5435L20.2645 17.8198L23.3418 18.971L23.8923 19.1712C23.7922 19.6717 23.6421 20.1222 23.4419 20.5727L20.2645 19.3714L19.3638 19.0211C19.1386 18.971 18.9635 19.1462 19.0386 19.3714Z\",\n    fill: \"#1A1311\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.b14551bd17f53fea785636a049f9dae9.svg\";\nexport { ForwardRef as ReactComponent };","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"logo\", {\n  enumerable: true,\n  get: function () {\n    return _logo.default;\n  }\n});\nexports.panels = void 0;\nObject.defineProperty(exports, \"readme\", {\n  enumerable: true,\n  get: function () {\n    return _README.default;\n  }\n});\n\nvar _panel = _interopRequireDefault(require(\"./static/images/panel.png\"));\n\nvar _panel2 = _interopRequireDefault(require(\"./static/images/panel1.png\"));\n\nvar _panel3 = _interopRequireDefault(require(\"./static/images/panel2.png\"));\n\nvar _logo = _interopRequireDefault(require(\"./static/images/logo.svg\"));\n\nvar _README = _interopRequireDefault(require(\"./static/docs/README.md\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst panels = [_panel.default, _panel2.default, _panel3.default];\nexports.panels = panels;","import { Col, Row, Space, Typography } from 'antd'\n\nconst Banner = () => {\n  return (\n    <Row gutter={[16, 16]} justify=\"center\">\n      <Col>\n        <Space direction=\"vertical\" size={0}>\n          <Typography.Title\n            level={1}\n            style={{ fontSize: 72, textAlign: 'center' }}\n          >\n            Lets build\n          </Typography.Title>\n          <Typography.Title\n            level={1}\n            style={{ fontSize: 72, textAlign: 'center' }}\n            className=\"title-underline\"\n          >\n            YOUR OWN DAO.\n          </Typography.Title>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Typography.Paragraph\n          type=\"secondary\"\n          style={{ fontSize: 20, textAlign: 'center' }}\n        >\n          Customize the DAO to your purpose - No coding needed.\n        </Typography.Paragraph>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Banner\n","import { ReactNode } from 'react'\n\nimport { Card, Col, Row, Space, Typography } from 'antd'\n\nexport type InfoCardProps = {\n  icon?: ReactNode\n  title?: string\n  value?: string\n}\n\nconst InfoCard = ({ icon, title, value }: InfoCardProps) => {\n  return (\n    <Card\n      bordered={false}\n      style={{\n        background: 'transparent',\n        borderLeft: '1px solid',\n        borderRadius: 'unset',\n      }}\n      bodyStyle={{\n        padding: '0 24px',\n      }}\n    >\n      <Row gutter={[5, 5]}>\n        <Col span={24}>\n          <Space>\n            {icon}\n            <Typography.Text type=\"secondary\">{title}</Typography.Text>\n          </Space>\n        </Col>\n        <Col span={24}>\n          <Typography.Title level={4}>{value}</Typography.Title>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default InfoCard\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Col, Row } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport Banner from './banner'\nimport InfoCard from './infoCard'\n\nimport { numeric } from 'shared/util'\nimport { AppState } from 'app/model'\n\nimport './index.less'\n\nconst Hero = () => {\n  const daos = useSelector((state: AppState) => state.daos)\n  const proposal = useSelector((state: AppState) => state.proposal)\n\n  const executeProposal = useMemo(() => {\n    let total = 0\n    for (const proposalAddr in proposal) {\n      const { executed } = proposal[proposalAddr]\n      if (executed) total++\n      continue\n    }\n    return total\n  }, [proposal])\n\n  return (\n    <Row className=\"interdao-banner\" justify=\"center\">\n      <Col xs={24} lg={18}>\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <Banner />\n          </Col>\n          <Col xs={24} sm={12} lg={8}>\n            <InfoCard\n              icon={<IonIcon name=\"earth-outline\" />}\n              title=\"Total DAOs\"\n              value={numeric(Object.keys(daos).length).format('0,0')}\n            />\n          </Col>\n          <Col xs={24} sm={12} lg={8}>\n            <InfoCard\n              icon={<IonIcon name=\"pencil-outline\" />}\n              title=\"Total Proposals\"\n              value={numeric(Object.keys(proposal).length).format('0,0')}\n            />\n          </Col>\n          <Col xs={24} sm={12} lg={8}>\n            <InfoCard\n              icon={<IonIcon name=\"thumbs-up-outline\" />}\n              title=\"Total executed proposals\"\n              value={numeric(executeProposal).format('0,0')}\n            />\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Hero\n","import { ReactNode } from 'react'\n\nimport { Space, Typography } from 'antd'\n\nexport type StatisticCardProps = {\n  title: string\n  value: string | number | ReactNode\n}\nconst StatisticCard = ({ title, value }: StatisticCardProps) => {\n  return (\n    <Space direction=\"vertical\">\n      <Typography.Text className=\"caption\" type=\"secondary\">\n        {title}\n      </Typography.Text>\n      {['number', 'string'].includes(typeof value) ? (\n        <Typography.Text>{value}</Typography.Text>\n      ) : (\n        value\n      )}\n    </Space>\n  )\n}\n\nexport default StatisticCard\n","import { useMemo } from 'react'\nimport { DaoRegime, DaoRegimes } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\n\nimport { Tag } from 'antd'\n\nexport type RegimeTagProps = { regime: DaoRegime; special?: boolean }\n\nconst RegimeTag = ({ regime, special }: RegimeTagProps) => {\n  const tag = useMemo(() => {\n    if (isEqual(regime, DaoRegimes.Dictatorial)) return 'Dictatorial'\n    if (isEqual(regime, DaoRegimes.Democratic)) return 'Democratic'\n    if (isEqual(regime, DaoRegimes.Autonomous)) return 'Autonomous'\n    return 'DAO Regime'\n  }, [regime])\n\n  const className = special ? 'regime-tag dao-tag' : 'dao-tag'\n\n  return (\n    <Tag className={className} style={{ margin: 0 }}>\n      {tag}\n    </Tag>\n  )\n}\n\nexport default RegimeTag\n","import axios from 'axios'\nimport { Connection, programs } from '@metaplex/js'\nimport { PublicKey } from '@solana/web3.js'\n\nimport { net } from 'shared/runtime'\n\nconst {\n  metadata: { Metadata, MetadataData },\n} = programs\n\nconst TOKEN_METADATA_PROGRAM_ID = new PublicKey(\n  'metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s',\n)\n\nconst connection = new Connection(net)\n\nexport type MetadataType = InstanceType<typeof Metadata>\nexport type MetadataDataType = InstanceType<typeof MetadataData>\n\nexport const fetchListNTFs = async (\n  walletAddress: string,\n): Promise<Record<string, MetadataDataType[]>> => {\n  const ownerPublickey = walletAddress\n  const nftsmetadata = await Metadata.findDataByOwner(\n    connection,\n    ownerPublickey,\n  )\n  let listNFTs: Record<string, MetadataDataType[]> = {}\n  nftsmetadata.forEach((nft: MetadataDataType) => {\n    if (nft.collection) {\n      listNFTs[nft.collection.key] = listNFTs[nft.collection.key]\n        ? [...listNFTs[nft.collection.key], nft]\n        : [nft]\n    }\n  })\n  return listNFTs\n}\n\nexport const fetchYourOwnerNTFs = async (\n  ownerAddress: string,\n): Promise<MetadataDataType[]> => {\n  const nftsmetadata = await Metadata.findDataByOwner(connection, ownerAddress)\n  return nftsmetadata\n}\n\nexport const getNftMetaData = async (\n  tokenMint: string,\n): Promise<MetadataType> => {\n  const tokenMetadata = await Metadata.findByMint(connection, tokenMint)\n  return tokenMetadata\n}\n\nexport const getNftPDA = async (tokenMint: string) => {\n  const metadataPDA = await Metadata.getPDA(new PublicKey(tokenMint))\n  return metadataPDA\n}\n\nexport const getInfoNFT = async (address: string) => {\n  const nftInfo = await Metadata.getInfo(connection, new PublicKey(address))\n  return nftInfo\n}\n\nexport const deserializeData = async (dataBuffer: Buffer) => {\n  return MetadataData.deserialize(dataBuffer)\n}\n\nexport const fetchNftFromURI = async (URL: string) => {\n  const data = await axios.get(URL)\n  return data\n}\n\nexport const getListAccountNFTsBelongToCollection = async (\n  collectionAddress: string,\n) => {\n  const accounts = await connection.getProgramAccounts(\n    TOKEN_METADATA_PROGRAM_ID,\n    {\n      commitment: 'confirmed',\n      filters: [\n        { dataSize: 679 },\n        {\n          memcmp: {\n            offset: 368,\n            bytes: collectionAddress,\n          },\n        },\n      ],\n    },\n  )\n  return accounts\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport axios from 'axios'\n\nimport { DataLoader } from 'shared/dataloader'\nimport { getNftMetaData, MetadataType } from 'app/helpers/metaplex'\n\nconst useNftMetaData = (mintAddress: string) => {\n  const [metaData, setMetaData] = useState<MetadataType>()\n  const [nftInfo, setNftInfo] = useState<any>()\n  const [loading, setLoading] = useState(false)\n\n  const getMetaData = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) {\n      setMetaData(undefined)\n      return setNftInfo(undefined)\n    }\n    setLoading(true)\n    try {\n      const metadata = await DataLoader.load(\n        'getNftMetadata' + mintAddress,\n        () => getNftMetaData(mintAddress),\n        { cache: { ttl: 99999999 } },\n      )\n      setMetaData(metadata)\n\n      const url = metadata.data.data.uri\n      const response = await DataLoader.load(\n        'getNftMetadataUrl' + mintAddress,\n        () => axios.get(url),\n        { cache: { ttl: 99999999 } },\n      )\n      setNftInfo(response.data)\n    } catch (error: any) {\n      setMetaData(undefined)\n      setNftInfo(undefined)\n    } finally {\n      setLoading(false)\n    }\n  }, [mintAddress])\n\n  useEffect(() => {\n    getMetaData()\n  }, [getMetaData])\n\n  return { metadata: metaData, nftInfo, loading }\n}\n\nexport default useNftMetaData\n","import { ReactNode } from 'react'\n\nimport { Avatar, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport useNftMetaData from 'app/hooks/useNftMetaData'\nimport IMAGE_DEFAULT from 'app/static/images/system/nft.jpeg'\n\ntype AvatarNFTProps = {\n  mintAddress: string\n  size?: number\n  icon?: ReactNode\n}\n\nconst AvatarNFT = ({\n  mintAddress,\n  size = 24,\n  icon = <IonIcon name=\"diamond-outline\" />,\n}: AvatarNFTProps) => {\n  const { nftInfo } = useNftMetaData(mintAddress)\n  return (\n    <Space>\n      <Avatar shape=\"square\" size={size} src={nftInfo?.image || IMAGE_DEFAULT}>\n        {icon}\n      </Avatar>\n      <Typography.Text style={{ fontSize: size > 24 ? 38 : undefined }}>\n        {' '}\n        NFT\n      </Typography.Text>\n    </Space>\n  )\n}\n\nexport default AvatarNFT\n","import BN from 'bn.js'\n\nimport { Avatar, AvatarProps } from 'antd'\n\nimport gradients from './gradients.json'\n\nconst string2Number = (seed: string, limit: number) => {\n  const buf = Buffer.from(seed)\n  const index = new BN(buf).mod(new BN(limit))\n  return Number(index)\n}\n\nexport type GradientAvatarProps = { seed?: string; avatarProps?: AvatarProps }\n\nconst GradientAvatar = ({\n  seed = Math.random().toString(),\n  avatarProps = {},\n}: GradientAvatarProps) => {\n  const direction = string2Number(seed, 360)\n  const { name, colors } = gradients[string2Number(seed, gradients.length)]\n  return (\n    <Avatar\n      style={{\n        background: `linear-gradient(${direction}deg, ${colors.join(', ')})`,\n      }}\n      alt={name}\n      {...avatarProps}\n    />\n  )\n}\n\nexport default GradientAvatar\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { account } from '@senswap/sen-js'\nimport { utils } from '@project-serum/anchor'\n\nimport configs from 'app/configs'\nimport { DataLoader } from 'shared/dataloader'\n\nconst {\n  sol: { interDao },\n} = configs\n\n/**\n * Interface & Utility\n */\n\ntype TokenHolderState = Record<string, number>\n\n/**\n * Store constructor\n */\n\nconst NAME = 'tokenHolder'\nconst initialState: TokenHolderState = {}\n\n/**\n * Actions\n */\n\nexport const getTokenHolders = createAsyncThunk<\n  Partial<TokenHolderState>,\n  { daoAddress: string; force?: boolean },\n  { state: any }\n>(`${NAME}/getTokenHolders`, async ({ daoAddress, force }, { getState }) => {\n  if (!account.isAddress(daoAddress)) throw new Error('Invalid address')\n  const {\n    daos: {\n      [daoAddress]: { mint },\n    },\n    tokenHolder: { [daoAddress]: amountHolder },\n  } = getState()\n\n  const mintAddress = mint.toBase58()\n  if (!account.isAddress(mintAddress)) return {}\n  if (amountHolder && !force) return { [daoAddress]: amountHolder }\n  const {\n    provider: { connection },\n  } = interDao.program\n\n  const accounts = await DataLoader.load(\n    'getTokenHolders' + mintAddress,\n    () => {\n      return connection.getProgramAccounts(utils.token.TOKEN_PROGRAM_ID, {\n        filters: [\n          { dataSize: 165 },\n          { memcmp: { bytes: mintAddress, offset: 0 } },\n        ],\n      })\n    },\n  )\n  return { [daoAddress]: accounts.length }\n})\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      getTokenHolders.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { getTokenHolders } from 'app/model/tokenHolder.controller'\n\nconst useMembers = (daoAddress: string) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const daos = useSelector((state: AppState) => state.daos)\n  const tokenHolder = useSelector((state: AppState) => state.tokenHolder)\n\n  const amountHolder = useMemo(\n    () => tokenHolder[daoAddress],\n    [daoAddress, tokenHolder],\n  )\n  const isExistDao = useMemo(() => {\n    return !!Object.keys(daos).length\n  }, [daos])\n\n  useEffect(() => {\n    if (isExistDao && account.isAddress(daoAddress))\n      dispatch(getTokenHolders({ daoAddress }))\n  }, [dispatch, daoAddress, isExistDao])\n\n  return amountHolder || 0\n}\n\nexport default useMembers\n","import { useCallback, useEffect, useState } from 'react'\nimport { useAccount } from '@senhub/providers'\nimport { utils, web3, BN } from '@project-serum/anchor'\n\nimport { fetchYourOwnerNTFs, MetadataDataType } from 'app/helpers/metaplex'\nimport { DataLoader } from 'shared/dataloader'\n\nconst useOwnerNFT = (ownerPublickey: string) => {\n  const [nfts, setNfts] = useState<MetadataDataType[]>([])\n  const [nftsFiltered, setNftFiltered] = useState<MetadataDataType[]>()\n  const { accounts } = useAccount()\n\n  const fetchNFTs = useCallback(async () => {\n    if (!ownerPublickey) return setNfts([])\n    const nftsFetching = await DataLoader.load(\n      'fetchYourOwnerNTFs' + ownerPublickey,\n      () => fetchYourOwnerNTFs(ownerPublickey),\n    )\n    setNfts(nftsFetching)\n  }, [ownerPublickey])\n\n  useEffect(() => {\n    fetchNFTs()\n  }, [fetchNFTs])\n\n  const filterNFTs = useCallback(async () => {\n    let nftsFiltered: MetadataDataType[] = []\n    await Promise.all(\n      nfts.map(async (nft: MetadataDataType) => {\n        const nftTokenAccount = await utils.token.associatedAddress({\n          mint: new web3.PublicKey(nft.mint),\n          owner: new web3.PublicKey(ownerPublickey),\n        })\n        let nftAccountData = accounts[nftTokenAccount.toBase58()]\n        if (new BN(nftAccountData?.amount.toString()).eq(new BN(1))) {\n          nftsFiltered.push(nft)\n        }\n      }),\n    )\n    return setNftFiltered(nftsFiltered)\n  }, [accounts, nfts, ownerPublickey])\n\n  useEffect(() => {\n    filterNFTs()\n  }, [filterNFTs])\n\n  return { nfts: nftsFiltered }\n}\n\nexport default useOwnerNFT\n","import { useSelector } from 'react-redux'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useAccount, useWallet } from '@senhub/providers'\nimport { DaoData } from '@interdao/core'\n\nimport { AppState } from 'app/model'\nimport useMetaData from 'app/hooks/useMetaData'\nimport useOwnerNFT from '../useOwnerNFT'\n\nconst useValidDaoMember = (daoAddress: string) => {\n  const daos = useSelector((state: AppState) => state.daos)\n  const { accounts } = useAccount()\n\n  const { mint: daoMint, isNft } = daos[daoAddress] || ({} as DaoData)\n  const { metaData } = useMetaData(daoAddress)\n  const [validMember, setValidMember] = useState(false)\n  const [checking, setChecking] = useState(true)\n  const {\n    wallet: { address: myAddress },\n  } = useWallet()\n  const { nfts } = useOwnerNFT(myAddress)\n\n  const checkMemberOnlyNFT = useCallback(async () => {\n    if (!nfts) return false\n    for (const nft of nfts)\n      if (nft.collection?.key === daoMint.toBase58()) return true\n    return false\n  }, [daoMint, nfts])\n\n  const isMemberTokenDAO = useMemo(() => {\n    if (!daoMint) return false\n    const mints = []\n    for (const { mint } of Object.values(accounts)) mints.push(mint)\n    return mints.includes(daoMint.toBase58())\n  }, [accounts, daoMint])\n\n  const isMemberMultisig = useMemo(() => {\n    if (!metaData) return false\n    const { members } = metaData\n    let valid = false\n    for (const { walletAddress } of members)\n      if (walletAddress === myAddress) {\n        valid = true\n        break\n      }\n    return valid\n  }, [metaData, myAddress])\n\n  const checkDaoMember = useCallback(async () => {\n    if (!metaData || !daoMint) return setChecking(true)\n    const { daoType } = metaData\n    let valid = false\n    if (daoType === 'flexible-dao' && isNft) valid = await checkMemberOnlyNFT()\n\n    if (daoType === 'flexible-dao' && !isNft) valid = isMemberTokenDAO\n\n    if (daoType === 'multisig-dao') valid = isMemberMultisig\n\n    setValidMember(valid)\n    setChecking(false)\n  }, [\n    daoMint,\n    metaData,\n    isNft,\n    isMemberTokenDAO,\n    isMemberMultisig,\n    checkMemberOnlyNFT,\n  ])\n\n  useEffect(() => {\n    checkDaoMember()\n  }, [checkDaoMember])\n\n  return { validMember, checking }\n}\n\nexport default useValidDaoMember\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { useUI } from '@senhub/providers'\n\nimport {\n  Avatar,\n  Button,\n  Card,\n  Col,\n  Image,\n  Row,\n  Space,\n  Spin,\n  Tag,\n  Tooltip,\n  Typography,\n} from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport StatisticCard from 'app/components/statisticCard'\nimport RegimeTag from 'app/components/regimeTag'\nimport AvatarNFT from 'app/components/avatarNFT'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport GradientAvatar from 'app/components/gradientAvatar'\n\nimport { AppState } from 'app/model'\nimport { numeric, shortenAddress } from 'shared/util'\nimport useMembers from 'app/hooks/useMembers'\nimport useMetaData from 'app/hooks/useMetaData'\nimport useValidDaoMember from 'app/hooks/dao/useValidDaoMember'\nimport { getIcon, validURL } from 'app/helpers'\n\nimport autonomous from 'app/static/images/system/bg-autonomous.png'\nimport democratic from 'app/static/images/system/bg-democratic.png'\nimport dictatorial from 'app/static/images/system/bg-dictatorial.png'\n\nexport type DaoCardProps = { daoAddress: string }\nexport type DaoCardBackground = 'autonomous' | 'democratic' | 'dictatorial'\nconst DAO_CARD_BG = {\n  autonomous,\n  democratic,\n  dictatorial,\n}\nconst PAGE_PADDING = 24\nconst HEIGHT_RATIO = 1.777777\nconst MAX_WIDTH_RATE = 24 / 18 // full screen is 24 col, max width is 18 col\n\nconst DaoCard = ({ daoAddress }: DaoCardProps) => {\n  const { regime, nonce, mint, isPublic, isNft } = useSelector(\n    (state: AppState) => state.daos[daoAddress],\n  )\n  const history = useHistory()\n  const {\n    ui: { width },\n  } = useUI()\n\n  const members = useMembers(daoAddress)\n  const { metaData, loading } = useMetaData(daoAddress)\n  const { validMember } = useValidDaoMember(daoAddress)\n  const parseRegime = Object.keys(regime)?.[0]\n\n  const heightRatio = useMemo(() => {\n    if (width < 768) return HEIGHT_RATIO\n    if (width < 1200) return HEIGHT_RATIO * 2\n    return HEIGHT_RATIO * 3\n  }, [width])\n\n  const handleClick = async () => {\n    if (loading)\n      return window.notify({\n        type: 'warning',\n        description: 'Data is loading',\n      })\n    if (!validMember && !isPublic)\n      return window.notify({\n        type: 'warning',\n        description: 'You are not a member of this DAO',\n      })\n\n    history.push(`dao/${daoAddress}`)\n  }\n\n  const isMobile = width < 768\n  const desktopWidth = width > 992 ? width / MAX_WIDTH_RATE : width\n\n  return (\n    <Row gutter={[0, 0]} className=\"dao-card-wrapper\" onClick={handleClick}>\n      <Col\n        span={24}\n        className=\"dao-card-img\"\n        style={{\n          height: !isMobile\n            ? (desktopWidth - PAGE_PADDING * 2) / heightRatio\n            : (width - PAGE_PADDING) / heightRatio,\n        }}\n      >\n        <Image\n          preview={false}\n          src={DAO_CARD_BG[parseRegime as DaoCardBackground]}\n        />\n      </Col>\n      <Col className=\"regime-tag-wrapper\">\n        <RegimeTag regime={regime} special />\n      </Col>\n      <Col span={24}>\n        <Spin spinning={loading} tip=\"Loading...\">\n          <Card bordered={false}>\n            <Row gutter={[20, 20]}>\n              <Col span={24} style={{ minHeight: 88 }}>\n                <Row gutter={[16, 16]} wrap={false} align=\"top\">\n                  <Col>\n                    {!metaData?.image ? (\n                      <GradientAvatar\n                        seed={daoAddress}\n                        avatarProps={{ shape: 'square', size: 68 }}\n                      />\n                    ) : (\n                      <Avatar shape=\"square\" size={68} src={metaData?.image} />\n                    )}\n                  </Col>\n                  <Col flex=\"auto\">\n                    <Space direction=\"vertical\" size={0}>\n                      <Tooltip\n                        title={\n                          metaData?.daoName ? metaData.daoName : daoAddress\n                        }\n                      >\n                        <Typography.Title\n                          style={{ marginTop: -6 }}\n                          level={4}\n                          ellipsis={{ rows: 2 }}\n                        >\n                          {metaData?.daoName\n                            ? metaData.daoName\n                            : shortenAddress(daoAddress)}\n                        </Typography.Title>\n                      </Tooltip>\n                      <Tag className=\"dao-tag\" style={{ margin: 0 }}>\n                        {isPublic ? 'Public' : 'Member only'}\n                      </Tag>\n                      <Space size={2} style={{ marginLeft: -3 }}>\n                        {metaData?.optionals?.map(\n                          (url, idx) =>\n                            validURL(url) && (\n                              <Button\n                                size=\"small\"\n                                type=\"text\"\n                                onClick={() => window.open(url, '_blank')}\n                                icon={<IonIcon name={getIcon(url)} />}\n                                key={idx}\n                              />\n                            ),\n                        )}\n                      </Space>\n                    </Space>\n                  </Col>\n                </Row>\n              </Col>\n              <Col span={24}>\n                <Row gutter={[16, 16]}>\n                  <Col span={8}>\n                    <StatisticCard\n                      title=\"Vote by\"\n                      value={\n                        isNft ? (\n                          <AvatarNFT mintAddress={mint.toBase58()} />\n                        ) : (\n                          <Space>\n                            <MintAvatar mintAddress={mint.toBase58()} />\n                            <MintSymbol mintAddress={mint.toBase58()} />\n                          </Space>\n                        )\n                      }\n                    />\n                  </Col>\n                  <Col span={8}>\n                    <StatisticCard\n                      title=\"Proposals\"\n                      value={numeric(Number(nonce)).format('0,0')}\n                    />\n                  </Col>\n                  <Col span={8}>\n                    <StatisticCard\n                      title=\"Members\"\n                      value={numeric(members).format('0,0')}\n                    />\n                  </Col>\n                </Row>\n              </Col>\n              <Col span={24} style={{ minHeight: 44 }}>\n                <Typography.Paragraph\n                  style={{ margin: 0 }}\n                  type=\"secondary\"\n                  ellipsis={{ rows: 2 }}\n                >\n                  {metaData?.description}\n                </Typography.Paragraph>\n              </Col>\n            </Row>\n          </Card>\n        </Spin>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DaoCard\n","import { Button, Input, Spin } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { LoadingOutlined } from '@ant-design/icons'\n\ntype SearchDaoProps = {\n  onSearch: (keyword: string) => void\n  loading?: boolean\n}\n\nconst SearchDao = ({ onSearch, loading = false }: SearchDaoProps) => {\n  return (\n    <Input\n      prefix={\n        <Button\n          type=\"text\"\n          size=\"small\"\n          icon={\n            loading ? (\n              <Spin indicator={<LoadingOutlined style={{ fontSize: 14 }} />} />\n            ) : (\n              <IonIcon name=\"search-outline\" />\n            )\n          }\n        />\n      }\n      placeholder=\"Search by name, address\"\n      style={{ width: '100%' }}\n      onChange={(e) => onSearch(e.target.value)}\n    />\n  )\n}\nexport default SearchDao\n","import { DaoRegime } from '@interdao/core'\n\nimport { Card, Image, Typography } from 'antd'\n\nimport autonomous from 'app/static/images/system/bg-autonomous.png'\nimport democratic from 'app/static/images/system/bg-democratic.png'\nimport dictatorial from 'app/static/images/system/bg-dictatorial.png'\nimport { DaoCardBackground } from '../../dao/communityDaos/daoCard'\n\nconst DAO_CARD_BG = {\n  autonomous,\n  democratic,\n  dictatorial,\n}\n\nconst CardRegime = ({\n  regime,\n  onChange = () => {},\n  active = true,\n}: {\n  regime: DaoRegime\n  onChange?: (regime: DaoRegime) => void\n  active?: boolean\n}) => {\n  return (\n    <Card\n      bordered={false}\n      style={{ overflow: 'hidden', cursor: 'pointer' }}\n      bodyStyle={{ padding: 0 }}\n      onClick={() => onChange(regime)}\n      className={`card-regime ${active ? 'active' : ''}`}\n    >\n      <Image\n        src={DAO_CARD_BG[Object.keys(regime)[0] as DaoCardBackground]}\n        preview={false}\n      />\n      <Typography.Text\n        style={{\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          textAlign: 'center',\n          width: '100%',\n          padding: 4,\n          backdropFilter: 'blur(4px)',\n          color: '#fff',\n          textTransform: 'capitalize',\n          fontWeight: 400,\n        }}\n      >\n        {Object.keys(regime)[0]}\n      </Typography.Text>\n    </Card>\n  )\n}\n\nexport default CardRegime\n","import isEqual from 'react-fast-compare'\nimport { DaoRegime, DaoRegimes } from '@interdao/core'\n\nimport { Button, Row, Col, Space, Typography, Popover } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport CardRegime from 'app/view/createDao/components/cardRegime'\n\nexport const REGIME_LIST = [\n  DaoRegimes.Dictatorial,\n  DaoRegimes.Democratic,\n  DaoRegimes.Autonomous,\n]\n\ntype RegimeInputProps = {\n  value: DaoRegime\n  onChangeRegime: (regime: DaoRegime) => void\n}\n\nconst RegimeInput = ({ value, onChangeRegime }: RegimeInputProps) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Space>\n          <Typography.Text>DAO Regime</Typography.Text>\n          <Popover\n            overlayStyle={{ maxWidth: 300 }}\n            trigger=\"click\"\n            content={\n              <Row gutter={[16, 16]}>\n                <Col span={24}>\n                  <Typography.Title level={5}>\n                    What is DAO Regime?\n                  </Typography.Title>\n                </Col>\n                <Col span={24}>\n                  <Space direction=\"vertical\">\n                    <Typography.Text>\n                      <strong>Dictatorial.</strong> Only DAO owner can create\n                      and execute proposals.\n                    </Typography.Text>\n                    <Typography.Text>\n                      <strong>Democratic.</strong> Community can create\n                      proposals, DAO owner execute proposals.\n                    </Typography.Text>\n                    <Typography.Text>\n                      <strong>Autonomous.</strong> Community can create and\n                      execute proposals.\n                    </Typography.Text>\n                  </Space>\n                </Col>\n              </Row>\n            }\n          >\n            <Button\n              type=\"text\"\n              size=\"small\"\n              icon={<IonIcon name=\"information-circle-outline\" />}\n            />\n          </Popover>\n        </Space>\n      </Col>\n      {REGIME_LIST.map((regime, idx) => (\n        <Col xs={24} md={8} key={idx}>\n          <CardRegime\n            regime={regime}\n            onChange={onChangeRegime}\n            active={isEqual(value, regime)}\n          />\n        </Col>\n      ))}\n    </Row>\n  )\n}\n\nexport default RegimeInput\n","import { Select } from 'antd'\nimport { REGIME_LIST } from 'app/view/createDao/setRule/flexible/regimeInput'\n\ntype MechanismsProps = { value: string; onSort: (value: string) => void }\n\nconst Mechanisms = ({ onSort, value }: MechanismsProps) => {\n  return (\n    <Select\n      value={value}\n      style={{ textTransform: 'capitalize', width: '100%' }}\n      onChange={onSort}\n    >\n      <Select.Option value=\"all\">All mechanisms</Select.Option>\n      {REGIME_LIST.map((regime, idx) => {\n        const value = Object.keys(regime)[0]\n        return (\n          <Select.Option\n            key={idx}\n            value={value}\n            style={{ textTransform: 'capitalize' }}\n          >\n            {value}\n          </Select.Option>\n        )\n      })}\n    </Select>\n  )\n}\n\nexport default Mechanisms\n","import { Select } from 'antd'\n\ntype TypeOfDAOProps = {\n  value: string\n  setType: (type: string) => void\n}\n\nconst TypeOfDAO = ({ value, setType }: TypeOfDAOProps) => {\n  return (\n    <Select\n      value={value}\n      style={{ textTransform: 'capitalize', width: '100%' }}\n      onChange={setType}\n    >\n      <Select.Option value=\"all\">All type of DAO</Select.Option>\n      <Select.Option value=\"flexible-dao\">Flexible DAO</Select.Option>\n      <Select.Option value=\"multisig-dao\">Multisig DAO</Select.Option>\n    </Select>\n  )\n}\n\nexport default TypeOfDAO\n","import { MetaData } from 'app/model/createDao.controller'\nimport lunr, { Index } from 'lunr'\n\nexport type SearchData = { daoAddress: string } & MetaData\nexport type RegisterDaoData = Record<string, SearchData>\nclass DaoProvider {\n  private daoMap: Map<string, SearchData>\n  private engine: Index | undefined\n  register: RegisterDaoData\n\n  constructor(register: RegisterDaoData) {\n    this.register = register\n    this.daoMap = new Map<string, SearchData>()\n    this.engine = lunr(function () {\n      this.ref('daoAddress')\n      this.field('daoAddress')\n      this.field('daoName')\n      this.field('description')\n      Object.keys(register).forEach((address: string) => {\n        const doc = register[address]\n        if (doc) this.add(doc)\n      })\n    })\n    // build dao map\n    this._setDaoMap()\n  }\n\n  private _setDaoMap = async (): Promise<[Map<string, SearchData>]> => {\n    Object.keys(this.register).forEach((daoAddress) =>\n      this.daoMap.set(daoAddress, this.register[daoAddress]),\n    )\n    return [this.daoMap]\n  }\n\n  all = async (): Promise<SearchData[]> => {\n    const [daoMap] = await this._setDaoMap()\n    return Array.from(daoMap.values())\n  }\n\n  findByAddress = async (addr: string): Promise<string[] | undefined> => {\n    const [daoMap] = await this._setDaoMap()\n    if (daoMap.has(addr)) return [addr]\n    return\n  }\n\n  find = async (keyword: string, limit = 10): Promise<string[] | undefined> => {\n    const [daoMap] = await this._setDaoMap()\n    const engine = this.engine\n    if (!engine) return\n    let daos: SearchData[] = []\n    if (!keyword) return\n\n    const fuzzy = keyword + '~1'\n    engine.search(fuzzy).forEach(({ ref }) => {\n      if (daos.findIndex(({ daoAddress }) => daoAddress === ref) < 0) {\n        const dao = daoMap.get(ref)\n        if (dao) daos.push(dao)\n      }\n    })\n    const nextDaos: string[] = []\n    daos.slice(0, limit).forEach(({ daoAddress }) => {\n      if (daoAddress) nextDaos.push(daoAddress)\n    })\n    return nextDaos\n  }\n}\n\nexport default DaoProvider\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\n\nimport DaoProvider, {\n  RegisterDaoData,\n} from 'app/view/dao/communityDaos/search/daoProvider'\nimport usePDB from './usePDB'\nimport { MetaData } from 'app/model/createDao.controller'\n\nconst useSearchDao = (keyword: string, daoAddresses: string[]) => {\n  const [metaData, setMetaData] = useState<RegisterDaoData>()\n  const [searchData, setSearchData] = useState<string[]>()\n  const [loading, setLoading] = useState(false)\n  const pdb = usePDB()\n\n  const getMetaData = useCallback(async () => {\n    const nextData: RegisterDaoData = {}\n    for (const daoAddress of daoAddresses) {\n      const data = (await pdb.getItem(daoAddress)) as MetaData\n      if (!data) continue\n      nextData[daoAddress] = { ...data, daoAddress }\n    }\n    return setMetaData(nextData)\n  }, [daoAddresses, pdb])\n\n  const onSearch = useCallback(async () => {\n    if (!keyword || keyword.length < 3 || keyword === 'all-regime' || !metaData)\n      return setSearchData(undefined)\n    try {\n      const daoProvider = new DaoProvider(metaData)\n      if (account.isAddress(keyword)) {\n        const data = await daoProvider.findByAddress(keyword)\n        return setSearchData(data)\n      }\n      const data = await daoProvider.find(keyword)\n      return setSearchData(data)\n    } catch (err) {\n      setSearchData(undefined)\n    }\n  }, [keyword, metaData])\n\n  useEffect(() => {\n    getMetaData()\n  }, [getMetaData])\n\n  useEffect(() => {\n    if (keyword && keyword.length >= 3) setLoading(true)\n    const delayToSearch = setTimeout(async () => {\n      //  delay to waiting keyboard typing\n      await onSearch()\n      setLoading(false)\n    }, 500)\n    return () => clearTimeout(delayToSearch)\n  }, [keyword, onSearch])\n\n  return { searchData, loading }\n}\n\nexport default useSearchDao\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { utils, web3 } from '@project-serum/anchor'\nimport { useAccount, useWallet } from '@senhub/providers'\n\nimport { AppState } from 'app/model'\nimport { DaoState } from 'app/model/daos.controller'\nimport usePDB from '../usePDB'\nimport { MetaData } from 'app/model/createDao.controller'\n\nconst useCommunityDaos = (\n  daoType: string,\n  mechanismsType: string,\n): DaoState => {\n  const daos = useSelector((state: AppState) => state.daos)\n  const [filteredDaos, setFilteredDaos] = useState<DaoState>({})\n  const { accounts } = useAccount()\n  const { wallet } = useWallet()\n  const pdb = usePDB()\n\n  const filterDaos = useCallback(async () => {\n    const filteredDaos: DaoState = {}\n\n    for (const addr in daos) {\n      const daoData = daos[addr]\n      const { isPublic, mint, regime } = daoData\n      let valid = true\n      // Validate vote token\n      if (!isPublic) {\n        const tokenAccount = await utils.token.associatedAddress({\n          mint,\n          owner: new web3.PublicKey(wallet.address),\n        })\n        const amount = accounts[tokenAccount.toBase58()]?.amount\n        if (!amount || !(Number(amount.toString()) > 0)) valid = false\n      }\n      // Validate type\n      if (daoType !== 'all') {\n        const metaData = (await pdb.getItem(addr)) as MetaData\n        if (metaData?.daoType !== daoType) valid = false\n      }\n      // Validate Regime\n      if (mechanismsType !== 'all') {\n        const parseRegime = Object.keys(regime)[0]\n        if (parseRegime !== mechanismsType) valid = false\n      }\n\n      if (valid) filteredDaos[addr] = daoData\n    }\n    return setFilteredDaos(filteredDaos)\n  }, [accounts, daoType, daos, mechanismsType, pdb, wallet.address])\n\n  useEffect(() => {\n    filterDaos()\n  }, [filterDaos])\n\n  return filteredDaos\n}\nexport default useCommunityDaos\n","import { useMemo, useState } from 'react'\nimport LazyLoad from '@sentre/react-lazyload'\n\nimport { Col, Empty, Row } from 'antd'\nimport DaoCard from './daoCard'\nimport SearchDao from './search'\nimport Mechanisms from './mechanisms'\nimport TypeOfDAO from './typeOfDao'\n\nimport useSearchDao from 'app/hooks/useSearchDao'\nimport useCommunityDaos from 'app/hooks/daos/useCommunityDaos'\n\nimport './index.less'\n\nconst CommunityDaos = () => {\n  const [mechanisms, setMechanisms] = useState('all')\n  const [searchKey, setSearchKey] = useState('')\n  const [type, setType] = useState('all')\n  const communityDaos = useCommunityDaos(type, mechanisms)\n\n  const daos = useMemo(() => Object.keys(communityDaos), [communityDaos])\n  const { searchData, loading } = useSearchDao(searchKey, daos)\n\n  return (\n    <Row gutter={[24, 16]}>\n      <Col xs={24} md={16}>\n        <Row gutter={[12, 12]}>\n          <Col xs={12} md={6}>\n            <TypeOfDAO value={type} setType={setType} />\n          </Col>\n          <Col xs={12} md={6}>\n            <Mechanisms onSort={setMechanisms} value={mechanisms} />\n          </Col>\n          <Col xs={24} md={12}>\n            <SearchDao onSearch={setSearchKey} loading={loading} />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24} />\n      {searchKey.length >= 3 && (!searchData || !searchData.length) ? (\n        <Col span={24} style={{ textAlign: 'center' }}>\n          <Empty />\n        </Col>\n      ) : (\n        (searchData || Object.keys(communityDaos)).map((daoAddress) => (\n          <Col key={daoAddress} xs={24} md={12} xl={8}>\n            <LazyLoad height={479.75} offset={2}>\n              <DaoCard daoAddress={daoAddress} />\n            </LazyLoad>\n          </Col>\n        ))\n      )}\n    </Row>\n  )\n}\n\nexport default CommunityDaos\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport LazyLoad from '@sentre/react-lazyload'\nimport { useWallet } from '@senhub/providers'\nimport { account } from '@senswap/sen-js'\nimport { DaoData } from '@interdao/core'\n\nimport { Button, Card, Col, Row, Space, Typography } from 'antd'\nimport DaoCard from './daoCard'\n\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst YourDaos = () => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const daos = useSelector((state: AppState) => state.daos)\n  const history = useHistory()\n\n  const filteredDaos = useMemo(\n    () =>\n      Object.keys(daos).filter((daoAddr) => {\n        const { authority } = daos[daoAddr] || ({} as DaoData)\n        const authAddress = authority.toBase58()\n        return account.isAddress(authAddress) && authAddress === walletAddress\n      }),\n    [daos, walletAddress],\n  )\n\n  if (!!filteredDaos.length)\n    return (\n      <Row gutter={[24, 24]}>\n        {filteredDaos.map((daoAddress) => (\n          <Col xs={24} md={12} xl={8} key={daoAddress}>\n            <LazyLoad height={191.5}>\n              <DaoCard daoAddress={daoAddress} />\n            </LazyLoad>\n          </Col>\n        ))}\n      </Row>\n    )\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Card bordered={false} bodyStyle={{ padding: 45, textAlign: 'center' }}>\n          <Space direction=\"vertical\" align=\"center\">\n            <Typography.Text type=\"secondary\">\n              You have no DAO yet!\n            </Typography.Text>\n            <Button\n              onClick={() => history.push(`/app/${appId}/dao/create-dao`)}\n            >\n              Build your DAO\n            </Button>\n          </Space>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default YourDaos\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useAccount, useWallet } from '@senhub/providers'\nimport { utils, web3 } from '@project-serum/anchor'\n\nimport usePDB from '../usePDB'\nimport { AppState } from 'app/model'\nimport { DaoState } from 'app/model/daos.controller'\nimport { MetaData } from 'app/model/createDao.controller'\n\nconst useDaoCanJoin = () => {\n  const daos = useSelector((state: AppState) => state.daos)\n  const [filteredDaos, setFilteredDaos] = useState<DaoState>({})\n  const { accounts } = useAccount()\n  const { wallet } = useWallet()\n  const pdb = usePDB()\n\n  const filterDaos = useCallback(async () => {\n    const filteredDaos: DaoState = {}\n    try {\n      for (const addr in daos) {\n        const daoData = daos[addr]\n        const { mint } = daoData\n        let valid = true\n\n        // Validate MultisigDAO\n        const { daoType, members } = (await pdb.getItem(addr)) as MetaData\n\n        if (daoType === 'multisig-dao') {\n          const listMember = members.map(({ walletAddress }) => walletAddress)\n          if (!listMember.includes(wallet.address)) valid = false\n        }\n\n        if (daoType === 'flexible-dao') {\n          const tokenAccount = await utils.token.associatedAddress({\n            mint,\n            owner: new web3.PublicKey(wallet.address),\n          })\n          const amount = accounts[tokenAccount.toBase58()]?.amount\n          if (!amount || !(Number(amount.toString()) > 0)) valid = false\n        }\n\n        if (valid) filteredDaos[addr] = daoData\n      }\n    } catch (error) {}\n    return setFilteredDaos(filteredDaos)\n  }, [accounts, daos, pdb, wallet.address])\n\n  useEffect(() => {\n    filterDaos()\n  }, [filterDaos])\n\n  return filteredDaos\n}\n\nexport default useDaoCanJoin\n","import { useMemo } from 'react'\nimport LazyLoad from '@sentre/react-lazyload'\n\nimport { Empty, Col, Row } from 'antd'\nimport DaoCard from '../communityDaos/daoCard'\n\nimport useDaoCanJoin from 'app/hooks/daos/useDaoCanJoin'\n\nconst DaoCanJoin = () => {\n  const daosCanJoin = useDaoCanJoin()\n  const daos = useMemo(() => Object.keys(daosCanJoin), [daosCanJoin])\n\n  if (!daos.length) return <Empty />\n\n  return (\n    <Row gutter={[24, 24]}>\n      {daos.map((daoAddress) => (\n        <Col xs={24} md={12} xl={8} key={daoAddress}>\n          <LazyLoad height={191.5}>\n            <DaoCard daoAddress={daoAddress} />\n          </LazyLoad>\n        </Col>\n      ))}\n    </Row>\n  )\n}\n\nexport default DaoCanJoin\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Space, Typography, Avatar } from 'antd'\nimport GradientAvatar from '../gradientAvatar'\n\nimport useProposalMetaData from 'app/hooks/proposal/useProposalMetaData'\nimport { AppState } from 'app/model'\nimport useMetaData from 'app/hooks/useMetaData'\n\ntype ProposalItemProps = {\n  proposalAddress: string\n}\n\nconst ProposalItem = ({ proposalAddress }: ProposalItemProps) => {\n  const proposals = useSelector((state: AppState) => state.proposal)\n  const { metaData: proposalMetaData } = useProposalMetaData(proposalAddress)\n  const { metaData: daoMetaData } = useMetaData(\n    proposals[proposalAddress].dao.toBase58(),\n  )\n\n  return (\n    <Space size={8} style={{ width: '100%' }}>\n      {!daoMetaData?.image ? (\n        <GradientAvatar\n          seed={proposals[proposalAddress].dao.toBase58()}\n          avatarProps={{ shape: 'square', size: 49 }}\n        />\n      ) : (\n        <Avatar shape=\"square\" size={49} src={daoMetaData?.image} />\n      )}\n      <Space size={4} direction=\"vertical\">\n        <Typography.Title level={5}>{proposalMetaData?.title}</Typography.Title>\n        <Typography.Text style={{ color: '#A08D70' }}>\n          {proposalMetaData?.description}\n        </Typography.Text>\n      </Space>\n    </Space>\n  )\n}\n\nexport default ProposalItem\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { ReceiptData } from '@interdao/core'\nimport { useWallet } from '@senhub/providers'\n\nimport { AppState } from 'app/model'\nimport { ProposalState } from 'app/model/proposal.controller'\n\nconst useWithdrawable = () => {\n  const receipts = useSelector((state: AppState) => state.receipt)\n  const proposals = useSelector((state: AppState) => state.proposal)\n  const [withdrawableProposals, setWithdrawableProposals] =\n    useState<ProposalState>({})\n  const [withdrawableReceipts, setWithdrawableReceipts] = useState<\n    (ReceiptData & { address: string })[]\n  >([])\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const filterWithdrawable = useCallback(async () => {\n    let filteredReceipts: (ReceiptData & { address: string })[] = []\n    let filteredProposals: ProposalState = {}\n    for (const receiptAddr in receipts) {\n      const proposalAddress = receipts[receiptAddr].proposal.toBase58()\n      if (\n        receipts[receiptAddr].authority.toBase58() === walletAddress &&\n        Number(proposals[proposalAddress].endDate) < Date.now() / 1000 &&\n        proposals[proposalAddress] &&\n        receipts[receiptAddr].amount.toNumber() > 0\n      ) {\n        filteredReceipts.push({\n          ...receipts[receiptAddr],\n          address: receiptAddr,\n        })\n        const proposalAddress = receipts[receiptAddr].proposal.toBase58()\n        if (!filteredProposals[proposalAddress]) {\n          filteredProposals[proposalAddress] = proposals[proposalAddress]\n        }\n      }\n    }\n    setWithdrawableProposals(filteredProposals)\n    setWithdrawableReceipts(filteredReceipts)\n  }, [proposals, receipts, walletAddress])\n\n  useEffect(() => {\n    filterWithdrawable()\n  }, [filterWithdrawable])\n\n  return { withdrawableReceipts, withdrawableProposals }\n}\n\nexport default useWithdrawable\n","import { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport IonIcon from '@sentre/antd-ionicon'\nimport { Button, Col, Modal, Row, Space, Typography } from 'antd'\nimport ProposalItem from './proposalItem'\n\nimport useWithdrawableReceipt from 'app/hooks/proposal/useWithdrawableReceipt'\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\nimport { explorer } from 'shared/util'\n\nimport BG_JOIN_DAO from 'app/static/images/system/bg-join-dao.png'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst WithdrawNotificationModal = () => {\n  const proposals = useSelector((state: AppState) => state.proposal)\n  const daos = useSelector((state: AppState) => state.daos)\n  const [visible, setVisible] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const { withdrawableReceipts, withdrawableProposals } =\n    useWithdrawableReceipt()\n\n  useEffect(() => {\n    if (withdrawableReceipts.length > 0) {\n      return setVisible(true)\n    }\n    setVisible(false)\n  }, [withdrawableReceipts])\n\n  const handleWithdrawReceipts = async () => {\n    if (!withdrawableReceipts.length) return\n    setLoading(true)\n    try {\n      for (const receipt of withdrawableReceipts) {\n        let response: { txId: string; receiptAddress: string }\n        const { isNft } =\n          daos[proposals[receipt.proposal.toBase58()].dao.toBase58()]\n        if (isNft) response = await interDao.closeNftVoting(receipt.address)\n        else response = await interDao.close(receipt.address)\n        window.notify({\n          type: 'success',\n          description: 'Successful withdrawal. Click to view details!',\n          onClick: () => window.open(explorer(response.txId), '_blank'),\n        })\n      }\n    } catch (er: any) {\n      window.notify({\n        type: 'error',\n        description: er.message,\n      })\n    } finally {\n      setLoading(false)\n      setVisible(false)\n    }\n  }\n\n  return (\n    <Modal\n      visible={visible}\n      onCancel={() => {\n        setVisible(false)\n      }}\n      closeIcon={<IonIcon name=\"close-outline\" />}\n      footer={null}\n      bodyStyle={{\n        padding: '48px 24px 24px 24px',\n        backgroundImage: `url(${BG_JOIN_DAO})`,\n      }}\n    >\n      <Row gutter={[32, 32]}>\n        <Col span={24}>\n          <Space\n            direction=\"vertical\"\n            size={12}\n            align=\"center\"\n            style={{ width: '100%' }}\n          >\n            <Typography.Title level={1}>Voting is over!</Typography.Title>\n            <Typography.Text style={{ color: '#A08D70' }}>\n              Your tokens and NFTs can be withdrawn from the proposals below.\n            </Typography.Text>\n          </Space>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[24, 24]}>\n            {Object.keys(withdrawableProposals).map((value) => {\n              return (\n                <Col span={24} key={value}>\n                  <ProposalItem proposalAddress={value} />\n                </Col>\n              )\n            })}\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Button\n            type=\"primary\"\n            block\n            onClick={handleWithdrawReceipts}\n            loading={loading}\n            style={{ height: 40 }}\n          >\n            Withdraw\n          </Button>\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\n\nexport default WithdrawNotificationModal\n","import { useHistory } from 'react-router-dom'\n\nimport { Row, Col, Button, Tabs } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport Hero from './hero'\nimport CommunityDaos from './communityDaos'\nimport YourDaos from './communityDaos/yourDao'\nimport DaoCanJoin from './daoCanJoin'\nimport WithdrawNotificationModal from 'app/components/withdrawNotificationModal'\n\nimport configs from 'app/configs'\n\nimport './index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst Dao = () => {\n  const history = useHistory()\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Hero />\n      </Col>\n      <Col span={24}>\n        <Row justify=\"center\">\n          <Col xs={24} lg={18}>\n            <Tabs\n              style={{ overflow: 'visible' }}\n              className=\"dao-tabs\"\n              tabBarExtraContent={\n                <Button\n                  type=\"primary\"\n                  onClick={() => history.push(`/app/${appId}/dao/create-dao`)}\n                  icon={<IonIcon name=\"add-outline\" />}\n                >\n                  Create a DAO\n                </Button>\n              }\n            >\n              <Tabs.TabPane tab=\"Community DAOs\" key=\"community-daos\">\n                <CommunityDaos />\n              </Tabs.TabPane>\n              <Tabs.TabPane tab=\"Your DAOs\" key=\"your-daos\">\n                <YourDaos />\n              </Tabs.TabPane>\n              <Tabs.TabPane tab=\"DAOs can join\" key=\"daos-can-join\">\n                <DaoCanJoin />\n              </Tabs.TabPane>\n            </Tabs>\n          </Col>\n        </Row>\n      </Col>\n      <WithdrawNotificationModal />\n    </Row>\n  )\n}\n\nexport default Dao\n","import { useCallback, useEffect, useState } from 'react'\n\nimport useProposalMetaData from 'app/hooks/proposal/useProposalMetaData'\nimport { TemplateNames } from '../index'\n\nexport const useTemplateWithProposal = (proposalAddress: string) => {\n  const [templateName, setTemplateName] = useState<TemplateNames>()\n  const { metaData, loading } = useProposalMetaData(proposalAddress)\n\n  const getTemplateName = useCallback(() => {\n    if (!metaData || loading) return setTemplateName(undefined)\n    // @ts-ignore\n    return setTemplateName(metaData.templateName)\n  }, [loading, metaData])\n  useEffect(() => {\n    getTemplateName()\n  }, [getTemplateName])\n\n  return templateName\n}\n","import { Component, ErrorInfo, lazy, ReactNode, Suspense } from 'react'\n\nimport { useTemplateWithProposal } from './hooks/useTemplateWithProposal'\nimport { TemplateNames } from './index'\n\nexport type PropsTemplateCreateLoader = {\n  name: TemplateNames\n  daoAddress: string\n}\nexport const TemplateCreateLoader = ({\n  name,\n  daoAddress,\n}: PropsTemplateCreateLoader) => {\n  const Component = lazy(() => import(`./${name}/create`))\n  return (\n    <ErrorBoundary>\n      <Suspense fallback={<div />}>\n        <Component daoAddress={daoAddress} />\n      </Suspense>\n    </ErrorBoundary>\n  )\n}\n\nexport type PropsTemplateProposalLoader = { proposalAddress: string }\nexport const TemplateProposalLoader = ({\n  proposalAddress,\n}: PropsTemplateProposalLoader) => {\n  const template = useTemplateWithProposal(proposalAddress)\n  const Component = lazy(() => import(`./${template}/proposal`))\n  return (\n    <ErrorBoundary>\n      <Suspense fallback={<div />}>\n        <Component proposalAddress={proposalAddress} />\n      </Suspense>\n    </ErrorBoundary>\n  )\n}\n\nexport type PropsTemplateInfoLoader = { proposalAddress: string }\nexport const TemplateInfoLoader = ({\n  proposalAddress,\n}: PropsTemplateInfoLoader) => {\n  const template = useTemplateWithProposal(proposalAddress)\n  const Component = lazy(() => import(`./${template}/info`))\n  return (\n    <ErrorBoundary>\n      <Suspense fallback={<div />}>\n        <Component proposalAddress={proposalAddress} />\n      </Suspense>\n    </ErrorBoundary>\n  )\n}\n\ninterface Props {\n  children?: ReactNode\n}\ninterface State {\n  hasError: boolean\n}\nclass ErrorBoundary extends Component<Props, State> {\n  public state: State = {\n    hasError: false,\n  }\n\n  public static getDerivedStateFromError(_: Error): State {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true }\n  }\n\n  public componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    console.error('Uncaught error:', error, errorInfo)\n  }\n\n  public render() {\n    if (this.state.hasError) {\n      return <h1>Sorry.. there was an error</h1>\n    }\n\n    return this.props.children\n  }\n}\n\nexport default ErrorBoundary\n","var _path, _path2, _path3, _defs;\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgSolana(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 56,\n    height: 56,\n    viewBox: \"0 0 56 56\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.09822 38.7451C9.43613 38.4072 9.90075 38.2101 10.3935 38.2101H55.082C55.8986 38.2101 56.3069 39.1956 55.7297 39.7729L46.9018 48.6008C46.5639 48.9387 46.0993 49.1358 45.6065 49.1358H0.918008C0.101395 49.1358 -0.306912 48.1502 0.270349 47.573L9.09822 38.7451Z\",\n    fill: \"url(#paint0_linear_514_9086)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.09822 5.78502C9.45021 5.44711 9.91483 5.25 10.3935 5.25L55.082 5.25C55.8986 5.25 56.3069 6.23557 55.7297 6.81283L46.9018 15.6407C46.5639 15.9786 46.0993 16.1757 45.6065 16.1757H0.918008C0.101395 16.1757 -0.306912 15.1902 0.270349 14.6129L9.09822 5.78502Z\",\n    fill: \"url(#paint1_linear_514_9086)\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M46.9018 22.1596C46.5639 21.8217 46.0993 21.6246 45.6065 21.6246H0.918008C0.101395 21.6246 -0.306912 22.6101 0.270349 23.1874L9.09822 32.0153C9.43613 32.3532 9.90075 32.5503 10.3935 32.5503H55.082C55.8986 32.5503 56.3069 31.5647 55.7297 30.9875L46.9018 22.1596Z\",\n    fill: \"url(#paint2_linear_514_9086)\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_514_9086\",\n    x1: 50.8129,\n    y1: -0.023655,\n    x2: 19.885,\n    y2: 59.2159,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#00FFA3\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#DC1FFF\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint1_linear_514_9086\",\n    x1: 37.2896,\n    y1: -7.08387,\n    x2: 6.36157,\n    y2: 52.1556,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#00FFA3\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#DC1FFF\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint2_linear_514_9086\",\n    x1: 44.0082,\n    y1: -3.57611,\n    x2: 13.0802,\n    y2: 55.6634,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#00FFA3\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#DC1FFF\"\n  })))));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSolana);\nexport default __webpack_public_path__ + \"static/media/solana.6db9bd9600699ad1fc2b302acd0731be.svg\";\nexport { ForwardRef as ReactComponent };","import { Button, Col, Image, Radio, Row, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport SOLANA_LOGO from 'app/static/images/templates/solana.svg'\nimport { TemplateCreateLoader } from 'app/templates/templateLoader'\nimport { TemplateNames } from 'app/templates'\nimport { useState } from 'react'\n\ntype CardOptionProps = {\n  label: string\n  description: string\n  icon: string\n}\n\nconst CardOption = ({ label, description, icon }: CardOptionProps) => {\n  return (\n    <Row>\n      <Col span={24}>\n        <Row>\n          <Col flex=\"auto\">\n            <Typography.Title level={5}>{label}</Typography.Title>\n          </Col>\n          <Col>\n            <IonIcon style={{ fontSize: 24 }} name={icon} />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Typography.Text type=\"secondary\">{description}</Typography.Text>\n      </Col>\n    </Row>\n  )\n}\n\nconst SPL = ({ daoAddress }: { daoAddress: string }) => {\n  const [template, setTemplate] = useState(TemplateNames.SplTransfer)\n  return (\n    <Row>\n      <Col xs={24} md={16} className=\"wrap-spl-info\">\n        <Row gutter={[16, 16]} className=\"spl-info\">\n          <Col span={24}>\n            <Space size={24}>\n              <Image preview={false} src={SOLANA_LOGO} />\n              <Space size={0} direction=\"vertical\">\n                <Typography.Text>Solana Program Library</Typography.Text>\n                <Space size={2} style={{ marginLeft: -8 }}>\n                  <Button type=\"text\" icon={<IonIcon name=\"logo-discord\" />} />\n                  <Button type=\"text\" icon={<IonIcon name=\"logo-twitter\" />} />\n                  <Button type=\"text\" icon={<IonIcon name=\"logo-telegram\" />} />\n                </Space>\n              </Space>\n            </Space>\n          </Col>\n          <Col span={24}>\n            <Typography.Paragraph\n              type=\"secondary\"\n              ellipsis={{ rows: 3, expandable: true, symbol: 'View more' }}\n            >\n              The Solana Program Library (SPL) is a collection of on-chain\n              programs targeting the Sealevel parallel runtime. These programs\n              are tested against Solana's implementation of Sealevel,\n              solana-runtime, and deployed to its mainnet. As others implement\n              Sealevel, we will graciously accept patches to ensure the programs\n              here are portable across all implementations.\n            </Typography.Paragraph>\n          </Col>\n          <Col span={24}>\n            <Space direction=\"vertical\" style={{ width: '100%' }}>\n              <Typography.Text>Templates</Typography.Text>\n              <Radio.Group\n                value={template}\n                style={{ width: '100%' }}\n                className=\"select-spl-option\"\n                onChange={(e) => setTemplate(e.target.value)}\n              >\n                <Row gutter={[24, 24]}>\n                  <Col xs={24} sm={12} md={12} lg={12}>\n                    <Radio.Button value={TemplateNames.SplTransfer}>\n                      <CardOption\n                        label=\"Transfer\"\n                        description=\"Transfer token to another wallet address\"\n                        icon=\"paper-plane-outline\"\n                      />\n                    </Radio.Button>\n                  </Col>\n                  <Col xs={24} sm={12} md={12} lg={12}>\n                    <Radio.Button value={TemplateNames.SplApprove}>\n                      <CardOption\n                        label=\"Approve\"\n                        description=\"Coming soon\"\n                        icon=\"thumbs-up-outline\"\n                      />\n                    </Radio.Button>\n                  </Col>\n                </Row>\n              </Radio.Group>\n            </Space>\n          </Col>\n        </Row>\n      </Col>\n      <Col xs={24} md={8} className=\"spl-option-transfer\">\n        <TemplateCreateLoader name={template} daoAddress={daoAddress} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default SPL\n","import { useDispatch, useSelector } from 'react-redux'\n\nimport { Col, Modal, Row, Tabs, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { TemplateCreateLoader } from 'app/templates/templateLoader'\nimport SPL from './spl'\n\nimport { TemplateNames } from 'app/templates'\nimport { AppDispatch, AppState } from 'app/model'\nimport { clearTemplate } from 'app/model/template.controller'\n\nimport './index.less'\n\nconst Template = ({ daoAddress }: { daoAddress: string }) => {\n  const visible = useSelector((state: AppState) => state.template.visible)\n  const dispatch = useDispatch<AppDispatch>()\n\n  return (\n    <Modal\n      visible={visible}\n      footer={false}\n      closeIcon={<IonIcon name=\"close-outline\" />}\n      className=\"template-card template-modal\"\n      onCancel={() => dispatch(clearTemplate())}\n    >\n      <Row>\n        <Col span={24} className=\"template-header\">\n          <Typography.Title level={4}>Choose a template</Typography.Title>\n        </Col>\n        <Col className=\"template-body\" span={24}>\n          <Tabs\n            tabBarExtraContent={\n              <TemplateCreateLoader\n                name={TemplateNames.BlankTemplate}\n                daoAddress={daoAddress}\n              />\n            }\n          >\n            <Tabs.TabPane tab=\"SPL\" key=\"spl\">\n              <SPL daoAddress={daoAddress} />\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"Atrix\" key=\"atrix\" disabled />\n            <Tabs.TabPane tab=\"Quarry\" key=\"quarry\" disabled />\n            <Tabs.TabPane tab=\"Advanced\" key=\"advanced\" disabled />\n          </Tabs>\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\n\nexport default Template\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport LazyLoad from '@sentre/react-lazyload'\nimport { useUI, useWallet } from '@senhub/providers'\nimport { DaoRegimes } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\nimport { SystemProgram } from '@solana/web3.js'\n\nimport { Button, Col, Empty, Row, Select, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport Template from 'app/view/templates'\nimport { setVisible } from 'app/model/template.controller'\nimport { TemplateProposalLoader } from 'app/templates/templateLoader'\n\nexport type ProposalListProps = { daoAddress: string }\n\nconst currentDate = Math.floor(Number(new Date()) / 1000)\n\nconst ProposalList = ({ daoAddress }: ProposalListProps) => {\n  const [status, setStatus] = useState('all-status')\n  const daos = useSelector((state: AppState) => state.daos)\n  const proposal = useSelector((state: AppState) => state.proposal)\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const {\n    ui: { width },\n  } = useUI()\n\n  const { regime, authority } = daos[daoAddress] || {\n    regime: DaoRegimes.Dictatorial,\n    authority: SystemProgram.programId,\n  }\n  const mobileScreen = width < 768\n\n  const isSuccess = useCallback(\n    (quorum: string, votingPower: number, numSupply: number) => {\n      if (votingPower <= 0) return false\n      if (quorum === 'half' && votingPower >= numSupply / 2) return true\n      if (quorum === 'oneThird' && votingPower >= numSupply / 3) return true\n      if (quorum === 'twoThird' && votingPower >= (numSupply * 2) / 3)\n        return true\n      return false\n    },\n    [],\n  )\n\n  const authorized = useMemo(() => {\n    if (isEqual(regime, DaoRegimes.Autonomous)) return true\n    if (isEqual(regime, DaoRegimes.Democratic)) return true\n    if (authority.toBase58() === walletAddress) return true\n    return false\n  }, [regime, authority, walletAddress])\n\n  const proposalAddresses = useMemo(() => {\n    const expandedProposal = Object.keys(proposal).map((address) => ({\n      address,\n      ...proposal[address],\n    }))\n    return expandedProposal\n      .filter(({ dao }) => dao.toBase58() === daoAddress)\n      .map(({ address }) => address)\n  }, [proposal, daoAddress])\n\n  const filterProposalAddresses = useMemo(() => {\n    if (!proposalAddresses.length) return []\n    const filteredAddress = []\n\n    for (const address of proposalAddresses) {\n      let valid = false\n      const {\n        endDate,\n        startDate,\n        executed,\n        supply,\n        votingForPower,\n        consensusQuorum,\n        consensusMechanism,\n        votingAgainstPower,\n      } = proposal[address] || {}\n\n      const quorum = consensusQuorum ? Object.keys(consensusQuorum)[0] : ''\n      const votingPower = Number(votingForPower) - Number(votingAgainstPower)\n      const stakeSupply = Number(supply) || 0\n      const lockSupply = Number(supply) * (Number(endDate) - Number(startDate))\n      const mechanism = consensusMechanism\n        ? Object.keys(consensusMechanism)[0]\n        : ''\n      const actualSupply =\n        mechanism === 'StakedTokenCounter' ? stakeSupply : lockSupply\n\n      switch (status) {\n        case 'preparing':\n          valid = currentDate < Number(startDate)\n          break\n        case 'voting':\n          valid =\n            currentDate <= Number(endDate) && currentDate >= Number(startDate)\n          break\n        case 'executed':\n          valid = executed\n          break\n        case 'succeeded':\n          valid =\n            isSuccess(quorum, votingPower, actualSupply) &&\n            !executed &&\n            currentDate > Number(endDate)\n          break\n        case 'failed':\n          valid =\n            !isSuccess(quorum, votingPower, actualSupply) &&\n            currentDate > Number(endDate)\n          break\n        default:\n          valid = true\n          break\n      }\n      if (valid) filteredAddress.push(address)\n    }\n    return filteredAddress\n  }, [isSuccess, proposal, proposalAddresses, status])\n\n  useEffect(() => {\n    // scroll to top\n    window.scrollTo(0, 0)\n  }, [])\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Row gutter={[16, 16]} align=\"bottom\">\n          <Col\n            span={mobileScreen ? 24 : undefined}\n            flex={mobileScreen ? undefined : 'auto'}\n          >\n            <Typography.Title level={4}>Proposals</Typography.Title>\n          </Col>\n          <Col span={mobileScreen ? 12 : undefined}>\n            <Select\n              className=\"select-filter-proposal\"\n              defaultValue=\"all-status\"\n              onChange={setStatus}\n              style={{ width: '100%', minWidth: 150 }}\n            >\n              <Select.Option value=\"all-status\">All status</Select.Option>\n              <Select.Option value=\"preparing\">Preparing</Select.Option>\n              <Select.Option value=\"voting\">Voting</Select.Option>\n              <Select.Option value=\"succeeded\">Succeeded</Select.Option>\n              <Select.Option value=\"executed\">Executed</Select.Option>\n              <Select.Option value=\"failed\">Failed</Select.Option>\n            </Select>\n          </Col>\n          <Col span={mobileScreen ? 12 : undefined}>\n            <Button\n              type=\"primary\"\n              icon={<IonIcon name=\"add-outline\" />}\n              onClick={() => dispatch(setVisible(true))}\n              disabled={!authorized}\n              block\n            >\n              New Proposal\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row>\n          {filterProposalAddresses.length ? (\n            filterProposalAddresses.map((proposalAddress) => (\n              <Col key={proposalAddress} span={24}>\n                <LazyLoad height={176}>\n                  <TemplateProposalLoader proposalAddress={proposalAddress} />\n                </LazyLoad>\n              </Col>\n            ))\n          ) : (\n            <Col span={24} style={{ textAlign: 'center' }}>\n              <Empty />\n            </Col>\n          )}\n        </Row>\n      </Col>\n      <Template daoAddress={daoAddress} />\n    </Row>\n  )\n}\n\nexport default ProposalList\n","import { useMemo, useState } from 'react'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { Col, Row, Space, Tooltip, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport useMembers from 'app/hooks/useMembers'\nimport useMetaData from 'app/hooks/useMetaData'\nimport { asyncWait, numeric, shortenAddress } from 'shared/util'\n\nconst InfoMember = ({ daoAddress }: { daoAddress: string }) => {\n  const [copied, setCopied] = useState('address')\n  const { metaData } = useMetaData(daoAddress)\n\n  const onCopy = async (address: string) => {\n    setCopied(address)\n    await asyncWait(1500)\n    setCopied('address')\n  }\n\n  return (\n    <Row gutter={[8, 8]}>\n      {metaData?.members.map(({ name, walletAddress }, index) => (\n        <Col span={24} key={walletAddress + index}>\n          <Row>\n            <Col flex=\"auto\">\n              <Typography.Text key={index} className=\"t-16\">\n                {name}\n              </Typography.Text>\n            </Col>\n            <Col>\n              <Space>\n                <Typography.Text type=\"secondary\">\n                  {shortenAddress(walletAddress)}\n                </Typography.Text>\n                <Tooltip title=\"Copied\" visible={copied === walletAddress}>\n                  <CopyToClipboard\n                    text={walletAddress}\n                    onCopy={() => onCopy(walletAddress)}\n                  >\n                    <Typography.Text\n                      style={{ cursor: 'pointer' }}\n                      type=\"secondary\"\n                    >\n                      <IonIcon name=\"copy-outline\" />\n                    </Typography.Text>\n                  </CopyToClipboard>\n                </Tooltip>\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n      ))}\n    </Row>\n  )\n}\n\nconst AmountMembers = ({ daoAddress }: { daoAddress: string }) => {\n  const members = useMembers(daoAddress)\n  const { metaData } = useMetaData(daoAddress)\n  const isMultisig = metaData?.daoType === 'multisig-dao'\n\n  const amountMembers = useMemo(() => {\n    if (!isMultisig) return members\n    const { members: daoMembers } = metaData\n    return daoMembers.length\n  }, [isMultisig, members, metaData])\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Space align=\"baseline\">\n          <Typography.Text className=\"caption\" type=\"secondary\">\n            Members\n          </Typography.Text>\n          {isMultisig && (\n            <Tooltip\n              placement=\"bottomLeft\"\n              overlayClassName=\"info-member\"\n              title={<InfoMember daoAddress={daoAddress} />}\n            >\n              <IonIcon\n                style={{ cursor: 'pointer' }}\n                name=\"information-circle-outline\"\n              />\n            </Tooltip>\n          )}\n        </Space>\n      </Col>\n      <Col span={24}> {numeric(amountMembers).format('0,0')}</Col>\n    </Row>\n  )\n}\nexport default AmountMembers\n","import { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { SystemProgram } from '@solana/web3.js'\nimport BN from 'bn.js'\nimport { useUI, useWallet } from '@senhub/providers'\n\nimport { Avatar, Button, Card, Col, Row, Space, Spin, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport StatisticCard from 'app/components/statisticCard'\nimport RegimeTag from 'app/components/regimeTag'\nimport AvatarNFT from 'app/components/avatarNFT'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport GradientAvatar from 'app/components/gradientAvatar'\nimport AmountMembers from './members'\n\nimport { AppState } from 'app/model'\nimport { numeric, shortenAddress } from 'shared/util'\nimport useMetaData from 'app/hooks/useMetaData'\nimport { getIcon, validURL } from 'app/helpers'\nimport configs from 'app/configs'\nimport { DaoDetailsProps } from './index'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst DaoInfo = ({ daoAddress }: DaoDetailsProps) => {\n  const daos = useSelector((state: AppState) => state.daos)\n  const {\n    ui: { width },\n  } = useUI()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { metaData, loading } = useMetaData(daoAddress)\n  const history = useHistory()\n\n  const { regime, nonce, mint, authority, isNft } = daos?.[daoAddress] || {\n    regime: {},\n    nonce: new BN(0),\n    mint: SystemProgram.programId,\n  }\n\n  const editDAO = () => history.push(`/app/${appId}/dao/${daoAddress}/edit`)\n\n  const mobileScreen = width < 768\n\n  return (\n    <Spin spinning={loading} tip=\"Loading...\">\n      <Card bordered={false}>\n        <Row gutter={[16, 16]}>\n          <Col span={24}>\n            <Row justify=\"space-between\" wrap={false}>\n              <Col>\n                <Row gutter={[16, 16]} wrap={false}>\n                  <Col>\n                    {!metaData?.image ? (\n                      <GradientAvatar\n                        seed={daoAddress}\n                        avatarProps={{ shape: 'square', size: 56 }}\n                      />\n                    ) : (\n                      <Avatar shape=\"square\" size={56} src={metaData?.image} />\n                    )}\n                  </Col>\n                  <Col flex={mobileScreen ? 'auto' : undefined}>\n                    <Space direction=\"vertical\" size={0}>\n                      <Typography.Title level={4}>\n                        {metaData?.daoName\n                          ? metaData.daoName\n                          : shortenAddress(daoAddress)}\n                      </Typography.Title>\n                      <Space size={0} style={{ marginLeft: -3 }}>\n                        {(metaData?.optionals || []).map(\n                          (url, idx) =>\n                            validURL(url) && (\n                              <Button\n                                size=\"small\"\n                                type=\"text\"\n                                onClick={() => window.open(url, '_blank')}\n                                icon={<IonIcon name={getIcon(url)} />}\n                                key={idx}\n                              />\n                            ),\n                        )}\n                      </Space>\n                    </Space>\n                  </Col>\n                </Row>\n              </Col>\n              <Col>\n                <Button\n                  type=\"text\"\n                  size=\"large\"\n                  onClick={editDAO}\n                  disabled={authority && walletAddress !== authority.toBase58()}\n                  style={{\n                    marginRight: -10,\n                    marginTop: -20,\n                  }}\n                  icon={<IonIcon name=\"open-outline\" />}\n                />\n              </Col>\n            </Row>\n          </Col>\n          <Col span={24}>\n            <Row gutter={[36, 16]}>\n              <Col xs={12} sm={6}>\n                <StatisticCard\n                  title=\"Proposals\"\n                  value={numeric(Number(nonce)).format('0,0')}\n                />\n              </Col>\n              <Col xs={12} sm={6}>\n                <AmountMembers daoAddress={daoAddress} />\n              </Col>\n              <Col xs={12} sm={6}>\n                <StatisticCard\n                  title=\"Vote by\"\n                  value={\n                    isNft ? (\n                      <AvatarNFT mintAddress={mint.toBase58()} />\n                    ) : (\n                      <Space>\n                        <MintAvatar mintAddress={mint.toBase58()} />\n                        <MintSymbol mintAddress={mint.toBase58()} />\n                      </Space>\n                    )\n                  }\n                />\n              </Col>\n              <Col xs={12} sm={6}>\n                <StatisticCard\n                  title=\"Regime\"\n                  value={<RegimeTag regime={regime} />}\n                />\n              </Col>\n            </Row>\n          </Col>\n          <Col span={24} className=\"scrollbar\" style={{ height: 66 }}>\n            <Typography.Paragraph\n              type=\"secondary\"\n              ellipsis={{ rows: 3, expandable: true, symbol: 'View more' }}\n              style={{ margin: 0 }}\n            >\n              {metaData?.description}\n            </Typography.Paragraph>\n          </Col>\n        </Row>\n      </Card>\n    </Spin>\n  )\n}\n\nexport default DaoInfo\n","import { BN, utils, web3 } from '@project-serum/anchor'\nimport { PublicKey } from '@solana/web3.js'\nimport { Leaf, MerkleDistributor } from '@sentre/utility'\nimport IPFS from 'app/helpers/ipfs'\nimport { CID } from 'ipfs-core'\n\nimport configs from 'app/configs'\nimport { getCID } from './index'\n\nconst {\n  sol: { utility },\n} = configs\n\nconst ipfs = new IPFS()\n\nconst CURRENT_TIME = Number(new Date())\nconst ONE_DAY = 24 * 60 * 60 * 1000\nconst ENDED_AT = CURRENT_TIME + 15 * ONE_DAY\n\nclass Distributor {\n  getTreeData = (pubkeys: PublicKey[]) => {\n    const balanceTree: Leaf[] = pubkeys.map((pubkey, index) => {\n      return {\n        authority: pubkey,\n        amount: new BN(1),\n        startedAt: new BN(0),\n        salt: MerkleDistributor.salt(index.toString()),\n      }\n    })\n    const merkleDistributor = new MerkleDistributor(balanceTree)\n    const dataBuffer = merkleDistributor.toBuffer()\n    return dataBuffer\n  }\n\n  createDistributor = async (pubkeys: PublicKey[], mintAddress: string) => {\n    const treeData = this.getTreeData(pubkeys)\n    const merkleDistributor = MerkleDistributor.fromBuffer(treeData)\n\n    const cid = await ipfs.set(treeData.toJSON().data)\n    const {\n      multihash: { digest },\n    } = CID.parse(cid)\n\n    const metadata = Buffer.from(digest)\n\n    const { distributorAddress } = await utility.initializeDistributor({\n      tokenAddress: mintAddress,\n      total: merkleDistributor.getTotal(),\n      merkleRoot: merkleDistributor.deriveMerkleRoot(),\n      metadata,\n      endedAt: ENDED_AT / 1000,\n    })\n\n    return distributorAddress\n  }\n\n  createDistributorInstruction = async (\n    walletAddress: string,\n    pubkeys: PublicKey[],\n    mintAddress: string,\n  ) => {\n    const treeData = this.getTreeData(pubkeys)\n    const merkleDistributor = MerkleDistributor.fromBuffer(treeData)\n\n    const cid = await ipfs.set(treeData.toJSON().data)\n    const {\n      multihash: { digest },\n    } = CID.parse(cid)\n\n    const walletPublicKey = new PublicKey(walletAddress)\n    const tokenPublicKey = new PublicKey(mintAddress)\n    const metadata = Buffer.from(digest)\n    const distributor = web3.Keypair.generate()\n    const srcPublicKey = await utils.token.associatedAddress({\n      mint: tokenPublicKey,\n      owner: walletPublicKey,\n    })\n    const treasurer = await utility.deriveTreasurerAddress(\n      distributor.publicKey.toBase58(),\n    )\n    const treasury = await utils.token.associatedAddress({\n      mint: tokenPublicKey,\n      owner: new PublicKey(treasurer),\n    })\n    return utility.program.methods\n      .initializeDistributor(\n        Array.from(merkleDistributor.deriveMerkleRoot()),\n        merkleDistributor.getTotal(),\n        new BN(ENDED_AT / 1000),\n        Array.from(metadata),\n        new BN(0),\n      )\n      .accounts({\n        authority: new PublicKey(walletAddress),\n        distributor: distributor.publicKey,\n        src: srcPublicKey,\n        treasurer,\n        treasury,\n        feeCollector: new PublicKey(walletAddress),\n        mint: tokenPublicKey,\n        tokenProgram: utils.token.TOKEN_PROGRAM_ID,\n        associatedTokenProgram: utils.token.ASSOCIATED_PROGRAM_ID,\n        systemProgram: web3.SystemProgram.programId,\n        rent: web3.SYSVAR_RENT_PUBKEY,\n      })\n      .instruction()\n  }\n\n  getMintAddress = async (distributorAddress: string) => {\n    const distributor = await utility.program.account.distributor.fetch(\n      distributorAddress,\n    )\n    return distributor.mint.toBase58()\n  }\n\n  getMerkleDistributor = async (distributorAddress: string) => {\n    const distributor = await utility.program.account.distributor.fetch(\n      distributorAddress,\n    )\n    const cid = await getCID(distributor.metadata)\n    const data = await ipfs.get<any>(cid)\n    const merkleDistributor = MerkleDistributor.fromBuffer(Buffer.from(data))\n    return merkleDistributor\n  }\n\n  getRecipientData = async (\n    walletAddress: string,\n    distributorAddress: string,\n  ) => {\n    const merkleDistributor = await this.getMerkleDistributor(\n      distributorAddress,\n    )\n    for (const recipient of merkleDistributor.receipients) {\n      const authorityAddress = recipient.authority.toBase58()\n      if (walletAddress === authorityAddress) return recipient\n    }\n  }\n\n  getReceiptData = async (\n    walletAddress: string,\n    distributorAddress: string,\n  ) => {\n    const recipientData = await this.getRecipientData(\n      walletAddress,\n      distributorAddress,\n    )\n    if (!recipientData) return false\n    const { salt } = recipientData\n    const receiptAddress = await utility.deriveReceiptAddress(\n      salt,\n      distributorAddress,\n    )\n    const receiptData = await utility.getReceiptData(receiptAddress)\n\n    return receiptData\n  }\n\n  claimToken = async (walletAddress: string, distributorAddress: string) => {\n    const recipientData = await this.getRecipientData(\n      walletAddress,\n      distributorAddress,\n    )\n    if (!recipientData) throw new Error('You not on the list')\n\n    const merkleDistributor = await this.getMerkleDistributor(\n      distributorAddress,\n    )\n    const proof = merkleDistributor.deriveProof(recipientData)\n\n    const { txId } = await utility.claim({\n      distributorAddress,\n      proof,\n      data: recipientData,\n    })\n    return txId\n  }\n}\n\nexport default Distributor\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useAccount, useWallet } from '@senhub/providers'\n\nimport { Button, Col, Image, Modal, Row, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { DaoDetailsProps } from './index'\nimport useMetaData from 'app/hooks/useMetaData'\nimport Distributor from 'app/helpers/distributor'\nimport { explorer } from 'shared/util'\nimport BG_JOIN_DAO from 'app/static/images/system/bg-join-dao.png'\n\nconst JoinDao = ({ daoAddress }: DaoDetailsProps) => {\n  const [visible, setVisible] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { metaData } = useMetaData(daoAddress)\n  const { accounts } = useAccount()\n\n  const listMint = useMemo(() => {\n    const mints = []\n    for (const accountAddr in accounts) {\n      mints.push(accounts[accountAddr].mint)\n    }\n    return mints\n  }, [accounts])\n\n  const isValidAccount = useCallback(async () => {\n    try {\n      if (!metaData || !metaData.distributorAddress) return setVisible(false)\n      const { distributorAddress, members } = metaData\n      const distributor = new Distributor()\n      const mintAddress = await distributor.getMintAddress(distributorAddress)\n      const membersAddress = members.map((member) => member.walletAddress)\n\n      if (\n        membersAddress.includes(walletAddress) &&\n        !listMint.includes(mintAddress)\n      )\n        return setVisible(true)\n\n      const recipientData = await distributor.getRecipientData(\n        walletAddress,\n        distributorAddress,\n      )\n      if (!recipientData) return setVisible(false) // not in list\n\n      const receiptData = await distributor.getReceiptData(\n        walletAddress,\n        distributorAddress,\n      )\n      if (receiptData) return setVisible(false) // claimed\n      return setVisible(false)\n    } catch (error) {\n      return setVisible(true) // Not claim\n    }\n  }, [listMint, metaData, walletAddress])\n\n  const onClaim = async () => {\n    if (!metaData || !metaData.distributorAddress) return\n    const { distributorAddress } = metaData\n    try {\n      setLoading(true)\n      const distributor = new Distributor()\n      const recipientData = await distributor.getRecipientData(\n        walletAddress,\n        distributorAddress,\n      )\n      if (!recipientData) return\n\n      const txId = await distributor.claimToken(\n        walletAddress,\n        distributorAddress,\n      )\n      return window.notify({\n        type: 'success',\n        description: 'Join the DAO successfully. Click here to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (er: any) {\n      return window.notify({\n        type: 'success',\n        description: er.message,\n      })\n    } finally {\n      setLoading(false)\n      setVisible(false)\n    }\n  }\n\n  useEffect(() => {\n    isValidAccount()\n  }, [isValidAccount])\n\n  return (\n    <Modal\n      visible={visible}\n      onCancel={() => setVisible(false)}\n      closeIcon={<IonIcon name=\"close-outline\" />}\n      footer={null}\n      className=\"join-dao\"\n      bodyStyle={{ padding: '72px 24px 24px 24px' }}\n    >\n      <Image preview={false} src={BG_JOIN_DAO} />\n      <Row\n        className=\"join-dao_content\"\n        gutter={[48, 48]}\n        style={{ textAlign: 'center' }}\n      >\n        <Col span={24}>\n          <Row gutter={[12, 12]}>\n            <Col span={24}>\n              <Typography.Title\n                style={{ fontSize: 32 }}\n                className=\"join-dao_title\"\n                level={2}\n              >\n                Welcome to the DAO\n              </Typography.Title>\n            </Col>\n            <Col span={24}>\n              <Typography.Text style={{ fontSize: 16 }}>\n                Click the button below to become <br /> an official member of\n                DAO\n              </Typography.Text>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Button\n            block\n            size=\"large\"\n            loading={loading}\n            onClick={onClaim}\n            type=\"primary\"\n          >\n            Get started\n          </Button>\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\n\nexport default JoinDao\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport LazyLoad from '@sentre/react-lazyload'\nimport axios from 'axios'\n\nimport { Card, Col, Image, Row } from 'antd'\n\nimport useNftMetaData from 'app/hooks/useNftMetaData'\nimport { fetchYourOwnerNTFs, MetadataDataType } from 'app/helpers/metaplex'\nimport { AppState } from 'app/model'\n\nimport IMAGE_DEFAULT from 'app/static/images/system/nft.jpeg'\n\nconst NftTreasury = ({ daoAddress }: { daoAddress: string }) => {\n  const [listNFTs, setListNFTs] = useState<MetadataDataType[]>()\n  const daos = useSelector((state: AppState) => state.daos)\n\n  const daoMasterAddress = useMemo(() => {\n    const { master } = daos[daoAddress] || {}\n    return master?.toBase58() || ''\n  }, [daos, daoAddress])\n\n  const getYourOwnerNFTs = useCallback(async () => {\n    const nfts = await fetchYourOwnerNTFs(daoMasterAddress)\n    return setListNFTs(nfts)\n  }, [daoMasterAddress])\n\n  useEffect(() => {\n    getYourOwnerNFTs()\n  }, [getYourOwnerNFTs])\n\n  return (\n    <Row gutter={[8, 8]} className=\"scrollbar\" style={{ height: 160 }}>\n      {listNFTs &&\n        listNFTs.map((nft) => (\n          <Col xs={8} md={8} key={nft.mint}>\n            <LazyLoad height={87}>\n              <CardNFT mintAddress={nft.mint} />\n            </LazyLoad>\n          </Col>\n        ))}\n    </Row>\n  )\n}\n\nexport default NftTreasury\n\nconst CardNFT = ({ mintAddress }: { mintAddress: string }) => {\n  const [nftImg, setNftImg] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const { metadata } = useNftMetaData(mintAddress)\n\n  const getNftInfoFromURI = useCallback(async () => {\n    if (!metadata) return setNftImg(IMAGE_DEFAULT)\n    try {\n      setLoading(true)\n      const url = metadata.data.data.uri\n      if (!url) return setNftImg(IMAGE_DEFAULT)\n\n      const response = await axios.get(url)\n      const img = response.data.image\n      return setNftImg(img)\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }, [metadata])\n\n  useEffect(() => {\n    getNftInfoFromURI()\n  }, [getNftInfoFromURI])\n\n  return (\n    <Card\n      bordered={false}\n      style={{ cursor: 'pointer' }}\n      bodyStyle={{ padding: 8 }}\n      loading={loading}\n    >\n      <Row gutter={[8, 8]}>\n        <Col span={24}>\n          <Image\n            src={nftImg}\n            preview={false}\n            style={{ borderRadius: 4 }}\n            width={87}\n            height={87}\n          />\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { AccountData, utils } from '@senswap/sen-js'\nimport { useMint } from '@senhub/providers'\n\nimport { fetchCGK } from 'shared/util'\nimport TokenProvider from 'shared/tokenProvider'\n\nconst DEFAULT_DATA = {\n  address: '',\n  icon: '',\n  name: 'TOKEN',\n  price: 0,\n  priceChange: 0,\n  rank: 0,\n  symbol: 'TOKEN',\n  totalVolume: 0,\n}\n\nexport const fetchCgkData = async (\n  tokenProvider: TokenProvider,\n  mintAddress: string,\n) => {\n  try {\n    const token = await tokenProvider.findByAddress(mintAddress)\n    const ticket = token?.extensions?.coingeckoId\n    const cgkData = await fetchCGK(ticket)\n    return cgkData\n  } catch (error) {\n    return DEFAULT_DATA\n  }\n}\n\nexport const getBalance = async (\n  inUSD: boolean,\n  tokenProvider: TokenProvider,\n  mintAddress: string,\n  decimals: number,\n  amount: bigint,\n) => {\n  const cgkData = await fetchCgkData(tokenProvider, mintAddress)\n  let balance = Number(utils.undecimalize(amount, decimals))\n  if (inUSD) balance = Number(balance) * cgkData.price\n\n  return balance\n}\n\nconst useTotalUSD = ({\n  inUSD = true,\n  accounts,\n}: {\n  inUSD?: boolean\n  accounts: AccountData[]\n}) => {\n  const { tokenProvider, getDecimals } = useMint()\n  const [totalUSD, setTotalUSD] = useState(0)\n\n  const clcTotalUSD = useCallback(async () => {\n    if (!accounts) return setTotalUSD(0)\n    let totalUSD = 0\n    for (const account of accounts) {\n      const { mint, amount } = account\n      const decimals = await getDecimals(mint)\n      const balance = await getBalance(\n        inUSD,\n        tokenProvider,\n        mint,\n        decimals,\n        amount,\n      )\n      totalUSD += balance\n    }\n    return setTotalUSD(totalUSD)\n  }, [accounts, getDecimals, tokenProvider, inUSD])\n\n  useEffect(() => {\n    clcTotalUSD()\n  }, [clcTotalUSD])\n\n  return totalUSD\n}\n\nexport default useTotalUSD\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\n\n/**\n * Get token decimals from multiple resources. This hook needs MintProvider for working.\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * @param mintAddress Mint address\n * @returns Decimals\n */\nconst useMintDecimals = (mintAddress: string) => {\n  const [decimals, setDecimals] = useState<number | undefined>(undefined)\n  const { getDecimals } = useMint()\n\n  const fetchDecimals = useCallback(async () => {\n    try {\n      const decimals = await getDecimals(mintAddress)\n      return setDecimals(decimals)\n    } catch (er: any) {\n      return setDecimals(undefined)\n    }\n  }, [mintAddress, getDecimals])\n\n  useEffect(() => {\n    fetchDecimals()\n  }, [fetchDecimals])\n\n  return decimals\n}\n\nexport default useMintDecimals\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\nimport { AccountData } from '@senswap/sen-js'\n\nimport { Col, Row, Space, Typography } from 'antd'\n\nimport { getBalance } from 'app/hooks/useBalance'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\n\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport { numeric } from 'shared/util'\n\nconst MintBalance = ({ account }: { account: AccountData }) => {\n  const [usdBalance, setUSDBalance] = useState(0)\n  const [mintBalance, setMintBalance] = useState(0)\n\n  const { mint, amount } = account\n  const { tokenProvider } = useMint()\n  const decimals = useMintDecimals(mint) || 0\n\n  const fetchBalance = useCallback(async () => {\n    const mintBalance = await getBalance(\n      false,\n      tokenProvider,\n      mint,\n      decimals,\n      amount,\n    )\n    const usdBalance = await getBalance(\n      true,\n      tokenProvider,\n      mint,\n      decimals,\n      amount,\n    )\n    setMintBalance(mintBalance)\n    setUSDBalance(usdBalance)\n  }, [amount, decimals, mint, tokenProvider])\n\n  useEffect(() => {\n    fetchBalance()\n  }, [fetchBalance])\n\n  return (\n    <Row align=\"middle\">\n      <Col flex=\"auto\">\n        <Space>\n          <MintAvatar mintAddress={mint} />\n          <Space size={4}>\n            {numeric(mintBalance).format('0,0.[000]')}\n            <Typography.Text type=\"secondary\">\n              <MintSymbol mintAddress={mint} />\n            </Typography.Text>\n          </Space>\n        </Space>\n      </Col>\n      <Col>\n        <Typography.Text type=\"secondary\">\n          ${numeric(usdBalance).format('0,0.[000]')}\n        </Typography.Text>\n      </Col>\n    </Row>\n  )\n}\n\nexport default MintBalance\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account, AccountData } from '@senswap/sen-js'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { Col, Row, Space, Tooltip, Typography } from 'antd'\nimport MintBalance from './mintBalance'\nimport RowSpaceBetween from 'app/components/rowSpaceBetween'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { AppState } from 'app/model'\nimport useTotalUSD from 'app/hooks/useBalance'\nimport { asyncWait, numeric, shortenAddress } from 'shared/util'\n\nconst InfoDAOMaster = ({ daoAddress }: { daoAddress: string }) => {\n  const [copied, setCopied] = useState(false)\n\n  const onCopy = async () => {\n    setCopied(true)\n    await asyncWait(1500)\n    setCopied(false)\n  }\n\n  return (\n    <Row>\n      <Col span={24}>\n        <Space size={8}>\n          <IonIcon\n            name=\"information-circle-outline\"\n            style={{ color: '#f9deb0' }}\n          />\n          <Typography.Text>\n            The treasury should be deposited to facilitate proposals.\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col>\n        <RowSpaceBetween\n          label=\"Treasury Address\"\n          value={\n            <Space>\n              <Typography.Text className=\"t-16\">\n                {shortenAddress(daoAddress)}\n              </Typography.Text>\n              <Tooltip title=\"Copied\" visible={copied}>\n                <CopyToClipboard text={daoAddress} onCopy={onCopy}>\n                  <Typography.Text\n                    style={{ cursor: 'pointer' }}\n                    className=\"t-16\"\n                  >\n                    <IonIcon name=\"copy-outline\" />\n                  </Typography.Text>\n                </CopyToClipboard>\n              </Tooltip>\n            </Space>\n          }\n        />\n      </Col>\n    </Row>\n  )\n}\n\nconst Treasury = ({ daoAddress }: { daoAddress: string }) => {\n  const [listAccount, setListAccount] = useState<AccountData[]>([])\n  const totalUSD = useTotalUSD({ accounts: listAccount })\n\n  const daos = useSelector((state: AppState) => state.daos)\n\n  const daoMasterAddress = useMemo(() => {\n    const { master } = daos[daoAddress] || {}\n    return master?.toBase58() || ''\n  }, [daos, daoAddress])\n\n  const fetchAccount = useCallback(async () => {\n    if (!daoMasterAddress) return\n\n    const { splt } = window.sentre\n    const ownerPublicKey = account.fromAddress(daoMasterAddress)\n    const { value } = await splt.connection.getTokenAccountsByOwner(\n      ownerPublicKey,\n      { programId: splt.spltProgramId },\n    )\n    let bulk: AccountData[] = []\n    await Promise.all(\n      value.map(async ({ account: { data: buf } }) => {\n        const data = splt.parseAccountData(buf)\n        const mintInfo = await splt.getMintData(data.mint)\n        if (!(mintInfo.decimals === 0) && !(Number(mintInfo.supply) === 1))\n          return bulk.push(data)\n      }),\n    )\n    return setListAccount(bulk)\n  }, [daoMasterAddress])\n\n  useEffect(() => {\n    fetchAccount()\n  }, [fetchAccount])\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Row align=\"middle\">\n          <Col flex=\"auto\">\n            <Space align=\"baseline\">\n              <Typography.Text type=\"secondary\">\n                Treasury Balance\n              </Typography.Text>\n              <Tooltip\n                placement=\"bottomLeft\"\n                overlayClassName=\"info-member treasury-addr\"\n                title={<InfoDAOMaster daoAddress={daoMasterAddress} />}\n              >\n                <IonIcon\n                  style={{ cursor: 'pointer' }}\n                  name=\"information-circle-outline\"\n                />\n              </Tooltip>\n            </Space>\n          </Col>\n          <Col>\n            <Typography.Title level={4}>\n              ${numeric(totalUSD).format('0,0.[000]')}\n            </Typography.Title>\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[24, 24]} className=\"scrollbar\" style={{ height: 124 }}>\n          {listAccount &&\n            listAccount.map((account) => (\n              <Col span={24} key={account.mint}>\n                <MintBalance account={account} />\n              </Col>\n            ))}\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Treasury\n","import { Card, Tabs } from 'antd'\nimport NftTreasury from './nftsTreasury'\nimport Treasury from './treasury'\n\nconst DaoOwnerAssets = ({ daoAddress }: { daoAddress: string }) => {\n  return (\n    <Card bordered={false}>\n      <Tabs className=\"dao-assets\">\n        <Tabs.TabPane tab=\"Treasury\" key=\"treasury\">\n          <Treasury daoAddress={daoAddress} />\n        </Tabs.TabPane>\n        <Tabs.TabPane tab=\"NFTs\" key=\"nft\">\n          <NftTreasury daoAddress={daoAddress} />\n        </Tabs.TabPane>\n      </Tabs>\n    </Card>\n  )\n}\n\nexport default DaoOwnerAssets\n","import { Col, Row } from 'antd'\nimport DaoInfo from './daoInfo'\nimport JoinDao from './joinDao'\nimport DaoOwnerAssets from './daoOwnerAssets'\n\nimport './index.less'\n\nexport type DaoDetailsProps = { daoAddress: string }\n\nconst DaoDetails = ({ daoAddress }: DaoDetailsProps) => {\n  return (\n    <Row gutter={[24, 24]}>\n      <Col xs={24} md={16}>\n        <DaoInfo daoAddress={daoAddress} />\n      </Col>\n      <Col xs={24} md={8}>\n        <DaoOwnerAssets daoAddress={daoAddress} />\n      </Col>\n      <JoinDao daoAddress={daoAddress} />\n    </Row>\n  )\n}\n\nexport default DaoDetails\n","import { useEffect } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\nimport { DaoData } from '@interdao/core'\n\nimport { Button, Col, Row } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ProposalList from './proposalList'\nimport DaoDetails from '../dao/daoDetails'\n\nimport configs from 'app/configs'\nimport useValidDaoMember from 'app/hooks/dao/useValidDaoMember'\nimport { AppState } from 'app/model'\n\nimport './index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst Proposal = () => {\n  const history = useHistory()\n  const { daoAddress } = useParams<{ daoAddress: string }>()\n  const daoData = useSelector((state: AppState) => state.daos[daoAddress])\n  const { isPublic } = daoData || ({} as DaoData)\n  const { validMember, checking } = useValidDaoMember(daoAddress)\n\n  useEffect(() => {\n    if (checking) return\n    if (!validMember && !isPublic) {\n      window.notify({\n        type: 'warning',\n        description: 'You are not a member of this DAO',\n      })\n      return history.push(`/app/${appId}/dao`)\n    }\n  }, [checking, daoAddress, history, isPublic, validMember])\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\" align=\"middle\">\n      <Col xs={24} lg={18}>\n        <Row gutter={[16, 16]}>\n          <Col span={24}>\n            <Button\n              icon={<IonIcon name=\"arrow-back-outline\" />}\n              type=\"text\"\n              onClick={() => history.push(`/app/${appId}/dao`)}\n              style={{ marginLeft: -8 }}\n            >\n              Back\n            </Button>\n          </Col>\n          <Col span={24}>\n            <DaoDetails daoAddress={daoAddress} />\n          </Col>\n        </Row>\n      </Col>\n      <Col xs={24} lg={18}>\n        <ProposalList daoAddress={daoAddress} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Proposal\n","import { ConsensusMechanism, ConsensusMechanisms } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\nimport { useUI } from '@senhub/providers'\n\nimport { Button, Row, Col, Space, Typography, Popover } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nexport type ConsensusMechanismInputProps = {\n  value: ConsensusMechanism\n  onChange: (value: ConsensusMechanism) => void\n}\n\nconst ConsensusMechanismInput = ({\n  value = ConsensusMechanisms.StakedTokenCounter,\n  onChange = () => {},\n}: ConsensusMechanismInputProps) => {\n  const {\n    ui: { infix },\n  } = useUI()\n  const mobileScreen = infix === 'xs'\n  const mobileSpan = mobileScreen ? 12 : undefined\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Space>\n          <Typography.Text>Consensus Mechanism</Typography.Text>\n          <Popover\n            overlayStyle={{ maxWidth: 300 }}\n            trigger=\"click\"\n            content={\n              <Row gutter={[16, 16]}>\n                <Col span={24}>\n                  <Typography.Title level={5}>\n                    What are Consensus Mechanisms?\n                  </Typography.Title>\n                </Col>\n                <Col span={24}>\n                  <Space direction=\"vertical\">\n                    <Typography.Text>\n                      <strong>Staked (Token) Counter.</strong> The power of a\n                      vote is only counted based on the number of staked tokens.\n                    </Typography.Text>\n                    <Typography.Text>\n                      <strong>Locked (Token) Counter.</strong> The power of a\n                      vote is the product of the number of staked tokens and the\n                      lock time in seconds.\n                    </Typography.Text>\n                  </Space>\n                </Col>\n              </Row>\n            }\n          >\n            <Button\n              type=\"text\"\n              size=\"small\"\n              icon={<IonIcon name=\"information-circle-outline\" />}\n            />\n          </Popover>\n        </Space>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusMechanisms.StakedTokenCounter)\n              ? ''\n              : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusMechanisms.StakedTokenCounter)}\n          block\n        >\n          Staked Counter\n        </Button>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusMechanisms.LockedTokenCounter)\n              ? ''\n              : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusMechanisms.LockedTokenCounter)}\n          block\n        >\n          Locked Counter\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ConsensusMechanismInput\n","import { ConsensusQuorum, ConsensusQuorums } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\nimport { useUI } from '@senhub/providers'\n\nimport { Button, Row, Col, Typography } from 'antd'\n\nexport type ConsensusQuorumInputProps = {\n  value: ConsensusQuorum\n  onChange: (value: ConsensusQuorum) => void\n}\n\nconst ConsensusQuorumInput = ({\n  value = ConsensusQuorums.Half,\n  onChange = () => {},\n}: ConsensusQuorumInputProps) => {\n  const {\n    ui: { infix },\n  } = useUI()\n  const mobileScreen = infix === 'xs'\n  const mobileSpan = mobileScreen ? 8 : undefined\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <Typography.Text>Consensus Quorum</Typography.Text>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusQuorums.OneThird) ? '' : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusQuorums.OneThird)}\n          block\n        >\n          1/3\n        </Button>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusQuorums.Half) ? '' : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusQuorums.Half)}\n          block\n        >\n          1/2\n        </Button>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusQuorums.TwoThird) ? '' : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusQuorums.TwoThird)}\n          block\n        >\n          2/3\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ConsensusQuorumInput\n","import moment from 'moment'\n\nimport { Col, DatePicker, Row, Typography } from 'antd'\n\nexport type DurationInputType = {\n  value: Array<number>\n  onChange: (value: Array<number>) => void\n}\n\nconst DurationInput = ({ value, onChange }: DurationInputType) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Typography.Text>Proposal Duration</Typography.Text>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[12, 12]}>\n          <Col span={12}>\n            <DatePicker\n              placeholder=\"Start Date\"\n              value={moment(value[0])}\n              onChange={(e) => onChange([e?.valueOf() || value[0], value[1]])}\n              showTime\n              style={{ width: '100%' }}\n            />\n          </Col>\n          <Col span={12}>\n            <DatePicker\n              placeholder=\"End Date\"\n              value={moment(value[1])}\n              onChange={(e) => onChange([value[0], e?.valueOf() || value[1]])}\n              showTime\n              style={{ width: '100%' }}\n            />\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DurationInput\n","import { useSelector } from 'react-redux'\nimport { DaoData } from '@interdao/core'\nimport { SystemProgram } from '@solana/web3.js'\n\nimport { Col, Row, Space } from 'antd'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport StatisticCard from 'app/components/statisticCard'\nimport RegimeTag from 'app/components/regimeTag'\nimport AvatarNFT from 'app/components/avatarNFT'\n\nimport { AppState } from 'app/model'\nimport { numeric, shortenAddress } from 'shared/util'\nimport useMembers from 'app/hooks/useMembers'\n\nexport type ProposalPreviewProps = {\n  daoAddress: string\n}\n\nconst ProposalPreview = ({ daoAddress }: ProposalPreviewProps) => {\n  const daos = useSelector((state: AppState) => state.daos)\n  const { regime, mint, isNft } =\n    daos[daoAddress] ||\n    ({\n      regime: {},\n      mint: SystemProgram.programId,\n    } as DaoData)\n  const members = useMembers(daoAddress)\n\n  return (\n    <Row gutter={[36, 16]}>\n      <Col xs={12} md={5}>\n        <StatisticCard title=\"DAO Address\" value={shortenAddress(daoAddress)} />\n      </Col>\n      <Col xs={12} md={5}>\n        <StatisticCard\n          title=\"Vote By\"\n          value={\n            isNft ? (\n              <AvatarNFT mintAddress={mint.toBase58()} />\n            ) : (\n              <Space>\n                <MintAvatar mintAddress={mint.toBase58()} />\n                <MintSymbol mintAddress={mint.toBase58()} />\n              </Space>\n            )\n          }\n        />\n      </Col>\n      <Col xs={12} md={5}>\n        <StatisticCard title=\"Members\" value={numeric(members).format('0,0')} />\n      </Col>\n      <Col xs={12} md={5}>\n        <StatisticCard title=\"Regime\" value={<RegimeTag regime={regime} />} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default ProposalPreview\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { ConsensusMechanisms, ConsensusQuorums } from '@interdao/core'\nimport BN from 'bn.js'\nimport { CID } from 'ipfs-core'\n\nimport { Button, Card, Col, Divider, Input, Row, Space, Typography } from 'antd'\nimport ConsensusMechanismInput from './consensusMechanismInput'\nimport ConsensusQuorumInput from '../../../components/consensusQuorumInput'\nimport DurationInput from './durationInput'\nimport ProposalPreview from './proposalPreview'\n\nimport configs from 'app/configs'\nimport { explorer } from 'shared/util'\nimport IPFS from 'app/helpers/ipfs'\nimport { AppState } from 'app/model'\nimport { clearTx } from 'app/model/template.controller'\nimport useMetaData from 'app/hooks/useMetaData'\n\nconst {\n  sol: { interDao, taxman, fee },\n  manifest: { appId },\n} = configs\n\nexport type ProposalMetaData = {\n  title: string\n  description: string\n  templateName: string\n  templateData?: any\n}\n\nconst CURRENT_TIME = Number(new Date())\nconst ONE_DAY = 24 * 60 * 60 * 1000\nconst DEFAULT_DURATION = [CURRENT_TIME + ONE_DAY, CURRENT_TIME + 15 * ONE_DAY]\n\nconst ProposalInitialization = () => {\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const { daoAddress } = useParams<{ daoAddress: string }>()\n\n  const daos = useSelector((state: AppState) => state.daos)\n  const template = useSelector((state: AppState) => state.template)\n\n  const [consensusMechanism, setConsensusMechanism] = useState(\n    ConsensusMechanisms.StakedTokenCounter,\n  )\n  const [consensusQuorum, setConsensusQuorum] = useState(ConsensusQuorums.Half)\n  const [duration, setDuration] = useState([...DEFAULT_DURATION])\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const { metaData: daoMetaData } = useMetaData(daoAddress)\n\n  const disabled = !title || !description\n  const isMultisigDAO = daoMetaData?.daoType === 'multisig-dao'\n\n  const proposalMetaData: ProposalMetaData = useMemo(() => {\n    return {\n      title,\n      description,\n      templateName: template.templateName || '',\n      templateData: template.data,\n    }\n  }, [description, template, title])\n\n  const uploadMetaData = useCallback(async () => {\n    const ipfs = new IPFS()\n    const cid = await ipfs.set(proposalMetaData)\n    const {\n      multihash: { digest },\n    } = CID.parse(cid)\n    return digest\n  }, [proposalMetaData])\n\n  const newProposal = useCallback(async () => {\n    const { authority } = daos[daoAddress]\n    if (!template.tx) return\n    try {\n      setLoading(true)\n      const digest = await uploadMetaData()\n\n      const metadata = Buffer.from(digest)\n      const { programId, data, accounts } = template.tx\n      const valueAccounts = Object.values(accounts)\n\n      const { txId, proposalAddress } = await interDao.initializeProposal(\n        daoAddress,\n        programId.toBase58(),\n        data,\n        valueAccounts.map(({ pubkey }) => pubkey),\n        valueAccounts.map(({ isSigner }) => isSigner),\n        valueAccounts.map(({ isWritable }) => isWritable),\n        valueAccounts.map(({ isMaster }) => isMaster),\n        Math.floor(duration[0] / 1000),\n        Math.floor(duration[1] / 1000),\n        metadata,\n        consensusMechanism,\n        consensusQuorum,\n        {\n          revenue: new BN(fee),\n          revenuemanAddress: authority.toBase58(),\n          tax: new BN(fee),\n          taxmanAddress: taxman,\n        },\n      )\n      window.notify({\n        type: 'success',\n        description:\n          'Create a new proposal successfully. Click here to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n\n      //Clear tx in redux\n      dispatch(clearTx())\n      return history.push(\n        `/app/${appId}/dao/${daoAddress}/proposal/${proposalAddress}`,\n      )\n    } catch (er: any) {\n      return window.notify({\n        type: 'error',\n        description: er.message,\n      })\n    } finally {\n      return setLoading(false)\n    }\n  }, [\n    consensusMechanism,\n    consensusQuorum,\n    daoAddress,\n    daos,\n    dispatch,\n    duration,\n    history,\n    template.tx,\n    uploadMetaData,\n  ])\n\n  useEffect(() => {\n    if (!template.tx) return history.push(`/app/${appId}/dao/${daoAddress}`)\n  }, [daoAddress, history, template.tx])\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\">\n      <Col xs={24} md={14}>\n        <Card bordered={false}>\n          <Row gutter={[24, 24]}>\n            <Col span={24}>\n              <Typography.Title level={1}>\n                Input proposal information\n              </Typography.Title>\n            </Col>\n            <Col span={24} />\n            <Col span={24}>\n              <ProposalPreview daoAddress={daoAddress} />\n            </Col>\n            <Col span={24}>\n              <Divider className=\"proposal-initialize\" />\n            </Col>\n            <Col span={24}>\n              <Space direction=\"vertical\" style={{ width: '100%' }}>\n                <Typography.Text>Title</Typography.Text>\n                <Input\n                  value={title}\n                  placeholder=\"A short summary of your proposal.\"\n                  className=\"border-less\"\n                  onChange={(e) => setTitle(e.target.value)}\n                />\n              </Space>\n            </Col>\n            <Col span={24}>\n              <Space direction=\"vertical\" style={{ width: '100%' }}>\n                <Typography.Text>Description</Typography.Text>\n                <Input.TextArea\n                  placeholder=\"More detail about your proposal...\"\n                  name=\"description\"\n                  className=\"border-less\"\n                  value={description}\n                  onChange={(e) => setDescription(e.target.value)}\n                />\n              </Space>\n            </Col>\n            <Col span={24}>\n              <DurationInput value={duration} onChange={setDuration} />\n            </Col>\n            {!isMultisigDAO && (\n              <Col span={24}>\n                <ConsensusMechanismInput\n                  value={consensusMechanism}\n                  onChange={setConsensusMechanism}\n                />\n              </Col>\n            )}\n            <Col span={24}>\n              <ConsensusQuorumInput\n                value={consensusQuorum}\n                onChange={setConsensusQuorum}\n              />\n            </Col>\n            <Col span={24} />\n            <Col flex=\"auto\">\n              <Button\n                type=\"text\"\n                onClick={() => history.push(`/app/${appId}/dao/${daoAddress}`)}\n                size=\"large\"\n              >\n                Cancel\n              </Button>\n            </Col>\n            <Col>\n              <Button\n                onClick={newProposal}\n                loading={loading}\n                type=\"primary\"\n                size=\"large\"\n                disabled={disabled}\n              >\n                Add a new Proposal\n              </Button>\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ProposalInitialization\n","import { Progress, Space, Typography } from 'antd'\n\nexport type InitDAOHeaderProps = {\n  step: number\n  onHandleStep?: () => void\n  disabled?: boolean\n}\n\nconst DEFAULT_PERCENT = 25\nconst DAO_PROGRESS_TITLE = [\n  'Choose type of DAO',\n  'Input DAO information',\n  'Set the rule',\n  'Review',\n]\n\nconst InitDAOHeader = ({ step }: InitDAOHeaderProps) => {\n  return (\n    <Space direction=\"vertical\" size={12}>\n      <Typography.Title level={1}>{DAO_PROGRESS_TITLE[step]}</Typography.Title>\n      <Progress\n        className=\"create-progress\"\n        percent={step * DEFAULT_PERCENT + DEFAULT_PERCENT}\n        steps={4}\n        showInfo={false}\n      />\n    </Space>\n  )\n}\n\nexport default InitDAOHeader\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { DaoRegime, DaoRegimes } from '@interdao/core'\nimport { web3 } from '@project-serum/anchor'\nimport BN from 'bn.js'\n\nexport const DEFAULT_META_DATA: MetaData = {\n  daoName: '',\n  description: '',\n  image: '',\n  optionals: [],\n  daoType: 'flexible-dao',\n  members: [],\n  distributorAddress: '',\n}\n\nexport const DEFAULT_DAO_DATA: CreateDaoData = {\n  mintAddress: '',\n  supply: new BN(0),\n  metadata: DEFAULT_META_DATA,\n  dao: undefined,\n  regime: DaoRegimes.Dictatorial,\n  isPublic: true,\n  isNft: false,\n}\n\n/**\n * Interface & Utility\n */\nexport type DaoType = 'flexible-dao' | 'multisig-dao'\n\nexport type CreateDaoData = {\n  mintAddress: string\n  supply: BN\n  metadata: MetaData\n  dao?: web3.Keypair\n  regime: DaoRegime\n  isPublic: boolean\n  isNft: boolean\n}\n\nexport type MetaData = {\n  daoName: string\n  description: string\n  image: string | ArrayBuffer | null\n  optionals: string[]\n  daoType: DaoType\n  members: DAOMember[]\n  distributorAddress: string\n}\n\nexport type DAOMember = {\n  name: string\n  walletAddress: string\n}\n\nexport enum CreateDaoSteps {\n  ChooseType,\n  InputDetails,\n  SetRule,\n  Review,\n}\n\nexport type CreateDaoState = {\n  step: CreateDaoSteps\n  data: CreateDaoData\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'createDao'\nconst initialState: CreateDaoState = {\n  step: CreateDaoSteps.ChooseType,\n  data: { ...DEFAULT_DAO_DATA },\n}\n\n/**\n * Actions\n */\n\nexport const submitStepChooseType = createAsyncThunk<\n  CreateDaoState,\n  { daoType: DaoType },\n  { state: { createDao: CreateDaoState } }\n>(`${NAME}/submitStepChooseType`, async ({ daoType }, { getState }) => {\n  const { createDao } = getState()\n  const { metadata } = createDao.data\n  const newState: CreateDaoState = {\n    step: CreateDaoSteps.InputDetails,\n    data: { ...createDao.data, metadata: { ...metadata, daoType } },\n  }\n  return newState\n})\n\nexport const submitStepDaoDetail = createAsyncThunk<\n  CreateDaoState,\n  { metadata: MetaData },\n  { state: { createDao: CreateDaoState } }\n>(`${NAME}/submitStepDaoDetail`, async ({ metadata }, { getState }) => {\n  const { createDao } = getState()\n\n  const newState: CreateDaoState = {\n    step: CreateDaoSteps.SetRule,\n    data: { ...createDao.data, metadata },\n  }\n  return newState\n})\n\nexport const submitStepSetRule = createAsyncThunk<\n  CreateDaoState,\n  { rule: Partial<CreateDaoData> },\n  { state: { createDao: CreateDaoState } }\n>(`${NAME}/submitStepSetRule`, async ({ rule }, { getState }) => {\n  const { createDao } = getState()\n  if (!rule) return createDao\n  const newState: CreateDaoState = {\n    step: CreateDaoSteps.Review,\n    data: { ...createDao.data, ...rule },\n  }\n  return newState\n})\n\nexport const revertPrevStep = createAsyncThunk<\n  CreateDaoState,\n  void,\n  { state: { createDao: CreateDaoState } }\n>(`${NAME}/prevStep`, async (_, { getState }) => {\n  const { createDao } = getState()\n  let prevStep = createDao.step\n  switch (prevStep) {\n    case CreateDaoSteps.Review:\n      prevStep = CreateDaoSteps.SetRule\n      break\n    case CreateDaoSteps.SetRule:\n      prevStep = CreateDaoSteps.InputDetails\n      break\n    case CreateDaoSteps.InputDetails:\n      prevStep = CreateDaoSteps.ChooseType\n      break\n    default:\n      prevStep = CreateDaoSteps.ChooseType\n      break\n  }\n  const newState: CreateDaoState = {\n    step: prevStep,\n    data: { ...createDao.data },\n  }\n  return newState\n})\n\nexport const clearCreateDao = createAsyncThunk<CreateDaoState>(\n  `${NAME}/clearCreateDao`,\n  async () => {\n    return {\n      step: CreateDaoSteps.ChooseType,\n      data: { ...DEFAULT_DAO_DATA },\n    }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        submitStepChooseType.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        submitStepDaoDetail.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        submitStepSetRule.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        revertPrevStep.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        clearCreateDao.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\n\nimport {\n  Button,\n  Card,\n  Col,\n  Radio,\n  RadioChangeEvent,\n  Row,\n  Typography,\n} from 'antd'\n\nimport { AppDispatch } from 'app/model'\nimport { DaoType, submitStepChooseType } from 'app/model/createDao.controller'\nimport configs from 'app/configs'\n\nconst DAO_TYPE = [\n  {\n    key: 'flexible-dao',\n    label: 'Flexible DAO',\n    description:\n      'The Flexible DAO has 3 regimes that allow you to create a DAO customized for your individual requirements, community structure, and governance token setup.',\n  },\n  {\n    key: 'multisig-dao',\n    label: 'MultiSig DAO',\n    description:\n      'The Multisig DAO allows you to create an organization for your team members with Autonomous regime and jointly own, manage shared assets such as treasury accounts, NFTs or mints.',\n  },\n]\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst ChooseDaoType = () => {\n  const [daoType, setDaoType] = useState<DaoType>('flexible-dao')\n  const history = useHistory()\n  const dispatch = useDispatch<AppDispatch>()\n\n  const cardBorder = (key: string) =>\n    daoType !== key ? { borderColor: 'transparent' } : {}\n\n  return (\n    <Row gutter={[32, 32]}>\n      <Col span={24}>\n        <Radio.Group\n          defaultValue={daoType}\n          onChange={(e: RadioChangeEvent) => setDaoType(e.target.value)}\n          className=\"btn-radio-card\"\n        >\n          <Row gutter={[24, 24]}>\n            {DAO_TYPE.map(({ key, label, description }) => (\n              <Col xs={24} md={12} key={key}>\n                <Radio.Button value={key} style={{ border: 'none' }}>\n                  <Card\n                    style={{ ...cardBorder(key) }}\n                    className={`group-btn-card ${key} ${\n                      daoType === key ? 'active' : ''\n                    }`}\n                    bordered={false}\n                  >\n                    <Row gutter={[12, 12]}>\n                      <Col span={24}>\n                        <Typography.Title level={4}>{label}</Typography.Title>\n                      </Col>\n                      <Col span={24}>\n                        <Typography.Text type=\"secondary\">\n                          {description}\n                        </Typography.Text>\n                      </Col>\n                    </Row>\n                  </Card>\n                </Radio.Button>\n              </Col>\n            ))}\n          </Row>\n        </Radio.Group>\n      </Col>\n      <Col span={24}>\n        <Row>\n          <Col flex=\"auto\">\n            <Button\n              type=\"text\"\n              onClick={() => history.push(`/app/${appId}/dao`)}\n              size=\"large\"\n            >\n              Cancel\n            </Button>\n          </Col>\n          <Col>\n            <Button\n              type=\"primary\"\n              onClick={() => dispatch(submitStepChooseType({ daoType }))}\n              size=\"large\"\n            >\n              Continue\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ChooseDaoType\n","import { ChangeEvent } from 'react'\n\nimport {\n  Button,\n  Card,\n  Col,\n  Image,\n  Input,\n  Row,\n  Space,\n  Typography,\n  Upload,\n} from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { UploadChangeParam } from 'antd/lib/upload'\nimport { fileToBase64 } from 'app/helpers'\nimport { MetaData } from 'app/model/createDao.controller'\n\ntype FormInputDetailProps = {\n  metadata: MetaData\n  setMetadata: (metadata: MetaData) => void\n}\n\nconst FormInputDetail = ({ metadata, setMetadata }: FormInputDetailProps) => {\n  const formatMetaData = async (imgBase64: string | ArrayBuffer | null) => {\n    const nextMetaData: MetaData = {\n      ...metadata,\n      image: imgBase64,\n    }\n    return setMetadata(nextMetaData)\n  }\n\n  const onFileChange = (file: UploadChangeParam) => {\n    const { fileList } = file\n    const originFile = fileList[0].originFileObj as File\n    fileToBase64(originFile, formatMetaData)\n  }\n\n  const onChange = (e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) =>\n    setMetadata({ ...metadata, [e.target.name]: e.target.value })\n\n  const onOptionalChange = (e: ChangeEvent<HTMLInputElement>, idx: number) => {\n    const socials: string[] = [...metadata.optionals]\n    socials[idx] = e.target.value\n    return setMetadata({ ...metadata, optionals: socials })\n  }\n\n  const addLink = () => {\n    const socials: string[] = [...metadata.optionals]\n    socials.push('')\n    return setMetadata({ ...metadata, optionals: socials })\n  }\n\n  const removeLink = (index: number) => {\n    const socials: string[] = [...metadata.optionals]\n    socials.splice(index, 1)\n    return setMetadata({ ...metadata, optionals: socials })\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n          <Typography.Text>DAO name</Typography.Text>\n          <Input\n            placeholder=\"Input DAO name\"\n            onChange={onChange}\n            name=\"daoName\"\n            className=\"border-less\"\n            value={metadata.daoName}\n          />\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n          <Typography.Text>DAO description</Typography.Text>\n          <Input.TextArea\n            placeholder=\"Input DAO description\"\n            name=\"description\"\n            onChange={onChange}\n            className=\"border-less\"\n            value={metadata.description}\n          />\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\">\n          <Typography.Text>Avatar</Typography.Text>\n          {metadata.image ? (\n            <Card\n              className=\"img-card-preview-upload\"\n              bodyStyle={{\n                padding: 0,\n                position: 'relative',\n                height: '100%',\n              }}\n            >\n              <Image src={metadata.image?.toString() || ''} preview={false} />\n              <IonIcon\n                className=\"ico-action-upload\"\n                name=\"trash-outline\"\n                onClick={() => setMetadata({ ...metadata, image: '' })}\n              />\n            </Card>\n          ) : (\n            <Upload\n              className={`interdao-upload-metadata ${\n                !!metadata.image ? 'uploaded' : ''\n              }`}\n              accept=\"image/png,image/jpg,image/webp\"\n              name=\"avatar\"\n              listType=\"picture-card\"\n              maxCount={1}\n              onChange={onFileChange}\n              onRemove={() => {\n                setMetadata({ ...metadata, image: '' })\n                return true\n              }}\n            >\n              <Space direction=\"vertical\" size={0}>\n                <Typography.Text style={{ fontSize: 24 }}>\n                  <IonIcon name=\"cloud-upload-outline\" />\n                </Typography.Text>\n                <Typography.Text type=\"secondary\" style={{ fontSize: 10 }}>\n                  Support JPG, PNG\n                </Typography.Text>\n              </Space>\n            </Upload>\n          )}\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n          <Typography.Text>Social media (Optional)</Typography.Text>\n          <Row gutter={[8, 8]}>\n            {metadata.optionals.map((social, index) => (\n              <Col span={24} key={index}>\n                <Row gutter={[12, 12]}>\n                  <Col span={22}>\n                    <Input\n                      placeholder=\"Input link\"\n                      onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                        onOptionalChange(e, index)\n                      }\n                      className=\"border-less\"\n                      value={social}\n                    />\n                  </Col>\n                  <Col span={2}>\n                    <Button\n                      type=\"text\"\n                      icon={<IonIcon name=\"trash-outline\" />}\n                      onClick={() => removeLink(index)}\n                    />\n                  </Col>\n                </Row>\n              </Col>\n            ))}\n            <Col span={24}>\n              <Button\n                type=\"dashed\"\n                icon={<IonIcon name=\"add-outline\" />}\n                onClick={addLink}\n              >\n                Add\n              </Button>\n            </Col>\n          </Row>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default FormInputDetail\n","import { useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Button, Col, Row } from 'antd'\n\nimport { validURL } from 'app/helpers'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport {\n  MetaData,\n  revertPrevStep,\n  submitStepDaoDetail,\n} from 'app/model/createDao.controller'\nimport FormInputDetail from '../../../components/formInputDetail'\n\nconst DaoInputDetails = () => {\n  const defaultMetadata = useSelector(\n    (state: AppState) => state.createDao.data.metadata,\n  )\n  const [metadata, setMetadata] = useState<MetaData>(defaultMetadata)\n  const dispatch = useDispatch<AppDispatch>()\n\n  const validLink = useMemo(() => {\n    const { optionals } = metadata\n    if (!optionals.length) return true\n    for (const link of optionals) if (!validURL(link)) return false\n    return true\n  }, [metadata])\n\n  const disabled = useMemo(() => {\n    const { daoName, description, image } = metadata\n    return !daoName || !description || !image || !validLink\n  }, [metadata, validLink])\n\n  return (\n    <Row gutter={[32, 32]}>\n      <Col span={24}>\n        <FormInputDetail metadata={metadata} setMetadata={setMetadata} />\n      </Col>\n      <Col span={24}>\n        <Row>\n          <Col flex=\"auto\">\n            <Button\n              type=\"text\"\n              size=\"large\"\n              onClick={() => dispatch(revertPrevStep())}\n            >\n              Back\n            </Button>\n          </Col>\n          <Col>\n            <Button\n              type=\"primary\"\n              size=\"large\"\n              disabled={disabled}\n              onClick={() => dispatch(submitStepDaoDetail({ metadata }))}\n            >\n              Continue\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DaoInputDetails\n","import { useSelector } from 'react-redux'\nimport { useUI } from '@senhub/providers'\n\nimport { Col, Image, Row, Space, Typography } from 'antd'\nimport CardRegime from '../components/cardRegime'\nimport AvatarNFT from 'app/components/avatarNFT'\n\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\n\nconst MAX_WIDTH_RATIO = 24 / 16\nconst PAGE_SPACING = 24\nconst HEIGHT_RATIO = 1.777777\n\nconst FlexibleDaoReview = () => {\n  const regime = useSelector((state: AppState) => state.createDao.data.regime)\n  const isNft = useSelector((state: AppState) => state.createDao.data.isNft)\n  const mintAddress = useSelector(\n    (state: AppState) => state.createDao.data.mintAddress,\n  )\n  const supply = useSelector((state: AppState) => state.createDao.data.supply)\n  const daoName = useSelector(\n    (state: AppState) => state.createDao.data.metadata.daoName,\n  )\n  const description = useSelector(\n    (state: AppState) => state.createDao.data.metadata.description,\n  )\n  const image = useSelector(\n    (state: AppState) => state.createDao.data.metadata.image,\n  )\n  const {\n    ui: { width },\n  } = useUI()\n\n  const isMobile = width < 768\n  const desktopWidth = width > 992 ? width / MAX_WIDTH_RATIO : width\n  const logoSize = isMobile\n    ? '100%'\n    : (desktopWidth - 6 - PAGE_SPACING * 4) / HEIGHT_RATIO / 2 + 3\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col xs={24} md={12}>\n        <Space direction=\"vertical\" size={24} style={{ width: '100%' }}>\n          <Space direction=\"vertical\">\n            <Typography.Text type=\"secondary\">Name of DAO</Typography.Text>\n            <Typography.Title level={1}>{daoName}</Typography.Title>\n          </Space>\n          <Space direction=\"vertical\" style={{ width: '100%' }}>\n            <Typography.Text>DAO Regime</Typography.Text>\n            <CardRegime regime={regime} />\n          </Space>\n        </Space>\n      </Col>\n      <Col xs={24} md={12}>\n        <Space direction=\"vertical\" size={24}>\n          <Space direction=\"vertical\">\n            <Typography.Text type=\"secondary\">Vote By</Typography.Text>\n            {isNft ? (\n              <AvatarNFT mintAddress={mintAddress} size={48} />\n            ) : (\n              <Space>\n                <MintAvatar mintAddress={mintAddress} size={48} />\n                <Typography.Title level={1}>\n                  <MintSymbol mintAddress={mintAddress} />\n                </Typography.Title>\n              </Space>\n            )}\n          </Space>\n          <Space direction=\"vertical\" className=\"dao-logo-img\">\n            <Typography.Text>DAO Logo</Typography.Text>\n            <Image\n              style={{ width: logoSize, height: logoSize }}\n              src={image?.toString()}\n              preview={false}\n            />\n          </Space>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\">\n          <Typography.Text type=\"secondary\">Total power</Typography.Text>\n          <Space direction=\"horizontal\">\n            <Typography.Title level={1}>\n              {numeric(supply?.toNumber()).format('0,0.[00]')}\n            </Typography.Title>\n            <Typography.Title level={1}>\n              <MintSymbol mintAddress={mintAddress} />\n            </Typography.Title>\n          </Space>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\">\n          <Typography.Text type=\"secondary\">Description</Typography.Text>\n          <Typography.Text>{description}</Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default FlexibleDaoReview\n","import { useSelector } from 'react-redux'\n\nimport { Col, Image, Row, Space, Typography } from 'antd'\nimport RowSpaceVertical from 'app/components/rowSpaceVertical'\nimport CardRegime from '../components/cardRegime'\n\nimport { AppState } from 'app/model'\nimport { useUI } from '@senhub/providers'\n\nconst PAGE_SPACING = 24\nconst HEIGHT_RATIO = 1.777777\nconst MAX_WIDTH_RATIO = 24 / 16\n\nconst MultisigDAOReview = () => {\n  const regime = useSelector((state: AppState) => state.createDao.data.regime)\n  const isPublic = useSelector(\n    (state: AppState) => state.createDao.data.isPublic,\n  )\n  const daoName = useSelector(\n    (state: AppState) => state.createDao.data.metadata.daoName,\n  )\n  const description = useSelector(\n    (state: AppState) => state.createDao.data.metadata.description,\n  )\n  const image = useSelector(\n    (state: AppState) => state.createDao.data.metadata.image,\n  )\n  const members = useSelector(\n    (state: AppState) => state.createDao.data.metadata.members,\n  )\n  const {\n    ui: { width },\n  } = useUI()\n\n  const isMobile = width < 768\n  const desktopWidth = width > 992 ? width / MAX_WIDTH_RATIO : width\n  const logoSize = isMobile\n    ? '100%'\n    : (desktopWidth - 6 - PAGE_SPACING * 4) / HEIGHT_RATIO / 2 + 3\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Row justify=\"space-between\">\n          <Col>\n            <RowSpaceVertical\n              label=\"Name of DAO\"\n              value={<Typography.Title level={1}>{daoName}</Typography.Title>}\n            />\n          </Col>\n          <Col>\n            <RowSpaceVertical\n              label=\"DAO privacy\"\n              value={\n                <Typography.Title level={1}>\n                  {isPublic ? 'Public' : 'Member'}\n                </Typography.Title>\n              }\n            />\n          </Col>\n        </Row>\n      </Col>\n      <Col xs={24} md={12}>\n        <RowSpaceVertical\n          label=\"DAO Regime\"\n          value={<CardRegime regime={regime} />}\n        />\n      </Col>\n      <Col xs={24} md={12}>\n        <RowSpaceVertical\n          label=\"DAO Regime\"\n          value={\n            <Image\n              style={{ width: logoSize, height: logoSize }}\n              src={image?.toString()}\n              preview={false}\n            />\n          }\n        />\n      </Col>\n      <Col span={24}>\n        <Row gutter={[8, 8]}>\n          <Col span={24}>\n            <Typography.Text type=\"secondary\">\n              {members.length} members\n            </Typography.Text>\n          </Col>\n          {members.map(({ walletAddress, name }) => (\n            <Col span={24} key={walletAddress}>\n              <Space>\n                <Typography.Title level={4}>{name}</Typography.Title>\n                <Typography.Title level={4} type=\"secondary\">\n                  {walletAddress}\n                </Typography.Title>\n              </Space>\n            </Col>\n          ))}\n        </Row>\n      </Col>\n      <Col span={24}>\n        <RowSpaceVertical\n          label=\"Description\"\n          value={\n            <Typography.Paragraph style={{ margin: 0 }}>\n              {description}\n            </Typography.Paragraph>\n          }\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default MultisigDAOReview\n","import { useCallback, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { CID } from 'ipfs-core'\nimport BN from 'bn.js'\n\nimport IPFS from 'app/helpers/ipfs'\nimport { explorer } from 'shared/util'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport configs from 'app/configs'\nimport { AppState } from 'app/model'\nimport usePDB from '../usePDB'\n\nconst {\n  sol: { interDao },\n  manifest: { appId },\n} = configs\n\nconst useFlexibleDao = () => {\n  const [loading, setLoading] = useState(false)\n  const createDaoData = useSelector((state: AppState) => state.createDao.data)\n\n  const { mintAddress } = createDaoData\n  const decimals = useMintDecimals(mintAddress) || 0\n  const pdb = usePDB()\n  const history = useHistory()\n\n  const createFlexDAO = useCallback(async () => {\n    try {\n      setLoading(true)\n      const { mintAddress, supply, regime, isPublic, isNft, metadata } =\n        createDaoData\n      const ipfs = new IPFS()\n      const cid = await ipfs.set(metadata)\n      const {\n        multihash: { digest },\n      } = CID.parse(cid)\n      const metadataBuff = Buffer.from(digest)\n      const totalSupply = supply.mul(new BN(10).pow(new BN(decimals)))\n\n      const { txId, daoAddress } = await interDao.initializeDao(\n        mintAddress,\n        totalSupply,\n        metadataBuff,\n        undefined, // Optional DAO's keypair\n        regime,\n        isNft,\n        isPublic,\n      )\n      const localMetadata = { ...metadata, cid }\n      await pdb.setItem(daoAddress, localMetadata) // to realtime\n      window.notify({\n        type: 'success',\n        description: 'A new DAO is created. Click here to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n      return history.push(`/app/${appId}/dao/${daoAddress}`)\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }, [createDaoData, decimals, pdb, history])\n\n  return { createFlexDAO, loading }\n}\n\nexport default useFlexibleDao\n","import { DEFAULT_EMPTY_ADDRESS } from '@senswap/sen-js'\nimport { web3, BN } from '@project-serum/anchor'\nimport { PublicKey } from '@solana/web3.js'\nimport { createMintAndMintTo, getAnchorProvider } from 'sentre-web3'\n\nimport configs from 'app/configs'\nimport { rpc } from 'shared/runtime'\n\nconst {\n  sol: { utility },\n} = configs\n\nclass MultisigWallet {\n  private _mint: PublicKey\n\n  constructor(mintAddress: string) {\n    this._mint = new PublicKey(mintAddress)\n  }\n\n  getProvider = async () => {\n    const wallet = window.sentre.wallet\n    const walletAddress = await wallet.getAddress()\n    return getAnchorProvider(rpc, walletAddress, wallet)\n  }\n\n  createNewTokenAndMintTo = async (number: number) => {\n    const mint = new web3.Keypair()\n    const provider = await this.getProvider()\n    await createMintAndMintTo(provider, {\n      mint,\n      amount: new BN(number),\n      decimals: 0,\n    })\n    this._mint = mint.publicKey\n    return mint.publicKey\n  }\n\n  isValidMint = (): boolean => this._mint.toBase58() !== DEFAULT_EMPTY_ADDRESS\n\n  mintToAccount = async (dstAddress: string, amount: number) => {\n    if (!this.isValidMint()) throw new Error('Please create mint first!')\n    await utility.safeMintTo({\n      amount: new BN(amount),\n      tokenAddress: this._mint.toBase58(),\n      dstWalletAddress: dstAddress,\n    })\n  }\n\n  getMintAddress = (): string => {\n    if (!this.isValidMint()) return ''\n    return this._mint.toBase58()\n  }\n}\nexport default MultisigWallet\n","import { useCallback, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { CID } from 'ipfs-core'\nimport BN from 'bn.js'\nimport { account, DEFAULT_EMPTY_ADDRESS } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\n\nimport IPFS from 'app/helpers/ipfs'\nimport { explorer } from 'shared/util'\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\nimport MultisigWallet from 'app/helpers/mutisigWallet'\nimport Distributor from 'app/helpers/distributor'\nimport usePDB from '../usePDB'\n\nconst {\n  sol: { interDao },\n  manifest: { appId },\n} = configs\n\nconst useMultisigDao = () => {\n  const [loading, setLoading] = useState(false)\n  const createDaoData = useSelector((state: AppState) => state.createDao.data)\n  const metadata = useSelector(\n    (state: AppState) => state.createDao.data.metadata,\n  )\n  const pdb = usePDB()\n  const history = useHistory()\n  const {\n    wallet: { address: myWallet },\n  } = useWallet()\n\n  const createVotingMint = useCallback(async () => {\n    const { members } = metadata\n    const multiSigWallet = new MultisigWallet(DEFAULT_EMPTY_ADDRESS)\n    const mintAddress = await multiSigWallet.createNewTokenAndMintTo(\n      members.length,\n    )\n    return mintAddress.toBase58()\n  }, [metadata])\n\n  const getDistributorAddress = useCallback(\n    async (mintAddress: string) => {\n      const { members, daoType } = metadata\n      if (daoType === 'flexible-dao') return ''\n      const distributor = new Distributor()\n      const pubKeys = members\n        .filter(({ walletAddress }) => walletAddress !== myWallet)\n        .map(({ walletAddress }) => account.fromAddress(walletAddress))\n\n      const distributorAddress = await distributor.createDistributor(\n        pubKeys,\n        mintAddress,\n      )\n      return distributorAddress\n    },\n    [metadata, myWallet],\n  )\n\n  const createMultisigDao = useCallback(async () => {\n    try {\n      setLoading(true)\n      const { regime, isPublic, isNft } = createDaoData\n      const mintAddress = await createVotingMint()\n      const distributorAddress = await getDistributorAddress(mintAddress)\n      const ipfs = new IPFS()\n      const cid = await ipfs.set({ ...metadata, distributorAddress })\n      const {\n        multihash: { digest },\n      } = CID.parse(cid)\n      const metadataBuff = Buffer.from(digest)\n      const { members } = metadata\n      const totalSupply = new BN(members.length)\n      const { txId, daoAddress } = await interDao.initializeDao(\n        mintAddress,\n        totalSupply,\n        metadataBuff,\n        undefined, // Optional DAO's keypair\n        regime,\n        isNft,\n        isPublic,\n      )\n\n      await pdb.setItem(daoAddress, {\n        ...metadata,\n        distributorAddress,\n        cid,\n      }) // to realtime\n      window.notify({\n        type: 'success',\n        description: 'A new DAO is created. Click here to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n      return history.push(`/app/${appId}/dao/${daoAddress}`)\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }, [\n    createDaoData,\n    createVotingMint,\n    getDistributorAddress,\n    metadata,\n    pdb,\n    history,\n  ])\n\n  return { createMultisigDao, loading }\n}\n\nexport default useMultisigDao\n","import { Button } from 'antd'\nimport { useSelector } from 'react-redux'\n\nimport useFlexibleDao from 'app/hooks/dao/useFlexibleDao'\nimport useMultisigDao from 'app/hooks/dao/useMultisigDao'\nimport { AppState } from 'app/model'\n\nconst ButtonFlexDao = () => {\n  const { createFlexDAO, loading } = useFlexibleDao()\n\n  return (\n    <Button\n      onClick={createFlexDAO}\n      type=\"primary\"\n      size=\"large\"\n      loading={loading}\n    >\n      Confirm\n    </Button>\n  )\n}\n\nconst ButtonMultisigDao = () => {\n  const { createMultisigDao, loading } = useMultisigDao()\n\n  return (\n    <Button\n      onClick={createMultisigDao}\n      type=\"primary\"\n      size=\"large\"\n      loading={loading}\n    >\n      Confirm\n    </Button>\n  )\n}\n\nconst ConfirmButton = () => {\n  const daoType = useSelector(\n    (state: AppState) => state.createDao.data.metadata.daoType,\n  )\n  if (daoType === 'flexible-dao') return <ButtonFlexDao />\n\n  return <ButtonMultisigDao />\n}\n\nexport default ConfirmButton\n","import { useDispatch, useSelector } from 'react-redux'\n\nimport { Button, Col, Row } from 'antd'\nimport FlexibleDaoReview from './flexibleDaoReview'\nimport MultisigDAOReview from './multisigDaoReview'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { revertPrevStep } from 'app/model/createDao.controller'\nimport ConfirmButton from './confirmButton'\n\nconst Review = () => {\n  const daoType = useSelector(\n    (state: AppState) => state.createDao.data.metadata.daoType,\n  )\n  const dispatch = useDispatch<AppDispatch>()\n\n  return (\n    <Row gutter={[32, 32]}>\n      <Col span={24}>\n        {daoType === 'flexible-dao' ? (\n          <FlexibleDaoReview />\n        ) : (\n          <MultisigDAOReview />\n        )}\n      </Col>\n      <Col span={24}>\n        <Row>\n          <Col flex=\"auto\">\n            <Button\n              type=\"text\"\n              size=\"large\"\n              onClick={() => dispatch(revertPrevStep())}\n            >\n              Back\n            </Button>\n          </Col>\n          <Col>\n            <ConfirmButton />\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Review\n","import { useMemo } from 'react'\nimport { useUI } from '@senhub/providers'\n\nimport { Card, Row, Col, Typography, Image } from 'antd'\n\nimport useNftMetaData from 'app/hooks/useNftMetaData'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport IMAGE_DEFAULT from 'app/static/images/system/nft.jpeg'\n\nexport type CardNFTProps = {\n  mintAddress: string\n  onSelect: (mintAddress: string) => void\n  isSelected?: boolean\n}\n\nconst SIZE_DESKTOP = 198\nconst SIZE_MOBILE = 150\n\nconst CardNFT = ({ mintAddress, onSelect, isSelected }: CardNFTProps) => {\n  const {\n    ui: { width },\n  } = useUI()\n\n  const imageSize = useMemo(() => {\n    if (width < 768) return SIZE_MOBILE\n    return SIZE_DESKTOP\n  }, [width])\n\n  const { nftInfo, loading } = useNftMetaData(mintAddress)\n\n  return (\n    <Card\n      bordered={false}\n      style={{ cursor: 'pointer', textAlign: 'center' }}\n      bodyStyle={{ padding: 0 }}\n      loading={loading}\n      onClick={() => onSelect(mintAddress)}\n    >\n      <Row>\n        {isSelected && (\n          <IonIcon\n            name=\"checkbox\"\n            style={{\n              position: 'absolute',\n              top: -1,\n              right: -1,\n              fontSize: 20,\n              zIndex: 1,\n            }}\n          />\n        )}\n        <Col span={24} style={{ textAlign: 'center', width: imageSize }}>\n          <Image\n            src={nftInfo?.image || IMAGE_DEFAULT}\n            preview={false}\n            style={{ borderRadius: 4 }}\n            width={imageSize}\n            height={imageSize}\n          />\n        </Col>\n        <Col span={24} style={{ textAlign: 'center', paddingTop: '8px' }}>\n          <Typography.Text>{nftInfo?.name}</Typography.Text>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default CardNFT\n","import IonIcon from '@sentre/antd-ionicon'\nimport { Button, Input, Spin } from 'antd'\nimport { LoadingOutlined } from '@ant-design/icons'\n\ntype SearchDaoProps = {\n  onSearch: (keyword: string) => void\n  loading?: boolean\n  searchText: string\n}\n\nconst SearchNftCollection = ({ onSearch, loading = false }: SearchDaoProps) => {\n  return (\n    <Input\n      prefix={\n        <Button\n          type=\"text\"\n          size=\"small\"\n          icon={\n            loading ? (\n              <Spin indicator={<LoadingOutlined style={{ fontSize: 14 }} />} />\n            ) : (\n              <IonIcon name=\"search-outline\" />\n            )\n          }\n        />\n      }\n      placeholder=\"Search by collection address\"\n      style={{ width: '100%' }}\n      onChange={(e) => onSearch(e.target.value)}\n    />\n  )\n}\nexport default SearchNftCollection\n","import { Fragment, useCallback, useEffect, useState } from 'react'\nimport { useWallet } from '@senhub/providers'\nimport { account } from '@senswap/sen-js'\n\nimport { Card, Col, Empty, Image, Modal, Row, Space, Typography } from 'antd'\nimport CardNFT from 'app/components/cardNFT'\nimport SearchNftCollection from './searchNftCollection'\n\nimport {\n  fetchListNTFs,\n  getNftMetaData,\n  MetadataDataType,\n} from 'app/helpers/metaplex'\nimport useNftMetaData from 'app/hooks/useNftMetaData'\n\nimport BG_BTN from 'app/static/images/system/select-dao.png'\nimport IMAGE_DEFAULT from 'app/static/images/system/nft.jpeg'\n\nconst SIZE_COLLECTION_IMAGE = 88\n\ntype ModalNftCollectionProps = {\n  onSelect: (mintAddress: string) => void\n  mintAddress: string\n}\n\nconst CardNftImageOnly = ({\n  mintAddress,\n  openNftModal,\n}: {\n  mintAddress: string\n  openNftModal: (visible: boolean) => void\n}) => {\n  const { nftInfo, loading } = useNftMetaData(mintAddress)\n\n  return (\n    <Card\n      bordered={false}\n      bodyStyle={{ padding: 0 }}\n      loading={loading}\n      className=\"card-nft-image-only\"\n      onClick={() => openNftModal(true)}\n    >\n      <Image\n        src={nftInfo?.image || IMAGE_DEFAULT}\n        preview={false}\n        style={{ borderRadius: 4 }}\n        width={SIZE_COLLECTION_IMAGE}\n        height={SIZE_COLLECTION_IMAGE}\n        className=\"nft-image\"\n      />\n    </Card>\n  )\n}\n\nconst ModalNftCollection = ({\n  onSelect,\n  mintAddress,\n}: ModalNftCollectionProps) => {\n  const [visible, setVisible] = useState(false)\n  const [listCollectionNFTs, setListCollectionNFTs] =\n    useState<Record<string, MetadataDataType[]>>()\n  const [searchText, setSearchText] = useState<string>('')\n  const [loading, setLoading] = useState(false)\n\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const getNftCollectionInfo = useCallback(async () => {\n    let collectionNFTs: Record<string, MetadataDataType[]> = {}\n    if (!account.isAddress(searchText)) return collectionNFTs\n    let collectionInfo = await getNftMetaData(searchText)\n    if (collectionInfo.data) {\n      collectionNFTs[collectionInfo.data.mint] = [collectionInfo.data]\n    } else {\n      collectionNFTs = {}\n    }\n    return collectionNFTs\n  }, [searchText])\n\n  const onSelectNFT = (mintAddress: string) => {\n    onSelect(mintAddress)\n    onCloseModal()\n  }\n\n  const onCloseModal = () => {\n    setSearchText('')\n    setVisible(false)\n  }\n\n  const getCollectionNFTs = useCallback(async () => {\n    setLoading(true)\n    let collectionNFTs: Record<string, MetadataDataType[]> = {}\n    try {\n      if (searchText.length > 0) {\n        collectionNFTs = await getNftCollectionInfo()\n      } else {\n        collectionNFTs = await fetchListNTFs(walletAddress)\n      }\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n    return setListCollectionNFTs(collectionNFTs)\n  }, [getNftCollectionInfo, searchText, walletAddress])\n\n  useEffect(() => {\n    getCollectionNFTs()\n  }, [getCollectionNFTs])\n\n  return (\n    <Fragment>\n      {!mintAddress ? (\n        <Card\n          className=\"btn-select-nft\"\n          style={{\n            background: `url(${BG_BTN})`,\n          }}\n          bodyStyle={{ padding: 10 }}\n          onClick={() => setVisible(true)}\n        >\n          <Space direction=\"vertical\" style={{ width: '100%' }} align=\"center\">\n            <Typography.Text style={{ color: '#f9deb0' }}>\n              Select\n            </Typography.Text>\n            <Typography.Text style={{ color: '#f9deb0' }}>\n              a NFT\n            </Typography.Text>\n            <Typography.Text style={{ color: '#f9deb0' }}>\n              collection\n            </Typography.Text>\n          </Space>\n        </Card>\n      ) : (\n        <CardNftImageOnly openNftModal={setVisible} mintAddress={mintAddress} />\n      )}\n\n      <Modal\n        className=\"modal-nft-selection\"\n        visible={visible}\n        footer={false}\n        onCancel={onCloseModal}\n      >\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <Typography.Title level={4}>\n              Select a NFT collection\n            </Typography.Title>\n          </Col>\n          <Col span={24}>\n            <SearchNftCollection\n              loading={loading}\n              searchText={searchText}\n              onSearch={(value) => setSearchText(value)}\n            />\n          </Col>\n          <Col span={24}>\n            <Row\n              gutter={[24, 24]}\n              className=\"scrollbar\"\n              style={{ height: 500 }}\n            >\n              {listCollectionNFTs &&\n              Object.keys(listCollectionNFTs).length > 0 ? (\n                Object.keys(listCollectionNFTs).map((collectionAddress) => (\n                  <Col xs={12} md={8} key={collectionAddress}>\n                    <CardNFT\n                      mintAddress={collectionAddress}\n                      onSelect={onSelectNFT}\n                    />\n                  </Col>\n                ))\n              ) : (\n                <Col span={24}>\n                  <Empty />\n                </Col>\n              )}\n            </Row>\n          </Col>\n        </Row>\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default ModalNftCollection\n","import { useState } from 'react'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { Col, Row, Space, Tooltip, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ModalNftCollection from 'app/view/createDao/components/modalNftCollection'\n\nimport { asyncWait, shortenAddress } from 'shared/util'\n\nconst Address = ({ address }: { address: string }) => {\n  const [copied, setCopied] = useState(false)\n\n  const onCopy = async () => {\n    setCopied(true)\n    await asyncWait(1500)\n    setCopied(false)\n  }\n\n  return (\n    <Space>\n      <Typography.Text className=\"t-16\">\n        NFT collection address: {shortenAddress(address)}\n      </Typography.Text>\n      <Tooltip title=\"Copied\" visible={copied}>\n        <CopyToClipboard text={address} onCopy={onCopy}>\n          <Typography.Text style={{ cursor: 'pointer' }} className=\"t-16\">\n            <IonIcon name=\"copy-outline\" />\n          </Typography.Text>\n        </CopyToClipboard>\n      </Tooltip>\n    </Space>\n  )\n}\n\ntype VoteNftInputProps = {\n  mintAddress: string\n  onMintAddressChange: (mintAddress: string) => void\n}\n\nconst VoteNftInput = ({\n  mintAddress,\n  onMintAddressChange,\n}: VoteNftInputProps) => {\n  return (\n    <Row gutter={[24, 24]}>\n      <Col>\n        <ModalNftCollection\n          mintAddress={mintAddress}\n          onSelect={onMintAddressChange}\n        />\n      </Col>\n      <Col flex={1}>\n        <Row align=\"bottom\" style={{ height: '100%' }}>\n          <Col span={24}>\n            {mintAddress && <Address address={mintAddress} />}\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default VoteNftInput\n","import { Col, Row, Input } from 'antd'\nimport { MintSelection } from 'shared/antd/mint'\n\ntype VoteTokenInputProps = {\n  mintAddress: string\n  onMintAddressChange: (mintAddress: string) => void\n}\n\nconst VoteTokenInput = ({\n  mintAddress,\n  onMintAddressChange,\n}: VoteTokenInputProps) => {\n  return (\n    <Col flex={1}>\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Input\n            size=\"large\"\n            placeholder={'Input Token Address'}\n            value={mintAddress}\n            className=\"border-less\"\n            onChange={(e) => onMintAddressChange(e.target.value)}\n            suffix={\n              <MintSelection\n                value={mintAddress}\n                onChange={onMintAddressChange}\n                style={{ marginRight: -7 }}\n              />\n            }\n            autoFocus={true}\n          />\n        </Col>\n      </Row>\n    </Col>\n  )\n}\n\nexport default VoteTokenInput\n","import VoteNftInput from './voteNftInput'\nimport VoteTokenInput from './voteTokenInput'\n\ntype VoteInputProps = {\n  isNft: boolean\n  mintAddress: string\n  onMintAddressChange: (mintAddress: string) => void\n}\n\nconst VoteInput = ({\n  isNft,\n  mintAddress,\n  onMintAddressChange,\n}: VoteInputProps) => {\n  return isNft ? (\n    <VoteNftInput\n      mintAddress={mintAddress}\n      onMintAddressChange={onMintAddressChange}\n    />\n  ) : (\n    <VoteTokenInput\n      mintAddress={mintAddress}\n      onMintAddressChange={onMintAddressChange}\n    />\n  )\n}\n\nexport default VoteInput\n","import isEqual from 'react-fast-compare'\n\nimport { Button, Col, Row, Space, Typography } from 'antd'\nimport VoteInput from './voteInput'\n\nimport './index.less'\n\ntype TokenAddressInputProps = {\n  isNft: boolean\n  onNftChange: (isNft: boolean) => void\n  mintAddress: string\n  onMintAddressChange: (mintAddress: string) => void\n}\n\nconst TokenAddressInput = ({\n  isNft,\n  onNftChange,\n  mintAddress,\n  onMintAddressChange,\n}: TokenAddressInputProps) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Space size={32}>\n          <Typography.Text>Vote by</Typography.Text>\n          <Space size={12}>\n            <Button\n              onClick={() => onNftChange(false)}\n              className={isEqual(isNft, false) ? '' : 'btn-unselect'}\n              size=\"small\"\n            >\n              Token\n            </Button>\n            <Button\n              onClick={() => onNftChange(true)}\n              className={isEqual(isNft, true) ? '' : 'btn-unselect'}\n              size=\"small\"\n            >\n              NFT\n            </Button>\n          </Space>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <VoteInput\n          isNft={isNft}\n          mintAddress={mintAddress}\n          onMintAddressChange={onMintAddressChange}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default TokenAddressInput\n","import isEqual from 'react-fast-compare'\n\nimport { Button, Col, Row, Typography } from 'antd'\n\ntype PrivacyProps = {\n  isPublic: boolean\n  setIsPublic: (isPublic: boolean) => void\n}\n\nconst Privacy = ({ isPublic, setIsPublic }: PrivacyProps) => {\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <Typography.Text>DAO privacy</Typography.Text>\n      </Col>\n      <Col>\n        <Button\n          onClick={() => setIsPublic(false)}\n          className={isEqual(isPublic, false) ? '' : 'btn-unselect'}\n          block\n        >\n          Member Only\n        </Button>\n      </Col>\n      <Col>\n        <Button\n          onClick={() => setIsPublic(true)}\n          className={isEqual(isPublic, true) ? '' : 'btn-unselect'}\n          block\n        >\n          Public\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Privacy\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\nimport BN from 'bn.js'\n\n/**\n * Get token's total supply. This hook needs MintProvider for working.\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * @param mintAddress Mint address\n * @returns Decimals\n */\nconst useMintSupply = (mintAddress: string) => {\n  const [supply, setSupply] = useState<BN | undefined>(undefined)\n  const { getMint } = useMint()\n\n  const fetchSupply = useCallback(async () => {\n    try {\n      const {\n        [mintAddress]: { supply },\n      } = await getMint({ address: mintAddress })\n      return setSupply(new BN(supply.toString()))\n    } catch (er: any) {\n      return setSupply(undefined)\n    }\n  }, [mintAddress, getMint])\n\n  useEffect(() => {\n    fetchSupply()\n  }, [fetchSupply])\n\n  return supply\n}\n\nexport default useMintSupply\n","import BN from 'bn.js'\n\nimport { Button, Col, Row, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport NumericInput from 'shared/antd/numericInput'\n\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport useMintSupply from 'shared/hooks/useMintSupply'\nimport { numeric } from 'shared/util'\n\nexport type CirculatingSupplyInputProps = {\n  mintAddress?: string\n  value: string\n  onChange: (value: string) => void\n}\n\nconst CirculatingSupplyInput = ({\n  mintAddress = '',\n  value,\n  onChange,\n}: CirculatingSupplyInputProps) => {\n  const decimals = useMintDecimals(mintAddress) || 0\n  const supply = useMintSupply(mintAddress)\n  const suggestion = String(supply?.div(new BN(10 ** decimals)) || new BN(0))\n\n  return (\n    <Row gutter={[8, 8]} justify=\"end\">\n      <Col span={24}>\n        <Typography.Text>Total DAO Power</Typography.Text>\n      </Col>\n      <Col span={24}>\n        <NumericInput\n          value={value}\n          onValue={onChange}\n          className=\"border-less\"\n          size=\"large\"\n          placeholder=\"Input Total DAO Power\"\n          suffix={\n            <Button\n              type=\"text\"\n              onClick={() => onChange(suggestion)}\n              icon={<IonIcon name=\"copy-outline\" />}\n              style={{ marginRight: -7 }}\n            >\n              By Suggestion\n            </Button>\n          }\n        />\n      </Col>\n      <Col>\n        <Space>\n          <Typography.Text type=\"secondary\">\n            Suggestion Token Supply:\n          </Typography.Text>\n          <Typography.Text>{numeric(suggestion).format('0,0')}</Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default CirculatingSupplyInput\n","import { account } from '@senswap/sen-js'\n\nimport { Button, Col, Row, Space, Spin, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport NumericInput from 'shared/antd/numericInput'\nimport { LoadingOutlined } from '@ant-design/icons'\n\nimport { numeric } from 'shared/util'\nimport { getListAccountNFTsBelongToCollection } from 'app/helpers/metaplex'\nimport { useCallback, useEffect, useState } from 'react'\n\nexport type CirculatingSupplyInputProps = {\n  mintAddress?: string\n  value: string\n  onChange: (value: string) => void\n}\n\nconst CirculatingSupplyInputNFT = ({\n  mintAddress = '',\n  value,\n  onChange,\n}: CirculatingSupplyInputProps) => {\n  const [suggestion, setSuggestion] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const getNftSuggestion = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setSuggestion('')\n    setLoading(true)\n    try {\n      let accounts = await getListAccountNFTsBelongToCollection(mintAddress)\n      setSuggestion(accounts.length.toString())\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }, [mintAddress])\n\n  useEffect(() => {\n    getNftSuggestion()\n  }, [getNftSuggestion])\n\n  return (\n    <Row gutter={[8, 8]} justify=\"end\">\n      <Col span={24}>\n        <Typography.Text>Total DAO Power</Typography.Text>\n      </Col>\n      <Col span={24}>\n        <NumericInput\n          value={value}\n          onValue={onChange}\n          className=\"border-less\"\n          size=\"large\"\n          placeholder=\"Input Total DAO Power\"\n          suffix={\n            <Button\n              type=\"text\"\n              onClick={() => onChange(suggestion)}\n              icon={<IonIcon name=\"copy-outline\" />}\n              style={{ marginRight: -7 }}\n            >\n              By Suggestion\n            </Button>\n          }\n        />\n      </Col>\n      <Col>\n        <Space>\n          <Typography.Text type=\"secondary\">\n            Suggestion NFT collection supply:\n          </Typography.Text>\n          {loading ? (\n            <Spin\n              spinning={loading}\n              indicator={<LoadingOutlined style={{ fontSize: 24 }} />}\n            />\n          ) : (\n            <Typography.Text>\n              {numeric(suggestion).format('0,0')}\n            </Typography.Text>\n          )}\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default CirculatingSupplyInputNFT\n","import CirculatingSupplyInput from './circulatingSupplyInput'\nimport CirculatingSupplyInputNFT from './circulatingSupplyInputNFT'\n\ntype CirculatingSupplyProps = {\n  isNft: boolean\n  mintAddress: string\n  supply: string\n  onChangeSupply: (supply: string) => void\n}\n\nconst CirculatingSupply = ({\n  isNft,\n  mintAddress,\n  supply,\n  onChangeSupply,\n}: CirculatingSupplyProps) => {\n  return !isNft ? (\n    <CirculatingSupplyInput\n      mintAddress={mintAddress}\n      value={supply}\n      onChange={onChangeSupply}\n    />\n  ) : (\n    <CirculatingSupplyInputNFT\n      mintAddress={mintAddress}\n      value={supply}\n      onChange={onChangeSupply}\n    />\n  )\n}\n\nexport default CirculatingSupply\n","import { useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport BN from 'bn.js'\n\nimport { Button, Col, Row } from 'antd'\nimport RegimeInput from './regimeInput'\nimport TokenAddressInput from './tokenAddressInput'\nimport Privacy from '../privacy'\nimport CirculatingSupply from './circulatingSupply'\n\nimport { AppDispatch, AppState } from 'app/model'\n\nimport {\n  revertPrevStep,\n  submitStepSetRule,\n} from 'app/model/createDao.controller'\n\nconst FlexibleDaoRule = () => {\n  const { isNft, isPublic, mintAddress, supply, regime } = useSelector(\n    (state: AppState) => state.createDao.data,\n  )\n  const [nextIsNft, setIsNft] = useState(isNft)\n  const [nextRegime, setRegime] = useState(regime)\n  const [nextMintAddress, setMintAddress] = useState(mintAddress)\n  const [nextSupply, setSupply] = useState(supply.toString())\n  const [nextIsPublic, setIsPublic] = useState(isPublic)\n  const dispatch = useDispatch<AppDispatch>()\n\n  const disabled = !nextMintAddress || !nextRegime\n\n  const onNextStep = () => {\n    return dispatch(\n      submitStepSetRule({\n        rule: {\n          isNft: nextIsNft,\n          regime: nextRegime,\n          supply: new BN(nextSupply),\n          isPublic: nextIsPublic,\n          mintAddress: nextMintAddress,\n        },\n      }),\n    )\n  }\n\n  return (\n    <Row gutter={[32, 32]}>\n      <Col span={24}>\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <RegimeInput value={nextRegime} onChangeRegime={setRegime} />\n          </Col>\n          <Col span={24}>\n            <TokenAddressInput\n              onMintAddressChange={setMintAddress}\n              mintAddress={nextMintAddress}\n              isNft={nextIsNft}\n              onNftChange={(isNft: boolean) => {\n                setMintAddress('')\n                return setIsNft(isNft)\n              }}\n            />\n          </Col>\n          <Col span={24}>\n            <CirculatingSupply\n              isNft={nextIsNft}\n              mintAddress={nextMintAddress}\n              supply={nextSupply}\n              onChangeSupply={setSupply}\n            />\n          </Col>\n          <Col span={24}>\n            <Privacy isPublic={nextIsPublic} setIsPublic={setIsPublic} />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row>\n          <Col flex=\"auto\">\n            <Button\n              type=\"text\"\n              size=\"large\"\n              onClick={() => dispatch(revertPrevStep())}\n            >\n              Back\n            </Button>\n          </Col>\n          <Col>\n            <Button\n              type=\"primary\"\n              size=\"large\"\n              disabled={disabled}\n              onClick={onNextStep}\n            >\n              Continue\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default FlexibleDaoRule\n","import { DaoRegime } from '@interdao/core'\n\nimport { Col, Row, Typography } from 'antd'\nimport CardRegime from '../../components/cardRegime'\n\ntype RegimeProps = {\n  regime: DaoRegime\n}\n\nconst Regime = ({ regime }: RegimeProps) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Typography.Text>DAO Regime</Typography.Text>\n      </Col>\n      <Col xs={24} md={8}>\n        <CardRegime regime={regime} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Regime\n","import { ChangeEvent } from 'react'\n\nimport { Button, Col, Input, Row } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { DAOMember } from 'app/model/createDao.controller'\n\ntype MemberInputProps = {\n  onChange: (e: ChangeEvent<HTMLInputElement>) => void\n  disabledRemove?: boolean\n  disabledWalletInput?: boolean\n  disabledName?: boolean\n  remove?: () => void\n} & DAOMember\n\nconst MemberInput = ({\n  name = '',\n  walletAddress = '',\n  onChange,\n  disabledRemove: disabledBtn = false,\n  disabledWalletInput = false,\n  disabledName = false,\n  remove = () => {},\n}: MemberInputProps) => {\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={4}>\n        <Input\n          className=\"border-less\"\n          onChange={onChange}\n          value={name}\n          placeholder=\"Name\"\n          name=\"name\"\n          disabled={disabledName}\n        />\n      </Col>\n      <Col span={18}>\n        <Input\n          className=\"border-less\"\n          value={walletAddress}\n          placeholder=\"Input wallet address\"\n          disabled={disabledWalletInput}\n          name=\"walletAddress\"\n          onChange={onChange}\n        />\n      </Col>\n      <Col span={2}>\n        <Button\n          disabled={disabledBtn}\n          type=\"text\"\n          icon={<IonIcon name=\"trash-outline\" />}\n          onClick={remove}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default MemberInput\n","import { ChangeEvent } from 'react'\nimport { useWallet } from '@senhub/providers'\nimport isEqual from 'react-fast-compare'\n\nimport { Button, Col, Row, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport MemberInput from './memberInput'\n\nimport { DAOMember } from 'app/model/createDao.controller'\n\ntype DAOMembersProps = {\n  members: DAOMember[]\n  setMember: (members: DAOMember[]) => void\n}\n\nconst DAOMembers = ({ members, setMember }: DAOMembersProps) => {\n  const {\n    wallet: { address: myAddress },\n  } = useWallet()\n\n  const onAddNew = () => {\n    const nextMembers = [...members]\n    nextMembers.push({ name: '', walletAddress: '' })\n    return setMember(nextMembers)\n  }\n\n  const onRemove = (index: number) => {\n    const nextMembers = [...members]\n    nextMembers.splice(index, 1)\n    return setMember(nextMembers)\n  }\n\n  const onChange = (e: ChangeEvent<HTMLInputElement>, index: number) => {\n    // Valid input value\n    for (const { walletAddress } of members) {\n      if (isEqual(walletAddress, e.target.value))\n        return window.notify({\n          type: 'warning',\n          description: 'This wallet address already exists',\n        })\n    }\n    // Update member data\n    const nextMembers = [...members]\n    nextMembers[index] = {\n      ...nextMembers[index],\n      [e.target.name]: e.target.value,\n    }\n    return setMember(nextMembers)\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Typography.Title level={4}>\n          People who'll be part of your team.\n        </Typography.Title>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[12, 12]}>\n          {members.map(({ name, walletAddress }, idx) => {\n            const disabled = walletAddress === myAddress\n            return (\n              <Col span={24} key={idx}>\n                <MemberInput\n                  name={name}\n                  walletAddress={walletAddress}\n                  onChange={(e) => onChange(e, idx)}\n                  remove={() => onRemove(idx)}\n                  disabledRemove={disabled}\n                  disabledWalletInput={disabled}\n                />\n              </Col>\n            )\n          })}\n          <Col span={4}>\n            <Button\n              block\n              type=\"dashed\"\n              icon={<IonIcon name=\"add-outline\" />}\n              onClick={onAddNew}\n            >\n              Add\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DAOMembers\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { DaoRegimes } from '@interdao/core'\nimport { account } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\n\nimport { Button, Col, Row } from 'antd'\nimport Regime from './regime'\nimport DAOMembers from './daoMembers'\nimport Privacy from '../privacy'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport {\n  DAOMember,\n  revertPrevStep,\n  submitStepSetRule,\n} from 'app/model/createDao.controller'\n\nconst MultiSigDAORule = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const metadata = useSelector(\n    (state: AppState) => state.createDao.data.metadata,\n  )\n  const [members, setMember] = useState<DAOMember[]>([])\n  const [isPublic, setIsPublic] = useState(false)\n  const { address: myAddress } = useWallet().wallet\n\n  const setDefaultValue = useCallback(() => {\n    if (members.length) return\n    if (metadata.members.length) return setMember(metadata.members)\n    const DEFAULT_MEMBER = [{ name: '', walletAddress: myAddress }]\n    return setMember(DEFAULT_MEMBER)\n  }, [members.length, metadata.members, myAddress])\n\n  const onSubmit = () => {\n    const nextMetadata = { ...metadata, members }\n    return dispatch(\n      submitStepSetRule({\n        rule: {\n          isPublic,\n          metadata: nextMetadata,\n          regime: DaoRegimes.Autonomous,\n        },\n      }),\n    )\n  }\n\n  const disabled = useMemo(() => {\n    for (const member of members) {\n      const { name, walletAddress } = member\n      if (!name || !account.isAddress(walletAddress)) return true\n    }\n    return false\n  }, [members])\n\n  useEffect(() => {\n    setDefaultValue()\n  }, [setDefaultValue])\n\n  return (\n    <Row gutter={[32, 32]}>\n      <Col span={24}>\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <Regime regime={DaoRegimes.Autonomous} />\n          </Col>\n          <Col span={24}>\n            <Privacy isPublic={isPublic} setIsPublic={setIsPublic} />\n          </Col>\n          <Col span={24}>\n            <DAOMembers members={members} setMember={setMember} />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row>\n          <Col flex=\"auto\">\n            <Button\n              type=\"text\"\n              size=\"large\"\n              onClick={() => dispatch(revertPrevStep())}\n            >\n              Back\n            </Button>\n          </Col>\n          <Col>\n            <Button\n              type=\"primary\"\n              size=\"large\"\n              disabled={disabled}\n              onClick={onSubmit}\n            >\n              Continue\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default MultiSigDAORule\n","import { useSelector } from 'react-redux'\n\nimport FlexibleDaoRule from './flexible'\nimport MultiSigDAORule from './multisig'\n\nimport { AppState } from 'app/model'\n\nconst DaoRule = () => {\n  const daoType = useSelector(\n    (state: AppState) => state.createDao.data.metadata.daoType,\n  )\n  return daoType === 'flexible-dao' ? <FlexibleDaoRule /> : <MultiSigDAORule />\n}\nexport default DaoRule\n","import { AppState } from 'app/model'\nimport { useSelector } from 'react-redux'\n\nimport ChooseDaoType from './chooseType'\nimport DaoInputDetails from './daoInputDetail'\nimport Review from './review'\nimport DaoRule from './setRule'\n\nimport { CreateDaoSteps } from 'app/model/createDao.controller'\n\nconst InitDAOBody = () => {\n  const step = useSelector((state: AppState) => state.createDao.step)\n  if (step === CreateDaoSteps.ChooseType) return <ChooseDaoType />\n  if (step === CreateDaoSteps.InputDetails) return <DaoInputDetails />\n  if (step === CreateDaoSteps.SetRule) return <DaoRule />\n  return <Review />\n}\n\nexport default InitDAOBody\n","import { useSelector } from 'react-redux'\n\nimport { Row, Col, Card } from 'antd'\nimport InitDAOHeader from './initDAOHeader'\nimport InitDAOBody from './initDAOBody'\n\nimport { AppState } from 'app/model'\n\nimport './index.less'\n\nconst CreateDao = () => {\n  const step = useSelector((state: AppState) => state.createDao.step)\n  return (\n    <Row gutter={[24, 24]} justify=\"center\">\n      <Col xs={24} lg={16}>\n        <Card bordered={false}>\n          <Row gutter={[24, 32]}>\n            <Col span={24}>\n              <InitDAOHeader step={step} />\n            </Col>\n            <Col span={24}>\n              <InitDAOBody />\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default CreateDao\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { AccountInfo, PublicKey } from '@solana/web3.js'\n\nimport configs from 'app/configs'\nimport { ReceiptData } from '@interdao/core'\n\nconst {\n  sol: { interDao },\n} = configs\n\nexport const getReceipts = async (\n  proposalAddress: string,\n): Promise<Record<string, ReceiptData>> => {\n  if (!account.isAddress(proposalAddress)) throw new Error('Invalid address')\n  const {\n    provider: { connection },\n    programId,\n    account: { receipt },\n  } = interDao.program\n  const value: Array<{ pubkey: PublicKey; account: AccountInfo<Buffer> }> =\n    await connection.getProgramAccounts(programId, {\n      filters: [\n        { dataSize: receipt.size },\n        {\n          memcmp: {\n            offset: 48,\n            bytes: proposalAddress,\n          },\n        },\n      ],\n    })\n  let bulk: Record<string, ReceiptData> = {}\n\n  value.forEach(({ pubkey, account: { data: buf } }) => {\n    const data = interDao.parseReceiptData(buf)\n    bulk[pubkey.toBase58()] = data\n  })\n  return bulk\n}\n\nconst useReceipts = ({ proposalAddress }: { proposalAddress: string }) => {\n  const [receipts, setReceipts] = useState<Record<string, ReceiptData>>({})\n\n  const fetchReceipts = useCallback(async () => {\n    if (!account.isAddress(proposalAddress)) return setReceipts({})\n    const listReceipt = await getReceipts(proposalAddress)\n    return setReceipts(listReceipt)\n  }, [proposalAddress])\n\n  useEffect(() => {\n    fetchReceipts()\n  }, [fetchReceipts])\n\n  return { receipts }\n}\n\nexport default useReceipts\n","import { useCallback, useMemo, useState } from 'react'\n\nimport { Button, Card, Col, Row, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ProposalStatus from 'app/components/proposalStatus'\n\nimport { ProposalChildCardProps } from './index'\nimport { explorer, shortenAddress } from 'shared/util'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport useProposalMetaData from 'app/hooks/proposal/useProposalMetaData'\nimport useReceipts from 'app/hooks/proposal/useReceipts'\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst CardStatus = ({ proposalAddress }: ProposalChildCardProps) => {\n  const [loading, setLoading] = useState(false)\n  const { status } = useProposalStatus(proposalAddress)\n  const { metaData } = useProposalMetaData(proposalAddress)\n  const { receipts } = useReceipts({ proposalAddress })\n\n  const members = useMemo(() => {\n    if (!Object.values(receipts).length) return 0\n    const authorities: string[] = []\n    for (const receipt of Object.values(receipts)) {\n      const { authority } = receipt\n      if (authorities.includes(authority.toBase58())) continue\n      authorities.push(authority.toBase58())\n    }\n    return authorities.length\n  }, [receipts])\n\n  const execute = useCallback(async () => {\n    setLoading(true)\n    try {\n      const { txId } = await interDao.executeProposal(proposalAddress)\n      return window.notify({\n        type: 'success',\n        description: 'Execute successfully',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      return window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setLoading(false)\n    }\n  }, [proposalAddress])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Row gutter={[24, 24]} wrap={false}>\n            <Col flex=\"auto\">\n              <Space direction=\"vertical\">\n                <Space>\n                  <Typography.Title\n                    level={3}\n                    style={{ wordBreak: 'break-all' }}\n                  >\n                    {metaData?.title\n                      ? metaData.title\n                      : shortenAddress(proposalAddress)}\n                  </Typography.Title>\n\n                  <ProposalStatus status={status} />\n                </Space>\n                <Space>\n                  <Row>\n                    <Col span={24}>\n                      <Space size={5}>\n                        <IonIcon name=\"people-outline\" />\n                        <Typography.Text>Member: {members}</Typography.Text>\n                      </Space>\n                    </Col>\n                  </Row>\n                </Space>\n              </Space>\n            </Col>\n            <Col>\n              <Button\n                size=\"large\"\n                type=\"primary\"\n                onClick={execute}\n                loading={loading}\n                disabled={status !== 'Succeeded'}\n              >\n                Execute\n              </Button>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Typography.Paragraph\n            type=\"secondary\"\n            ellipsis={{ rows: 3, expandable: true, symbol: 'View more' }}\n          >\n            {metaData?.description}\n          </Typography.Paragraph>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default CardStatus\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { DaoData, FeeOptions } from '@interdao/core'\nimport { BN } from 'bn.js'\n\nimport configs from 'app/configs'\nimport { AppState } from 'app/model'\n\ntype useProposalFeeProps = {\n  daoAddress: string\n}\n\nconst {\n  sol: { taxman, fee },\n} = configs\n\nconst useProposalFee = ({ daoAddress }: useProposalFeeProps) => {\n  const daos = useSelector((state: AppState) => state.daos)\n  const { regime, authority } = daos[daoAddress] || ({} as DaoData)\n\n  const parseRegime = useMemo(() => {\n    if (!regime) return ''\n    return Object.keys(regime)[0]\n  }, [regime])\n\n  const proposalFee = useMemo(() => {\n    if (!parseRegime || !authority) return\n\n    const feeOption: FeeOptions = {\n      tax: new BN(fee),\n      taxmanAddress: taxman,\n      revenue: new BN(fee),\n      revenuemanAddress: authority.toBase58(),\n    }\n\n    if (parseRegime === 'democratic')\n      return {\n        tax: new BN(0),\n        taxmanAddress: taxman,\n        revenue: new BN(0),\n        revenuemanAddress: authority.toBase58(),\n      }\n\n    return feeOption\n  }, [authority, parseRegime])\n\n  return proposalFee\n}\n\nexport default useProposalFee\n","import { useCallback, useState } from 'react'\nimport { account } from '@senswap/sen-js'\n\nimport { Button, Col, Modal, Row, Space, Typography } from 'antd'\nimport CardNFT from 'app/components/cardNFT'\n\nimport { MetadataDataType } from 'app/helpers/metaplex'\nimport configs from 'app/configs'\nimport { explorer } from 'shared/util'\nimport { VotingType } from './index'\nimport useProposalFee from 'app/hooks/proposal/useProposalFee'\n\nconst {\n  sol: { interDao },\n} = configs\n\ntype ModalVoteNFTProps = {\n  visible: boolean\n  setVisible: (visible: boolean) => void\n  collection: MetadataDataType[]\n  votingType: VotingType\n  proposalAddress: string\n  daoAddress: string\n}\n\nconst ModalVoteNFT = ({\n  visible,\n  setVisible,\n  collection,\n  votingType,\n  proposalAddress,\n  daoAddress,\n}: ModalVoteNFTProps) => {\n  const [nftVoting, setNftVoting] = useState<string>('')\n  const [loading, setLoading] = useState(false)\n  const proposalFee = useProposalFee({ daoAddress })\n\n  const onVoteNftFor = useCallback(async () => {\n    setLoading(true)\n    try {\n      if (!account.isAddress(proposalAddress) || !nftVoting) return\n\n      const { txId } = await interDao.voteNftFor(\n        proposalAddress,\n        nftVoting,\n        proposalFee,\n      )\n      setNftVoting('')\n      return window.notify({\n        type: 'success',\n        description: 'Voted successfully. Click to view details!',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      return window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setVisible(false)\n      setLoading(false)\n    }\n  }, [nftVoting, proposalAddress, proposalFee, setVisible])\n\n  const onVoteNftAgainst = useCallback(async () => {\n    setLoading(true)\n    try {\n      if (!account.isAddress(proposalAddress) || !nftVoting) return\n\n      const { txId } = await interDao.voteNftAgainst(\n        proposalAddress,\n        nftVoting,\n        proposalFee,\n      )\n      setNftVoting('')\n      return window.notify({\n        type: 'success',\n        description: 'Voted successfully. Click to view details!',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      return window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setLoading(false)\n      setVisible(false)\n    }\n  }, [nftVoting, proposalAddress, proposalFee, setVisible])\n\n  const onConfirm = () => {\n    switch (votingType) {\n      case VotingType.for:\n        onVoteNftFor()\n        break\n      case VotingType.against:\n        onVoteNftAgainst()\n        break\n    }\n  }\n\n  return (\n    <Modal\n      className=\"modal-nft-selection\"\n      visible={visible}\n      footer={false}\n      onCancel={() => setVisible(false)}\n    >\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Typography.Title level={4}>Vote {votingType}</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Typography.Text>Choose NFT to vote</Typography.Text>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[24, 24]} className=\"scrollbar\" style={{ height: 240 }}>\n            {collection.map((metadata) => (\n              <Col\n                xs={12}\n                md={8}\n                key={metadata.mint}\n                style={{ textAlign: 'center' }}\n              >\n                <CardNFT\n                  mintAddress={metadata.mint}\n                  isSelected={nftVoting === metadata.mint}\n                  onSelect={setNftVoting}\n                />\n              </Col>\n            ))}\n          </Row>\n        </Col>\n        <Col span={24} style={{ textAlign: 'right' }}>\n          <Space>\n            <Button onClick={() => setVisible(false)}>Cancel</Button>\n            <Button\n              disabled={!nftVoting}\n              type=\"primary\"\n              loading={loading}\n              onClick={onConfirm}\n            >\n              Confirm\n            </Button>\n          </Space>\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\n\nexport default ModalVoteNFT\n","export const STROKE_COLOR = {\n  dark: { default: '#312B29', for: '#698033', against: '#F9575E' },\n  light: { default: '#F2EFE9', for: '#F9DEB0', against: '#F9575E' },\n}\n","import { useMemo } from 'react'\nimport { ReceiptData } from '@interdao/core'\nimport { useUI } from '@senhub/providers'\n\nimport { Typography } from 'antd'\n\nimport { STROKE_COLOR } from 'app/constant'\n\nconst VOTE_TYPE = {\n  default: 'DEFAULT',\n  for: 'VOTE FOR',\n  against: 'VOTE AGAINST',\n}\n\nconst ColumnType = ({ record }: { record: ReceiptData }) => {\n  const {\n    ui: { theme },\n  } = useUI()\n\n  const type = useMemo(() => {\n    const action = Object.keys(record.action || {})[0]\n    if (action === 'voteAgainst') {\n      return 'against'\n    }\n    if (action === 'voteFor') {\n      return 'for'\n    }\n    return 'default'\n  }, [record.action])\n\n  return (\n    <Typography.Text style={{ color: STROKE_COLOR[theme][type] }}>\n      {VOTE_TYPE[type]}\n    </Typography.Text>\n  )\n}\n\nexport default ColumnType\n","import { useSelector } from 'react-redux'\nimport { DaoData, ReceiptData } from '@interdao/core'\nimport { utils } from '@senswap/sen-js'\n\nimport { Typography } from 'antd'\n\nimport { AppState } from 'app/model'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport { numeric } from 'shared/util'\n\nconst ColumnPower = ({ receipt }: { receipt: ReceiptData }) => {\n  const daos = useSelector((state: AppState) => state.daos)\n  const proposal = useSelector((state: AppState) => state.proposal)\n  const { power, proposal: proposalPubkey } = receipt\n  const { dao: daoPubkey } = proposal[proposalPubkey.toBase58()] || {}\n  const { mint } = daos[daoPubkey?.toBase58() || ''] || ({} as DaoData)\n  const mintDecimal = useMintDecimals(mint?.toBase58()) || 0\n\n  return (\n    <Typography.Text>\n      {numeric(\n        utils.undecimalize(BigInt(power.toNumber()), mintDecimal),\n      ).format('0,0.[0000]a')}\n    </Typography.Text>\n  )\n}\n\nexport default ColumnPower\n","import { Fragment, useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useWallet } from '@senhub/providers'\nimport { DaoData, ReceiptData } from '@interdao/core'\nimport BN from 'bn.js'\nimport moment from 'moment'\n\nimport { Button, Col, Modal, Row, Typography, Table } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ColumnType from './history/columnType'\nimport ColumnPower from './history/columnPower'\n\nimport { ProposalChildCardProps } from './index'\nimport useReceipts from 'app/hooks/proposal/useReceipts'\nimport configs from 'app/configs'\nimport { explorer } from 'shared/util'\nimport { AppState } from 'app/model'\n\nexport type Receipt = ReceiptData & { address: string }\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst Withdraw = ({ daoAddress, proposalAddress }: ProposalChildCardProps) => {\n  const [visible, setVisible] = useState(false)\n  const [loading, setLoading] = useState(false)\n  const [listReceipt, setListReceipt] = useState<Receipt[]>([])\n  const { receipts } = useReceipts({ proposalAddress })\n  const daos = useSelector((state: AppState) => state.daos)\n  const { isNft } = daos[daoAddress] || ({} as DaoData)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const COLUMNS = [\n    {\n      title: 'TIME',\n      dataIndex: 'lockedDate',\n      render: (lockedDate: BN) => (\n        <Typography.Text>\n          {moment(lockedDate.toNumber() * 1000).format('DD/MM/YYYY HH:mm')}\n        </Typography.Text>\n      ),\n    },\n    {\n      title: 'POWER',\n      dataIndex: 'power',\n      render: (_: any, receipt: ReceiptData) => (\n        <ColumnPower receipt={receipt} />\n      ),\n    },\n    {\n      title: 'TYPE',\n      dataIndex: 'authority',\n      render: (_: any, receipt: ReceiptData) => <ColumnType record={receipt} />,\n    },\n    {\n      title: 'ACTION',\n      dataIndex: 'address',\n      render: (receiptAddress: string) => (\n        <Button\n          type=\"primary\"\n          onClick={() => onWithdraw(receiptAddress)}\n          size=\"small\"\n        >\n          Withdraw\n        </Button>\n      ),\n    },\n  ]\n\n  const filterReceipts = useCallback(() => {\n    const listRecept = Object.keys(receipts).map((address) => ({\n      address,\n      ...receipts[address],\n    }))\n\n    const myRecept: Receipt[] = listRecept.filter(\n      (receipt) =>\n        receipt.authority.toBase58() === walletAddress &&\n        receipt.amount.toNumber() > 0,\n    )\n\n    return setListReceipt(myRecept)\n  }, [receipts, walletAddress])\n\n  const onWithdraw = useCallback(\n    async (receiptAddress: string) => {\n      if (!receiptAddress.length) return\n      setLoading(true)\n      try {\n        let response: { txId: string; receiptAddress: string }\n        if (isNft) response = await interDao.closeNftVoting(receiptAddress)\n        else response = await interDao.close(receiptAddress)\n        window.notify({\n          type: 'success',\n          description: 'Successful withdrawal. Click to view details!',\n          onClick: () => window.open(explorer(response.txId), '_blank'),\n        })\n\n        //for real time\n        setListReceipt(\n          [...listReceipt].filter(\n            (receipt) => !receiptAddress.includes(receipt.address),\n          ),\n        )\n      } catch (er: any) {\n        window.notify({\n          type: 'error',\n          description: er.message,\n        })\n      } finally {\n        setLoading(false)\n      }\n    },\n    [isNft, listReceipt],\n  )\n\n  useEffect(() => {\n    filterReceipts()\n  }, [filterReceipts])\n\n  return (\n    <Fragment>\n      <Button\n        type=\"primary\"\n        onClick={() => setVisible(true)}\n        block\n        size=\"large\"\n        disabled={!listReceipt.length}\n      >\n        Withdraw\n      </Button>\n      <Modal\n        visible={visible}\n        footer={null}\n        closeIcon={<IonIcon name=\"close-outline\" />}\n        onCancel={() => setVisible(false)}\n      >\n        <Row gutter={[32, 32]}>\n          <Col span={24}>\n            <Typography.Title level={4}>Withdraw</Typography.Title>\n          </Col>\n          <Col span={24} style={{ maxHeight: 500 }} className=\"scrollbar\">\n            <Table\n              columns={COLUMNS}\n              dataSource={listReceipt}\n              pagination={false}\n              rowKey={({ index, lockedDate }) =>\n                index.toNumber() + lockedDate.toNumber()\n              }\n              loading={loading}\n            />\n          </Col>\n        </Row>\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default Withdraw\n","import dayjs from 'dayjs'\n\nexport function getRemainingTime(timestampMs: number, finishTime?: number) {\n  const timestampDayjs = dayjs(timestampMs)\n  const nowDayjs = finishTime ? finishTime : dayjs()\n\n  // times of the past\n  if (timestampDayjs.isBefore(nowDayjs)) {\n    return {\n      minutes: '00',\n      hours: '00',\n      days: '00',\n      seconds: '00',\n    }\n  }\n\n  return {\n    minutes: getRemainingMinutes(nowDayjs, timestampDayjs),\n    hours: getRemainingHours(nowDayjs, timestampDayjs),\n    days: getRemainingDays(nowDayjs, timestampDayjs),\n    seconds: getRemainingSeconds(nowDayjs, timestampDayjs),\n  }\n}\n\n/** Get the difference function */\nfunction getRemainingSeconds(nowDayjs: any, timestampDayjs: any) {\n  const seconds = (timestampDayjs.diff(nowDayjs, 'seconds') % 60) % 60\n  return startWithZeros(seconds, 2)\n}\n\nfunction getRemainingMinutes(nowDayjs: any, timestampDayjs: any) {\n  const minutes = timestampDayjs.diff(nowDayjs, 'minutes') % 60\n  return startWithZeros(minutes, 2)\n}\n\nfunction getRemainingHours(nowDayjs: any, timestampDayjs: any) {\n  const hours = timestampDayjs.diff(nowDayjs, 'hours') % 24\n  return startWithZeros(hours, 2)\n}\n\nfunction getRemainingDays(nowDayjs: any, timestampDayjs: any) {\n  const days = timestampDayjs.diff(nowDayjs, 'days')\n  return days.toString()\n}\n\nfunction startWithZeros(number: number, minLength: number) {\n  const numberString = number.toString()\n  if (numberString.length >= minLength) return numberString\n  return '0'.repeat(minLength - numberString.length) + numberString\n}\n","import { useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { ProposalData } from '@interdao/core'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { getProposal } from 'app/model/proposal.controller'\n\nconst useProposal = (proposalAddress: string) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const proposals = useSelector((state: AppState) => state.proposal)\n\n  const proposalData = useMemo(\n    () => proposals[proposalAddress] || ({} as ProposalData),\n    [proposals, proposalAddress],\n  )\n\n  useEffect(() => {\n    if (!proposalData && account.isAddress(proposalAddress))\n      dispatch(getProposal({ address: proposalAddress }))\n  }, [proposalData, dispatch, proposalAddress])\n\n  return { ...proposalData }\n}\n\nexport default useProposal\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Col, Row, Space, Tooltip, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { getRemainingTime } from 'app/helpers/countDown'\nimport useProposal from 'app/hooks/proposal/useProposal'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\n\ntype LockedVotingProps = {\n  proposalAddress: string\n  daoAddress: string\n}\n\nconst defaultRemainingTime = {\n  minutes: '00',\n  hours: '00',\n  days: '00',\n  seconds: '00',\n}\n\nconst LockedVoting = ({ proposalAddress, daoAddress }: LockedVotingProps) => {\n  const [remainingTime, setRemainingTime] = useState(defaultRemainingTime)\n  const { status } = useProposalStatus(proposalAddress)\n  const voteAmount = useSelector((state: AppState) => state.voteBid.amount)\n  const { endDate, startDate } = useProposal(proposalAddress)\n\n  const voteNow = new Date().getTime()\n  const endTime = Number(endDate) * 1000\n  const startTime = Number(startDate) * 1000\n\n  const remaining = voteNow < endTime ? endTime - voteNow : 0\n  const votePower = (Number(voteAmount) * remaining) / 1000\n\n  const updateRemainingTime = useCallback(\n    (countdown: number, startTime?: number) =>\n      setRemainingTime(getRemainingTime(countdown, startTime)),\n    [],\n  )\n\n  useEffect(() => {\n    if (status === 'Preparing') return updateRemainingTime(endTime, startTime)\n    const intervalId = setInterval(() => {\n      updateRemainingTime(endTime)\n    }, 1000)\n    return () => clearInterval(intervalId)\n  }, [endTime, startTime, status, updateRemainingTime])\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col flex=\"auto\">\n        <Space direction=\"vertical\">\n          <Typography.Text>Time remaining</Typography.Text>\n          <Typography.Title level={5}>\n            {remainingTime.days}d : {remainingTime.hours}h :{' '}\n            {remainingTime.minutes}m : {remainingTime.seconds}s\n          </Typography.Title>\n        </Space>\n      </Col>\n      <Col>\n        <Space direction=\"vertical\">\n          <Space>\n            <Tooltip title=\"Your power will be equal to the token amount multiplied by the remaining time (by seconds)\">\n              <IonIcon\n                style={{ cursor: 'pointer' }}\n                name=\"information-circle-outline\"\n              />\n            </Tooltip>\n            <Typography.Text>Power of your votes</Typography.Text>\n          </Space>\n\n          <Typography.Title level={5} style={{ textAlign: 'right' }}>\n            {numeric(votePower).format('0,0.[0000]')}\n          </Typography.Title>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default LockedVoting\n","import { useCallback, useEffect, useState } from 'react'\n\nimport { MetadataDataType } from 'app/helpers/metaplex'\nimport useOwnerNFT from './useOwnerNFT'\n\nconst useOwnerNftByCollection = (ownerPublickey: string) => {\n  const { nfts } = useOwnerNFT(ownerPublickey)\n  const [nftsFiltered, setNftsFiltered] =\n    useState<Record<string, MetadataDataType[]>>()\n\n  const filterNFTsByCollection = useCallback(async () => {\n    let listNFTs: Record<string, MetadataDataType[]> = {}\n    nfts?.forEach((nft: MetadataDataType) => {\n      if (nft.collection) {\n        listNFTs[nft.collection.key] = listNFTs[nft.collection.key]\n          ? [...listNFTs[nft.collection.key], nft]\n          : [nft]\n      }\n    })\n    return setNftsFiltered(listNFTs)\n  }, [nfts])\n\n  useEffect(() => {\n    filterNFTsByCollection()\n  }, [filterNFTsByCollection])\n\n  return { nfts: nftsFiltered }\n}\n\nexport default useOwnerNftByCollection\n","import { useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { DaoData } from '@interdao/core'\nimport { useWallet } from '@senhub/providers'\n\nimport { Button, Card, Col, Row, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ModalVoteNFT from './modalVoteNFT'\nimport Withdraw from '../../withdraw'\nimport LockedVoting from '../lockedVoting'\n\nimport { AppState } from 'app/model'\nimport { ProposalChildCardProps } from '../../index'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport useOwnerNftByCollection from 'app/hooks/useOwnerNftByCollection'\nimport useProposal from 'app/hooks/proposal/useProposal'\n\nexport enum VotingType {\n  for = 'For',\n  against = 'Against',\n}\n\nconst CardVoteByNFT = ({\n  proposalAddress,\n  daoAddress,\n}: ProposalChildCardProps) => {\n  const [votingType, setVotingType] = useState<VotingType>(VotingType.for)\n  const [visible, setVisible] = useState(false)\n  const daos = useSelector((state: AppState) => state.daos)\n  const { mint } = daos[daoAddress] || ({} as DaoData)\n  const { status } = useProposalStatus(proposalAddress)\n  const { consensusMechanism } = useProposal(proposalAddress)\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const { nfts: collectionNFTs } = useOwnerNftByCollection(walletAddress)\n  const myCollection = collectionNFTs?.[mint.toBase58()] || []\n  const isLockedVote =\n    Object.keys(consensusMechanism || [])[0] === 'lockedTokenCounter'\n  const isComplete = useMemo(() => {\n    if (status === 'Preparing' || status === 'Voting') return false\n    return true\n  }, [status])\n  const disabled =\n    status !== 'Voting' ||\n    !account.isAddress(proposalAddress) ||\n    !myCollection.length\n\n  const onVoteNftFor = () => {\n    setVisible(true)\n    setVotingType(VotingType.for)\n  }\n\n  const onVoteNftAgainst = () => {\n    setVisible(true)\n    setVotingType(VotingType.against)\n  }\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Typography.Title level={5}>Cast your votes</Typography.Title>\n        </Col>\n        {isLockedVote && (\n          <Col span={24}>\n            <LockedVoting\n              proposalAddress={proposalAddress}\n              daoAddress={daoAddress}\n            />\n          </Col>\n        )}\n        {isComplete ? (\n          <Col span={24}>\n            <Withdraw\n              daoAddress={daoAddress}\n              proposalAddress={proposalAddress}\n            />\n          </Col>\n        ) : (\n          <Col span={24}>\n            <Row gutter={[16, 16]}>\n              <Col span={12}>\n                <Button\n                  onClick={onVoteNftFor}\n                  type=\"primary\"\n                  disabled={disabled}\n                  block\n                  size=\"large\"\n                  icon={<IonIcon name=\"thumbs-up-outline\" />}\n                >\n                  Vote For\n                </Button>\n              </Col>\n              <Col span={12}>\n                <Button\n                  onClick={onVoteNftAgainst}\n                  type=\"primary\"\n                  disabled={disabled}\n                  block\n                  size=\"large\"\n                  icon={<IonIcon name=\"thumbs-down-outline\" />}\n                >\n                  Vote Against\n                </Button>\n              </Col>\n            </Row>\n          </Col>\n        )}\n      </Row>\n      <ModalVoteNFT\n        visible={visible}\n        setVisible={setVisible}\n        collection={myCollection}\n        votingType={votingType}\n        proposalAddress={proposalAddress}\n        daoAddress={daoAddress}\n      />\n    </Card>\n  )\n}\nexport default CardVoteByNFT\n","import { useEffect, useState } from 'react'\nimport { account, DEFAULT_EMPTY_ADDRESS, utils } from '@senswap/sen-js'\nimport { useAccount, useWallet } from '@senhub/providers'\n\nimport useMintDecimals from './useMintDecimals'\n\nexport type AccountBalanceReturn = {\n  amount: bigint\n  decimals: number\n  balance: number\n  mintAddress: string\n}\n\nconst buildResult = (\n  mintAddress?: string,\n  amount?: bigint,\n  decimals?: number,\n) => {\n  if (\n    !account.isAddress(mintAddress) ||\n    amount === undefined ||\n    decimals === undefined\n  )\n    return { amount: BigInt(0), decimals: 0, balance: 0 }\n  return {\n    mintAddress,\n    amount,\n    decimals,\n    balance: Number(utils.undecimalize(amount, decimals)),\n  }\n}\n\n/**\n * Get account balance. This hook needs WalletProvider, MintProvider, and AccountProvider for working.\n * WalletProvider Ref: https://docs.sentre.io/senhub/development/providers/wallet-provider\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * AccountProvider Ref: https://docs.sentre.io/senhub/development/providers/account-provider\n * @param accountAddress Associated account address\n * @returns AccountBalanceReturn\n * - AccountBalanceReturn.amount: The amount with decimals\n * - AccountBalanceReturn.decimals: The corresponding mint decimals\n * - AccountBalanceReturn.balance: The human-readable balance (undecimalized amount)\n * - AccountBalanceReturn.mintAddress: The corresponding mint\n */\nconst useAccountBalance = (accountAddress: string) => {\n  const {\n    wallet: { address: walletAddress, lamports },\n  } = useWallet()\n  const { accounts } = useAccount()\n  const { amount, mint: mintAddress } = accounts[accountAddress] || {}\n  const decimals = useMintDecimals(mintAddress) || 0\n\n  if (!account.isAddress(walletAddress) || !account.isAddress(accountAddress))\n    return buildResult()\n  if (accountAddress === walletAddress)\n    return buildResult(DEFAULT_EMPTY_ADDRESS, lamports, 9)\n\n  return buildResult(mintAddress, amount, decimals)\n}\n\nexport default useAccountBalance\n\n/**\n * The same as useAccountBalance but the input is mint address\n * @param mintAddress Mint address\n * @returns AccountBalanceReturn\n */\nexport const useAccountBalanceByMintAddress = (mintAddress: string) => {\n  const [accountAddress, setAccountAddress] = useState('')\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const data = useAccountBalance(accountAddress)\n\n  useEffect(() => {\n    ;(async () => {\n      if (!account.isAddress(walletAddress) || !account.isAddress(mintAddress))\n        return setAccountAddress('')\n      const {\n        sentre: { splt },\n      } = window\n      try {\n        const address = await splt.deriveAssociatedAddress(\n          walletAddress,\n          mintAddress,\n        )\n        return setAccountAddress(address)\n      } catch (er) {\n        return setAccountAddress('')\n      }\n    })()\n  })\n\n  return data\n}\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\n/**\n * Interface & Utility\n */\n\nexport type VoteBidState = {\n  amount: string\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'voteBid'\nconst initialState: VoteBidState = {\n  amount: '',\n}\n\n/**\n * Actions\n */\n\nexport const setVoteBidAmount = createAsyncThunk(\n  `${NAME}/setVoteBidAmount`,\n  async (amount: string) => {\n    if (!amount) return { amount: '' }\n    return { amount }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      setVoteBidAmount.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { Fragment, useCallback, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account, utils } from '@senswap/sen-js'\nimport { DaoData } from '@interdao/core'\nimport { BN } from 'bn.js'\n\nimport { Button, Col, Row } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { AppState } from 'app/model'\nimport { ProposalChildCardProps } from '../../index'\nimport { explorer } from 'shared/util'\nimport configs from 'app/configs'\nimport { useAccountBalanceByMintAddress } from 'shared/hooks/useAccountBalance'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport useMetaData from 'app/hooks/useMetaData'\nimport useProposalFee from 'app/hooks/proposal/useProposalFee'\nimport { setVoteBidAmount } from 'app/model/voteBid.controller'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst DEFAULT_VALUE_VOTE_MULTISIG = 1\n\nconst ActionVote = ({\n  proposalAddress,\n  daoAddress,\n}: ProposalChildCardProps) => {\n  const [loadingFor, setLoadingFor] = useState(false)\n  const [loadingAgainst, setLoadingAgainst] = useState(false)\n  const daos = useSelector((state: AppState) => state.daos)\n  const amount = useSelector((state: AppState) => state.voteBid.amount)\n  const dispatch = useDispatch()\n  const { mint } = daos[daoAddress] || ({} as DaoData)\n  const { balance, decimals } = useAccountBalanceByMintAddress(mint?.toBase58())\n  const { status } = useProposalStatus(proposalAddress)\n  const { metaData: daoMetaData } = useMetaData(daoAddress)\n  const proposalFee = useProposalFee({ daoAddress })\n  const isMultisigDAO = daoMetaData?.daoType === 'multisig-dao'\n\n  const disabled = useMemo(() => {\n    if (isMultisigDAO) return status !== 'Voting' || balance <= 0\n\n    return status !== 'Voting' || !amount || !account.isAddress(proposalAddress)\n  }, [amount, balance, isMultisigDAO, proposalAddress, status])\n\n  const onVoteFor = useCallback(async () => {\n    setLoadingFor(true)\n    try {\n      if ((!amount || !account.isAddress(proposalAddress)) && !isMultisigDAO)\n        return\n      const actualAmount = isMultisigDAO ? DEFAULT_VALUE_VOTE_MULTISIG : amount\n      const voteAmount = utils.decimalize(actualAmount, decimals)\n      const nextAmount = new BN(voteAmount.toString())\n      const { txId } = await interDao.voteFor(\n        proposalAddress,\n        nextAmount,\n        proposalFee,\n      )\n      dispatch(setVoteBidAmount(''))\n      window.notify({\n        type: 'success',\n        description: 'Voted successfully. Click to view details!',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setLoadingFor(false)\n    }\n  }, [amount, decimals, dispatch, isMultisigDAO, proposalAddress, proposalFee])\n\n  const onVoteAgainst = useCallback(async () => {\n    setLoadingAgainst(true)\n    try {\n      if ((!amount || !account.isAddress(proposalAddress)) && !isMultisigDAO)\n        return\n      const actualAmount = isMultisigDAO ? DEFAULT_VALUE_VOTE_MULTISIG : amount\n      const voteAmount = utils.decimalize(actualAmount, decimals)\n      const nextAmount = new BN(voteAmount.toString())\n      const { txId } = await interDao.voteAgainst(\n        proposalAddress,\n        nextAmount,\n        proposalFee,\n      )\n      dispatch(setVoteBidAmount(''))\n      window.notify({\n        type: 'success',\n        description: 'Voted successfully. Click to view details!',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setLoadingAgainst(false)\n    }\n  }, [amount, decimals, dispatch, isMultisigDAO, proposalAddress, proposalFee])\n\n  return (\n    <Fragment>\n      {balance ? (\n        <Row gutter={[16, 16]}>\n          <Col span={isMultisigDAO ? 24 : 12}>\n            <Button\n              onClick={onVoteFor}\n              type=\"primary\"\n              disabled={disabled}\n              loading={loadingFor}\n              block\n              size=\"large\"\n              icon={<IonIcon name=\"thumbs-up-outline\" />}\n            >\n              Vote For\n            </Button>\n          </Col>\n          <Col span={isMultisigDAO ? 24 : 12}>\n            <Button\n              onClick={onVoteAgainst}\n              type=\"primary\"\n              disabled={disabled}\n              loading={loadingAgainst}\n              block\n              size=\"large\"\n              icon={<IonIcon name=\"thumbs-down-outline\" />}\n            >\n              Vote Against\n            </Button>\n          </Col>\n        </Row>\n      ) : (\n        <Button block size=\"large\" type=\"primary\" disabled={true}>\n          Voted\n        </Button>\n      )}\n    </Fragment>\n  )\n}\n\nexport default ActionVote\n","import { useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { DaoData } from '@interdao/core'\n\nimport { Card, Col, Row, Typography } from 'antd'\nimport NumericInput from 'shared/antd/numericInput'\nimport Withdraw from '../../withdraw'\nimport LockedVoting from '../lockedVoting'\nimport ActionVote from './actionVote'\n\nimport { AppState } from 'app/model'\nimport { setVoteBidAmount } from 'app/model/voteBid.controller'\nimport { ProposalChildCardProps } from '../../index'\nimport { numeric } from 'shared/util'\nimport { useAccountBalanceByMintAddress } from 'shared/hooks/useAccountBalance'\nimport { MintSymbol } from 'shared/antd/mint'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport useMetaData from 'app/hooks/useMetaData'\nimport useProposal from 'app/hooks/proposal/useProposal'\n\nconst CardVoteToken = ({\n  proposalAddress,\n  daoAddress,\n}: ProposalChildCardProps) => {\n  const daos = useSelector((state: AppState) => state.daos)\n  const amount = useSelector((state: AppState) => state.voteBid.amount)\n  const dispatch = useDispatch()\n  const { mint } = daos[daoAddress] || ({} as DaoData)\n  const { balance } = useAccountBalanceByMintAddress(mint?.toBase58())\n  const { status } = useProposalStatus(proposalAddress)\n  const { metaData: daoMetaData } = useMetaData(daoAddress)\n  const { consensusMechanism } = useProposal(proposalAddress)\n  const isMultisigDAO = daoMetaData?.daoType === 'multisig-dao'\n  const isLockedVote =\n    Object.keys(consensusMechanism || [])[0] === 'lockedTokenCounter'\n  const isComplete = useMemo(() => {\n    if (status === 'Preparing' || status === 'Voting') return false\n    return true\n  }, [status])\n\n  const onChange = (value: string) => {\n    dispatch(setVoteBidAmount(value))\n  }\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Typography.Title level={5}>Cast your votes</Typography.Title>\n        </Col>\n        {!isMultisigDAO && !isComplete && (\n          <Col span={24}>\n            <Card\n              className=\"numric-ip-card\"\n              bodyStyle={{ padding: '8px 12px' }}\n              bordered={false}\n            >\n              <Row gutter={[8, 8]}>\n                <Col flex=\"auto\">\n                  <Typography.Text>Amount votes</Typography.Text>\n                </Col>\n                <Col>\n                  <Typography.Text>\n                    Available: {numeric(balance).format('0,0.[00]')}\n                  </Typography.Text>{' '}\n                  <MintSymbol mintAddress={mint?.toBase58()} />\n                </Col>\n                <Col span={24}>\n                  <NumericInput\n                    bordered={false}\n                    style={{ padding: 0 }}\n                    placeholder=\"0\"\n                    value={amount}\n                    onValue={onChange}\n                    suffix={\n                      <Typography.Text\n                        style={{ cursor: 'pointer' }}\n                        onClick={() => onChange(balance.toString())}\n                      >\n                        MAX\n                      </Typography.Text>\n                    }\n                  />\n                </Col>\n              </Row>\n            </Card>\n          </Col>\n        )}\n        {isLockedVote && (\n          <Col span={24}>\n            <LockedVoting\n              proposalAddress={proposalAddress}\n              daoAddress={daoAddress}\n            />\n          </Col>\n        )}\n        <Col span={24}>\n          {!isComplete ? (\n            <ActionVote\n              proposalAddress={proposalAddress}\n              daoAddress={daoAddress}\n            />\n          ) : (\n            <Withdraw\n              proposalAddress={proposalAddress}\n              daoAddress={daoAddress}\n            />\n          )}\n        </Col>\n      </Row>\n    </Card>\n  )\n}\nexport default CardVoteToken\n","import { useSelector } from 'react-redux'\nimport { DaoData } from '@interdao/core'\n\nimport CardVoteByNFT from './nft'\nimport CardVoteToken from './token'\n\nimport { AppState } from 'app/model'\nimport { ProposalChildCardProps } from '../index'\n\nconst CardVote = ({ proposalAddress, daoAddress }: ProposalChildCardProps) => {\n  const daos = useSelector((state: AppState) => state.daos)\n\n  const { isNft } = daos?.[daoAddress] || ({} as DaoData)\n\n  return isNft ? (\n    <CardVoteByNFT proposalAddress={proposalAddress} daoAddress={daoAddress} />\n  ) : (\n    <CardVoteToken proposalAddress={proposalAddress} daoAddress={daoAddress} />\n  )\n}\n\nexport default CardVote\n","import { Col, Modal, Row, Typography } from 'antd'\nimport { TemplateInfoLoader } from 'app/templates/templateLoader'\n\ntype TemplateInfoProps = {\n  visible: boolean\n  setVisible: (visible: boolean) => void\n  proposalAddress: string\n}\n\nconst ModalTemplateInfo = ({\n  proposalAddress,\n  visible,\n  setVisible,\n}: TemplateInfoProps) => {\n  return (\n    <Modal\n      className=\"template-card template-info\"\n      visible={visible}\n      footer={false}\n      onCancel={() => setVisible(false)}\n    >\n      <Row>\n        <Col\n          className=\"template-info-header\"\n          span={24}\n          style={{ textAlign: 'left' }}\n        >\n          <Typography.Title level={4}>Template information</Typography.Title>\n        </Col>\n        <Col span={24} className=\"template-info-body\">\n          <TemplateInfoLoader proposalAddress={proposalAddress} />\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\n\nexport default ModalTemplateInfo\n","import { useMemo } from 'react'\nimport { ConsensusQuorum } from '@interdao/core'\n\nconst useParseQuorumText = (quorum?: ConsensusQuorum) => {\n  const quorumText = useMemo(() => {\n    if (!quorum) return '-'\n    const mechanismQuorum = Object.keys(quorum)[0]\n    if (mechanismQuorum === 'half') return '1/2'\n    if (mechanismQuorum === 'oneThird') return '1/3'\n    if (mechanismQuorum === 'twoThird') return '2/3'\n  }, [quorum])\n\n  return quorumText\n}\nexport default useParseQuorumText\n","import { useMemo, useState } from 'react'\nimport moment from 'moment'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { Card, Col, Row, Space, Typography, Tooltip, Button } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport ModalTemplateInfo from '../modalTemplateInfo'\nimport RowSpaceBetween from 'app/components/rowSpaceBetween'\n\nimport useProposal from 'app/hooks/proposal/useProposal'\nimport { asyncWait, explorer, shortenAddress } from 'shared/util'\nimport { ProposalChildCardProps } from './index'\nimport useParseQuorumText from 'app/hooks/proposal/useParseQuorumText'\n\nconst CardInfo = ({ proposalAddress, daoAddress }: ProposalChildCardProps) => {\n  const [copied, setCopied] = useState(false)\n  const [visible, setVisible] = useState(false)\n  const { consensusQuorum, startDate, endDate, consensusMechanism, creator } =\n    useProposal(proposalAddress)\n  const authProposalAddress = creator?.toBase58() || ''\n  const quorum = useParseQuorumText(consensusQuorum)\n\n  const onCopy = async () => {\n    setCopied(true)\n    await asyncWait(1500)\n    setCopied(false)\n  }\n\n  const consensus = useMemo(() => {\n    if (!consensusMechanism) return '-'\n    const _consensusMechanism = Object.keys(consensusMechanism)[0]\n    if (_consensusMechanism === 'stakedTokenCounter') return 'Staked counter'\n    if (_consensusMechanism === 'lockedTokenCounter') return 'Locked counter'\n  }, [consensusMechanism])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Row align=\"middle\">\n            <Col flex=\"auto\">\n              <Typography.Title level={5}>Information</Typography.Title>\n            </Col>\n            <Col>\n              <Button\n                type=\"text\"\n                icon={<IonIcon name=\"information-circle-outline\" />}\n                style={{ marginRight: -10 }}\n                onClick={() => setVisible(true)}\n              />\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Space style={{ width: '100%' }} direction=\"vertical\">\n            <RowSpaceBetween\n              label=\"Proposal ID\"\n              value={shortenAddress(proposalAddress, 3)}\n            />\n            <RowSpaceBetween\n              label=\"Start time\"\n              value={moment(startDate?.toNumber() * 1000).format(\n                'MMM DD,yyyy HH:mm',\n              )}\n            />\n            <RowSpaceBetween\n              label=\"End time\"\n              value={moment(endDate?.toNumber() * 1000).format(\n                'MMM DD,yyyy HH:mm',\n              )}\n            />\n            <RowSpaceBetween\n              label=\"Author\"\n              value={\n                <Space size={10}>\n                  <Typography.Text\n                    style={{ cursor: 'pointer', textDecoration: 'underline' }}\n                    onClick={() =>\n                      window.open(explorer(authProposalAddress), '_blank')\n                    }\n                  >\n                    {shortenAddress(authProposalAddress, 3)}\n                  </Typography.Text>\n                  <Tooltip title=\"Copied\" visible={copied}>\n                    <CopyToClipboard text={authProposalAddress} onCopy={onCopy}>\n                      <IonIcon\n                        style={{ cursor: 'pointer' }}\n                        name=\"copy-outline\"\n                        onClick={onCopy}\n                      />\n                    </CopyToClipboard>\n                  </Tooltip>\n                </Space>\n              }\n            />\n            <RowSpaceBetween label=\"Quorum\" value={quorum} />\n            <RowSpaceBetween label=\"Vote method\" value={consensus} />\n          </Space>\n        </Col>\n      </Row>\n      <ModalTemplateInfo\n        setVisible={setVisible}\n        visible={visible}\n        proposalAddress={proposalAddress}\n      />\n    </Card>\n  )\n}\n\nexport default CardInfo\n","import { useSelector } from 'react-redux'\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport { DaoData } from '@interdao/core'\nimport { utils } from '@senswap/sen-js'\nimport { useUI } from '@senhub/providers'\nimport BN from 'bn.js'\n\nimport { Card, Col, Row, Space, Typography, Progress } from 'antd'\nimport RowSpaceVertical from 'app/components/rowSpaceVertical'\n\nimport { ProposalChildCardProps } from './index'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\nimport useProposalStatus from 'app/hooks/proposal/useProposalStatus'\nimport useProposal from 'app/hooks/proposal/useProposal'\nimport { STROKE_COLOR } from 'app/constant'\n\nconst CardProgress = ({\n  proposalAddress,\n  daoAddress,\n}: ProposalChildCardProps) => {\n  const [backGroundColor, setBackGroundColor] = useState('')\n  const [successColor, setSuccessColor] = useState('')\n  const daos = useSelector((state: AppState) => state.daos)\n  const { votingAgainstPower, votingForPower, consensusQuorum } =\n    useProposal(proposalAddress)\n  const { mint } = daos[daoAddress] || ({} as DaoData)\n  const mintDecimal = useMintDecimals(mint?.toBase58()) || 0\n  const { status, actualSupply } = useProposalStatus(proposalAddress)\n  const {\n    ui: { theme },\n  } = useUI()\n\n  const noVote = Number(votingAgainstPower) || 0\n  const yesVote = Number(votingForPower) || 0\n  const totalVote = yesVote + noVote\n  const percentYes = (yesVote / totalVote) * 100\n  const percentNo = (noVote / totalVote) * 100\n  const defaultRequire = useMemo(\n    () => new BN(utils.decimalize(1, mintDecimal).toString()),\n    [mintDecimal],\n  )\n\n  const currentPower = useMemo(() => {\n    if (!consensusQuorum) return new BN(0)\n    const actualYesVote = votingForPower.sub(votingAgainstPower)\n    const mechanismQuorum = Object.keys(consensusQuorum)[0]\n\n    if (mechanismQuorum === 'half') {\n      const supplyNeed = actualSupply.div(new BN(2)).add(defaultRequire)\n      return actualYesVote.mul(new BN(100)).div(supplyNeed)\n    }\n\n    if (mechanismQuorum === 'oneThird') {\n      const supplyNeed = actualSupply.div(new BN(3)).add(defaultRequire)\n      return actualYesVote.mul(new BN(100)).div(supplyNeed)\n    }\n\n    if (mechanismQuorum === 'twoThird') {\n      const supplyNeed = actualSupply\n        .mul(new BN(2))\n        .div(new BN(3))\n        .add(defaultRequire)\n\n      return actualYesVote.mul(new BN(100)).div(supplyNeed)\n    }\n\n    return new BN(0)\n  }, [\n    actualSupply,\n    consensusQuorum,\n    defaultRequire,\n    votingAgainstPower,\n    votingForPower,\n  ])\n\n  const powerRequire = useMemo(() => {\n    if (!consensusQuorum || !actualSupply || currentPower.gte(new BN(100)))\n      return new BN(0)\n    const actualYesVote = votingForPower.sub(votingAgainstPower)\n    const mechanismQuorum = Object.keys(consensusQuorum)[0]\n\n    if (mechanismQuorum === 'half')\n      return actualSupply.div(new BN(2)).sub(actualYesVote).add(defaultRequire)\n\n    if (mechanismQuorum === 'oneThird')\n      return actualSupply.div(new BN(3)).sub(actualYesVote).add(defaultRequire)\n\n    if (mechanismQuorum === 'twoThird')\n      return actualSupply\n        .mul(new BN(2))\n        .div(new BN(3))\n        .add(defaultRequire)\n        .sub(actualYesVote)\n\n    return new BN(0)\n  }, [\n    actualSupply,\n    consensusQuorum,\n    currentPower,\n    defaultRequire,\n    votingAgainstPower,\n    votingForPower,\n  ])\n\n  const percentSuccess = useMemo(() => {\n    if (percentYes) return percentYes\n    if (percentNo) return 100 - percentNo\n    return 0\n  }, [percentNo, percentYes])\n\n  const getColors = useCallback(() => {\n    if (!percentNo && !percentYes)\n      return setBackGroundColor(STROKE_COLOR[theme].default)\n    if (!percentNo && percentYes)\n      return setSuccessColor(STROKE_COLOR[theme].for)\n    if (percentNo && !percentYes)\n      return setBackGroundColor(STROKE_COLOR[theme].against)\n\n    setBackGroundColor(STROKE_COLOR[theme].against)\n    return setSuccessColor(STROKE_COLOR[theme].for)\n  }, [percentNo, percentYes, theme])\n\n  const quorumText = useMemo(() => {\n    switch (status) {\n      case 'Failed':\n        return 'The proposal has been failed'\n      case 'Succeeded':\n        return 'The proposal has been approved'\n      default:\n        return `${numeric(\n          utils.undecimalize(BigInt(powerRequire.toString()), mintDecimal),\n        ).format('0,0.[0000]')} more Vote For required`\n    }\n  }, [mintDecimal, powerRequire, status])\n\n  useEffect(() => {\n    getColors()\n  }, [getColors])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Typography.Title level={5}>Current results</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Space size={0} style={{ width: '100%' }} direction=\"vertical\">\n            <Typography.Text type=\"secondary\">Quorum</Typography.Text>\n            <Typography.Text>{quorumText}</Typography.Text>\n            <Progress\n              percent={100}\n              strokeColor={STROKE_COLOR[theme].default}\n              success={{\n                percent: currentPower.toNumber(),\n                strokeColor: STROKE_COLOR[theme].for,\n              }}\n              showInfo={false}\n            />\n          </Space>\n        </Col>\n        <Col span={24}>\n          <Row gutter={[4, 4]}>\n            <Col flex=\"auto\">\n              <RowSpaceVertical\n                label=\"Voted For\"\n                size={0}\n                value={\n                  <Typography.Title level={4}>\n                    {numeric(\n                      utils.undecimalize(BigInt(yesVote), mintDecimal),\n                    ).format('0,0.[0000]')}\n                  </Typography.Title>\n                }\n              />\n            </Col>\n            <Col>\n              <RowSpaceVertical\n                label=\"Voted Against\"\n                size={0}\n                align=\"end\"\n                value={\n                  <Typography.Title level={4}>\n                    {numeric(\n                      utils.undecimalize(BigInt(noVote), mintDecimal),\n                    ).format('0,0.[0000]')}\n                  </Typography.Title>\n                }\n              />\n            </Col>\n            <Col span={24}>\n              <Progress\n                style={{ width: '100%' }}\n                percent={100}\n                strokeColor={backGroundColor}\n                success={{\n                  percent: percentSuccess,\n                  strokeColor: successColor,\n                }}\n                showInfo={false}\n              />\n            </Col>\n            <Col span={24}>\n              <Row>\n                <Col flex=\"auto\">\n                  <Typography.Text type=\"secondary\">\n                    {numeric(percentYes).format('0,0.[00]')}%\n                  </Typography.Text>\n                </Col>\n                <Col>\n                  <Typography.Text type=\"secondary\">\n                    {numeric(percentNo).format('0,0.[00]')}%\n                  </Typography.Text>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default CardProgress\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport useMetaData from 'app/hooks/useMetaData'\nimport { AppState } from 'app/model'\nimport { Typography } from 'antd'\n\ntype ColumnNameProps = {\n  authority: string\n  proposalAddress: string\n}\n\nconst ColumnName = ({ authority, proposalAddress }: ColumnNameProps) => {\n  const { proposal } = useSelector((state: AppState) => state)\n  const { dao } = proposal?.[proposalAddress]\n  const { metaData } = useMetaData(dao.toBase58())\n\n  const name = useMemo(() => {\n    const members = metaData?.members || []\n    for (const { walletAddress, name } of members) {\n      if (walletAddress === authority) {\n        return name\n      }\n    }\n    return '--'\n  }, [authority, metaData])\n\n  return <Typography.Text className=\"t-16\">{name}</Typography.Text>\n}\n\nexport default ColumnName\n","import { PublicKey } from '@solana/web3.js'\nimport { ReceiptData } from '@interdao/core'\n\nimport { Typography } from 'antd'\nimport ColumnType from './columnType'\nimport ColumnPower from './columnPower'\n\nimport { shortenAddress } from 'shared/util'\nimport ColumnName from './columnName'\n\nexport const HISTORY_COLUMNS_FLEXIBLE = [\n  {\n    title: 'WALLET ADDRESS',\n    dataIndex: 'authority',\n    render: (walletAddress: PublicKey) => (\n      <Typography>{shortenAddress(walletAddress.toBase58())}</Typography>\n    ),\n  },\n  {\n    title: 'TYPE',\n    dataIndex: 'authority',\n    render: (_: any, receipt: ReceiptData) => <ColumnType record={receipt} />,\n  },\n  {\n    title: 'POWER',\n    dataIndex: 'power',\n    render: (_: any, receipt: ReceiptData) => <ColumnPower receipt={receipt} />,\n  },\n]\n\nexport const HISTORY_COLUMNS_MULTISIG = [\n  {\n    title: 'NAME',\n    dataIndex: 'authority',\n    render: (authority: PublicKey, receipt: ReceiptData) => (\n      <ColumnName\n        proposalAddress={receipt.proposal.toBase58()}\n        authority={authority.toBase58()}\n      />\n    ),\n  },\n  {\n    title: 'WALLET ADDRESS',\n    dataIndex: 'authority',\n    render: (walletAddress: PublicKey) => (\n      <Typography>{shortenAddress(walletAddress.toBase58())}</Typography>\n    ),\n  },\n  {\n    title: 'TYPE',\n    dataIndex: 'authority',\n    render: (_: any, receipt: ReceiptData) => <ColumnType record={receipt} />,\n  },\n]\n","import { useCallback, useEffect, useState } from 'react'\nimport { ReceiptData } from '@interdao/core'\n\nimport { Card, Col, Row, Typography, Table, Button } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport { HISTORY_COLUMNS_MULTISIG, HISTORY_COLUMNS_FLEXIBLE } from './column'\nimport { getReceipts } from 'app/hooks/proposal/useReceipts'\n\nimport './index.less'\nimport useMetaData from 'app/hooks/useMetaData'\n\nconst DEFAULT_AMOUNT_HISTORY = 5\n\nconst History = ({\n  proposalAddress,\n  daoAddress,\n}: {\n  proposalAddress: string\n  daoAddress: string\n}) => {\n  const [amount, setAmount] = useState(DEFAULT_AMOUNT_HISTORY)\n  const [loading, setLoading] = useState(false)\n  const [listReceipt, setListReceipt] = useState<ReceiptData[]>([])\n  const { metaData } = useMetaData(daoAddress)\n  const isMultisigDAO = metaData?.daoType === 'multisig-dao'\n  const historyColum = isMultisigDAO\n    ? HISTORY_COLUMNS_MULTISIG\n    : HISTORY_COLUMNS_FLEXIBLE\n\n  const fetchReceipts = useCallback(async () => {\n    setLoading(true)\n    const receipts = await getReceipts(proposalAddress)\n    const nextReceipts: ReceiptData[] = []\n    Object.values(receipts).forEach((receipt) => {\n      const { authority, power, action } = receipt\n      const actionType = Object.keys(action || {})[0]\n      const owner = authority.toBase58()\n\n      const existReceipt = nextReceipts.find((_receipt) => {\n        const { action: _action, authority: _authority } = _receipt\n        const _actionType = Object.keys(_action || {})[0]\n        const _owner = _authority.toBase58()\n\n        return _owner === owner && actionType === _actionType\n      })\n      if (!existReceipt) return nextReceipts.push(receipt)\n\n      const { power: oldPower } = existReceipt\n      const index = nextReceipts.findIndex(\n        (_receipt) => _receipt === existReceipt,\n      )\n      if (index !== -1)\n        return (nextReceipts[index] = {\n          ...nextReceipts[index],\n          power: oldPower.add(power),\n        })\n    })\n    setLoading(false)\n    return setListReceipt(nextReceipts)\n  }, [proposalAddress])\n\n  useEffect(() => {\n    fetchReceipts()\n  }, [fetchReceipts])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Row>\n            <Col flex=\"auto\">\n              <Typography.Title level={5}> Votes</Typography.Title>\n            </Col>\n            <Col>\n              <Button onClick={fetchReceipts}>Refresh</Button>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Table\n            columns={historyColum}\n            dataSource={listReceipt.slice(0, amount)}\n            pagination={false}\n            loading={loading}\n            rowKey={({ index, lockedDate }) =>\n              index.toNumber() + lockedDate.toNumber()\n            }\n          />\n        </Col>\n        <Col span={24} style={{ textAlign: 'center' }}>\n          <Button\n            disabled={listReceipt.length <= amount}\n            onClick={() => setAmount(amount + DEFAULT_AMOUNT_HISTORY)}\n            icon={<IonIcon name=\"chevron-down-outline\" />}\n          >\n            View more\n          </Button>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\nexport default History\n","import { useParams, useHistory } from 'react-router-dom'\n\nimport { Button, Col, Row, Spin } from 'antd'\nimport CardStatus from './cardStatus'\nimport CardVote from './cardVote'\nimport CardInfo from './cardInfo'\nimport CardProgress from './cardProgress'\nimport History from './history'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport configs from 'app/configs'\nimport useProposalMetaData from 'app/hooks/proposal/useProposalMetaData'\n\nimport './index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport type ProposalChildCardProps = {\n  proposalAddress: string\n  daoAddress: string\n}\n\nconst ProposalDetails = () => {\n  const history = useHistory()\n  const { proposalAddress, daoAddress } =\n    useParams<{ daoAddress: string; proposalAddress: string }>()\n  const { loading } = useProposalMetaData(proposalAddress)\n\n  return (\n    <Spin spinning={loading} tip=\"Loading Proposal Data...\">\n      <Row justify=\"center\">\n        <Col xs={24} lg={18}>\n          <Row gutter={[24, 24]}>\n            <Col span={24}>\n              <Button\n                type=\"text\"\n                icon={<IonIcon name=\"arrow-back-outline\" />}\n                onClick={() => history.push(`/app/${appId}/dao/${daoAddress}`)}\n              >\n                Back\n              </Button>\n            </Col>\n            <Col span={24}>\n              <Row gutter={[24, 24]}>\n                <Col xs={24} md={16}>\n                  <Row gutter={[24, 24]}>\n                    <Col span={24}>\n                      <CardStatus\n                        proposalAddress={proposalAddress}\n                        daoAddress={daoAddress}\n                      />\n                    </Col>\n                    <Col span={24}>\n                      <CardVote\n                        proposalAddress={proposalAddress}\n                        daoAddress={daoAddress}\n                      />\n                    </Col>\n                    <Col span={24}>\n                      <History\n                        proposalAddress={proposalAddress}\n                        daoAddress={daoAddress}\n                      />\n                    </Col>\n                  </Row>\n                </Col>\n                <Col xs={24} md={8}>\n                  <Row gutter={[24, 24]}>\n                    <Col span={24}>\n                      <CardInfo\n                        proposalAddress={proposalAddress}\n                        daoAddress={daoAddress}\n                      />\n                    </Col>\n                    <Col span={24}>\n                      <CardProgress\n                        proposalAddress={proposalAddress}\n                        daoAddress={daoAddress}\n                      />\n                    </Col>\n                  </Row>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </Spin>\n  )\n}\nexport default ProposalDetails\n","import { useHistory } from 'react-router-dom'\n\nimport { Row, Button, Col, ButtonProps } from 'antd'\n\nimport configs from 'app/configs'\n\nconst {\n  manifest: { appId },\n} = configs\n\ntype ActionButtonProps = {\n  daoAddress: string\n  onSave: () => void\n} & ButtonProps\n\nconst ActionButton = ({ daoAddress, onSave, ...rest }: ActionButtonProps) => {\n  const history = useHistory()\n\n  const onCancel = async () => {\n    history.push(`/app/${appId}/dao/${daoAddress}`)\n  }\n\n  return (\n    <Row>\n      <Col flex=\"auto\">\n        <Button size=\"large\" onClick={onCancel} type=\"text\">\n          Cancel\n        </Button>\n      </Col>\n      <Col>\n        <Button size=\"large\" {...rest} onClick={onSave} type=\"primary\">\n          Save\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ActionButton\n","import { useEffect, useMemo, useState } from 'react'\nimport { CID } from 'ipfs-core'\n\nimport { Col, Row } from 'antd'\nimport ActionButton from './actionButton'\n\nimport IPFS from 'app/helpers/ipfs'\nimport { explorer } from 'shared/util'\nimport configs from 'app/configs'\nimport useMetaData from 'app/hooks/useMetaData'\nimport usePDB from 'app/hooks/usePDB'\nimport FormInputDetail from 'app/components/formInputDetail'\nimport { DEFAULT_META_DATA } from 'app/model/createDao.controller'\nimport { validURL } from 'app/helpers'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst Information = ({ daoAddress }: { daoAddress: string }) => {\n  const [loading, setLoading] = useState(false)\n  const { metaData } = useMetaData(daoAddress)\n  const [nextMetadata, setNextMetadata] = useState(metaData)\n  const pdb = usePDB()\n\n  const updateMetaData = async () => {\n    if (!nextMetadata) return\n    try {\n      setLoading(true)\n      const ipfs = new IPFS()\n      const cid = await ipfs.set(nextMetadata)\n      const {\n        multihash: { digest },\n      } = CID.parse(cid)\n      const daoMetaData = Buffer.from(digest)\n      const { txId } = await interDao.updateDaoMetadata(daoMetaData, daoAddress)\n      window.notify({\n        type: 'success',\n        description:\n          'Update information successfully. Click here to view details',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n\n      const localMetadata = { ...nextMetadata, cid } //update metadata for realtime\n      return pdb.setItem(daoAddress, localMetadata)\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const validLink = useMemo(() => {\n    if (!nextMetadata) return\n    const { optionals } = nextMetadata\n    if (!optionals.length) return true\n    for (const link of optionals) if (!validURL(link)) return false\n    return true\n  }, [nextMetadata])\n\n  useEffect(() => {\n    if (!nextMetadata && metaData) setNextMetadata(metaData)\n  }, [metaData, nextMetadata])\n\n  return (\n    <Row gutter={[32, 32]}>\n      <Col span={24}>\n        <FormInputDetail\n          metadata={nextMetadata || DEFAULT_META_DATA}\n          setMetadata={setNextMetadata}\n        />\n      </Col>\n      <Col span={24}>\n        <ActionButton\n          onSave={updateMetaData}\n          daoAddress={daoAddress}\n          loading={loading}\n          disabled={!validLink}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Information\n","import { ChangeEvent, useCallback, useEffect, useState } from 'react'\nimport isEqual from 'react-fast-compare'\n\nimport { Button, Col, Row, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport MemberInput from 'app/view/createDao/setRule/multisig/memberInput'\n\nimport { DAOMember } from 'app/model/createDao.controller'\n\ntype DAOMembersProps = {\n  members: DAOMember[]\n  setMember: (members: DAOMember[]) => void\n}\n\nconst DAOMembers = ({ members, setMember }: DAOMembersProps) => {\n  const [oldMember, setOldMember] = useState<string[]>([])\n\n  const addMember = () => {\n    const nextMembers = [...members]\n    nextMembers.push({ name: '', walletAddress: '' })\n    return setMember(nextMembers)\n  }\n\n  const onChangeMember = (e: ChangeEvent<HTMLInputElement>, index: number) => {\n    const nextMembers = [...members]\n    for (const { walletAddress } of members) {\n      if (isEqual(walletAddress, e.target.value))\n        return window.notify({\n          type: 'warning',\n          description: 'This wallet address already exists',\n        })\n    }\n    nextMembers[index] = {\n      ...nextMembers[index],\n      [e.target.name]: e.target.value,\n    }\n    return setMember(nextMembers)\n  }\n\n  const remove = (index: number) => {\n    const nextMembers = [...members]\n    nextMembers.splice(index, 1)\n    return setMember(nextMembers)\n  }\n\n  const setDefaultMembers = useCallback(() => {\n    if (oldMember.length) return\n    const oldAddresses = []\n    for (const { walletAddress } of members) {\n      oldAddresses.push(walletAddress)\n    }\n    return setOldMember(oldAddresses)\n  }, [members, oldMember])\n\n  useEffect(() => {\n    setDefaultMembers()\n  }, [setDefaultMembers])\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Typography.Title level={4}>\n          People who'll be part of your team.\n        </Typography.Title>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[12, 12]}>\n          {members.length &&\n            members.map(({ name, walletAddress }, idx) => {\n              return (\n                <Col span={24} key={idx}>\n                  <MemberInput\n                    name={name}\n                    walletAddress={walletAddress}\n                    onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                      onChangeMember(e, idx)\n                    }\n                    remove={() => remove(idx)}\n                    disabledRemove={oldMember.includes(walletAddress)}\n                    disabledWalletInput={oldMember.includes(walletAddress)}\n                    disabledName={oldMember.includes(walletAddress)}\n                  />\n                </Col>\n              )\n            })}\n          <Col span={4}>\n            <Button\n              block\n              type=\"dashed\"\n              icon={<IonIcon name=\"add-outline\" />}\n              onClick={addMember}\n            >\n              Add\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DAOMembers\n","import { useEffect, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { CID } from 'ipfs-core'\nimport { DaoRegimes } from '@interdao/core'\n\nimport { Col, Row } from 'antd'\nimport ActionButton from '../../actionButton'\nimport DAOMembers from './daoMembers'\nimport Regime from 'app/view/createDao/setRule/multisig/regime'\n\nimport { AppState } from 'app/model'\nimport { explorer } from 'shared/util'\nimport configs from 'app/configs'\nimport IPFS from 'app/helpers/ipfs'\nimport MultisigWallet from 'app/helpers/mutisigWallet'\nimport usePDB from 'app/hooks/usePDB'\nimport { DAOMember, MetaData } from 'app/model/createDao.controller'\nimport useMetaData from 'app/hooks/useMetaData'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst EditMultisigDaoRule = ({ daoAddress }: { daoAddress: string }) => {\n  const [loading, setLoading] = useState(false)\n  const { metaData } = useMetaData(daoAddress)\n  const [nextMetadata, setNextMetadata] = useState<MetaData>()\n  const daos = useSelector((state: AppState) => state.daos)\n\n  const pdb = usePDB()\n\n  const disabled = useMemo(() => {\n    if (!nextMetadata) return true\n    for (const { walletAddress } of nextMetadata.members) {\n      if (!account.isAddress(walletAddress)) return true\n    }\n    return false\n  }, [nextMetadata])\n\n  const validAccount = async (walletAddress: string, mintAddress: string) => {\n    try {\n      const { splt } = window.sentre\n      const associatedAddress = await splt.deriveAssociatedAddress(\n        walletAddress,\n        mintAddress,\n      )\n      const data = await splt.getAccountData(associatedAddress)\n      if (data) return false\n    } catch (error) {\n      return true\n    }\n  }\n\n  const updateMember = async () => {\n    if (!nextMetadata) return\n    const { mint } = daos?.[daoAddress]\n    const mintAddress = mint.toBase58()\n    try {\n      setLoading(true)\n      const ipfs = new IPFS()\n      const cid = await ipfs.set(nextMetadata)\n      const {\n        multihash: { digest },\n      } = CID.parse(cid)\n      const daoMetaData = Buffer.from(digest)\n      const { txId } = await interDao.updateDaoMetadata(daoMetaData, daoAddress)\n      const multisigWallet = new MultisigWallet(mintAddress)\n\n      for (const { walletAddress } of nextMetadata.members) {\n        const isValid = await validAccount(walletAddress, mintAddress)\n        if (!isValid) continue\n        await multisigWallet.mintToAccount(walletAddress, 1)\n      }\n\n      window.notify({\n        type: 'success',\n        description: 'Update members successfully. Click here to view details',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n\n      const localMetadata = { ...nextMetadata, cid } //update metadata for realtime\n      return pdb.setItem(daoAddress, localMetadata)\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const onChangeMember = (members: DAOMember[]) => {\n    if (!nextMetadata) return\n    setNextMetadata({ ...nextMetadata, members })\n  }\n\n  useEffect(() => {\n    if (!nextMetadata && metaData) setNextMetadata(metaData)\n  }, [metaData, nextMetadata])\n\n  return (\n    <Row gutter={[32, 32]}>\n      <Col span={24}>\n        <Regime regime={DaoRegimes.Autonomous} />\n      </Col>\n      <Col span={24}>\n        <DAOMembers\n          members={nextMetadata?.members || []}\n          setMember={onChangeMember}\n        />\n      </Col>\n      <Col span={24}>\n        <ActionButton\n          loading={loading}\n          onSave={updateMember}\n          daoAddress={daoAddress}\n          disabled={disabled}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default EditMultisigDaoRule\n","import { useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport BN from 'bn.js'\nimport { DaoRegime } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\n\nimport { Col, Row } from 'antd'\nimport ActionButton from '../actionButton'\nimport RegimeInput from 'app/view/createDao/setRule/flexible/regimeInput'\nimport CirculatingSupply from 'app/view/createDao/setRule/flexible/circulatingSupply'\n\nimport configs from 'app/configs'\nimport { AppState } from 'app/model'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport { explorer } from 'shared/util'\nimport util from '@senswap/sen-js/dist/utils'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst EditFlexibleDaoRule = ({ daoAddress }: { daoAddress: string }) => {\n  const { isNft, mint, regime, supply } = useSelector(\n    (state: AppState) => state.daos[daoAddress],\n  )\n  const decimals = useMintDecimals(mint.toBase58()) || 0\n  const [loading, setLoading] = useState(false)\n  const [nextRegime, setRegime] = useState<DaoRegime>(regime)\n  const [nextSupply, setSupply] = useState('0')\n\n  const updateRegime = async () => {\n    if (!nextRegime || isEqual(nextRegime, regime)) return\n    try {\n      const { txId } = await interDao.updateDaoRegime(nextRegime, daoAddress)\n      return window.notify({\n        type: 'success',\n        description: 'Update regime successfully. Click here to view details',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    }\n  }\n\n  const updateSupply = async () => {\n    if (!nextSupply) return\n    const supplyDecimal = util.decimalize(nextSupply, decimals).toString()\n    if (isEqual(new BN(supplyDecimal), supply)) return\n    try {\n      const { txId: txIdSupply } = await interDao.updateDaoSupply(\n        new BN(supplyDecimal),\n        daoAddress,\n      )\n      return window.notify({\n        type: 'success',\n        description: 'Update supply successfully. Click here to view details',\n        onClick: () => window.open(explorer(txIdSupply), '_blank'),\n      })\n    } catch (er: any) {\n      window.notify({ type: 'error', description: er.message })\n    }\n  }\n\n  const onUpdate = async () => {\n    setLoading(true)\n    await updateRegime()\n    await updateSupply()\n    return setLoading(false)\n  }\n\n  useEffect(() => {\n    const defaultSupply = supply.div(new BN(10 ** decimals))\n    if (defaultSupply) setSupply(defaultSupply.toString())\n  }, [decimals, supply])\n\n  return (\n    <Row gutter={[32, 32]}>\n      <Col span={24}>\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <RegimeInput value={nextRegime} onChangeRegime={setRegime} />\n          </Col>\n          <Col span={24}>\n            <CirculatingSupply\n              isNft={isNft}\n              mintAddress={mint.toBase58()}\n              supply={nextSupply}\n              onChangeSupply={setSupply}\n            />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <ActionButton\n          loading={loading}\n          onSave={onUpdate}\n          daoAddress={daoAddress}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default EditFlexibleDaoRule\n","import EditMultisigDaoRule from './editMultisigDaoRule'\nimport EditFlexibleDaoRule from './editFlexibleDaoRule'\n\nimport useMetaData from 'app/hooks/useMetaData'\n\nconst Rule = ({ daoAddress }: { daoAddress: string }) => {\n  const { metaData } = useMetaData(daoAddress)\n\n  return metaData?.daoType === 'multisig-dao' ? (\n    <EditMultisigDaoRule daoAddress={daoAddress} />\n  ) : (\n    <EditFlexibleDaoRule daoAddress={daoAddress} />\n  )\n}\n\nexport default Rule\n","import { ChangeEvent, useState } from 'react'\nimport { account } from '@senswap/sen-js'\n\nimport { Col, Input, Row, Space, Typography } from 'antd'\nimport RowSpaceVertical from 'app/components/rowSpaceVertical'\nimport ActionButton from './actionButton'\nimport IonIcon from '@sentre/antd-ionicon'\n\nimport configs from 'app/configs'\nimport { explorer } from 'shared/util'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst TransferAuthority = ({ daoAddress }: { daoAddress: string }) => {\n  const [authority, setAuthority] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const updateAuthority = async () => {\n    if (!account.isAddress(authority)) return\n    try {\n      setLoading(true)\n      const { txId } = await interDao.transferAuthority(authority, daoAddress)\n      return window.notify({\n        type: 'success',\n        description:\n          'Transfer authority successfully. Click here to view details',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Space size={12}>\n          <IonIcon name=\"alert-circle-outline\" />\n          <Typography.Text type=\"secondary\" className=\"caption\">\n            Your current account will lose the DAO control when you transfer\n            authority.\n          </Typography.Text>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <RowSpaceVertical\n          style={{ width: '100%' }}\n          label=\"Transfer to author\"\n          value={\n            <Input\n              placeholder=\"E.g. Agt8...\"\n              onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                setAuthority(e.target.value)\n              }\n              className=\"border-less\"\n            />\n          }\n        />\n      </Col>\n      <Col span={24} />\n      <Col span={24}>\n        <ActionButton\n          loading={loading}\n          daoAddress={daoAddress}\n          onSave={updateAuthority}\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default TransferAuthority\n","import { useParams } from 'react-router-dom'\n\nimport { Card, Col, Row, Tabs, Typography } from 'antd'\nimport Information from './editDaoDetail'\nimport Rule from './rule'\nimport TransferAuthority from './transferAuthority'\n\nimport './index.less'\n\nconst EditDAO = () => {\n  const { daoAddress } = useParams<{ daoAddress: string }>()\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\">\n      <Col xs={24} lg={16}>\n        <Card bodyStyle={{ padding: 0 }} bordered={false} className=\"edit-dao\">\n          <Row>\n            <Col span={24} className=\"edit-dao_header\">\n              <Typography.Title level={4}>Edit DAO</Typography.Title>\n            </Col>\n            <Col span={24} className=\"edit-dao_body\">\n              <Tabs>\n                <Tabs.TabPane key=\"information\" tab=\"Information\">\n                  <Information daoAddress={daoAddress} />\n                </Tabs.TabPane>\n                <Tabs.TabPane key=\"rule\" tab=\"Rule\">\n                  <Rule daoAddress={daoAddress} />\n                </Tabs.TabPane>\n                <Tabs.TabPane key=\"transfer-authority\" tab=\"Transfer Authority\">\n                  <TransferAuthority daoAddress={daoAddress} />\n                </Tabs.TabPane>\n              </Tabs>\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\nexport default EditDAO\n","import { Fragment, useMemo } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { Row, Col, Spin, Typography, Space } from 'antd'\nimport { AppState } from 'app/model'\n\nimport './index.less'\n\nconst Loading: React.FC = ({ children }) => {\n  const loading = useSelector((state: AppState) => state.loading)\n\n  const loadingElement = useMemo(() => {\n    return Object.values(loading).find((e) => e.loading === true)\n  }, [loading])\n\n  if (!loadingElement?.message) return <Fragment>{children}</Fragment>\n  return (\n    <div className=\"loading-screen\" style={{ display: 'block' }}>\n      <Row gutter={[24, 24]}>\n        <Col span={24} style={{ height: 256 }} />\n        <Col span={24}>\n          <Row gutter={[24, 24]} justify=\"center\">\n            <Col>\n              <Space direction=\"vertical\" align=\"center\" size={32}>\n                <Spin size=\"large\" />\n                <Typography.Title level={5}>\n                  {loadingElement?.message}\n                </Typography.Title>\n              </Space>\n            </Col>\n          </Row>\n        </Col>\n      </Row>\n    </div>\n  )\n}\n\nexport default Loading\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { account } from '@senswap/sen-js'\nimport { DaoData, DAO_DISCRIMINATOR } from '@interdao/core'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\n/**\n * Interface & Utility\n */\n\nexport type DaoState = Record<string, DaoData>\n\n/**\n * Store constructor\n */\n\nconst NAME = 'dao'\nconst initialState: DaoState = {}\n\n/**\n * Actions\n */\n\nexport const getDaos = createAsyncThunk(`${NAME}/getDaos`, async () => {\n  const accounts = await interDao.program.account.dao.all([\n    {\n      memcmp: {\n        offset: 0,\n        bytes: DAO_DISCRIMINATOR,\n      },\n    },\n  ])\n  let bulk: Record<string, DaoData> = {}\n  accounts.forEach(({ publicKey, account }) => {\n    const address = publicKey.toBase58()\n    bulk[address] = account as any\n  })\n  return bulk\n})\n\nexport const getDao = createAsyncThunk<\n  Partial<DaoState>,\n  { address: string; force?: boolean },\n  { state: any }\n>(`${NAME}/getDao`, async ({ address, force }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  const {\n    daos: { [address]: data },\n  } = getState()\n  if (data && !force) return { [address]: data }\n  const daoData: DaoData = await interDao.getDaoData(address)\n  return {\n    [address]: daoData,\n  }\n})\n\nexport const upsetDao = createAsyncThunk<\n  Partial<DaoState>,\n  { address: string; data: DaoData },\n  { state: any }\n>(`${NAME}/upsetDao`, async ({ address, data }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  if (!data) throw new Error('Data is empty')\n  return {\n    [address]: { ...data },\n  }\n})\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        getDaos.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        getDao.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetDao.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\n/**\n * Interface & Utility\n */\n\nexport type LoadingState = Record<string, { loading: boolean; message: string }>\n/**\n * Store constructor\n */\n\nconst NAME = 'voteBid'\nconst initialState: LoadingState = {}\n\n/**\n * Actions\n */\n\nexport const addLoading = createAsyncThunk<\n  LoadingState,\n  { id: string; message: string }\n>(`${NAME}/addLoading`, async ({ id, message }) => {\n  return { [id]: { loading: true, message } }\n})\n\nexport const clearLoading = createAsyncThunk(\n  `${NAME}/clearLoading`,\n  async (id: string) => {\n    return { [id]: { loading: false, message: '' } }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        addLoading.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        clearLoading.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\nimport { PublicKey } from '@solana/web3.js'\n\nimport { AppDispatch } from 'app/model'\nimport configs from 'app/configs'\nimport { getDao, getDaos } from 'app/model/daos.controller'\nimport { addLoading, clearLoading } from 'app/model/loading.controller'\n\nconst {\n  sol: { interDao },\n} = configs\n\n// Watch id\nconst EVENTS = [\n  'InitializeDAOEvent',\n  'UpdateDaoRegimeEvent',\n  'UpdateSupplyEvent',\n  'TransferAuthorityEvent',\n  'UpdateDaoMetadataEvent',\n]\nconst TIME_RECHECK = 500\n\ntype WatchState = {\n  id: number\n  interval: NodeJS.Timer\n}\nconst watcherState: Record<string, WatchState> = {}\n\nconst DaoWatcher = () => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const dispatch = useDispatch<AppDispatch>()\n\n  const reloadDaoData = useCallback(\n    ({ dao: daoPublicKey }: { dao: PublicKey }) => {\n      const daoAddress = daoPublicKey.toBase58()\n      return dispatch(getDao({ address: daoAddress, force: true }))\n    },\n    [dispatch],\n  )\n\n  // First-time fetching\n  const fetchData = useCallback(async () => {\n    dispatch(\n      addLoading({\n        id: 'fetch-daos',\n        message: 'Welcome to InterDAO. The application is loading...',\n      }),\n    )\n    try {\n      if (!account.isAddress(walletAddress)) return\n      await dispatch(getDaos()).unwrap()\n    } catch (er) {\n      return window.notify({\n        type: 'error',\n        description: 'Cannot fetch data of DAOs',\n      })\n    } finally {\n      setTimeout(() => {\n        dispatch(clearLoading('fetch-daos'))\n      }, 2000)\n    }\n  }, [dispatch, walletAddress])\n\n  // Watch dao events\n  const watchData = useCallback(async () => {\n    for (const event of EVENTS) {\n      const state = watcherState[event] || {}\n      if (state.interval || state.id) continue\n      state.interval = setInterval(async () => {\n        if (state.id) return clearInterval(state.interval)\n        state.id = await interDao.addListener(event as any, reloadDaoData)\n      }, TIME_RECHECK)\n    }\n  }, [reloadDaoData])\n\n  useEffect(() => {\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        for (const event of EVENTS) {\n          const state = watcherState[event]\n          try {\n            await interDao.removeListener(state.id)\n          } catch (er: any) {\n            console.warn(er.message)\n          } finally {\n            state.id = 0\n          }\n        }\n      })()\n    }\n  }, [fetchData, watchData])\n\n  return <Fragment />\n}\n\nexport default DaoWatcher\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { PublicKey } from '@solana/web3.js'\n\nimport { AppDispatch } from 'app/model'\nimport configs from 'app/configs'\nimport { getProposal, getProposals } from 'app/model/proposal.controller'\nimport { addLoading, clearLoading } from 'app/model/loading.controller'\n\nconst {\n  sol: { interDao },\n} = configs\n\n// Watch id\nlet initializeProposalEventId = 0\nlet voteForEventId = 0\nlet voteAgainstEventId = 0\nlet executeProposalEventId = 0\n\nlet watchInitializeProposal: NodeJS.Timer\nlet watchVoteFor: NodeJS.Timer\nlet watchVoteAgainst: NodeJS.Timer\nlet watchExecuteProposal: NodeJS.Timer\n\nconst TIME_RECHECK = 500\n\nconst ProposalWatcher = () => {\n  const dispatch = useDispatch<AppDispatch>()\n\n  const reloadProposalData = useCallback(\n    ({ proposal: proposalPublicKey }: { proposal: PublicKey }) => {\n      const proposalAddress = proposalPublicKey.toBase58()\n      return dispatch(getProposal({ address: proposalAddress, force: true }))\n    },\n    [dispatch],\n  )\n\n  // First-time fetching\n  const fetchData = useCallback(async () => {\n    try {\n      dispatch(\n        addLoading({\n          id: 'fetch-proposals',\n          message: 'Welcome to InterDAO. Loading proposal...',\n        }),\n      )\n      dispatch(getProposals()) //fetch all proposal\n    } catch (er) {\n      return window.notify({\n        type: 'error',\n        description: 'Cannot fetch data of DAOs',\n      })\n    } finally {\n      setTimeout(() => {\n        dispatch(clearLoading('fetch-proposals'))\n      }, 2000)\n    }\n  }, [dispatch])\n\n  // Watch dao events\n  const watchData = useCallback(async () => {\n    watchInitializeProposal = setInterval(async () => {\n      if (initializeProposalEventId)\n        return clearInterval(watchInitializeProposal)\n      initializeProposalEventId = await interDao.addListener(\n        'InitializeProposalEvent',\n        reloadProposalData,\n      )\n    }, TIME_RECHECK)\n\n    watchVoteFor = setInterval(async () => {\n      if (voteForEventId) return clearInterval(watchVoteFor)\n      voteForEventId = await interDao.addListener(\n        'VoteForEvent',\n        reloadProposalData,\n      )\n    }, TIME_RECHECK)\n\n    watchVoteAgainst = setInterval(async () => {\n      if (voteAgainstEventId) return clearInterval(watchVoteAgainst)\n      voteAgainstEventId = await interDao.addListener(\n        'VoteAgainstEvent',\n        reloadProposalData,\n      )\n    }, TIME_RECHECK)\n\n    watchExecuteProposal = setInterval(async () => {\n      if (executeProposalEventId) return clearInterval(watchExecuteProposal)\n      executeProposalEventId = await interDao.addListener(\n        'ExecuteProposalEvent',\n        reloadProposalData,\n      )\n    }, TIME_RECHECK)\n  }, [reloadProposalData])\n\n  useEffect(() => {\n    // I don't understand why but this fixes the watcher error\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await interDao.removeListener(initializeProposalEventId)\n          await interDao.removeListener(voteForEventId)\n          await interDao.removeListener(voteAgainstEventId)\n          await interDao.removeListener(executeProposalEventId)\n        } catch (er: any) {\n          console.warn(er.message)\n        } finally {\n          initializeProposalEventId = 0\n          voteForEventId = 0\n          voteAgainstEventId = 0\n          executeProposalEventId = 0\n        }\n      })()\n    }\n  }, [dispatch, fetchData, watchData])\n\n  return <Fragment />\n}\n\nexport default ProposalWatcher\n","import { AccountInfo, PublicKey } from '@solana/web3.js'\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport {\n  ProposalData,\n  ReceiptData,\n  RECEIPT_DISCRIMINATOR,\n} from '@interdao/core'\nimport { account } from '@senswap/sen-js'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\n/**\n * Interface & Utility\n */\n\nexport type ReceiptState = Record<string, ReceiptData>\n\n/**\n * Store constructor\n */\n\nconst NAME = 'receipt'\nconst initialState: ReceiptState = {}\n\n/**\n * Actions\n */\n\nexport const getReceipts = createAsyncThunk(\n  `${NAME}/getReceipts`,\n  async ({ authorityAddress }: { authorityAddress: string }) => {\n    if (!account.isAddress(authorityAddress)) throw new Error('Invalid address')\n    const {\n      provider: { connection },\n      programId,\n      account: { receipt },\n    } = interDao.program\n    const value: Array<{ pubkey: PublicKey; account: AccountInfo<Buffer> }> =\n      await connection.getProgramAccounts(programId, {\n        filters: [\n          { dataSize: receipt.size },\n          {\n            memcmp: {\n              offset: 0,\n              bytes: RECEIPT_DISCRIMINATOR,\n            },\n          },\n          {\n            memcmp: {\n              offset: 16,\n              bytes: authorityAddress,\n            },\n          },\n        ],\n      })\n    let bulk: ReceiptState = {}\n    value.forEach(({ pubkey, account: { data: buf } }) => {\n      const address = pubkey.toBase58()\n      const data = interDao.parseReceiptData(buf)\n      bulk[address] = data\n    })\n    return bulk\n  },\n)\n\nexport const getReceipt = createAsyncThunk<\n  ReceiptState,\n  { address: string; force?: boolean },\n  { state: any }\n>(`${NAME}/getReceipt`, async ({ address, force }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  const {\n    dao: { [address]: data },\n  } = getState()\n  if (data && !force) return { [address]: data }\n  const raw = await interDao.getReceiptData(address)\n  return { [address]: raw }\n})\n\nexport const upsetReceipt = createAsyncThunk<\n  ReceiptState,\n  { address: string; data: ProposalData },\n  { state: any }\n>(`${NAME}/upsetReceipt`, async ({ address, data }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  if (!data) throw new Error('Data is empty')\n  return { [address]: data }\n})\n\nexport const deleteReceipt = createAsyncThunk(\n  `${NAME}/deleteReceipt`,\n  async ({ address }: { address: string }) => {\n    if (!account.isAddress(address)) throw new Error('Invalid address')\n    return { address }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        getReceipts.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        getReceipt.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetReceipt.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        deleteReceipt.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { PublicKey } from '@solana/web3.js'\nimport { useWallet } from '@senhub/providers'\nimport { account } from '@senswap/sen-js'\n\nimport { AppDispatch } from 'app/model'\nimport configs from 'app/configs'\nimport { getReceipt, getReceipts } from 'app/model/receipt.controller'\nimport { addLoading, clearLoading } from 'app/model/loading.controller'\n\nconst {\n  sol: { interDao },\n} = configs\n\n// Watch id\nlet voteForEventId = 0\nlet voteAgainstEventId = 0\nlet closeEventId = 0\n\nlet watchVoteFor: NodeJS.Timer\nlet watchVoteAgainst: NodeJS.Timer\nlet watchClose: NodeJS.Timer\n\nconst TIME_RECHECK = 500\n\nconst ReceiptWatcher = () => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const dispatch = useDispatch<AppDispatch>()\n\n  const reloadReceiptData = useCallback(\n    ({ receipt: receiptPublicKey }: { receipt: PublicKey }) => {\n      const receiptAddress = receiptPublicKey.toBase58()\n      return dispatch(getReceipt({ address: receiptAddress, force: true }))\n    },\n    [dispatch],\n  )\n\n  // First-time fetching\n  const fetchData = useCallback(async () => {\n    try {\n      dispatch(\n        addLoading({\n          id: 'fetch-receipt',\n          message: 'Welcome to InterDAO. Loading Receipts...',\n        }),\n      )\n      if (!account.isAddress(walletAddress)) return\n      await dispatch(getReceipts({ authorityAddress: walletAddress })).unwrap()\n    } catch (er) {\n      return window.notify({\n        type: 'error',\n        description: 'Cannot fetch data of receipts',\n      })\n    } finally {\n      dispatch(clearLoading('fetch-receipt'))\n    }\n  }, [dispatch, walletAddress])\n\n  // Watch dao events\n  const watchData = useCallback(async () => {\n    watchVoteFor = setInterval(async () => {\n      if (voteForEventId) return clearInterval(watchVoteFor)\n      voteForEventId = await interDao.addListener(\n        'VoteForEvent',\n        reloadReceiptData,\n      )\n    }, TIME_RECHECK)\n\n    watchVoteAgainst = setInterval(async () => {\n      if (voteAgainstEventId) return clearInterval(watchVoteAgainst)\n      voteAgainstEventId = await interDao.addListener(\n        'VoteAgainstEvent',\n        reloadReceiptData,\n      )\n    }, TIME_RECHECK)\n\n    watchClose = setInterval(async () => {\n      if (closeEventId) return clearInterval(watchClose)\n      closeEventId = await interDao.addListener('CloseEvent', reloadReceiptData)\n    }, TIME_RECHECK)\n  }, [reloadReceiptData])\n\n  useEffect(() => {\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await interDao.removeListener(voteForEventId)\n          await interDao.removeListener(voteAgainstEventId)\n          await interDao.removeListener(closeEventId)\n        } catch (er: any) {\n          console.warn(er.message)\n        } finally {\n          voteForEventId = 0\n          voteAgainstEventId = 0\n          closeEventId = 0\n        }\n      })()\n    }\n  }, [fetchData, watchData])\n\n  return <Fragment />\n}\n\nexport default ReceiptWatcher\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { AppState } from 'app/model'\nimport { getCID } from 'app/helpers'\nimport IPFS from 'app/helpers/ipfs'\nimport usePDB from 'app/hooks/usePDB'\nimport { MetaData } from 'app/model/createDao.controller'\n\nconst ipfs = new IPFS()\n\nexport type LocalMetadata = {\n  cid: string\n} & MetaData\n\nconst MetadataWatcher = () => {\n  const daos = useSelector((state: AppState) => state.daos)\n  const pdb = usePDB()\n\n  const loadAllMetaData = useCallback(async () => {\n    Object.keys(daos).map(async (daoAddress) => {\n      const metadata = (await pdb.getItem(daoAddress)) as LocalMetadata\n      const { metadata: digest } = daos[daoAddress]\n      const cid = getCID(digest)\n      if (metadata && metadata.cid === cid) return\n      const data: MetaData = await ipfs.get(cid)\n      if (!data) return\n      const localMetadata = { ...data, cid }\n      await pdb.setItem(daoAddress, localMetadata)\n    })\n  }, [daos, pdb])\n\n  useEffect(() => {\n    loadAllMetaData()\n  }, [loadAllMetaData])\n\n  return <Fragment />\n}\n\nexport default MetadataWatcher\n","import { useEffect } from 'react'\nimport { useUI } from '@senhub/providers'\nimport { Redirect, Route, Switch } from 'react-router-dom'\n\nimport { Row, Col } from 'antd'\nimport Dao from './dao'\nimport Proposal from './proposal'\nimport ProposalInitialization from './proposal/proposalInitialization'\nimport CreateDao from './createDao'\nimport ProposalDetails from './proposal/proposalDetails'\nimport EditDAO from './dao/editDao'\nimport Loading from 'app/components/loading'\n\nimport DaoWatcher from '../watcher/dao.watcher'\nimport ProposalWatcher from '../watcher/proposal.watcher'\nimport ReceiptWatcher from '../watcher/receipt.watcher'\nimport MetadataWatcher from '../watcher/metadata.watcher'\n\nimport BG from 'app/static/images/system/bg-dark.png'\nimport BG_LIGHT from 'app/static/images/system/bg-light.png'\nimport configs from 'app/configs'\n\nimport 'app/static/styles/dark.less'\nimport 'app/static/styles/light.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst View = () => {\n  const { setBackground } = useUI()\n\n  useEffect(() => {\n    setBackground({ light: BG_LIGHT, dark: BG })\n  }, [setBackground])\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\">\n      <Loading>\n        <Col span={24}>\n          <Switch>\n            <Route exact path={`/app/${appId}/dao`} component={Dao} />\n            <Route\n              exact\n              path={`/app/${appId}/dao/create-dao`}\n              component={CreateDao}\n            />\n            <Route\n              exact\n              path={`/app/${appId}/dao/:daoAddress`}\n              component={Proposal}\n            />\n            <Route\n              exact\n              path={`/app/${appId}/dao/:daoAddress/edit`}\n              component={EditDAO}\n            />\n            <Route\n              exact\n              path={`/app/${appId}/dao/:daoAddress/new-proposal`}\n              component={ProposalInitialization}\n            />\n            <Route\n              exact\n              path={`/app/${appId}/dao/:daoAddress/proposal/:proposalAddress`}\n              component={ProposalDetails}\n            />\n            <Redirect from=\"*\" to={`/app/${appId}/dao`} />\n          </Switch>\n        </Col>\n      </Loading>\n      <Col span={24} />\n      <DaoWatcher />\n      <ProposalWatcher />\n      <ReceiptWatcher />\n      <MetadataWatcher />\n    </Row>\n  )\n}\n\nexport default View\n","import { PublicKey } from '@solana/web3.js'\nimport BN from 'bn.js'\n\n// Bugfix performance\n// https://github.com/zalmoxisus/redux-devtools-extension/blob/master/docs/Troubleshooting.md#excessive-use-of-memory-and-cpu\nexport const devTools = (appName: string): any => {\n  if (process.env.REACT_APP_ENV !== 'development') return false\n  return {\n    name: appName,\n    actionSanitizer: ({ payload, type }: { payload: any; type: string }) => ({\n      payload,\n      type,\n    }),\n  }\n}\n\n// BigInt Serialization Middleware\n// https://redux-toolkit.js.org/api/serializabilityMiddleware\nconst isPlain = (val: any): boolean => {\n  const isPlainObject = (obj: object): boolean => {\n    if (obj === null) return false\n    const proto = Object.getPrototypeOf(obj)\n    return proto !== null && Object.getPrototypeOf(proto) === null\n  }\n\n  return (\n    typeof val === 'undefined' ||\n    val === null ||\n    typeof val === 'string' ||\n    typeof val === 'boolean' ||\n    typeof val === 'number' ||\n    Array.isArray(val) ||\n    isPlainObject(val) ||\n    typeof val === 'bigint' ||\n    val instanceof PublicKey ||\n    val instanceof BN ||\n    Buffer.isBuffer(val)\n  )\n}\nBigInt.prototype.toJSON = function () {\n  return this.toString() // https://github.com/GoogleChromeLabs/jsbi/issues/30\n}\n\nexport const bigintSerializationMiddleware = {\n  serializableCheck: {\n    isSerializable: isPlain,\n  },\n}\n","import { configureStore } from '@reduxjs/toolkit'\nimport { devTools, bigintSerializationMiddleware } from 'app/model/devTools'\n\nimport loading from 'app/model/loading.controller'\nimport daos from 'app/model/daos.controller'\nimport createDao from 'app/model/createDao.controller'\nimport tokenHolder from 'app/model/tokenHolder.controller'\nimport proposal from 'app/model/proposal.controller'\nimport receipt from 'app/model/receipt.controller'\nimport voteBid from 'app/model/voteBid.controller'\nimport template from 'app/model/template.controller'\n\n/**\n * Isolated store\n */\nconst model = configureStore({\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware(bigintSerializationMiddleware),\n  devTools: devTools(process.env.REACT_APP_ID as string),\n  reducer: {\n    createDao,\n    daos,\n    tokenHolder,\n    proposal,\n    receipt,\n    voteBid,\n    template,\n    loading,\n  },\n})\n\nexport type AppState = ReturnType<typeof model.getState>\nexport type AppDispatch = typeof model.dispatch\nexport default model\n","import { Provider } from 'react-redux'\nimport {\n  WalletProvider,\n  UIProvider,\n  AccountProvider,\n  PoolProvider,\n  MintProvider,\n} from '@senhub/providers'\n\nimport View from 'app/view'\nimport model from 'app/model'\nimport configs from 'app/configs'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport const Page = () => {\n  return (\n    <UIProvider appId={appId} antd={{ prefixCls: appId }}>\n      <WalletProvider>\n        <AccountProvider>\n          <PoolProvider>\n            <MintProvider>\n              <Provider store={model}>\n                <View />\n              </Provider>\n            </MintProvider>\n          </PoolProvider>\n        </AccountProvider>\n      </WalletProvider>\n    </UIProvider>\n  )\n}\n\nexport * from 'app/static.app'\n","import { Tag } from 'antd'\n\nexport type ProposalStatusType =\n  | 'Failed'\n  | 'Voting'\n  | 'Preparing'\n  | 'Succeeded'\n  | 'Executed'\n  | 'Loading'\n\nexport type ProposalStatusProps = {\n  status: ProposalStatusType\n}\n\nconst STATUS_COLOR: Record<string, string> = {\n  Succeeded: '#0CA1BF',\n  Failed: '#F9575E',\n  Preparing: '#D4B106',\n  Executed: '#03A326',\n  Voting: '#40A9FF',\n  Loading: '#1a1311',\n}\n\nconst ProposalStatus = ({ status }: ProposalStatusProps) => {\n  return (\n    <Tag\n      style={{ color: STATUS_COLOR[status], border: 'solid', margin: 0 }}\n      color={'transparent'}\n    >\n      {status}\n    </Tag>\n  )\n}\n\nexport default ProposalStatus\n","import { ReactNode } from 'react'\n\nimport { Col, Row, Typography } from 'antd'\n\ntype RowSpaceBetweenProps = {\n  label: string\n  value: ReactNode\n}\nconst RowSpaceBetween = ({ label = '', value = '' }: RowSpaceBetweenProps) => {\n  return (\n    <Row align=\"middle\" gutter={[24, 24]}>\n      <Col flex=\"auto\">\n        <Typography.Text type=\"secondary\">{label}</Typography.Text>\n      </Col>\n      <Col>{value}</Col>\n    </Row>\n  )\n}\n\nexport default RowSpaceBetween\n","import { ReactNode } from 'react'\n\nimport { Space, SpaceProps, Typography } from 'antd'\n\nconst RowSpaceVertical = ({\n  label = '',\n  value,\n  ...rest\n}: {\n  label?: string\n  value: ReactNode\n} & SpaceProps) => {\n  return (\n    <Space {...rest} direction=\"vertical\">\n      <Typography.Text type=\"secondary\">{label}</Typography.Text>\n      {value}\n    </Space>\n  )\n}\n\nexport default RowSpaceVertical\n","import { Env } from 'shared/runtime'\n\nif (\n  typeof process.env.REACT_APP_ID !== 'string' ||\n  typeof process.env.REACT_APP_URL !== 'string'\n)\n  throw new Error('Please add REACT_APP_ID, REACT_APP_URL in .env!')\n\n/**\n * Contructor\n */\n\ntype Conf = {\n  appId: string\n  url: string\n}\n\nconst shared = {\n  appId: process.env.REACT_APP_ID,\n  url: process.env.REACT_APP_URL,\n}\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    ...shared,\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    ...shared,\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    ...shared,\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import InterDAO from '@interdao/core'\nimport { Utility } from '@sentre/utility'\n\nimport SafeWallet from 'app/helpers/safeWallet'\nimport { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Conf = {\n  interDao: InterDAO\n  utility: Utility\n  fee: number\n  taxman: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    interDao: new InterDAO(\n      new SafeWallet(),\n      'https://api.devnet.solana.com',\n      'BND6UZZG2rLGtaYLioBtXFnrBtvtp5g6YXWKEc4LLqrJ',\n    ),\n    utility: new Utility(new SafeWallet(), 'https://api.devnet.solana.com'),\n    fee: 1000000, // 0.000005 SOL\n    taxman: '8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    interDao: new InterDAO(new SafeWallet(), 'https://api.testnet.solana.com'),\n    utility: new Utility(new SafeWallet(), 'https://api.devnet.solana.com'),\n    fee: 1000000, // 0.000005 SOL\n    taxman: '8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    interDao: new InterDAO(new SafeWallet(), 'https://ssc-dao.genesysgo.net/'),\n    utility: new Utility(new SafeWallet(), 'https://ssc-dao.genesysgo.net/'),\n    fee: 1000000, // 0.000005 SOL\n    taxman: '8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { env, net } from 'shared/runtime'\nimport manifest from './manifest.config'\nimport sol from './sol.config'\n\nconst configs = {\n  manifest: manifest[env],\n  sol: sol[net],\n}\n\n/**\n * Module exports\n */\nexport default configs\n","import { CID } from 'ipfs-core'\n\nconst SOCIALS_MEDIA: Record<string, string> = {\n  t: 'logo-telegram',\n  twitter: 'logo-twitter',\n  facebook: 'logo-facebook',\n  discord: 'logo-discord',\n  global: 'globe',\n  medium: 'logo-medium',\n}\nexport const fileToBase64 = (\n  file: File,\n  callBack: (result: string | ArrayBuffer | null) => void,\n) => {\n  const reader = new FileReader()\n  reader.readAsDataURL(file)\n  reader.onload = async () => {\n    if (reader.result) callBack(reader.result)\n  }\n}\n\nexport const getCID = (digest: number[]) => {\n  const v0Prefix = new Uint8Array([18, 32])\n  const v0Digest = new Uint8Array(v0Prefix.length + digest?.length)\n  v0Digest.set(v0Prefix) // multicodec + length\n  v0Digest.set(digest, v0Prefix.length)\n  const cid = CID.decode(v0Digest)\n  return cid.toString()\n}\n\nexport const validURL = (value: string) => {\n  return /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test(\n    value,\n  )\n}\n\nexport const getIcon = (url: string) => {\n  if (!validURL(url)) return ''\n  let socialName = ''\n  const domain = new URL(url)\n  const host = domain.hostname.replace('www.', '')\n  for (const char of host) {\n    if (char === '.') break\n    socialName += char\n  }\n  const iconName = SOCIALS_MEDIA[socialName.toLowerCase()]\n  if (!iconName) return SOCIALS_MEDIA['global']\n  return iconName\n}\n","import { Web3Storage } from 'web3.storage'\n\nimport { DataLoader } from 'shared/dataloader'\n\nconst KEY =\n  'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDg4MzdCZUI2ODM5MTcwODZjQUI3OTU0MzI3ZTgwOWU1ZTlCZTc2NTEiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NTU0NTU5NzI5MjAsIm5hbWUiOiJTZW50cmUifQ.Jf7oQOKMrBxp5morvs7DR_As4EU9Y5WybyuvY1teFN8'\n\nclass IPFS {\n  private provider: Web3Storage\n  constructor() {\n    this.provider = new Web3Storage({\n      token: KEY,\n    })\n  }\n\n  set = async (data: object) => {\n    const file = new File([JSON.stringify(data)], 'file', {\n      type: 'application/json',\n    })\n    const cid = await this.provider.put([file])\n    return cid\n  }\n\n  get = async <T>(cid: string): Promise<T> => {\n    return DataLoader.load<T>(`ipfs^${cid}`, async () => {\n      const re = await this.provider.get(cid)\n      const file = ((await re?.files()) || [])[0]\n      const reader = new FileReader()\n      return new Promise((resolve, reject) => {\n        try {\n          if (!file) throw new Error('Cannot read empty file')\n          reader.onload = () => {\n            const contents = reader.result?.toString()\n            if (!contents) throw new Error('Cannot read empty file')\n            return resolve(JSON.parse(contents))\n          }\n          reader.readAsText(file)\n        } catch (er: any) {\n          return reject(er.message)\n        }\n      })\n    })\n  }\n}\n\nexport default IPFS\n","import { Transaction, PublicKey } from '@solana/web3.js'\nimport { AnchorWallet } from '@interdao/core'\nimport { WalletInterface } from '@senswap/sen-js'\n\nclass SafeWallet implements AnchorWallet {\n  private _wallet: WalletInterface = window.sentre.wallet\n  private _publicKey: PublicKey = new PublicKey(\n    'GuestAccount11111111111111111111111111111111',\n  )\n\n  constructor() {\n    this._init()\n  }\n\n  private _init = async () => {\n    const address = await this._wallet.getAddress()\n    this._publicKey = new PublicKey(address)\n  }\n\n  signTransaction = async (tx: Transaction): Promise<Transaction> => {\n    return this._wallet.signTransaction(tx)\n  }\n\n  signAllTransactions = async (txs: Transaction[]): Promise<Transaction[]> => {\n    let signedTxs: Transaction[] = []\n    for (const tx of txs) {\n      const signedTx = await this.signTransaction(tx)\n      signedTxs.push(signedTx)\n    }\n    return signedTxs\n  }\n\n  get publicKey() {\n    console.warn(\n      'This is an async getter for interface consistency. Please do not fully rely on this function.',\n    )\n    return this._publicKey\n  }\n}\n\nexport default SafeWallet\n","import { useCallback, useEffect, useState } from 'react'\nimport { useDispatch } from 'react-redux'\n\nimport { AppDispatch } from 'app/model'\nimport { getCID } from 'app/helpers'\nimport { ProposalMetaData } from 'app/view/proposal/proposalInitialization'\nimport IPFS from 'app/helpers/ipfs'\nimport { getProposal } from 'app/model/proposal.controller'\nimport { DataLoader } from 'shared/dataloader'\n\nconst useProposalMetaData = (proposalAddress: string) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const [metaData, setMetaData] = useState<ProposalMetaData>()\n  const [loading, setLoading] = useState(true)\n\n  const getMetaData = useCallback(async () => {\n    try {\n      setLoading(true)\n      const {\n        [proposalAddress]: { metadata: digest },\n      } = await DataLoader.load(`getProposal:${proposalAddress}`, () =>\n        dispatch(getProposal({ address: proposalAddress })).unwrap(),\n      )\n      if (!digest) return setMetaData(undefined)\n      const cid = getCID(digest)\n      const ipfs = new IPFS()\n      const data = await ipfs.get<any>(cid)\n      return setMetaData(data)\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    } finally {\n      setLoading(false)\n    }\n  }, [dispatch, proposalAddress])\n\n  useEffect(() => {\n    getMetaData()\n  }, [getMetaData])\n\n  return { metaData, loading }\n}\n\nexport default useProposalMetaData\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { ProposalData } from '@interdao/core'\nimport BN from 'bn.js'\n\nimport { ProposalStatusType } from 'app/components/proposalStatus'\n\nimport { AppState } from 'app/model'\n\nconst currentDate = Math.floor(Number(new Date()) / 1000)\n\nconst useProposalStatus = (proposalAddress: string) => {\n  const proposal = useSelector((state: AppState) => state.proposal)\n  const {\n    startDate,\n    endDate,\n    executed,\n    supply,\n    votingAgainstPower,\n    votingForPower,\n    consensusQuorum,\n    consensusMechanism,\n  } = proposal[proposalAddress] || ({} as ProposalData)\n\n  const actualSupply = useMemo(() => {\n    if (!supply) return new BN(0)\n    const mechanism = consensusMechanism\n      ? Object.keys(consensusMechanism)[0]\n      : ''\n    if (mechanism === 'stakedTokenCounter') return supply\n    return supply.mul(endDate.sub(startDate))\n  }, [consensusMechanism, endDate, startDate, supply])\n\n  const isSuccess = useMemo(() => {\n    const quorum = consensusQuorum ? Object.keys(consensusQuorum)[0] : ''\n    if (!votingAgainstPower || !votingAgainstPower) return false\n    const votingPower = votingForPower.sub(votingAgainstPower)\n\n    if (votingPower.lte(new BN(0))) return false\n    if (quorum === 'half' && votingPower.cmp(actualSupply.div(new BN(2))) === 1)\n      return true\n    if (\n      quorum === 'oneThird' &&\n      votingPower.cmp(actualSupply.div(new BN(3))) === 1\n    )\n      return true\n    if (\n      quorum === 'twoThird' &&\n      votingPower.cmp(actualSupply.mul(new BN(2)).div(new BN(3))) === 1\n    )\n      return true\n    return false\n  }, [actualSupply, consensusQuorum, votingAgainstPower, votingForPower])\n\n  const status: ProposalStatusType = useMemo(() => {\n    if (!proposal) return 'Loading'\n    if (currentDate < Number(startDate)) return 'Preparing'\n    if (currentDate < Number(endDate)) return 'Voting'\n    if (executed) return 'Executed'\n    if (isSuccess) return 'Succeeded'\n    return 'Failed'\n  }, [endDate, executed, isSuccess, proposal, startDate])\n\n  return { status, isSuccess, actualSupply }\n}\n\nexport default useProposalStatus\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { DaoData } from '@interdao/core'\n\nimport usePDB from './usePDB'\nimport IPFS from 'app/helpers/ipfs'\nimport { AppState } from 'app/model'\nimport { getCID } from 'app/helpers'\nimport { LocalMetadata } from 'app/watcher/metadata.watcher'\nimport { MetaData } from 'app/model/createDao.controller'\n\nconst ipfs = new IPFS()\n\nconst useMetaData = (daoAddress: string) => {\n  const [metaData, setMetaData] = useState<MetaData>()\n  const [loading, setLoading] = useState(false)\n  const daos = useSelector((state: AppState) => state.daos)\n  const pdb = usePDB()\n\n  const getMetaData = useCallback(async () => {\n    if (!account.isAddress(daoAddress)) return setMetaData(undefined)\n    setLoading(true)\n    const data = (await pdb.getItem(daoAddress)) as LocalMetadata\n    const { metadata: digest } = daos[daoAddress] || ({} as DaoData)\n    if (!digest) return setLoading(false)\n    const cid = getCID(digest)\n    if (data && cid === data.cid) {\n      setMetaData(data)\n      return setLoading(false)\n    }\n\n    const metadata: MetaData = await ipfs.get(cid)\n    if (!metadata) return setLoading(false)\n\n    const localMetadata = { ...metadata, cid }\n    await pdb.setItem(daoAddress, localMetadata)\n\n    setMetaData(metadata)\n    return setLoading(false)\n  }, [daoAddress, daos, pdb])\n\n  useEffect(() => {\n    getMetaData()\n  }, [getMetaData])\n\n  return { metaData, loading }\n}\n\nexport default useMetaData\n","import { useMemo } from 'react'\nimport { useWallet } from '@senhub/providers'\n\nimport configs from 'app/configs'\nimport PDB from 'shared/pdb'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst usePDB = () => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n\n  const pdb = useMemo(() => {\n    return new PDB(walletAddress).createInstance(appId)\n  }, [walletAddress])\n\n  return pdb\n}\n\nexport default usePDB\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { ProposalData } from '@interdao/core'\nimport { account } from '@senswap/sen-js'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\n/**\n * Interface & Utility\n */\n\nexport type ProposalState = Record<string, ProposalData>\n\n/**\n * Store constructor\n */\n\nconst NAME = 'proposal'\nconst initialState: ProposalState = {}\n\n/**\n * Actions\n */\n\nexport const getProposals = createAsyncThunk(\n  `${NAME}/getProposals`,\n  async () => {\n    const { account } = interDao.program\n    let bulk: ProposalState = {}\n\n    const proposals = await account.proposal.all()\n    for (const { publicKey, account: proposalData } of proposals) {\n      const address = publicKey.toBase58()\n      bulk[address] = proposalData as any\n    }\n    return bulk\n  },\n)\n\nexport const getProposal = createAsyncThunk<\n  ProposalState,\n  { address: string; force?: boolean },\n  { state: any }\n>(`${NAME}/getProposal`, async ({ address, force }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  const {\n    proposal: { [address]: data },\n  } = getState()\n  if (data && !force) return { [address]: data }\n  const raw = await interDao.getProposalData(address)\n  return { [address]: raw }\n})\n\nexport const upsetProposal = createAsyncThunk<\n  ProposalState,\n  { address: string; data: ProposalData },\n  { state: any }\n>(`${NAME}/upsetProposal`, async ({ address, data }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  if (!data) throw new Error('Data is empty')\n  return { [address]: data }\n})\n\nexport const deleteProposal = createAsyncThunk(\n  `${NAME}/deleteProposal`,\n  async ({ address }: { address: string }) => {\n    if (!account.isAddress(address)) throw new Error('Invalid address')\n    return { address }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        getProposals.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        getProposal.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetProposal.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        deleteProposal.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { TemplateNames } from 'app/templates'\n\nimport { ProposalReturnType } from 'app/view/templates/types'\n\n/**\n * Interface & Utility\n */\n\nexport type TemplateState = {\n  visible: boolean\n  tx?: ProposalReturnType\n  templateName?: TemplateNames\n  data: Record<string, string>\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'template'\nconst initialState: TemplateState = {\n  visible: false,\n  tx: undefined,\n  templateName: undefined,\n  data: {},\n}\n\n/**\n * Actions\n */\n\nexport const setVisible = createAsyncThunk(\n  `${NAME}/setVisible`,\n  async (visible: boolean) => {\n    return { visible }\n  },\n)\n\nexport const setTx = createAsyncThunk(\n  `${NAME}/setTx`,\n  async (tx?: ProposalReturnType) => {\n    return { tx }\n  },\n)\n\nexport const clearTx = createAsyncThunk(`${NAME}/clearTx`, async () => {\n  return { tx: undefined }\n})\n\nexport const setTemplateName = createAsyncThunk(\n  `${NAME}/setTemplateName`,\n  async (name?: TemplateNames) => {\n    return { templateName: name }\n  },\n)\n\nexport const setTemplateData = createAsyncThunk(\n  `${NAME}/setTemplateData`,\n  async (templateData: Record<string, string>) => {\n    return templateData\n  },\n)\n\nexport const clearTemplate = createAsyncThunk(\n  `${NAME}/clearTemplate`,\n  async () => {\n    return { visible: false, tx: undefined, templateName: undefined, data: {} }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        setTemplateData.fulfilled,\n        (state, { payload }) => void Object.assign(state.data, payload),\n      )\n      .addCase(\n        setVisible.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setTx.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setTemplateName.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        clearTx.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        clearTemplate.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { RulesData, RulesName } from './core/rule'\n\n// Config\nexport enum TemplateNames {\n  'SplTransfer' = 'spl-transfer',\n  'SplApprove' = 'spl-approve',\n  'BlankTemplate' = 'blank',\n}\n\n// Component Type\nexport type PropsCreateComponent = {\n  daoAddress: string\n}\n// System type\nexport type TemplateIdl = {\n  name: TemplateNames\n  accounts: (TemplateAccount | TemplateAccountWithRule)[]\n  args: (TemplateArg | TemplateArgWithRule)[]\n  programId: string\n}\n\nexport type TemplateAccount = {\n  name: string\n  isMut: boolean\n  isSigner: boolean\n  isMaster: boolean\n}\nexport type TemplateAccountWithRule = TemplateAccount & {\n  rule: {\n    name: RulesName\n    configs: RulesData[TemplateAccountWithRule['rule']['name']]\n  }\n}\nexport const isTemplateAccountWithRule = (\n  idlAccount: TemplateAccount | TemplateAccountWithRule,\n): idlAccount is TemplateAccountWithRule => {\n  // @ts-ignore\n  return idlAccount.rule !== undefined\n}\n\nexport type TemplateArg = {\n  name: string\n  type: 'u8' | 'u64' | 'u32'\n}\nexport type TemplateArgWithRule = TemplateArg & {\n  rule: {\n    name: RulesName\n    configs: RulesData[TemplateAccountWithRule['rule']['name']]\n  }\n}\nexport const isTemplateArgWithRule = (\n  idlArg: TemplateArg | TemplateArgWithRule,\n): idlArg is TemplateArgWithRule => {\n  // @ts-ignore\n  return idlArg.rule !== undefined\n}\n","import { ReactNode, useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nimport { Avatar } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nconst DEFAULT_AVATARS: Array<string | undefined> = [undefined]\n\nexport type MintAvatarProps = {\n  mintAddress: string\n  size?: number\n  icon?: ReactNode\n  reversed?: boolean\n}\n\n/**\n * Mint/Token avatar, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param size - Avatar size. Default 24px.\n * @param icon - Fallback icon for unknown token\n * @param reversed - (Optional) The default LP token avatar is A-B. The reversed is to change it to B-A\n * @returns name\n */\nconst MintAvatar = ({\n  mintAddress,\n  size = 24,\n  icon = <IonIcon name=\"diamond-outline\" />,\n  reversed = false,\n  ...props\n}: MintAvatarProps) => {\n  const [avatars, setAvatars] = useState(DEFAULT_AVATARS)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveAvatar = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.logoURI) return token.logoURI\n      return undefined\n    },\n    [tokenProvider],\n  )\n\n  const deriveAvatars = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setAvatars(DEFAULT_AVATARS)\n    // LP mint\n    const poolData = Object.values(pools || {}).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const avatars = await Promise.all([mint_a, mint_b].map(deriveAvatar))\n      if (reversed) avatars.reverse()\n      return setAvatars(avatars)\n    }\n    // Normal mint\n    const avatar = await deriveAvatar(mintAddress)\n    return setAvatars([avatar])\n  }, [mintAddress, reversed, deriveAvatar, pools])\n\n  useEffect(() => {\n    deriveAvatars()\n  }, [deriveAvatars])\n\n  if (avatars.length === 1)\n    return (\n      <Avatar\n        src={avatars[0]}\n        size={size}\n        style={{ backgroundColor: '#2D3355', border: 'none' }}\n        {...props}\n      >\n        {icon}\n      </Avatar>\n    )\n  return (\n    <Avatar.Group style={{ display: 'block', whiteSpace: 'nowrap' }} {...props}>\n      {avatars.map((avatar, i) => (\n        <Avatar\n          key={i}\n          src={avatar}\n          size={size}\n          style={{ backgroundColor: '#2D3355', border: 'none' }}\n        >\n          {icon}\n        </Avatar>\n      ))}\n    </Avatar.Group>\n  )\n}\n\nexport default MintAvatar\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nconst DEFAULT_NAME = 'Unknown Token'\n\n/**\n * Mint/Token name, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param separator - (Optional) In case of LP tokens, the names is combined by 2 token names. The separator is to separate them.\n * @param reversed - (Optional) The default LP token names is A-B. The reversed is to change it to B-A\n * @returns name\n */\nconst MintName = ({\n  mintAddress,\n  separator = '  ',\n  reversed = false,\n}: {\n  mintAddress: string\n  separator?: string\n  reversed?: boolean\n}) => {\n  const [name, setName] = useState(DEFAULT_NAME)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveName = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.name) return token.name\n      return DEFAULT_NAME\n    },\n    [tokenProvider],\n  )\n\n  const deriveNames = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setName(DEFAULT_NAME)\n    // LP mint\n    const poolData = Object.values(pools || {}).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const names = await Promise.all([mint_a, mint_b].map(deriveName))\n      if (reversed) names.reverse()\n      return setName(`${names.join(separator)} LP`)\n    }\n    // Normal mint\n    const name = await deriveName(mintAddress)\n    return setName(name)\n  }, [mintAddress, reversed, deriveName, pools, separator])\n\n  useEffect(() => {\n    deriveNames()\n  }, [deriveNames])\n\n  return <span>{name}</span>\n}\n\nexport default MintName\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nconst DEFAULT_SYMBOL = 'TOKN'\n\n/**\n * Mint/Token symbol, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param separator - (Optional) In case of LP tokens, the symbols is combined by 2 token symbols. The separator is to separate them.\n * @param reversed - (Optional) The default LP token symbol is A-B. The reversed is to change it to B-A\n * @returns symbol\n */\nconst MintSymbol = ({\n  mintAddress,\n  separator = '  ',\n  reversed = false,\n}: {\n  mintAddress: string\n  separator?: string\n  reversed?: boolean\n}) => {\n  const [symbol, setSymbol] = useState(DEFAULT_SYMBOL)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveSymbol = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.symbol) return token.symbol\n      return address.substring(0, 4)\n    },\n    [tokenProvider],\n  )\n\n  const deriveSymbols = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setSymbol(DEFAULT_SYMBOL)\n    // LP mint\n    const poolData = Object.values(pools || {}).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const symbols = await Promise.all([mint_a, mint_b].map(deriveSymbol))\n      if (reversed) symbols.reverse()\n      return setSymbol(symbols.join(separator))\n    }\n    // Normal mint\n    const symbol = await deriveSymbol(mintAddress)\n    return setSymbol(symbol)\n  }, [mintAddress, reversed, deriveSymbol, pools, separator])\n\n  useEffect(() => {\n    deriveSymbols()\n  }, [deriveSymbols])\n\n  return <span>{symbol}</span>\n}\n\nexport default MintSymbol\n","import { Card, Space, Typography } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { MintAvatar } from 'shared/antd/mint'\nimport MintSymbol from '../mintSymbol'\n\nimport { randomColor } from 'shared/util'\n\nimport './index.less'\n\nexport type MintTagProps = {\n  mintAddress: string\n  onClick?: (mintAddress: string) => void\n  active?: boolean\n}\n\nconst MintTag = ({\n  mintAddress,\n  onClick = () => {},\n  active = false,\n}: MintTagProps) => {\n  return (\n    <Card\n      bodyStyle={{\n        padding: 8,\n        cursor: 'pointer',\n      }}\n      style={{\n        borderRadius: 8,\n        backgroundColor: randomColor(mintAddress, 0.2),\n      }}\n      className=\"mint-tag\"\n      bordered={Boolean(active)}\n      onClick={() => onClick(mintAddress)}\n    >\n      <Space size={8} style={{ width: '100%', justifyContent: 'center' }}>\n        <MintAvatar mintAddress={mintAddress} />\n        <Typography.Text\n          ellipsis={true}\n          style={{ color: randomColor(mintAddress) }}\n        >\n          <MintSymbol mintAddress={mintAddress} />\n        </Typography.Text>\n        {active && <IonIcon name=\"checkmark-outline\" />}\n      </Space>\n    </Card>\n  )\n}\nexport default MintTag\n","import { Card, Col, Row, Space, Typography } from 'antd'\nimport { MintAvatar, MintName, MintSymbol } from 'shared/antd/mint'\n\nexport type MintSelectionProps = {\n  mintAddress: string\n  onClick?: (mintAddress: string) => void\n}\n\nconst MintCard = ({ mintAddress, onClick = () => {} }: MintSelectionProps) => {\n  return (\n    <Card\n      bodyStyle={{ padding: 8 }}\n      style={{ boxShadow: 'unset', cursor: 'pointer' }}\n      bordered={false}\n      onClick={() => onClick(mintAddress)}\n    >\n      <Row gutter={[16, 16]} align=\"middle\">\n        <Col>\n          <MintAvatar mintAddress={mintAddress} size={36} />\n        </Col>\n        <Col>\n          <Space direction=\"vertical\" size={0}>\n            <Typography.Text>\n              <MintSymbol mintAddress={mintAddress} />\n            </Typography.Text>\n            <Typography.Text type=\"secondary\" className=\"caption\">\n              <MintName mintAddress={mintAddress} />\n            </Typography.Text>\n          </Space>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default MintCard\n","import { Fragment, useEffect } from 'react'\nimport LazyLoad from '@sentre/react-lazyload'\n\ntype PropsLoadMore = { callback: () => void }\n\nconst LoadMore = ({ callback }: PropsLoadMore) => {\n  useEffect(() => {\n    callback()\n  }, [callback])\n\n  return <Fragment />\n}\nconst WrapLoadMore = (props: PropsLoadMore) => {\n  return (\n    <LazyLoad overflow>\n      <LoadMore {...props} />\n    </LazyLoad>\n  )\n}\nexport default WrapLoadMore\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\n\nexport const useAllMintAddresses = () => {\n  const [allMintAddresses, setAllMintAddresses] = useState<string[]>([])\n  const { tokenProvider } = useMint()\n\n  const getRecommendedMintAddresses = useCallback(async () => {\n    const allMintAddresses = (await tokenProvider.all()).map(\n      ({ address }) => address,\n    )\n    const addresses = allMintAddresses.filter((mintAddress) =>\n      allMintAddresses.includes(mintAddress),\n    )\n    return setAllMintAddresses(addresses)\n  }, [tokenProvider])\n\n  useEffect(() => {\n    getRecommendedMintAddresses()\n  }, [getRecommendedMintAddresses])\n\n  return allMintAddresses\n}\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useAccount } from '@senhub/providers'\n\nexport const useSortMints = (mints: string[]) => {\n  const [sortedMints, setSortedMints] = useState<string[]>([])\n  const { accounts } = useAccount()\n\n  const mapMintAmounts = useMemo(() => {\n    const mapMints: Record<string, number> = {}\n    for (const account of Object.values(accounts)) {\n      mapMints[account.mint] = Number(account.amount.toString())\n    }\n    return mapMints\n  }, [accounts])\n\n  const sortMints = useCallback(\n    async (mintAddresses: string[]) => {\n      const sortedMints = mintAddresses.sort((a, b) => {\n        let amountA = mapMintAmounts[a] || -1\n        let amountB = mapMintAmounts[b] || -1\n        return Number(amountB) - Number(amountA)\n      })\n      return setSortedMints(sortedMints)\n    },\n    [mapMintAmounts],\n  )\n  useEffect(() => {\n    sortMints(mints)\n  }, [mints, sortMints])\n\n  return { sortedMints, sortMints }\n}\n","import { useCallback, useEffect, useState } from 'react'\n\nimport { useAllMintAddresses } from './useAllMintAddresses'\nimport { useSortMints } from 'shared/hooks/useSortMints'\nimport { net } from 'shared/runtime'\nimport localStorage from 'shared/storage'\n\nconst LIMIT_ITEM = 8\nconst LOCAL_STORAGE_ID = `${net}:selected_mints`\n\nexport const useRecommendedMints = () => {\n  const [recommendedMints, setRecommendedMints] = useState<string[]>([])\n  const allMintAddresses = useAllMintAddresses()\n  const { sortedMints } = useSortMints(allMintAddresses)\n\n  const getRecommendedMints = useCallback(async () => {\n    let mints: string[] = localStorage.get(LOCAL_STORAGE_ID) || []\n\n    for (const mint of sortedMints) {\n      if (mints.length >= LIMIT_ITEM) break\n      if (mints.includes(mint)) continue\n      mints.push(mint)\n    }\n    return setRecommendedMints(mints.slice(0, LIMIT_ITEM))\n  }, [sortedMints])\n\n  const addRecommendMint = useCallback(\n    async (mintAddress: string) => {\n      const mints = recommendedMints.filter((mint) => mint !== mintAddress)\n      const newMints = [mintAddress, ...mints].slice(0, LIMIT_ITEM)\n      localStorage.set(LOCAL_STORAGE_ID, newMints)\n\n      return setRecommendedMints(newMints)\n    },\n    [recommendedMints],\n  )\n\n  useEffect(() => {\n    getRecommendedMints()\n  }, [getRecommendedMints])\n\n  return {\n    recommendedMints,\n    addRecommendMint,\n  }\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\n\nimport { useAllMintAddresses } from './useAllMintAddresses'\n\nlet searching: NodeJS.Timeout\n\nexport const useSearchedMints = (keyword: string = '', limit: number) => {\n  const [loading, setLoading] = useState(false)\n  const [searchedMints, setSearchedMints] = useState<string[]>([])\n  const { tokenProvider } = useMint()\n  const mints = useAllMintAddresses()\n\n  const search = useCallback(async () => {\n    if (!keyword) {\n      setLoading(false)\n      return setSearchedMints(mints)\n    }\n    if (searching) clearTimeout(searching)\n    setLoading(true)\n    searching = setTimeout(async () => {\n      const addresses = (await tokenProvider.find(keyword, limit)).map(\n        ({ address }) => address,\n      )\n      setLoading(false)\n      return setSearchedMints(addresses)\n    }, 500)\n  }, [keyword, limit, mints, tokenProvider])\n\n  useEffect(() => {\n    search()\n  }, [search])\n\n  return { searchedMints, loading }\n}\n","import {\n  CSSProperties,\n  Fragment,\n  useCallback,\n  useEffect,\n  useState,\n} from 'react'\nimport LazyLoad from '@sentre/react-lazyload'\n\nimport { Button, Empty, Col, Input, Modal, Row, Space } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport MintTag from './mintTag'\nimport MintCard from './mintCard'\nimport LoadMore from './loadMore'\n\nimport { useRecommendedMints } from './hooks/useRecommendedMints'\nimport { useSearchedMints } from './hooks/useSearchedMints'\nimport { useSortMints } from 'shared/hooks/useSortMints'\n\nconst LIMIT = 20\nconst AMOUNT_BEFORE_LOAD_MORE = 5\n\nexport type MintSelectionProps = {\n  value?: string\n  onChange?: (value: string) => void\n  style?: CSSProperties\n  disabled?: boolean\n}\n\nconst MintSelection = ({\n  value = '',\n  onChange = () => {},\n  style = {},\n  disabled = false,\n}: MintSelectionProps) => {\n  const [visible, setVisible] = useState(false)\n  const [keyword, setKeyword] = useState('')\n  const [offset, setOffset] = useState(LIMIT)\n  const { recommendedMints, addRecommendMint } = useRecommendedMints()\n  const { searchedMints, loading } = useSearchedMints(keyword, 0)\n  const { sortedMints } = useSortMints(searchedMints)\n\n  const onSelect = useCallback(\n    (mintAddress: string) => {\n      setVisible(false)\n      onChange(mintAddress)\n      addRecommendMint(mintAddress)\n    },\n    [onChange, addRecommendMint],\n  )\n\n  useEffect(() => {\n    setOffset(LIMIT)\n    const list = document.getElementById('sentre-token-selection-list')\n    if (list) list.scrollTop = 0\n  }, [keyword, visible])\n\n  useEffect(() => {\n    if (!visible) setKeyword('')\n  }, [visible])\n\n  return (\n    <Fragment>\n      <Button\n        type=\"text\"\n        onClick={() => setVisible(true)}\n        style={{ padding: 4, ...style }}\n        disabled={disabled}\n      >\n        <Space>\n          <MintAvatar mintAddress={value} />\n          <MintSymbol mintAddress={value} />\n          <IonIcon name=\"chevron-down-outline\" />\n        </Space>\n      </Button>\n      <Modal\n        visible={visible}\n        onCancel={() => setVisible(false)}\n        footer={null}\n        closable={false}\n        centered\n        className=\"mint-select-modal\"\n      >\n        <Row gutter={[32, 32]}>\n          <Col span={24}>\n            <Input\n              placeholder=\"Search token symbol, name, address, ...\"\n              suffix={\n                <Button\n                  type=\"text\"\n                  style={{ marginRight: -7 }}\n                  icon={\n                    <IonIcon\n                      name={keyword ? 'close-outline' : 'search-outline'}\n                    />\n                  }\n                  onClick={keyword ? () => setKeyword('') : () => {}}\n                  loading={loading}\n                />\n              }\n              value={keyword}\n              onChange={(e) => setKeyword(e.target.value || '')}\n            />\n          </Col>\n          {!keyword.length && (\n            <Col span={24}>\n              <Row gutter={[8, 8]}>\n                {recommendedMints.map((mintAddress) => (\n                  <Col xs={12} sm={8} md={6} key={mintAddress}>\n                    <MintTag\n                      mintAddress={mintAddress}\n                      onClick={onSelect}\n                      active={mintAddress === value}\n                    />\n                  </Col>\n                ))}\n              </Row>\n            </Col>\n          )}\n          <Col span={24}>\n            <Row\n              gutter={[8, 8]}\n              style={{ maxHeight: 360 }}\n              className=\"scrollbar\"\n              id=\"sentre-token-selection-list\"\n              justify=\"center\"\n            >\n              {sortedMints.length ? (\n                sortedMints.slice(0, offset).map((mintAddress, index) => (\n                  <Col span={24} key={mintAddress}>\n                    <LazyLoad height={60} overflow throttle={500}>\n                      <MintCard mintAddress={mintAddress} onClick={onSelect} />\n                    </LazyLoad>\n                    {index === offset - AMOUNT_BEFORE_LOAD_MORE && (\n                      <LoadMore callback={() => setOffset(offset + LIMIT)} />\n                    )}\n                  </Col>\n                ))\n              ) : (\n                <Col>\n                  <Empty style={{ padding: 40 }} />\n                </Col>\n              )}\n            </Row>\n          </Col>\n        </Row>\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default MintSelection\n","import { ChangeEvent, useState, forwardRef, useCallback, useRef } from 'react'\n\nimport { Input, Tooltip, Space, InputProps } from 'antd'\nimport IonIcon from '@sentre/antd-ionicon'\n\nlet timeoutId: ReturnType<typeof setTimeout> | undefined\n\n/**\n * Numeric Input\n * - Check balance based on the max\n * - Only accept numeric characters\n * @remarks The props of input follows the same as https://ant.design/components/input/#API. Extra & Overrided props\n * @param max - Maximum\n * @param onValue - A triggerred function if a valid number\n */\nconst NumericInput = forwardRef(\n  (\n    {\n      max,\n      onValue = () => {},\n      onChange = () => {},\n      ...props\n    }: InputProps & {\n      onValue?: (val: string) => void\n      max?: string | number\n    },\n    ref: any,\n  ) => {\n    const [error, setError] = useState('')\n    const [cursor, setCursor] = useState<number | null>(null)\n    const innerRef = useRef(ref)\n\n    // Handle amount\n    const onAmount = useCallback(\n      (val: string) => {\n        const onError = (er: string) => {\n          if (timeoutId) {\n            clearTimeout(timeoutId)\n            timeoutId = undefined\n          }\n          setError(er)\n          timeoutId = setTimeout(() => setError(''), 500)\n        }\n        const reg = /^\\d*(\\.\\d*)?$/\n        if (!reg.test(val)) return onError('Invalid character')\n        if (max && parseFloat(val) > parseFloat(max.toString()))\n          return onError('Not enough balance')\n        return onValue(val)\n      },\n      [max, onValue],\n    )\n\n    // Handle cursor jumping\n    // To prevent autofocus on mobile, we must strictly check cursor different from null\n    if (cursor !== null) innerRef?.current?.setSelectionRange(cursor, cursor)\n\n    return (\n      <Tooltip\n        title={\n          <Space>\n            <IonIcon name=\"warning\" />\n            {error}\n          </Space>\n        }\n        visible={!!error}\n      >\n        <Input\n          {...props}\n          onChange={(e: ChangeEvent<HTMLInputElement>) => {\n            onChange(e)\n            setCursor(e.target.selectionStart)\n            onAmount(e.target.value || '')\n          }}\n          ref={innerRef}\n        />\n      </Tooltip>\n    )\n  },\n)\n\nexport default NumericInput\n","export type LimitConfig = {\n  calls: number\n  time: number\n}\n\nexport type CacheConfig = {\n  ttl: number // millisecond\n}\n\nexport type SingleFlightConfig = {\n  limit?: LimitConfig\n  cache?: CacheConfig\n}\n\n// 10 request per 1 second\nexport const DEFAULT_LIMIT_CONFIG: LimitConfig = {\n  calls: 10,\n  time: 1000,\n}\n\n// 10 request per 1 second\nexport const DEFAULT_CACHE_CONFIG: CacheConfig = {\n  ttl: 30000,\n}\n\nexport const DEFAULT_SINGLE_FLIGHT_CONFIG: SingleFlightConfig = {\n  limit : DEFAULT_LIMIT_CONFIG,\n  cache: DEFAULT_CACHE_CONFIG\n}","export interface IRequestQueue {\n  key: string\n  add(resolve: any, reject: any): void\n  resolves(data: any): void\n  rejects(error: any): void\n}\n\nexport class RequestQueue implements IRequestQueue {\n  key = ''\n  private resolveQueue: any[] = []\n  private rejectQueue: any[] = []\n  constructor(key: string) {\n    this.key = key\n  }\n\n  add(resolve: any, reject: any) {\n    this.resolveQueue.push(resolve)\n    this.rejectQueue.push(reject)\n  }\n\n  resolves(data: any) {\n    while (this.resolveQueue.length > 0) {\n      const resolve = this.resolveQueue.shift()\n      resolve(data)\n    }\n  }\n\n  rejects(error: any) {\n    while (this.rejectQueue.length > 0) {\n      const reject = this.rejectQueue.shift()\n      reject(error)\n    }\n  }\n}\n","import { DEFAULT_CACHE_CONFIG } from './constant'\nimport { CacheConfig } from './constant'\n\nexport class SingleFlightCache {\n  private static mapCache = new Map<string, any>()\n\n  static set(\n    key: string,\n    value: any,\n    configs: CacheConfig = DEFAULT_CACHE_CONFIG,\n  ) {\n    this.mapCache.set(key, value)\n    setTimeout(() => {\n      this.mapCache.delete(key)\n    }, configs.ttl)\n  }\n\n  static get(key: string) {\n    return this.mapCache.get(key)\n  }\n}\n","import { DEFAULT_SINGLE_FLIGHT_CONFIG, SingleFlightConfig } from './constant'\n\nimport { IRequestQueue, RequestQueue } from './request'\nimport { SingleFlightCache } from './cache'\n\nexport class DataLoader {\n  static mapInstance = new Map<string, SingleFlight>()\n\n  private static getSingleFlight(configs: SingleFlightConfig): SingleFlight {\n    const instanceKey = JSON.stringify(configs)\n    if (this.mapInstance.has(instanceKey)) {\n      const instance = this.mapInstance.get(instanceKey)\n      if (instance) return instance\n    }\n\n    let newSingleFlight = new SingleFlight(configs)\n    this.mapInstance.set(instanceKey, newSingleFlight)\n    return newSingleFlight\n  }\n\n  static async load<T>(\n    requestKey: string | object,\n    callback: () => Promise<T>,\n    configs: SingleFlightConfig = {},\n  ): Promise<T> {\n    if (typeof requestKey === 'object') requestKey = JSON.stringify(requestKey)\n\n    let singleFlight = DataLoader.getSingleFlight(configs)\n    DataLoader.mapInstance.set(requestKey, singleFlight)\n    const newRequest = new RequestQueue(requestKey)\n    return singleFlight.load<T>(newRequest, callback)\n  }\n}\n\nclass SingleFlight {\n  private config: SingleFlightConfig\n  private intervalRequest: any\n  private timeLogs: number[] = []\n\n  private mapRequestCalling = new Map<string, IRequestQueue>()\n  private requestQueue: IRequestQueue[] = []\n\n  constructor(configs: SingleFlightConfig) {\n    this.config = Object.assign(DEFAULT_SINGLE_FLIGHT_CONFIG, configs)\n  }\n\n  async load<T>(newRequest: IRequestQueue, callback: () => Promise<T>) {\n    const cacheData = SingleFlightCache.get(newRequest.key)\n    if (cacheData) return Promise.resolve(cacheData)\n\n    let isFetch = false\n    let request = this.mapRequestCalling.get(newRequest.key)\n    if (!request) {\n      request = newRequest\n      isFetch = true\n      this.mapRequestCalling.set(request.key, request)\n    }\n\n    return new Promise((resolve, reject) => {\n      if (!request) return reject('Not found request!')\n      request.add(resolve, reject)\n      if (isFetch) {\n        this.fetch<T>(request, callback)\n      }\n    })\n  }\n\n  private fetch<T>(request: IRequestQueue, callback: () => Promise<T>) {\n    if (!this.validateLimit()) {\n      return this.addRequestQueue(request, callback)\n    }\n    this.createTimeLogs()\n\n    callback()\n      .then((response) => {\n        SingleFlightCache.set(request.key, response, this.config.cache)\n        request.resolves(response)\n      })\n      .catch((error) => {\n        request.rejects(error)\n      })\n      .finally(() => {\n        this.mapRequestCalling.delete(request.key)\n        this.fetchRequestQueue(callback)\n      })\n  }\n\n  private fetchRequestQueue(callback: () => Promise<any>) {\n    if (!this.validateLimit()) return\n    const request = this.requestQueue.shift()\n    if (request) this.load(request, callback)\n\n    if (this.requestQueue.length === 0 && this.intervalRequest) {\n      clearInterval(this.intervalRequest)\n    }\n  }\n\n  private addRequestQueue(\n    request: IRequestQueue,\n    callback: () => Promise<any>,\n  ) {\n    this.requestQueue.push(request)\n    this.intervalRequest = setInterval(() => {\n      this.fetchRequestQueue(callback)\n    }, this.config.limit?.time)\n  }\n\n  private validateLimit(): boolean {\n    return true\n  }\n\n  private createTimeLogs() {\n    if (!this.config.limit) return\n\n    const now = new Date().getTime()\n    this.timeLogs.push(now)\n    if (this.timeLogs.length > this.config.limit?.calls) {\n      this.timeLogs.shift()\n    }\n  }\n}\n","import localForage from 'localforage'\nimport { account } from '@senswap/sen-js'\nimport IPFS from './ipfs'\n\n/**\n * Persistent Database\n */\nclass PDB {\n  readonly dbName: string\n  private driver: any\n  private ipfs: IPFS\n\n  constructor(walletAddress: string) {\n    if (!account.isAddress(walletAddress)) throw new Error('Invalid address')\n    this.dbName = walletAddress\n    this.driver = [localForage.WEBSQL, localForage.LOCALSTORAGE]\n    this.ipfs = new IPFS()\n  }\n\n  /**\n   * Local\n   */\n\n  createInstance = (appId: string): LocalForage => {\n    return localForage.createInstance({\n      driver: this.driver,\n      name: this.dbName,\n      storeName: appId,\n    })\n  }\n\n  dropInstance = async (appId: string): Promise<void> => {\n    const instance = this.createInstance(appId)\n    await instance.clear()\n    return await localForage.dropInstance({\n      name: this.dbName,\n      storeName: appId,\n    })\n  }\n\n  all = async (): Promise<any> => {\n    let data: any = {}\n    const appIds = (\n      ((await this.createInstance('sentre').getItem('appIds')) as string[]) ||\n      []\n    )\n      .flat()\n      .concat(['sentre'])\n    for (const appId of appIds) {\n      data[appId] = {}\n      const instance = this.createInstance(appId)\n      await instance.iterate((value: string, key: string) => {\n        data[appId][key] = value\n      })\n    }\n    return data\n  }\n\n  /**\n   * Cloud\n   */\n\n  fetch = async (cid: string) => {\n    return await this.ipfs.get(cid)\n  }\n\n  backup = async () => {\n    const data = await this.all()\n    return await this.ipfs.set(data)\n  }\n\n  restore = async (cid: string) => {\n    // Download data\n    const data = await this.fetch(cid)\n    // Apply to storage\n    for (const appId in data) {\n      const instance = await this.createInstance(appId)\n      for (const key in data[appId]) {\n        const value = data[appId][key]\n        await instance.setItem(key, value)\n      }\n    }\n    return data\n  }\n}\n\nexport default PDB\n\n/**\n * High abtraction pdb for app\n */\nexport const createPDB = (walletArress: string, appId: string) => {\n  return account.isAddress(walletArress)\n    ? new PDB(walletArress).createInstance(appId)\n    : undefined\n}\n","import { create, isIPFS } from 'ipfs-core'\nimport { asyncWait } from 'shared/util'\n\nconst GET_CID_TIMEOUT = 15000\nclass IPFS {\n  private _ipfs: any = async () => {\n    try {\n      if (!window.ipfs) window.ipfs = await create()\n      return window.ipfs\n    } catch (er) {\n      await asyncWait(500)\n      return await this._ipfs()\n    }\n  }\n\n  static isCID = (cid: string | undefined | null): boolean => {\n    try {\n      if (!cid) return false\n      return isIPFS.multihash(cid)\n    } catch (er) {\n      return false\n    }\n  }\n\n  get = async (cid: string) => {\n    if (!IPFS.isCID(cid)) throw new Error('Invalid CID')\n    try {\n      const ipfs = await this._ipfs()\n      const stream = await ipfs.cat(cid, { timeout: GET_CID_TIMEOUT })\n      let raw = ''\n      for await (const chunk of stream) raw += Buffer.from(chunk).toString()\n      const data = JSON.parse(raw)\n      return data\n    } catch (err) {\n      // notthing\n    }\n  }\n\n  set = async (data: object): Promise<string> => {\n    if (!data) throw new Error('Empty data')\n    const raw = JSON.stringify(data)\n    const ipfs = await this._ipfs()\n    const { cid } = await ipfs.add(raw)\n    return cid.toString()\n  }\n}\n\nexport default IPFS\n","import storage from './storage'\n\n/**\n * Environment\n */\nconst getEnv = () => {\n  switch (process.env.REACT_APP_ENV) {\n    case 'development':\n      return 'development'\n    case 'staging':\n      return 'staging'\n    case 'production':\n      return 'production'\n    default:\n      return 'development'\n  }\n}\nexport type Env = 'development' | 'staging' | 'production'\nexport const env: Env = getEnv()\n\n/**\n * Network\n */\nconst getNetwork = () => {\n  switch (storage.get('network')) {\n    case 'devnet':\n      return 'devnet'\n    case 'testnet':\n      return 'testnet'\n    case 'mainnet':\n      return 'mainnet'\n    default:\n      return 'mainnet'\n  }\n}\nexport type Net = 'devnet' | 'testnet' | 'mainnet'\nexport const net: Net = getNetwork()\n\nexport const onSwitchNetwork = (value: Net) => {\n  storage.set('network', value)\n  return window.location.reload()\n}\n\n/**\n * Chain ID\n */\nconst getChainId = () => {\n  switch (net) {\n    case 'devnet':\n      return 103\n    case 'testnet':\n      return 102\n    case 'mainnet':\n      return 101\n    default:\n      return 101\n  }\n}\nexport type ChainId = 101 | 102 | 103\nexport const chainId: ChainId = getChainId()\n\n/**\n * RPC Node\n */\nconst CLUSTERS: Record<Net, string> = {\n  devnet: 'https://api.devnet.solana.com',\n  testnet: 'https://api.testnet.solana.com',\n  mainnet:\n    env === 'development'\n      ? 'https://api.mainnet-beta.solana.com'\n      : 'https://solitary-autumn-water.solana-mainnet.quiknode.pro/dcbac9d444818a20ac583541dec35b44c6840888/',\n}\nexport const rpc: string = CLUSTERS[net]\n","const KEY = 'sentre'\nconst driver = window.localStorage\n\nconst convert = (value: string | null) => {\n  try {\n    if (!value) return null\n    return JSON.parse(value)\n  } catch (e) {\n    return null\n  }\n}\n\nconst storage = {\n  set: (key: string, value: any) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') data = {}\n    data[key] = value\n    driver.setItem(KEY, JSON.stringify(data))\n  },\n  get: (key: string) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') return null\n    return data[key]\n  },\n  clear: (key: string) => {\n    storage.set(key, null)\n  },\n}\n\nexport default storage\n","import { account, utils } from '@senswap/sen-js'\nimport numbro from 'numbro'\n\nimport { net } from 'shared/runtime'\nimport { DataLoader } from './dataloader'\n\n/**\n * Delay by async/await\n * @param ms - milisenconds\n * @returns\n */\nexport const asyncWait = (ms: number): Promise<void> => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\n/**\n * Shorten a long address\n * @param address - The long address\n * @param num - The number of the heading and trailing characters\n * @param delimiter - The delimiter\n * @returns Shortened address\n */\nexport const shortenAddress = (address: string, num = 4, delimiter = '...') => {\n  return (\n    address.substring(0, num) +\n    delimiter +\n    address.substring(address.length - num, address.length)\n  )\n}\n\n/**\n * Build a explorer url by context including addresses or transaction ids\n * @param addressOrTxId - Address or TxId\n * @returns\n */\nexport const explorer = (addressOrTxId: string): string => {\n  if (account.isAddress(addressOrTxId)) {\n    return `https://solscan.io/account/${addressOrTxId}?cluster=${net}`\n  }\n  return `https://solscan.io/tx/${addressOrTxId}?cluster=${net}`\n}\n\n/**\n * Wrapped Numbro - https://numbrojs.com/old-format.html\n * @param value - value\n * @returns\n */\nexport const numeric = (\n  value?: number | string | BigInt,\n): ReturnType<typeof numbro> => {\n  if (!value) return numbro('0')\n  return numbro(value)\n}\n\n/**\n * Generate a random color\n * @param seed - Seed\n * @param opacity - Opacity\n * @returns\n */\nexport const randomColor = (seed?: string, opacity?: string | number) => {\n  let hash = Math.floor(Math.random() * 16777215)\n  if (seed) {\n    hash = 0\n    for (let i = 0; i < seed.length; i++) {\n      hash = seed.charCodeAt(i) + ((hash << 5) - hash)\n    }\n  }\n  var rgb = [0, 0, 0]\n  for (let i = 0; i < 3; i++) {\n    var value = (hash >> (i * 8)) & 255\n    rgb[i] = value\n  }\n  return `rgba(${rgb[0]}, 100, ${rgb[1]},${opacity || 1})`\n}\n\n/**\n * Fetch coingecko data with cache\n * @param ticket - Token ticket\n * @returns\n */\nexport const fetchCGK = async (ticket = '') => {\n  return DataLoader.load('fetchCGK' + ticket, () => utils.parseCGK(ticket))\n}\n\n/**\n * Randomly choose an element in the input array\n * @param arr - Original array of elements\n * @returns\n */\nexport const randChoose = <T>(arr: T[]): T => {\n  const rand = Math.floor(Math.random() * arr.length)\n  return arr[rand]\n}\n\n/**\n * Randomize a subarray in the input array with a specific number of elements\n * @param arr - Original array of elements\n * @param num - Number of elements in randomized subarray\n * @returns\n */\nexport const randElements = <T>(arr: T[], num: number): T[] => {\n  if (arr.length < num) return [...arr]\n  const re: T[] = []\n  while (re.length < num) {\n    const el = randChoose(arr)\n    if (!re.includes(el)) re.push(el)\n  }\n  return re\n}\n","var map = {\n\t\"./blank/create\": [\n\t\t43319,\n\t\t\"src_app_templates_blank_create_tsx\"\n\t],\n\t\"./spl-approve/create\": [\n\t\t50067,\n\t\t\"src_app_templates_spl-approve_create_tsx\"\n\t],\n\t\"./spl-transfer/create\": [\n\t\t93062,\n\t\t\"src_app_templates_spl-transfer_create_tsx\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 2244;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./blank/info\": [\n\t\t61889,\n\t\t\"src_app_templates_blank_info_tsx\"\n\t],\n\t\"./spl-approve/info\": [\n\t\t30754,\n\t\t\"src_app_templates_spl-approve_info_tsx\"\n\t],\n\t\"./spl-transfer/info\": [\n\t\t60029,\n\t\t\"src_app_templates_spl-transfer_info_tsx\"\n\t],\n\t\"./undefined/info\": [\n\t\t18756,\n\t\t\"src_app_templates_undefined_info_tsx\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 58815;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\"./blank/proposal\": [\n\t\t39827,\n\t\t\"src_app_templates_blank_proposal_tsx\"\n\t],\n\t\"./spl-approve/proposal\": [\n\t\t91442,\n\t\t\"src_app_templates_spl-approve_proposal_tsx\"\n\t],\n\t\"./spl-transfer/proposal\": [\n\t\t42537,\n\t\t\"src_app_templates_spl-transfer_proposal_tsx\"\n\t],\n\t\"./undefined/proposal\": [\n\t\t21634,\n\t\t\"src_app_templates_undefined_proposal_tsx\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 79332;\nmodule.exports = webpackAsyncContext;"],"names":["_path","_path2","_path3","_path4","_path5","_path6","_path7","_path8","_path9","_path10","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","SvgLogo","_ref","svgRef","title","titleId","props","width","height","viewBox","fill","xmlns","ref","id","d","ForwardRef","defineProperty","exports","value","enumerable","get","_logo","default","_README","_panel","_interopRequireDefault","require","_panel2","_panel3","obj","__esModule","panels","Row","gutter","justify","Col","Space","direction","size","Typography","level","style","fontSize","textAlign","className","span","type","icon","Card","bordered","background","borderLeft","borderRadius","bodyStyle","padding","daos","useSelector","state","proposal","executeProposal","useMemo","total","proposalAddr","executed","xs","lg","sm","name","numeric","keys","format","includes","regime","special","tag","isEqual","DaoRegimes","Tag","margin","metadata","Metadata","MetadataData","programs","TOKEN_METADATA_PROGRAM_ID","PublicKey","connection","Connection","net","fetchYourOwnerNTFs","async","findDataByOwner","ownerAddress","getNftMetaData","findByMint","tokenMint","mintAddress","metaData","setMetaData","useState","nftInfo","setNftInfo","loading","setLoading","getMetaData","useCallback","account","undefined","DataLoader","cache","ttl","url","data","uri","response","axios","error","useEffect","useNftMetaData","Avatar","shape","src","image","IMAGE_DEFAULT","string2Number","seed","limit","buf","Buffer","from","index","BN","mod","Number","Math","random","toString","avatarProps","colors","gradients","join","alt","sol","interDao","configs","NAME","getTokenHolders","createAsyncThunk","daoAddress","force","getState","Error","mint","tokenHolder","amountHolder","toBase58","provider","program","getProgramAccounts","utils","filters","dataSize","memcmp","bytes","offset","createSlice","initialState","reducers","extraReducers","builder","addCase","fulfilled","payload","dispatch","useDispatch","isExistDao","ownerPublickey","nfts","setNfts","nftsFiltered","setNftFiltered","accounts","useAccount","fetchNFTs","nftsFetching","filterNFTs","Promise","all","map","nftTokenAccount","web3","nft","owner","nftAccountData","amount","eq","push","daoMint","isNft","useMetaData","validMember","setValidMember","checking","setChecking","wallet","address","myAddress","useWallet","useOwnerNFT","checkMemberOnlyNFT","collection","isMemberTokenDAO","mints","values","isMemberMultisig","members","valid","walletAddress","checkDaoMember","daoType","DAO_CARD_BG","autonomous","democratic","dictatorial","HEIGHT_RATIO","nonce","isPublic","history","useHistory","ui","useUI","useMembers","useValidDaoMember","parseRegime","heightRatio","isMobile","desktopWidth","onClick","window","notify","description","PAGE_PADDING","Image","preview","Spin","spinning","tip","minHeight","wrap","align","flex","Tooltip","daoName","marginTop","ellipsis","rows","shortenAddress","marginLeft","optionals","idx","validURL","Button","open","getIcon","onSearch","Input","prefix","indicator","LoadingOutlined","placeholder","onChange","e","active","overflow","cursor","position","bottom","left","backdropFilter","color","textTransform","fontWeight","REGIME_LIST","onChangeRegime","Popover","overlayStyle","maxWidth","trigger","content","md","onSort","Select","setType","constructor","register","daoMap","engine","_setDaoMap","forEach","set","Array","findByAddress","has","addr","find","keyword","fuzzy","search","findIndex","dao","nextDaos","slice","Map","lunr","field","doc","add","daoAddresses","searchData","setSearchData","pdb","usePDB","nextData","getItem","daoProvider","DaoProvider","err","delayToSearch","setTimeout","clearTimeout","mechanismsType","filteredDaos","setFilteredDaos","filterDaos","daoData","tokenAccount","mechanisms","setMechanisms","searchKey","setSearchKey","communityDaos","useCommunityDaos","useSearchDao","xl","Empty","manifest","appId","filter","daoAddr","authority","authAddress","daosCanJoin","useDaoCanJoin","proposalAddress","proposals","proposalMetaData","useProposalMetaData","daoMetaData","receipts","receipt","withdrawableProposals","setWithdrawableProposals","withdrawableReceipts","setWithdrawableReceipts","filterWithdrawable","filteredReceipts","filteredProposals","receiptAddr","endDate","Date","now","toNumber","visible","setVisible","useWithdrawableReceipt","Modal","onCancel","closeIcon","footer","backgroundImage","BG_JOIN_DAO","block","closeNftVoting","close","explorer","txId","er","message","Tabs","tabBarExtraContent","tab","useTemplateWithProposal","templateName","setTemplateName","getTemplateName","TemplateCreateLoader","Component","lazy","ErrorBoundary","Suspense","fallback","TemplateProposalLoader","template","TemplateInfoLoader","hasError","_","componentDidCatch","errorInfo","console","render","children","CardOption","label","setTemplate","TemplateNames","SOLANA_LOGO","expandable","symbol","Radio","clearTemplate","disabled","currentDate","floor","status","setStatus","SystemProgram","mobileScreen","isSuccess","quorum","votingPower","numSupply","authorized","proposalAddresses","filterProposalAddresses","filteredAddress","startDate","supply","votingForPower","consensusQuorum","consensusMechanism","votingAgainstPower","stakeSupply","lockSupply","actualSupply","scrollTo","defaultValue","minWidth","InfoMember","copied","setCopied","text","onCopy","asyncWait","isMultisig","amountMembers","daoMembers","placement","overlayClassName","marginRight","utility","ipfs","IPFS","ENDED_AT","getTreeData","pubkeys","balanceTree","pubkey","startedAt","salt","MerkleDistributor","toBuffer","createDistributor","treeData","merkleDistributor","cid","toJSON","multihash","digest","CID","distributorAddress","initializeDistributor","tokenAddress","getTotal","merkleRoot","deriveMerkleRoot","endedAt","createDistributorInstruction","walletPublicKey","tokenPublicKey","distributor","srcPublicKey","treasurer","deriveTreasurerAddress","publicKey","treasury","methods","feeCollector","tokenProgram","associatedTokenProgram","systemProgram","rent","instruction","getMintAddress","fetch","getMerkleDistributor","getCID","getRecipientData","recipient","receipients","getReceiptData","recipientData","receiptAddress","deriveReceiptAddress","claimToken","proof","deriveProof","claim","listMint","accountAddr","isValidAccount","Distributor","member","listNFTs","setListNFTs","daoMasterAddress","master","getYourOwnerNFTs","CardNFT","nftImg","setNftImg","getNftInfoFromURI","img","DEFAULT_DATA","price","priceChange","rank","totalVolume","getBalance","inUSD","tokenProvider","decimals","cgkData","token","ticket","extensions","coingeckoId","fetchCGK","fetchCgkData","balance","getDecimals","useMint","totalUSD","setTotalUSD","clcTotalUSD","setDecimals","fetchDecimals","usdBalance","setUSDBalance","mintBalance","setMintBalance","useMintDecimals","fetchBalance","InfoDAOMaster","listAccount","setListAccount","useTotalUSD","fetchAccount","splt","sentre","ownerPublicKey","getTokenAccountsByOwner","programId","spltProgramId","bulk","parseAccountData","mintInfo","getMintData","useParams","ConsensusMechanisms","infix","mobileSpan","ConsensusQuorums","DatePicker","moment","valueOf","showTime","taxman","fee","CURRENT_TIME","ONE_DAY","DEFAULT_DURATION","setConsensusMechanism","setConsensusQuorum","duration","setDuration","setTitle","setDescription","isMultisigDAO","templateData","uploadMetaData","newProposal","tx","valueAccounts","initializeProposal","isSigner","isWritable","isMaster","revenue","revenuemanAddress","tax","taxmanAddress","clearTx","Divider","DAO_PROGRESS_TITLE","step","Progress","percent","steps","showInfo","DEFAULT_META_DATA","DEFAULT_DAO_DATA","CreateDaoSteps","ChooseType","submitStepChooseType","createDao","InputDetails","submitStepDaoDetail","SetRule","submitStepSetRule","rule","Review","revertPrevStep","prevStep","clearCreateDao","DAO_TYPE","setDaoType","cardBorder","borderColor","border","setMetadata","formatMetaData","nextMetaData","imgBase64","Upload","accept","listType","maxCount","file","fileList","originFile","originFileObj","fileToBase64","onRemove","social","socials","onOptionalChange","splice","removeLink","defaultMetadata","validLink","link","logoSize","PAGE_SPACING","createDaoData","createFlexDAO","metadataBuff","totalSupply","mul","pow","initializeDao","localMetadata","setItem","_mint","getProvider","getAddress","getAnchorProvider","rpc","createNewTokenAndMintTo","createMintAndMintTo","number","isValidMint","DEFAULT_EMPTY_ADDRESS","mintToAccount","dstAddress","safeMintTo","dstWalletAddress","myWallet","createVotingMint","multiSigWallet","MultisigWallet","getDistributorAddress","pubKeys","createMultisigDao","ButtonFlexDao","useFlexibleDao","ButtonMultisigDao","useMultisigDao","onSelect","isSelected","imageSize","top","right","zIndex","paddingTop","CardNftImageOnly","openNftModal","listCollectionNFTs","setListCollectionNFTs","searchText","setSearchText","getNftCollectionInfo","collectionNFTs","collectionInfo","onSelectNFT","onCloseModal","getCollectionNFTs","nftsmetadata","fetchListNTFs","Fragment","collectionAddress","Address","onMintAddressChange","suffix","autoFocus","onNftChange","setIsPublic","setSupply","getMint","fetchSupply","useMintSupply","suggestion","String","div","onValue","setSuggestion","getNftSuggestion","commitment","getListAccountNFTsBelongToCollection","onChangeSupply","nextIsNft","setIsNft","nextRegime","setRegime","nextMintAddress","setMintAddress","nextSupply","nextIsPublic","disabledRemove","disabledBtn","disabledWalletInput","disabledName","remove","setMember","nextMembers","setDefaultValue","nextMetadata","getReceipts","parseReceiptData","setReceipts","fetchReceipts","listReceipt","useProposalStatus","useReceipts","authorities","execute","wordBreak","feeOption","votingType","nftVoting","setNftVoting","proposalFee","useProposalFee","onVoteNftFor","voteNftFor","onVoteNftAgainst","voteNftAgainst","VotingType","against","STROKE_COLOR","dark","for","light","VOTE_TYPE","record","theme","action","power","proposalPubkey","daoPubkey","mintDecimal","BigInt","setListReceipt","COLUMNS","dataIndex","lockedDate","onWithdraw","filterReceipts","myRecept","maxHeight","Table","columns","dataSource","pagination","rowKey","getRemainingSeconds","nowDayjs","timestampDayjs","startWithZeros","diff","getRemainingMinutes","getRemainingHours","getRemainingDays","minLength","numberString","repeat","proposalData","getProposal","defaultRemainingTime","minutes","hours","days","seconds","remainingTime","setRemainingTime","voteAmount","voteBid","useProposal","voteNow","getTime","endTime","startTime","remaining","votePower","updateRemainingTime","countdown","timestampMs","finishTime","dayjs","isBefore","getRemainingTime","intervalId","setInterval","clearInterval","setNftsFiltered","filterNFTsByCollection","setVotingType","useOwnerNftByCollection","myCollection","isLockedVote","isComplete","buildResult","useAccountBalance","accountAddress","lamports","useAccountBalanceByMintAddress","setAccountAddress","deriveAssociatedAddress","setVoteBidAmount","loadingFor","setLoadingFor","loadingAgainst","setLoadingAgainst","onVoteFor","actualAmount","nextAmount","voteFor","onVoteAgainst","voteAgainst","mechanismQuorum","creator","authProposalAddress","useParseQuorumText","consensus","_consensusMechanism","textDecoration","backGroundColor","setBackGroundColor","successColor","setSuccessColor","noVote","yesVote","totalVote","percentYes","percentNo","defaultRequire","currentPower","actualYesVote","sub","supplyNeed","powerRequire","gte","percentSuccess","getColors","quorumText","strokeColor","success","HISTORY_COLUMNS_FLEXIBLE","HISTORY_COLUMNS_MULTISIG","setAmount","historyColum","nextReceipts","actionType","existReceipt","_receipt","_action","_authority","_actionType","oldPower","onSave","rest","setNextMetadata","updateDaoMetadata","oldMember","setOldMember","setDefaultMembers","oldAddresses","onChangeMember","validAccount","associatedAddress","getAccountData","multisigWallet","defaultSupply","updateDaoRegime","updateRegime","supplyDecimal","util","txIdSupply","updateDaoSupply","updateSupply","setAuthority","transferAuthority","loadingElement","display","getDaos","DAO_DISCRIMINATOR","getDao","getDaoData","upsetDao","addLoading","clearLoading","EVENTS","watcherState","reloadDaoData","daoPublicKey","fetchData","unwrap","watchData","event","interval","addListener","removeListener","warn","watchInitializeProposal","watchVoteFor","watchVoteAgainst","watchExecuteProposal","initializeProposalEventId","voteForEventId","voteAgainstEventId","executeProposalEventId","TIME_RECHECK","reloadProposalData","proposalPublicKey","getProposals","authorityAddress","RECEIPT_DISCRIMINATOR","getReceipt","upsetReceipt","deleteReceipt","watchClose","closeEventId","reloadReceiptData","receiptPublicKey","loadAllMetaData","setBackground","Switch","Route","exact","path","component","Dao","CreateDao","Proposal","EditDAO","ProposalInitialization","ProposalDetails","Redirect","to","bigintSerializationMiddleware","serializableCheck","isSerializable","val","isArray","proto","getPrototypeOf","isPlainObject","isBuffer","configureStore","middleware","getDefaultMiddleware","devTools","reducer","Page","UIProvider","antd","prefixCls","WalletProvider","AccountProvider","PoolProvider","MintProvider","Provider","store","model","STATUS_COLOR","Succeeded","Failed","Preparing","Executed","Voting","Loading","shared","process","development","staging","production","devnet","InterDAO","SafeWallet","Utility","testnet","mainnet","env","SOCIALS_MEDIA","t","twitter","facebook","discord","global","medium","callBack","reader","FileReader","readAsDataURL","onload","result","v0Prefix","Uint8Array","v0Digest","test","socialName","host","URL","hostname","replace","char","iconName","toLowerCase","File","JSON","stringify","put","re","files","resolve","reject","contents","parse","readAsText","Web3Storage","_wallet","_publicKey","_init","signTransaction","signAllTransactions","signedTxs","txs","signedTx","lte","cmp","PDB","createInstance","getProposalData","upsetProposal","deleteProposal","setTx","setTemplateData","isTemplateAccountWithRule","idlAccount","isTemplateArgWithRule","idlArg","DEFAULT_AVATARS","reversed","avatars","setAvatars","pools","usePool","deriveAvatar","logoURI","deriveAvatars","poolData","mint_lpt","mint_a","mint_b","reverse","avatar","backgroundColor","whiteSpace","DEFAULT_NAME","separator","setName","deriveName","deriveNames","names","DEFAULT_SYMBOL","setSymbol","deriveSymbol","substring","deriveSymbols","symbols","randomColor","Boolean","justifyContent","boxShadow","LoadMore","callback","useAllMintAddresses","allMintAddresses","setAllMintAddresses","getRecommendedMintAddresses","addresses","useSortMints","sortedMints","setSortedMints","mapMintAmounts","mapMints","sortMints","mintAddresses","sort","a","b","amountA","amountB","LOCAL_STORAGE_ID","searching","setKeyword","setOffset","recommendedMints","addRecommendMint","setRecommendedMints","getRecommendedMints","localStorage","newMints","useRecommendedMints","searchedMints","setSearchedMints","useSearchedMints","list","document","getElementById","scrollTop","closable","centered","throttle","timeoutId","forwardRef","max","setError","setCursor","innerRef","useRef","onAmount","onError","parseFloat","current","setSelectionRange","selectionStart","DEFAULT_CACHE_CONFIG","DEFAULT_SINGLE_FLIGHT_CONFIG","calls","time","RequestQueue","resolveQueue","rejectQueue","resolves","shift","rejects","SingleFlightCache","mapCache","delete","instanceKey","mapInstance","instance","newSingleFlight","SingleFlight","requestKey","singleFlight","getSingleFlight","newRequest","load","config","intervalRequest","timeLogs","mapRequestCalling","requestQueue","cacheData","isFetch","request","validateLimit","addRequestQueue","createTimeLogs","then","catch","finally","fetchRequestQueue","dbName","driver","localForage","storeName","dropInstance","clear","appIds","flat","concat","iterate","backup","restore","_ipfs","create","isCID","stream","cat","timeout","raw","chunk","isIPFS","storage","getNetwork","chainId","getChainId","KEY","convert","ms","num","delimiter","addressOrTxId","numbro","opacity","hash","charCodeAt","rgb","webpackAsyncContext","req","__webpack_require__","o","code","ids","module"],"sourceRoot":""}