(globalThis.webpackChunkinter_dao=globalThis.webpackChunkinter_dao||[]).push([["vendors-node_modules_sentre_farming_dist_app_index_js-node_modules_react-use_esm_useSetState_js"],{68321:function(e,t,n){"use strict";var i=n(97429).Buffer,r=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function a(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const a=n(50794),u=n(13526),c=n(70929),d=n(2229);t.default=class{constructor(e,t){var n=this;this.provider=e,this.programId=t,this.deriveTreasurerPublicKey=e=>s(this,void 0,void 0,(function*(){const[t]=yield a.web3.PublicKey.findProgramAddress([i.from("treasurer"),e.toBuffer()],this.program.programId);return t})),this.deriveFarmPDAs=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.DEFAULT_EMPTY_ADDRESS,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.DEFAULT_EMPTY_ADDRESS;return s(n,void 0,void 0,(function*(){const n=yield this.deriveTreasurerPublicKey(e),[o]=yield a.web3.PublicKey.findProgramAddress([i.from("middle_output_mint"),e.toBuffer()],this.program.programId),s=yield a.utils.token.associatedAddress({mint:o,owner:n}),[u]=yield a.web3.PublicKey.findProgramAddress([i.from("farm_boosting_collection"),e.toBuffer(),t.toBuffer()],this.program.programId),[c]=yield a.web3.PublicKey.findProgramAddress([i.from("farm_reward_mint"),e.toBuffer(),r.toBuffer()],this.program.programId),d=yield this.deriveTreasurerPublicKey(c),l=yield a.utils.token.associatedAddress({mint:r,owner:d});return{farm:e,farmTreasurer:n,moMint:o,moTreasury:s,farmBoostingCollection:u,boostingCollection:t,farmRewardMint:c,rewardTreasury:l,rewardTreasurer:d,rewardMint:r}}))},this.deriveDebtPDAs=(e,t,n,r)=>s(this,void 0,void 0,(function*(){const[o]=yield a.web3.PublicKey.findProgramAddress([i.from("debt"),t.toBuffer(),e.toBuffer()],this.program.programId),s=yield this.deriveTreasurerPublicKey(o),u=yield a.utils.token.associatedAddress({mint:n,owner:s}),c=yield a.utils.token.associatedAddress({mint:r,owner:s});return{debt:o,inputMint:n,debtTreasurer:s,debtMintTreasury:u,debtNftTreasury:c}})),this.deriveWalletPDAs=function(e,t,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.DEFAULT_EMPTY_ADDRESS,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d.DEFAULT_EMPTY_ADDRESS;return s(n,void 0,void 0,(function*(){const{moMint:n}=yield this.deriveFarmPDAs(t),s=yield a.utils.token.associatedAddress({mint:n,owner:e}),u=yield a.utils.token.associatedAddress({mint:i,owner:e}),c=yield a.utils.token.associatedAddress({mint:r,owner:e}),d=yield a.utils.token.associatedAddress({mint:o,owner:e});return{authority:e,moTokenAccount:s,inputTokenAccount:u,rewardTokenAccount:c,nft:o,nftTokenAccount:d}}))},this.deriveAllPDAs=e=>{let{farm:t,inputMint:n=d.DEFAULT_EMPTY_ADDRESS,collection:i=d.DEFAULT_EMPTY_ADDRESS,nft:r=d.DEFAULT_EMPTY_ADDRESS,rewardMint:o=d.DEFAULT_EMPTY_ADDRESS}=e;return s(this,void 0,void 0,(function*(){const e=yield this.deriveFarmPDAs(new a.web3.PublicKey(t),new a.web3.PublicKey(i),new a.web3.PublicKey(o)),s=yield this.deriveDebtPDAs(this.walletPubkey,new a.web3.PublicKey(t),new a.web3.PublicKey(n),new a.web3.PublicKey(r)),u=yield this.deriveWalletPDAs(this.provider.wallet.publicKey,new a.web3.PublicKey(t),new a.web3.PublicKey(n),new a.web3.PublicKey(o),new a.web3.PublicKey(r));return Object.assign(Object.assign(Object.assign(Object.assign({},e),s),u),d.PROGRAM_ACCOUNTS)}))},this.initializeFarm=e=>{let{inputMint:t,startAfter:n,endAfter:i,moAmount:r=new a.BN("1"+"0".repeat(18)),sendAndConfirm:o=!0,farmKeypair:u=a.web3.Keypair.generate()}=e;return s(this,void 0,void 0,(function*(){const e=yield(0,d.getCurrentUnixTimestamp)(this.provider),s=new a.BN(e+n),c=new a.BN(e+i),l=yield this.deriveAllPDAs({farm:u.publicKey,inputMint:t}),m=yield this.program.methods.initializeFarm(r,s,c).accounts(l).transaction();let f;return o&&(f=yield this.provider.sendAndConfirm(m,[u])),{txId:f,tx:m,signer:[u]}}))},this.pushFarmBoostingCollection=e=>{let{farm:t,collection:n,coefficient:i,sendAndConfirm:r=!0}=e;return s(this,void 0,void 0,(function*(){const e=yield this.deriveAllPDAs({farm:t,collection:n}),o=yield this.program.methods.pushFarmBoostingCollection(i).accounts(Object.assign({},e)).transaction();let s="";return r&&(s=yield this.provider.sendAndConfirm(o,[])),{txId:s,tx:o,signer:[]}}))},this.pushFarmReward=e=>{let{farm:t,rewardMint:n,rewardAmount:i,sendAndConfirm:r=!0}=e;return s(this,void 0,void 0,(function*(){const e=yield this.deriveAllPDAs({farm:t,rewardMint:n}),o=yield this.program.methods.pushFarmRewardMint(i).accounts(Object.assign(Object.assign({},e),{srcRewardTokenAccount:e.rewardTokenAccount})).transaction();let s="";return r&&(s=yield this.provider.sendAndConfirm(o,[])),{txId:s,tx:o,signer:[]}}))},this.initializeDebt=e=>{let{farm:t,sendAndConfirm:n=!0}=e;return s(this,void 0,void 0,(function*(){const{inputMint:e}=yield this.program.account.farm.fetch(t),i=yield this.deriveAllPDAs({farm:t,inputMint:e}),r=yield this.program.methods.initializeDebt().accounts(i).transaction();let o="";return n&&(o=yield this.provider.sendAndConfirm(r,[])),{txId:o,tx:r,signer:[]}}))},this.lock=e=>{let{farm:t,nft:n,metadata:i,collection:r,sendAndConfirm:o=!0}=e;return s(this,void 0,void 0,(function*(){const{inputMint:e}=yield this.program.account.farm.fetch(t),s=yield this.deriveAllPDAs({farm:t,inputMint:e,nft:n,collection:r}),a=yield this.program.methods.lock().accounts(Object.assign(Object.assign({},s),{srcNftTokenAccount:s.nftTokenAccount,metadata:i})).transaction();let u="";return o&&(u=yield this.provider.sendAndConfirm(a,[])),{txId:u,tx:a,signer:[]}}))},this.unlock=e=>{let{farm:t,nft:n,metadata:i,collection:r,sendAndConfirm:o=!0}=e;return s(this,void 0,void 0,(function*(){const{inputMint:e}=yield this.program.account.farm.fetch(t),s=yield this.deriveAllPDAs({farm:t,inputMint:e,nft:n,collection:r}),a=yield this.program.methods.unlock().accounts(Object.assign(Object.assign({},s),{dstNftTokenAccount:s.nftTokenAccount,metadata:i})).transaction();let u="";return o&&(u=yield this.provider.sendAndConfirm(a,[])),{txId:u,tx:a,signer:[]}}))},this.deposit=e=>{let{farm:t,inAmount:n,sendAndConfirm:i=!0}=e;return s(this,void 0,void 0,(function*(){const{inputMint:e}=yield this.program.account.farm.fetch(t),r=yield this.deriveAllPDAs({farm:t,inputMint:e}),o=yield this.program.methods.deposit(n).accounts(Object.assign(Object.assign({},r),{srcInputTokenAccount:r.inputTokenAccount})).transaction();let s="";return i&&(s=yield this.provider.sendAndConfirm(o,[])),{txId:s,tx:o,signer:[]}}))},this.withdraw=e=>{let{farm:t,shares:n,sendAndConfirm:i=!0}=e;return s(this,void 0,void 0,(function*(){const{inputMint:e}=yield this.program.account.farm.fetch(t),r=yield this.deriveAllPDAs({farm:t,inputMint:e}),o=yield this.program.methods.withdraw(n).accounts(Object.assign(Object.assign({},r),{dstInputTokenAccount:r.inputTokenAccount})).transaction();let s="";return i&&(s=yield this.provider.sendAndConfirm(o,[])),{txId:s,tx:o,signer:[]}}))},this.stake=e=>{let{farm:t,sendAndConfirm:n=!0}=e;return s(this,void 0,void 0,(function*(){const{inputMint:e}=yield this.program.account.farm.fetch(t),i=yield this.deriveAllPDAs({farm:t,inputMint:e}),r=yield this.program.methods.stake().accounts(Object.assign({},i)).transaction();let o="";return n&&(o=yield this.provider.sendAndConfirm(r,[])),{txId:o,tx:r,signer:[]}}))},this.unstake=e=>{let{farm:t,sendAndConfirm:n=!0}=e;return s(this,void 0,void 0,(function*(){const{inputMint:e}=yield this.program.account.farm.fetch(t),i=yield this.deriveAllPDAs({farm:t,inputMint:e}),r=yield this.program.methods.unstake().accounts(Object.assign({},i)).transaction();let o="";return n&&(o=yield this.provider.sendAndConfirm(r,[])),{txId:o,tx:r,signer:[]}}))},this.claim=e=>{let{farm:t,sendAndConfirm:n=!0}=e;return s(this,void 0,void 0,(function*(){const{inputMint:e}=yield this.program.account.farm.fetch(t),i=yield this.deriveAllPDAs({farm:t,inputMint:e}),r=yield this.program.methods.claim().accounts(Object.assign(Object.assign({},i),{dstMoTokenAccount:i.moTokenAccount})).transaction();let o="";return n&&(o=yield this.provider.sendAndConfirm(r,[])),{txId:o,tx:r,signer:[]}}))},this.convertRewards=e=>{let{farm:t,rewardAmount:n=new a.BN(0),sendAndConfirm:i=!0}=e;return s(this,void 0,void 0,(function*(){const{inputMint:e}=yield this.program.account.farm.fetch(t),r=yield this.deriveAllPDAs({farm:t,inputMint:e}),o=yield this.program.account.farmRewardMint.all([{memcmp:{offset:8,bytes:(0,u.encodeIxData)(r.farm.toBuffer())}}]);let s=[];for(const n of o){const i=yield this.deriveAllPDAs({farm:t,inputMint:e,rewardMint:n.account.rewardMint}),r={isSigner:!1,isWritable:!0,pubkey:i.farmRewardMint};s.push(r);const o={isSigner:!1,isWritable:!0,pubkey:i.rewardTreasurer};s.push(o);const a={isSigner:!1,isWritable:!0,pubkey:i.rewardTokenAccount};s.push(a);const u={isSigner:!1,isWritable:!0,pubkey:i.rewardTreasury};s.push(u);const c={isSigner:!1,isWritable:!0,pubkey:i.rewardMint};s.push(c)}const c=yield this.program.methods.convertAllRewards(new a.BN(o.length),n).accounts(Object.assign(Object.assign({},r),{srcMoTokenAccount:r.moTokenAccount})).remainingAccounts(s).transaction();let d="";return i&&(d=yield this.provider.sendAndConfirm(c,[])),{txId:d,tx:c,signer:[]}}))},this.transferOwnership=e=>{let{farm:t,newOwner:n,sendAndConfirm:i=!0}=e;return s(this,void 0,void 0,(function*(){const{inputMint:e}=yield this.program.account.farm.fetch(t),r=yield this.deriveAllPDAs({farm:t,inputMint:e}),o=yield this.program.methods.transferOwnership(new a.web3.PublicKey(n)).accounts(Object.assign({},r)).transaction();let s="";return i&&(s=yield this.provider.sendAndConfirm(o,[])),{txId:s,tx:o,signer:[]}}))},this.program=new a.Program(c.IDL,this.programId,this.provider)}get walletPubkey(){return this.provider.wallet.publicKey}get splProgram(){return a.Spl.token(this.provider)}},o(n(56607),t)},56607:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2229:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function a(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentUnixTimestamp=t.PROGRAM_ACCOUNTS=t.DEFAULT_EMPTY_ADDRESS=void 0;const r=n(50794);t.DEFAULT_EMPTY_ADDRESS=new r.web3.PublicKey("11111111111111111111111111111111"),t.PROGRAM_ACCOUNTS={rent:r.web3.SYSVAR_RENT_PUBKEY,systemProgram:r.web3.SystemProgram.programId,associatedTokenProgram:r.utils.token.ASSOCIATED_PROGRAM_ID,tokenProgram:r.utils.token.TOKEN_PROGRAM_ID};t.getCurrentUnixTimestamp=e=>i(void 0,void 0,void 0,(function*(){const{data:t}=(yield e.connection.getAccountInfo(r.web3.SYSVAR_CLOCK_PUBKEY))||{};if(!t)throw new Error("Can't get block time");const n=t.slice(32,40).readBigInt64LE();return Number(n)}))},70929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDL=void 0,t.IDL={version:"0.1.0",name:"sen_farming_v2",instructions:[{name:"initializeFarm",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!0,isSigner:!0},{name:"farmTreasurer",isMut:!1,isSigner:!1},{name:"inputMint",isMut:!1,isSigner:!1},{name:"moMint",isMut:!0,isSigner:!1},{name:"moTreasury",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"moAmount",type:"u64"},{name:"startDate",type:"i64"},{name:"endDate",type:"i64"}]},{name:"pushFarmRewardMint",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!1,isSigner:!1},{name:"rewardMint",isMut:!1,isSigner:!1},{name:"srcRewardTokenAccount",isMut:!0,isSigner:!1},{name:"farmRewardMint",isMut:!0,isSigner:!1},{name:"rewardTreasury",isMut:!0,isSigner:!1},{name:"rewardTreasurer",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"totalRewards",type:"u64"}]},{name:"pushFarmBoostingCollection",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!1,isSigner:!1},{name:"farmBoostingCollection",isMut:!0,isSigner:!1},{name:"boostingCollection",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"boostingCoefficient",type:"u64"}]},{name:"initializeDebt",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!1,isSigner:!1},{name:"inputMint",isMut:!1,isSigner:!1},{name:"debt",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"deposit",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!1,isSigner:!1},{name:"srcInputTokenAccount",isMut:!0,isSigner:!1},{name:"inputMint",isMut:!1,isSigner:!1},{name:"debt",isMut:!0,isSigner:!1},{name:"debtTreasurer",isMut:!1,isSigner:!1},{name:"debtMintTreasury",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:"u64"}]},{name:"withdraw",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!1,isSigner:!1},{name:"dstInputTokenAccount",isMut:!0,isSigner:!1},{name:"inputMint",isMut:!1,isSigner:!1},{name:"debt",isMut:!0,isSigner:!1},{name:"debtTreasurer",isMut:!1,isSigner:!1},{name:"debtMintTreasury",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"inAmount",type:"u64"}]},{name:"lock",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!1,isSigner:!1},{name:"farmBoostingCollection",isMut:!1,isSigner:!1},{name:"srcNftTokenAccount",isMut:!0,isSigner:!1},{name:"nft",isMut:!1,isSigner:!1},{name:"metadata",isMut:!1,isSigner:!1},{name:"debt",isMut:!0,isSigner:!1},{name:"debtTreasurer",isMut:!1,isSigner:!1},{name:"debtNftTreasury",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"unlock",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!1,isSigner:!1},{name:"farmBoostingCollection",isMut:!1,isSigner:!1},{name:"dstNftTokenAccount",isMut:!0,isSigner:!1},{name:"nft",isMut:!1,isSigner:!1},{name:"metadata",isMut:!1,isSigner:!1},{name:"debt",isMut:!0,isSigner:!1},{name:"debtTreasurer",isMut:!1,isSigner:!1},{name:"debtNftTreasury",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"stake",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!0,isSigner:!1},{name:"debt",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"unstake",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!0,isSigner:!1},{name:"farmTreasurer",isMut:!1,isSigner:!1},{name:"debt",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"claim",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!1,isSigner:!1},{name:"farmTreasurer",isMut:!1,isSigner:!1},{name:"debt",isMut:!0,isSigner:!1},{name:"dstMoTokenAccount",isMut:!0,isSigner:!1},{name:"moTreasury",isMut:!0,isSigner:!1},{name:"moMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[]},{name:"convertAllRewards",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!1,isSigner:!1},{name:"farmTreasurer",isMut:!1,isSigner:!1},{name:"srcMoTokenAccount",isMut:!0,isSigner:!1},{name:"moTreasury",isMut:!0,isSigner:!1},{name:"moMint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1}],args:[{name:"numRewardMints",type:"u64"},{name:"moAmount",type:"u64"}]},{name:"transferOwnership",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"farm",isMut:!1,isSigner:!1}],args:[{name:"newOwner",type:"publicKey"}]}],accounts:[{name:"debt",type:{kind:"struct",fields:[{name:"farm",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"shares",type:"u64"},{name:"debtAmount",type:"u128"},{name:"pendingRewards",type:"u64"},{name:"mintedAmount",type:"u64"},{name:"leverage",type:"u64"}]}},{name:"farmBoostingCollection",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"farm",type:"publicKey"},{name:"boostingCollection",type:"publicKey"},{name:"boostingCoefficient",type:"u64"}]}},{name:"farmRewardMint",type:{kind:"struct",fields:[{name:"farm",type:"publicKey"},{name:"rewardMint",type:"publicKey"},{name:"totalRewards",type:"u64"}]}},{name:"farm",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"inputMint",type:"publicKey"},{name:"moMint",type:"publicKey"},{name:"startDate",type:"i64"},{name:"endDate",type:"i64"},{name:"totalShares",type:"u64"},{name:"totalRewards",type:"u64"},{name:"compensation",type:"u128"},{name:"state",type:{defined:"FarmState"}}]}}],types:[{name:"FarmState",type:{kind:"enum",variants:[{name:"Uninitialized"},{name:"Initialized"},{name:"Frozen"}]}}],events:[{name:"ClaimEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"farm",type:"publicKey",index:!1},{name:"debt",type:"publicKey",index:!1},{name:"rewards",type:"u64",index:!1}]},{name:"ConvertAllRewardsEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"farm",type:"publicKey",index:!1}]},{name:"ConvertSingleRewardEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"farm",type:"publicKey",index:!1},{name:"farmRewardMint",type:"publicKey",index:!1},{name:"rewardMint",type:"publicKey",index:!1},{name:"rewards",type:"u64",index:!1}]},{name:"DepositEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"farm",type:"publicKey",index:!1},{name:"debt",type:"publicKey",index:!1},{name:"inAmount",type:"u64",index:!1},{name:"outAmount",type:"u64",index:!1}]},{name:"InitializeDebtEvent",fields:[{name:"debt",type:"publicKey",index:!1},{name:"authority",type:"publicKey",index:!1},{name:"farm",type:"publicKey",index:!1},{name:"shares",type:"u64",index:!1},{name:"debtAmount",type:"u128",index:!1},{name:"pendingRewards",type:"u64",index:!1},{name:"leverage",type:"u64",index:!1}]},{name:"InitializeFarmEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"farm",type:"publicKey",index:!1},{name:"inputMint",type:"publicKey",index:!1},{name:"moMint",type:"publicKey",index:!1},{name:"startDate",type:"i64",index:!1},{name:"endDate",type:"i64",index:!1},{name:"totalShares",type:"u64",index:!1},{name:"compensation",type:"u128",index:!1},{name:"state",type:{defined:"FarmState"},index:!1}]},{name:"LockEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"farm",type:"publicKey",index:!1},{name:"debt",type:"publicKey",index:!1},{name:"collection",type:"publicKey",index:!1},{name:"nft",type:"publicKey",index:!1},{name:"leverage",type:"u64",index:!1},{name:"boostingCoefficient",type:"u64",index:!1}]},{name:"PushFarmBoostingCollectionEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"farm",type:"publicKey",index:!1},{name:"farmBoostingCollection",type:"publicKey",index:!1},{name:"boostingCollection",type:"publicKey",index:!1},{name:"boostingCoefficient",type:"u64",index:!1}]},{name:"PushFarmRewardMintEvent",fields:[{name:"farm",type:"publicKey",index:!1},{name:"farmRewardMint",type:"publicKey",index:!1},{name:"rewardMint",type:"publicKey",index:!1},{name:"totalRewards",type:"u64",index:!1}]},{name:"StakeEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"farm",type:"publicKey",index:!1},{name:"debt",type:"publicKey",index:!1},{name:"shares",type:"u64",index:!1},{name:"debtAmount",type:"u128",index:!1}]},{name:"TransferOwnerShipEvent",fields:[{name:"farm",type:"publicKey",index:!1},{name:"authority",type:"publicKey",index:!1}]},{name:"UnLockEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"farm",type:"publicKey",index:!1},{name:"debt",type:"publicKey",index:!1},{name:"collection",type:"publicKey",index:!1},{name:"nft",type:"publicKey",index:!1},{name:"leverage",type:"u64",index:!1},{name:"boostingCoefficient",type:"u64",index:!1}]},{name:"UnstakeEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"farm",type:"publicKey",index:!1},{name:"debt",type:"publicKey",index:!1},{name:"prevShares",type:"u64",index:!1},{name:"prevDebtAmount",type:"u128",index:!1},{name:"rewards",type:"u64",index:!1}]},{name:"WithdrawEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"farm",type:"publicKey",index:!1},{name:"debt",type:"publicKey",index:!1},{name:"inAmount",type:"u64",index:!1},{name:"outAmount",type:"u64",index:!1}]}],errors:[{code:6e3,name:"Overflow",msg:"Operation overflowed"},{code:6001,name:"NoPermission",msg:"No permission"},{code:6002,name:"NoBump",msg:"Cannot derive the program address"},{code:6003,name:"EmptyRewards",msg:"Cannot set empty rewards"},{code:6004,name:"ZeroCoefficients",msg:"Cannot set zero to coefficients"},{code:6005,name:"EndBeforeStart",msg:"Cannot end before start"},{code:6006,name:"InvalidDatetime",msg:"Invalid Datetime"},{code:6007,name:"MinimumSupply",msg:"Highly recommend 1_000_000_000_000_000_000 to minimum supply"},{code:6008,name:"InvalidState",msg:"Invalid State"},{code:6009,name:"InvalidCollection",msg:"Invalid NFT Collection"},{code:6010,name:"MustBeEmptyDebt",msg:"Must be empty debt"},{code:6011,name:"DuplicateRewardMint",msg:"Duplicate reward mint"},{code:6012,name:"InsufficientBalance",msg:"Insufficient balance"}]}},90712:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function a(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.DataLoader=void 0;const r=n(71580),o=new Map;class s{static getSingleFlight(){if(this.singleInstance)return this.singleInstance;let e=new a;return this.singleInstance=e,e}static load(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i(this,void 0,void 0,(function*(){"object"===typeof e&&(e=JSON.stringify(e));let i=s.getSingleFlight();const o=new r.RequestQueue(e);return i.load(o,t,n)}))}}t.DataLoader=s;class a{constructor(){this.mapRequestCalling=new Map}load(e,t,n){return i(this,void 0,void 0,(function*(){const i=o.get(e.key);if(i&&!n)return i;let r=!1,s=this.mapRequestCalling.get(e.key);return s||(s=e,r=!0,this.mapRequestCalling.set(s.key,s)),new Promise(((e,n)=>{if(!s)return n("Not found request!");s.add(e,n),r&&this.fetch(s,t)}))}))}fetch(e,t){t().then((t=>{o.set(e.key,t),e.resolves(t)})).catch((t=>{o.set(e.key,t),e.rejects(t)})).finally((()=>{this.mapRequestCalling.delete(e.key)}))}}},71580:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestQueue=void 0;t.RequestQueue=class{constructor(e){this.key="",this.resolveQueue=[],this.rejectQueue=[],this.key=e}add(e,t){this.resolveQueue.push(e),this.rejectQueue.push(t)}resolves(e){for(;this.resolveQueue.length>0;){this.resolveQueue.shift()(e)}}rejects(e){for(;this.rejectQueue.length>0;){this.rejectQueue.shift()(e)}}}},58512:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function a(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaExplorer=void 0;const r=n(97381),o=700;t.SolanaExplorer=class{constructor(e){this.conn=e}fetchSignatures(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return i(this,void 0,void 0,(function*(){n>o&&(n=o);const i={limit:n,before:t};return this.conn.getConfirmedSignaturesForAddress2(e,i)}))}fetchConfirmTransaction(e){return i(this,void 0,void 0,(function*(){let t=[];const n=[];for(let r=0;r<=e.length/200;r++){const t=200*r,i=e.slice(t,t+200);n.push(this.conn.getParsedTransactions(i))}const i=yield Promise.all(n);for(const e of i)t=t.concat(e);return t}))}fetchTransactions(e,t){return i(this,void 0,void 0,(function*(){const n=(new Date).getTime()/1e3;let{secondFrom:i,secondTo:s,lastSignature:a,limit:u}=t;i=Math.floor(i||0),s=Math.floor(s||n);const c=new r.PublicKey(e);let d=[],l=!1;for(;!l;){const e=yield this.fetchSignatures(c,a,u);if(!(null===e||void 0===e?void 0:e.length)||l)break;for(const t of e){const e=t.blockTime;if(e&&!(e>s)){if(e<i){l=!0;break}a=t.signature,d.push(t.signature)}}if(u&&d.length>=u)break;if((null===e||void 0===e?void 0:e.length)<o)break}return yield this.fetchConfirmTransaction(d)}))}}},95131:function(e,t,n){"use strict";var i=n(97429).Buffer,r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IdlParser=t.decodeIxData=t.encodeIxData=t.ixDiscriminator=t.accountDiscriminator=void 0;const o=n(50794),s=n(10119),a=r(n(8511)),u=n(2670),c=r(n(12911)),d=n(70653);t.accountDiscriminator=e=>i.from(s.sha256.digest(`account:${(0,a.default)(e,{pascalCase:!0})}`)).slice(0,8);t.ixDiscriminator=e=>{let t=`global:${(0,u.snakeCase)(e)}`;return i.from(s.sha256.digest(t)).slice(0,8)},t.encodeIxData=c.default.encode,t.decodeIxData=c.default.decode;t.IdlParser=class{constructor(e){var n=this;this.parserAccountData=function(e,r){let o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!o){const n=(0,t.accountDiscriminator)(e);r=i.concat([n,r])}return n.program.coder.accounts.decode(e,r)},this.parserIxData=function(e,r){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{if(!n.idl.instructions.find((t=>t.name===e)))return null;if(!s){const n=(0,t.ixDiscriminator)(e);r=i.concat([n,r])}const a=new o.BorshInstructionCoder(n.idl).decode(r);return a?{name:a.name,data:a.data}:null}catch(a){return null}},this.program=(0,d.getRawProgram)(e),this.idl=e}}},13526:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(40595),t),r(n(70653),t),r(n(17666),t),r(n(70251),t),r(n(95131),t),r(n(30559),t),r(n(90712),t),r(n(58512),t)},70251:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function a(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IPFS=void 0;const r=n(40056),o=n(32743),s=n(90712);t.IPFS=class{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://api.web3.storage";this.key=e,this.IDL=t,this.endpoint=n,this.decodeCID=e=>{if("string"===typeof e)return e;const t=new Uint8Array([18,32]),n=new Uint8Array(t.length+(null===e||void 0===e?void 0:e.length));n.set(t),n.set(e,t.length);return o.CID.decode(n).toString()},this.provider=new r.Web3Storage({endpoint:new URL(this.endpoint),token:this.key})}get methods(){const e={};for(const t of this.IDL)e[t]={set:e=>this.set(e),get:e=>this.get(e)};return e}set(e){return i(this,void 0,void 0,(function*(){const t=new r.File([JSON.stringify(e)],"file",{type:"application/json"}),n=yield this.provider.put([t]),{multihash:{digest:i}}=o.CID.parse(n);return{cid:n,digest:i}}))}get(e){return i(this,void 0,void 0,(function*(){const t=this.decodeCID(e);return s.DataLoader.load(`ipfs:${t}`,(()=>i(this,void 0,void 0,(function*(){const e=yield this.provider.get(t),n=((yield null===e||void 0===e?void 0:e.files())||[])[0],i=new FileReader;return new Promise(((e,t)=>{try{if(!n)throw new Error("Cannot read empty file");i.onload=()=>{var t;const n=null===(t=i.result)||void 0===t?void 0:t.toString();if(!n)throw new Error("Cannot read empty file");return e(JSON.parse(n))},i.readAsText(n)}catch(r){return t(r.message)}}))}))))}))}}},17666:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function a(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountDataSmart=t.getMultipleAccounts=void 0;function i(e,t,i){return n(this,void 0,void 0,(function*(){const n=null!==i&&void 0!==i?i:e.commitment;return(yield e.getMultipleAccountsInfo(t,n)).map(((e,n)=>null===e?null:{publicKey:t[n],account:e}))}))}function r(e,t,r){return n(this,void 0,void 0,(function*(){if(t.length<=99)return yield i(e,t,r);{const s=(n=t,o=99,Array.apply(0,new Array(Math.ceil(n.length/o))).map(((e,t)=>n.slice(t*o,(t+1)*o))));return(yield Promise.all(s.map((t=>i(e,t,r))))).flat()}var n,o}))}t.getMultipleAccounts=r;let o=new Array,s=new Map;t.getAccountDataSmart=function(e,t){return n(this,void 0,void 0,(function*(){const{connection:i,publicKey:a,commitment:u="confirmed",debounce:c=500}=e,d=a.toBase58();if(!s.has(d)){const e=new Promise(((e,d)=>{o.length||setTimeout((()=>n(this,void 0,void 0,(function*(){return function(){return n(this,void 0,void 0,(function*(){const e=o;o=[],s=new Map;const n=yield r(i,e.map((e=>e.publicKey)),u);for(let i=0;i<e.length;i++){const r=e[i];try{const e=n[i];if(!(null===e||void 0===e?void 0:e.account.data))throw new Error("Invalid Data");const o=t(null===e||void 0===e?void 0:e.account.data);r.resolve({publicKey:r.publicKey,data:o})}catch(a){r.resolve({publicKey:r.publicKey,data:null})}}}))}()}))),c),o.push({publicKey:a,resolve:e,reject:d})}));s.set(d,e)}return s.get(d)}))}},40595:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(t,n);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,r)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)},a=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function a(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createMintAndMintTo=void 0;const u=n(97381),c=o(n(23303));t.createMintAndMintTo=function(e,t){let{amount:n,mint:i,dstAddress:r,decimals:o=9}=t,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a(void 0,void 0,void 0,(function*(){const t=yield c.initTxCreateMint(e,{mint:i,decimals:o}),a=i.publicKey,d=yield c.initTxCreateTokenAccount(e,{mintAddress:a,owner:r}),l=yield c.initTxMintTo(e,{mintAddress:i.publicKey,amount:n,dstAddress:r}),m=(new u.Transaction).add(t,d,l);let f="";return s&&(f=yield e.sendAndConfirm(m,[i])),{txId:f,transaction:m,signer:[i]}}))},s(n(23303),t)},23303:function(e,t,n){"use strict";var i=n(97429).Buffer,r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function a(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initTxCreateMultiTokenAccount=t.initTxCreateTokenAccount=t.initTxCreateMint=t.initTxMintTo=void 0;const o=n(50794),s=n(17666),a=n(70653);t.initTxMintTo=(e,t)=>{let{mintAddress:n,amount:i,dstAddress:s=e.wallet.publicKey}=t;return r(void 0,void 0,void 0,(function*(){const t=o.Spl.token(e),r=(0,a.toPublicKey)(n),u=yield o.utils.token.associatedAddress({mint:r,owner:(0,a.toPublicKey)(s)});return yield t.methods.mintTo(i).accounts({mint:r,to:u,authority:e.wallet.publicKey}).instruction()}))};t.initTxCreateMint=(e,t)=>{let{mint:n,decimals:i=9,mintAuthority:s=e.wallet.publicKey,freezeAuthority:u=e.wallet.publicKey}=t;return r(void 0,void 0,void 0,(function*(){const t=o.Spl.token(e),r=yield t.account.mint.createInstruction(n),c=yield t.methods.initializeMint(i,(0,a.toPublicKey)(s),(0,a.toPublicKey)(u)).accounts({mint:n.publicKey,rent:o.web3.SYSVAR_RENT_PUBKEY}).instruction();return(new o.web3.Transaction).add(r).add(c)}))};t.initTxCreateTokenAccount=(e,t)=>{let{mintAddress:n,owner:s=e.wallet.publicKey}=t;return r(void 0,void 0,void 0,(function*(){const t=(0,a.toPublicKey)(n),r=(0,a.toPublicKey)(e.wallet.publicKey),u=(0,a.toPublicKey)(s),c=yield o.utils.token.associatedAddress({mint:t,owner:u}),d=new o.web3.TransactionInstruction({keys:[{pubkey:r,isSigner:!0,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.utils.token.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:o.utils.token.ASSOCIATED_PROGRAM_ID,data:i.from([])});return(new o.web3.Transaction).add(d)}))};t.initTxCreateMultiTokenAccount=(e,n)=>{let{mints:i,owner:u=e.wallet.publicKey}=n;return r(void 0,void 0,void 0,(function*(){const n=(0,a.toPublicKey)(u),c=[],d=[];for(const e of i){const t=(0,a.toPublicKey)(e),i=yield o.utils.token.associatedAddress({mint:t,owner:n});d.push(i)}return(yield(0,s.getMultipleAccounts)(e.connection,d)).forEach(((n,o)=>r(void 0,void 0,void 0,(function*(){if(null!==n)return;const r=yield(0,t.initTxCreateTokenAccount)(e,{mintAddress:i[o],owner:u});c.push(r)})))),c}))}},70653:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{u(i.next(e))}catch(t){o(t)}}function a(e){try{u(i.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getRawProgram=t.getRawAnchorProvider=t.getAnchorProvider=t.toBase58=t.toPublicKey=void 0;const r=n(50794);t.toPublicKey=e=>new r.web3.PublicKey(e);t.toBase58=e=>new r.web3.PublicKey(e).toBase58();t.getAnchorProvider=(e,t,n)=>{const i=new r.web3.Connection(e,"confirmed"),o=new r.web3.PublicKey(t);return new r.AnchorProvider(i,{publicKey:o,signAllTransactions:n.signAllTransactions,signTransaction:n.signTransaction},{commitment:"confirmed",skipPreflight:!0})};t.getRawAnchorProvider=()=>{const e=r.web3.clusterApiUrl("mainnet-beta"),t=new r.web3.Connection(e,"confirmed"),n=r.web3.Keypair.generate(),i=new o(n.publicKey);return new r.AnchorProvider(t,{publicKey:i.publicKey,signAllTransactions:i.signAllTransactions,signTransaction:i.signTransaction},{commitment:"confirmed",skipPreflight:!0})};t.getRawProgram=e=>{const n=r.web3.Keypair.generate().publicKey,i=(0,t.getRawAnchorProvider)();return new r.Program(e,n,i)};class o{constructor(e){this.publicKey=e}signTransaction(e){return i(this,void 0,void 0,(function*(){throw new Error("Raw Wallet can not sign transaction")}))}signAllTransactions(e){return i(this,void 0,void 0,(function*(){throw new Error("Raw Wallet can not sign all transaction")}))}}t.default=o},30559:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utilsBN=void 0;const i=n(50794);t.utilsBN={decimalize:(e,t)=>{if(!e)return new i.BN(0);if(t<0||t%1!==0)throw new Error("decimals must be an integer greater than zero");const n=e.toString().split(".");if(n.length>2)throw new Error("Invalid number");return t?1===n.length?new i.BN(e).mul(new i.BN(Math.pow(10,t))):n[1].length>=t?new i.BN(n[0]+n[1].substring(0,t)):new i.BN(n[0]+n[1]+"0".repeat(t-n[1].length)):new i.BN(n[0])},undecimalize:(e,t)=>{if(t<0||t%1!==0)throw new Error("decimals must be an integer greater than zero");if(!e)return"0";const n=e.toString();if(!t)return n;let i=n.length>t?n.substring(0,n.length-t):"0",r="";for(r=n.length>t?n.substring(n.length-t,n.length):n.length===t?n:"0".repeat(t-n.length)+n,r=r.split("");"0"===r[r.length-1];)r.pop();return r=r.join(""),r?i+"."+r:i},toNumber:e=>Number(t.utilsBN.undecimalize(e,0))}},24412:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var i=0;i<e.length;i++){var r=e.charAt(i),o=r.charCodeAt(0);if(255!==t[o])throw new TypeError(r+" is ambiguous");t[o]=i}var s=e.length,a=e.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var n=0,i=0,r=0;e[n]===a;)i++,n++;for(var o=(e.length-n)*u+1>>>0,c=new Uint8Array(o);e[n];){var d=t[e.charCodeAt(n)];if(255===d)return;for(var l=0,m=o-1;(0!==d||l<r)&&-1!==m;m--,l++)d+=s*c[m]>>>0,c[m]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");r=l,n++}for(var f=o-r;f!==o&&0===c[f];)f++;for(var y=new Uint8Array(i+(o-f)),h=i;f!==o;)y[h++]=c[f++];return y}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var n=0,i=0,r=0,o=t.length;r!==o&&0===t[r];)r++,n++;for(var u=(o-r)*c+1>>>0,d=new Uint8Array(u);r!==o;){for(var l=t[r],m=0,f=u-1;(0!==l||m<i)&&-1!==f;f--,m++)l+=256*d[f]>>>0,d[f]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");i=m,r++}for(var y=u-i;y!==u&&0===d[y];)y++;for(var h=a.repeat(n);y<u;++y)h+=e.charAt(d[y]);return h},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},12911:(e,t,n)=>{const i=n(24412);e.exports=i("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},65284:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(92950);const r=function(e){void 0===e&&(e={});var t=(0,i.useState)(e),n=t[0],r=t[1];return[n,(0,i.useCallback)((function(e){r((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[])]}},40056:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Blob:()=>y,File:()=>h,Web3Storage:()=>S,createRateLimiter:()=>M,filesFromPath:()=>d.v,getFilesFromPath:()=>d.S});var i=n(65846),r=n(67746),o=n(1775),s=n(98548),a=n(34933),u=n(77763),c=n(33101),d=n(35398),l=n(92358),m=n(26536);const f=globalThis.fetch,y=(globalThis.Request,globalThis.Response,globalThis.Blob),h=globalThis.File,p=m.X,g=5,b=10485760,w=1048576,v=104857600;function M(){const e=l(30,1e4);return()=>e((()=>{}))}const A=M();class S{constructor(e){let{token:t,endpoint:n=new URL("https://api.web3.storage"),rateLimiter:i,fetch:r=f}=e;this.token=t,this.endpoint=n,this.rateLimiter=i||M(),this.fetch=r}static headers(e){if(!e)throw new Error("missing token");return{Authorization:`Bearer ${e}`,"X-Client":"web3.storage/js"}}static async put(e,t){let{endpoint:n,token:i,rateLimiter:r=A,fetch:s=f}=e,{onRootCidReady:a,onStoredChunk:u,maxRetries:d=g,maxChunkSize:l=b,wrapWithDirectory:m=!0,name:y,signal:h}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(l>=v||l<w)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const M=new p;try{const{out:e,root:f}=await(0,o.P)({input:Array.from(t).map(x),blockstore:M,wrapWithDirectory:m,maxChunkSize:w,maxChildrenPerNode:1024});a&&a(f.toString());const p=await c.tL.fromIterable(e);return await S.putCar({endpoint:n,token:i,rateLimiter:r,fetch:s},p,{onStoredChunk:u,maxRetries:d,maxChunkSize:l,name:y,signal:h})}finally{await M.close()}}static async putCar(e,t){let{endpoint:n,token:o,rateLimiter:s=A,fetch:a=f}=e,{name:c,onStoredChunk:d,maxRetries:l=g,maxChunkSize:m=b,decoders:h,signal:p}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(m>=v||m<w)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const M=m,P=new URL("car",n);let x=S.headers(o);c&&(x={...x,"X-Name":encodeURIComponent(c)});const k=await t.getRoots();if(null==k[0])throw new Error("missing root CID");if(k.length>1)throw new Error("too many roots");const T=k[0].toString(),_=new u.o(t,M,{decoders:h}),K=(0,i.vs)(3,(async e=>{const t=[];for await(const r of e)t.push(r);const n=new y(t,{type:"application/vnd.ipld.car"}),i=await r((async()=>{let e;await s();try{e=await a(P.toString(),{method:"POST",headers:x,body:n,signal:p})}catch(i){throw p&&p.aborted?new r.AbortError(i):i}if(429===e.status)throw new Error("rate limited");const t=await e.json();if(!e.ok)throw new Error(t.message);if(t.cid!==T)throw new Error(`root CID mismatch, expected: ${T}, received: ${t.cid}`);return t.cid}),{retries:l});return d&&d(n.size),i}));for await(const i of K(_.cars()));return T}static async get(e,t){let{endpoint:n,token:i,rateLimiter:r=A,fetch:o=f}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const u=new URL(`car/${t}`,n);await r();const c=await o(u.toString(),{method:"GET",headers:S.headers(i),signal:s.signal});if(429===c.status)throw new Error("rate limited");return function(e){const t=Object.assign(e,{unixFsIterator:async function*(){if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .unixFsIterator`);if(!e.body)throw new Error("No body on response");const t=new p;try{for await(const n of(0,a.I)(e.body,{blockstore:t}))yield n}finally{await t.close()}},files:async()=>{if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .files`);const n=[];for await(const e of t.unixFsIterator()){if("directory"===e.type)continue;const t=await P(e);n.push(t)}return n}});return t}(c)}static async delete(e,t){let{endpoint:n,token:i,rateLimiter:r=A}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};throw console.log("Not deleting",t,n,i,r,o),Error(".delete not implemented yet")}static async status(e,t){let{endpoint:n,token:i,rateLimiter:r=A,fetch:o=f}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=new URL(`status/${t}`,n);await r();const u=await o(a.toString(),{method:"GET",headers:S.headers(i),signal:s.signal});if(429===u.status)throw new Error("rate limited");if(404!==u.status){if(!u.ok)throw new Error(u.statusText);return u.json()}}static async*list(e){let{before:t=(new Date).toISOString(),maxResults:n=1/0,signal:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};let r=0;const o=n>100?100:n;for await(const a of async function*(e,t,n){let i=await e(t,n);yield i;let r=(0,s.d)(i.headers.get("Link")||"");for(;r&&r.next;)i=await e(t,r.next),yield i,r=(0,s.d)(i.headers.get("Link")||"")}((async function(e,t){let{endpoint:n,token:r,rateLimiter:o=A,fetch:s=f}=e,{before:a,size:u}=t;const c=new URLSearchParams({before:a,size:u.toString()}),d=new URL(`user/uploads?${c}`,n);return await o(),s(d.toString(),{method:"GET",headers:{...S.headers(r),"Access-Control-Request-Headers":"Link"},signal:i})}),e,{before:t,size:o})){if(!a.ok){if(429===a.status)throw new Error("rate limited");const e=await a.json();throw new Error(`${a.status} ${a.statusText} ${e?"- "+e.message:""}`)}const e=await a.json();for(const t of e){if(++r>n)return;yield t}}}put(e,t){return S.put(this,e,t)}putCar(e,t){return S.putCar(this,e,t)}get(e,t){return S.get(this,e,t)}delete(e,t){return S.delete(this,e,t)}status(e,t){return S.status(this,e,t)}list(e){return S.list(this,e)}}async function P(e){let{content:t,path:n,cid:i}=e;const r=[];for await(const s of t())r.push(s);const o=new h(r,function(e){const t=e.indexOf("/");return-1===t?e:e.substring(t+1)}(n));return Object.assign(o,{cid:i.toString()})}function x(e){let t;return{path:e.name,get content(){return t=t||e.stream(),t}}}}}]);
//# sourceMappingURL=vendors-node_modules_sentre_farming_dist_app_index_js-node_modules_react-use_esm_useSetState_js.4cc7e91d.chunk.js.map