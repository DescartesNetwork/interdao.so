"use strict";(globalThis.webpackChunkinterdao=globalThis.webpackChunkinterdao||[]).push([["src_app_templates_blank_create_tsx"],{43319:(a,e,t)=>{t.r(e),t.d(e,{default:()=>d});var n=t(92950),s=t(55754),o=t(94751),r=t(33804),c=t(80531);let i;!function(a){a.source="source",a.destination="destination",a.authority="authority",a.code="code",a.lamports="lamports"}(i||(i={}));const u={name:c.sR.BlankTemplate,accounts:[{name:i.source,isMut:!0,isSigner:!1,isMaster:!1},{name:i.destination,isMut:!0,isSigner:!1,isMaster:!1},{name:i.authority,isMut:!0,isSigner:!0,isMaster:!0}],args:[{name:i.code,type:"u32"},{name:i.lamports,type:"u64"}],programId:r.web3.SystemProgram.programId.toBase58()};var l=t(8904),m=t(45263);const d=a=>{let{daoAddress:e=""}=a;const t=(0,s.useSelector)((a=>a.daos[e])),{confirm:r}=(0,l.h)(),c=(0,n.useCallback)((async()=>{const a={[i.code]:"2",[i.lamports]:"0",[i.source]:t.master.toBase58(),[i.destination]:t.master.toBase58(),[i.authority]:t.master.toBase58()};return r(u,{...a})}),[r,t.master]);return(0,m.jsx)(o.Button,{size:"small",onClick:c,disabled:!1,children:"New blank proposal"})}},68522:(a,e,t)=>{t.d(e,{i:()=>o,l:()=>r});var n=t(33804),s=t(40106);let o;!function(a){a.tokenAccount="token-account",a.decimalize="decimalize"}(o||(o={}));const r={[o.tokenAccount]:{call:async a=>n.utils.token.associatedAddress({mint:new n.web3.PublicKey(a.mint),owner:new n.web3.PublicKey(a.owner)})},[o.decimalize]:{call:async a=>{const{splt:e}=window.sentre,t=await e.getMintData(a.mint);return s.default.decimalize(a.amount,t.decimals)}}}},8904:(a,e,t)=>{t.d(e,{h:()=>b});var n=t(92950),s=t(55754),o=t(45055),r=t(86164),c=t(3740),i=t(33804),u=t(71256),l=t(63805),m=t(99503),d=t(80531),w=t(68522);const p="ixname",y=(a,e)=>{switch(e){case"u8":case"u32":return Number(a);case"u64":return new i.BN(a);default:throw new Error("Invalid type of arg: "+e)}},g=async(a,e)=>{const t=await(a=>{const e=new u.Connection(l.f4,{commitment:"confirmed"}),t=new i.AnchorProvider(e,new m.Z,{commitment:"confirmed"});return new i.Program({instructions:[{name:p,accounts:a.accounts,args:a.args}],name:"program-parser",version:"0.0.0"},a.programId,t)})(a),n=await(async(a,e)=>{const t=a.accounts,n={};for(const s of t)if((0,d.tq)(s)){const a=s.rule.configs,t={};for(const n in a)t[n]=e[a[n]];const o=await w.l[s.rule.name].call({...t});n[s.name]=o}else n[s.name]=new u.PublicKey(e[s.name]);return n})(a,e);console.log("accounts",n);const s=await(async(a,e)=>{const t=[];for(const n of a.args){let a=e[n.name];if((0,d.ny)(n)){const t=n.rule.configs,s={};for(const a in t)s[a]=e[t[a]];a=await w.l[n.rule.name].call({...s})}t.push(y(a,n.type))}return t})(a,e),o=await t.methods.ixname.call(void 0,...s).accounts(n).instruction();return o.data=o.data.slice(8,o.data.length),o},{manifest:{appId:f}}=r.Z,b=()=>{const a=(0,s.useDispatch)(),e=(0,o.useHistory)(),{daoAddress:t}=(0,o.useParams)();return{confirm:(0,n.useCallback)((async(n,s)=>{const o=await g(n,s),r=await((a,e)=>{const t={};for(let n=0;n<a.accounts.length;n++){const s=a.accounts[n];t[s.name]={isMaster:s.isMaster,isSigner:s.isSigner,isWritable:s.isMut,pubkey:e.keys[n].pubkey}}return{name:a.name,data:e.data,accounts:t,programId:new u.PublicKey(a.programId)}})(n,o);return await a((0,c.St)(n.name)),await a((0,c.Rm)(r)),await a((0,c.yx)(!1)),await a((0,c.mS)(s)),e.push(`/app/${f}/dao/${t}/new-proposal`)}),[t,a,e]),close:(0,n.useCallback)((async()=>{await a((0,c.JJ)())}),[a])}}}}]);
//# sourceMappingURL=src_app_templates_blank_create_tsx.9924b45a.chunk.js.map