/*! For license information please see 152.1d2193eb.chunk.js.LICENSE.txt */
(globalThis.webpackChunkinterdao=globalThis.webpackChunkinterdao||[]).push([[152,895],{24460:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.FEE_OPTIONS=e.RECEIPT_DISCRIMINATOR=e.PROPOSAL_DISCRIMINATOR=e.DAO_DISCRIMINATOR=e.DEFAULT_INTERDAO_IDL=e.DEFAULT_INTERDAO_PROGRAM_ID=e.DEFAULT_RPC_ENDPOINT=void 0;const i=n(r(84201)),o=r(33804),s=r(95339);e.DEFAULT_RPC_ENDPOINT="https://api.devnet.solana.com",e.DEFAULT_INTERDAO_PROGRAM_ID="3ZWBFTzWoT2RaCVJGqvfqjhZsKP9ohxKtZQcjc7mVrpX",e.DEFAULT_INTERDAO_IDL=s.IDL,e.DAO_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("dao")),e.PROPOSAL_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("proposal")),e.RECEIPT_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("receipt"));e.FEE_OPTIONS=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new o.web3.Keypair).publicKey.toBase58();return{tax:new o.BN(0),taxmanAddress:t,revenue:new o.BN(0),revenuemanAddress:t}}},60284:function(t,e,r){"use strict";var n=r(97429).Buffer,i=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),s=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&i(e,t,r);return o(e,t),e},a=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{c(n.next(t))}catch(e){o(e)}}function a(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0});const c=s(r(70320)),u=r(33804),l=r(24460),d=r(94046),h=r(34209);e.default=class{constructor(t){var e=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.DEFAULT_RPC_ENDPOINT,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.DEFAULT_INTERDAO_PROGRAM_ID;if(this.addListener=(t,e)=>a(this,void 0,void 0,(function*(){return yield this.program.addEventListener(t,(t=>e(t)))})),this.removeListener=t=>a(this,void 0,void 0,(function*(){try{yield this.program.removeEventListener(t)}catch(e){console.warn(e)}})),this.getCurrentUnixTimestamp=()=>a(this,void 0,void 0,(function*(){const{data:t}=(yield this.program.provider.connection.getAccountInfo(u.web3.SYSVAR_CLOCK_PUBKEY))||{},e=new c.struct([{key:"slot",type:"u64"},{key:"epoch_start_timestamp",type:"i64"},{key:"epoch",type:"u64"},{key:"leader_schedule_epoch",type:"u64"},{key:"unix_timestamp",type:"i64"}]);e.fromBuffer(t);const{unix_timestamp:r}=e.value;return Number(r)})),this.parseDaoData=t=>this.program.coder.accounts.decode("dao",t),this.getDaoData=t=>a(this,void 0,void 0,(function*(){return this.program.account.dao.fetch(t)})),this.parseProposalData=t=>this.program.coder.accounts.decode("proposal",t),this.getProposalData=t=>a(this,void 0,void 0,(function*(){return this.program.account.proposal.fetch(t)})),this.parseReceiptData=t=>this.program.coder.accounts.decode("receipt",t),this.getReceiptData=t=>a(this,void 0,void 0,(function*(){return this.program.account.receipt.fetch(t)})),this.deriveProposalAddress=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(e,void 0,void 0,(function*(){if(!(0,h.isAddress)(t))throw new Error("Invalid DAO address");if(r.isNeg())throw new Error("Invalid index must be greater than or equal to zero");const e=(yield(0,h.findProposal)(new u.BN(r),new u.web3.PublicKey(t),this.program.programId)).toBase58();if(n){let n,o;try{const{dao:t,index:r}=yield this.getProposalData(e);n=t.toBase58(),o=r}catch(i){throw new Error(`This proposal ${e} is not initialized yet`)}if(t!==n)throw new Error("Violated DAO address");if(!r.eq(o))throw new Error("Violated index")}return e}))},this.deriveReceiptAddress=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(e,void 0,void 0,(function*(){if(t.isNeg())throw new Error("Invalid index must be greater than or equal to zero");if(!(0,h.isAddress)(r))throw new Error("Invalid proposal address");const e=(yield(0,h.findReceipt)(t,new u.web3.PublicKey(r),this._provider.wallet.publicKey,this.program.programId)).toBase58();if(n){let n,o,s;try{const{authority:t,proposal:r,index:i}=yield this.getReceiptData(e);n=t.toBase58(),o=r.toBase58(),s=i}catch(i){throw new Error(`This receipt ${e} is not initialized yet`)}if(this._provider.wallet.publicKey.toBase58()!==n)throw new Error("Violated authority address");if(r!==o)throw new Error("Violated proposal address");if(!t.eq(s))throw new Error("Violated index")}return e}))},this.findAvailableReceiptIndex=(t,e)=>a(this,void 0,void 0,(function*(){if(!(0,h.isAddress)(t))throw new Error("Invalid proposal address");if(!(0,h.isAddress)(e))throw new Error("Invalid authority address");let r=new u.BN(0);const n=new u.BN(1);for(;;)try{yield this.deriveReceiptAddress(r,t,!0),r=r.add(n)}catch(i){return r}})),this.deriveTreasurerAddress=t=>a(this,void 0,void 0,(function*(){if(!(0,h.isAddress)(t))throw new Error("Invalid proposal address");const e=new u.web3.PublicKey(t),[r]=yield u.web3.PublicKey.findProgramAddress([n.from("treasurer"),e.toBuffer()],this.program.programId);return r.toBase58()})),this.deriveMasterAddress=t=>a(this,void 0,void 0,(function*(){if(!(0,h.isAddress)(t))throw new Error("Invalid DAO address");const e=new u.web3.PublicKey(t),[r]=yield u.web3.PublicKey.findProgramAddress([n.from("master"),e.toBuffer()],this.program.programId);return r.toBase58()})),this.initializeDao=function(t,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.web3.Keypair.generate(),o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d.DaoRegimes.Dictatorial;return a(e,void 0,void 0,(function*(){if(!(0,h.isAddress)(t))throw new Error("Invalid token address");if(!r.gt(new u.BN(0)))throw new Error("Invalid token supply must be greater than zero");if(32!==n.length)throw new Error("Invalid metadata path");const e=yield this.deriveMasterAddress(i.publicKey.toBase58()),s=new u.web3.PublicKey(e),a=new u.web3.PublicKey(t);return{txId:yield this.program.rpc.initializeDao(o,r,n,{accounts:{dao:i.publicKey,authority:this._provider.wallet.publicKey,master:s,mint:a,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY},signers:[i]}),daoAddress:i.publicKey.toBase58()}}))},this.initializeProposal=function(t,r,n,i,o,s,c,f,p,g){let y=arguments.length>10&&void 0!==arguments[10]?arguments[10]:d.ConsensusMechanisms.StakedTokenCounter,m=arguments.length>11&&void 0!==arguments[11]?arguments[11]:d.ConsensusQuorums.Half,b=arguments.length>12&&void 0!==arguments[12]?arguments[12]:{};return a(e,void 0,void 0,(function*(){const{tax:e,taxmanAddress:a,revenue:d,revenuemanAddress:w}=Object.assign(Object.assign({},(0,l.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),b);if(!(0,h.isAddress)(t))throw new Error("Invalid DAO address");if(!(0,h.isAddress)(a))throw new Error("Invalid taxman address");if(!(0,h.isAddress)(w))throw new Error("Invalid revenue receiver address");if(32!==g.length)throw new Error("Invalid metadata path");if(i.length!==o.length||i.length!==s.length||i.length!==c.length)throw new Error("Invalid length of pubkeys and thier flags (isSigner, isWritable, isMaster)");const _=yield this.getCurrentUnixTimestamp();if(f<=_)throw new Error("Invalid start date");if(p<=f)throw new Error("Invalid end date");const{nonce:v}=yield this.getDaoData(t),k=yield this.deriveProposalAddress(t,v),S=new u.web3.PublicKey(k),A=new u.web3.PublicKey(t),E=new u.web3.PublicKey(r),I=new u.web3.PublicKey(a),x=new u.web3.PublicKey(w);return{txId:yield this.program.rpc.initializeProposal(n,i,o,s,c,y,m,new u.BN(f),new u.BN(p),g,e,d,{accounts:{caller:this._provider.wallet.publicKey,proposal:S,dao:A,invokedProgram:E,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY,taxman:I,revenueman:x}}),proposalAddress:k}}))},this.executeProposal=t=>a(this,void 0,void 0,(function*(){if(!(0,h.isAddress)(t))throw new Error("Invalid proposal address");const{accounts:e,dao:r,invokedProgram:n}=yield this.getProposalData(t),i=e.map((t=>{let{pubkey:e,isSigner:r,isWritable:n,isMaster:i}=t;return{pubkey:e,isSigner:r&&!i,isWritable:n}})),o=new u.web3.PublicKey(t),s=yield this.deriveMasterAddress(r.toBase58());return{txId:yield this.program.rpc.executeProposal({accounts:{caller:this._provider.wallet.publicKey,proposal:o,dao:r,master:s,invokedProgram:n},remainingAccounts:i})}})),this.voteFor=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(e,void 0,void 0,(function*(){const{tax:e,taxmanAddress:i,revenue:o,revenuemanAddress:s}=Object.assign(Object.assign({},(0,l.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),n);if(!(0,h.isAddress)(t))throw new Error("Invalid proposal address");if(!(0,h.isAddress)(i))throw new Error("Invalid taxman address");if(!(0,h.isAddress)(s))throw new Error("Invalid revenue receiver address");if(r.isNeg()||r.isZero())throw new Error("Invalid amount");const a=new u.web3.PublicKey(t),{dao:c}=yield this.getProposalData(t),{mint:d}=yield this.getDaoData(c.toBase58()),f=this._provider.wallet.publicKey,p=yield u.utils.token.associatedAddress({mint:d,owner:f}),g=yield this.findAvailableReceiptIndex(t,f.toBase58()),y=yield this.deriveReceiptAddress(g,t),m=new u.web3.PublicKey(y),b=yield this.deriveTreasurerAddress(t),w=new u.web3.PublicKey(b),_=yield u.utils.token.associatedAddress({mint:d,owner:w}),v=new u.web3.PublicKey(i),k=new u.web3.PublicKey(s);return{txId:yield this.program.rpc.voteFor(g,r,e,o,{accounts:{authority:f,src:p,treasurer:w,mint:d,treasury:_,proposal:a,dao:c,receipt:m,taxman:v,revenueman:k,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}}),receiptAddress:y}}))},this.voteAgainst=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a(e,void 0,void 0,(function*(){const{tax:e,taxmanAddress:i,revenue:o,revenuemanAddress:s}=Object.assign(Object.assign({},(0,l.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),n);if(!(0,h.isAddress)(t))throw new Error("Invalid proposal address");if(!(0,h.isAddress)(i))throw new Error("Invalid taxman address");if(!(0,h.isAddress)(s))throw new Error("Invalid revenue receiver address");if(r.isNeg()||r.isZero())throw new Error("Invalid amount");const a=new u.web3.PublicKey(t),{dao:c}=yield this.getProposalData(t),{mint:d}=yield this.getDaoData(c.toBase58()),f=this._provider.wallet.publicKey,p=yield u.utils.token.associatedAddress({mint:d,owner:f}),g=yield this.findAvailableReceiptIndex(t,f.toBase58()),y=yield this.deriveReceiptAddress(g,t),m=new u.web3.PublicKey(y),b=yield this.deriveTreasurerAddress(t),w=new u.web3.PublicKey(b),_=yield u.utils.token.associatedAddress({mint:d,owner:w}),v=new u.web3.PublicKey(i),k=new u.web3.PublicKey(s);return{txId:yield this.program.rpc.voteAgainst(g,r,e,o,{accounts:{authority:f,src:p,treasurer:w,mint:d,treasury:_,proposal:a,dao:c,receipt:m,taxman:v,revenueman:k,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}}),receiptAddress:y}}))},this.close=t=>a(this,void 0,void 0,(function*(){if(!(0,h.isAddress)(t))throw new Error("Invalid receipt address");const{proposal:e}=yield this.getReceiptData(t),r=e.toBase58(),{dao:n,endDate:i}=yield this.getProposalData(r),{mint:o}=yield this.getDaoData(n.toBase58()),s=this._provider.wallet.publicKey,a=yield u.utils.token.associatedAddress({mint:o,owner:s}),c=new u.web3.PublicKey(t),l=yield this.deriveTreasurerAddress(r),d=new u.web3.PublicKey(l),f=yield u.utils.token.associatedAddress({mint:o,owner:d});if((yield this.getCurrentUnixTimestamp())<=i.toNumber())throw new Error("The proposal is not ended yet");return{txId:yield this.program.rpc.close({accounts:{authority:s,dst:a,treasurer:d,mint:o,treasury:f,proposal:e,dao:n,receipt:c,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}}),receiptAddress:t}})),this.updateDaoSupply=(t,e)=>a(this,void 0,void 0,(function*(){if(t.isNeg()||t.isZero())throw new Error("Invalid supply");if(!(0,h.isAddress)(e))throw new Error("Invalid DAO address");return{txId:yield this.program.rpc.updateSupply(t,{accounts:{authority:this._provider.wallet.publicKey,dao:new u.web3.PublicKey(e)}})}})),this.updateDaoRegime=(t,e)=>a(this,void 0,void 0,(function*(){if(!(0,h.isAddress)(e))throw new Error("Invalid DAO address");return{txId:yield this.program.rpc.updateDaoRegime(t,{accounts:{authority:this._provider.wallet.publicKey,dao:new u.web3.PublicKey(e)}})}})),this.updateDaoMetadata=(t,e)=>a(this,void 0,void 0,(function*(){if(!(0,h.isAddress)(e))throw new Error("Invalid DAO address");if(32!==t.length)throw new Error("Invalid metadata path");return{txId:yield this.program.rpc.updateDaoMetadata(t,{accounts:{authority:this._provider.wallet.publicKey,dao:new u.web3.PublicKey(e)}})}})),this.transferAuthority=(t,e)=>a(this,void 0,void 0,(function*(){if(!(0,h.isAddress)(t))throw new Error("Invalid authority address");if(!(0,h.isAddress)(e))throw new Error("Invalid DAO address");return{txId:yield this.program.rpc.transferAuthority({accounts:{authority:this._provider.wallet.publicKey,newAuthority:new u.web3.PublicKey(t),dao:new u.web3.PublicKey(e)}})}})),!(0,h.isAddress)(i))throw new Error("Invalid program id");this._connection=new u.web3.Connection(r,"confirmed"),this._provider=new u.AnchorProvider(this._connection,t,{skipPreflight:!0,commitment:"confirmed"}),this.program=new u.Program(l.DEFAULT_INTERDAO_IDL,i,this._provider)}get events(){return this.program.idl.events.map((t=>{let{name:e}=t;return e}))}}},77817:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)},o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=o(r(60284));i(r(24460),e),i(r(94046),e),i(r(34209),e),i(r(60284),e),e.default=s.default},94046:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsensusQuorums=e.ConsensusMechanisms=e.DaoRegimes=void 0,e.DaoRegimes={Dictatorial:{dictatorial:{}},Democratic:{democratic:{}},Autonomous:{autonomous:{}}},e.ConsensusMechanisms={StakedTokenCounter:{stakedTokenCounter:{}},LockedTokenCounter:{lockedTokenCounter:{}}},e.ConsensusQuorums={OneThird:{oneThird:{}},Half:{half:{}},TwoThird:{twoThird:{}}}},34209:function(t,e,r){"use strict";var n=r(97429).Buffer,i=this&&this.__awaiter||function(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{c(n.next(t))}catch(e){o(e)}}function a(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.findReceipt=e.findProposal=e.isAddress=void 0;const o=r(33804);e.isAddress=t=>{if(!t)return!1;try{if(!new o.web3.PublicKey(t))throw new Error("Invalid public key");return!0}catch(e){return!1}};e.findProposal=(t,e,r)=>i(void 0,void 0,void 0,(function*(){const[i]=yield o.web3.PublicKey.findProgramAddress([n.from("proposal"),t.toArrayLike(n,"le",8),e.toBuffer()],r);return i}));e.findReceipt=(t,e,r,s)=>i(void 0,void 0,void 0,(function*(){const[i]=yield o.web3.PublicKey.findProgramAddress([n.from("receipt"),t.toArrayLike(n,"le",8),e.toBuffer(),r.toBuffer()],s);return i}))},95339:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDL=void 0,e.IDL={version:"0.1.0",name:"inter_dao",instructions:[{name:"initializeDao",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dao",isMut:!0,isSigner:!0},{name:"master",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"regime",type:{defined:"DaoRegime"}},{name:"supply",type:"u64"},{name:"metadata",type:{array:["u8",32]}}]},{name:"initializeProposal",accounts:[{name:"caller",isMut:!0,isSigner:!0},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1},{name:"invokedProgram",isMut:!1,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"data",type:"bytes"},{name:"pubkeys",type:{vec:"publicKey"}},{name:"isSigners",type:{vec:"bool"}},{name:"isWritables",type:{vec:"bool"}},{name:"isMasters",type:{vec:"bool"}},{name:"consensusMechanism",type:{defined:"ConsensusMechanism"}},{name:"consesusQuorum",type:{defined:"ConsensusQuorum"}},{name:"startDate",type:"i64"},{name:"endDate",type:"i64"},{name:"metadata",type:{array:["u8",32]}},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"voteFor",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!1,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"voteAgainst",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!1,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"executeProposal",accounts:[{name:"caller",isMut:!0,isSigner:!0},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!1,isSigner:!1},{name:"master",isMut:!1,isSigner:!1},{name:"invokedProgram",isMut:!1,isSigner:!1}],args:[]},{name:"close",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dst",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!1,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"updateDaoRegime",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dao",isMut:!0,isSigner:!1}],args:[{name:"regime",type:{defined:"DaoRegime"}}]},{name:"updateDaoMetadata",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dao",isMut:!0,isSigner:!1}],args:[{name:"metadata",type:{array:["u8",32]}}]},{name:"updateSupply",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dao",isMut:!0,isSigner:!1}],args:[{name:"supply",type:"u64"}]},{name:"transferAuthority",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"newAuthority",isMut:!1,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1}],args:[]}],accounts:[{name:"dao",type:{kind:"struct",fields:[{name:"master",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"regime",type:{defined:"DaoRegime"}},{name:"supply",type:"u64"},{name:"nonce",type:"u64"},{name:"metadata",type:{array:["u8",32]}}]}},{name:"proposal",type:{kind:"struct",fields:[{name:"index",type:"u64"},{name:"creator",type:"publicKey"},{name:"dao",type:"publicKey"},{name:"invokedProgram",type:"publicKey"},{name:"dataLen",type:"u64"},{name:"data",type:"bytes"},{name:"accountsLen",type:"u8"},{name:"accounts",type:{vec:{defined:"InvokedAccount"}}},{name:"regime",type:{defined:"DaoRegime"}},{name:"consensusMechanism",type:{defined:"ConsensusMechanism"}},{name:"consensusQuorum",type:{defined:"ConsensusQuorum"}},{name:"executed",type:"bool"},{name:"votingForPower",type:"u128"},{name:"votingAgainstPower",type:"u128"},{name:"supply",type:"u64"},{name:"startDate",type:"i64"},{name:"endDate",type:"i64"},{name:"metadata",type:{array:["u8",32]}}]}},{name:"receipt",type:{kind:"struct",fields:[{name:"index",type:"u64"},{name:"authority",type:"publicKey"},{name:"proposal",type:"publicKey"},{name:"amount",type:"u64"},{name:"power",type:"u128"},{name:"lockedDate",type:"i64"},{name:"unlockedDate",type:"i64"},{name:"action",type:{defined:"ReceiptAction"}}]}}],types:[{name:"InvokedAccount",type:{kind:"struct",fields:[{name:"pubkey",type:"publicKey"},{name:"isSigner",type:"bool"},{name:"isWritable",type:"bool"},{name:"isMaster",type:"bool"}]}},{name:"DaoRegime",type:{kind:"enum",variants:[{name:"Dictatorial"},{name:"Democratic"},{name:"Autonomous"}]}},{name:"ConsensusMechanism",type:{kind:"enum",variants:[{name:"StakedTokenCounter"},{name:"LockedTokenCounter"}]}},{name:"ConsensusQuorum",type:{kind:"enum",variants:[{name:"OneThird"},{name:"Half"},{name:"TwoThird"}]}},{name:"ReceiptAction",type:{kind:"enum",variants:[{name:"VoteFor"},{name:"VoteAgainst"}]}}],events:[{name:"CloseEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"ExecuteProposalEvent",fields:[{name:"proposal",type:"publicKey",index:!1},{name:"caller",type:"publicKey",index:!1}]},{name:"InitializeDAOEvent",fields:[{name:"dao",type:"publicKey",index:!1},{name:"authority",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"regime",type:{defined:"DaoRegime"},index:!1},{name:"supply",type:"u64",index:!1}]},{name:"InitializeProposalEvent",fields:[{name:"proposal",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"caller",type:"publicKey",index:!1},{name:"quorum",type:{defined:"ConsensusQuorum"},index:!1},{name:"invokedProgram",type:"publicKey",index:!1},{name:"data",type:"bytes",index:!1},{name:"accounts",type:{vec:{defined:"InvokedAccount"}},index:!1}]},{name:"TransferAuthorityEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"newAuthority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1}]},{name:"UpdateDaoMetadataEvent",fields:[{name:"dao",type:"publicKey",index:!1},{name:"metadata",type:{array:["u8",32]},index:!1}]},{name:"UpdateDaoRegimeEvent",fields:[{name:"dao",type:"publicKey",index:!1},{name:"regime",type:{defined:"DaoRegime"},index:!1}]},{name:"UpdateSupplyEvent",fields:[{name:"dao",type:"publicKey",index:!1},{name:"supply",type:"u64",index:!1}]},{name:"VoteAgainstEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"proposal",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"VoteForEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"proposal",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]}],errors:[{code:6e3,name:"Overflow",msg:"Operation overflowed"},{code:6001,name:"InvalidDataLength",msg:"Invalid accounts length"},{code:6002,name:"InconsistentProposal",msg:"Inconsistent proposal's accounts configuration"},{code:6003,name:"NotConsentedProposal",msg:"The community isn't consenting on the proposal yet"},{code:6004,name:"NotStartedProposal",msg:"The proposal isn't started yet"},{code:6005,name:"NotEndedProposal",msg:"The proposal isn't ended yet"},{code:6006,name:"EndedProposal",msg:"The proposal had been ended"},{code:6007,name:"ExecutedProposal",msg:"The proposal had been executed"},{code:6008,name:"NoPermission",msg:"No permission"},{code:6009,name:"NoBump",msg:"Cannot derive the program address"},{code:6010,name:"InvalidCurrentDate",msg:"Cannot get current date"},{code:6011,name:"InvalidStartDate",msg:"Start date need to be greater than or equal to current date"},{code:6012,name:"InvalidEndDate",msg:"End date need to be greater than start date and current date"}]}},24817:t=>{"use strict";t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),o=i.charCodeAt(0);if(255!==e[o])throw new TypeError(i+" is ambiguous");e[o]=n}var s=t.length,a=t.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(t){if("string"!==typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;for(var r=0,n=0,i=0;t[r]===a;)n++,r++;for(var o=(t.length-r)*c+1>>>0,u=new Uint8Array(o);t[r];){var l=e[t.charCodeAt(r)];if(255===l)return;for(var d=0,h=o-1;(0!==l||d<i)&&-1!==h;h--,d++)l+=s*u[h]>>>0,u[h]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,r++}for(var f=o-i;f!==o&&0===u[f];)f++;for(var p=new Uint8Array(n+(o-f)),g=n;f!==o;)p[g++]=u[f++];return p}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,o=e.length;i!==o&&0===e[i];)i++,r++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var d=e[i],h=0,f=c-1;(0!==d||h<n)&&-1!==f;f--,h++)d+=256*l[f]>>>0,l[f]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");n=h,i++}for(var p=c-n;p!==c&&0===l[p];)p++;for(var g=a.repeat(r);p<c;++p)g+=t.charAt(l[p]);return g},decodeUnsafe:l,decode:function(t){var e=l(t);if(e)return e;throw new Error("Non-base"+s+" character")}}}},84201:(t,e,r)=>{const n=r(24817);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},33804:(t,e,r)=>{"use strict";r.r(e),r.d(e,{ACCOUNT_DISCRIMINATOR_SIZE:()=>Kn,AccountClient:()=>no,AnchorError:()=>En,AnchorProvider:()=>hn,BN:()=>s(),BorshAccountsCoder:()=>Hn,BorshCoder:()=>Vn,BorshEventCoder:()=>qn,BorshInstructionCoder:()=>Nn,BorshStateCoder:()=>Fn,EventManager:()=>ao,EventParser:()=>co,IdlError:()=>Sn,LangErrorCode:()=>Pn,LangErrorMessage:()=>Rn,MethodsBuilderFactory:()=>mo,Program:()=>wo,ProgramError:()=>In,ProgramErrorStack:()=>An,Spl:()=>_o,SplTokenCoder:()=>Bi,StateClient:()=>eo,eventDiscriminator:()=>Wn,getProvider:()=>mn,parseIdlErrors:()=>Br,setProvider:()=>yn,splitArgsAndCtx:()=>Ji,stateDiscriminator:()=>$n,toInstruction:()=>Cr,translateAddress:()=>Dr,translateError:()=>xn,utils:()=>Gi,validateAccounts:()=>Mr,web3:()=>i});var n=r(97429),i=r(71256),o=r(48744),s=r.n(o),a=r(68532),c=r.n(a),u=r(12009),l=r(84760),d=r.n(l),h=r(10119),f=r(26434);function p(t){let e=t.length;for(;--e>=0;)t[e]=0}const g=256,y=286,m=30,b=15,w=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),_=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),v=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),k=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),S=new Array(576);p(S);const A=new Array(60);p(A);const E=new Array(512);p(E);const I=new Array(256);p(I);const x=new Array(29);p(x);const P=new Array(m);function R(t,e,r,n,i){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=t&&t.length}let O,T,B;function C(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}p(P);const M=t=>t<256?E[t]:E[256+(t>>>7)],D=(t,e)=>{t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},N=(t,e,r)=>{t.bi_valid>16-r?(t.bi_buf|=e<<t.bi_valid&65535,D(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=r-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},z=(t,e,r)=>{N(t,r[2*e],r[2*e+1])},L=(t,e)=>{let r=0;do{r|=1&t,t>>>=1,r<<=1}while(--e>0);return r>>>1},U=(t,e,r)=>{const n=new Array(16);let i,o,s=0;for(i=1;i<=b;i++)n[i]=s=s+r[i-1]<<1;for(o=0;o<=e;o++){let e=t[2*o+1];0!==e&&(t[2*o]=L(n[e]++,e))}},j=t=>{let e;for(e=0;e<y;e++)t.dyn_ltree[2*e]=0;for(e=0;e<m;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},K=t=>{t.bi_valid>8?D(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},H=(t,e,r,n)=>{const i=2*e,o=2*r;return t[i]<t[o]||t[i]===t[o]&&n[e]<=n[r]},q=(t,e,r)=>{const n=t.heap[r];let i=r<<1;for(;i<=t.heap_len&&(i<t.heap_len&&H(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!H(e,n,t.heap[i],t.depth));)t.heap[r]=t.heap[i],r=i,i<<=1;t.heap[r]=n},W=(t,e,r)=>{let n,i,o,s,a=0;if(0!==t.last_lit)do{n=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],i=t.pending_buf[t.l_buf+a],a++,0===n?z(t,i,e):(o=I[i],z(t,o+g+1,e),s=w[o],0!==s&&(i-=x[o],N(t,i,s)),n--,o=M(n),z(t,o,r),s=_[o],0!==s&&(n-=P[o],N(t,n,s)))}while(a<t.last_lit);z(t,256,e)},F=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,i=e.stat_desc.has_stree,o=e.stat_desc.elems;let s,a,c,u=-1;for(t.heap_len=0,t.heap_max=573,s=0;s<o;s++)0!==r[2*s]?(t.heap[++t.heap_len]=u=s,t.depth[s]=0):r[2*s+1]=0;for(;t.heap_len<2;)c=t.heap[++t.heap_len]=u<2?++u:0,r[2*c]=1,t.depth[c]=0,t.opt_len--,i&&(t.static_len-=n[2*c+1]);for(e.max_code=u,s=t.heap_len>>1;s>=1;s--)q(t,r,s);c=o;do{s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],q(t,r,1),a=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=a,r[2*c]=r[2*s]+r[2*a],t.depth[c]=(t.depth[s]>=t.depth[a]?t.depth[s]:t.depth[a])+1,r[2*s+1]=r[2*a+1]=c,t.heap[1]=c++,q(t,r,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],((t,e)=>{const r=e.dyn_tree,n=e.max_code,i=e.stat_desc.static_tree,o=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,a=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,l,d,h,f,p,g=0;for(h=0;h<=b;h++)t.bl_count[h]=0;for(r[2*t.heap[t.heap_max]+1]=0,u=t.heap_max+1;u<573;u++)l=t.heap[u],h=r[2*r[2*l+1]+1]+1,h>c&&(h=c,g++),r[2*l+1]=h,l>n||(t.bl_count[h]++,f=0,l>=a&&(f=s[l-a]),p=r[2*l],t.opt_len+=p*(h+f),o&&(t.static_len+=p*(i[2*l+1]+f)));if(0!==g){do{for(h=c-1;0===t.bl_count[h];)h--;t.bl_count[h]--,t.bl_count[h+1]+=2,t.bl_count[c]--,g-=2}while(g>0);for(h=c;0!==h;h--)for(l=t.bl_count[h];0!==l;)d=t.heap[--u],d>n||(r[2*d+1]!==h&&(t.opt_len+=(h-r[2*d+1])*r[2*d],r[2*d+1]=h),l--)}})(t,e),U(r,u,t.bl_count)},$=(t,e,r)=>{let n,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),e[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=e[2*(n+1)+1],++a<c&&i===s||(a<u?t.bl_tree[2*i]+=a:0!==i?(i!==o&&t.bl_tree[2*i]++,t.bl_tree[32]++):a<=10?t.bl_tree[34]++:t.bl_tree[36]++,a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))},V=(t,e,r)=>{let n,i,o=-1,s=e[1],a=0,c=7,u=4;for(0===s&&(c=138,u=3),n=0;n<=r;n++)if(i=s,s=e[2*(n+1)+1],!(++a<c&&i===s)){if(a<u)do{z(t,i,t.bl_tree)}while(0!==--a);else 0!==i?(i!==o&&(z(t,i,t.bl_tree),a--),z(t,16,t.bl_tree),N(t,a-3,2)):a<=10?(z(t,17,t.bl_tree),N(t,a-3,3)):(z(t,18,t.bl_tree),N(t,a-11,7));a=0,o=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}};let Z=!1;const G=(t,e,r,n)=>{N(t,0+(n?1:0),3),((t,e,r,n)=>{K(t),n&&(D(t,r),D(t,~r)),t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r})(t,e,r,!0)};var X=(t,e,r,n)=>{let i,o,s=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=(t=>{let e,r=4093624447;for(e=0;e<=31;e++,r>>>=1)if(1&r&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<g;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0})(t)),F(t,t.l_desc),F(t,t.d_desc),s=(t=>{let e;for($(t,t.dyn_ltree,t.l_desc.max_code),$(t,t.dyn_dtree,t.d_desc.max_code),F(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*k[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e})(t),i=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=i&&(i=o)):i=o=r+5,r+4<=i&&-1!==e?G(t,e,r,n):4===t.strategy||o===i?(N(t,2+(n?1:0),3),W(t,S,A)):(N(t,4+(n?1:0),3),((t,e,r,n)=>{let i;for(N(t,e-257,5),N(t,r-1,5),N(t,n-4,4),i=0;i<n;i++)N(t,t.bl_tree[2*k[i]+1],3);V(t,t.dyn_ltree,e-1),V(t,t.dyn_dtree,r-1)})(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),W(t,t.dyn_ltree,t.dyn_dtree)),j(t),n&&K(t)},J={_tr_init:t=>{Z||((()=>{let t,e,r,n,i;const o=new Array(16);for(r=0,n=0;n<28;n++)for(x[n]=r,t=0;t<1<<w[n];t++)I[r++]=n;for(I[r-1]=n,i=0,n=0;n<16;n++)for(P[n]=i,t=0;t<1<<_[n];t++)E[i++]=n;for(i>>=7;n<m;n++)for(P[n]=i<<7,t=0;t<1<<_[n]-7;t++)E[256+i++]=n;for(e=0;e<=b;e++)o[e]=0;for(t=0;t<=143;)S[2*t+1]=8,t++,o[8]++;for(;t<=255;)S[2*t+1]=9,t++,o[9]++;for(;t<=279;)S[2*t+1]=7,t++,o[7]++;for(;t<=287;)S[2*t+1]=8,t++,o[8]++;for(U(S,287,o),t=0;t<m;t++)A[2*t+1]=5,A[2*t]=L(t,5);O=new R(S,w,257,y,b),T=new R(A,_,0,m,b),B=new R(new Array(0),v,0,19,7)})(),Z=!0),t.l_desc=new C(t.dyn_ltree,O),t.d_desc=new C(t.dyn_dtree,T),t.bl_desc=new C(t.bl_tree,B),t.bi_buf=0,t.bi_valid=0,j(t)},_tr_stored_block:G,_tr_flush_block:X,_tr_tally:(t,e,r)=>(t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&r,t.last_lit++,0===e?t.dyn_ltree[2*r]++:(t.matches++,e--,t.dyn_ltree[2*(I[r]+g+1)]++,t.dyn_dtree[2*M(e)]++),t.last_lit===t.lit_bufsize-1),_tr_align:t=>{N(t,2,3),z(t,256,S),(t=>{16===t.bi_valid?(D(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)})(t)}};var Y=(t,e,r,n)=>{let i=65535&t|0,o=t>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+e[n++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const Q=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());var tt=(t,e,r,n)=>{const i=Q,o=n+r;t^=-1;for(let s=n;s<o;s++)t=t>>>8^i[255&(t^e[s])];return-1^t},et={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},rt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:nt,_tr_stored_block:it,_tr_flush_block:ot,_tr_tally:st,_tr_align:at}=J,{Z_NO_FLUSH:ct,Z_PARTIAL_FLUSH:ut,Z_FULL_FLUSH:lt,Z_FINISH:dt,Z_BLOCK:ht,Z_OK:ft,Z_STREAM_END:pt,Z_STREAM_ERROR:gt,Z_DATA_ERROR:yt,Z_BUF_ERROR:mt,Z_DEFAULT_COMPRESSION:bt,Z_FILTERED:wt,Z_HUFFMAN_ONLY:_t,Z_RLE:vt,Z_FIXED:kt,Z_DEFAULT_STRATEGY:St,Z_UNKNOWN:At,Z_DEFLATED:Et}=rt,It=258,xt=262,Pt=103,Rt=113,Ot=666,Tt=(t,e)=>(t.msg=et[e],e),Bt=t=>(t<<1)-(t>4?9:0),Ct=t=>{let e=t.length;for(;--e>=0;)t[e]=0};let Mt=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask;const Dt=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),0!==r&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,0===e.pending&&(e.pending_out=0))},Nt=(t,e)=>{ot(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Dt(t.strm)},zt=(t,e)=>{t.pending_buf[t.pending++]=e},Lt=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Ut=(t,e,r,n)=>{let i=t.avail_in;return i>n&&(i=n),0===i?0:(t.avail_in-=i,e.set(t.input.subarray(t.next_in,t.next_in+i),r),1===t.state.wrap?t.adler=Y(t.adler,e,i,r):2===t.state.wrap&&(t.adler=tt(t.adler,e,i,r)),t.next_in+=i,t.total_in+=i,i)},jt=(t,e)=>{let r,n,i=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match;const c=t.strstart>t.w_size-xt?t.strstart-(t.w_size-xt):0,u=t.window,l=t.w_mask,d=t.prev,h=t.strstart+It;let f=u[o+s-1],p=u[o+s];t.prev_length>=t.good_match&&(i>>=2),a>t.lookahead&&(a=t.lookahead);do{if(r=e,u[r+s]===p&&u[r+s-1]===f&&u[r]===u[o]&&u[++r]===u[o+1]){o+=2,r++;do{}while(u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&u[++o]===u[++r]&&o<h);if(n=It-(h-o),o=h-It,n>s){if(t.match_start=e,s=n,n>=a)break;f=u[o+s-1],p=u[o+s]}}}while((e=d[e&l])>c&&0!==--i);return s<=t.lookahead?s:t.lookahead},Kt=t=>{const e=t.w_size;let r,n,i,o,s;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-xt)){t.window.set(t.window.subarray(e,e+e),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,n=t.hash_size,r=n;do{i=t.head[--r],t.head[r]=i>=e?i-e:0}while(--n);n=e,r=n;do{i=t.prev[--r],t.prev[r]=i>=e?i-e:0}while(--n);o+=e}if(0===t.strm.avail_in)break;if(n=Ut(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=3)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=Mt(t,t.ins_h,t.window[s+1]);t.insert&&(t.ins_h=Mt(t,t.ins_h,t.window[s+3-1]),t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<xt&&0!==t.strm.avail_in)},Ht=(t,e)=>{let r,n;for(;;){if(t.lookahead<xt){if(Kt(t),t.lookahead<xt&&e===ct)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==r&&t.strstart-r<=t.w_size-xt&&(t.match_length=jt(t,r)),t.match_length>=3)if(n=st(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+1]);else n=st(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(Nt(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===dt?(Nt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Nt(t,!1),0===t.strm.avail_out)?1:2},qt=(t,e)=>{let r,n,i;for(;;){if(t.lookahead<xt){if(Kt(t),t.lookahead<xt&&e===ct)return 1;if(0===t.lookahead)break}if(r=0,t.lookahead>=3&&(t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==r&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-xt&&(t.match_length=jt(t,r),t.match_length<=5&&(t.strategy===wt||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,n=st(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=Mt(t,t.ins_h,t.window[t.strstart+3-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,n&&(Nt(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if(n=st(t,0,t.window[t.strstart-1]),n&&Nt(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=st(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===dt?(Nt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Nt(t,!1),0===t.strm.avail_out)?1:2};function Wt(t,e,r,n,i){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=i}const Ft=[new Wt(0,0,0,0,((t,e)=>{let r=65535;for(r>t.pending_buf_size-5&&(r=t.pending_buf_size-5);;){if(t.lookahead<=1){if(Kt(t),0===t.lookahead&&e===ct)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;const n=t.block_start+r;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,Nt(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-xt&&(Nt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===dt?(Nt(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(Nt(t,!1),t.strm.avail_out),1)})),new Wt(4,4,8,4,Ht),new Wt(4,5,16,8,Ht),new Wt(4,6,32,32,Ht),new Wt(4,4,16,16,qt),new Wt(8,16,32,32,qt),new Wt(8,16,128,128,qt),new Wt(8,32,128,256,qt),new Wt(32,128,258,1024,qt),new Wt(32,258,258,4096,qt)];function $t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Et,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ct(this.dyn_ltree),Ct(this.dyn_dtree),Ct(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ct(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ct(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Vt=t=>{if(!t||!t.state)return Tt(t,gt);t.total_in=t.total_out=0,t.data_type=At;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:Rt,t.adler=2===e.wrap?0:1,e.last_flush=ct,nt(e),ft},Zt=t=>{const e=Vt(t);var r;return e===ft&&((r=t.state).window_size=2*r.w_size,Ct(r.head),r.max_lazy_match=Ft[r.level].max_lazy,r.good_match=Ft[r.level].good_length,r.nice_match=Ft[r.level].nice_length,r.max_chain_length=Ft[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),e},Gt=(t,e,r,n,i,o)=>{if(!t)return gt;let s=1;if(e===bt&&(e=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||r!==Et||n<8||n>15||e<0||e>9||o<0||o>kt)return Tt(t,gt);8===n&&(n=9);const a=new $t;return t.state=a,a.strm=t,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=e,a.strategy=o,a.method=r,Zt(t)};var Xt={deflateInit:(t,e)=>Gt(t,e,Et,15,8,St),deflateInit2:Gt,deflateReset:Zt,deflateResetKeep:Vt,deflateSetHeader:(t,e)=>t&&t.state?2!==t.state.wrap?gt:(t.state.gzhead=e,ft):gt,deflate:(t,e)=>{let r,n;if(!t||!t.state||e>ht||e<0)return t?Tt(t,gt):gt;const i=t.state;if(!t.output||!t.input&&0!==t.avail_in||i.status===Ot&&e!==dt)return Tt(t,0===t.avail_out?mt:gt);i.strm=t;const o=i.last_flush;if(i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,zt(i,31),zt(i,139),zt(i,8),i.gzhead?(zt(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),zt(i,255&i.gzhead.time),zt(i,i.gzhead.time>>8&255),zt(i,i.gzhead.time>>16&255),zt(i,i.gzhead.time>>24&255),zt(i,9===i.level?2:i.strategy>=_t||i.level<2?4:0),zt(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(zt(i,255&i.gzhead.extra.length),zt(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=tt(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(zt(i,0),zt(i,0),zt(i,0),zt(i,0),zt(i,0),zt(i,9===i.level?2:i.strategy>=_t||i.level<2?4:0),zt(i,3),i.status=Rt);else{let e=Et+(i.w_bits-8<<4)<<8,r=-1;r=i.strategy>=_t||i.level<2?0:i.level<6?1:6===i.level?2:3,e|=r<<6,0!==i.strstart&&(e|=32),e+=31-e%31,i.status=Rt,Lt(i,e),0!==i.strstart&&(Lt(i,t.adler>>>16),Lt(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(t.adler=tt(t.adler,i.pending_buf,i.pending-r,r)),Dt(t),r=i.pending,i.pending!==i.pending_buf_size));)zt(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(t.adler=tt(t.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=tt(t.adler,i.pending_buf,i.pending-r,r)),Dt(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,zt(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=tt(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(t.adler=tt(t.adler,i.pending_buf,i.pending-r,r)),Dt(t),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,zt(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(t.adler=tt(t.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=Pt)}else i.status=Pt;if(i.status===Pt&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Dt(t),i.pending+2<=i.pending_buf_size&&(zt(i,255&t.adler),zt(i,t.adler>>8&255),t.adler=0,i.status=Rt)):i.status=Rt),0!==i.pending){if(Dt(t),0===t.avail_out)return i.last_flush=-1,ft}else if(0===t.avail_in&&Bt(e)<=Bt(o)&&e!==dt)return Tt(t,mt);if(i.status===Ot&&0!==t.avail_in)return Tt(t,mt);if(0!==t.avail_in||0!==i.lookahead||e!==ct&&i.status!==Ot){let r=i.strategy===_t?((t,e)=>{let r;for(;;){if(0===t.lookahead&&(Kt(t),0===t.lookahead)){if(e===ct)return 1;break}if(t.match_length=0,r=st(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(Nt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===dt?(Nt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Nt(t,!1),0===t.strm.avail_out)?1:2})(i,e):i.strategy===vt?((t,e)=>{let r,n,i,o;const s=t.window;for(;;){if(t.lookahead<=It){if(Kt(t),t.lookahead<=It&&e===ct)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=t.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){o=t.strstart+It;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<o);t.match_length=It-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(r=st(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=st(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(Nt(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===dt?(Nt(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(Nt(t,!1),0===t.strm.avail_out)?1:2})(i,e):Ft[i.level].func(i,e);if(3!==r&&4!==r||(i.status=Ot),1===r||3===r)return 0===t.avail_out&&(i.last_flush=-1),ft;if(2===r&&(e===ut?at(i):e!==ht&&(it(i,0,0,!1),e===lt&&(Ct(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Dt(t),0===t.avail_out))return i.last_flush=-1,ft}return e!==dt?ft:i.wrap<=0?pt:(2===i.wrap?(zt(i,255&t.adler),zt(i,t.adler>>8&255),zt(i,t.adler>>16&255),zt(i,t.adler>>24&255),zt(i,255&t.total_in),zt(i,t.total_in>>8&255),zt(i,t.total_in>>16&255),zt(i,t.total_in>>24&255)):(Lt(i,t.adler>>>16),Lt(i,65535&t.adler)),Dt(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?ft:pt)},deflateEnd:t=>{if(!t||!t.state)return gt;const e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==Pt&&e!==Rt&&e!==Ot?Tt(t,gt):(t.state=null,e===Rt?Tt(t,yt):ft)},deflateSetDictionary:(t,e)=>{let r=e.length;if(!t||!t.state)return gt;const n=t.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return gt;if(1===i&&(t.adler=Y(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Ct(n.head),n.strstart=0,n.block_start=0,n.insert=0);let t=new Uint8Array(n.w_size);t.set(e.subarray(r-n.w_size,r),0),e=t,r=n.w_size}const o=t.avail_in,s=t.next_in,a=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,Kt(n);n.lookahead>=3;){let t=n.strstart,e=n.lookahead-2;do{n.ins_h=Mt(n,n.ins_h,n.window[t+3-1]),n.prev[t&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=t,t++}while(--e);n.strstart=t,n.lookahead=2,Kt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=s,t.input=a,t.avail_in=o,n.wrap=i,ft},deflateInfo:"pako deflate (from Nodeca project)"};const Jt=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Yt=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(const e in r)Jt(r,e)&&(t[e]=r[e])}}return t},Qt=t=>{let e=0;for(let n=0,i=t.length;n<i;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,i=0,o=t.length;n<o;n++){let e=t[n];r.set(e,i),i+=e.length}return r};let te=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(vo){te=!1}const ee=new Uint8Array(256);for(let ko=0;ko<256;ko++)ee[ko]=ko>=252?6:ko>=248?5:ko>=240?4:ko>=224?3:ko>=192?2:1;ee[254]=ee[254]=1;var re=t=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,i,o,s=t.length,a=0;for(i=0;i<s;i++)r=t.charCodeAt(i),55296===(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),o=0,i=0;o<a;i++)r=t.charCodeAt(i),55296===(64512&r)&&i+1<s&&(n=t.charCodeAt(i+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|63&r):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|63&r):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|63&r);return e},ne=(t,e)=>{const r=e||t.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let n,i;const o=new Array(2*r);for(i=0,n=0;n<r;){let e=t[n++];if(e<128){o[i++]=e;continue}let s=ee[e];if(s>4)o[i++]=65533,n+=s-1;else{for(e&=2===s?31:3===s?15:7;s>1&&n<r;)e=e<<6|63&t[n++],s--;s>1?o[i++]=65533:e<65536?o[i++]=e:(e-=65536,o[i++]=55296|e>>10&1023,o[i++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&te)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(o,i)},ie=(t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128===(192&t[r]);)r--;return r<0||0===r?e:r+ee[t[r]]>e?r:e};var oe=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const se=Object.prototype.toString,{Z_NO_FLUSH:ae,Z_SYNC_FLUSH:ce,Z_FULL_FLUSH:ue,Z_FINISH:le,Z_OK:de,Z_STREAM_END:he,Z_DEFAULT_COMPRESSION:fe,Z_DEFAULT_STRATEGY:pe,Z_DEFLATED:ge}=rt;function ye(t){this.options=Yt({level:fe,method:ge,chunkSize:16384,windowBits:15,memLevel:8,strategy:pe},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oe,this.strm.avail_out=0;let r=Xt.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==de)throw new Error(et[r]);if(e.header&&Xt.deflateSetHeader(this.strm,e.header),e.dictionary){let t;if(t="string"===typeof e.dictionary?re(e.dictionary):"[object ArrayBuffer]"===se.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,r=Xt.deflateSetDictionary(this.strm,t),r!==de)throw new Error(et[r]);this._dict_set=!0}}function me(t,e){const r=new ye(e);if(r.push(t,!0),r.err)throw r.msg||et[r.err];return r.result}ye.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=e===~~e?e:!0===e?le:ae,"string"===typeof t?r.input=re(t):"[object ArrayBuffer]"===se.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===ce||o===ue)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=Xt.deflate(r,o),i===he)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Xt.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===de;if(0!==r.avail_out){if(o>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ye.prototype.onData=function(t){this.chunks.push(t)},ye.prototype.onEnd=function(t){t===de&&(this.result=Qt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var be={Deflate:ye,deflate:me,deflateRaw:function(t,e){return(e=e||{}).raw=!0,me(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,me(t,e)},constants:rt};var we=function(t,e){let r,n,i,o,s,a,c,u,l,d,h,f,p,g,y,m,b,w,_,v,k,S,A,E;const I=t.state;r=t.next_in,A=t.input,n=r+(t.avail_in-5),i=t.next_out,E=t.output,o=i-(e-t.avail_out),s=i+(t.avail_out-257),a=I.dmax,c=I.wsize,u=I.whave,l=I.wnext,d=I.window,h=I.hold,f=I.bits,p=I.lencode,g=I.distcode,y=(1<<I.lenbits)-1,m=(1<<I.distbits)-1;t:do{f<15&&(h+=A[r++]<<f,f+=8,h+=A[r++]<<f,f+=8),b=p[h&y];e:for(;;){if(w=b>>>24,h>>>=w,f-=w,w=b>>>16&255,0===w)E[i++]=65535&b;else{if(!(16&w)){if(0===(64&w)){b=p[(65535&b)+(h&(1<<w)-1)];continue e}if(32&w){I.mode=12;break t}t.msg="invalid literal/length code",I.mode=30;break t}_=65535&b,w&=15,w&&(f<w&&(h+=A[r++]<<f,f+=8),_+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=A[r++]<<f,f+=8,h+=A[r++]<<f,f+=8),b=g[h&m];r:for(;;){if(w=b>>>24,h>>>=w,f-=w,w=b>>>16&255,!(16&w)){if(0===(64&w)){b=g[(65535&b)+(h&(1<<w)-1)];continue r}t.msg="invalid distance code",I.mode=30;break t}if(v=65535&b,w&=15,f<w&&(h+=A[r++]<<f,f+=8,f<w&&(h+=A[r++]<<f,f+=8)),v+=h&(1<<w)-1,v>a){t.msg="invalid distance too far back",I.mode=30;break t}if(h>>>=w,f-=w,w=i-o,v>w){if(w=v-w,w>u&&I.sane){t.msg="invalid distance too far back",I.mode=30;break t}if(k=0,S=d,0===l){if(k+=c-w,w<_){_-=w;do{E[i++]=d[k++]}while(--w);k=i-v,S=E}}else if(l<w){if(k+=c+l-w,w-=l,w<_){_-=w;do{E[i++]=d[k++]}while(--w);if(k=0,l<_){w=l,_-=w;do{E[i++]=d[k++]}while(--w);k=i-v,S=E}}}else if(k+=l-w,w<_){_-=w;do{E[i++]=d[k++]}while(--w);k=i-v,S=E}for(;_>2;)E[i++]=S[k++],E[i++]=S[k++],E[i++]=S[k++],_-=3;_&&(E[i++]=S[k++],_>1&&(E[i++]=S[k++]))}else{k=i-v;do{E[i++]=E[k++],E[i++]=E[k++],E[i++]=E[k++],_-=3}while(_>2);_&&(E[i++]=E[k++],_>1&&(E[i++]=E[k++]))}break}}break}}while(r<n&&i<s);_=f>>3,r-=_,f-=_<<3,h&=(1<<f)-1,t.next_in=r,t.next_out=i,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=i<s?s-i+257:257-(i-s),I.hold=h,I.bits=f};const _e=15,ve=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ke=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Se=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Ae=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var Ee=(t,e,r,n,i,o,s,a)=>{const c=a.bits;let u,l,d,h,f,p,g=0,y=0,m=0,b=0,w=0,_=0,v=0,k=0,S=0,A=0,E=null,I=0;const x=new Uint16Array(16),P=new Uint16Array(16);let R,O,T,B=null,C=0;for(g=0;g<=_e;g++)x[g]=0;for(y=0;y<n;y++)x[e[r+y]]++;for(w=c,b=_e;b>=1&&0===x[b];b--);if(w>b&&(w=b),0===b)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(m=1;m<b&&0===x[m];m++);for(w<m&&(w=m),k=1,g=1;g<=_e;g++)if(k<<=1,k-=x[g],k<0)return-1;if(k>0&&(0===t||1!==b))return-1;for(P[1]=0,g=1;g<_e;g++)P[g+1]=P[g]+x[g];for(y=0;y<n;y++)0!==e[r+y]&&(s[P[e[r+y]]++]=y);if(0===t?(E=B=s,p=19):1===t?(E=ve,I-=257,B=ke,C-=257,p=256):(E=Se,B=Ae,p=-1),A=0,y=0,g=m,f=o,_=w,v=0,d=-1,S=1<<w,h=S-1,1===t&&S>852||2===t&&S>592)return 1;for(;;){R=g-v,s[y]<p?(O=0,T=s[y]):s[y]>p?(O=B[C+s[y]],T=E[I+s[y]]):(O=96,T=0),u=1<<g-v,l=1<<_,m=l;do{l-=u,i[f+(A>>v)+l]=R<<24|O<<16|T|0}while(0!==l);for(u=1<<g-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,y++,0===--x[g]){if(g===b)break;g=e[r+s[y]]}if(g>w&&(A&h)!==d){for(0===v&&(v=w),f+=m,_=g-v,k=1<<_;_+v<b&&(k-=x[_+v],!(k<=0));)_++,k<<=1;if(S+=1<<_,1===t&&S>852||2===t&&S>592)return 1;d=A&h,i[d]=w<<24|_<<16|f-o|0}}return 0!==A&&(i[f+A]=g-v<<24|64<<16|0),a.bits=w,0};const{Z_FINISH:Ie,Z_BLOCK:xe,Z_TREES:Pe,Z_OK:Re,Z_STREAM_END:Oe,Z_NEED_DICT:Te,Z_STREAM_ERROR:Be,Z_DATA_ERROR:Ce,Z_MEM_ERROR:Me,Z_BUF_ERROR:De,Z_DEFLATED:Ne}=rt,ze=12,Le=30,Ue=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);function je(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Ke=t=>{if(!t||!t.state)return Be;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,Re},He=t=>{if(!t||!t.state)return Be;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Ke(t)},qe=(t,e)=>{let r;if(!t||!t.state)return Be;const n=t.state;return e<0?(r=0,e=-e):(r=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?Be:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,He(t))},We=(t,e)=>{if(!t)return Be;const r=new je;t.state=r,r.window=null;const n=qe(t,e);return n!==Re&&(t.state=null),n};let Fe,$e,Ve=!0;const Ze=t=>{if(Ve){Fe=new Int32Array(512),$e=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Ee(1,t.lens,0,288,Fe,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Ee(2,t.lens,0,32,$e,0,t.work,{bits:5}),Ve=!1}t.lencode=Fe,t.lenbits=9,t.distcode=$e,t.distbits=5},Ge=(t,e,r,n)=>{let i;const o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(e.subarray(r-n,r-n+i),o.wnext),(n-=i)?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Xe={inflateReset:He,inflateReset2:qe,inflateResetKeep:Ke,inflateInit:t=>We(t,15),inflateInit2:We,inflate:(t,e)=>{let r,n,i,o,s,a,c,u,l,d,h,f,p,g,y,m,b,w,_,v,k,S,A=0;const E=new Uint8Array(4);let I,x;const P=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return Be;r=t.state,r.mode===ze&&(r.mode=13),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,u=r.hold,l=r.bits,d=a,h=c,S=Re;t:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(2&r.wrap&&35615===u){r.check=0,E[0]=255&u,E[1]=u>>>8&255,r.check=tt(r.check,E,2,0),u=0,l=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Le;break}if((15&u)!==Ne){t.msg="unknown compression method",r.mode=Le;break}if(u>>>=4,l-=4,k=8+(15&u),0===r.wbits)r.wbits=k;else if(k>r.wbits){t.msg="invalid window size",r.mode=Le;break}r.dmax=1<<r.wbits,t.adler=r.check=1,r.mode=512&u?10:ze,u=0,l=0;break;case 2:for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(r.flags=u,(255&r.flags)!==Ne){t.msg="unknown compression method",r.mode=Le;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=Le;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=tt(r.check,E,2,0)),u=0,l=0,r.mode=3;case 3:for(;l<32;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.head&&(r.head.time=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,E[2]=u>>>16&255,E[3]=u>>>24&255,r.check=tt(r.check,E,4,0)),u=0,l=0,r.mode=4;case 4:for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=tt(r.check,E,2,0)),u=0,l=0,r.mode=5;case 5:if(1024&r.flags){for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(E[0]=255&u,E[1]=u>>>8&255,r.check=tt(r.check,E,2,0)),u=0,l=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(f=r.length,f>a&&(f=a),f&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+f),k)),512&r.flags&&(r.check=tt(r.check,n,f,o)),a-=f,o+=f,r.length-=f),r.length))break t;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===a)break t;f=0;do{k=n[o+f++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&f<a);if(512&r.flags&&(r.check=tt(r.check,n,f,o)),a-=f,o+=f,k)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===a)break t;f=0;do{k=n[o+f++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&f<a);if(512&r.flags&&(r.check=tt(r.check,n,f,o)),a-=f,o+=f,k)break t}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;l<16;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(u!==(65535&r.check)){t.msg="header crc mismatch",r.mode=Le;break}u=0,l=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ze;break;case 10:for(;l<32;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}t.adler=r.check=Ue(u),u=0,l=0,r.mode=11;case 11:if(0===r.havedict)return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,r.hold=u,r.bits=l,Te;t.adler=r.check=1,r.mode=ze;case ze:if(e===xe||e===Pe)break t;case 13:if(r.last){u>>>=7&l,l-=7&l,r.mode=27;break}for(;l<3;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}switch(r.last=1&u,u>>>=1,l-=1,3&u){case 0:r.mode=14;break;case 1:if(Ze(r),r.mode=20,e===Pe){u>>>=2,l-=2;break t}break;case 2:r.mode=17;break;case 3:t.msg="invalid block type",r.mode=Le}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if((65535&u)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Le;break}if(r.length=65535&u,u=0,l=0,r.mode=15,e===Pe)break t;case 15:r.mode=16;case 16:if(f=r.length,f){if(f>a&&(f=a),f>c&&(f=c),0===f)break t;i.set(n.subarray(o,o+f),s),a-=f,o+=f,c-=f,s+=f,r.length-=f;break}r.mode=ze;break;case 17:for(;l<14;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(r.nlen=257+(31&u),u>>>=5,l-=5,r.ndist=1+(31&u),u>>>=5,l-=5,r.ncode=4+(15&u),u>>>=4,l-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Le;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;l<3;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.lens[P[r.have++]]=7&u,u>>>=3,l-=3}for(;r.have<19;)r.lens[P[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,I={bits:r.lenbits},S=Ee(0,r.lens,0,19,r.lencode,0,r.work,I),r.lenbits=I.bits,S){t.msg="invalid code lengths set",r.mode=Le;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;A=r.lencode[u&(1<<r.lenbits)-1],y=A>>>24,m=A>>>16&255,b=65535&A,!(y<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(b<16)u>>>=y,l-=y,r.lens[r.have++]=b;else{if(16===b){for(x=y+2;l<x;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(u>>>=y,l-=y,0===r.have){t.msg="invalid bit length repeat",r.mode=Le;break}k=r.lens[r.have-1],f=3+(3&u),u>>>=2,l-=2}else if(17===b){for(x=y+3;l<x;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}u>>>=y,l-=y,k=0,f=3+(7&u),u>>>=3,l-=3}else{for(x=y+7;l<x;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}u>>>=y,l-=y,k=0,f=11+(127&u),u>>>=7,l-=7}if(r.have+f>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Le;break}for(;f--;)r.lens[r.have++]=k}}if(r.mode===Le)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=Le;break}if(r.lenbits=9,I={bits:r.lenbits},S=Ee(1,r.lens,0,r.nlen,r.lencode,0,r.work,I),r.lenbits=I.bits,S){t.msg="invalid literal/lengths set",r.mode=Le;break}if(r.distbits=6,r.distcode=r.distdyn,I={bits:r.distbits},S=Ee(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,I),r.distbits=I.bits,S){t.msg="invalid distances set",r.mode=Le;break}if(r.mode=20,e===Pe)break t;case 20:r.mode=21;case 21:if(a>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,r.hold=u,r.bits=l,we(t,h),s=t.next_out,i=t.output,c=t.avail_out,o=t.next_in,n=t.input,a=t.avail_in,u=r.hold,l=r.bits,r.mode===ze&&(r.back=-1);break}for(r.back=0;A=r.lencode[u&(1<<r.lenbits)-1],y=A>>>24,m=A>>>16&255,b=65535&A,!(y<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(m&&0===(240&m)){for(w=y,_=m,v=b;A=r.lencode[v+((u&(1<<w+_)-1)>>w)],y=A>>>24,m=A>>>16&255,b=65535&A,!(w+y<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}u>>>=w,l-=w,r.back+=w}if(u>>>=y,l-=y,r.back+=y,r.length=b,0===m){r.mode=26;break}if(32&m){r.back=-1,r.mode=ze;break}if(64&m){t.msg="invalid literal/length code",r.mode=Le;break}r.extra=15&m,r.mode=22;case 22:if(r.extra){for(x=r.extra;l<x;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;A=r.distcode[u&(1<<r.distbits)-1],y=A>>>24,m=A>>>16&255,b=65535&A,!(y<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(0===(240&m)){for(w=y,_=m,v=b;A=r.distcode[v+((u&(1<<w+_)-1)>>w)],y=A>>>24,m=A>>>16&255,b=65535&A,!(w+y<=l);){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}u>>>=w,l-=w,r.back+=w}if(u>>>=y,l-=y,r.back+=y,64&m){t.msg="invalid distance code",r.mode=Le;break}r.offset=b,r.extra=15&m,r.mode=24;case 24:if(r.extra){for(x=r.extra;l<x;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,l-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Le;break}r.mode=25;case 25:if(0===c)break t;if(f=h-c,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Le;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),g=r.window}else g=i,p=s-r.offset,f=r.length;f>c&&(f=c),c-=f,r.length-=f;do{i[s++]=g[p++]}while(--f);0===r.length&&(r.mode=21);break;case 26:if(0===c)break t;i[s++]=r.length,c--,r.mode=21;break;case 27:if(r.wrap){for(;l<32;){if(0===a)break t;a--,u|=n[o++]<<l,l+=8}if(h-=c,t.total_out+=h,r.total+=h,h&&(t.adler=r.check=r.flags?tt(r.check,i,h,s-h):Y(r.check,i,h,s-h)),h=c,(r.flags?u:Ue(u))!==r.check){t.msg="incorrect data check",r.mode=Le;break}u=0,l=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;l<32;){if(0===a)break t;a--,u+=n[o++]<<l,l+=8}if(u!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=Le;break}u=0,l=0}r.mode=29;case 29:S=Oe;break t;case Le:S=Ce;break t;case 31:return Me;default:return Be}return t.next_out=s,t.avail_out=c,t.next_in=o,t.avail_in=a,r.hold=u,r.bits=l,(r.wsize||h!==t.avail_out&&r.mode<Le&&(r.mode<27||e!==Ie))&&Ge(t,t.output,t.next_out,h-t.avail_out),d-=t.avail_in,h-=t.avail_out,t.total_in+=d,t.total_out+=h,r.total+=h,r.wrap&&h&&(t.adler=r.check=r.flags?tt(r.check,i,h,t.next_out-h):Y(r.check,i,h,t.next_out-h)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ze?128:0)+(20===r.mode||15===r.mode?256:0),(0===d&&0===h||e===Ie)&&S===Re&&(S=De),S},inflateEnd:t=>{if(!t||!t.state)return Be;let e=t.state;return e.window&&(e.window=null),t.state=null,Re},inflateGetHeader:(t,e)=>{if(!t||!t.state)return Be;const r=t.state;return 0===(2&r.wrap)?Be:(r.head=e,e.done=!1,Re)},inflateSetDictionary:(t,e)=>{const r=e.length;let n,i,o;return t&&t.state?(n=t.state,0!==n.wrap&&11!==n.mode?Be:11===n.mode&&(i=1,i=Y(i,e,r,0),i!==n.check)?Ce:(o=Ge(t,e,r,r),o?(n.mode=31,Me):(n.havedict=1,Re))):Be},inflateInfo:"pako inflate (from Nodeca project)"};var Je=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Ye=Object.prototype.toString,{Z_NO_FLUSH:Qe,Z_FINISH:tr,Z_OK:er,Z_STREAM_END:rr,Z_NEED_DICT:nr,Z_STREAM_ERROR:ir,Z_DATA_ERROR:or,Z_MEM_ERROR:sr}=rt;function ar(t){this.options=Yt({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new oe,this.strm.avail_out=0;let r=Xe.inflateInit2(this.strm,e.windowBits);if(r!==er)throw new Error(et[r]);if(this.header=new Je,Xe.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"===typeof e.dictionary?e.dictionary=re(e.dictionary):"[object ArrayBuffer]"===Ye.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=Xe.inflateSetDictionary(this.strm,e.dictionary),r!==er)))throw new Error(et[r])}function cr(t,e){const r=new ar(e);if(r.push(t),r.err)throw r.msg||et[r.err];return r.result}ar.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=e===~~e?e:!0===e?tr:Qe,"[object ArrayBuffer]"===Ye.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=Xe.inflate(r,s),o===nr&&i&&(o=Xe.inflateSetDictionary(r,i),o===er?o=Xe.inflate(r,s):o===or&&(o=nr));r.avail_in>0&&o===rr&&r.state.wrap>0&&0!==t[r.next_in];)Xe.inflateReset(r),o=Xe.inflate(r,s);switch(o){case ir:case or:case nr:case sr:return this.onEnd(o),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(0===r.avail_out||o===rr))if("string"===this.options.to){let t=ie(r.output,r.next_out),e=r.next_out-t,i=ne(r.output,t);r.next_out=e,r.avail_out=n-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(o!==er||0!==a){if(o===rr)return o=Xe.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},ar.prototype.onData=function(t){this.chunks.push(t)},ar.prototype.onEnd=function(t){t===er&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Qt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var ur={Inflate:ar,inflate:cr,inflateRaw:function(t,e){return(e=e||{}).raw=!0,cr(t,e)},ungzip:cr,constants:rt};const{Deflate:lr,deflate:dr,deflateRaw:hr,gzip:fr}=be,{Inflate:pr,inflate:gr,inflateRaw:yr,ungzip:mr}=ur;var br=gr,wr=r(48449),_r=r.n(wr),vr=r(21380),kr=r(97429).Buffer,Sr=Object.freeze({__proto__:null,encode:function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},decode:function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2==1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?n.Buffer.from([]):n.Buffer.from(e.map((t=>parseInt(t,16))))}});function Ar(t){return new TextDecoder("utf-8").decode(t)}function Er(t){return(new TextEncoder).encode(t)}var Ir=Object.freeze({__proto__:null,decode:Ar,encode:Er});function xr(t){return c().encode(t)}var Pr=Object.freeze({__proto__:null,encode:xr,decode:function(t){return c().decode(t)}});function Rr(t){return n.Buffer.from(u.toByteArray(t))}var Or=Object.freeze({__proto__:null,encode:function(t){return u.fromByteArray(t)},decode:Rr}),Tr=Object.freeze({__proto__:null,hex:Sr,utf8:Ir,bs58:Pr,base64:Or});function Br(t){const e=new Map;return t.errors&&t.errors.forEach((t=>{var r;let n=null!==(r=t.msg)&&void 0!==r?r:t.name;e.set(t.code,n)})),e}function Cr(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];if(t.args.length!=r.length)throw new Error("Invalid argument length");const i={};let o=0;return t.args.forEach((t=>{i[t.name]=r[o],o+=1})),i}function Mr(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.forEach((t=>{if("accounts"in t)Mr(t.accounts,e[t.name]);else if(void 0===e[t.name])throw new Error(`Invalid arguments: ${t.name} not provided.`)}))}function Dr(t){return t instanceof i.PublicKey?t:new i.PublicKey(t)}class Nr extends TypeError{constructor(t,e){let r;const{message:n,...i}=t,{path:o}=t;super(0===o.length?n:"At path: "+o.join(".")+" -- "+n),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[t,...e()]}}}function zr(t){return"object"==typeof t&&null!=t}function Lr(t){return"string"==typeof t?JSON.stringify(t):""+t}function Ur(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:i,branch:o}=e,{type:s}=r,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+Lr(n)+"`"}=t;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...t,message:c}}function*jr(t,e,r,n){var i;zr(i=t)&&"function"==typeof i[Symbol.iterator]||(t=[t]);for(const o of t){const t=Ur(o,e,r,n);t&&(yield t)}}function*Kr(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{path:n=[],branch:i=[t],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(t=e.coercer(t,a),s&&"type"!==e.type&&zr(e.schema)&&zr(t)&&!Array.isArray(t)))for(const u in t)void 0===e.schema[u]&&delete t[u];let c=!0;for(const u of e.validator(t,a))c=!1,yield[u,void 0];for(let[u,l,d]of e.entries(t,a)){const e=Kr(l,d,{path:void 0===u?n:[...n,u],branch:void 0===u?i:[...i,l],coerce:o,mask:s});for(const r of e)r[0]?(c=!1,yield[r[0],void 0]):o&&(l=r[1],void 0===u?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):zr(t)&&(t[u]=l))}if(c)for(const u of e.refiner(t,a))c=!1,yield[u,void 0];c&&(yield[void 0,t])}class Hr{constructor(t){const{type:e,schema:r,validator:n,refiner:i,coercer:o=(t=>t),entries:s=function*(){}}=t;this.type=e,this.schema=r,this.entries=s,this.coercer=o,this.validator=n?(t,e)=>jr(n(t,e),e,this,t):()=>[],this.refiner=i?(t,e)=>jr(i(t,e),e,this,t):()=>[]}assert(t){return function(t,e){const r=Fr(t,e);if(r[0])throw r[0]}(t,this)}create(t){return qr(t,this)}is(t){return Wr(t,this)}mask(t){return function(t,e){const r=Fr(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(t,this)}validate(t){return Fr(t,this,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}}function qr(t,e){const r=Fr(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function Wr(t,e){return!Fr(t,e)[0]}function Fr(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=Kr(t,e,r),i=function(t){const{done:e,value:r}=t.next();return e?void 0:r}(n);return i[0]?[new Nr(i[0],(function*(){for(const t of n)t[0]&&(yield t[0])})),void 0]:[void 0,i[1]]}function $r(t,e){return new Hr({type:t,schema:null,validator:e})}function Vr(t){return new Hr({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+Lr(t)})}function Zr(t){const e=Lr(t),r=typeof t;return new Hr({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||"Expected the literal `"+e+"`, but received: "+Lr(r)})}function Gr(t){return new Hr({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function Xr(){return $r("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+Lr(t)))}function Jr(t){return new Hr({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function Yr(){return $r("string",(t=>"string"==typeof t||"Expected a string, but received: "+Lr(t)))}function Qr(t){const e=Object.keys(t);return new Hr({type:"type",schema:t,*entries(r){if(zr(r))for(const n of e)yield[n,r[n],t[n]]},validator:t=>zr(t)||"Expected an object, but received: "+Lr(t)})}function tn(t){const e=t.map((t=>t.type)).join(" | ");return new Hr({type:"union",schema:null,validator(r,n){const i=[];for(const e of t){const[...t]=Kr(r,e,n),[o]=t;if(!o[0])return[];for(const[e]of t)e&&i.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+Lr(r),...i]}})}function en(){return $r("unknown",(()=>!0))}async function rn(t,e,r){if(e.length<=99)return await nn(t,e,r);{const n=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/99))).map(((e,r)=>t.slice(99*r,99*(r+1))))}(e);return(await Promise.all(n.map((e=>nn(t,e,r))))).flat()}}async function nn(t,e,r){const n=null!=r?r:t.commitment;return(await t.getMultipleAccountsInfo(e,n)).map(((t,r)=>null===t?null:{publicKey:e[r],account:t}))}async function on(t,e,r,n,o){r&&r.length>0&&e.sign(...r);const s=e._compile(),a=s.serialize(),c=e._serialize(a).toString("base64"),u={encoding:"base64",commitment:null!=n?n:t.commitment};if(o){const t=(Array.isArray(o)?o:s.nonProgramIds()).map((t=>t.toBase58()));u.accounts={encoding:"base64",addresses:t}}r&&(u.sigVerify=!0);const l=[c,u],d=qr(await t._rpcRequest("simulateTransaction",l),cn);if("error"in d){let t;if("data"in d.error&&(t=d.error.data.logs,t&&Array.isArray(t))){const e="\n    ",r=e+t.join(e);console.error(d.error.message,r)}throw new i.SendTransactionError("failed to simulate transaction: "+d.error.message,t)}return d.result}const sn=an(en());function an(t){return tn([Qr({jsonrpc:Zr("2.0"),id:Yr(),result:t}),Qr({jsonrpc:Zr("2.0"),id:Yr(),error:Qr({code:en(),message:Yr(),data:Jr($r("any",(()=>!0)))})})])}const cn=(ln=Qr({err:Gr(tn([Qr({}),Yr()])),logs:Gr(Vr(Yr())),accounts:Jr(Gr(Vr(Gr(Qr({executable:$r("boolean",(t=>"boolean"==typeof t)),owner:Yr(),lamports:Xr(),data:Vr(Yr()),rentEpoch:Jr(Xr())}))))),unitsConsumed:Jr(Xr())}),function(t,e,r){return new Hr({...t,coercer:(n,i)=>Wr(n,e)?t.coercer(r(n),i):t.coercer(n,i)})}(an(un=Qr({context:Qr({slot:Xr()}),value:ln})),sn,(t=>"error"in t?t:{...t,result:qr(t.result,un)})));var un,ln,dn=Object.freeze({__proto__:null,invoke:async function(t,e,r,n){t=Dr(t),n||(n=mn());const o=new i.Transaction;if(o.add(new i.TransactionInstruction({programId:t,keys:null!=e?e:[],data:r})),void 0===n.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await n.sendAndConfirm(o,[])},getMultipleAccounts:rn,simulateTransaction:on});class hn{constructor(t,e,r){this.connection=t,this.wallet=e,this.opts=r}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,r){var n;void 0===r&&(r=this.opts),t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getRecentBlockhash(r.preflightCommitment)).blockhash,t=await this.wallet.signTransaction(t),(null!=e?e:[]).forEach((e=>{t.partialSign(e)}));const o=t.serialize();try{return await pn(this.connection,o,r)}catch(e){if(e instanceof gn){const r=await this.connection.getTransaction(xr(t.signature),{commitment:"confirmed"});if(r){const t=null===(n=r.meta)||void 0===n?void 0:n.logMessages;throw t?new i.SendTransactionError(e.message,t):e}throw e}throw e}}async sendAll(t,e){void 0===e&&(e=this.opts);const r=await this.connection.getRecentBlockhash(e.preflightCommitment);let n=t.map((t=>{var e;let n=t.tx,i=null!==(e=t.signers)&&void 0!==e?e:[];return n.feePayer=this.wallet.publicKey,n.recentBlockhash=r.blockhash,i.forEach((t=>{n.partialSign(t)})),n}));const i=await this.wallet.signAllTransactions(n),o=[];for(let s=0;s<n.length;s+=1){const t=i[s].serialize();o.push(await pn(this.connection,t,e))}return o}async simulate(t,e,r,n){t.feePayer=this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(null!=r?r:this.connection.commitment)).blockhash,t=await this.wallet.signTransaction(t);const i=await on(this.connection,t,e,r,n);if(i.value.err)throw new fn(i.value);return i.value}}class fn extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function pn(t,e,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},i=await t.sendRawTransaction(e,n),o=(await t.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw new gn(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class gn extends Error{constructor(t){super(t)}}function yn(t){bn=t}function mn(){return null===bn?hn.local():bn}let bn=null;const wn=new Set(["anchor-deprecated-state","debug-logs"]),_n=new Map;function vn(t){return void 0!==_n.get(t)}var kn=Object.freeze({__proto__:null,set:function(t){if(!wn.has(t))throw new Error("Invalid feature");_n.set(t,!0)},isSet:vn});class Sn extends Error{constructor(t){super(t),this.name="IdlError"}}class An{constructor(t){this.stack=t}static parse(t){var e;const r=/^Program (\w*) invoke/,n=/^Program \w* success/,o=[];for(let s=0;s<t.length;s++){if(n.exec(t[s])){o.pop();continue}const a=null===(e=r.exec(t[s]))||void 0===e?void 0:e[1];a&&o.push(new i.PublicKey(a))}return new An(o)}}class En extends Error{constructor(t,e,r,n,i,o){super(r.join("\n").replace("Program log: ","")),this.errorLogs=r,this.logs=n,this.error={errorCode:t,errorMessage:e,comparedValues:o,origin:i},this._programErrorStack=An.parse(n)}static parse(t){if(!t)return null;const e=t.findIndex((t=>t.startsWith("Program log: AnchorError")));if(-1===e)return null;const r=t[e],n=[r];let o;if(e+1<t.length)if("Program log: Left:"===t[e+1]){const r=/^Program log: (.*)$/,s=r.exec(t[e+2])[1],a=r.exec(t[e+4])[1];o=[new i.PublicKey(s),new i.PublicKey(a)],n.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const r=/^Program log: (Left|Right): (.*)$/,i=r.exec(t[e+1])[2],s=r.exec(t[e+2])[2];n.push(...t.slice(e+1,e+3)),o=[i,s]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(s){const[e,r,i]=s.slice(1,4),a={code:e,number:parseInt(r)};return new En(a,i,n,t,void 0,o)}if(a){const[e,r,i,s,c]=a.slice(1,6),u={code:i,number:parseInt(s)},l={file:e,line:parseInt(r)};return new En(u,c,n,t,l,o)}if(c){const[e,r,i,s]=c.slice(1,5),a=e,u={code:r,number:parseInt(i)};return new En(u,s,n,t,a,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class In extends Error{constructor(t,e,r){super(),this.code=t,this.msg=e,this.logs=r,r&&(this._programErrorStack=An.parse(r))}static parse(t,e){const r=t.toString();let n,i;if(r.includes("custom program error:")){let t=r.split("custom program error: ");if(2!==t.length)return null;n=t[1]}else{const t=r.match(/"Custom":([0-9]+)}/g);if(!t||t.length>1)return null;n=t[0].match(/([0-9]+)/g)[0]}try{i=parseInt(n)}catch(t){return null}let o=e.get(i);return void 0!==o?new In(i,o,t.logs):(o=Rn.get(i),void 0!==o?new In(i,o,t.logs):null)}get program(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return null===(t=this._programErrorStack)||void 0===t?void 0:t.stack}toString(){return this.msg}}function xn(t,e){vn("debug-logs")&&console.log("Translating error:",t);const r=En.parse(t.logs);if(r)return r;const n=In.parse(t,e);if(n)return n;if(t.logs){const e={get:function(e,r){return"programErrorStack"===r?e.programErrorStack.stack:"program"===r?e.programErrorStack.stack[t.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return t.programErrorStack=An.parse(t.logs),new Proxy(t,e)}return t}const Pn={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},Rn=new Map([[Pn.InstructionMissing,"8 byte instruction identifier not provided"],[Pn.InstructionFallbackNotFound,"Fallback functions are not supported"],[Pn.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Pn.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Pn.IdlInstructionStub,"The program was compiled without idl instructions"],[Pn.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Pn.ConstraintMut,"A mut constraint was violated"],[Pn.ConstraintHasOne,"A has_one constraint was violated"],[Pn.ConstraintSigner,"A signer constraint was violated"],[Pn.ConstraintRaw,"A raw constraint was violated"],[Pn.ConstraintOwner,"An owner constraint was violated"],[Pn.ConstraintRentExempt,"A rent exemption constraint was violated"],[Pn.ConstraintSeeds,"A seeds constraint was violated"],[Pn.ConstraintExecutable,"An executable constraint was violated"],[Pn.ConstraintState,"A state constraint was violated"],[Pn.ConstraintAssociated,"An associated constraint was violated"],[Pn.ConstraintAssociatedInit,"An associated init constraint was violated"],[Pn.ConstraintClose,"A close constraint was violated"],[Pn.ConstraintAddress,"An address constraint was violated"],[Pn.ConstraintZero,"Expected zero account discriminant"],[Pn.ConstraintTokenMint,"A token mint constraint was violated"],[Pn.ConstraintTokenOwner,"A token owner constraint was violated"],[Pn.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Pn.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Pn.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Pn.ConstraintSpace,"A space constraint was violated"],[Pn.RequireViolated,"A require expression was violated"],[Pn.RequireEqViolated,"A require_eq expression was violated"],[Pn.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Pn.RequireNeqViolated,"A require_neq expression was violated"],[Pn.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Pn.RequireGtViolated,"A require_gt expression was violated"],[Pn.RequireGteViolated,"A require_gte expression was violated"],[Pn.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Pn.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[Pn.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[Pn.AccountDidNotDeserialize,"Failed to deserialize the account"],[Pn.AccountDidNotSerialize,"Failed to serialize the account"],[Pn.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Pn.AccountNotMutable,"The given account is not mutable"],[Pn.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Pn.InvalidProgramId,"Program ID was not as expected"],[Pn.InvalidProgramExecutable,"Program account is not executable"],[Pn.AccountNotSigner,"The given account did not sign"],[Pn.AccountNotSystemOwned,"The given account is not owned by the system program"],[Pn.AccountNotInitialized,"The program expected this account to be already initialized"],[Pn.AccountNotProgramData,"The given account is not a program data account"],[Pn.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Pn.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Pn.StateInvalidAddress,"The given state account does not have the correct address"],[Pn.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Pn.Deprecated,"The API being used is deprecated and should no longer be used"]]);var On=function(){return On=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},On.apply(this,arguments)};function Tn(t){return t.toLowerCase()}var Bn=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Cn=/[^A-Z0-9]+/gi;function Mn(t,e,r){return e instanceof RegExp?t.replace(e,r):e.reduce((function(t,e){return t.replace(e,r)}),t)}class Dn{static fieldLayout(t,e){const r=void 0!==t.name?d()(t.name):void 0;switch(t.type){case"bool":return f.bool(r);case"u8":return f.u8(r);case"i8":return f.i8(r);case"u16":return f.u16(r);case"i16":return f.i16(r);case"u32":return f.u32(r);case"i32":return f.i32(r);case"f32":return f.f32(r);case"u64":return f.u64(r);case"i64":return f.i64(r);case"f64":return f.f64(r);case"u128":return f.u128(r);case"i128":return f.i128(r);case"bytes":return f.vecU8(r);case"string":return f.str(r);case"publicKey":return f.publicKey(r);default:if("vec"in t.type)return f.vec(Dn.fieldLayout({name:void 0,type:t.type.vec},e),r);if("option"in t.type)return f.option(Dn.fieldLayout({name:void 0,type:t.type.option},e),r);if("defined"in t.type){const n=t.type.defined;if(void 0===e)throw new Sn("User defined types not provided");const i=e.filter((t=>t.name===n));if(1!==i.length)throw new Sn(`Type not found: ${JSON.stringify(t)}`);return Dn.typeDefLayout(i[0],e,r)}if("array"in t.type){let n=t.type.array[0],i=t.type.array[1],o=Dn.fieldLayout({name:void 0,type:n},e);return f.array(o,i,r)}throw new Error(`Not yet implemented: ${t}`)}}static typeDefLayout(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;if("struct"===t.type.kind){const n=t.type.fields.map((t=>Dn.fieldLayout(t,e)));return f.struct(n,r)}if("enum"===t.type.kind){let n=t.type.variants.map((t=>{const r=d()(t.name);if(void 0===t.fields)return f.struct([],r);const n=t.fields.map((t=>{if(!t.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Dn.fieldLayout(t,e)}));return f.struct(n,r)}));return void 0!==r?f.rustEnum(n).replicate(r):f.rustEnum(n,r)}throw new Error(`Unknown type kint: ${t}`)}}class Nn{constructor(t){this.idl=t,this.ixLayout=Nn.parseIxLayout(t);const e=new Map;t.instructions.forEach((t=>{const r=Ln("global",t.name);e.set(c().encode(r),{layout:this.ixLayout.get(t.name),name:t.name})})),t.state&&t.state.methods.map((t=>{const r=Ln("state",t.name);e.set(c().encode(r),{layout:this.ixLayout.get(t.name),name:t.name})})),this.sighashLayouts=e}encode(t,e){return this._encode("global",t,e)}encodeState(t,e){return this._encode("state",t,e)}_encode(t,e,r){const i=n.Buffer.alloc(1e3),o=d()(e),s=this.ixLayout.get(o);if(!s)throw new Error(`Unknown method: ${o}`);const a=s.encode(r,i),c=i.slice(0,a);return n.Buffer.concat([Ln(t,e),c])}static parseIxLayout(t){const e=(t.state?t.state.methods:[]).map((e=>{let r=e.args.map((e=>{var r,n;return Dn.fieldLayout(e,Array.from([...null!==(r=t.accounts)&&void 0!==r?r:[],...null!==(n=t.types)&&void 0!==n?n:[]]))}));const n=d()(e.name);return[n,f.struct(r,n)]})).concat(t.instructions.map((e=>{let r=e.args.map((e=>{var r,n;return Dn.fieldLayout(e,Array.from([...null!==(r=t.accounts)&&void 0!==r?r:[],...null!==(n=t.types)&&void 0!==n?n:[]]))}));const n=d()(e.name);return[n,f.struct(r,n)]})));return new Map(e)}decode(t){"string"==typeof t&&(t="hex"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")?n.Buffer.from(t,"hex"):c().decode(t));let e=c().encode(t.slice(0,8)),r=t.slice(8);const i=this.sighashLayouts.get(e);return i?{data:i.layout.decode(r),name:i.name}:null}format(t,e){return zn.format(t,e,this.idl)}}class zn{static format(t,e,r){const n=r.instructions.filter((e=>t.name===e.name))[0];if(void 0===n)return console.error("Invalid instruction given"),null;const i=n.args.map((e=>({name:e.name,type:zn.formatIdlType(e.type),data:zn.formatIdlData(e,t.data[e.name],r.types)}))),o=zn.flattenIdlAccounts(n.accounts);return{args:i,accounts:e.map(((t,e)=>e<o.length?{name:o[e].name,...t}:{name:void 0,...t}))}}static formatIdlType(t){if("string"==typeof t)return t;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("defined"in t)return t.defined;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,r){if("string"==typeof t.type)return e.toString();if(t.type.hasOwnProperty("vec"))return"["+e.map((e=>this.formatIdlData({name:"",type:t.type.vec},e))).join(", ")+"]";if(t.type.hasOwnProperty("option"))return null===e?"null":this.formatIdlData({name:"",type:t.type.option},e,r);if(t.type.hasOwnProperty("defined")){if(void 0===r)throw new Error("User defined types not provided");const n=r.filter((e=>e.name===t.type.defined));if(1!==n.length)throw new Error(`Type not found: ${t.type.defined}`);return zn.formatIdlDataDefined(n[0],e,r)}return"unknown"}static formatIdlDataDefined(t,e,r){if("struct"===t.type.kind){const n=t.type;return"{ "+Object.keys(e).map((t=>{const i=n.fields.filter((e=>e.name===t))[0];if(void 0===i)throw new Error("Unable to find type");return t+": "+zn.formatIdlData(i,e[t],r)})).join(", ")+" }"}if(0===t.type.variants.length)return"{}";if(t.type.variants[0].name){const n=t.type.variants,i=Object.keys(e)[0],o=e[i],s=Object.keys(o).map((t=>{var e;const s=o[t],a=null===(e=n[i])||void 0===e?void 0:e.filter((e=>e.name===t))[0];if(void 0===a)throw new Error("Unable to find variant");return t+": "+zn.formatIdlData(a,s,r)})).join(", "),a=d()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(t,e){return t.map((t=>{const r=function(t){const e=t.replace(/([A-Z])/g," $1");return e.charAt(0).toUpperCase()+e.slice(1)}(t.name);if(t.hasOwnProperty("accounts")){const n=e?`${e} > ${r}`:r;return zn.flattenIdlAccounts(t.accounts,n)}return{...t,name:e?`${e} > ${r}`:r}})).flat()}}function Ln(t,e){var r;let i=`${t}:${void 0===r&&(r={}),function(t,e){return void 0===e&&(e={}),function(t,e){void 0===e&&(e={});for(var r=e.splitRegexp,n=void 0===r?Bn:r,i=e.stripRegexp,o=void 0===i?Cn:i,s=e.transform,a=void 0===s?Tn:s,c=e.delimiter,u=void 0===c?" ":c,l=Mn(Mn(t,n,"$1\0$2"),o,"\0"),d=0,h=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(h-1);)h--;return l.slice(d,h).split("\0").map(a).join(u)}(t,On({delimiter:"."},e))}(e,On({delimiter:"_"},r))}`;return n.Buffer.from(h.sha256.digest(i)).slice(0,8)}function Un(t,e){if("enum"===e.type.kind){let r=e.type.variants.map((e=>void 0===e.fields?0:e.fields.map((e=>{if("object"!=typeof e||!("name"in e))throw new Error("Tuple enum variants not yet implemented.");return jn(t,e.type)})).reduce(((t,e)=>t+e))));return Math.max(...r)+1}return void 0===e.type.fields?0:e.type.fields.map((e=>jn(t,e.type))).reduce(((t,e)=>t+e),0)}function jn(t,e){var r,n;switch(e){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in e)return 1;if("option"in e)return 1+jn(t,e.option);if("coption"in e)return 4+jn(t,e.coption);if("defined"in e){const i=null!==(n=null===(r=t.types)||void 0===r?void 0:r.filter((t=>t.name===e.defined)))&&void 0!==n?n:[];if(1!==i.length)throw new Sn(`Type not found: ${JSON.stringify(e)}`);return Un(t,i[0])}if("array"in e){let r=e.array[0],n=e.array[1];return jn(t,r)*n}throw new Error(`Invalid type ${JSON.stringify(e)}`)}}const Kn=8;class Hn{constructor(t){if(void 0===t.accounts)return void(this.accountLayouts=new Map);const e=t.accounts.map((e=>[e.name,Dn.typeDefLayout(e,t.types)]));this.accountLayouts=new Map(e),this.idl=t}async encode(t,e){const r=n.Buffer.alloc(1e3),i=this.accountLayouts.get(t);if(!i)throw new Error(`Unknown account: ${t}`);const o=i.encode(e,r);let s=r.slice(0,o),a=Hn.accountDiscriminator(t);return n.Buffer.concat([a,s])}decode(t,e){if(Hn.accountDiscriminator(t).compare(e.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){const r=e.slice(8),n=this.accountLayouts.get(t);if(!n)throw new Error(`Unknown account: ${t}`);return n.decode(r)}memcmp(t,e){const r=Hn.accountDiscriminator(t);return{offset:0,bytes:c().encode(e?n.Buffer.concat([r,e]):r)}}size(t){var e;return 8+(null!==(e=Un(this.idl,t))&&void 0!==e?e:0)}static accountDiscriminator(t){return n.Buffer.from(h.sha256.digest(`account:${d()(t,{pascalCase:!0})}`)).slice(0,8)}}class qn{constructor(t){if(void 0===t.events)return void(this.layouts=new Map);const e=t.events.map((e=>{let r={name:e.name,type:{kind:"struct",fields:e.fields.map((t=>({name:t.name,type:t.type})))}};return[e.name,Dn.typeDefLayout(r,t.types)]}));this.layouts=new Map(e),this.discriminators=new Map(void 0===t.events?[]:t.events.map((t=>[u.fromByteArray(Wn(t.name)),t.name])))}decode(t){let e;try{e=n.Buffer.from(u.toByteArray(t))}catch(un){return null}const r=u.fromByteArray(e.slice(0,8)),i=this.discriminators.get(r);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(e.slice(8)),name:i}}}function Wn(t){return n.Buffer.from(h.sha256.digest(`event:${t}`)).slice(0,8)}class Fn{constructor(t){if(void 0===t.state)throw new Error("Idl state not defined.");this.layout=Dn.typeDefLayout(t.state.struct,t.types)}async encode(t,e){const r=n.Buffer.alloc(1e3),i=this.layout.encode(e,r),o=await $n(t),s=r.slice(0,i);return n.Buffer.concat([o,s])}decode(t){const e=t.slice(8);return this.layout.decode(e)}}async function $n(t){let e=vn("anchor-deprecated-state")?"account":"state";return n.Buffer.from(h.sha256.digest(`${e}:${t}`)).slice(0,8)}class Vn{constructor(t){this.instruction=new Nn(t),this.accounts=new Hn(t),this.events=new qn(t),t.state&&(this.state=new Fn(t))}}var Zn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:{};class Gn{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,r){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var Xn=Gn;class Jn extends Gn{isCount(){throw new Error("ExternalLayout is abstract")}}class Yn extends Jn{constructor(t,e,r){if(!(t instanceof Gn))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Qn||this.layout instanceof ti}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)}}class Qn extends Gn{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class ti extends Gn{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}const ei=Math.pow(2,32);class ri extends Gn{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return function(t,e){return t*ei+e}(t.readUInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=function(t){const e=Math.floor(t/ei);return{hi32:e,lo32:t-e*ei}}(t);return e.writeUInt32LE(n.lo32,r),e.writeUInt32LE(n.hi32,r+4),8}}class ni extends Gn{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof Gn),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const i of t)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(t){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(t){throw new RangeError("indeterminate span")}return r}decode(t,e){void 0===e&&(e=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){void 0===r&&(r=0);const n=r;let i=0,o=0;for(const s of this.fields){let n=s.span;if(o=0<n?n:0,void 0!==s.property){const i=t[s.property];void 0!==i&&(o=s.encode(i,e,r),0>n&&(n=s.getSpan(e,r)))}i=r,r+=n}return i+o-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class ii{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class oi extends ii{constructor(t,e){if(!(t instanceof Jn&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class si extends Gn{constructor(t,e,r){const n=t instanceof Qn||t instanceof ti;if(n)t=new oi(new Yn(t));else if(t instanceof Jn&&t.isCount())t=new oi(t);else if(!(t instanceof ii))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof Gn))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&n&&(i+=t.layout.span)),super(i,r),this.discriminator=t,this.usesPrefixDiscriminator=n,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,e){let r;void 0===e&&(e=0);const n=this.discriminator,i=n.decode(t,e);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[o.property]=this.defaultLayout.decode(t,e+s)}else r=o.decode(t,e);return r}encode(t,e,r){void 0===r&&(r=0);const n=this.getSourceVariant(t);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(t[n.property],e,r),o+i.encode(t[i.property],e,r+o)}return n.encode(t,e,r)}addVariant(t,e,r){const n=new ai(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e){let r=t;return kr.isBuffer(t)&&(void 0===e&&(e=0),r=this.discriminator.decode(t,e)),this.registry[r]}}class ai extends Gn{constructor(t,e,r,n){if(!(t instanceof si))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof Gn))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,n),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){const r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),i+=this.layout.getSpan(e,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class ci extends Gn{constructor(t,e){if(!(t instanceof Jn&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof Jn||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){void 0===e&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(t,e,r){let n=this.length;if(this.length instanceof Jn&&(n=t.length),!kr.isBuffer(t)||n!==t.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+n+") Buffer as src"));var i;if(r+n>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),r,n,"hex"),this.length instanceof Jn&&this.length.encode(n,e,r),n}}var ui=t=>new Qn(1,t),li=t=>new ri(t),di=(t,e,r)=>new ni(t,e,r),hi=(t,e)=>new ci(t,e);class fi{constructor(t){}encode(t,e){switch(d()(t)){case"initializeMint":return function(t){let{decimals:e,mintAuthority:r,freezeAuthority:n}=t;return mi({initializeMint:{decimals:e,mintAuthority:r.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||i.PublicKey.default).toBuffer()}})}(e);case"initializeAccount":return mi({initializeAccount:{}});case"initializeMultisig":return function(t){let{m:e}=t;return mi({initializeMultisig:{m:e}})}(e);case"transfer":return function(t){let{amount:e}=t;return mi({transfer:{amount:e}})}(e);case"approve":return function(t){let{amount:e}=t;return mi({approve:{amount:e}})}(e);case"revoke":return mi({revoke:{}});case"setAuthority":return function(t){let{authorityType:e,newAuthority:r}=t;return mi({setAuthority:{authorityType:e,newAuthority:r}})}(e);case"mintTo":return function(t){let{amount:e}=t;return mi({mintTo:{amount:e}})}(e);case"burn":return function(t){let{amount:e}=t;return mi({burn:{amount:e}})}(e);case"closeAccount":return mi({closeAccount:{}});case"freezeAccount":return mi({freezeAccount:{}});case"thawAccount":return mi({thawAccount:{}});case"transferChecked":return function(t){let{amount:e,decimals:r}=t;return mi({transferChecked:{amount:e,decimals:r}})}(e);case"approvedChecked":return function(t){let{amount:e,decimals:r}=t;return mi({approveChecked:{amount:e,decimals:r}})}(e);case"mintToChecked":return function(t){let{amount:e,decimals:r}=t;return mi({mintToChecked:{amount:e,decimals:r}})}(e);case"burnChecked":return function(t){let{amount:e,decimals:r}=t;return mi({burnChecked:{amount:e,decimals:r}})}(e);case"intializeAccount2":return function(t){let{authority:e}=t;return mi({initilaizeAccount2:{authority:e}})}(e);case"syncNative":return mi({syncNative:{}});case"initializeAccount3":return function(t){let{authority:e}=t;return mi({initializeAccount3:{authority:e}})}(e);case"initializeMultisig2":return function(t){let{m:e}=t;return mi({initializeMultisig2:{m:e}})}(e);case"initializeMint2":return function(t){let{decimals:e,mintAuthority:r,freezeAuthority:n}=t;return mi({encodeInitializeMint2:{decimals:e,mintAuthority:r,freezeAuthority:n}})}(e);default:throw new Error(`Invalid instruction: ${t}`)}}encodeState(t,e){throw new Error("SPL token does not have state")}}const pi=(gi=ui("instruction"),new si(gi,undefined,undefined));var gi;function yi(t){return hi(32,t)}function mi(t){let e=kr.alloc(bi),r=pi.encode(t,e);return e.slice(0,r)}pi.addVariant(0,di([ui("decimals"),hi(32,"mintAuthority"),ui("freezeAuthorityOption"),yi("freezeAuthority")]),"initializeMint"),pi.addVariant(1,di([]),"initializeAccount"),pi.addVariant(2,di([ui("m")]),"initializeMultisig"),pi.addVariant(3,di([li("amount")]),"transfer"),pi.addVariant(4,di([li("amount")]),"approve"),pi.addVariant(5,di([]),"revoke"),pi.addVariant(6,di([ui("authorityType"),ui("newAuthorityOption"),yi("newAuthority")]),"setAuthority"),pi.addVariant(7,di([li("amount")]),"mintTo"),pi.addVariant(8,di([li("amount")]),"burn"),pi.addVariant(9,di([]),"closeAccount"),pi.addVariant(10,di([]),"freezeAccount"),pi.addVariant(11,di([]),"thawAccount"),pi.addVariant(12,di([li("amount"),ui("decimals")]),"transferChecked"),pi.addVariant(13,di([li("amount"),ui("decimals")]),"approvedChecked"),pi.addVariant(14,di([li("amount"),ui("decimals")]),"mintToChecked"),pi.addVariant(15,di([li("amount"),ui("decimals")]),"burnedChecked"),pi.addVariant(16,di([yi("authority")]),"InitializeAccount2"),pi.addVariant(17,di([]),"syncNative"),pi.addVariant(18,di([yi("authority")]),"initializeAccount3"),pi.addVariant(19,di([ui("m")]),"initializeMultisig2"),pi.addVariant(20,di([ui("decimals"),yi("mintAuthority"),ui("freezeAuthorityOption"),yi("freezeAuthority")]),"initializeMint2");const bi=Math.max(...Object.values(pi.registry).map((t=>t.span)));class wi{constructor(t){}encode(t,e){throw new Error("SPL token does not have state")}decode(t){throw new Error("SPL token does not have state")}}function _i(t){return new Si(hi(8),(t=>xi.fromBuffer(t)),(t=>t.toBuffer()),t)}function vi(t){return new Si(hi(32),(t=>new i.PublicKey(t)),(t=>t.toBuffer()),t)}function ki(t,e){return new Ai(t,e)}class Si extends Xn{constructor(t,e,r,n){super(t.span,n),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}class Ai extends Xn{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=new Qn(4,void 0)}encode(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null==t?this.layout.span+this.discriminator.encode(0,e,r):(this.discriminator.encode(1,e,r),this.layout.encode(t,e,r+4)+4)}decode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.discriminator.decode(t,e);if(0===r)return null;if(1===r)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.getSpan(t,e+4)+4}}function Ei(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function Ii(t){return t?1:0}class xi extends(s()){toBuffer(){const t=super.toArray().reverse(),e=kr.from(t);if(8===e.length)return e;if(e.length>=8)throw new Error("u64 too large");const r=kr.alloc(8);return e.copy(r),r}static fromBuffer(t){if(8!==t.length)throw new Error(`Invalid buffer length: ${t.length}`);return new xi([...t].reverse().map((t=>`00${t.toString(16)}`.slice(-2))).join(""),16)}}class Pi{constructor(t){this.idl=t}async encode(t,e){switch(t){case"token":{const t=kr.alloc(165),r=Oi.encode(e,t);return t.slice(0,r)}case"mint":{const t=kr.alloc(82),r=Ri.encode(e,t);return t.slice(0,r)}default:throw new Error(`Invalid account name: ${t}`)}}decode(t,e){return this.decodeUnchecked(t,e)}decodeUnchecked(t,e){switch(t){case"token":return function(t){return Oi.decode(t)}(e);case"mint":return function(t){return Ri.decode(t)}(e);default:throw new Error(`Invalid account name: ${t}`)}}memcmp(t,e){switch(t){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${t}`)}}size(t){var e;return null!==(e=Un(this.idl,t))&&void 0!==e?e:0}}const Ri=di([ki(vi(),"mintAuthority"),_i("supply"),ui("decimals"),new Si(ui(),Ei,Ii,"isInitialized"),ki(vi(),"freezeAuthority")]),Oi=di([vi("mint"),vi("authority"),_i("amount"),ki(vi(),"delegate"),ui("state"),ki(_i(),"isNative"),_i("delegatedAmount"),ki(vi(),"closeAuthority")]);class Ti{constructor(t){}decode(t){throw new Error("SPL token program does not have events")}}class Bi{constructor(t){this.instruction=new fi(t),this.accounts=new Pi(t),this.events=new Ti(t),this.state=new wi(t)}}var Ci=Object.freeze({__proto__:null,hash:function(t){return(0,h.sha256)(t)}});function Mi(t,e,r){const o=n.Buffer.concat([t.toBuffer(),n.Buffer.from(e),r.toBuffer()]),s=h.sha256.digest(o);return new i.PublicKey(n.Buffer.from(s))}function Di(t,e){let r=n.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");r=n.Buffer.concat([r,zi(t)])})),r=n.Buffer.concat([r,e.toBuffer(),n.Buffer.from("ProgramDerivedAddress")]);let o=(0,h.sha256)(new Uint8Array(r)),a=new(s())(o,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(a)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(a)}function Ni(t,e){let r,i=255;for(;0!=i;){try{r=Di(t.concat(n.Buffer.from([i])),e)}catch(un){if(un instanceof TypeError)throw un;i--;continue}return[r,i]}throw new Error("Unable to find a viable program address nonce")}const zi=t=>t instanceof n.Buffer?t:t instanceof Uint8Array?n.Buffer.from(t.buffer,t.byteOffset,t.byteLength):n.Buffer.from(t);async function Li(t){let e=[n.Buffer.from([97,110,99,104,111,114])];for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];o.forEach((t=>{e.push(t instanceof n.Buffer?t:Dr(t).toBuffer())}));const[a]=await i.PublicKey.findProgramAddress(e,Dr(t));return a}var Ui=Object.freeze({__proto__:null,createWithSeedSync:Mi,createProgramAddressSync:Di,findProgramAddressSync:Ni,associated:Li});const ji=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Ki=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Hi=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:ji,ASSOCIATED_PROGRAM_ID:Ki,associatedAddress:async function(t){let{mint:e,owner:r}=t;return(await i.PublicKey.findProgramAddress([r.toBuffer(),ji.toBuffer(),e.toBuffer()],Ki))[0]}}),qi={exports:{}};!function(t,e){var r="undefined"!=typeof self?self:Zn,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!=typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&(e=t)&&DataView.prototype.isPrototypeOf(e)?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,r=p(e);return e.readAsText(t),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=u(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},h.prototype.delete=function(t){delete this.map[u(t)]},h.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},h.prototype.set=function(t,e){this.map[u(t)]=l(e)},h.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),d(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),d(t)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var r,n,i=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(n=(r=e.method||this.method||"GET").toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function _(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},m.call(w.prototype),m.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var k=[301,302,303,307,308];v.redirect=function(t,e){if(-1===k.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function S(t,r){return new Promise((function(n,o){var s=new w(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new v(i,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,t.fetch||(t.fetch=S,t.Headers=h,t.Request=w,t.Response=v),e.Headers=h,e.Request=w,e.Response=v,e.fetch=S,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(qi,qi.exports);var Wi=function(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}(qi.exports);async function Fi(t,e){const r=await t.getAccountInfo(e);if(null===r)throw new Error("program account not found");const{program:n}=Vi(r.data),i=await t.getAccountInfo(n.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=Vi(i.data);return o}const $i=f.rustEnum([f.struct([],"uninitialized"),f.struct([f.option(f.publicKey(),"authorityAddress")],"buffer"),f.struct([f.publicKey("programdataAddress")],"program"),f.struct([f.u64("slot"),f.option(f.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,f.u32());function Vi(t){return $i.decode(t)}var Zi=Object.freeze({__proto__:null,verifiedBuild:async function(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const n=`https://anchor.projectserum.com/api/v0/program/${e.toString()}/latest?limit=${r}`,[i,o]=await Promise.all([Fi(t,e),Wi(n)]),s=(await o.json()).filter((t=>!t.aborted&&"Built"===t.state&&"Verified"===t.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:Fi,decodeUpgradeableLoaderState:Vi}),Gi=Object.freeze({__proto__:null,sha256:Ci,rpc:dn,publicKey:Ui,bytes:Tr,token:Hi,features:kn,registry:Zi});const Xi=f.struct([f.publicKey("authority"),f.vecU8("data")]);function Ji(t,e){var r,n;let i={};const o=t.args?t.args.length:0;if(e.length>o){if(e.length!==o+1)throw new Error(`provided too many arguments ${e} to instruction ${null==t?void 0:t.name} expecting: ${null!==(n=null===(r=t.args)||void 0===r?void 0:r.map((t=>t.name)))&&void 0!==n?n:[]}`);i=e.pop()}return[e,i]}class Yi{static build(t,e,r){if("_inner"===t.name)throw new Sn("the _inner name is reserved");const n=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const[c,u]=Ji(t,[...s]);Mr(t.accounts,u.accounts);const l=n.accounts(u.accounts);return void 0!==u.remainingAccounts&&l.push(...u.remainingAccounts),vn("debug-logs")&&console.log("Outgoing account metas:",l),new i.TransactionInstruction({keys:l,programId:r,data:e(t.name,Cr(t,...c))})};return n.accounts=e=>Yi.accountsArray(e,t.accounts,t.name),n}static accountsArray(t,e,r){return t?e.map((e=>{if(void 0!==("accounts"in e?e.accounts:void 0)){const n=t[e.name];return Yi.accountsArray(n,e.accounts,r).flat()}{const n=e;let i;try{i=Dr(t[e.name])}catch(t){throw new Error(`Wrong input type for account "${e.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:n.isMut,isSigner:n.isSigner}}})).flat():[]}}class Qi{static build(t,e,r,n){return async function(){for(var i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const c=e(...s),[,u]=Ji(t,[...s]);if(void 0===n.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await n.sendAndConfirm(c,null!==(i=u.signers)&&void 0!==i?i:[],u.options)}catch(t){throw xn(t,r)}}}}class to{static build(t,e){return function(){for(var r,n,o,s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];const[,u]=Ji(t,[...a]),l=new i.Transaction;if(u.preInstructions&&u.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=u.preInstructions)||void 0===r||r.forEach((t=>l.add(t))),null===(n=u.instructions)||void 0===n||n.forEach((t=>l.add(t))),l.add(e(...a)),null===(o=u.postInstructions)||void 0===o||o.forEach((t=>l.add(t))),l}}}class eo{constructor(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:mn(),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Vn(t);this.provider=r,this.coder=n,this._idl=t,this._programId=e,this._address=ro(e),this._sub=null;const[o,s,a]=(()=>{var o;let s={},a={},c={};return null===(o=t.state)||void 0===o||o.methods.forEach((o=>{const u=Yi.build(o,((t,e)=>n.instruction.encodeState(t,e)),e);u.accounts=t=>{const n=function(t,e,r,n){if("new"===r.name){const[r]=Ni([],t);if(void 0===e.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:e.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:ro(t),isWritable:!0,isSigner:!1},{pubkey:r,isWritable:!1,isSigner:!1},{pubkey:i.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:t,isWritable:!1,isSigner:!1}]}return Mr(r.accounts,n),[{pubkey:ro(t),isWritable:!0,isSigner:!1}]}(e,r,o,t);return n.concat(Yi.accountsArray(t,o.accounts,o.name))};const l=to.build(o,u),h=Qi.build(o,l,Br(t),r),f=d()(o.name);s[f]=u,a[f]=l,c[f]=h})),[s,a,c]})();this.instruction=o,this.transaction=s,this.rpc=a}get programId(){return this._programId}async fetch(){const t=this.address(),e=await this.provider.connection.getAccountInfo(t);if(null===e)throw new Error(`Account does not exist ${t.toString()}`);const r=this._idl.state;if(!r)throw new Error("State is not specified in IDL.");if((await $n(r.struct.name)).compare(e.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(e.data)}address(){return this._address}subscribe(t){if(null!==this._sub)return this._sub.ee;const e=new(_r()),r=this.provider.connection.onAccountChange(this.address(),(t=>{const r=this.coder.state.decode(t.data);e.emit("change",r)}),t);return this._sub={ee:e,listener:r},e}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function ro(t){let[e]=Ni([],t);return Mi(e,"unversioned",t)}class no{constructor(t,e,r,n,i){this._idlAccount=e,this._programId=r,this._provider=null!=n?n:mn(),this._coder=null!=i?i:new Vn(t),this._size=this._coder.accounts.size(e)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(t,e){const r=await this.getAccountInfo(t,e);return null===r?null:this._coder.accounts.decode(this._idlAccount.name,r.data)}async fetch(t,e){const r=await this.fetchNullable(t,e);if(null===r)throw new Error(`Account does not exist ${t.toString()}`);return r}async fetchMultiple(t,e){return(await rn(this._provider.connection,t.map((t=>Dr(t))),e)).map((t=>null==t?null:this._coder.accounts.decode(this._idlAccount.name,null==t?void 0:t.account.data)))}async all(t){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,t instanceof kr?t:void 0)},...Array.isArray(t)?t:[]]})).map((t=>{let{pubkey:e,account:r}=t;return{publicKey:e,account:this._coder.accounts.decode(this._idlAccount.name,r.data)}}))}subscribe(t,e){const r=io.get(t.toString());if(r)return r.ee;const n=new(_r());t=Dr(t);const i=this._provider.connection.onAccountChange(t,(t=>{const e=this._coder.accounts.decode(this._idlAccount.name,t.data);n.emit("change",e)}),e);return io.set(t.toString(),{ee:n,listener:i}),n}async unsubscribe(t){let e=io.get(t.toString());e?io&&await this._provider.connection.removeAccountChangeListener(e.listener).then((()=>{io.delete(t.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(t,e){const r=this.size;if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return i.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:t.publicKey,space:null!=e?e:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=e?e:r),programId:this._programId})}async associated(){const t=await this.associatedAddress(...arguments);return await this.fetch(t)}async associatedAddress(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return await Li(this._programId,...e)}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(Dr(t),e)}}const io=new Map,oo="Program log: ".length,so="Program data: ".length;class ao{constructor(t,e,r){this._programId=t,this._provider=e,this._eventParser=new co(t,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e){var r;let n=this._listenerIdCount;return this._listenerIdCount+=1,t in this._eventCallbacks||this._eventListeners.set(t,[]),this._eventListeners.set(t,(null!==(r=this._eventListeners.get(t))&&void 0!==r?r:[]).concat(n)),this._eventCallbacks.set(n,[t,e]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((t,e)=>{t.err||this._eventParser.parseLogs(t.logs,(t=>{const r=this._eventListeners.get(t.name);r&&r.forEach((r=>{const n=this._eventCallbacks.get(r);if(n){const[,r]=n;r(t.data,e.slot)}}))}))}))),n}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[r]=e;let n=this._eventListeners.get(r);if(!n)throw new Error(`Event listeners don't exist for ${r}!`);this._eventCallbacks.delete(t),n=n.filter((e=>e!==t)),0===n.length&&this._eventListeners.delete(r),0==this._eventCallbacks.size&&(vr.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class co{constructor(t,e){this.coder=e,this.programId=t}parseLogs(t,e){const r=new lo(t),n=new uo;let i=r.next();for(;null!==i;){let[t,o,s]=this.handleLog(n,i);t&&e(t),o&&n.push(o),s&&n.pop(),i=r.next()}}handleLog(t,e){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e):[null,...this.handleSystemLog(e)]}handleProgramLog(t){if(t.startsWith("Program log: ")||t.startsWith("Program data: ")){const e=t.startsWith("Program log: ")?t.slice(oo):t.slice(so);return[this.coder.events.decode(e),null,!1]}return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return null!==e.match(/^Program (.*) success/g)?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class uo{constructor(){this.stack=[]}program(){return vr.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){vr.ok(this.stack.length>0),this.stack.pop()}}class lo{constructor(t){this.logs=t}next(){if(0===this.logs.length)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}const ho=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function fo(){return new Bi(po)}const po={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class go{constructor(t,e,r,n,i,o){this._args=t,this._accounts=e,this._provider=r,this._programId=n,this._idlIx=i,this._accountStore=new yo(r,o)}async resolve(){for(let t=0;t<this._idlIx.accounts.length;t+=1){const e=this._idlIx.accounts[t],r=d()(e.name);if(e.pda&&e.pda.seeds.length>0&&!this._accounts[r])await this.autoPopulatePda(e);else if(!e.isSigner||this._accounts[r])Reflect.has(go.CONST_ACCOUNTS,r)&&!this._accounts[r]&&(this._accounts[r]=go.CONST_ACCOUNTS[r]);else{if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[r]=this._provider.wallet.publicKey}}}async autoPopulatePda(t){if(!t.pda||!t.pda.seeds)throw new Error("Must have seeds");const e=await Promise.all(t.pda.seeds.map((t=>this.toBuffer(t)))),r=await this.parseProgramId(t),[n]=await i.PublicKey.findProgramAddress(e,r);this._accounts[d()(t.name)]=n}async parseProgramId(t){var e;if(!(null===(e=t.pda)||void 0===e?void 0:e.programId))return this._programId;switch(t.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(t.pda.programId.value));case"arg":return this.argValue(t.pda.programId);case"account":return await this.accountValue(t.pda.programId);default:throw new Error(`Unexpected program seed kind: ${t.pda.programId.kind}`)}}async toBuffer(t){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t);default:throw new Error(`Unexpected seed kind: ${t.kind}`)}}toBufferConst(t){return this.toBufferValue(t.type,t.value)}async toBufferArg(t){const e=this.argValue(t);return this.toBufferValue(t.type,e)}argValue(t){const e=d()(t.path.split(".")[0]),r=this._idlIx.args.findIndex((t=>t.name===e));if(-1===r)throw new Error(`Unable to find argument for seed: ${e}`);return this._args[r]}async toBufferAccount(t){const e=await this.accountValue(t);return this.toBufferValue(t.type,e)}async accountValue(t){const e=t.path.split("."),r=e[0],n=this._accounts[d()(r)];if(1===e.length)return n;const i=await this._accountStore.fetchAccount(t.account,n);return this.parseAccountValue(i,e.slice(1))}parseAccountValue(t,e){let r;for(;e.length>0;)r=t[d()(e[0])],e=e.slice(1);return r}toBufferValue(t,e){switch(t){case"u8":return kr.from([e]);case"u16":let r=kr.alloc(2);return r.writeUInt16LE(e),r;case"u32":let n=kr.alloc(4);return n.writeUInt32LE(e),n;case"u64":let i=kr.alloc(8);return i.writeBigUInt64LE(BigInt(e)),i;case"string":return kr.from(Er(e));case"publicKey":return e.toBuffer();default:if(t.array)return kr.from(e);throw new Error(`Unexpected seed type: ${t}`)}}}go.CONST_ACCOUNTS={systemProgram:i.SystemProgram.programId,tokenProgram:ji,associatedTokenProgram:Ki,rent:i.SYSVAR_RENT_PUBKEY};class yo{constructor(t,e){this._provider=t,this._accounts=e,this._cache=new Map}async fetchAccount(t,e){const r=e.toString();if(!this._cache.has(r))if("TokenAccount"===t){const t=await this._provider.connection.getAccountInfo(e);if(null===t)throw new Error(`invalid account info for ${r}`);const n=fo().accounts.decode("token",t.data);this._cache.set(r,n)}else{const n=this._accounts[d()(t)].fetch(e);this._cache.set(r,n)}return this._cache.get(r)}}class mo{static build(t,e,r,n,i,o,s,a,c){return function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return new bo(l,n,i,o,s,a,t,e,r,c)}}}class bo{constructor(t,e,r,n,i,o,s,a,c,u){this._args=t,this._ixFn=e,this._txFn=r,this._rpcFn=n,this._simulateFn=i,this._viewFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._accountsResolver=new go(t,this._accounts,s,a,c,u)}async pubkeys(){return await this._accountsResolver.resolve(),this._accounts}accounts(t){return Object.assign(this._accounts,t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t){return this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async rpc(t){return await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async view(t){if(await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async simulate(t){return await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async instruction(){return await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class wo{constructor(t,e,r,n){e=Dr(e),r||(r=mn()),this._idl=t,this._provider=r,this._programId=e,this._coder=null!=n?n:new Vn(t),this._events=new ao(this._programId,r,this._coder);const[i,o,s,a,c,u,l,h]=class{static build(t,e,r,n){const i={},o={},s={},a={},c={},u={},l=Br(t),h=t.accounts?class{static build(t,e,r,n){var i;const o={};return null===(i=t.accounts)||void 0===i||i.forEach((i=>{const s=d()(i.name);o[s]=new no(t,i,r,n,e)})),o}}.build(t,e,r,n):{},f=class{static build(t,e,r,n){if(void 0!==t.state)return new eo(t,r,n,e)}}.build(t,e,r,n);return t.instructions.forEach((f=>{const p=Yi.build(f,((t,r)=>e.instruction.encode(t,r)),r),g=to.build(f,p),y=Qi.build(f,g,l,n),m=class{static build(t,e,r,n,i,o,s){return async function(){for(var a,c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];const d=e(...u),[,h]=Ji(t,[...u]);let f;if(void 0===n.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{f=await n.simulate(d,h.signers,null===(a=h.options)||void 0===a?void 0:a.commitment)}catch(t){throw xn(t,r)}if(void 0===f)throw new Error("Unable to simulate transaction");const p=f.logs;if(!p)throw new Error("Simulated logs not found");const g=[];return s.events&&new co(o,i).parseLogs(p,(t=>{g.push(t)})),{events:g,raw:p}}}}.build(f,g,l,n,e,r,t),b=class{static build(t,e,r,n){const i=e.accounts.find((t=>t.isMut)),o=!!e.returns;if(!i&&o)return async function(){var i,o;let s=await r(...arguments);const a=`Program return: ${t} `;let c=s.raw.find((t=>t.startsWith(a)));if(!c)throw new Error("View expected return log");let u=Rr(c.slice(a.length)),l=e.returns;if(!l)throw new Error("View expected return type");return Dn.fieldLayout({type:l},Array.from([...null!==(i=n.accounts)&&void 0!==i?i:[],...null!==(o=n.types)&&void 0!==o?o:[]])).decode(u)}}}.build(r,f,m,t),w=mo.build(n,r,f,p,g,y,m,b,h),_=d()(f.name);o[_]=p,s[_]=g,i[_]=y,a[_]=m,c[_]=w,b&&(u[_]=b)})),[i,o,s,h,a,c,f,u]}}.build(t,this._coder,e,r);this.rpc=i,this.instruction=o,this.transaction=s,this.account=a,this.simulate=c,this.methods=u,this.state=l,this.views=h}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(t,e){const r=Dr(t),n=await wo.fetchIdl(r,e);if(!n)throw new Error(`IDL not found for program: ${t.toString()}`);return new wo(n,r,e)}static async fetchIdl(t,e){e=null!=e?e:mn();const r=Dr(t),n=await async function(t){const e=(await i.PublicKey.findProgramAddress([],t))[0];return await i.PublicKey.createWithSeed(e,"anchor:idl",t)}(r),o=await e.connection.getAccountInfo(n);if(!o)return null;let s=(a=o.data.slice(8),Xi.decode(a));var a;const c=br(s.data);return JSON.parse(Ar(c))}addEventListener(t,e){return this._events.addEventListener(t,e)}async removeEventListener(t){return await this._events.removeEventListener(t)}}class _o{static token(t){return function(t){return new wo(po,ho,t,fo())}(t)}}},45572:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;const s=r(97429),a=o(r(12009));e.encode=function(t){return a.fromByteArray(t)},e.decode=function(t){return s.Buffer.from(a.toByteArray(t))}},89277:function(t,e,r){"use strict";var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;const i=n(r(68532));e.encode=function(t){return i.default.encode(t)},e.decode=function(t){return i.default.decode(t)}},87169:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=void 0;const n=r(97429);e.encode=function(t){return t.reduce(((t,e)=>t+e.toString(16).padStart(2,"0")),"0x")},e.decode=function(t){0===t.indexOf("0x")&&(t=t.substr(2)),t.length%2===1&&(t="0"+t);let e=t.match(/.{2}/g);return null===e?n.Buffer.from([]):n.Buffer.from(e.map((t=>parseInt(t,16))))}},7867:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),o=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.prototype.hasOwnProperty.call(t,r)&&n(e,t,r);return i(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.base64=e.bs58=e.utf8=e.hex=void 0,e.hex=o(r(87169)),e.utf8=o(r(56766)),e.bs58=o(r(89277)),e.base64=o(r(45572))},56766:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=void 0;const n=r(45587);e.decode=function(t){return(n.isBrowser?new TextDecoder("utf-8"):new(r(58404).TextDecoder)("utf-8")).decode(t)},e.encode=function(t){return(n.isBrowser?new TextEncoder:new(r(58404).TextEncoder)("utf-8")).encode(t)}},45587:(t,e)=>{"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.chunks=e.isBrowser=void 0,e.isBrowser={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_ID:"interdao",REACT_APP_NAME:"InterDAO",REACT_APP_AUTHOR_NAME:"Descartes Network",REACT_APP_AUTHOR_EMAIL:"hello@descartes.network",REACT_APP_TAGS:"dapps,dao",REACT_APP_DESCRIPTION:"\ud83c\udf0f InterDAO is a universal DAO solution that projects on Solana can seamlessly construct their owned DAO.",REACT_APP_URL:"https://descartesnetwork.github.io/interdao.so/index.js"}.BROWSER||"undefined"!==typeof window&&!(null===(r=window.process)||void 0===r?void 0:r.hasOwnProperty("type")),e.chunks=function(t,e){return Array.apply(0,new Array(Math.ceil(t.length/e))).map(((r,n)=>t.slice(n*e,(n+1)*e)))}},26434:function(t,e,r){"use strict";var n=r(97429).Buffer,i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.map=e.array=e.rustEnum=e.str=e.vecU8=e.tagged=e.vec=e.bool=e.option=e.publicKey=e.i128=e.u128=e.i64=e.u64=e.struct=e.f64=e.f32=e.i32=e.u32=e.i16=e.u16=e.i8=e.u8=void 0;const o=r(12324),s=r(71256),a=i(r(48744));var c=r(12324);Object.defineProperty(e,"u8",{enumerable:!0,get:function(){return c.u8}}),Object.defineProperty(e,"i8",{enumerable:!0,get:function(){return c.s8}}),Object.defineProperty(e,"u16",{enumerable:!0,get:function(){return c.u16}}),Object.defineProperty(e,"i16",{enumerable:!0,get:function(){return c.s16}}),Object.defineProperty(e,"u32",{enumerable:!0,get:function(){return c.u32}}),Object.defineProperty(e,"i32",{enumerable:!0,get:function(){return c.s32}}),Object.defineProperty(e,"f32",{enumerable:!0,get:function(){return c.f32}}),Object.defineProperty(e,"f64",{enumerable:!0,get:function(){return c.f64}}),Object.defineProperty(e,"struct",{enumerable:!0,get:function(){return c.struct}});class u extends o.Layout{constructor(t,e,r){super(t,r),this.blob=o.blob(t),this.signed=e}decode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=new a.default(this.blob.decode(t,e),10,"le");return this.signed?r.fromTwos(8*this.span).clone():r}encode(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.signed&&(t=t.toTwos(8*this.span)),this.blob.encode(t.toArrayLike(n,"le",this.span),e,r)}}function l(t){return new u(8,!1,t)}e.u64=l,e.i64=function(t){return new u(8,!0,t)},e.u128=function(t){return new u(16,!1,t)},e.i128=function(t){return new u(16,!0,t)};class d extends o.Layout{constructor(t,e,r,n){super(t.span,n),this.layout=t,this.decoder=e,this.encoder=r}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,r){return this.layout.encode(this.encoder(t),e,r)}getSpan(t,e){return this.layout.getSpan(t,e)}}e.publicKey=function(t){return new d(o.blob(32),(t=>new s.PublicKey(t)),(t=>t.toBuffer()),t)};class h extends o.Layout{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=o.u8()}encode(t,e){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null===t||void 0===t?this.discriminator.encode(0,e,r):(this.discriminator.encode(1,e,r),this.layout.encode(t,e,r+1)+1)}decode(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.discriminator.decode(t,e);if(0===r)return null;if(1===r)return this.layout.decode(t,e+1);throw new Error("Invalid option "+this.property)}getSpan(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.discriminator.decode(t,e);if(0===r)return 1;if(1===r)return this.layout.getSpan(t,e+1)+1;throw new Error("Invalid option "+this.property)}}function f(t){if(0===t)return!1;if(1===t)return!0;throw new Error("Invalid bool: "+t)}function p(t){return t?1:0}function g(t){const e=o.u32("length"),r=o.struct([e,o.blob(o.offset(e,-e.span),"data")]);return new d(r,(t=>{let{data:e}=t;return e}),(t=>({data:t})),t)}e.option=function(t,e){return new h(t,e)},e.bool=function(t){return new d(o.u8(),f,p,t)},e.vec=function(t,e){const r=o.u32("length"),n=o.struct([r,o.seq(t,o.offset(r,-r.span),"values")]);return new d(n,(t=>{let{values:e}=t;return e}),(t=>({values:t})),e)},e.tagged=function(t,e,r){const n=o.struct([l("tag"),e.replicate("data")]);return new d(n,(function(e){let{tag:r,data:n}=e;if(!r.eq(t))throw new Error("Invalid tag, expected: "+t.toString("hex")+", got: "+r.toString("hex"));return n}),(e=>({tag:t,data:e})),r)},e.vecU8=g,e.str=function(t){return new d(g(),(t=>t.toString("utf-8")),(t=>n.from(t,"utf-8")),t)},e.rustEnum=function(t,e,r){const n=o.union(null!==r&&void 0!==r?r:o.u8(),e);return t.forEach(((t,e)=>n.addVariant(e,t,t.property))),n},e.array=function(t,e,r){const n=o.struct([o.seq(t,e,"values")]);return new d(n,(t=>{let{values:e}=t;return e}),(t=>({values:t})),r)};class y extends o.Layout{constructor(t,e,r){super(t.span+e.span,r),this.keyLayout=t,this.valueLayout=e}decode(t,e){e=e||0;return[this.keyLayout.decode(t,e),this.valueLayout.decode(t,e+this.keyLayout.getSpan(t,e))]}encode(t,e,r){r=r||0;const n=this.keyLayout.encode(t[0],e,r);return n+this.valueLayout.encode(t[1],e,r+n)}getSpan(t,e){return this.keyLayout.getSpan(t,e)+this.valueLayout.getSpan(t,e)}}e.map=function(t,e,r){const n=o.u32("length"),i=o.struct([n,o.seq(new y(t,e),o.offset(n,-n.span),"values")]);return new d(i,(t=>{let{values:e}=t;return new Map(e)}),(t=>({values:Array.from(t.entries())})),r)}},44891:(t,e,r)=>{"use strict";e.be=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(92950),o=d(i),s=d(r(43091)),a=r(8227),c=d(r(75217)),u=d(r(59214)),l=d(r(25361));function d(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=0,y=0,m=0,b=0,w="data-lazyload-listened",_=[],v=[],k=!1;try{var S=Object.defineProperty({},"passive",{get:function(){k=!0}});window.addEventListener("test",null,S)}catch(B){}var A=!!k&&{capture:!1,passive:!0},E=function(t){var e=t.ref;if(e instanceof HTMLElement){var r=(0,c.default)(e),n=t.props.overflow&&r!==e.ownerDocument&&r!==document&&r!==document.documentElement?function(t,e){var r=t.ref,n=void 0,i=void 0,o=void 0,s=void 0;try{var a=e.getBoundingClientRect();n=a.top,i=a.left,o=a.height,s=a.width}catch(B){n=g,i=y,o=b,s=m}var c=window.innerHeight||document.documentElement.clientHeight,u=window.innerWidth||document.documentElement.clientWidth,l=Math.max(n,0),d=Math.max(i,0),h=Math.min(c,n+o)-l,f=Math.min(u,i+s)-d,p=void 0,w=void 0,_=void 0,v=void 0;try{var k=r.getBoundingClientRect();p=k.top,w=k.left,_=k.height,v=k.width}catch(B){p=g,w=y,_=b,v=m}var S=p-l,A=w-d,E=Array.isArray(t.props.offset)?t.props.offset:[t.props.offset,t.props.offset];return S-E[0]<=h&&S+_+E[1]>=0&&A-E[0]<=f&&A+v+E[1]>=0}(t,r):function(t){var e=t.ref;if(!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))return!1;var r=void 0,n=void 0;try{var i=e.getBoundingClientRect();r=i.top,n=i.height}catch(B){r=g,n=b}var o=window.innerHeight||document.documentElement.clientHeight,s=Array.isArray(t.props.offset)?t.props.offset:[t.props.offset,t.props.offset];return r-s[0]<=o&&r+n+s[1]>=0}(t);n?t.visible||(t.props.once&&v.push(t),t.visible=!0,t.forceUpdate()):t.props.once&&t.visible||(t.visible=!1,t.props.unmountIfInvisible&&t.forceUpdate())}},I=function(){v.forEach((function(t){var e=_.indexOf(t);-1!==e&&_.splice(e,1)})),v=[]},x=function(){for(var t=0;t<_.length;++t){var e=_[t];E(e)}I()},P=void 0,R=null,O=function(t){function e(t){h(this,e);var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.visible=!1,r.setRef=r.setRef.bind(r),r}return p(e,t),n(e,[{key:"componentDidMount",value:function(){var t=window,e=this.props.scrollContainer;e&&"string"===typeof e&&(t=t.document.querySelector(e));var r=void 0!==this.props.debounce&&"throttle"===P||"debounce"===P&&void 0===this.props.debounce;if(r&&((0,a.off)(t,"scroll",R,A),(0,a.off)(window,"resize",R,A),R=null),R||(void 0!==this.props.debounce?(R=(0,u.default)(x,"number"===typeof this.props.debounce?this.props.debounce:300),P="debounce"):void 0!==this.props.throttle?(R=(0,l.default)(x,"number"===typeof this.props.throttle?this.props.throttle:300),P="throttle"):R=x),this.props.overflow){var n=(0,c.default)(this.ref);if(n&&"function"===typeof n.getAttribute){var i=+n.getAttribute(w)+1;1===i&&n.addEventListener("scroll",R,A),n.setAttribute(w,i)}}else if(0===_.length||r){var o=this.props,s=o.scroll,d=o.resize;s&&(0,a.on)(t,"scroll",R,A),d&&(0,a.on)(window,"resize",R,A)}_.push(this),E(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var t=(0,c.default)(this.ref);if(t&&"function"===typeof t.getAttribute){var e=+t.getAttribute(w)-1;0===e?(t.removeEventListener("scroll",R,A),t.removeAttribute(w)):t.setAttribute(w,e)}}var r=_.indexOf(this);-1!==r&&_.splice(r,1),0===_.length&&"undefined"!==typeof window&&((0,a.off)(window,"resize",R,A),(0,a.off)(window,"scroll",R,A))}},{key:"setRef",value:function(t){t&&(this.ref=t)}},{key:"render",value:function(){var t=this.props,e=t.height,r=t.children,n=t.placeholder,i=t.className,s=t.classNamePrefix,a=t.style;return o.default.createElement("div",{className:s+"-wrapper "+i,ref:this.setRef,style:a},this.visible?r:n||o.default.createElement("div",{style:{height:e},className:s+"-placeholder"}))}}]),e}(i.Component);O.propTypes={className:s.default.string,classNamePrefix:s.default.string,once:s.default.bool,height:s.default.oneOfType([s.default.number,s.default.string]),offset:s.default.oneOfType([s.default.number,s.default.arrayOf(s.default.number)]),overflow:s.default.bool,resize:s.default.bool,scroll:s.default.bool,children:s.default.node,throttle:s.default.oneOfType([s.default.number,s.default.bool]),debounce:s.default.oneOfType([s.default.number,s.default.bool]),placeholder:s.default.node,scrollContainer:s.default.oneOfType([s.default.string,s.default.object]),unmountIfInvisible:s.default.bool,style:s.default.object},O.defaultProps={className:"",classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};var T=function(t){return t.displayName||t.name||"Component"};e.ZP=O,e.be=x},59214:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n=void 0,i=void 0,o=void 0,s=void 0,a=void 0,c=function c(){var u=+new Date-s;u<e&&u>=0?n=setTimeout(c,e-u):(n=null,r||(a=t.apply(o,i),n||(o=null,i=null)))};return function(){o=this,i=arguments,s=+new Date;var u=r&&!n;return n||(n=setTimeout(c,e)),u&&(a=t.apply(o,i),o=null,i=null),a}}},8227:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.on=function(t,e,r,n){n=n||!1,t.addEventListener?t.addEventListener(e,r,n):t.attachEvent&&t.attachEvent("on"+e,(function(e){r.call(t,e||window.event)}))},e.off=function(t,e,r,n){n=n||!1,t.removeEventListener?t.removeEventListener(e,r,n):t.detachEvent&&t.detachEvent("on"+e,r)}},75217:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!(t instanceof HTMLElement))return document.documentElement;for(var e="absolute"===t.style.position,r=/(scroll|auto|overlay)/,n=t;n;){if(!n.parentNode)return t.ownerDocument||document.documentElement;var i=window.getComputedStyle(n),o=i.position,s=i.overflow,a=i["overflow-x"],c=i["overflow-y"];if("static"===o&&e)n=n.parentNode;else{if(r.test(s)&&r.test(a)&&r.test(c))return n;n=n.parentNode}}return t.ownerDocument||t.documentElement||document.documentElement}},25361:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n,i;return e||(e=250),function(){var o=r||this,s=+new Date,a=arguments;n&&s<n+e?(clearTimeout(i),i=setTimeout((function(){n=s,t.apply(o,a)}),e)):(n=s,t.apply(o,a))}}},71256:(t,e,r)=>{"use strict";r.r(e),r.d(e,{Account:()=>Ge,Authorized:()=>xi,BLOCKHASH_CACHE_TIMEOUT_MS:()=>Yr,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Xe,BPF_LOADER_PROGRAM_ID:()=>Dr,BpfLoader:()=>Nr,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Lr,ComputeBudgetInstruction:()=>zr,ComputeBudgetProgram:()=>Ur,Connection:()=>ki,Ed25519Program:()=>Ei,Enum:()=>je,EpochSchedule:()=>Vr,FeeCalculatorLayout:()=>Ir,Keypair:()=>Si,LAMPORTS_PER_SOL:()=>to,Loader:()=>Mr,Lockup:()=>Pi,MAX_SEED_LENGTH:()=>He,Message:()=>nr,NONCE_ACCOUNT_LENGTH:()=>Pr,NonceAccount:()=>Rr,PACKET_DATA_SIZE:()=>Je,PublicKey:()=>qe,SIGNATURE_LENGTH_IN_BYTES:()=>Ye,SOLANA_SCHEMA:()=>Ke,STAKE_CONFIG_ID:()=>Ii,STAKE_INSTRUCTION_LAYOUTS:()=>Oi,SYSTEM_INSTRUCTION_LAYOUTS:()=>Tr,SYSVAR_CLOCK_PUBKEY:()=>cr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>ur,SYSVAR_INSTRUCTIONS_PUBKEY:()=>lr,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>dr,SYSVAR_RENT_PUBKEY:()=>hr,SYSVAR_REWARDS_PUBKEY:()=>fr,SYSVAR_SLOT_HASHES_PUBKEY:()=>pr,SYSVAR_SLOT_HISTORY_PUBKEY:()=>gr,SYSVAR_STAKE_HISTORY_PUBKEY:()=>yr,Secp256k1Program:()=>Ni,SendTransactionError:()=>Zr,StakeAuthorizationLayout:()=>Ti,StakeInstruction:()=>Ri,StakeProgram:()=>Bi,Struct:()=>Ue,SystemInstruction:()=>Or,SystemProgram:()=>Br,Transaction:()=>ar,TransactionInstruction:()=>sr,VALIDATOR_INFO_KEY:()=>zi,VOTE_PROGRAM_ID:()=>ji,ValidatorInfo:()=>Ui,VoteAccount:()=>Hi,VoteAuthorizationLayout:()=>Gi,VoteInit:()=>$i,VoteInstruction:()=>Vi,VoteProgram:()=>Xi,clusterApiUrl:()=>Qi,sendAndConfirmRawTransaction:()=>Ji,sendAndConfirmTransaction:()=>mr});var n=r(44967),i=r.n(n),o=r(97429),s=r(48744),a=r.n(s),c=r(68532),u=r.n(c),l=r(21215),d=r(25047),h=r(54338),f=r(85606),p=r(32908),g=r.n(p),y=r(91747),m=r.n(y),b=r(16348),w=r.n(b),_=r(97429).Buffer;const v=t=>o.Buffer.isBuffer(t)?t:t instanceof Uint8Array?o.Buffer.from(t.buffer,t.byteOffset,t.byteLength):o.Buffer.from(t);var k="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{};function S(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var A={},E={},I=x;function x(t,e){if(!t)throw new Error(e||"Assertion failed")}x.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var P={exports:{}};"function"===typeof Object.create?P.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:P.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var R=I,O=P.exports;function T(t,e){return 55296===(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320===(64512&t.charCodeAt(e+1)))}function B(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function C(t){return 1===t.length?"0"+t:t}function M(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}E.inherits=O,E.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"===typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):T(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},E.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=C(t[r].toString(16));return e},E.htonl=B,E.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=B(i)),r+=M(i.toString(16))}return r},E.zero2=C,E.zero8=M,E.join32=function(t,e,r,n){var i=r-e;R(i%4===0);for(var o=new Array(i/4),s=0,a=e;s<o.length;s++,a+=4){var c;c="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],o[s]=c>>>0}return o},E.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var o=t[n];"big"===e?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},E.rotr32=function(t,e){return t>>>e|t<<32-e},E.rotl32=function(t,e){return t<<e|t>>>32-e},E.sum32=function(t,e){return t+e>>>0},E.sum32_3=function(t,e,r){return t+e+r>>>0},E.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},E.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},E.sum64=function(t,e,r,n){var i=t[e],o=n+t[e+1]>>>0,s=(o<n?1:0)+r+i;t[e]=s>>>0,t[e+1]=o},E.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},E.sum64_lo=function(t,e,r,n){return e+n>>>0},E.sum64_4_hi=function(t,e,r,n,i,o,s,a){var c=0,u=e;return c+=(u=u+n>>>0)<e?1:0,c+=(u=u+o>>>0)<o?1:0,t+r+i+s+(c+=(u=u+a>>>0)<a?1:0)>>>0},E.sum64_4_lo=function(t,e,r,n,i,o,s,a){return e+n+o+a>>>0},E.sum64_5_hi=function(t,e,r,n,i,o,s,a,c,u){var l=0,d=e;return l+=(d=d+n>>>0)<e?1:0,l+=(d=d+o>>>0)<o?1:0,l+=(d=d+a>>>0)<a?1:0,t+r+i+s+c+(l+=(d=d+u>>>0)<u?1:0)>>>0},E.sum64_5_lo=function(t,e,r,n,i,o,s,a,c,u){return e+n+o+a+u>>>0},E.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},E.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},E.shr64_hi=function(t,e,r){return t>>>r},E.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var D={},N=E,z=I;function L(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}D.BlockHash=L,L.prototype.update=function(t,e){if(t=N.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=N.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},L.prototype.digest=function(t){return this.update(this._pad()),z(null===this.pending),this._digest(t)},L.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var U={},j={},K=E.rotr32;function H(t,e,r){return t&e^~t&r}function q(t,e,r){return t&e^t&r^e&r}function W(t,e,r){return t^e^r}j.ft_1=function(t,e,r,n){return 0===t?H(e,r,n):1===t||3===t?W(e,r,n):2===t?q(e,r,n):void 0},j.ch32=H,j.maj32=q,j.p32=W,j.s0_256=function(t){return K(t,2)^K(t,13)^K(t,22)},j.s1_256=function(t){return K(t,6)^K(t,11)^K(t,25)},j.g0_256=function(t){return K(t,7)^K(t,18)^t>>>3},j.g1_256=function(t){return K(t,17)^K(t,19)^t>>>10};var F=E,$=D,V=j,Z=F.rotl32,G=F.sum32,X=F.sum32_5,J=V.ft_1,Y=$.BlockHash,Q=[1518500249,1859775393,2400959708,3395469782];function tt(){if(!(this instanceof tt))return new tt;Y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}F.inherits(tt,Y);var et=tt;tt.blockSize=512,tt.outSize=160,tt.hmacStrength=80,tt.padLength=64,tt.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Z(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),l=X(Z(i,5),J(u,o,s,a),c,r[n],Q[u]);c=a,a=s,s=Z(o,30),o=i,i=l}this.h[0]=G(this.h[0],i),this.h[1]=G(this.h[1],o),this.h[2]=G(this.h[2],s),this.h[3]=G(this.h[3],a),this.h[4]=G(this.h[4],c)},tt.prototype._digest=function(t){return"hex"===t?F.toHex32(this.h,"big"):F.split32(this.h,"big")};var rt=E,nt=D,it=j,ot=I,st=rt.sum32,at=rt.sum32_4,ct=rt.sum32_5,ut=it.ch32,lt=it.maj32,dt=it.s0_256,ht=it.s1_256,ft=it.g0_256,pt=it.g1_256,gt=nt.BlockHash,yt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function mt(){if(!(this instanceof mt))return new mt;gt.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=yt,this.W=new Array(64)}rt.inherits(mt,gt);var bt=mt;mt.blockSize=512,mt.outSize=256,mt.hmacStrength=192,mt.padLength=64,mt.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=at(pt(r[n-2]),r[n-7],ft(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],u=this.h[5],l=this.h[6],d=this.h[7];for(ot(this.k.length===r.length),n=0;n<r.length;n++){var h=ct(d,ht(c),ut(c,u,l),this.k[n],r[n]),f=st(dt(i),lt(i,o,s));d=l,l=u,u=c,c=st(a,h),a=s,s=o,o=i,i=st(h,f)}this.h[0]=st(this.h[0],i),this.h[1]=st(this.h[1],o),this.h[2]=st(this.h[2],s),this.h[3]=st(this.h[3],a),this.h[4]=st(this.h[4],c),this.h[5]=st(this.h[5],u),this.h[6]=st(this.h[6],l),this.h[7]=st(this.h[7],d)},mt.prototype._digest=function(t){return"hex"===t?rt.toHex32(this.h,"big"):rt.split32(this.h,"big")};var wt=E,_t=bt;function vt(){if(!(this instanceof vt))return new vt;_t.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}wt.inherits(vt,_t);var kt=vt;vt.blockSize=512,vt.outSize=224,vt.hmacStrength=192,vt.padLength=64,vt.prototype._digest=function(t){return"hex"===t?wt.toHex32(this.h.slice(0,7),"big"):wt.split32(this.h.slice(0,7),"big")};var St=E,At=D,Et=I,It=St.rotr64_hi,xt=St.rotr64_lo,Pt=St.shr64_hi,Rt=St.shr64_lo,Ot=St.sum64,Tt=St.sum64_hi,Bt=St.sum64_lo,Ct=St.sum64_4_hi,Mt=St.sum64_4_lo,Dt=St.sum64_5_hi,Nt=St.sum64_5_lo,zt=At.BlockHash,Lt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ut(){if(!(this instanceof Ut))return new Ut;zt.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Lt,this.W=new Array(160)}St.inherits(Ut,zt);var jt=Ut;function Kt(t,e,r,n,i){var o=t&r^~t&i;return o<0&&(o+=4294967296),o}function Ht(t,e,r,n,i,o){var s=e&n^~e&o;return s<0&&(s+=4294967296),s}function qt(t,e,r,n,i){var o=t&r^t&i^r&i;return o<0&&(o+=4294967296),o}function Wt(t,e,r,n,i,o){var s=e&n^e&o^n&o;return s<0&&(s+=4294967296),s}function Ft(t,e){var r=It(t,e,28)^It(e,t,2)^It(e,t,7);return r<0&&(r+=4294967296),r}function $t(t,e){var r=xt(t,e,28)^xt(e,t,2)^xt(e,t,7);return r<0&&(r+=4294967296),r}function Vt(t,e){var r=It(t,e,14)^It(t,e,18)^It(e,t,9);return r<0&&(r+=4294967296),r}function Zt(t,e){var r=xt(t,e,14)^xt(t,e,18)^xt(e,t,9);return r<0&&(r+=4294967296),r}function Gt(t,e){var r=It(t,e,1)^It(t,e,8)^Pt(t,e,7);return r<0&&(r+=4294967296),r}function Xt(t,e){var r=xt(t,e,1)^xt(t,e,8)^Rt(t,e,7);return r<0&&(r+=4294967296),r}function Jt(t,e){var r=It(t,e,19)^It(e,t,29)^Pt(t,e,6);return r<0&&(r+=4294967296),r}function Yt(t,e){var r=xt(t,e,19)^xt(e,t,29)^Rt(t,e,6);return r<0&&(r+=4294967296),r}Ut.blockSize=1024,Ut.outSize=512,Ut.hmacStrength=192,Ut.padLength=128,Ut.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=Jt(r[n-4],r[n-3]),o=Yt(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],c=Gt(r[n-30],r[n-29]),u=Xt(r[n-30],r[n-29]),l=r[n-32],d=r[n-31];r[n]=Ct(i,o,s,a,c,u,l,d),r[n+1]=Mt(i,o,s,a,c,u,l,d)}},Ut.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],a=this.h[4],c=this.h[5],u=this.h[6],l=this.h[7],d=this.h[8],h=this.h[9],f=this.h[10],p=this.h[11],g=this.h[12],y=this.h[13],m=this.h[14],b=this.h[15];Et(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var _=m,v=b,k=Vt(d,h),S=Zt(d,h),A=Kt(d,h,f,p,g),E=Ht(d,h,f,p,g,y),I=this.k[w],x=this.k[w+1],P=r[w],R=r[w+1],O=Dt(_,v,k,S,A,E,I,x,P,R),T=Nt(_,v,k,S,A,E,I,x,P,R);_=Ft(n,i),v=$t(n,i),k=qt(n,i,o,s,a),S=Wt(n,i,o,s,a,c);var B=Tt(_,v,k,S),C=Bt(_,v,k,S);m=g,b=y,g=f,y=p,f=d,p=h,d=Tt(u,l,O,T),h=Bt(l,l,O,T),u=a,l=c,a=o,c=s,o=n,s=i,n=Tt(O,T,B,C),i=Bt(O,T,B,C)}Ot(this.h,0,n,i),Ot(this.h,2,o,s),Ot(this.h,4,a,c),Ot(this.h,6,u,l),Ot(this.h,8,d,h),Ot(this.h,10,f,p),Ot(this.h,12,g,y),Ot(this.h,14,m,b)},Ut.prototype._digest=function(t){return"hex"===t?St.toHex32(this.h,"big"):St.split32(this.h,"big")};var Qt=E,te=jt;function ee(){if(!(this instanceof ee))return new ee;te.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Qt.inherits(ee,te);var re=ee;ee.blockSize=1024,ee.outSize=384,ee.hmacStrength=192,ee.padLength=128,ee.prototype._digest=function(t){return"hex"===t?Qt.toHex32(this.h.slice(0,12),"big"):Qt.split32(this.h.slice(0,12),"big")},U.sha1=et,U.sha224=kt,U.sha256=bt,U.sha384=re,U.sha512=jt;var ne={},ie=E,oe=D,se=ie.rotl32,ae=ie.sum32,ce=ie.sum32_3,ue=ie.sum32_4,le=oe.BlockHash;function de(){if(!(this instanceof de))return new de;le.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function he(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function fe(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function pe(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}ie.inherits(de,le),ne.ripemd160=de,de.blockSize=512,de.outSize=160,de.hmacStrength=192,de.padLength=64,de.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],o=this.h[3],s=this.h[4],a=r,c=n,u=i,l=o,d=s,h=0;h<80;h++){var f=ae(se(ue(r,he(h,n,i,o),t[ge[h]+e],fe(h)),me[h]),s);r=s,s=o,o=se(i,10),i=n,n=f,f=ae(se(ue(a,he(79-h,c,u,l),t[ye[h]+e],pe(h)),be[h]),d),a=d,d=l,l=se(u,10),u=c,c=f}f=ce(this.h[1],i,l),this.h[1]=ce(this.h[2],o,d),this.h[2]=ce(this.h[3],s,a),this.h[3]=ce(this.h[4],r,c),this.h[4]=ce(this.h[0],n,u),this.h[0]=f},de.prototype._digest=function(t){return"hex"===t?ie.toHex32(this.h,"little"):ie.split32(this.h,"little")};var ge=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ye=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],me=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],be=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],we=E,_e=I;function ve(t,e,r){if(!(this instanceof ve))return new ve(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(we.toArray(e,r))}var ke=ve;ve.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),_e(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},ve.prototype.update=function(t,e){return this.inner.update(t,e),this},ve.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=E,e.common=D,e.sha=U,e.ripemd=ne,e.hmac=ke,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(A);var Se=A;let Ae=!1,Ee=!1;const Ie={debug:1,default:2,info:2,warning:3,error:4,off:5};let xe=Ie.default,Pe=null;const Re=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch(r){t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Oe,Te;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Oe||(Oe={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Te||(Te={}));const Be="0123456789abcdef";class Ce{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Ie[r]&&this.throwArgumentError("invalid log level name","logLevel",t),xe>Ie[r]||console.log.apply(console,e)}debug(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Ce.levels.DEBUG,e)}info(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Ce.levels.INFO,e)}warn(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];this._log(Ce.levels.WARNING,e)}makeError(t,e,r){if(Ee)return this.makeError("censored error",e,{});e||(e=Ce.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=Be[e[t]>>4],r+=Be[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch(s){n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let o="";switch(e){case Te.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Te.CALL_EXCEPTION:case Te.INSUFFICIENT_FUNDS:case Te.MISSING_NEW:case Te.NONCE_EXPIRED:case Te.REPLACEMENT_UNDERPRICED:case Te.TRANSACTION_REPLACED:case Te.UNPREDICTABLE_GAS_LIMIT:o=e}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const s=new Error(t);return s.reason=i,s.code=e,Object.keys(r).forEach((function(t){s[t]=r[t]})),s}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Ce.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){Re&&this.throwError("platform missing String.prototype.normalize",Ce.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Re})}checkSafeUint53(t,e){"number"===typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Ce.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Ce.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Ce.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Ce.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Ce.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Ce.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Ce.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Pe||(Pe=new Ce("logger/5.6.0")),Pe}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Ce.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ae){if(!t)return;this.globalLogger().throwError("error censorship permanent",Ce.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ee=!!t,Ae=!!e}static setLogLevel(t){const e=Ie[t.toLowerCase()];null!=e?xe=e:Ce.globalLogger().warn("invalid log level - "+t)}static from(t){return new Ce(t)}}Ce.errors=Te,Ce.levels=Oe;const Me=new Ce("bytes/5.6.0");function De(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return De(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Ne(t){return"number"===typeof t&&t==t&&t%1===0}function ze(t,e){if(e||(e={}),"number"===typeof t){Me.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),De(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"===typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t)&&(t=t.toHexString()),function(t,e){if("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))return!1;if(e&&t.length!==2+2*e)return!1;return!0}(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":Me.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return De(new Uint8Array(n))}return function(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"===typeof t)return!1;if(!Ne(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Ne(r)||r<0||r>=256)return!1}return!0}(t)?De(new Uint8Array(t)):Me.throwArgumentError("invalid arrayify value","value",t)}function Le(t){return"0x"+Se.sha256().update(ze(t)).digest("hex")}new Ce("sha2/5.6.0");class Ue{constructor(t){Object.assign(this,t)}encode(){return o.Buffer.from((0,l.serialize)(Ke,this))}static decode(t){return(0,l.deserialize)(Ke,this,t)}static decodeUnchecked(t){return(0,l.deserializeUnchecked)(Ke,this,t)}}class je extends Ue{constructor(t){if(super(t),this.enum="",1!==Object.keys(t).length)throw new Error("Enum can only take single value");Object.keys(t).map((t=>{this.enum=t}))}}const Ke=new Map,He=32;class qe extends Ue{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"===typeof t){const e=u().decode(t);if(32!=e.length)throw new Error("Invalid public key input");this._bn=new(a())(e)}else this._bn=new(a())(t);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(t){return this._bn.eq(t._bn)}toBase58(){return u().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const t=this._bn.toArrayLike(o.Buffer);if(32===t.length)return t;const e=o.Buffer.alloc(32);return t.copy(e,32-t.length),e}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const n=o.Buffer.concat([t.toBuffer(),o.Buffer.from(e),r.toBuffer()]),i=Le(new Uint8Array(n)).slice(2);return new qe(o.Buffer.from(i,"hex"))}static createProgramAddressSync(t,e){let r=o.Buffer.alloc(0);t.forEach((function(t){if(t.length>He)throw new TypeError("Max seed length exceeded");r=o.Buffer.concat([r,v(t)])})),r=o.Buffer.concat([r,e.toBuffer(),o.Buffer.from("ProgramDerivedAddress")]);let n=Le(new Uint8Array(r)).slice(2),i=new(a())(n,16).toArray(void 0,32);if(Fe(i))throw new Error("Invalid seeds, address must fall off the curve");return new qe(i)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let r,n=255;for(;0!=n;){try{const i=t.concat(o.Buffer.from([n]));r=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){return 1==Fe(new qe(t).toBytes())}}qe.default=new qe("11111111111111111111111111111111"),Ke.set(qe,{kind:"struct",fields:[["_bn","u256"]]});let We=i().lowlevel;function Fe(t){var e=[We.gf(),We.gf(),We.gf(),We.gf()],r=We.gf(),n=We.gf(),i=We.gf(),o=We.gf(),s=We.gf(),a=We.gf(),c=We.gf();return We.set25519(e[2],$e),We.unpack25519(e[1],t),We.S(i,e[1]),We.M(o,i,We.D),We.Z(i,i,e[2]),We.A(o,e[2],o),We.S(s,o),We.S(a,s),We.M(c,a,s),We.M(r,c,i),We.M(r,r,o),We.pow2523(r,r),We.M(r,r,i),We.M(r,r,o),We.M(r,r,o),We.M(e[0],r,o),We.S(n,e[0]),We.M(n,n,o),Ze(n,i)&&We.M(e[0],e[0],Ve),We.S(n,e[0]),We.M(n,n,o),Ze(n,i)?0:1}let $e=We.gf([1]),Ve=We.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Ze(t,e){var r=new Uint8Array(32),n=new Uint8Array(32);return We.pack25519(r,t),We.pack25519(n,e),We.crypto_verify_32(r,0,n,0)}class Ge{constructor(t){this._keypair=void 0,this._keypair=t?i().sign.keyPair.fromSecretKey(v(t)):i().sign.keyPair()}get publicKey(){return new qe(this._keypair.publicKey)}get secretKey(){return v(this._keypair.secretKey)}}const Xe=new qe("BPFLoader1111111111111111111111111111111111"),Je=1232,Ye=64,Qe=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return d.Ik(32,t)},tr=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const e=d.n_([d.Jq("length"),d.Jq("lengthPadding"),d.Ik(d.cv(d.Jq(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(t,e)=>r(t,e).chars.toString(),i.encode=(t,e,r)=>{const i={chars:o.Buffer.from(t,"utf8")};return n(i,e,r)},i.alloc=t=>d.Jq().span+d.Jq().span+o.Buffer.from(t,"utf8").length,i};function er(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(127&n)<<7*r,r+=1,0===(128&n))break}return e}function rr(t,e){let r=e;for(;;){let e=127&r;if(r>>=7,0==r){t.push(e);break}e|=128,t.push(e)}}class nr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new qe(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){return t<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||t>=this.header.numRequiredSignatures&&t<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];rr(e,t);const r=this.instructions.map((t=>{const{accounts:e,programIdIndex:r}=t,n=Array.from(u().decode(t.data));let i=[];rr(i,e.length);let s=[];return rr(s,n.length),{programIdIndex:r,keyIndicesCount:o.Buffer.from(i),keyIndices:e,dataLength:o.Buffer.from(s),data:n}}));let n=[];rr(n,r.length);let i=o.Buffer.alloc(Je);o.Buffer.from(n).copy(i);let s=n.length;r.forEach((t=>{const e=d.n_([d.u8("programIdIndex"),d.Ik(t.keyIndicesCount.length,"keyIndicesCount"),d.A9(d.u8("keyIndex"),t.keyIndices.length,"keyIndices"),d.Ik(t.dataLength.length,"dataLength"),d.A9(d.u8("userdatum"),t.data.length,"data")]).encode(t,i,s);s+=e})),i=i.slice(0,s);const a=d.n_([d.Ik(1,"numRequiredSignatures"),d.Ik(1,"numReadonlySignedAccounts"),d.Ik(1,"numReadonlyUnsignedAccounts"),d.Ik(e.length,"keyCount"),d.A9(Qe("key"),t,"keys"),Qe("recentBlockhash")]),c={numRequiredSignatures:o.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:o.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:o.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:o.Buffer.from(e),keys:this.accountKeys.map((t=>v(t.toBytes()))),recentBlockhash:u().decode(this.recentBlockhash)};let l=o.Buffer.alloc(2048);const h=a.encode(c,l);return i.copy(l,h),l.slice(0,h+i.length)}static from(t){let e=[...t];const r=e.shift(),n=e.shift(),i=e.shift(),s=er(e);let a=[];for(let f=0;f<s;f++){const t=e.slice(0,32);e=e.slice(32),a.push(u().encode(o.Buffer.from(t)))}const c=e.slice(0,32);e=e.slice(32);const l=er(e);let d=[];for(let f=0;f<l;f++){const t=e.shift(),r=er(e),n=e.slice(0,r);e=e.slice(r);const i=er(e),s=e.slice(0,i),a=u().encode(o.Buffer.from(s));e=e.slice(i),d.push({programIdIndex:t,accounts:n,data:a})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:u().encode(o.Buffer.from(c)),accountKeys:a,instructions:d};return new nr(h)}}function ir(t,e){if(!t)throw new Error(e||"Assertion failed")}const or=o.Buffer.alloc(Ye).fill(0);class sr{constructor(t){this.keys=void 0,this.programId=void 0,this.data=o.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((t=>{let{pubkey:e,isSigner:r,isWritable:n}=t;return{pubkey:e.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:[...this.data]}}}class ar{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,t&&Object.assign(this,t)}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signers:this.signatures.map((t=>{let{publicKey:e}=t;return e.toJSON()}))}}add(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw new Error("No instructions");return e.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new sr(t))})),this}compileMessage(){if(this._message){if(JSON.stringify(this.toJSON())!==JSON.stringify(this._json))throw new Error("Transaction message mutated after being populated from Message");return this._message}const{nonceInfo:t}=this;t&&this.instructions[0]!=t.nonceInstruction&&(this.recentBlockhash=t.nonce,this.instructions.unshift(t.nonceInstruction));const{recentBlockhash:e}=this;if(!e)throw new Error("Transaction recentBlockhash required");let r;if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let u=0;u<this.instructions.length;u++)if(void 0===this.instructions[u].programId)throw new Error(`Transaction instruction index ${u} has undefined program id`);const n=[],i=[];this.instructions.forEach((t=>{t.keys.forEach((t=>{i.push({...t})}));const e=t.programId.toString();n.includes(e)||n.push(e)})),n.forEach((t=>{i.push({pubkey:new qe(t),isSigner:!1,isWritable:!1})})),i.sort((function(t,e){const r=t.pubkey.toBase58().localeCompare(e.pubkey.toBase58()),n=t.isSigner===e.isSigner?0:t.isSigner?-1:1,i=t.isWritable===e.isWritable?r:t.isWritable?-1:1;return n||i}));const o=[];i.forEach((t=>{const e=t.pubkey.toString(),r=o.findIndex((t=>t.pubkey.toString()===e));r>-1?o[r].isWritable=o[r].isWritable||t.isWritable:o.push(t)}));const s=o.findIndex((t=>t.pubkey.equals(r)));if(s>-1){const[t]=o.splice(s,1);t.isSigner=!0,t.isWritable=!0,o.unshift(t)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const u of this.signatures){const t=o.findIndex((t=>t.pubkey.equals(u.publicKey)));if(!(t>-1))throw new Error(`unknown signer: ${u.publicKey.toString()}`);o[t].isSigner||(o[t].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,l=0;const d=[],h=[];o.forEach((t=>{let{pubkey:e,isSigner:r,isWritable:n}=t;r?(d.push(e.toString()),a+=1,n||(c+=1)):(h.push(e.toString()),n||(l+=1))}));const f=d.concat(h),p=this.instructions.map((t=>{const{data:e,programId:r}=t;return{programIdIndex:f.indexOf(r.toString()),accounts:t.keys.map((t=>f.indexOf(t.pubkey.toString()))),data:u().encode(e)}}));return p.forEach((t=>{ir(t.programIdIndex>=0),t.accounts.forEach((t=>ir(t>=0)))})),new nr({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:l},accountKeys:f,recentBlockhash:e,instructions:p})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){if(this.signatures.every(((t,r)=>e[r].equals(t.publicKey))))return t}return this.signatures=e.map((t=>({signature:null,publicKey:t}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw new Error("No signers");const n=new Set;this.signatures=e.filter((t=>{const e=t.toString();return!n.has(e)&&(n.add(e),!0)})).map((t=>({signature:null,publicKey:t})))}sign(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw new Error("No signers");const n=new Set,i=[];for(const s of e){const t=s.publicKey.toString();n.has(t)||(n.add(t),i.push(s))}this.signatures=i.map((t=>({signature:null,publicKey:t.publicKey})));const o=this._compile();this._partialSign(o,...i),this._verifySignatures(o.serialize(),!0)}partialSign(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(0===e.length)throw new Error("No signers");const n=new Set,i=[];for(const s of e){const t=s.publicKey.toString();n.has(t)||(n.add(t),i.push(s))}const o=this._compile();this._partialSign(o,...i)}_partialSign(t){const e=t.serialize();for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];n.forEach((t=>{const r=i().sign.detached(e,t.secretKey);this._addSignature(t.publicKey,v(r))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){ir(64===e.length);const r=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=o.Buffer.from(e)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(t,e){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(e)return!1}else if(!i().sign.detached.verify(t,r,n.toBuffer()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),n=this.serializeMessage();if(r&&!this._verifySignatures(n,e))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(t){const{signatures:e}=this,r=[];rr(r,e.length);const n=r.length+64*e.length+t.length,i=o.Buffer.alloc(n);return ir(e.length<256),o.Buffer.from(r).copy(i,0),e.forEach(((t,e)=>{let{signature:n}=t;null!==n&&(ir(64===n.length,"signature has invalid length"),o.Buffer.from(n).copy(i,r.length+64*e))})),t.copy(i,r.length+64*e.length),ir(i.length<=Je,`Transaction too large: ${i.length} > ${Je}`),i}get keys(){return ir(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return ir(1===this.instructions.length),this.instructions[0].programId}get data(){return ir(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const r=er(e);let n=[];for(let i=0;i<r;i++){const t=e.slice(0,Ye);e=e.slice(Ye),n.push(u().encode(o.Buffer.from(t)))}return ar.populate(nr.from(e),n)}static populate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new ar;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach(((e,n)=>{const i={signature:e==u().encode(or)?null:u().decode(e),publicKey:t.accountKeys[n]};r.signatures.push(i)})),t.instructions.forEach((e=>{const n=e.accounts.map((e=>{const n=t.accountKeys[e];return{pubkey:n,isSigner:r.signatures.some((t=>t.publicKey.toString()===n.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));r.instructions.push(new sr({keys:n,programId:t.accountKeys[e.programIdIndex],data:u().decode(e.data)}))})),r._message=t,r._json=r.toJSON(),r}}const cr=new qe("SysvarC1ock11111111111111111111111111111111"),ur=new qe("SysvarEpochSchedu1e111111111111111111111111"),lr=new qe("Sysvar1nstructions1111111111111111111111111"),dr=new qe("SysvarRecentB1ockHashes11111111111111111111"),hr=new qe("SysvarRent111111111111111111111111111111111"),fr=new qe("SysvarRewards111111111111111111111111111111"),pr=new qe("SysvarS1otHashes111111111111111111111111111"),gr=new qe("SysvarS1otHistory11111111111111111111111111"),yr=new qe("SysvarStakeHistory1111111111111111111111111");async function mr(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries},o=await t.sendTransaction(e,r,i),s=(await t.confirmTransaction(o,n&&n.commitment)).value;if(s.err)throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`);return o}function br(t){return new Promise((e=>setTimeout(e,t)))}var wr={};Object.defineProperty(wr,"__esModule",{value:!0});var _r=wr.toBigIntLE=function(t){{const e=_.from(t);e.reverse();const r=e.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}};wr.toBigIntBE=function(t){{const e=t.toString("hex");return 0===e.length?BigInt(0):BigInt(`0x${e}`)}};var vr=wr.toBufferLE=function(t,e){{const r=t.toString(16),n=_.from(r.padStart(2*e,"0").slice(0,2*e),"hex");return n.reverse(),n}};wr.toBufferBE=function(t,e){{const r=t.toString(16);return _.from(r.padStart(2*e,"0").slice(0,2*e),"hex")}};const kr=(Sr=8,t=>{const e=(0,d.Ik)(Sr,t),{encode:r,decode:n}=(t=>({decode:t.decode.bind(t),encode:t.encode.bind(t)}))(e),i=e;return i.decode=(t,e)=>{const r=n(t,e);return _r(_.from(r))},i.encode=(t,e,n)=>{const i=vr(t,Sr);return r(i,e,n)},i});var Sr;function Ar(t,e){const r=t.layout.span>=0?t.layout.span:function(t,e){let r=0;return t.layout.fields.forEach((t=>{t.span>=0?r+=t.span:"function"===typeof t.alloc&&(r+=t.alloc(e[t.property]))})),r}(t,e),n=o.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function Er(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const Ir=d._O("lamportsPerSignature"),xr=d.n_([d.Jq("version"),d.Jq("state"),Qe("authorizedPubkey"),Qe("nonce"),d.n_([Ir],"feeCalculator")]),Pr=xr.span;class Rr{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=xr.decode(v(t),0);return new Rr({authorizedPubkey:new qe(e.authorizedPubkey),nonce:new qe(e.nonce).toString(),feeCalculator:e.feeCalculator})}}class Or{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=d.Jq("instruction").decode(t.data);let r;for(const[n,i]of Object.entries(Tr))if(i.index==e){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e,space:r,programId:n}=Er(Tr.Create,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,lamports:e,space:r,programId:new qe(n)}}static decodeTransfer(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{lamports:e}=Er(Tr.Transfer,t.data);return{fromPubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,lamports:e}}static decodeTransferWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e,seed:r,programId:n}=Er(Tr.TransferWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,basePubkey:t.keys[1].pubkey,toPubkey:t.keys[2].pubkey,lamports:e,seed:r,programId:new qe(n)}}static decodeAllocate(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{space:e}=Er(Tr.Allocate,t.data);return{accountPubkey:t.keys[0].pubkey,space:e}}static decodeAllocateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:r,space:n,programId:i}=Er(Tr.AllocateWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new qe(e),seed:r,space:n,programId:new qe(i)}}static decodeAssign(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{programId:e}=Er(Tr.Assign,t.data);return{accountPubkey:t.keys[0].pubkey,programId:new qe(e)}}static decodeAssignWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,1);const{base:e,seed:r,programId:n}=Er(Tr.AssignWithSeed,t.data);return{accountPubkey:t.keys[0].pubkey,basePubkey:new qe(e),seed:r,programId:new qe(n)}}static decodeCreateWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{base:e,seed:r,lamports:n,space:i,programId:o}=Er(Tr.CreateWithSeed,t.data);return{fromPubkey:t.keys[0].pubkey,newAccountPubkey:t.keys[1].pubkey,basePubkey:new qe(e),seed:r,lamports:n,space:i,programId:new qe(o)}}static decodeNonceInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{authorized:e}=Er(Tr.InitializeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:new qe(e)}}static decodeNonceAdvance(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Er(Tr.AdvanceNonceAccount,t.data),{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static decodeNonceWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=Er(Tr.WithdrawNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e}}static decodeNonceAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e}=Er(Tr.AuthorizeNonceAccount,t.data);return{noncePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[1].pubkey,newAuthorizedPubkey:new qe(e)}}static checkProgramId(t){if(!t.equals(Br.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Tr=Object.freeze({Create:{index:0,layout:d.n_([d.Jq("instruction"),d.gM("lamports"),d.gM("space"),Qe("programId")])},Assign:{index:1,layout:d.n_([d.Jq("instruction"),Qe("programId")])},Transfer:{index:2,layout:d.n_([d.Jq("instruction"),kr("lamports")])},CreateWithSeed:{index:3,layout:d.n_([d.Jq("instruction"),Qe("base"),tr("seed"),d.gM("lamports"),d.gM("space"),Qe("programId")])},AdvanceNonceAccount:{index:4,layout:d.n_([d.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},InitializeNonceAccount:{index:6,layout:d.n_([d.Jq("instruction"),Qe("authorized")])},AuthorizeNonceAccount:{index:7,layout:d.n_([d.Jq("instruction"),Qe("authorized")])},Allocate:{index:8,layout:d.n_([d.Jq("instruction"),d.gM("space")])},AllocateWithSeed:{index:9,layout:d.n_([d.Jq("instruction"),Qe("base"),tr("seed"),d.gM("space"),Qe("programId")])},AssignWithSeed:{index:10,layout:d.n_([d.Jq("instruction"),Qe("base"),tr("seed"),Qe("programId")])},TransferWithSeed:{index:11,layout:d.n_([d.Jq("instruction"),kr("lamports"),tr("seed"),Qe("programId")])}});class Br{constructor(){}static createAccount(t){const e=Ar(Tr.Create,{lamports:t.lamports,space:t.space,programId:v(t.programId.toBuffer())});return new sr({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:e})}static transfer(t){let e,r;if("basePubkey"in t){e=Ar(Tr.TransferWithSeed,{lamports:BigInt(t.lamports),seed:t.seed,programId:v(t.programId.toBuffer())}),r=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{e=Ar(Tr.Transfer,{lamports:BigInt(t.lamports)}),r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new sr({keys:r,programId:this.programId,data:e})}static assign(t){let e,r;if("basePubkey"in t){e=Ar(Tr.AssignWithSeed,{base:v(t.basePubkey.toBuffer()),seed:t.seed,programId:v(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{e=Ar(Tr.Assign,{programId:v(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new sr({keys:r,programId:this.programId,data:e})}static createAccountWithSeed(t){const e=Ar(Tr.CreateWithSeed,{base:v(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:v(t.programId.toBuffer())});let r=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&r.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new sr({keys:r,programId:this.programId,data:e})}static createNonceAccount(t){const e=new ar;"basePubkey"in t&&"seed"in t?e.add(Br.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:Pr,programId:this.programId})):e.add(Br.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:Pr,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){const e=Ar(Tr.InitializeNonceAccount,{authorized:v(t.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1}],programId:this.programId,data:e};return new sr(r)}static nonceAdvance(t){const e=Ar(Tr.AdvanceNonceAccount),r={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e};return new sr(r)}static nonceWithdraw(t){const e=Ar(Tr.WithdrawNonceAccount,{lamports:t.lamports});return new sr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static nonceAuthorize(t){const e=Ar(Tr.AuthorizeNonceAccount,{authorized:v(t.newAuthorizedPubkey.toBuffer())});return new sr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:e})}static allocate(t){let e,r;if("basePubkey"in t){e=Ar(Tr.AllocateWithSeed,{base:v(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:v(t.programId.toBuffer())}),r=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{e=Ar(Tr.Allocate,{space:t.space}),r=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new sr({keys:r,programId:this.programId,data:e})}}Br.programId=new qe("11111111111111111111111111111111");const Cr=Je-300;class Mr{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/Mr.chunkSize)+1+1)}static async load(t,e,r,n,i){{const o=await t.getMinimumBalanceForRentExemption(i.length),s=await t.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new ar,a.add(Br.allocate({accountPubkey:r.publicKey,space:i.length}))),s.owner.equals(n)||(a=a||new ar,a.add(Br.assign({accountPubkey:r.publicKey,programId:n}))),s.lamports<o&&(a=a||new ar,a.add(Br.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:o-s.lamports})))}else a=(new ar).add(Br.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:o>0?o:1,space:i.length,programId:n}));null!==a&&await mr(t,a,[e,r],{commitment:"confirmed"})}const s=d.n_([d.Jq("instruction"),d.Jq("offset"),d.Jq("bytesLength"),d.Jq("bytesLengthPadding"),d.A9(d.u8("byte"),d.cv(d.Jq(),-8),"bytes")]),a=Mr.chunkSize;let c=0,u=i,l=[];for(;u.length>0;){const i=u.slice(0,a),d=o.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:i,bytesLength:0,bytesLengthPadding:0},d);const h=(new ar).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:d});if(l.push(mr(t,h,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await br(1e3/t)}c+=a,u=u.slice(a)}await Promise.all(l);{const i=d.n_([d.Jq("instruction")]),s=o.Buffer.alloc(i.span);i.encode({instruction:1},s);const a=(new ar).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1}],programId:n,data:s});await mr(t,a,[e,r],{commitment:"confirmed"})}return!0}}Mr.chunkSize=Cr;const Dr=new qe("BPFLoader2111111111111111111111111111111111");class Nr{static getMinNumSignatures(t){return Mr.getMinNumSignatures(t)}static load(t,e,r,n,i){return Mr.load(t,e,r,i,n)}}class zr{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=d.u8("instruction").decode(t.data);let r;for(const[n,i]of Object.entries(Lr))if(i.index==e){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return r}static decodeRequestUnits(t){this.checkProgramId(t.programId);const{units:e,additionalFee:r}=Er(Lr.RequestUnits,t.data);return{units:e,additionalFee:r}}static decodeRequestHeapFrame(t){this.checkProgramId(t.programId);const{bytes:e}=Er(Lr.RequestHeapFrame,t.data);return{bytes:e}}static checkProgramId(t){if(!t.equals(Ur.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Lr=Object.freeze({RequestUnits:{index:0,layout:d.n_([d.u8("instruction"),d.Jq("units"),d.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:d.n_([d.u8("instruction"),d.Jq("bytes")])}});class Ur{constructor(){}static requestUnits(t){const e=Ar(Lr.RequestUnits,t);return new sr({keys:[],programId:this.programId,data:e})}static requestHeapFrame(t){const e=Ar(Lr.RequestHeapFrame,t);return new sr({keys:[],programId:this.programId,data:e})}}Ur.programId=new qe("ComputeBudget111111111111111111111111111111");var jr={exports:{}};!function(t,e){var r="undefined"!==typeof self?self:k,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),o="FormData"in t,s="ArrayBuffer"in t;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function l(t){return"string"!==typeof t&&(t=String(t)),t}function d(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function f(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function y(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"===typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:o&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():s&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=y(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(t)||c(t))?this._bodyArrayBuffer=y(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t=f(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,r=p(e);return e.readAsText(t),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(_)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=u(t),e=l(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},h.prototype.delete=function(t){delete this.map[u(t)]},h.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},h.prototype.set=function(t,e){this.map[u(t)]=l(e)},h.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),d(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),d(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),d(t)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(t,e){var r=(e=e||{}).body;if(t instanceof w){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=function(t){var e=t.toUpperCase();return b.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function _(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function v(t){var e=new h;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e}function k(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},m.call(w.prototype),m.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},k.error=function(){var t=new k(null,{status:0,statusText:""});return t.type="error",t};var S=[301,302,303,307,308];k.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new k(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(E){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function A(t,r){return new Promise((function(n,o){var s=new w(t,r);if(s.signal&&s.signal.aborted)return o(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:v(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;n(new k(e,t))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new e.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}A.polyfill=!0,t.fetch||(t.fetch=A,t.Headers=h,t.Request=w,t.Response=k),e.Headers=h,e.Request=w,e.Response=k,e.fetch=A,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(jr,jr.exports);var Kr=S(jr.exports),Hr=Object.prototype.toString,qr=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};function Wr(t,e){var r,n,i,o,s,a,c;if(!0===t)return"true";if(!1===t)return"false";switch(typeof t){case"object":if(null===t)return null;if(t.toJSON&&"function"===typeof t.toJSON)return Wr(t.toJSON(),e);if("[object Array]"===(c=Hr.call(t))){for(i="[",n=t.length-1,r=0;r<n;r++)i+=Wr(t[r],!0)+",";return n>-1&&(i+=Wr(t[r],!0)),i+"]"}if("[object Object]"===c){for(n=(o=qr(t).sort()).length,i="",r=0;r<n;)void 0!==(a=Wr(t[s=o[r]],!1))&&(i&&(i+=","),i+=JSON.stringify(s)+":"+a),r++;return"{"+i+"}"}return JSON.stringify(t);case"function":case"undefined":return e?null:void 0;case"string":return JSON.stringify(t);default:return isFinite(t)?t:null}}var Fr=function(t){var e=Wr(t,!1);if(void 0!==e)return""+e};function $r(t){let e=0;for(;t>1;)t/=2,e++;return e}class Vr{constructor(t,e,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const r=$r(0===(e=t+32+1)?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32)))-$r(32)-1;return[r,t-(this.getSlotsInEpoch(r)-32)]}{const e=t-this.firstNormalSlot,r=Math.floor(e/this.slotsPerEpoch);return[this.firstNormalEpoch+r,e%this.slotsPerEpoch]}var e}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?32*(Math.pow(2,t)-1):(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+$r(32)):this.slotsPerEpoch}}class Zr extends Error{constructor(t,e){super(t),this.logs=void 0,this.logs=e}}const Gr=(0,h.oQ)((0,h.eE)(qe),(0,h.Z_)(),(t=>new qe(t))),Xr=(0,h.bc)([(0,h.Z_)(),(0,h.i0)("base64")]),Jr=(0,h.oQ)((0,h.eE)(o.Buffer),Xr,(t=>o.Buffer.from(t[0],"base64"))),Yr=3e4;function Qr(t){return(0,h.G0)([(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),result:t}),(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),error:(0,h.dt)({code:(0,h._4)(),message:(0,h.Z_)(),data:(0,h.jt)((0,h.Yj)())})})])}const tn=Qr((0,h._4)());function en(t){return(0,h.oQ)(Qr(t),tn,(e=>"error"in e?e:{...e,result:(0,h.Ue)(e.result,t)}))}function rn(t){return en((0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:t}))}function nn(t){return(0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:t})}const on=(0,h.dt)({foundation:(0,h.Rx)(),foundationTerm:(0,h.Rx)(),initial:(0,h.Rx)(),taper:(0,h.Rx)(),terminal:(0,h.Rx)()}),sn=en((0,h.IX)((0,h.AG)((0,h.dt)({epoch:(0,h.Rx)(),effectiveSlot:(0,h.Rx)(),amount:(0,h.Rx)(),postBalance:(0,h.Rx)()})))),an=(0,h.dt)({epoch:(0,h.Rx)(),slotIndex:(0,h.Rx)(),slotsInEpoch:(0,h.Rx)(),absoluteSlot:(0,h.Rx)(),blockHeight:(0,h.jt)((0,h.Rx)()),transactionCount:(0,h.jt)((0,h.Rx)())}),cn=(0,h.dt)({slotsPerEpoch:(0,h.Rx)(),leaderScheduleSlotOffset:(0,h.Rx)(),warmup:(0,h.O7)(),firstNormalEpoch:(0,h.Rx)(),firstNormalSlot:(0,h.Rx)()}),un=(0,h.IM)((0,h.Z_)(),(0,h.IX)((0,h.Rx)())),ln=(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),dn=(0,h.dt)({err:ln}),hn=(0,h.i0)("receivedSignature"),fn=(0,h.dt)({"solana-core":(0,h.Z_)(),"feature-set":(0,h.jt)((0,h.Rx)())}),pn=rn((0,h.dt)({err:(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),logs:(0,h.AG)((0,h.IX)((0,h.Z_)())),accounts:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.AG)((0,h.dt)({executable:(0,h.O7)(),owner:(0,h.Z_)(),lamports:(0,h.Rx)(),data:(0,h.IX)((0,h.Z_)()),rentEpoch:(0,h.jt)((0,h.Rx)())}))))),unitsConsumed:(0,h.jt)((0,h.Rx)())})),gn=rn((0,h.dt)({byIdentity:(0,h.IM)((0,h.Z_)(),(0,h.IX)((0,h.Rx)())),range:(0,h.dt)({firstSlot:(0,h.Rx)(),lastSlot:(0,h.Rx)()})}));const yn=en(on),mn=en(an),bn=en(cn),wn=en(un),_n=en((0,h.Rx)()),vn=rn((0,h.dt)({total:(0,h.Rx)(),circulating:(0,h.Rx)(),nonCirculating:(0,h.Rx)(),nonCirculatingAccounts:(0,h.IX)(Gr)})),kn=(0,h.dt)({amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}),Sn=rn((0,h.IX)((0,h.dt)({address:Gr,amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}))),An=rn((0,h.IX)((0,h.dt)({pubkey:Gr,account:(0,h.dt)({executable:(0,h.O7)(),owner:Gr,lamports:(0,h.Rx)(),data:Jr,rentEpoch:(0,h.Rx)()})}))),En=(0,h.dt)({program:(0,h.Z_)(),parsed:(0,h._4)(),space:(0,h.Rx)()}),In=rn((0,h.IX)((0,h.dt)({pubkey:Gr,account:(0,h.dt)({executable:(0,h.O7)(),owner:Gr,lamports:(0,h.Rx)(),data:En,rentEpoch:(0,h.Rx)()})}))),xn=rn((0,h.IX)((0,h.dt)({lamports:(0,h.Rx)(),address:Gr}))),Pn=(0,h.dt)({executable:(0,h.O7)(),owner:Gr,lamports:(0,h.Rx)(),data:Jr,rentEpoch:(0,h.Rx)()}),Rn=(0,h.dt)({pubkey:Gr,account:Pn}),On=(0,h.oQ)((0,h.G0)([(0,h.eE)(o.Buffer),En]),(0,h.G0)([Xr,En]),(t=>Array.isArray(t)?(0,h.Ue)(t,Jr):t)),Tn=(0,h.dt)({executable:(0,h.O7)(),owner:Gr,lamports:(0,h.Rx)(),data:On,rentEpoch:(0,h.Rx)()}),Bn=(0,h.dt)({pubkey:Gr,account:Tn}),Cn=(0,h.dt)({state:(0,h.G0)([(0,h.i0)("active"),(0,h.i0)("inactive"),(0,h.i0)("activating"),(0,h.i0)("deactivating")]),active:(0,h.Rx)(),inactive:(0,h.Rx)()}),Mn=en((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:ln,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),Dn=en((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:ln,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),Nn=(0,h.dt)({subscription:(0,h.Rx)(),result:nn(Pn)}),zn=(0,h.dt)({pubkey:Gr,account:Pn}),Ln=(0,h.dt)({subscription:(0,h.Rx)(),result:nn(zn)}),Un=(0,h.dt)({parent:(0,h.Rx)(),slot:(0,h.Rx)(),root:(0,h.Rx)()}),jn=(0,h.dt)({subscription:(0,h.Rx)(),result:Un}),Kn=(0,h.G0)([(0,h.dt)({type:(0,h.G0)([(0,h.i0)("firstShredReceived"),(0,h.i0)("completed"),(0,h.i0)("optimisticConfirmation"),(0,h.i0)("root")]),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("createdBank"),parent:(0,h.Rx)(),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("frozen"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),stats:(0,h.dt)({numTransactionEntries:(0,h.Rx)(),numSuccessfulTransactions:(0,h.Rx)(),numFailedTransactions:(0,h.Rx)(),maxTransactionsPerEntry:(0,h.Rx)()})}),(0,h.dt)({type:(0,h.i0)("dead"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),err:(0,h.Z_)()})]),Hn=(0,h.dt)({subscription:(0,h.Rx)(),result:Kn}),qn=(0,h.dt)({subscription:(0,h.Rx)(),result:nn((0,h.G0)([dn,hn]))}),Wn=(0,h.dt)({subscription:(0,h.Rx)(),result:(0,h.Rx)()}),Fn=(0,h.dt)({pubkey:(0,h.Z_)(),gossip:(0,h.AG)((0,h.Z_)()),tpu:(0,h.AG)((0,h.Z_)()),rpc:(0,h.AG)((0,h.Z_)()),version:(0,h.AG)((0,h.Z_)())}),$n=(0,h.dt)({votePubkey:(0,h.Z_)(),nodePubkey:(0,h.Z_)(),activatedStake:(0,h.Rx)(),epochVoteAccount:(0,h.O7)(),epochCredits:(0,h.IX)((0,h.bc)([(0,h.Rx)(),(0,h.Rx)(),(0,h.Rx)()])),commission:(0,h.Rx)(),lastVote:(0,h.Rx)(),rootSlot:(0,h.AG)((0,h.Rx)())}),Vn=en((0,h.dt)({current:(0,h.IX)($n),delinquent:(0,h.IX)($n)})),Zn=(0,h.G0)([(0,h.i0)("processed"),(0,h.i0)("confirmed"),(0,h.i0)("finalized")]),Gn=(0,h.dt)({slot:(0,h.Rx)(),confirmations:(0,h.AG)((0,h.Rx)()),err:ln,confirmationStatus:(0,h.jt)(Zn)}),Xn=rn((0,h.IX)((0,h.AG)(Gn))),Jn=en((0,h.Rx)()),Yn=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.Z_)()),header:(0,h.dt)({numRequiredSignatures:(0,h.Rx)(),numReadonlySignedAccounts:(0,h.Rx)(),numReadonlyUnsignedAccounts:(0,h.Rx)()}),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()})),recentBlockhash:(0,h.Z_)()})}),Qn=(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:Gr}),ti=(0,h.dt)({accounts:(0,h.IX)(Gr),data:(0,h.Z_)(),programId:Gr}),ei=(0,h.G0)([ti,Qn]),ri=(0,h.G0)([(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:(0,h.Z_)()}),(0,h.dt)({accounts:(0,h.IX)((0,h.Z_)()),data:(0,h.Z_)(),programId:(0,h.Z_)()})]),ni=(0,h.oQ)(ei,ri,(t=>"accounts"in t?(0,h.Ue)(t,ti):(0,h.Ue)(t,Qn))),ii=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.dt)({pubkey:Gr,signer:(0,h.O7)(),writable:(0,h.O7)()})),instructions:(0,h.IX)(ni),recentBlockhash:(0,h.Z_)()})}),oi=(0,h.dt)({accountIndex:(0,h.Rx)(),mint:(0,h.Z_)(),owner:(0,h.jt)((0,h.Z_)()),uiTokenAmount:kn}),si=(0,h.dt)({err:ln,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()}))})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(oi))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(oi)))}),ai=(0,h.dt)({err:ln,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)(ni)})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(oi))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(oi)))}),ci=en((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:Yn,meta:(0,h.AG)(si)})),rewards:(0,h.jt)((0,h.IX)((0,h.dt)({pubkey:(0,h.Z_)(),lamports:(0,h.Rx)(),postBalance:(0,h.AG)((0,h.Rx)()),rewardType:(0,h.AG)((0,h.Z_)())}))),blockTime:(0,h.AG)((0,h.Rx)()),blockHeight:(0,h.AG)((0,h.Rx)())}))),ui=en((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:Yn,meta:(0,h.AG)(si)})),rewards:(0,h.jt)((0,h.IX)((0,h.dt)({pubkey:(0,h.Z_)(),lamports:(0,h.Rx)(),postBalance:(0,h.AG)((0,h.Rx)()),rewardType:(0,h.AG)((0,h.Z_)())}))),blockTime:(0,h.AG)((0,h.Rx)())}))),li=en((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),signatures:(0,h.IX)((0,h.Z_)()),blockTime:(0,h.AG)((0,h.Rx)())}))),di=en((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),meta:si,blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)())),transaction:Yn}))),hi=en((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),transaction:ii,meta:(0,h.AG)(ai),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),fi=rn((0,h.dt)({blockhash:(0,h.Z_)(),feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})})),pi=rn((0,h.dt)({blockhash:(0,h.Z_)(),lastValidBlockHeight:(0,h.Rx)()})),gi=(0,h.dt)({slot:(0,h.Rx)(),numTransactions:(0,h.Rx)(),numSlots:(0,h.Rx)(),samplePeriodSecs:(0,h.Rx)()}),yi=en((0,h.IX)(gi)),mi=rn((0,h.AG)((0,h.dt)({feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})}))),bi=en((0,h.Z_)()),wi=en((0,h.Z_)()),_i=(0,h.dt)({err:ln,logs:(0,h.IX)((0,h.Z_)()),signature:(0,h.Z_)()}),vi=(0,h.dt)({result:nn(_i),subscription:(0,h.Rx)()});class ki{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={recentBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let r=new URL(t);r.protocol;let n,i,o,s,a;var c;e&&"string"===typeof e?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,i=e.httpHeaders,o=e.fetch,s=e.fetchMiddleware,a=e.disableRetryOnRateLimit),this._rpcEndpoint=t,this._rpcWsEndpoint=n||function(t){let e=new URL(t);const r="https:"===e.protocol;return e.protocol=r?"wss:":"ws:",e.host="",""!==e.port&&(e.port=String(Number(e.port)+1)),e.toString()}(t),this._rpcClient=function(t,e,r,n,i,o){const s=n||Kr;let a;return i&&(a=async(t,e)=>{const r=await new Promise(((r,n)=>{try{i(t,e,((t,e)=>r([t,e])))}catch(o){n(o)}}));return await s(...r)}),new(g())((async(e,n)=>{const i={method:"POST",body:e,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{})};try{let e,r=5,c=500;for(;e=a?await a(t,i):await s(t,i),429===e.status&&!0!==o&&(r-=1,0!==r);)console.log(`Server responded with ${e.status} ${e.statusText}.  Retrying after ${c}ms delay...`),await br(c),c*=2;const u=await e.text();e.ok?n(null,u):n(new Error(`${e.status} ${e.statusText}: ${u}`))}catch(c){c instanceof Error&&n(c)}}),{})}(r.toString(),0,i,o,s,a),this._rpcRequest=(c=this._rpcClient,(t,e)=>new Promise(((r,n)=>{c.request(t,e,((t,e)=>{t?n(t):r(e)}))}))),this._rpcBatchRequest=function(t){return e=>new Promise(((r,n)=>{0===e.length&&r([]);const i=e.map((e=>t.request(e.methodName,e.args)));t.request(i,((t,e)=>{t?n(t):r(e)}))}))}(this._rpcClient),this._rpcWebSocket=new f.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const r=this._buildArgs([t.toBase58()],e),n=await this._rpcRequest("getBalance",r),i=(0,h.Ue)(n,rn((0,h.Rx)()));if("error"in i)throw new Error("failed to get balance for "+t.toBase58()+": "+i.error.message);return i.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+e)}))}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),r=(0,h.Ue)(e,en((0,h.AG)((0,h.Rx)())));if("error"in r)throw new Error("failed to get block time for slot "+t+": "+r.error.message);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=(0,h.Ue)(t,en((0,h.Rx)()));if("error"in e)throw new Error("failed to get minimum ledger slot: "+e.error.message);return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=(0,h.Ue)(t,_n);if("error"in e)throw new Error("failed to get first available block: "+e.error.message);return e.result}async getSupply(t){let e={};e="string"===typeof t?{commitment:t}:t?{...t,commitment:t&&t.commitment||this.commitment}:{commitment:this.commitment};const r=await this._rpcRequest("getSupply",[e]),n=(0,h.Ue)(r,vn);if("error"in n)throw new Error("failed to get supply: "+n.error.message);return n.result}async getTokenSupply(t,e){const r=this._buildArgs([t.toBase58()],e),n=await this._rpcRequest("getTokenSupply",r),i=(0,h.Ue)(n,rn(kn));if("error"in i)throw new Error("failed to get token supply: "+i.error.message);return i.result}async getTokenAccountBalance(t,e){const r=this._buildArgs([t.toBase58()],e),n=await this._rpcRequest("getTokenAccountBalance",r),i=(0,h.Ue)(n,rn(kn));if("error"in i)throw new Error("failed to get token account balance: "+i.error.message);return i.result}async getTokenAccountsByOwner(t,e,r){let n=[t.toBase58()];"mint"in e?n.push({mint:e.mint.toBase58()}):n.push({programId:e.programId.toBase58()});const i=this._buildArgs(n,r,"base64"),o=await this._rpcRequest("getTokenAccountsByOwner",i),s=(0,h.Ue)(o,An);if("error"in s)throw new Error("failed to get token accounts owned by account "+t.toBase58()+": "+s.error.message);return s.result}async getParsedTokenAccountsByOwner(t,e,r){let n=[t.toBase58()];"mint"in e?n.push({mint:e.mint.toBase58()}):n.push({programId:e.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),s=(0,h.Ue)(o,In);if("error"in s)throw new Error("failed to get token accounts owned by account "+t.toBase58()+": "+s.error.message);return s.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},r=e.filter||e.commitment?[e]:[],n=await this._rpcRequest("getLargestAccounts",r),i=(0,h.Ue)(n,xn);if("error"in i)throw new Error("failed to get largest accounts: "+i.error.message);return i.result}async getTokenLargestAccounts(t,e){const r=this._buildArgs([t.toBase58()],e),n=await this._rpcRequest("getTokenLargestAccounts",r),i=(0,h.Ue)(n,Sn);if("error"in i)throw new Error("failed to get token largest accounts: "+i.error.message);return i.result}async getAccountInfoAndContext(t,e){const r=this._buildArgs([t.toBase58()],e,"base64"),n=await this._rpcRequest("getAccountInfo",r),i=(0,h.Ue)(n,rn((0,h.AG)(Pn)));if("error"in i)throw new Error("failed to get info about account "+t.toBase58()+": "+i.error.message);return i.result}async getParsedAccountInfo(t,e){const r=this._buildArgs([t.toBase58()],e,"jsonParsed"),n=await this._rpcRequest("getAccountInfo",r),i=(0,h.Ue)(n,rn((0,h.AG)(Tn)));if("error"in i)throw new Error("failed to get info about account "+t.toBase58()+": "+i.error.message);return i.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleAccountsInfoAndContext(t,e){const r=t.map((t=>t.toBase58())),n=this._buildArgs([r],e,"base64"),i=await this._rpcRequest("getMultipleAccounts",n),o=(0,h.Ue)(i,rn((0,h.IX)((0,h.AG)(Pn))));if("error"in o)throw new Error("failed to get info for accounts "+r+": "+o.error.message);return o.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,r){const n=this._buildArgs([t.toBase58()],e,void 0,void 0!==r?{epoch:r}:void 0),i=await this._rpcRequest("getStakeActivation",n),o=(0,h.Ue)(i,en(Cn));if("error"in o)throw new Error(`failed to get Stake Activation ${t.toBase58()}: ${o.error.message}`);return o.result}async getProgramAccounts(t,e){const r={};let n,i;e&&("string"===typeof e?n=e:(n=e.commitment,i=e.encoding,e.dataSlice&&(r.dataSlice=e.dataSlice),e.filters&&(r.filters=e.filters)));const o=this._buildArgs([t.toBase58()],n,i||"base64",r),s=await this._rpcRequest("getProgramAccounts",o),a=(0,h.Ue)(s,en((0,h.IX)(Rn)));if("error"in a)throw new Error("failed to get accounts owned by program "+t.toBase58()+": "+a.error.message);return a.result}async getParsedProgramAccounts(t,e){const r={};let n;e&&("string"===typeof e?n=e:(n=e.commitment,e.filters&&(r.filters=e.filters)));const i=this._buildArgs([t.toBase58()],n,"jsonParsed",r),o=await this._rpcRequest("getProgramAccounts",i),s=(0,h.Ue)(o,en((0,h.IX)(Bn)));if("error"in s)throw new Error("failed to get accounts owned by program "+t.toBase58()+": "+s.error.message);return s.result}async confirmTransaction(t,e){let r;try{r=u().decode(t)}catch(l){throw new Error("signature must be base58 encoded: "+t)}ir(64===r.length,"signature has invalid length");const n=Date.now(),i=e||this.commitment;let o,s=null;const a=new Promise(((e,r)=>{try{o=this.onSignature(t,((t,r)=>{o=void 0,s={context:r,value:t},e(null)}),i)}catch(l){r(l)}}));let c=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":c=this._confirmTransactionInitialTimeout||3e4}try{await function(t,e){let r;const n=new Promise((t=>{r=setTimeout((()=>t(null)),e)}));return Promise.race([t,n]).then((t=>(clearTimeout(r),t)))}(a,c)}finally{o&&this.removeSignatureListener(o)}if(null===s){const e=(Date.now()-n)/1e3;throw new Error(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`)}return s}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=(0,h.Ue)(t,en((0,h.IX)(Fn)));if("error"in e)throw new Error("failed to get cluster nodes: "+e.error.message);return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",e),n=(0,h.Ue)(r,Vn);if("error"in n)throw new Error("failed to get vote accounts: "+n.error.message);return n.result}async getSlot(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getSlot",e),n=(0,h.Ue)(r,en((0,h.Rx)()));if("error"in n)throw new Error("failed to get slot: "+n.error.message);return n.result}async getSlotLeader(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getSlotLeader",e),n=(0,h.Ue)(r,en((0,h.Z_)()));if("error"in n)throw new Error("failed to get slot leader: "+n.error.message);return n.result}async getSlotLeaders(t,e){const r=[t,e],n=await this._rpcRequest("getSlotLeaders",r),i=(0,h.Ue)(n,en((0,h.IX)(Gr)));if("error"in i)throw new Error("failed to get slot leaders: "+i.error.message);return i.result}async getSignatureStatus(t,e){const{context:r,value:n}=await this.getSignatureStatuses([t],e);ir(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(t,e){const r=[t];e&&r.push(e);const n=await this._rpcRequest("getSignatureStatuses",r),i=(0,h.Ue)(n,Xn);if("error"in i)throw new Error("failed to get signature status: "+i.error.message);return i.result}async getTransactionCount(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getTransactionCount",e),n=(0,h.Ue)(r,en((0,h.Rx)()));if("error"in n)throw new Error("failed to get transaction count: "+n.error.message);return n.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",e),n=(0,h.Ue)(r,yn);if("error"in n)throw new Error("failed to get inflation: "+n.error.message);return n.result}async getInflationReward(t,e,r){const n=this._buildArgs([t.map((t=>t.toBase58()))],r,void 0,{epoch:e}),i=await this._rpcRequest("getInflationReward",n),o=(0,h.Ue)(i,sn);if("error"in o)throw new Error("failed to get inflation reward: "+o.error.message);return o.result}async getEpochInfo(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getEpochInfo",e),n=(0,h.Ue)(r,mn);if("error"in n)throw new Error("failed to get epoch info: "+n.error.message);return n.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=(0,h.Ue)(t,bn);if("error"in e)throw new Error("failed to get epoch schedule: "+e.error.message);const r=e.result;return new Vr(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=(0,h.Ue)(t,wn);if("error"in e)throw new Error("failed to get leader schedule: "+e.error.message);return e.result}async getMinimumBalanceForRentExemption(t,e){const r=this._buildArgs([t],e),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=(0,h.Ue)(n,Jn);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getRecentBlockhash",e),n=(0,h.Ue)(r,fi);if("error"in n)throw new Error("failed to get recent blockhash: "+n.error.message);return n.result}async getRecentPerformanceSamples(t){const e=this._buildArgs(t?[t]:[]),r=await this._rpcRequest("getRecentPerformanceSamples",e),n=(0,h.Ue)(r,yi);if("error"in n)throw new Error("failed to get recent performance samples: "+n.error.message);return n.result}async getFeeCalculatorForBlockhash(t,e){const r=this._buildArgs([t],e),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=(0,h.Ue)(n,mi);if("error"in i)throw new Error("failed to get fee calculator: "+i.error.message);const{context:o,value:s}=i.result;return{context:o,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(t,e){const r=t.serialize().toString("base64"),n=this._buildArgs([r],e),i=await this._rpcRequest("getFeeForMessage",n),o=(0,h.Ue)(i,rn((0,h.AG)((0,h.Rx)())));if("error"in o)throw new Error("failed to get slot: "+o.error.message);if(null===o.result)throw new Error("invalid blockhash");return o.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getLatestBlockhash",e),n=(0,h.Ue)(r,pi);if("error"in n)throw new Error("failed to get latest blockhash: "+n.error.message);return n.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=(0,h.Ue)(t,en(fn));if("error"in e)throw new Error("failed to get version: "+e.error.message);return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=(0,h.Ue)(t,en((0,h.Z_)()));if("error"in e)throw new Error("failed to get genesis hash: "+e.error.message);return e.result}async getBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e&&e.commitment),n=await this._rpcRequest("getBlock",r),i=(0,h.Ue)(n,ci);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const o=i.result;return o?{...o,transactions:o.transactions.map((t=>{let{transaction:e,meta:r}=t;const n=new nr(e.message);return{meta:r,transaction:{...e,message:n}}}))}:o}async getBlockHeight(t){const e=this._buildArgs([],t),r=await this._rpcRequest("getBlockHeight",e),n=(0,h.Ue)(r,en((0,h.Rx)()));if("error"in n)throw new Error("failed to get block height information: "+n.error.message);return n.result}async getBlockProduction(t){let e,r;if("string"===typeof t)r=t;else if(t){const{commitment:n,...i}=t;r=n,e=i}const n=this._buildArgs([],r,"base64",e),i=await this._rpcRequest("getBlockProduction",n),o=(0,h.Ue)(i,gn);if("error"in o)throw new Error("failed to get block production information: "+o.error.message);return o.result}async getTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e&&e.commitment),n=await this._rpcRequest("getTransaction",r),i=(0,h.Ue)(n,di);if("error"in i)throw new Error("failed to get transaction: "+i.error.message);const o=i.result;return o?{...o,transaction:{...o.transaction,message:new nr(o.transaction.message)}}:o}async getParsedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),n=await this._rpcRequest("getTransaction",r),i=(0,h.Ue)(n,hi);if("error"in i)throw new Error("failed to get transaction: "+i.error.message);return i.result}async getParsedTransactions(t,e){const r=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((t=>{const e=(0,h.Ue)(t,hi);if("error"in e)throw new Error("failed to get transactions: "+e.error.message);return e.result}))}async getTransactions(t,e){const r=t.map((t=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([t],e)})));return(await this._rpcBatchRequest(r)).map((t=>{const e=(0,h.Ue)(t,di);if("error"in e)throw new Error("failed to get transactions: "+e.error.message);return e.result}))}async getConfirmedBlock(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,h.Ue)(n,ui);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");const s={...o,transactions:o.transactions.map((t=>{let{transaction:e,meta:r}=t;const n=new nr(e.message);return{meta:r,transaction:{...e,message:n}}}))};return{...s,transactions:s.transactions.map((t=>{let{transaction:e,meta:r}=t;return{meta:r,transaction:ar.populate(e.message,e.signatures)}}))}}async getBlocks(t,e,r){const n=this._buildArgsAtLeastConfirmed(void 0!==e?[t,e]:[t],r),i=await this._rpcRequest("getBlocks",n),o=(0,h.Ue)(i,en((0,h.IX)((0,h.Rx)())));if("error"in o)throw new Error("failed to get blocks: "+o.error.message);return o.result}async getBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),i=(0,h.Ue)(n,li);if("error"in i)throw new Error("failed to get block: "+i.error.message);const o=i.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,h.Ue)(n,li);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,h.Ue)(n,di);if("error"in i)throw new Error("failed to get transaction: "+i.error.message);const o=i.result;if(!o)return o;const s=new nr(o.transaction.message),a=o.transaction.signatures;return{...o,transaction:ar.populate(s,a)}}async getParsedConfirmedTransaction(t,e){const r=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,h.Ue)(n,hi);if("error"in i)throw new Error("failed to get confirmed transaction: "+i.error.message);return i.result}async getParsedConfirmedTransactions(t,e){const r=t.map((t=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([t],e,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((t=>{const e=(0,h.Ue)(t,hi);if("error"in e)throw new Error("failed to get confirmed transactions: "+e.error.message);return e.result}))}async getConfirmedSignaturesForAddress(t,e,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--e<=0||e<i);)try{const t=await this.getConfirmedBlockSignatures(e,"finalized");t.signatures.length>0&&(n.until=t.signatures[t.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}let o=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>o);)try{const t=await this.getConfirmedBlockSignatures(r);t.signatures.length>0&&(n.before=t.signatures[t.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}return(await this.getConfirmedSignaturesForAddress2(t,n)).map((t=>t.signature))}async getConfirmedSignaturesForAddress2(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),o=(0,h.Ue)(i,Mn);if("error"in o)throw new Error("failed to get confirmed signatures for address: "+o.error.message);return o.result}async getSignaturesForAddress(t,e,r){const n=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",n),o=(0,h.Ue)(i,Dn);if("error"in o)throw new Error("failed to get signatures for address: "+o.error.message);return o.result}async getNonceAndContext(t,e){const{context:r,value:n}=await this.getAccountInfoAndContext(t,e);let i=null;return null!==n&&(i=Rr.fromAccountData(n.data)),{context:r,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then((t=>t.value)).catch((e=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+e)}))}async requestAirdrop(t,e){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),n=(0,h.Ue)(r,bi);if("error"in n)throw new Error("airdrop to "+t.toBase58()+" failed: "+n.error.message);return n.result}async _recentBlockhash(t){if(!t){for(;this._pollingBlockhash;)await br(100);const t=Date.now()-this._blockhashInfo.lastFetch>=Yr;if(null!==this._blockhashInfo.recentBlockhash&&!t)return this._blockhashInfo.recentBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now();for(let e=0;e<50;e++){const{blockhash:t}=await this.getRecentBlockhash("finalized");if(this._blockhashInfo.recentBlockhash!=t)return this._blockhashInfo={recentBlockhash:t,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},t;await br(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async simulateTransaction(t,e,r){let n;if(t instanceof ar){let e=t;n=new ar({recentBlockhash:e.recentBlockhash,nonceInfo:e.nonceInfo,feePayer:e.feePayer,signatures:[...e.signatures]}),n.instructions=t.instructions}else n=ar.populate(t),n._message=n._json=void 0;if(n.nonceInfo&&e)n.sign(...e);else{let t=this._disableBlockhashCaching;for(;n.recentBlockhash=await this._recentBlockhash(t),e;){if(n.sign(...e),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}t=!0}}const i=n._compile(),o=i.serialize(),s=n._serialize(o).toString("base64"),a={encoding:"base64",commitment:this.commitment};if(r){const t=(Array.isArray(r)?r:i.nonProgramIds()).map((t=>t.toBase58()));a.accounts={encoding:"base64",addresses:t}}e&&(a.sigVerify=!0);const c=[s,a],u=await this._rpcRequest("simulateTransaction",c),l=(0,h.Ue)(u,pn);if("error"in l){let t;if("data"in l.error&&(t=l.error.data.logs,t&&Array.isArray(t))){const e="\n    ",r=e+t.join(e);console.error(l.error.message,r)}throw new Zr("failed to simulate transaction: "+l.error.message,t)}return l.result}async sendTransaction(t,e,r){if(t.nonceInfo)t.sign(...e);else{let r=this._disableBlockhashCaching;for(;;){if(t.recentBlockhash=await this._recentBlockhash(r),t.sign(...e),!t.signature)throw new Error("!signature");const n=t.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.transactionSignatures.push(n);break}r=!0}}const n=t.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(t,e){const r=v(t).toString("base64");return await this.sendEncodedTransaction(r,e)}async sendEncodedTransaction(t,e){const r={encoding:"base64"},n=e&&e.skipPreflight,i=e&&e.preflightCommitment||this.commitment;e&&e.maxRetries&&(r.maxRetries=e.maxRetries),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const o=[t,r],s=await this._rpcRequest("sendTransaction",o),a=(0,h.Ue)(s,wi);if("error"in a){let t;throw"data"in a.error&&(t=a.error.data.logs),new Zr("failed to send transaction: "+a.error.message,t)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(t){console.error("ws error:",t.message)}_wsOnClose(t){this._rpcWebSocketGeneration++,this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==t?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((t=>{let[e,r]=t;this._subscriptionsByHash[e]={...r,state:"pending"}}))):this._updateSubscriptions()}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(t){t instanceof Error&&console.log(`Error when closing socket connection: ${t.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async t=>{const r=this._subscriptionsByHash[t];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[t],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._subscriptionsByHash[t]={...r,state:"subscribing"};const e=await this._rpcWebSocket.call(i,n);this._subscriptionsByHash[t]={...r,serverSubscriptionId:e,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[e]=r.callbacks,await this._updateSubscriptions()}catch(o){if(o instanceof Error&&console.error(`${i} error for argument`,n,o.message),!e())return;this._subscriptionsByHash[t]={...r,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._subscriptionsByHash[t]={...r,state:"unsubscribing"};try{await this._rpcWebSocket.call(i,[n])}catch(o){if(o instanceof Error&&console.error(`${i} error:`,o.message),!e())return;return this._subscriptionsByHash[t]={...r,state:"subscribed"},void await this._updateSubscriptions()}}this._subscriptionsByHash[t]={...r,state:"unsubscribed"},await this._updateSubscriptions()})()}})))}_handleServerNotification(t,e){const r=this._subscriptionCallbacksByServerSubscriptionId[t];void 0!==r&&r.forEach((t=>{try{t(...e)}catch(r){console.error(r)}}))}_wsOnAccountNotification(t){const{result:e,subscription:r}=(0,h.Ue)(t,Nn);this._handleServerNotification(r,[e.value,e.context])}_makeSubscription(t,e){const r=this._nextClientSubscriptionId++,n=Fr([t.method,e],!0),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r];const e=this._subscriptionsByHash[n];ir(void 0!==e,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),e.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,e,r){const n=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:r}=(0,h.Ue)(t,Ln);this._handleServerNotification(r,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,r,n){const i=this._buildArgs([t.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,r){const n=this._buildArgs(["object"===typeof t?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:r}=(0,h.Ue)(t,vi);this._handleServerNotification(r,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:r}=(0,h.Ue)(t,jn);this._handleServerNotification(r,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:r}=(0,h.Ue)(t,Hn);this._handleServerNotification(r,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,r,n){const i=e||this._commitment;if(i||r||n){let e={};r&&(e.encoding=r),i&&(e.commitment=i),n&&(e=Object.assign(e,n)),t.push(e)}return t}_buildArgsAtLeastConfirmed(t,e,r,n){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,r,n)}_wsOnSignatureNotification(t){const{result:e,subscription:r}=(0,h.Ue)(t,qn);"receivedSignature"!==e.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===e.value?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,r){const n=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(t,r)=>{if("status"===t.type){e(t.result,r);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(t,e,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([t],n,void 0,i),s=this._makeSubscription({callback:(t,r)=>{e(t,r);try{this.removeSignatureListener(s)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:r}=(0,h.Ue)(t,Wn);this._handleServerNotification(r,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}class Si{constructor(t){this._keypair=void 0,this._keypair=t||i().sign.keyPair()}static generate(){return new Si(i().sign.keyPair())}static fromSecretKey(t,e){const r=i().sign.keyPair.fromSecretKey(t);if(!e||!e.skipValidation){const t=(new TextEncoder).encode("@solana/web3.js-validation-v1"),e=i().sign.detached(t,r.secretKey);if(!i().sign.detached.verify(t,e,r.publicKey))throw new Error("provided secretKey is invalid")}return new Si(r)}static fromSeed(t){return new Si(i().sign.keyPair.fromSeed(t))}get publicKey(){return new qe(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const Ai=d.n_([d.u8("numSignatures"),d.u8("padding"),d.KB("signatureOffset"),d.KB("signatureInstructionIndex"),d.KB("publicKeyOffset"),d.KB("publicKeyInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.KB("messageInstructionIndex")]);class Ei{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,instructionIndex:i}=t;ir(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),ir(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const s=Ai.span,a=s+e.length,c=a+n.length,u=o.Buffer.alloc(c+r.length),l=null==i?65535:i;return Ai.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:l},u),u.fill(e,s),u.fill(n,a),u.fill(r,c),new sr({keys:[],programId:Ei.programId,data:u})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;ir(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=Si.fromSecretKey(e),o=t.publicKey.toBytes(),s=i().sign.detached(r,t.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:s,instructionIndex:n})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Ei.programId=new qe("Ed25519SigVerify111111111111111111111111111");const Ii=new qe("StakeConfig11111111111111111111111111111111");class xi{constructor(t,e){this.staker=void 0,this.withdrawer=void 0,this.staker=t,this.withdrawer=e}}class Pi{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}Pi.default=new Pi(0,0,qe.default);class Ri{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=d.Jq("instruction").decode(t.data);let r;for(const[n,i]of Object.entries(Oi))if(i.index==e){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{authorized:e,lockup:r}=Er(Oi.Initialize,t.data);return{stakePubkey:t.keys[0].pubkey,authorized:new xi(new qe(e.staker),new qe(e.withdrawer)),lockup:new Pi(r.unixTimestamp,r.epoch,new qe(r.custodian))}}static decodeDelegate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,6),Er(Oi.Delegate,t.data),{stakePubkey:t.keys[0].pubkey,votePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[5].pubkey}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,stakeAuthorizationType:r}=Er(Oi.Authorize,t.data),n={stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new qe(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(n.custodianPubkey=t.keys[3].pubkey),n}static decodeAuthorizeWithSeed(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,2);const{newAuthorized:e,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=Er(Oi.AuthorizeWithSeed,t.data),o={stakePubkey:t.keys[0].pubkey,authorityBase:t.keys[1].pubkey,authoritySeed:n,authorityOwner:new qe(i),newAuthorizedPubkey:new qe(e),stakeAuthorizationType:{index:r}};return t.keys.length>3&&(o.custodianPubkey=t.keys[3].pubkey),o}static decodeSplit(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=Er(Oi.Split,t.data);return{stakePubkey:t.keys[0].pubkey,splitStakePubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[2].pubkey,lamports:e}}static decodeMerge(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Er(Oi.Merge,t.data),{stakePubkey:t.keys[0].pubkey,sourceStakePubKey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,5);const{lamports:e}=Er(Oi.Withdraw,t.data),r={stakePubkey:t.keys[0].pubkey,toPubkey:t.keys[1].pubkey,authorizedPubkey:t.keys[4].pubkey,lamports:e};return t.keys.length>5&&(r.custodianPubkey=t.keys[5].pubkey),r}static decodeDeactivate(t){return this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3),Er(Oi.Deactivate,t.data),{stakePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey}}static checkProgramId(t){if(!t.equals(Bi.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Oi=Object.freeze({Initialize:{index:0,layout:d.n_([d.Jq("instruction"),function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return d.n_([Qe("staker"),Qe("withdrawer")],t)}(),function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return d.n_([d.gM("unixTimestamp"),d.gM("epoch"),Qe("custodian")],t)}()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),Qe("newAuthorized"),d.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:d.n_([d.Jq("instruction")])},Split:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Withdraw:{index:4,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Deactivate:{index:5,layout:d.n_([d.Jq("instruction")])},Merge:{index:7,layout:d.n_([d.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:d.n_([d.Jq("instruction"),Qe("newAuthorized"),d.Jq("stakeAuthorizationType"),tr("authoritySeed"),Qe("authorityOwner")])}}),Ti=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Bi{constructor(){}static initialize(t){const{stakePubkey:e,authorized:r,lockup:n}=t,i=n||Pi.default,o=Ar(Oi.Initialize,{authorized:{staker:v(r.staker.toBuffer()),withdrawer:v(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:v(i.custodian.toBuffer())}}),s={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new sr(s)}static createAccountWithSeed(t){const e=new ar;e.add(Br.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(t){const e=new ar;e.add(Br.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:r,votePubkey:n}=t,i=Ar(Oi.Delegate);return(new ar).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:yr,isSigner:!1,isWritable:!1},{pubkey:Ii,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(t){const{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:o}=t,s=Ar(Oi.Authorize,{newAuthorized:v(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new ar).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=t,c=Ar(Oi.AuthorizeWithSeed,{newAuthorized:v(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:v(i.toBuffer())}),u=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:cr,isSigner:!1,isWritable:!1}];return a&&u.push({pubkey:a,isSigner:!1,isWritable:!1}),(new ar).add({keys:u,programId:this.programId,data:c})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=t,o=Ar(Oi.Split,{lamports:i});return new sr({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(t){const e=new ar;return e.add(Br.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),e.add(this.splitInstruction(t))}static splitWithSeed(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,basePubkey:i,seed:o,lamports:s}=t,a=new ar;return a.add(Br.allocate({accountPubkey:n,basePubkey:i,seed:o,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:s}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:n}=t,i=Ar(Oi.Merge);return(new ar).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:yr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:o}=t,s=Ar(Oi.Withdraw,{lamports:i}),a=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:yr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!1,isWritable:!1}),(new ar).add({keys:a,programId:this.programId,data:s})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:r}=t,n=Ar(Oi.Deactivate);return(new ar).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}Bi.programId=new qe("Stake11111111111111111111111111111111111111"),Bi.space=200;const{publicKeyCreate:Ci,ecdsaSign:Mi}=m(),Di=d.n_([d.u8("numSignatures"),d.KB("signatureOffset"),d.u8("signatureInstructionIndex"),d.KB("ethAddressOffset"),d.u8("ethAddressInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.u8("messageInstructionIndex"),d.Ik(20,"ethAddress"),d.Ik(64,"signature"),d.u8("recoveryId")]);class Ni{constructor(){}static publicKeyToEthAddress(t){ir(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return o.Buffer.from(w().keccak_256.update(v(t)).digest()).slice(-20)}catch(e){throw new Error(`Error constructing Ethereum address: ${e}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,recoveryId:i,instructionIndex:o}=t;return Ni.createInstructionWithEthAddress({ethAddress:Ni.publicKeyToEthAddress(e),message:r,signature:n,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:r,signature:n,recoveryId:i,instructionIndex:s=0}=t;let a;a="string"===typeof e?e.startsWith("0x")?o.Buffer.from(e.substr(2),"hex"):o.Buffer.from(e,"hex"):e,ir(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,u=c+n.length+1,l=o.Buffer.alloc(Di.span+r.length);return Di.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:s,signature:v(n),ethAddress:v(a),recoveryId:i},l),l.fill(v(r),Di.span),new sr({keys:[],programId:Ni.programId,data:l})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;ir(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=v(e),i=Ci(t,!1).slice(1),s=o.Buffer.from(w().keccak_256.update(v(r)).digest()),{signature:a,recid:c}=Mi(s,t);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:a,recoveryId:c,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Ni.programId=new qe("KeccakSecp256k11111111111111111111111111111");const zi=new qe("Va1idator1nfo111111111111111111111111111111"),Li=(0,h.dt)({name:(0,h.Z_)(),website:(0,h.jt)((0,h.Z_)()),details:(0,h.jt)((0,h.Z_)()),keybaseUsername:(0,h.jt)((0,h.Z_)())});class Ui{constructor(t,e){this.key=void 0,this.info=void 0,this.key=t,this.info=e}static fromConfigData(t){let e=[...t];if(2!==er(e))return null;const r=[];for(let n=0;n<2;n++){const t=new qe(e.slice(0,32));e=e.slice(32);const n=1===e.slice(0,1)[0];e=e.slice(1),r.push({publicKey:t,isSigner:n})}if(r[0].publicKey.equals(zi)&&r[1].isSigner){const t=tr().decode(o.Buffer.from(e)),n=JSON.parse(t);return(0,h.hu)(n,Li),new Ui(r[1].publicKey,n)}return null}}const ji=new qe("Vote111111111111111111111111111111111111111"),Ki=d.n_([Qe("nodePubkey"),Qe("authorizedWithdrawer"),d.u8("commission"),d._O(),d.A9(d.n_([d._O("slot"),d.Jq("confirmationCount")]),d.cv(d.Jq(),-8),"votes"),d.u8("rootSlotValid"),d._O("rootSlot"),d._O(),d.A9(d.n_([d._O("epoch"),Qe("authorizedVoter")]),d.cv(d.Jq(),-8),"authorizedVoters"),d.n_([d.A9(d.n_([Qe("authorizedPubkey"),d._O("epochOfLastAuthorizedSwitch"),d._O("targetEpoch")]),32,"buf"),d._O("idx"),d.u8("isEmpty")],"priorVoters"),d._O(),d.A9(d.n_([d._O("epoch"),d._O("credits"),d._O("prevCredits")]),d.cv(d.Jq(),-8),"epochCredits"),d.n_([d._O("slot"),d._O("timestamp")],"lastTimestamp")]);class Hi{constructor(t){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=t.nodePubkey,this.authorizedWithdrawer=t.authorizedWithdrawer,this.commission=t.commission,this.rootSlot=t.rootSlot,this.votes=t.votes,this.authorizedVoters=t.authorizedVoters,this.priorVoters=t.priorVoters,this.epochCredits=t.epochCredits,this.lastTimestamp=t.lastTimestamp}static fromAccountData(t){const e=Ki.decode(v(t),4);let r=e.rootSlot;return e.rootSlotValid||(r=null),new Hi({nodePubkey:new qe(e.nodePubkey),authorizedWithdrawer:new qe(e.authorizedWithdrawer),commission:e.commission,votes:e.votes,rootSlot:r,authorizedVoters:e.authorizedVoters.map(qi),priorVoters:Fi(e.priorVoters),epochCredits:e.epochCredits,lastTimestamp:e.lastTimestamp})}}function qi(t){let{authorizedVoter:e,epoch:r}=t;return{epoch:r,authorizedVoter:new qe(e)}}function Wi(t){let{authorizedPubkey:e,epochOfLastAuthorizedSwitch:r,targetEpoch:n}=t;return{authorizedPubkey:new qe(e),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function Fi(t){let{buf:e,idx:r,isEmpty:n}=t;return n?[]:[...e.slice(r+1).map(Wi),...e.slice(0,r).map(Wi)]}class $i{constructor(t,e,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=t,this.authorizedVoter=e,this.authorizedWithdrawer=r,this.commission=n}}class Vi{constructor(){}static decodeInstructionType(t){this.checkProgramId(t.programId);const e=d.Jq("instruction").decode(t.data);let r;for(const[n,i]of Object.entries(Zi))if(i.index==e){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a VoteInstruction");return r}static decodeInitializeAccount(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,4);const{voteInit:e}=Er(Zi.InitializeAccount,t.data);return{votePubkey:t.keys[0].pubkey,nodePubkey:t.keys[3].pubkey,voteInit:new $i(new qe(e.nodePubkey),new qe(e.authorizedVoter),new qe(e.authorizedWithdrawer),e.commission)}}static decodeAuthorize(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{newAuthorized:e,voteAuthorizationType:r}=Er(Zi.Authorize,t.data);return{votePubkey:t.keys[0].pubkey,authorizedPubkey:t.keys[2].pubkey,newAuthorizedPubkey:new qe(e),voteAuthorizationType:{index:r}}}static decodeWithdraw(t){this.checkProgramId(t.programId),this.checkKeyLength(t.keys,3);const{lamports:e}=Er(Zi.Withdraw,t.data);return{votePubkey:t.keys[0].pubkey,authorizedWithdrawerPubkey:t.keys[2].pubkey,lamports:e,toPubkey:t.keys[1].pubkey}}static checkProgramId(t){if(!t.equals(Xi.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(t,e){if(t.length<e)throw new Error(`invalid instruction; found ${t.length} keys, expected at least ${e}`)}}const Zi=Object.freeze({InitializeAccount:{index:0,layout:d.n_([d.Jq("instruction"),function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return d.n_([Qe("nodePubkey"),Qe("authorizedVoter"),Qe("authorizedWithdrawer"),d.u8("commission")],t)}()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),Qe("newAuthorized"),d.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])}}),Gi=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Xi{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:r,voteInit:n}=t,i=Ar(Zi.InitializeAccount,{voteInit:{nodePubkey:v(n.nodePubkey.toBuffer()),authorizedVoter:v(n.authorizedVoter.toBuffer()),authorizedWithdrawer:v(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new sr(o)}static createAccount(t){const e=new ar;return e.add(Br.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=t,o=Ar(Zi.Authorize,{newAuthorized:v(n.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ar).add({keys:s,programId:this.programId,data:o})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=t,o=Ar(Zi.Withdraw,{lamports:n}),s=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ar).add({keys:s,programId:this.programId,data:o})}}async function Ji(t,e,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},i=await t.sendRawTransaction(e,n),o=(await t.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw new Error(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}Xi.programId=new qe("Vote111111111111111111111111111111111111111"),Xi.space=3731;const Yi={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Qi(t,e){const r=!1===e?"http":"https";if(!t)return Yi[r].devnet;const n=Yi[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}const to=1e9},21380:(t,e,r)=>{"use strict";function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var i,o,s=r(99697).codes,a=s.ERR_AMBIGUOUS_ARGUMENT,c=s.ERR_INVALID_ARG_TYPE,u=s.ERR_INVALID_ARG_VALUE,l=s.ERR_INVALID_RETURN_VALUE,d=s.ERR_MISSING_ARGS,h=r(77319),f=r(58404).inspect,p=r(58404).types,g=p.isPromise,y=p.isRegExp,m=Object.assign?Object.assign:r(42330).assign,b=Object.is?Object.is:r(94395);new Map;function w(){var t=r(56047);i=t.isDeepEqual,o=t.isDeepStrictEqual}var _=!1,v=t.exports=E,k={};function S(t){if(t.message instanceof Error)throw t.message;throw new h(t)}function A(t,e,r,n){if(!r){var i=!1;if(0===e)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new h({actual:r,expected:!0,message:n,operator:"==",stackStartFn:t});throw o.generatedMessage=i,o}}function E(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];A.apply(void 0,[E,e.length].concat(e))}v.fail=function t(e,r,n,i,o){var s,a=arguments.length;if(0===a)s="Failed";else if(1===a)n=e,e=void 0;else{if(!1===_){_=!0;var c=process.emitWarning?process.emitWarning:console.warn.bind(console);c("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===a&&(i="!=")}if(n instanceof Error)throw n;var u={actual:e,expected:r,operator:void 0===i?"fail":i,stackStartFn:o||t};void 0!==n&&(u.message=n);var l=new h(u);throw s&&(l.message=s,l.generatedMessage=!0),l},v.AssertionError=h,v.ok=E,v.equal=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");e!=r&&S({actual:e,expected:r,message:n,operator:"==",stackStartFn:t})},v.notEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");e==r&&S({actual:e,expected:r,message:n,operator:"!=",stackStartFn:t})},v.deepEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===i&&w(),i(e,r)||S({actual:e,expected:r,message:n,operator:"deepEqual",stackStartFn:t})},v.notDeepEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===i&&w(),i(e,r)&&S({actual:e,expected:r,message:n,operator:"notDeepEqual",stackStartFn:t})},v.deepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===i&&w(),o(e,r)||S({actual:e,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:t})},v.notDeepStrictEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");void 0===i&&w();o(e,r)&&S({actual:e,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:t})},v.strictEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");b(e,r)||S({actual:e,expected:r,message:n,operator:"strictEqual",stackStartFn:t})},v.notStrictEqual=function t(e,r,n){if(arguments.length<2)throw new d("actual","expected");b(e,r)&&S({actual:e,expected:r,message:n,operator:"notStrictEqual",stackStartFn:t})};var I=function t(e,r,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r.forEach((function(t){t in e&&(void 0!==n&&"string"===typeof n[t]&&y(e[t])&&e[t].test(n[t])?i[t]=n[t]:i[t]=e[t])}))};function x(t,e,r,n,i,s){if(!(r in t)||!o(t[r],e[r])){if(!n){var a=new I(t,i),c=new I(e,i,t),u=new h({actual:a,expected:c,operator:"deepStrictEqual",stackStartFn:s});throw u.actual=t,u.expected=e,u.operator=s.name,u}S({actual:t,expected:e,message:n,operator:s.name,stackStartFn:s})}}function P(t,e,r,o){if("function"!==typeof e){if(y(e))return e.test(t);if(2===arguments.length)throw new c("expected",["Function","RegExp"],e);if("object"!==n(t)||null===t){var s=new h({actual:t,expected:e,message:r,operator:"deepStrictEqual",stackStartFn:o});throw s.operator=o.name,s}var a=Object.keys(e);if(e instanceof Error)a.push("name","message");else if(0===a.length)throw new u("error",e,"may not be an empty object");return void 0===i&&w(),a.forEach((function(n){"string"===typeof t[n]&&y(e[n])&&e[n].test(t[n])||x(t,e,n,r,a,o)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function R(t){if("function"!==typeof t)throw new c("fn","Function",t);try{t()}catch(e){return e}return k}function O(t){return g(t)||null!==t&&"object"===n(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function T(t){return Promise.resolve().then((function(){var e;if("function"===typeof t){if(!O(e=t()))throw new l("instance of Promise","promiseFn",e)}else{if(!O(t))throw new c("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return k})).catch((function(t){return t}))}))}function B(t,e,r,i){if("string"===typeof r){if(4===arguments.length)throw new c("error",["Object","Error","Function","RegExp"],r);if("object"===n(e)&&null!==e){if(e.message===r)throw new a("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===r)throw new a("error/message",'The error "'.concat(e,'" is identical to the message.'));i=r,r=void 0}else if(null!=r&&"object"!==n(r)&&"function"!==typeof r)throw new c("error",["Object","Error","Function","RegExp"],r);if(e===k){var o="";r&&r.name&&(o+=" (".concat(r.name,")")),o+=i?": ".concat(i):".";var s="rejects"===t.name?"rejection":"exception";S({actual:void 0,expected:r,operator:t.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:t})}if(r&&!P(e,r,i,t))throw e}function C(t,e,r,n){if(e!==k){if("string"===typeof r&&(n=r,r=void 0),!r||P(e,r)){var i=n?": ".concat(n):".",o="doesNotReject"===t.name?"rejection":"exception";S({actual:e,expected:r,operator:t.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function M(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];A.apply(void 0,[M,e.length].concat(e))}v.throws=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];B.apply(void 0,[t,R(e)].concat(n))},v.rejects=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return T(e).then((function(e){return B.apply(void 0,[t,e].concat(n))}))},v.doesNotThrow=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];C.apply(void 0,[t,R(e)].concat(n))},v.doesNotReject=function t(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return T(e).then((function(e){return C.apply(void 0,[t,e].concat(n))}))},v.ifError=function t(e){if(null!==e&&void 0!==e){var r="ifError got unwanted exception: ";"object"===n(e)&&"string"===typeof e.message?0===e.message.length&&e.constructor?r+=e.constructor.name:r+=e.message:r+=f(e);var i=new h({actual:e,expected:null,operator:"ifError",message:r,stackStartFn:t}),o=e.stack;if("string"===typeof o){var s=o.split("\n");s.shift();for(var a=i.stack.split("\n"),c=0;c<s.length;c++){var u=a.indexOf(s[c]);if(-1!==u){a=a.slice(0,u);break}}i.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw i}},v.strict=m(M,v,{equal:v.strictEqual,deepEqual:v.deepStrictEqual,notEqual:v.notStrictEqual,notDeepEqual:v.notDeepStrictEqual}),v.strict.strict=v.strict},77319:(t,e,r)=>{"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e){return!e||"object"!==h(e)&&"function"!==typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){var e="function"===typeof Map?new Map:void 0;return a=function(t){if(null===t||(r=t,-1===Function.toString.call(r).indexOf("[native code]")))return t;var r;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return u(t,arguments,d(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,t)},a(t)}function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function u(t,e,r){return u=c()?Reflect.construct:function(t,e,r){var n=[null];n.push.apply(n,e);var i=new(Function.bind.apply(t,n));return r&&l(i,r.prototype),i},u.apply(null,arguments)}function l(t,e){return l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},l(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function h(t){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}var f=r(58404).inspect,p=r(99697).codes.ERR_INVALID_ARG_TYPE;function g(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}var y="",m="",b="",w="",_={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function v(t){var e=Object.keys(t),r=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){r[e]=t[e]})),Object.defineProperty(r,"message",{value:t.message}),r}function k(t){return f(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function S(t,e,r){var n="",i="",o=0,s="",a=!1,c=k(t),u=c.split("\n"),l=k(e).split("\n"),d=0,f="";if("strictEqual"===r&&"object"===h(t)&&"object"===h(e)&&null!==t&&null!==e&&(r="strictEqualObject"),1===u.length&&1===l.length&&u[0]!==l[0]){var p=u[0].length+l[0].length;if(p<=10){if(("object"!==h(t)||null===t)&&("object"!==h(e)||null===e)&&(0!==t||0!==e))return"".concat(_[r],"\n\n")+"".concat(u[0]," !== ").concat(l[0],"\n")}else if("strictEqualObject"!==r){if(p<(process.stderr&&process.stderr.isTTY?process.stderr.columns:80)){for(;u[0][d]===l[0][d];)d++;d>2&&(f="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var r=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,r-t.length)}(" ",d),"^"),d=0)}}}for(var v=u[u.length-1],S=l[l.length-1];v===S&&(d++<2?s="\n  ".concat(v).concat(s):n=v,u.pop(),l.pop(),0!==u.length&&0!==l.length);)v=u[u.length-1],S=l[l.length-1];var A=Math.max(u.length,l.length);if(0===A){var E=c.split("\n");if(E.length>30)for(E[26]="".concat(y,"...").concat(w);E.length>27;)E.pop();return"".concat(_.notIdentical,"\n\n").concat(E.join("\n"),"\n")}d>3&&(s="\n".concat(y,"...").concat(w).concat(s),a=!0),""!==n&&(s="\n  ".concat(n).concat(s),n="");var I=0,x=_[r]+"\n".concat(m,"+ actual").concat(w," ").concat(b,"- expected").concat(w),P=" ".concat(y,"...").concat(w," Lines skipped");for(d=0;d<A;d++){var R=d-o;if(u.length<d+1)R>1&&d>2&&(R>4?(i+="\n".concat(y,"...").concat(w),a=!0):R>3&&(i+="\n  ".concat(l[d-2]),I++),i+="\n  ".concat(l[d-1]),I++),o=d,n+="\n".concat(b,"-").concat(w," ").concat(l[d]),I++;else if(l.length<d+1)R>1&&d>2&&(R>4?(i+="\n".concat(y,"...").concat(w),a=!0):R>3&&(i+="\n  ".concat(u[d-2]),I++),i+="\n  ".concat(u[d-1]),I++),o=d,i+="\n".concat(m,"+").concat(w," ").concat(u[d]),I++;else{var O=l[d],T=u[d],B=T!==O&&(!g(T,",")||T.slice(0,-1)!==O);B&&g(O,",")&&O.slice(0,-1)===T&&(B=!1,T+=","),B?(R>1&&d>2&&(R>4?(i+="\n".concat(y,"...").concat(w),a=!0):R>3&&(i+="\n  ".concat(u[d-2]),I++),i+="\n  ".concat(u[d-1]),I++),o=d,i+="\n".concat(m,"+").concat(w," ").concat(T),n+="\n".concat(b,"-").concat(w," ").concat(O),I+=2):(i+=n,n="",1!==R&&0!==d||(i+="\n  ".concat(T),I++))}if(I>20&&d<A-2)return"".concat(x).concat(P,"\n").concat(i,"\n").concat(y,"...").concat(w).concat(n,"\n")+"".concat(y,"...").concat(w)}return"".concat(x).concat(a?P:"","\n").concat(i).concat(n).concat(s).concat(f)}var A=function(t){function e(t){var r;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"object"!==h(t)||null===t)throw new p("options","Object",t);var n=t.message,i=t.operator,a=t.stackStartFn,c=t.actual,u=t.expected,l=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=n)r=o(this,d(e).call(this,String(n)));else if(process.stderr&&process.stderr.isTTY&&(process.stderr&&process.stderr.getColorDepth&&1!==process.stderr.getColorDepth()?(y="\x1b[34m",m="\x1b[32m",w="\x1b[39m",b="\x1b[31m"):(y="",m="",w="",b="")),"object"===h(c)&&null!==c&&"object"===h(u)&&null!==u&&"stack"in c&&c instanceof Error&&"stack"in u&&u instanceof Error&&(c=v(c),u=v(u)),"deepStrictEqual"===i||"strictEqual"===i)r=o(this,d(e).call(this,S(c,u,i)));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var f=_[i],g=k(c).split("\n");if("notStrictEqual"===i&&"object"===h(c)&&null!==c&&(f=_.notStrictEqualObject),g.length>30)for(g[26]="".concat(y,"...").concat(w);g.length>27;)g.pop();r=1===g.length?o(this,d(e).call(this,"".concat(f," ").concat(g[0]))):o(this,d(e).call(this,"".concat(f,"\n\n").concat(g.join("\n"),"\n")))}else{var A=k(c),E="",I=_[i];"notDeepEqual"===i||"notEqual"===i?(A="".concat(_[i],"\n\n").concat(A)).length>1024&&(A="".concat(A.slice(0,1021),"...")):(E="".concat(k(u)),A.length>512&&(A="".concat(A.slice(0,509),"...")),E.length>512&&(E="".concat(E.slice(0,509),"...")),"deepEqual"===i||"equal"===i?A="".concat(I,"\n\n").concat(A,"\n\nshould equal\n\n"):E=" ".concat(i," ").concat(E)),r=o(this,d(e).call(this,"".concat(A).concat(E)))}return Error.stackTraceLimit=l,r.generatedMessage=!n,Object.defineProperty(s(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=c,r.expected=u,r.operator=i,Error.captureStackTrace&&Error.captureStackTrace(s(r),a),r.stack,r.name="AssertionError",o(r)}var r,a,c;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(e,t),r=e,a=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:f.custom,value:function(t,e){return f(this,function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})))),i.forEach((function(e){n(t,e,r[e])}))}return t}({},e,{customInspect:!1,depth:0}))}}],a&&i(r.prototype,a),c&&i(r,c),e}(a(Error));t.exports=A},99697:(t,e,r)=>{"use strict";function n(t){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function i(t,e){return!e||"object"!==n(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}var a,c,u={};function l(t,e,r){r||(r=Error);var n=function(r){function n(r,s,a){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),c=i(this,o(n).call(this,function(t,r,n){return"string"===typeof e?e:e(t,r,n)}(r,s,a))),c.code=t,c}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}(n,r),n}(r);u[t]=n}function d(t,e){if(Array.isArray(t)){var r=t.length;return t=t.map((function(t){return String(t)})),r>2?"one of ".concat(e," ").concat(t.slice(0,r-1).join(", "),", or ")+t[r-1]:2===r?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}l("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),l("ERR_INVALID_ARG_TYPE",(function(t,e,i){var o,s,c,u;if(void 0===a&&(a=r(21380)),a("string"===typeof t,"'name' must be a string"),"string"===typeof e&&(s="not ",e.substr(!c||c<0?0:+c,s.length)===s)?(o="must not be",e=e.replace(/^not /,"")):o="must be",function(t,e,r){return(void 0===r||r>t.length)&&(r=t.length),t.substring(r-e.length,r)===e}(t," argument"))u="The ".concat(t," ").concat(o," ").concat(d(e,"type"));else{var l=function(t,e,r){return"number"!==typeof r&&(r=0),!(r+e.length>t.length)&&-1!==t.indexOf(e,r)}(t,".")?"property":"argument";u='The "'.concat(t,'" ').concat(l," ").concat(o," ").concat(d(e,"type"))}return u+=". Received type ".concat(n(i))}),TypeError),l("ERR_INVALID_ARG_VALUE",(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===c&&(c=r(58404));var i=c.inspect(e);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(n,". Received ").concat(i)}),TypeError,RangeError),l("ERR_INVALID_RETURN_VALUE",(function(t,e,r){var i;return i=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(i,".")}),TypeError),l("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];void 0===a&&(a=r(21380)),a(e.length>0,"At least one arg needs to be specified");var i="The ",o=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),o){case 1:i+="".concat(e[0]," argument");break;case 2:i+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:i+=e.slice(0,o-1).join(", "),i+=", and ".concat(e[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),t.exports.codes=u},56047:(t,e,r)=>{"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(c){i=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i(t)}var o=void 0!==/a/g.flags,s=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},a=function(t){var e=[];return t.forEach((function(t,r){return e.push([r,t])})),e},c=Object.is?Object.is:r(94395),u=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:r(26110);function d(t){return t.call.bind(t)}var h=d(Object.prototype.hasOwnProperty),f=d(Object.prototype.propertyIsEnumerable),p=d(Object.prototype.toString),g=r(58404).types,y=g.isAnyArrayBuffer,m=g.isArrayBufferView,b=g.isDate,w=g.isMap,_=g.isRegExp,v=g.isSet,k=g.isNativeError,S=g.isBoxedPrimitive,A=g.isNumberObject,E=g.isStringObject,I=g.isBooleanObject,x=g.isBigIntObject,P=g.isSymbolObject,R=g.isFloat32Array,O=g.isFloat64Array;function T(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var r=t.charCodeAt(e);if(r<48||r>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function B(t){return Object.keys(t).filter(T).concat(u(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function C(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0}function M(t,e,r,n){if(t===e)return 0!==t||(!r||c(t,e));if(r){if("object"!==i(t))return"number"===typeof t&&l(t)&&l(e);if("object"!==i(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==i(t))return(null===e||"object"!==i(e))&&t==e;if(null===e||"object"!==i(e))return!1}var s,a,u,d,h=p(t);if(h!==p(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var f=B(t),g=B(e);return f.length===g.length&&N(t,e,r,n,1,f)}if("[object Object]"===h&&(!w(t)&&w(e)||!v(t)&&v(e)))return!1;if(b(t)){if(!b(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(_(t)){if(!_(e)||(u=t,d=e,!(o?u.source===d.source&&u.flags===d.flags:RegExp.prototype.toString.call(u)===RegExp.prototype.toString.call(d))))return!1}else if(k(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(m(t)){if(r||!R(t)&&!O(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===C(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var r=0;r<t.byteLength;r++)if(t[r]!==e[r])return!1;return!0}(t,e))return!1;var T=B(t),M=B(e);return T.length===M.length&&N(t,e,r,n,0,T)}if(v(t))return!(!v(e)||t.size!==e.size)&&N(t,e,r,n,2);if(w(t))return!(!w(e)||t.size!==e.size)&&N(t,e,r,n,3);if(y(t)){if(a=e,(s=t).byteLength!==a.byteLength||0!==C(new Uint8Array(s),new Uint8Array(a)))return!1}else if(S(t)&&!function(t,e){return A(t)?A(e)&&c(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):E(t)?E(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):I(t)?I(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):x(t)?x(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):P(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return N(t,e,r,n,0)}function D(t,e){return e.filter((function(e){return f(t,e)}))}function N(t,e,r,n,i,o){if(5===arguments.length){o=Object.keys(t);var s=Object.keys(e);if(o.length!==s.length)return!1}for(var a=0;a<o.length;a++)if(!h(e,o[a]))return!1;if(r&&5===arguments.length){var c=u(t);if(0!==c.length){var l=0;for(a=0;a<c.length;a++){var d=c[a];if(f(t,d)){if(!f(e,d))return!1;o.push(d),l++}else if(f(e,d))return!1}var p=u(e);if(c.length!==p.length&&D(e,p).length!==l)return!1}else{var g=u(e);if(0!==g.length&&0!==D(e,g).length)return!1}}if(0===o.length&&(0===i||1===i&&0===t.length||0===t.size))return!0;if(void 0===n)n={val1:new Map,val2:new Map,position:0};else{var y=n.val1.get(t);if(void 0!==y){var m=n.val2.get(e);if(void 0!==m)return y===m}n.position++}n.val1.set(t,n.position),n.val2.set(e,n.position);var b=H(t,e,r,o,n,i);return n.val1.delete(t),n.val2.delete(e),b}function z(t,e,r,n){for(var i=s(t),o=0;o<i.length;o++){var a=i[o];if(M(e,a,r,n))return t.delete(a),!0}return!1}function L(t){switch(i(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(l(t))return!1}return!0}function U(t,e,r){var n=L(r);return null!=n?n:e.has(n)&&!t.has(n)}function j(t,e,r,n,i){var o=L(r);if(null!=o)return o;var s=e.get(o);return!(void 0===s&&!e.has(o)||!M(n,s,!1,i))&&(!t.has(o)&&M(n,s,!1,i))}function K(t,e,r,n,i,o){for(var a=s(t),c=0;c<a.length;c++){var u=a[c];if(M(r,u,i,o)&&M(n,e.get(u),i,o))return t.delete(u),!0}return!1}function H(t,e,r,o,c,u){var l=0;if(2===u){if(!function(t,e,r,n){for(var o=null,a=s(t),c=0;c<a.length;c++){var u=a[c];if("object"===i(u)&&null!==u)null===o&&(o=new Set),o.add(u);else if(!e.has(u)){if(r)return!1;if(!U(t,e,u))return!1;null===o&&(o=new Set),o.add(u)}}if(null!==o){for(var l=s(e),d=0;d<l.length;d++){var h=l[d];if("object"===i(h)&&null!==h){if(!z(o,h,r,n))return!1}else if(!r&&!t.has(h)&&!z(o,h,r,n))return!1}return 0===o.size}return!0}(t,e,r,c))return!1}else if(3===u){if(!function(t,e,r,o){for(var s=null,c=a(t),u=0;u<c.length;u++){var l=n(c[u],2),d=l[0],h=l[1];if("object"===i(d)&&null!==d)null===s&&(s=new Set),s.add(d);else{var f=e.get(d);if(void 0===f&&!e.has(d)||!M(h,f,r,o)){if(r)return!1;if(!j(t,e,d,h,o))return!1;null===s&&(s=new Set),s.add(d)}}}if(null!==s){for(var p=a(e),g=0;g<p.length;g++){var y=n(p[g],2),m=(d=y[0],y[1]);if("object"===i(d)&&null!==d){if(!K(s,t,d,m,r,o))return!1}else if(!r&&(!t.has(d)||!M(t.get(d),m,!1,o))&&!K(s,t,d,m,!1,o))return!1}return 0===s.size}return!0}(t,e,r,c))return!1}else if(1===u)for(;l<t.length;l++){if(!h(t,l)){if(h(e,l))return!1;for(var d=Object.keys(t);l<d.length;l++){var f=d[l];if(!h(e,f)||!M(t[f],e[f],r,c))return!1}return d.length===Object.keys(e).length}if(!h(e,l)||!M(t[l],e[l],r,c))return!1}for(l=0;l<o.length;l++){var p=o[l];if(!M(t[p],e[p],r,c))return!1}return!0}t.exports={isDeepEqual:function(t,e){return M(t,e,false)},isDeepStrictEqual:function(t,e){return M(t,e,true)}}},12324:(t,e,r)=>{"use strict";var n=r(97429).Buffer;class i{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,r){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function o(t,e){return e.property?t+"["+e.property+"]":t}e.Layout=i,e.nameWithProperty=o,e.bindConstructorLayout=function(t,e){if("function"!==typeof t)throw new TypeError("Class must be constructor");if(t.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof i))throw new TypeError("layout must be a Layout");if(e.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value:function(t,r){return e.encode(this,t,r)},writable:!0}),Object.defineProperty(t,"decode",{value:function(t,r){return e.decode(t,r)},writable:!0})};class s extends i{isCount(){throw new Error("ExternalLayout is abstract")}}class a extends s{constructor(t,e){if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e){void 0===e&&(e=0);const r=t.length-e;return Math.floor(r/this.elementSpan)}encode(t,e,r){return 0}}class c extends s{constructor(t,e,r){if(!(t instanceof i))throw new TypeError("layout must be a Layout");if(void 0===e)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof u||this.layout instanceof l}decode(t,e){return void 0===e&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,r){return void 0===r&&(r=0),this.layout.encode(t,e,r+this.offset)}}class u extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntLE(t,r,this.span),this.span}}class l extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeUIntBE(t,r,this.span),this.span}}class d extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntLE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntLE(t,r,this.span),this.span}}class h extends i{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return void 0===e&&(e=0),t.readIntBE(e,this.span)}encode(t,e,r){return void 0===r&&(r=0),e.writeIntBE(t,r,this.span),this.span}}const f=Math.pow(2,32);function p(t){const e=Math.floor(t/f);return{hi32:e,lo32:t-e*f}}function g(t,e){return t*f+e}class y extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return g(t.readUInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=p(t);return e.writeUInt32LE(n.lo32,r),e.writeUInt32LE(n.hi32,r+4),8}}class m extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return g(t.readUInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,r){void 0===r&&(r=0);const n=p(t);return e.writeUInt32BE(n.hi32,r),e.writeUInt32BE(n.lo32,r+4),8}}class b extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);const r=t.readUInt32LE(e);return g(t.readInt32LE(e+4),r)}encode(t,e,r){void 0===r&&(r=0);const n=p(t);return e.writeUInt32LE(n.lo32,r),e.writeInt32LE(n.hi32,r+4),8}}class w extends i{constructor(t){super(8,t)}decode(t,e){void 0===e&&(e=0);return g(t.readInt32BE(e),t.readUInt32BE(e+4))}encode(t,e,r){void 0===r&&(r=0);const n=p(t);return e.writeInt32BE(n.hi32,r),e.writeUInt32BE(n.lo32,r+4),8}}class _ extends i{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatLE(t,r),4}}class v extends i{constructor(t){super(4,t)}decode(t,e){return void 0===e&&(e=0),t.readFloatBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeFloatBE(t,r),4}}class k extends i{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleLE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleLE(t,r),8}}class S extends i{constructor(t){super(8,t)}decode(t,e){return void 0===e&&(e=0),t.readDoubleBE(e)}encode(t,e,r){return void 0===r&&(r=0),e.writeDoubleBE(t,r),8}}class A extends i{constructor(t,e,r){if(!(t instanceof i))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof s&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(e instanceof s)&&0<t.span&&(n=e*t.span),super(n,r),this.elementLayout=t,this.count=e}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0,n=this.count;if(n instanceof s&&(n=n.decode(t,e)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(t,e+r),++i}return r}decode(t,e){void 0===e&&(e=0);const r=[];let n=0,i=this.count;for(i instanceof s&&(i=i.decode(t,e));n<i;)r.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),n+=1;return r}encode(t,e,r){void 0===r&&(r=0);const n=this.elementLayout,i=t.reduce(((t,i)=>t+n.encode(i,e,r+t)),0);return this.count instanceof s&&this.count.encode(t.length,e,r),i}}class E extends i{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof i),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof e&&void 0===r&&(r=e,e=void 0);for(const i of t)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=t.reduce(((t,e)=>t+e.getSpan()),0)}catch(o){}super(n,e),this.fields=t,this.decodePrefixes=!!r}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(t,e);return e+=i,r+i}),0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(t,e){void 0===e&&(e=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(t,e)),e+=n.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return r}encode(t,e,r){void 0===r&&(r=0);const n=r;let i=0,o=0;for(const s of this.fields){let n=s.span;if(o=0<n?n:0,void 0!==s.property){const i=t[s.property];void 0!==i&&(o=s.encode(i,e,r),0>n&&(n=s.getSpan(e,r)))}i=r,r+=n}return i+o-n}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!==typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!==typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}class I{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class x extends I{constructor(t,e){if(!(t instanceof s&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,r){return this.layout.encode(t,e,r)}}class P extends i{constructor(t,e,r){const n=t instanceof u||t instanceof l;if(n)t=new x(new c(t));else if(t instanceof s&&t.isCount())t=new x(t);else if(!(t instanceof I))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===e&&(e=null),!(null===e||e instanceof i))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&n&&(o+=t.layout.span)),super(o,r),this.discriminator=t,this.usesPrefixDiscriminator=n,this.defaultLayout=e,this.registry={};let a=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return a(t)},this.configGetSourceVariant=function(t){a=t.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);const r=this.getVariant(t,e);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(t.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(t,e){let r;void 0===e&&(e=0);const n=this.discriminator,i=n.decode(t,e);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[o.property]=this.defaultLayout.decode(t,e+s)}else r=o.decode(t,e);return r}encode(t,e,r){void 0===r&&(r=0);const n=this.getSourceVariant(t);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(t[n.property],e,r),o+i.encode(t[i.property],e,r+o)}return n.encode(t,e,r)}addVariant(t,e,r){const n=new R(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e){let r=t;return n.isBuffer(t)&&(void 0===e&&(e=0),r=this.discriminator.decode(t,e)),this.registry[r]}}class R extends i{constructor(t,e,r,n){if(!(t instanceof P))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof i))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof n)throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=r?r.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,n),this.union=t,this.variant=e,this.layout=r||null}getSpan(t,e){if(0<=this.span)return this.span;void 0===e&&(e=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(t,e+r)}decode(t,e){const r=this.makeDestinationObject();if(void 0===e&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,e+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,e,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,r);let i=n;if(this.layout&&(this.layout.encode(t[this.property],e,r+n),i+=this.layout.getSpan(e,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function O(t){return 0>t&&(t+=4294967296),t}class T extends i{constructor(t,e,r){if(!(t instanceof u||t instanceof l))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof e&&void 0===r&&(r=e,e=void 0),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let n=0;this._packedSetValue=function(t){return n=O(t),this},this._packedGetValue=function(){return n}}decode(t,e){const r=this.makeDestinationObject();void 0===e&&(e=0);const n=this.word.decode(t,e);this._packedSetValue(n);for(const i of this.fields)void 0!==i.property&&(r[i.property]=i.decode(n));return r}encode(t,e,r){void 0===r&&(r=0);const n=this.word.decode(e,r);this._packedSetValue(n);for(const i of this.fields)if(void 0!==i.property){const e=t[i.property];void 0!==e&&i.encode(e)}return this.word.encode(this._packedGetValue(),e,r)}addField(t,e){const r=new B(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new C(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!==typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}class B{constructor(t,e,r){if(!(t instanceof T))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const n=8*t.span,i=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-e),this.wordMask=O(this.valueMask<<this.start),this.property=r}decode(){return O(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if(!Number.isInteger(t)||t!==O(t&this.valueMask))throw new TypeError(o("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=O(t<<this.start);this.container._packedSetValue(O(e&~this.wordMask)|r)}}class C extends B{constructor(t,e){super(t,1,e)}decode(t,e){return!!B.prototype.decode.call(this,t,e)}encode(t){return"boolean"===typeof t&&(t=+t),B.prototype.encode.call(this,t)}}class M extends i{constructor(t,e){if(!(t instanceof s&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof s||(r=t),super(r,e),this.length=t}getSpan(t,e){let r=this.span;return 0>r&&(r=this.length.decode(t,e)),r}decode(t,e){void 0===e&&(e=0);let r=this.span;return 0>r&&(r=this.length.decode(t,e)),t.slice(e,e+r)}encode(t,e,r){let i=this.length;if(this.length instanceof s&&(i=t.length),!n.isBuffer(t)||i!==t.length)throw new TypeError(o("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(r+i>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),r,i,"hex"),this.length instanceof s&&this.length.encode(i,e,r),i}}class D extends i{constructor(t){super(-1,t)}getSpan(t,e){if(!n.isBuffer(t))throw new TypeError("b must be a Buffer");void 0===e&&(e=0);let r=e;for(;r<t.length&&0!==t[r];)r+=1;return 1+r-e}decode(t,e,r){void 0===e&&(e=0);let n=this.getSpan(t,e);return t.slice(e,e+n-1).toString("utf-8")}encode(t,e,r){void 0===r&&(r=0),"string"!==typeof t&&(t=t.toString());const i=new n(t,"utf8"),o=i.length;if(r+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(e,r),e[r+o]=0,o+1}}class N extends i{constructor(t,e){if("string"===typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e){if(!n.isBuffer(t))throw new TypeError("b must be a Buffer");return void 0===e&&(e=0),t.length-e}decode(t,e,r){void 0===e&&(e=0);let n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return t.slice(e,e+n).toString("utf-8")}encode(t,e,r){void 0===r&&(r=0),"string"!==typeof t&&(t=t.toString());const i=new n(t,"utf8"),o=i.length;if(0<=this.maxSpan&&this.maxSpan<o)throw new RangeError("text length exceeds maxSpan");if(r+o>e.length)throw new RangeError("encoding overruns Buffer");return i.copy(e,r),o}}class z extends i{constructor(t,e){super(0,e),this.value=t}decode(t,e,r){return this.value}encode(t,e,r){return 0}}e.ExternalLayout=s,e.GreedyCount=a,e.OffsetLayout=c,e.UInt=u,e.UIntBE=l,e.Int=d,e.IntBE=h,e.Float=_,e.FloatBE=v,e.Double=k,e.DoubleBE=S,e.Sequence=A,e.Structure=E,e.UnionDiscriminator=I,e.UnionLayoutDiscriminator=x,e.Union=P,e.VariantLayout=R,e.BitStructure=T,e.BitField=B,e.Boolean=C,e.Blob=M,e.CString=D,e.UTF8=N,e.Constant=z,e.greedy=(t,e)=>new a(t,e),e.offset=(t,e,r)=>new c(t,e,r),e.u8=t=>new u(1,t),e.u16=t=>new u(2,t),e.u24=t=>new u(3,t),e.u32=t=>new u(4,t),e.u40=t=>new u(5,t),e.u48=t=>new u(6,t),e.nu64=t=>new y(t),e.u16be=t=>new l(2,t),e.u24be=t=>new l(3,t),e.u32be=t=>new l(4,t),e.u40be=t=>new l(5,t),e.u48be=t=>new l(6,t),e.nu64be=t=>new m(t),e.s8=t=>new d(1,t),e.s16=t=>new d(2,t),e.s24=t=>new d(3,t),e.s32=t=>new d(4,t),e.s40=t=>new d(5,t),e.s48=t=>new d(6,t),e.ns64=t=>new b(t),e.s16be=t=>new h(2,t),e.s24be=t=>new h(3,t),e.s32be=t=>new h(4,t),e.s40be=t=>new h(5,t),e.s48be=t=>new h(6,t),e.ns64be=t=>new w(t),e.f32=t=>new _(t),e.f32be=t=>new v(t),e.f64=t=>new k(t),e.f64be=t=>new S(t),e.struct=(t,e,r)=>new E(t,e,r),e.bits=(t,e,r)=>new T(t,e,r),e.seq=(t,e,r)=>new A(t,e,r),e.union=(t,e,r)=>new P(t,e,r),e.unionLayoutDiscriminator=(t,e)=>new x(t,e),e.blob=(t,e)=>new M(t,e),e.cstr=t=>new D(t),e.utf8=(t,e)=>new N(t,e),e.const=(t,e)=>new z(t,e)},84760:t=>{"use strict";const e=(t,e)=>{if("string"!==typeof t&&!Array.isArray(t))throw new TypeError("Expected the input to be `string | string[]`");e=Object.assign({pascalCase:!1},e);if(t=Array.isArray(t)?t.map((t=>t.trim())).filter((t=>t.length)).join("-"):t.trim(),0===t.length)return"";if(1===t.length)return e.pascalCase?t.toUpperCase():t.toLowerCase();return t!==t.toLowerCase()&&(t=(t=>{let e=!1,r=!1,n=!1;for(let i=0;i<t.length;i++){const o=t[i];e&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(t=t.slice(0,i)+"-"+t.slice(i),e=!1,n=r,r=!0,i++):r&&n&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(t=t.slice(0,i-1)+"-"+t.slice(i-1),n=r,r=!1,e=!0):(e=o.toLowerCase()===o&&o.toUpperCase()!==o,n=r,r=o.toUpperCase()===o&&o.toLowerCase()!==o)}return t})(t)),t=t.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((t,e)=>e.toUpperCase())).replace(/\d+(\w|$)/g,(t=>t.toUpperCase())),r=t,e.pascalCase?r.charAt(0).toUpperCase()+r.slice(1):r;var r};t.exports=e,t.exports.default=e},66549:function(t){t.exports=function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",o="minute",s="hour",a="day",c="week",u="month",l="quarter",d="year",h="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},b={s:m,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),i=r%60;return(e<=0?"+":"-")+m(n,2,"0")+":"+m(i,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),i=e.clone().add(n,u),o=r-i<0,s=e.clone().add(n+(o?-1:1),u);return+(-(n+(r-i)/(o?i-s:s-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:u,y:d,w:c,d:a,D:h,h:s,m:o,s:i,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",_={};_[w]=y;var v=function(t){return t instanceof E},k=function t(e,r,n){var i;if(!e)return w;if("string"==typeof e){var o=e.toLowerCase();_[o]&&(i=o),r&&(_[o]=r,i=o);var s=e.split("-");if(!i&&s.length>1)return t(s[0])}else{var a=e.name;_[a]=e,i=a}return!n&&i&&(w=i),i||!n&&w},S=function(t,e){if(v(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new E(r)},A=b;A.l=k,A.i=v,A.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var E=function(){function y(t){this.$L=k(t.locale,null,!0),this.parse(t)}var m=y.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(A.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(p);if(n){var i=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return A},m.isValid=function(){return!(this.$d.toString()===f)},m.isSame=function(t,e){var r=S(t);return this.startOf(e)<=r&&r<=this.endOf(e)},m.isAfter=function(t,e){return S(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<S(t)},m.$g=function(t,e,r){return A.u(t)?this[e]:this.set(r,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var r=this,n=!!A.u(e)||e,l=A.p(t),f=function(t,e){var i=A.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?i:i.endOf(a)},p=function(t,e){return A.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},g=this.$W,y=this.$M,m=this.$D,b="set"+(this.$u?"UTC":"");switch(l){case d:return n?f(1,0):f(31,11);case u:return n?f(1,y):f(0,y+1);case c:var w=this.$locale().weekStart||0,_=(g<w?g+7:g)-w;return f(n?m-_:m+(6-_),y);case a:case h:return p(b+"Hours",0);case s:return p(b+"Minutes",1);case o:return p(b+"Seconds",2);case i:return p(b+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var r,c=A.p(t),l="set"+(this.$u?"UTC":""),f=(r={},r[a]=l+"Date",r[h]=l+"Date",r[u]=l+"Month",r[d]=l+"FullYear",r[s]=l+"Hours",r[o]=l+"Minutes",r[i]=l+"Seconds",r[n]=l+"Milliseconds",r)[c],p=c===a?this.$D+(e-this.$W):e;if(c===u||c===d){var g=this.clone().set(h,1);g.$d[f](p),g.init(),this.$d=g.set(h,Math.min(this.$D,g.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[A.p(t)]()},m.add=function(n,l){var h,f=this;n=Number(n);var p=A.p(l),g=function(t){var e=S(f);return A.w(e.date(e.date()+Math.round(t*n)),f)};if(p===u)return this.set(u,this.$M+n);if(p===d)return this.set(d,this.$y+n);if(p===a)return g(1);if(p===c)return g(7);var y=(h={},h[o]=e,h[s]=r,h[i]=t,h)[p]||1,m=this.$d.getTime()+n*y;return A.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=A.z(this),o=this.$H,s=this.$m,a=this.$M,c=r.weekdays,u=r.months,l=function(t,r,i,o){return t&&(t[r]||t(e,n))||i[r].slice(0,o)},d=function(t){return A.s(o%12||12,t,"0")},h=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:A.s(a+1,2,"0"),MMM:l(r.monthsShort,a,u,3),MMMM:l(u,a),D:this.$D,DD:A.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,c,2),ddd:l(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:A.s(o,2,"0"),h:d(1),hh:d(2),a:h(o,s,!0),A:h(o,s,!1),m:String(s),mm:A.s(s,2,"0"),s:String(this.$s),ss:A.s(this.$s,2,"0"),SSS:A.s(this.$ms,3,"0"),Z:i};return n.replace(g,(function(t,e){return e||p[t]||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,h,f){var p,g=A.p(h),y=S(n),m=(y.utcOffset()-this.utcOffset())*e,b=this-y,w=A.m(this,y);return w=(p={},p[d]=w/12,p[u]=w,p[l]=w/3,p[c]=(b-m)/6048e5,p[a]=(b-m)/864e5,p[s]=b/r,p[o]=b/e,p[i]=b/t,p)[g]||b,f?w:A.a(w)},m.daysInMonth=function(){return this.endOf(u).$D},m.$locale=function(){return _[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=k(t,e,!0);return n&&(r.$L=n),r},m.clone=function(){return A.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},y}(),I=E.prototype;return S.prototype=I,[["$ms",n],["$s",i],["$m",o],["$H",s],["$W",a],["$M",u],["$y",d],["$D",h]].forEach((function(t){I[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,E,S),t.$i=!0),S},S.locale=k,S.isDayjs=v,S.unix=function(t){return S(1e3*t)},S.en=_[w],S.Ls=_,S.p={},S}()},2674:(t,e,r)=>{"use strict";var n=r(30318),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,c=r(56060)(),u=a&&c,l=function(t,e,r,n){var i;(!(e in t)||"function"===typeof(i=n)&&"[object Function]"===o.call(i)&&n())&&(u?a(t,e,{configurable:!0,enumerable:!1,value:r,writable:!0}):t[e]=r)},d=function(t,e){var r=arguments.length>2?arguments[2]:{},o=n(e);i&&(o=s.call(o,Object.getOwnPropertySymbols(e)));for(var a=0;a<o.length;a+=1)l(t,o[a],e[o[a]],r[o[a]])};d.supportsDescriptors=!!u,t.exports=d},42330:t=>{"use strict";function e(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var o=Object.keys(Object(i)),s=0,a=o.length;s<a;s++){var c=o[s],u=Object.getOwnPropertyDescriptor(i,c);void 0!==u&&u.enumerable&&(r[c]=i[c])}}return r}t.exports={assign:e,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}}},56060:(t,e,r)=>{"use strict";var n=r(89611)("%Object.defineProperty%",!0),i=function(){if(n)try{return n({},"a",{value:1}),!0}catch(t){return!1}return!1};i.hasArrayLengthDefineBug=function(){if(!i())return null;try{return 1!==n([],"length",{value:1}).length}catch(t){return!0}},t.exports=i},53126:t=>{"use strict";t.exports=function(t){return t!==t}},26110:(t,e,r)=>{"use strict";var n=r(33130),i=r(2674),o=r(53126),s=r(83329),a=r(14321),c=n(s(),Number);i(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},83329:(t,e,r)=>{"use strict";var n=r(53126);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},14321:(t,e,r)=>{"use strict";var n=r(2674),i=r(83329);t.exports=function(){var t=i();return n(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},10119:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"===typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"===typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return"object"===typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var createOutputMethod=function(t,e){return function(r){return new Sha256(e,!0).update(r)[t]()}},createMethod=function(t){var e=createOutputMethod("hex",t);NODE_JS&&(e=nodeWrap(e,t)),e.create=function(){return new Sha256(t)},e.update=function(t){return e.create().update(t)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createOutputMethod(n,t)}return e},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(t){if("string"===typeof t)return crypto.createHash(algorithm).update(t,"utf8").digest("hex");if(null===t||void 0===t)throw new Error(ERROR);return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),Array.isArray(t)||ArrayBuffer.isView(t)||t.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(t)).digest("hex"):method(t)};return nodeMethod},createHmacOutputMethod=function(t,e){return function(r,n){return new HmacSha256(r,e,!0).update(n)[t]()}},createHmacMethod=function(t){var e=createHmacOutputMethod("hex",t);e.create=function(e){return new HmacSha256(e,t)},e.update=function(t,r){return e.create(t).update(r)};for(var r=0;r<OUTPUT_TYPES.length;++r){var n=OUTPUT_TYPES[r];e[n]=createHmacOutputMethod(n,t)}return e};function Sha256(t,e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function HmacSha256(t,e,r){var n,i=typeof t;if("string"===i){var o,s=[],a=t.length,c=0;for(n=0;n<a;++n)(o=t.charCodeAt(n))<128?s[c++]=o:o<2048?(s[c++]=192|o>>6,s[c++]=128|63&o):o<55296||o>=57344?(s[c++]=224|o>>12,s[c++]=128|o>>6&63,s[c++]=128|63&o):(o=65536+((1023&o)<<10|1023&t.charCodeAt(++n)),s[c++]=240|o>>18,s[c++]=128|o>>12&63,s[c++]=128|o>>6&63,s[c++]=128|63&o);t=s}else{if("object"!==i)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR)}t.length>64&&(t=new Sha256(e,!0).update(t).array());var u=[],l=[];for(n=0;n<64;++n){var d=t[n]||0;u[n]=92^d,l[n]=54^d}Sha256.call(this,e,r),this.update(l),this.oKeyPad=u,this.inner=!0,this.sharedMemory=r}Sha256.prototype.update=function(t){if(!this.finalized){var e,r=typeof t;if("string"!==r){if("object"!==r)throw new Error(ERROR);if(null===t)throw new Error(ERROR);if(ARRAY_BUFFER&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!Array.isArray(t)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(t)))throw new Error(ERROR);e=!0}for(var n,i,o=0,s=t.length,a=this.blocks;o<s;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),e)for(i=this.start;o<s&&i<64;++o)a[i>>2]|=t[o]<<SHIFT[3&i++];else for(i=this.start;o<s&&i<64;++o)(n=t.charCodeAt(o))<128?a[i>>2]|=n<<SHIFT[3&i++]:n<2048?(a[i>>2]|=(192|n>>6)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):n<55296||n>=57344?(a[i>>2]|=(224|n>>12)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++o)),a[i>>2]|=(240|n>>18)<<SHIFT[3&i++],a[i>>2]|=(128|n>>12&63)<<SHIFT[3&i++],a[i>>2]|=(128|n>>6&63)<<SHIFT[3&i++],a[i>>2]|=(128|63&n)<<SHIFT[3&i++]);this.lastByteIndex=i,this.bytes+=i-this.start,i>=64?(this.block=a[16],this.start=i-64,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var t,e,r,n,i,o,s,a,c,u=this.h0,l=this.h1,d=this.h2,h=this.h3,f=this.h4,p=this.h5,g=this.h6,y=this.h7,m=this.blocks;for(t=16;t<64;++t)e=((i=m[t-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,r=((i=m[t-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10,m[t]=m[t-16]+e+m[t-7]+r<<0;for(c=l&d,t=0;t<64;t+=4)this.first?(this.is224?(o=300032,y=(i=m[0]-1413257819)-150054599<<0,h=i+24177077<<0):(o=704751109,y=(i=m[0]-210244248)-1521486534<<0,h=i+143694565<<0),this.first=!1):(e=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),n=(o=u&l)^u&d^c,y=h+(i=y+(r=(f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&p^~f&g)+K[t]+m[t])<<0,h=i+(e+n)<<0),e=(h>>>2|h<<30)^(h>>>13|h<<19)^(h>>>22|h<<10),n=(s=h&u)^h&l^o,g=d+(i=g+(r=(y>>>6|y<<26)^(y>>>11|y<<21)^(y>>>25|y<<7))+(y&f^~y&p)+K[t+1]+m[t+1])<<0,e=((d=i+(e+n)<<0)>>>2|d<<30)^(d>>>13|d<<19)^(d>>>22|d<<10),n=(a=d&h)^d&u^s,p=l+(i=p+(r=(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7))+(g&y^~g&f)+K[t+2]+m[t+2])<<0,e=((l=i+(e+n)<<0)>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),n=(c=l&d)^l&h^a,f=u+(i=f+(r=(p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(p&g^~p&y)+K[t+3]+m[t+3])<<0,u=i+(e+n)<<0;this.h0=this.h0+u<<0,this.h1=this.h1+l<<0,this.h2=this.h2+d<<0,this.h3=this.h3+h<<0,this.h4=this.h4+f<<0,this.h5=this.h5+p<<0,this.h6=this.h6+g<<0,this.h7=this.h7+y<<0},Sha256.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[o>>28&15]+HEX_CHARS[o>>24&15]+HEX_CHARS[o>>20&15]+HEX_CHARS[o>>16&15]+HEX_CHARS[o>>12&15]+HEX_CHARS[o>>8&15]+HEX_CHARS[o>>4&15]+HEX_CHARS[15&o]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s];return this.is224||(c+=HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]),c},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,r=this.h2,n=this.h3,i=this.h4,o=this.h5,s=this.h6,a=this.h7,c=[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,i>>24&255,i>>16&255,i>>8&255,255&i,o>>24&255,o>>16&255,o>>8&255,255&o,s>>24&255,s>>16&255,s>>8&255,255&s];return this.is224||c.push(a>>24&255,a>>16&255,a>>8&255,255&a),c},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),e.setUint32(20,this.h5),e.setUint32(24,this.h6),this.is224||e.setUint32(28,this.h7),t},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(t),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},87963:t=>{"use strict";var e=function(t){return t!==t};t.exports=function(t,r){return 0===t&&0===r?1/t===1/r:t===r||!(!e(t)||!e(r))}},94395:(t,e,r)=>{"use strict";var n=r(2674),i=r(33130),o=r(87963),s=r(80083),a=r(30878),c=i(s(),Object);n(c,{getPolyfill:s,implementation:o,shim:a}),t.exports=c},80083:(t,e,r)=>{"use strict";var n=r(87963);t.exports=function(){return"function"===typeof Object.is?Object.is:n}},30878:(t,e,r)=>{"use strict";var n=r(80083),i=r(2674);t.exports=function(){var t=n();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},60870:(t,e,r)=>{"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=r(20941),a=Object.prototype.propertyIsEnumerable,c=!a.call({toString:null},"toString"),u=a.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(t){var e=t.constructor;return e&&e.prototype===t},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"===typeof window)return!1;for(var t in window)try{if(!h["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"===typeof window[t])try{d(window[t])}catch(e){return!0}}catch(e){return!0}return!1}();n=function(t){var e=null!==t&&"object"===typeof t,r="[object Function]"===o.call(t),n=s(t),a=e&&"[object String]"===o.call(t),h=[];if(!e&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=u&&r;if(a&&t.length>0&&!i.call(t,0))for(var g=0;g<t.length;++g)h.push(String(g));if(n&&t.length>0)for(var y=0;y<t.length;++y)h.push(String(y));else for(var m in t)p&&"prototype"===m||!i.call(t,m)||h.push(String(m));if(c)for(var b=function(t){if("undefined"===typeof window||!f)return d(t);try{return d(t)}catch(e){return!1}}(t),w=0;w<l.length;++w)b&&"constructor"===l[w]||!i.call(t,l[w])||h.push(l[w]);return h}}t.exports=n},30318:(t,e,r)=>{"use strict";var n=Array.prototype.slice,i=r(20941),o=Object.keys,s=o?function(t){return o(t)}:r(60870),a=Object.keys;s.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return i(t)?a(n.call(t)):a(t)})}else Object.keys=s;return Object.keys||s},t.exports=s},20941:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var r=e.call(t),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==t&&"object"===typeof t&&"number"===typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),n}},578:(t,e,r)=>{"use strict";var n=r(61250);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,r,i,o,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},43091:(t,e,r)=>{t.exports=r(578)()},61250:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9517:(t,e,r)=>{"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.CopyToClipboard=void 0;var i=a(r(92950)),o=a(r(29548)),s=["text","onCopy","options","children"];function a(t){return t&&t.__esModule?t:{default:t}}function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){b(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e){if(null==t)return{};var r,n,i=function(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(n=0;n<o.length;n++)r=o[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e){return f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},f(t,e)}function p(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=m(t);if(e){var i=m(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return g(this,r)}}function g(t,e){if(e&&("object"===n(e)||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return y(t)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function b(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var w=function(t){!function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(c,t);var e,r,n,a=p(c);function c(){var t;d(this,c);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return b(y(t=a.call.apply(a,[this].concat(r))),"onClick",(function(e){var r=t.props,n=r.text,s=r.onCopy,a=r.children,c=r.options,u=i.default.Children.only(a),l=(0,o.default)(n,c);s&&s(n,l),u&&u.props&&"function"===typeof u.props.onClick&&u.props.onClick(e)})),t}return e=c,(r=[{key:"render",value:function(){var t=this.props,e=(t.text,t.onCopy,t.options,t.children),r=l(t,s),n=i.default.Children.only(e);return i.default.cloneElement(n,u(u({},r),{},{onClick:this.onClick}))}}])&&h(e.prototype,r),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),c}(i.default.PureComponent);e.CopyToClipboard=w,b(w,"defaultProps",{onCopy:void 0,options:void 0})},51518:(t,e,r)=>{"use strict";var n=r(9517).CopyToClipboard;n.CopyToClipboard=n,t.exports=n},21111:t=>{var e="undefined"!==typeof Element,r="function"===typeof Map,n="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(t,s){if(t===s)return!0;if(t&&s&&"object"==typeof t&&"object"==typeof s){if(t.constructor!==s.constructor)return!1;var a,c,u,l;if(Array.isArray(t)){if((a=t.length)!=s.length)return!1;for(c=a;0!==c--;)if(!o(t[c],s[c]))return!1;return!0}if(r&&t instanceof Map&&s instanceof Map){if(t.size!==s.size)return!1;for(l=t.entries();!(c=l.next()).done;)if(!s.has(c.value[0]))return!1;for(l=t.entries();!(c=l.next()).done;)if(!o(c.value[1],s.get(c.value[0])))return!1;return!0}if(n&&t instanceof Set&&s instanceof Set){if(t.size!==s.size)return!1;for(l=t.entries();!(c=l.next()).done;)if(!s.has(c.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(s)){if((a=t.length)!=s.length)return!1;for(c=a;0!==c--;)if(t[c]!==s[c])return!1;return!0}if(t.constructor===RegExp)return t.source===s.source&&t.flags===s.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===s.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===s.toString();if((a=(u=Object.keys(t)).length)!==Object.keys(s).length)return!1;for(c=a;0!==c--;)if(!Object.prototype.hasOwnProperty.call(s,u[c]))return!1;if(e&&t instanceof Element)return!1;for(c=a;0!==c--;)if(("_owner"!==u[c]&&"__v"!==u[c]&&"__o"!==u[c]||!t.$$typeof)&&!o(t[u[c]],s[u[c]]))return!1;return!0}return t!==t&&s!==s}t.exports=function(t,e){try{return o(t,e)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}}},62175:(t,e,r)=>{"use strict";r(25882);var n=r(92950),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,r){var n,o={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(l=e.ref),e)a.call(e,n)&&!c.hasOwnProperty(n)&&(o[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===o[n]&&(o[n]=e[n]);return{$$typeof:i,type:t,key:u,ref:l,props:o,_owner:s.current}}e.jsx=u,e.jsxs=u},38739:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Counter=void 0;const n=r(45263),i=r(92950);e.Counter=()=>{const[t,e]=(0,i.useState)(0);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["You clicked ",t," times"]}),(0,n.jsx)("button",Object.assign({onClick:()=>e(t+1)},{children:"Increase"})),(0,n.jsx)("button",Object.assign({onClick:()=>e(t-1)},{children:"Decrease"})),(0,n.jsx)("button",Object.assign({onClick:()=>e(Math.floor(100*Math.random()+t))},{children:"Random"}))]})}},52761:function(t,e,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);i&&!("get"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),i=this&&this.__exportStar||function(t,e){for(var r in t)"default"===r||Object.prototype.hasOwnProperty.call(e,r)||n(e,t,r)};Object.defineProperty(e,"__esModule",{value:!0}),e.Counter=e.decodeInstruction=e.decodeSplInstruction=void 0;var o=r(16872);Object.defineProperty(e,"decodeSplInstruction",{enumerable:!0,get:function(){return o.decodeSplInstruction}});var s=r(22447);Object.defineProperty(e,"decodeInstruction",{enumerable:!0,get:function(){return s.decodeInstruction}}),i(r(6677),e);var a=r(38739);Object.defineProperty(e,"Counter",{enumerable:!0,get:function(){return a.Counter}})},22447:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeInstruction=void 0;const n=r(33804);e.decodeInstruction=(t,e,r)=>{const i=new n.BorshInstructionCoder(r).decode(e);if(!i)return null;const o=r.instructions.find((t=>t.name===(null===i||void 0===i?void 0:i.name)));if(!o)return null;const s=new Map;return o.accounts.map(((e,r)=>{const n=t[r];if(!n)throw new Error(`Invalid Account Meta index ${r}`);s.set(e.name,n)})),{accounts:s,name:i.name,data:i.data}}},16872:(t,e,r)=>{"use strict";var n=r(97429).Buffer;Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSplInstruction=void 0;const i=r(33804),o=r(7867),s=r(22447);e.decodeSplInstruction=(t,e)=>{const r=new i.BorshInstructionCoder(c),u=Array.from(e)[0],l=a[u],d=r.sighashLayouts;let h="";d.forEach(((t,e)=>{t.name===l&&(h=e)}));const f=n.concat([o.bs58.decode(h),e.slice(1,e.length)]);return(0,s.decodeInstruction)(t,f,c)};const a={0:"initializeMint",1:"initializeAccount",2:"initializeMultisig",3:"transfer",4:"approve",5:"revoke",6:"setAuthority",7:"mintTo",8:"burn",9:"closeAccount",10:"freezeAccount",11:"thawAccount",12:"transferChecked",13:"approvedChecked",14:"mintToChecked",15:"burnedChecked",16:"InitializeAccount2",17:"syncNative",18:"initializeAccount3",19:"initializeMultisig2",20:"initializeMint2"},c={version:"0.1.0",name:"spl_token",instructions:[{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]}],accounts:[],types:[],errors:[]}},6677:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})}}]);
//# sourceMappingURL=152.1d2193eb.chunk.js.map