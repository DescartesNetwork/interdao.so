/*! For license information please see vendors-node_modules_interdao_core_dist_app_index_js-node_modules_sen-use_app_dist_components-3ddd74.ff91d7d5.chunk.js.LICENSE.txt */
(globalThis.webpackChunkinter_dao=globalThis.webpackChunkinter_dao||[]).push([["vendors-node_modules_interdao_core_dist_app_index_js-node_modules_sen-use_app_dist_components-3ddd74"],{879:(e,t)=>{"use strict";const r="undefined"!==typeof BigUint64Array,n=Symbol(),i=1024;function o(e,t){const r=new Uint32Array(e),n=new Uint16Array(e);var o=r[t+-4>>>2]>>>1,s=t>>>1;if(o<=i)return String.fromCharCode.apply(String,n.subarray(s,s+o));const a=[];do{const e=n[s+i-1],t=e>=55296&&e<56320?1023:i;a.push(String.fromCharCode.apply(String,n.subarray(s,s+=t))),o-=t}while(o>i);return a.join("")+String.fromCharCode.apply(String,n.subarray(s,s+o))}function s(e){const t={};function r(e,t){return e?o(e.buffer,t):"<yet unknown>"}const n=e.env=e.env||{};return n.abort=n.abort||function(e,i,o,s){const a=t.memory||n.memory;throw Error("abort: "+r(a,e)+" at "+r(a,i)+":"+o+":"+s)},n.trace=n.trace||function(e,i){const o=t.memory||n.memory;console.log("trace: "+r(o,e)+(i?" ":"")+Array.prototype.slice.call(arguments,2,2+i).join(", "))},e.Math=e.Math||Math,e.Date=e.Date||Date,t}function a(e,t){const n=t.exports,i=n.memory,s=n.table,a=n.__alloc,c=n.__retain,u=n.__rtti_base||-1;function l(e){const t=new Uint32Array(i.buffer);if((e>>>=0)>=t[u>>>2])throw Error("invalid id: "+e);return t[(u+4>>>2)+2*e]}function f(e){const t=new Uint32Array(i.buffer);if((e>>>=0)>=t[u>>>2])throw Error("invalid id: "+e);return t[(u+4>>>2)+2*e+1]}function h(e){return 31-Math.clz32(e>>>5&31)}function p(e,t,r){const n=i.buffer;if(r)switch(e){case 2:return new Float32Array(n);case 3:return new Float64Array(n)}else switch(e){case 0:return new(t?Int8Array:Uint8Array)(n);case 1:return new(t?Int16Array:Uint16Array)(n);case 2:return new(t?Int32Array:Uint32Array)(n);case 3:return new(t?BigInt64Array:BigUint64Array)(n)}throw Error("unsupported align: "+e)}function y(e){const t=new Uint32Array(i.buffer),r=t[e+-8>>>2],n=l(r);if(!(1&n))throw Error("not an array: "+r);const o=h(n);var s=t[e+4>>>2];const a=2&n?t[e+12>>>2]:t[s+-4>>>2]>>>o;return p(o,1024&n,2048&n).subarray(s>>>=o,s+a)}function m(e,t,r){return new e(g(e,t,r))}function g(e,t,r){const n=i.buffer,o=new Uint32Array(n),s=o[r+4>>>2];return new e(n,s,o[s+-4>>>2]>>>t)}return e.__allocString=function(e){const t=e.length,r=a(t<<1,1),n=new Uint16Array(i.buffer);for(var o=0,s=r>>>1;o<t;++o)n[s+o]=e.charCodeAt(o);return r},e.__getString=function(e){const t=i.buffer;if(1!==new Uint32Array(t)[e+-8>>>2])throw Error("not a string: "+e);return o(t,e)},e.__allocArray=function(e,t){const r=l(e);if(!(3&r))throw Error("not an array: "+e+" @ "+r);const n=h(r),o=t.length,s=a(o<<n,0),u=a(2&r?16:12,e),d=new Uint32Array(i.buffer);d[u+0>>>2]=c(s),d[u+4>>>2]=s,d[u+8>>>2]=o<<n,2&r&&(d[u+12>>>2]=o);const f=p(n,1024&r,2048&r);if(8192&r)for(let i=0;i<o;++i)f[(s>>>n)+i]=c(t[i]);else f.set(t,s>>>n);return u},e.__getArrayView=y,e.__getArray=function(e){const t=y(e),r=t.length,n=new Array(r);for(let i=0;i<r;i++)n[i]=t[i];return n},e.__getArrayBuffer=function(e){const t=i.buffer,r=new Uint32Array(t)[e+-4>>>2];return t.slice(e,e+r)},e.__getInt8Array=m.bind(null,Int8Array,0),e.__getInt8ArrayView=g.bind(null,Int8Array,0),e.__getUint8Array=m.bind(null,Uint8Array,0),e.__getUint8ArrayView=g.bind(null,Uint8Array,0),e.__getUint8ClampedArray=m.bind(null,Uint8ClampedArray,0),e.__getUint8ClampedArrayView=g.bind(null,Uint8ClampedArray,0),e.__getInt16Array=m.bind(null,Int16Array,1),e.__getInt16ArrayView=g.bind(null,Int16Array,1),e.__getUint16Array=m.bind(null,Uint16Array,1),e.__getUint16ArrayView=g.bind(null,Uint16Array,1),e.__getInt32Array=m.bind(null,Int32Array,2),e.__getInt32ArrayView=g.bind(null,Int32Array,2),e.__getUint32Array=m.bind(null,Uint32Array,2),e.__getUint32ArrayView=g.bind(null,Uint32Array,2),r&&(e.__getInt64Array=m.bind(null,BigInt64Array,3),e.__getInt64ArrayView=g.bind(null,BigInt64Array,3),e.__getUint64Array=m.bind(null,BigUint64Array,3),e.__getUint64ArrayView=g.bind(null,BigUint64Array,3)),e.__getFloat32Array=m.bind(null,Float32Array,2),e.__getFloat32ArrayView=g.bind(null,Float32Array,2),e.__getFloat64Array=m.bind(null,Float64Array,3),e.__getFloat64ArrayView=g.bind(null,Float64Array,3),e.__instanceof=function(e,t){const r=new Uint32Array(i.buffer);var n=r[e+-8>>>2];if(n<=r[u>>>2])do{if(n==t)return!0}while(n=f(n));return!1},e.memory=e.memory||i,e.table=e.table||s,d(n,e)}function c(e){return"undefined"!==typeof Response&&e instanceof Response}async function u(e,t){return c(e=await e)?l(e,t):a(s(t||(t={})),await WebAssembly.instantiate(e instanceof WebAssembly.Module?e:await WebAssembly.compile(e),t))}async function l(e,t){return WebAssembly.instantiateStreaming?a(s(t||(t={})),(await WebAssembly.instantiateStreaming(e,t)).instance):u(c(e=await e)?e.arrayBuffer():e,t)}function d(e,t){var r=t?Object.create(t):{},i=e.__argumentsLength?function(t){e.__argumentsLength.value=t}:e.__setArgumentsLength||e.__setargc||function(){};for(let o in e){if(!Object.prototype.hasOwnProperty.call(e,o))continue;const t=e[o];let s=o.split("."),a=r;for(;s.length>1;){let e=s.shift();Object.prototype.hasOwnProperty.call(a,e)||(a[e]={}),a=a[e]}let c=s[0],u=c.indexOf("#");if(u>=0){let r=c.substring(0,u),s=a[r];if("undefined"===typeof s||!s.prototype){let e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.wrap(e.prototype.constructor(0,...r))};e.prototype={valueOf:function(){return this[n]}},e.wrap=function(t){return Object.create(e.prototype,{[n]:{value:t,writable:!1}})},s&&Object.getOwnPropertyNames(s).forEach((t=>Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t)))),a[r]=e}if(c=c.substring(u+1),a=a[r].prototype,/^(get|set):/.test(c)){if(!Object.prototype.hasOwnProperty.call(a,c=c.substring(4))){let t=e[o.replace("set:","get:")],r=e[o.replace("get:","set:")];Object.defineProperty(a,c,{get:function(){return t(this[n])},set:function(e){r(this[n],e)},enumerable:!0})}}else"constructor"===c?(a[c]=function(){return i(arguments.length),t(...arguments)}).original=t:(a[c]=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return i(r.length),t(this[n],...r)}).original=t}else/^(get|set):/.test(c)?Object.prototype.hasOwnProperty.call(a,c=c.substring(4))||Object.defineProperty(a,c,{get:e[o.replace("set:","get:")],set:e[o.replace("get:","set:")],enumerable:!0}):"function"===typeof t&&t!==i?(a[c]=function(){return i(arguments.length),t(...arguments)}).original=t:a[c]=t}return r}t.instantiate=u,t.instantiateSync=function(e,t){return a(s(t||(t={})),new WebAssembly.Instance(e instanceof WebAssembly.Module?e:new WebAssembly.Module(e),t))},t.instantiateStreaming=l,t.demangle=d},24460:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FEE_OPTIONS=t.RECEIPT_DISCRIMINATOR=t.PROPOSAL_DISCRIMINATOR=t.DAO_DISCRIMINATOR=t.DEFAULT_INTERDAO_IDL=t.DEFAULT_INTERDAO_PROGRAM_ID=t.DEFAULT_RPC_ENDPOINT=void 0;const i=n(r(84201)),o=r(50794),s=r(95339);t.DEFAULT_RPC_ENDPOINT="https://api.devnet.solana.com",t.DEFAULT_INTERDAO_PROGRAM_ID="DaoMWqkUbZd1amaqxoxqCBveRbdcVZbVFNqa22EwCfMi",t.DEFAULT_INTERDAO_IDL=s.IDL,t.DAO_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("dao")),t.PROPOSAL_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("proposal")),t.RECEIPT_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("receipt"));t.FEE_OPTIONS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new o.web3.Keypair).publicKey.toBase58();return{tax:new o.BN(0),taxmanAddress:e,revenue:new o.BN(0),revenuemanAddress:e}}},60284:function(e,t,r){"use strict";var n=r(97429).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const c=s(r(70320)),u=r(50794),l=r(24460),d=r(94046),f=r(34209);t.default=class{constructor(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.DEFAULT_RPC_ENDPOINT,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.DEFAULT_INTERDAO_PROGRAM_ID;if(this.addListener=(e,t)=>a(this,void 0,void 0,(function*(){return yield this.program.addEventListener(e,(e=>t(e)))})),this.removeListener=e=>a(this,void 0,void 0,(function*(){try{yield this.program.removeEventListener(e)}catch(t){console.warn(t)}})),this.getCurrentUnixTimestamp=()=>a(this,void 0,void 0,(function*(){const{data:e}=(yield this.program.provider.connection.getAccountInfo(u.web3.SYSVAR_CLOCK_PUBKEY))||{},t=new c.struct([{key:"slot",type:"u64"},{key:"epoch_start_timestamp",type:"i64"},{key:"epoch",type:"u64"},{key:"leader_schedule_epoch",type:"u64"},{key:"unix_timestamp",type:"i64"}]);t.fromBuffer(e);const{unix_timestamp:r}=t.value;return Number(r)})),this.parseDaoData=e=>this.program.coder.accounts.decode("dao",e),this.getDaoData=e=>a(this,void 0,void 0,(function*(){return this.program.account.dao.fetch(e)})),this.parseProposalData=e=>this.program.coder.accounts.decode("proposal",e),this.parseContentData=e=>this.program.coder.accounts.decode("content",e),this.getProposalData=e=>a(this,void 0,void 0,(function*(){return this.program.account.proposal.fetch(e)})),this.parseReceiptData=e=>this.program.coder.accounts.decode("receipt",e),this.getReceiptData=e=>a(this,void 0,void 0,(function*(){return this.program.account.receipt.fetch(e)})),this.deriveProposalAddress=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(t,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid DAO address");if(r.isNeg())throw new Error("Invalid index must be greater than or equal to zero");const t=(yield(0,f.findProposal)(new u.BN(r),new u.web3.PublicKey(e),this.program.programId)).toBase58();if(n){let n,o;try{const{dao:e,index:r}=yield this.getProposalData(t);n=e.toBase58(),o=r}catch(i){throw new Error(`This proposal ${t} is not initialized yet`)}if(e!==n)throw new Error("Violated DAO address");if(!r.eq(o))throw new Error("Violated index")}return t}))},this.deriveReceiptAddress=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a(t,void 0,void 0,(function*(){if(e.isNeg())throw new Error("Invalid index must be greater than or equal to zero");if(!(0,f.isAddress)(r))throw new Error("Invalid proposal address");const t=(yield(0,f.findReceipt)(e,new u.web3.PublicKey(r),this._provider.wallet.publicKey,this.program.programId)).toBase58();if(n){let n,o,s;try{const{authority:e,proposal:r,index:i}=yield this.getReceiptData(t);n=e.toBase58(),o=r.toBase58(),s=i}catch(i){throw new Error(`This receipt ${t} is not initialized yet`)}if(this._provider.wallet.publicKey.toBase58()!==n)throw new Error("Violated authority address");if(r!==o)throw new Error("Violated proposal address");if(!e.eq(s))throw new Error("Violated index")}return t}))},this.findAvailableReceiptIndex=(e,t)=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");if(!(0,f.isAddress)(t))throw new Error("Invalid authority address");let r=new u.BN(0);const n=new u.BN(1);for(;;)try{yield this.deriveReceiptAddress(r,e,!0),r=r.add(n)}catch(i){return r}})),this.deriveTreasurerAddress=e=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");const t=new u.web3.PublicKey(e),[r]=yield u.web3.PublicKey.findProgramAddress([n.from("treasurer"),t.toBuffer()],this.program.programId);return r.toBase58()})),this.deriveMasterAddress=e=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid DAO address");const t=new u.web3.PublicKey(e),[r]=yield u.web3.PublicKey.findProgramAddress([n.from("master"),t.toBuffer()],this.program.programId);return r.toBase58()})),this.initializeDao=function(e,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.web3.Keypair.generate(),o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:d.DaoRegimes.Dictatorial,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];return a(t,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid token address");if(!r.gt(new u.BN(0)))throw new Error("Invalid token supply must be greater than zero");if(32!==n.length)throw new Error("Invalid metadata path");const t=yield this.deriveMasterAddress(i.publicKey.toBase58()),a=new u.web3.PublicKey(t),l=new u.web3.PublicKey(e);return{txId:yield this.program.rpc.initializeDao(o,r,n,s,c,{accounts:{dao:i.publicKey,authority:this._provider.wallet.publicKey,master:a,mint:l,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY},signers:[i]}),daoAddress:i.publicKey.toBase58()}}))},this.initializeProposal=e=>{let{daoAddress:t,startDate:r,endDate:n,metadata:i,consensusMechanism:o=d.ConsensusMechanisms.StakedTokenCounter,consensusQuorum:s=d.ConsensusQuorums.Half,feeOptions:c={},sendAndConfirm:h=!0}=e;return a(this,void 0,void 0,(function*(){const{tax:e,taxmanAddress:a,revenue:d,revenuemanAddress:p}=Object.assign(Object.assign({},(0,l.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),c);if(!(0,f.isAddress)(t))throw new Error("Invalid DAO address");if(!(0,f.isAddress)(a))throw new Error("Invalid taxman address");if(!(0,f.isAddress)(p))throw new Error("Invalid revenue receiver address");if(32!==i.length)throw new Error("Invalid metadata path");const y=yield this.getCurrentUnixTimestamp();if(r<=y)throw new Error("Invalid start date");if(n<=r)throw new Error("Invalid end date");const{nonce:m}=yield this.getDaoData(t),g=yield this.deriveProposalAddress(t,m),w=new u.web3.PublicKey(g),b=new u.web3.PublicKey(t),v=new u.web3.PublicKey(a),A=new u.web3.PublicKey(p),_=yield this.program.methods.initializeProposal(o,s,new u.BN(r),new u.BN(n),Array.from(i),e,d).accounts({caller:this._provider.wallet.publicKey,proposal:w,dao:b,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY,taxman:v,revenueman:A}).transaction();let E="";return h&&(E=yield this._provider.sendAndConfirm(_)),{txId:E,tx:_,proposalAddress:w.toBase58()}}))},this.initializeProposalInstruction=e=>{let{dao:t,proposal:r,invokedProgramAddress:n,txIndex:i,data:o,pubkeys:s,isSigners:c,isWritables:l,isMasters:d,sendAndConfirm:f,proposalInstruction:h=u.web3.Keypair.generate()}=e;return a(this,void 0,void 0,(function*(){if(s.length!==c.length||s.length!==l.length||s.length!==d.length)throw new Error("Invalid length of pubkeys and thier flags (isSigner, isWritable, isMaster)");const e=[];for(let t=0;t<l.length;t++){const r=s.find(((e,r)=>s[t].toBase58()===e.toBase58()&&!0===l[r]&&t!==r));e.push(!!r||l[t])}const a=yield this.program.methods.initializeProposalInstruction(o,s,c,e,d,i).accounts({caller:this._provider.wallet.publicKey,proposal:new u.web3.PublicKey(r),proposalInstruction:h.publicKey,dao:t,invokedProgram:new u.web3.PublicKey(n),systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();let p="";return f&&(p=yield this._provider.sendAndConfirm(a,[h])),{txId:p,tx:a}}))},this.executeProposal=e=>{let{proposal:t,sendAndConfirm:r=!0}=e;return a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(t))throw new Error("Invalid proposal address");const{dao:e,totalExecuted:n,totalInstruction:i}=yield this.program.account.proposal.fetch(t),o=yield this.program.account.proposalInstruction.all([{memcmp:{offset:8,bytes:t}}]),s=new u.web3.Transaction,a=yield this.deriveMasterAddress(e.toBase58());for(let t=n;t<i;t++){const r=o.find((e=>e.account.index===t)),{accounts:n,invokedProgram:i,proposal:c}=r.account,u=n.map((e=>{let{pubkey:t,isSigner:r,isWritable:n,isMaster:i}=e;return{pubkey:t,isSigner:r&&!i,isWritable:n}})),l=yield this.program.methods.executeProposalInstruction().accounts({caller:this._provider.wallet.publicKey,dao:e,proposal:c,proposalInstruction:r.publicKey,master:a,invokedProgram:i}).remainingAccounts(u).instruction();s.add(l)}let c="";return r&&(c=yield this._provider.sendAndConfirm(s)),{txId:c}}))},this.voteFor=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return a(t,void 0,void 0,(function*(){const{tax:t,taxmanAddress:o,revenue:s,revenuemanAddress:a}=Object.assign(Object.assign({},(0,l.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),n);if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");if(!(0,f.isAddress)(o))throw new Error("Invalid taxman address");if(!(0,f.isAddress)(a))throw new Error("Invalid revenue receiver address");if(r.isNeg()||r.isZero())throw new Error("Invalid amount");const c=new u.web3.PublicKey(e),{dao:d}=yield this.getProposalData(e),{mint:h}=yield this.getDaoData(d.toBase58()),p=this._provider.wallet.publicKey,y=yield u.utils.token.associatedAddress({mint:h,owner:p}),m=yield this.findAvailableReceiptIndex(e,p.toBase58()),g=yield this.deriveReceiptAddress(m,e),w=new u.web3.PublicKey(g),b=yield this.deriveTreasurerAddress(e),v=new u.web3.PublicKey(b),A=yield u.utils.token.associatedAddress({mint:h,owner:v}),_=new u.web3.PublicKey(o),E=new u.web3.PublicKey(a);let S="";const k=yield this.program.methods.voteFor(m,r,t,s).accounts({authority:p,src:y,treasurer:v,mint:h,treasury:A,proposal:c,dao:d,receipt:w,taxman:_,revenueman:E,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();return i&&(S=yield this._provider.sendAndConfirm(k)),{txId:S,receiptAddress:g,tx:k}}))},this.voteNftFor=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return a(t,void 0,void 0,(function*(){const{tax:t,taxmanAddress:o,revenue:s,revenuemanAddress:a}=Object.assign(Object.assign({},(0,l.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),n);if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");if(!(0,f.isAddress)(o))throw new Error("Invalid taxman address");if(!(0,f.isAddress)(a))throw new Error("Invalid revenue receiver address");const c=new u.web3.PublicKey(e),d=new u.web3.PublicKey(r),h=(yield(0,f.findNftMetadataAddress)(d)).toBase58(),{dao:p}=yield this.getProposalData(e),y=this._provider.wallet.publicKey,m=yield u.utils.token.associatedAddress({mint:d,owner:y}),g=yield this.findAvailableReceiptIndex(e,y.toBase58()),w=yield this.deriveReceiptAddress(g,e),b=new u.web3.PublicKey(w),v=yield this.deriveTreasurerAddress(e),A=new u.web3.PublicKey(v),_=yield u.utils.token.associatedAddress({mint:d,owner:A}),E=new u.web3.PublicKey(o),S=new u.web3.PublicKey(a);let k="";const x=yield this.program.methods.voteNftFor(g,t,s).accounts({authority:y,src:m,treasurer:A,mint:d,metadata:h,treasury:_,proposal:c,dao:p,receipt:b,taxman:E,revenueman:S,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();return i&&(k=yield this._provider.sendAndConfirm(x)),{txId:k,receiptAddress:w,tx:x}}))},this.voteAgainst=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return a(t,void 0,void 0,(function*(){const{tax:t,taxmanAddress:o,revenue:s,revenuemanAddress:a}=Object.assign(Object.assign({},(0,l.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),n);if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");if(!(0,f.isAddress)(o))throw new Error("Invalid taxman address");if(!(0,f.isAddress)(a))throw new Error("Invalid revenue receiver address");if(r.isNeg()||r.isZero())throw new Error("Invalid amount");const c=new u.web3.PublicKey(e),{dao:d}=yield this.getProposalData(e),{mint:h}=yield this.getDaoData(d.toBase58()),p=this._provider.wallet.publicKey,y=yield u.utils.token.associatedAddress({mint:h,owner:p}),m=yield this.findAvailableReceiptIndex(e,p.toBase58()),g=yield this.deriveReceiptAddress(m,e),w=new u.web3.PublicKey(g),b=yield this.deriveTreasurerAddress(e),v=new u.web3.PublicKey(b),A=yield u.utils.token.associatedAddress({mint:h,owner:v}),_=new u.web3.PublicKey(o),E=new u.web3.PublicKey(a);let S="";const k=yield this.program.methods.voteAgainst(m,r,t,s).accounts({authority:p,src:y,treasurer:v,mint:h,treasury:A,proposal:c,dao:d,receipt:w,taxman:_,revenueman:E,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();return i&&(S=yield this._provider.sendAndConfirm(k)),{txId:S,receiptAddress:g,tx:k}}))},this.voteNftAgainst=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return a(t,void 0,void 0,(function*(){const{tax:t,taxmanAddress:o,revenue:s,revenuemanAddress:a}=Object.assign(Object.assign({},(0,l.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58())),n);if(!(0,f.isAddress)(e))throw new Error("Invalid proposal address");if(!(0,f.isAddress)(o))throw new Error("Invalid taxman address");if(!(0,f.isAddress)(a))throw new Error("Invalid revenue receiver address");const c=new u.web3.PublicKey(e),d=new u.web3.PublicKey(r),h=yield(0,f.findNftMetadataAddress)(d),p=new u.web3.PublicKey(h),{dao:y}=yield this.getProposalData(e),m=this._provider.wallet.publicKey,g=yield u.utils.token.associatedAddress({mint:d,owner:m}),w=yield this.findAvailableReceiptIndex(e,m.toBase58()),b=yield this.deriveReceiptAddress(w,e),v=new u.web3.PublicKey(b),A=yield this.deriveTreasurerAddress(e),_=new u.web3.PublicKey(A),E=yield u.utils.token.associatedAddress({mint:d,owner:_}),S=new u.web3.PublicKey(o),k=new u.web3.PublicKey(a);let x="",I=yield this.program.methods.voteNftAgainst(w,t,s).accounts({authority:m,src:g,treasurer:_,mint:d,metadata:p,treasury:E,proposal:c,dao:y,receipt:v,taxman:S,revenueman:k,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();return i&&(x=yield this._provider.sendAndConfirm(I)),{txId:x,receiptAddress:b,tx:I}}))},this.close=function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return a(t,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid receipt address");const{proposal:t}=yield this.getReceiptData(e),n=t.toBase58(),{dao:i,endDate:o}=yield this.getProposalData(n),{mint:s}=yield this.getDaoData(i.toBase58()),a=this._provider.wallet.publicKey,c=yield u.utils.token.associatedAddress({mint:s,owner:a}),l=new u.web3.PublicKey(e),d=yield this.deriveTreasurerAddress(n),h=new u.web3.PublicKey(d),p=yield u.utils.token.associatedAddress({mint:s,owner:h});if((yield this.getCurrentUnixTimestamp())<=o.toNumber())throw new Error("The proposal is not ended yet");let y="";const m=yield this.program.methods.close().accounts({authority:a,dst:c,treasurer:h,mint:s,treasury:p,proposal:t,dao:i,receipt:l,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();return r&&(y=yield this._provider.sendAndConfirm(m)),{txId:y,receiptAddress:e,tx:m}}))},this.closeNftVoting=function(e){let r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return a(t,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid receipt address");const{proposal:t,mint:n}=yield this.getReceiptData(e),i=t.toBase58(),{dao:o,endDate:s}=yield this.getProposalData(i),a=(yield(0,f.findNftMetadataAddress)(n)).toBase58(),c=this._provider.wallet.publicKey,l=yield u.utils.token.associatedAddress({mint:n,owner:c}),d=new u.web3.PublicKey(e),h=yield this.deriveTreasurerAddress(i),p=new u.web3.PublicKey(h),y=yield u.utils.token.associatedAddress({mint:n,owner:p});if((yield this.getCurrentUnixTimestamp())<=s.toNumber())throw new Error("The proposal is not ended yet");let m="";const g=yield this.program.methods.closeNftVoting().accounts({authority:c,dst:l,treasurer:p,mint:n,metadata:a,treasury:y,proposal:t,dao:o,receipt:d,tokenProgram:u.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:u.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:u.web3.SystemProgram.programId,rent:u.web3.SYSVAR_RENT_PUBKEY}).transaction();return r&&(m=yield this._provider.sendAndConfirm(g)),{txId:m,receiptAddress:e,tx:g}}))},this.updateDaoSupply=(e,t)=>a(this,void 0,void 0,(function*(){if(e.isNeg()||e.isZero())throw new Error("Invalid supply");if(!(0,f.isAddress)(t))throw new Error("Invalid DAO address");return{txId:yield this.program.rpc.updateSupply(e,{accounts:{authority:this._provider.wallet.publicKey,dao:new u.web3.PublicKey(t)}})}})),this.updateDaoRegime=(e,t)=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(t))throw new Error("Invalid DAO address");return{txId:yield this.program.rpc.updateDaoRegime(e,{accounts:{authority:this._provider.wallet.publicKey,dao:new u.web3.PublicKey(t)}})}})),this.updateDaoMetadata=(e,t)=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(t))throw new Error("Invalid DAO address");if(32!==e.length)throw new Error("Invalid metadata path");return{txId:yield this.program.rpc.updateDaoMetadata(e,{accounts:{authority:this._provider.wallet.publicKey,dao:new u.web3.PublicKey(t)}})}})),this.transferAuthority=(e,t)=>a(this,void 0,void 0,(function*(){if(!(0,f.isAddress)(e))throw new Error("Invalid authority address");if(!(0,f.isAddress)(t))throw new Error("Invalid DAO address");return{txId:yield this.program.rpc.transferAuthority({accounts:{authority:this._provider.wallet.publicKey,newAuthority:new u.web3.PublicKey(e),dao:new u.web3.PublicKey(t)}})}})),this.deriveContentAddress=e=>a(this,void 0,void 0,(function*(){const[t]=yield u.web3.PublicKey.findProgramAddress([n.from("content"),e,this._provider.wallet.publicKey.toBuffer()],this.program.programId);return t})),this.initializeContent=function(e,r){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a(t,void 0,void 0,(function*(){if(8!==e.length)throw new Error("Invalid discriminator path");if(32!==r.length)throw new Error("Invalid metadata path");const t=yield this.deriveContentAddress(e);let i="";const o=yield this.program.methods.initializeContent(Array.from(e),Array.from(r)).accounts({authority:this._provider.wallet.publicKey,content:t,systemProgram:u.web3.SystemProgram.programId}).transaction();return n&&(i=yield this._provider.sendAndConfirm(o)),{txId:i,tx:o}}))},!(0,f.isAddress)(i))throw new Error("Invalid program id");this._connection=new u.web3.Connection(r,"confirmed"),this._provider=new u.AnchorProvider(this._connection,e,{skipPreflight:!0,commitment:"confirmed"}),this.program=new u.Program(l.DEFAULT_INTERDAO_IDL,i,this._provider)}get events(){return this.program.idl.events.map((e=>{let{name:t}=e;return t}))}}},77817:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=o(r(60284));i(r(24460),t),i(r(94046),t),i(r(34209),t),i(r(60284),t),t.default=s.default},94046:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsensusQuorums=t.ConsensusMechanisms=t.DaoRegimes=void 0,t.DaoRegimes={Dictatorial:{dictatorial:{}},Democratic:{democratic:{}},Autonomous:{autonomous:{}}},t.ConsensusMechanisms={StakedTokenCounter:{stakedTokenCounter:{}},LockedTokenCounter:{lockedTokenCounter:{}}},t.ConsensusQuorums={OneThird:{oneThird:{}},Half:{half:{}},TwoThird:{twoThird:{}}}},34209:function(e,t,r){"use strict";var n=r(97429).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.findNftMetadataAddress=t.findReceipt=t.findProposal=t.isAddress=void 0;const o=r(50794),s=r(38073);t.isAddress=e=>{if(!e)return!1;try{if(!new o.web3.PublicKey(e))throw new Error("Invalid public key");return!0}catch(t){return!1}};t.findProposal=(e,t,r)=>i(void 0,void 0,void 0,(function*(){const[i]=yield o.web3.PublicKey.findProgramAddress([n.from("proposal"),e.toArrayLike(n,"le",8),t.toBuffer()],r);return i}));t.findReceipt=(e,t,r,s)=>i(void 0,void 0,void 0,(function*(){const[i]=yield o.web3.PublicKey.findProgramAddress([n.from("receipt"),e.toArrayLike(n,"le",8),t.toBuffer(),r.toBuffer()],s);return i}));t.findNftMetadataAddress=e=>i(void 0,void 0,void 0,(function*(){return yield s.programs.metadata.Metadata.getPDA(new o.web3.PublicKey(e))}))},95339:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDL=void 0,t.IDL={version:"0.1.0",name:"inter_dao",instructions:[{name:"initializeDao",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dao",isMut:!0,isSigner:!0},{name:"master",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"regime",type:{defined:"DaoRegime"}},{name:"supply",type:"u64"},{name:"metadata",type:{array:["u8",32]}},{name:"isNft",type:"bool"},{name:"isPublic",type:"bool"}]},{name:"initializeProposal",accounts:[{name:"caller",isMut:!0,isSigner:!0},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"consensusMechanism",type:{defined:"ConsensusMechanism"}},{name:"consesusQuorum",type:{defined:"ConsensusQuorum"}},{name:"startDate",type:"i64"},{name:"endDate",type:"i64"},{name:"metadata",type:{array:["u8",32]}},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"initializeProposalInstruction",accounts:[{name:"caller",isMut:!0,isSigner:!0},{name:"proposalInstruction",isMut:!0,isSigner:!0},{name:"invokedProgram",isMut:!1,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"data",type:"bytes"},{name:"pubkeys",type:{vec:"publicKey"}},{name:"isSigners",type:{vec:"bool"}},{name:"isWritables",type:{vec:"bool"}},{name:"isMasters",type:{vec:"bool"}},{name:"txIdx",type:"u8"}]},{name:"voteFor",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!1,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"voteNftFor",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"metadata",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"index",type:"u64"},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"voteAgainst",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!1,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"index",type:"u64"},{name:"amount",type:"u64"},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"voteNftAgainst",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"metadata",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"taxman",isMut:!0,isSigner:!1},{name:"revenueman",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"index",type:"u64"},{name:"tax",type:"u64"},{name:"revenue",type:"u64"}]},{name:"executeProposalInstruction",accounts:[{name:"caller",isMut:!0,isSigner:!0},{name:"proposal",isMut:!0,isSigner:!1},{name:"proposalInstruction",isMut:!0,isSigner:!1},{name:"dao",isMut:!1,isSigner:!1},{name:"master",isMut:!1,isSigner:!1},{name:"invokedProgram",isMut:!1,isSigner:!1}],args:[]},{name:"close",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dst",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!1,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"closeNftVoting",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dst",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"metadata",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"proposal",isMut:!0,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"updateDaoRegime",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dao",isMut:!0,isSigner:!1}],args:[{name:"regime",type:{defined:"DaoRegime"}}]},{name:"updateDaoMetadata",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dao",isMut:!0,isSigner:!1}],args:[{name:"metadata",type:{array:["u8",32]}}]},{name:"updateSupply",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"dao",isMut:!0,isSigner:!1}],args:[{name:"supply",type:"u64"}]},{name:"transferAuthority",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"newAuthority",isMut:!1,isSigner:!1},{name:"dao",isMut:!0,isSigner:!1}],args:[]},{name:"initializeContent",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"content",isMut:!0,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1}],args:[{name:"discriminator",type:{array:["u8",8]}},{name:"metadata",type:{array:["u8",32]}}]}],accounts:[{name:"content",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"discriminator",type:{array:["u8",8]}},{name:"metadata",type:{array:["u8",32]}}]}},{name:"dao",type:{kind:"struct",fields:[{name:"master",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"regime",type:{defined:"DaoRegime"}},{name:"supply",type:"u64"},{name:"nonce",type:"u64"},{name:"metadata",type:{array:["u8",32]}},{name:"isNft",type:"bool"},{name:"isPublic",type:"bool"}]}},{name:"proposalInstruction",type:{kind:"struct",fields:[{name:"proposal",type:"publicKey"},{name:"index",type:"u8"},{name:"txIndex",type:"u8"},{name:"executed",type:"bool"},{name:"dataLen",type:"u64"},{name:"data",type:"bytes"},{name:"accountsLen",type:"u8"},{name:"accounts",type:{vec:{defined:"InvokedAccount"}}},{name:"invokedProgram",type:"publicKey"}]}},{name:"proposal",type:{kind:"struct",fields:[{name:"index",type:"u64"},{name:"creator",type:"publicKey"},{name:"dao",type:"publicKey"},{name:"regime",type:{defined:"DaoRegime"}},{name:"consensusMechanism",type:{defined:"ConsensusMechanism"}},{name:"consensusQuorum",type:{defined:"ConsensusQuorum"}},{name:"totalInstruction",type:"u8"},{name:"totalExecuted",type:"u8"},{name:"executed",type:"bool"},{name:"votingForPower",type:"u128"},{name:"votingAgainstPower",type:"u128"},{name:"supply",type:"u64"},{name:"startDate",type:"i64"},{name:"endDate",type:"i64"},{name:"metadata",type:{array:["u8",32]}}]}},{name:"receipt",type:{kind:"struct",fields:[{name:"index",type:"u64"},{name:"authority",type:"publicKey"},{name:"proposal",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"amount",type:"u64"},{name:"power",type:"u128"},{name:"lockedDate",type:"i64"},{name:"unlockedDate",type:"i64"},{name:"action",type:{defined:"ReceiptAction"}}]}}],types:[{name:"InvokedAccount",type:{kind:"struct",fields:[{name:"pubkey",type:"publicKey"},{name:"isSigner",type:"bool"},{name:"isWritable",type:"bool"},{name:"isMaster",type:"bool"}]}},{name:"DaoRegime",type:{kind:"enum",variants:[{name:"Dictatorial"},{name:"Democratic"},{name:"Autonomous"}]}},{name:"ConsensusMechanism",type:{kind:"enum",variants:[{name:"StakedTokenCounter"},{name:"LockedTokenCounter"}]}},{name:"ConsensusQuorum",type:{kind:"enum",variants:[{name:"OneThird"},{name:"Half"},{name:"TwoThird"}]}},{name:"ReceiptAction",type:{kind:"enum",variants:[{name:"VoteFor"},{name:"VoteAgainst"}]}}],events:[{name:"CloseEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"CloseEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"ExecuteProposalInstructionEvent",fields:[{name:"proposal",type:"publicKey",index:!1},{name:"caller",type:"publicKey",index:!1}]},{name:"InitializeDAOEvent",fields:[{name:"dao",type:"publicKey",index:!1},{name:"authority",type:"publicKey",index:!1},{name:"mint",type:"publicKey",index:!1},{name:"regime",type:{defined:"DaoRegime"},index:!1},{name:"supply",type:"u64",index:!1},{name:"isNft",type:"bool",index:!1},{name:"isPublic",type:"bool",index:!1}]},{name:"InitializeProposalInstructionEvent",fields:[{name:"proposal",type:"publicKey",index:!1},{name:"proposalInstruction",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"caller",type:"publicKey",index:!1},{name:"invokedProgram",type:"publicKey",index:!1},{name:"data",type:"bytes",index:!1},{name:"accounts",type:{vec:{defined:"InvokedAccount"}},index:!1}]},{name:"InitializeProposalEvent",fields:[{name:"proposal",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"caller",type:"publicKey",index:!1},{name:"quorum",type:{defined:"ConsensusQuorum"},index:!1}]},{name:"TransferAuthorityEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"newAuthority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1}]},{name:"UpdateDaoMetadataEvent",fields:[{name:"dao",type:"publicKey",index:!1},{name:"metadata",type:{array:["u8",32]},index:!1}]},{name:"UpdateDaoRegimeEvent",fields:[{name:"dao",type:"publicKey",index:!1},{name:"regime",type:{defined:"DaoRegime"},index:!1}]},{name:"UpdateSupplyEvent",fields:[{name:"dao",type:"publicKey",index:!1},{name:"supply",type:"u64",index:!1}]},{name:"VoteAgainstEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"proposal",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"VoteForEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"proposal",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1}]},{name:"VoteAgainstEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"proposal",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"amountNft",type:"u64",index:!1}]},{name:"VoteForEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"dao",type:"publicKey",index:!1},{name:"proposal",type:"publicKey",index:!1},{name:"receipt",type:"publicKey",index:!1},{name:"amountNft",type:"u64",index:!1}]}],errors:[{code:6e3,name:"Overflow",msg:"Operation overflowed"},{code:6001,name:"InvalidDataLength",msg:"Invalid accounts length"},{code:6002,name:"InconsistentProposal",msg:"Inconsistent proposal's accounts configuration"},{code:6003,name:"NotConsentedProposal",msg:"The community isn't consenting on the proposal yet"},{code:6004,name:"NotStartedProposal",msg:"The proposal isn't started yet"},{code:6005,name:"NotEndedProposal",msg:"The proposal isn't ended yet"},{code:6006,name:"StartedProposal",msg:"The proposal is started"},{code:6007,name:"EndedProposal",msg:"The proposal had been ended"},{code:6008,name:"ExecutedProposal",msg:"The proposal had been executed"},{code:6009,name:"InvalidProposalIdx",msg:"Invalid proposal instruction index"},{code:6010,name:"NoPermission",msg:"No permission"},{code:6011,name:"NoBump",msg:"Cannot derive the program address"},{code:6012,name:"InvalidCurrentDate",msg:"Cannot get current date"},{code:6013,name:"InvalidStartDate",msg:"Start date need to be greater than or equal to current date"},{code:6014,name:"InvalidEndDate",msg:"End date need to be greater than start date and current date"},{code:6015,name:"InvalidNftCollection",msg:"Invalid NFT collection"}]}},24817:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var d=0,f=o-1;(0!==l||d<i)&&-1!==f;f--,d++)l+=s*u[f]>>>0,u[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,r++}for(var h=o-i;h!==o&&0===u[h];)h++;for(var p=new Uint8Array(n+(o-h)),y=n;h!==o;)p[y++]=u[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var d=t[i],f=0,h=c-1;(0!==d||f<n)&&-1!==h;h--,f++)d+=256*l[h]>>>0,l[h]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");n=f,i++}for(var p=c-n;p!==c&&0===l[p];)p++;for(var y=a.repeat(r);p<c;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},84201:(e,t,r)=>{const n=r(24817);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},99882:e=>{"use strict";e.exports=function(e,t){var r=new Array(arguments.length-1),n=0,i=2,o=!0;for(;i<arguments.length;)r[n++]=arguments[i++];return new Promise((function(i,s){r[n]=function(e){if(o)if(o=!1,e)s(e);else{for(var t=new Array(arguments.length-1),r=0;r<t.length;)t[r++]=arguments[r];i.apply(null,t)}};try{e.apply(t||null,r)}catch(a){o&&(o=!1,s(a))}}))}},79813:(e,t)=>{"use strict";var r=t;r.length=function(e){var t=e.length;if(!t)return 0;for(var r=0;--t%4>1&&"="===e.charAt(t);)++r;return Math.ceil(3*e.length)/4-r};for(var n=new Array(64),i=new Array(123),o=0;o<64;)i[n[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;r.encode=function(e,t,r){for(var i,o=null,s=[],a=0,c=0;t<r;){var u=e[t++];switch(c){case 0:s[a++]=n[u>>2],i=(3&u)<<4,c=1;break;case 1:s[a++]=n[i|u>>4],i=(15&u)<<2,c=2;break;case 2:s[a++]=n[i|u>>6],s[a++]=n[63&u],c=0}a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,s)),a=0)}return c&&(s[a++]=n[i],s[a++]=61,1===c&&(s[a++]=61)),o?(a&&o.push(String.fromCharCode.apply(String,s.slice(0,a))),o.join("")):String.fromCharCode.apply(String,s.slice(0,a))};var s="invalid encoding";r.decode=function(e,t,r){for(var n,o=r,a=0,c=0;c<e.length;){var u=e.charCodeAt(c++);if(61===u&&a>1)break;if(void 0===(u=i[u]))throw Error(s);switch(a){case 0:n=u,a=1;break;case 1:t[r++]=n<<2|(48&u)>>4,n=u,a=2;break;case 2:t[r++]=(15&n)<<4|(60&u)>>2,n=u,a=3;break;case 3:t[r++]=(3&n)<<6|u,a=0}}if(1===a)throw Error(s);return r-o},r.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},4928:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,r){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:r||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var r=this._listeners[e],n=0;n<r.length;)r[n].fn===t?r.splice(n,1):++n;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var r=[],n=1;n<arguments.length;)r.push(arguments[n++]);for(n=0;n<t.length;)t[n].fn.apply(t[n++].ctx,r)}return this}},35103:e=>{"use strict";function t(e){return"undefined"!==typeof Float32Array?function(){var t=new Float32Array([-0]),r=new Uint8Array(t.buffer),n=128===r[3];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3]}function o(e,n,i){t[0]=e,n[i]=r[3],n[i+1]=r[2],n[i+2]=r[1],n[i+3]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],t[0]}function a(e,n){return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t[0]}e.writeFloatLE=n?i:o,e.writeFloatBE=n?o:i,e.readFloatLE=n?s:a,e.readFloatBE=n?a:s}():function(){function t(e,t,r,n){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,r,n);else if(isNaN(t))e(2143289344,r,n);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,r,n);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,r,n);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,r,n)}}function s(e,t,r){var n=e(t,r),i=2*(n>>31)+1,o=n>>>23&255,s=8388607&n;return 255===o?s?NaN:i*(1/0):0===o?1401298464324817e-60*i*s:i*Math.pow(2,o-150)*(s+8388608)}e.writeFloatLE=t.bind(null,r),e.writeFloatBE=t.bind(null,n),e.readFloatLE=s.bind(null,i),e.readFloatBE=s.bind(null,o)}(),"undefined"!==typeof Float64Array?function(){var t=new Float64Array([-0]),r=new Uint8Array(t.buffer),n=128===r[7];function i(e,n,i){t[0]=e,n[i]=r[0],n[i+1]=r[1],n[i+2]=r[2],n[i+3]=r[3],n[i+4]=r[4],n[i+5]=r[5],n[i+6]=r[6],n[i+7]=r[7]}function o(e,n,i){t[0]=e,n[i]=r[7],n[i+1]=r[6],n[i+2]=r[5],n[i+3]=r[4],n[i+4]=r[3],n[i+5]=r[2],n[i+6]=r[1],n[i+7]=r[0]}function s(e,n){return r[0]=e[n],r[1]=e[n+1],r[2]=e[n+2],r[3]=e[n+3],r[4]=e[n+4],r[5]=e[n+5],r[6]=e[n+6],r[7]=e[n+7],t[0]}function a(e,n){return r[7]=e[n],r[6]=e[n+1],r[5]=e[n+2],r[4]=e[n+3],r[3]=e[n+4],r[2]=e[n+5],r[1]=e[n+6],r[0]=e[n+7],t[0]}e.writeDoubleLE=n?i:o,e.writeDoubleBE=n?o:i,e.readDoubleLE=n?s:a,e.readDoubleBE=n?a:s}():function(){function t(e,t,r,n,i,o){var s=n<0?1:0;if(s&&(n=-n),0===n)e(0,i,o+t),e(1/n>0?0:2147483648,i,o+r);else if(isNaN(n))e(0,i,o+t),e(2146959360,i,o+r);else if(n>17976931348623157e292)e(0,i,o+t),e((s<<31|2146435072)>>>0,i,o+r);else{var a;if(n<22250738585072014e-324)e((a=n/5e-324)>>>0,i,o+t),e((s<<31|a/4294967296)>>>0,i,o+r);else{var c=Math.floor(Math.log(n)/Math.LN2);1024===c&&(c=1023),e(4503599627370496*(a=n*Math.pow(2,-c))>>>0,i,o+t),e((s<<31|c+1023<<20|1048576*a&1048575)>>>0,i,o+r)}}}function s(e,t,r,n,i){var o=e(n,i+t),s=e(n,i+r),a=2*(s>>31)+1,c=s>>>20&2047,u=4294967296*(1048575&s)+o;return 2047===c?u?NaN:a*(1/0):0===c?5e-324*a*u:a*Math.pow(2,c-1075)*(u+4503599627370496)}e.writeDoubleLE=t.bind(null,r,0,4),e.writeDoubleBE=t.bind(null,n,4,0),e.readDoubleLE=s.bind(null,i,0,4),e.readDoubleBE=s.bind(null,o,4,0)}(),e}function r(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}function n(e,t,r){t[r]=e>>>24,t[r+1]=e>>>16&255,t[r+2]=e>>>8&255,t[r+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},82825:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},32492:e=>{"use strict";e.exports=function(e,t,r){var n=r||8192,i=n>>>1,o=null,s=n;return function(r){if(r<1||r>i)return e(r);s+r>n&&(o=e(n),s=0);var a=t.call(o,s,s+=r);return 7&s&&(s=1+(7|s)),a}}},66232:(e,t)=>{"use strict";var r=t;r.length=function(e){for(var t=0,r=0,n=0;n<e.length;++n)(r=e.charCodeAt(n))<128?t+=1:r<2048?t+=2:55296===(64512&r)&&56320===(64512&e.charCodeAt(n+1))?(++n,t+=4):t+=3;return t},r.read=function(e,t,r){if(r-t<1)return"";for(var n,i=null,o=[],s=0;t<r;)(n=e[t++])<128?o[s++]=n:n>191&&n<224?o[s++]=(31&n)<<6|63&e[t++]:n>239&&n<365?(n=((7&n)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[s++]=55296+(n>>10),o[s++]=56320+(1023&n)):o[s++]=(15&n)<<12|(63&e[t++])<<6|63&e[t++],s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),s=0);return i?(s&&i.push(String.fromCharCode.apply(String,o.slice(0,s))),i.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(e,t,r){for(var n,i,o=r,s=0;s<e.length;++s)(n=e.charCodeAt(s))<128?t[r++]=n:n<2048?(t[r++]=n>>6|192,t[r++]=63&n|128):55296===(64512&n)&&56320===(64512&(i=e.charCodeAt(s+1)))?(n=65536+((1023&n)<<10)+(1023&i),++s,t[r++]=n>>18|240,t[r++]=n>>12&63|128,t[r++]=n>>6&63|128,t[r++]=63&n|128):(t[r++]=n>>12|224,t[r++]=n>>6&63|128,t[r++]=63&n|128);return r-o}},74939:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(45263),i=r(92950),o=r(41165),s=r(32671),a=r(69716),c=r(4065),u=r(17604),l=function(){return l=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},l.apply(this,arguments)},d=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},f=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},h=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r},p=[void 0];const y=(0,i.memo)((function(e){var t=e.mintAddress,r=e.size,y=void 0===r?24:r,m=e.icon,g=void 0===m?(0,n.jsx)(a.Z,{name:"diamond-outline"}):m,w=(e.reversed,h(e,["mintAddress","size","icon","reversed"])),b=(0,i.useState)(),v=b[0],A=b[1],_=(0,i.useCallback)((function(){return d(void 0,void 0,void 0,(function(){var e;return f(this,(function(r){switch(r.label){case 0:return o.util.isAddress(t.toString())?[4,o.tokenProvider.findByAddress(t)]:[2,A(p)];case 1:return r.sent()?[4,o.tokenProvider.findAtomicTokens(t)]:[3,3];case 2:return e=r.sent(),[3,5];case 3:return[4,c.DataLoader.load("metaplexProvider.findAtomicTokens"+t.toString(),(function(){return u.ZE.findByAddress(t)}))];case 4:e=[r.sent()],r.label=5;case 5:return[2,A(e.map((function(e){return null===e||void 0===e?void 0:e.logoURI})))]}}))}))}),[t]);return(0,i.useEffect)((function(){_()}),[_]),v&&v.length>1?(0,n.jsx)(s.Avatar.Group,l({maxCount:2,style:{display:"block",whiteSpace:"nowrap"},maxStyle:{backgroundColor:"#2D3355"},size:y},w,{children:v.map((function(e,t){return(0,n.jsx)(s.Avatar,l({src:e,size:y,style:{backgroundColor:"#2D3355",border:"none"}},{children:g}),t)}))})):(0,n.jsx)(s.Avatar,l({src:null===v||void 0===v?void 0:v[0],size:y,style:{backgroundColor:"#2D3355",border:"none"}},w,{children:(0,n.jsx)(s.Spin,l({size:"small",spinning:o.util.isAddress(t.toString())&&!v},{children:g}))}))}))},99370:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(45263),i=r(92950),o=r(41165),s=r(4065),a=r(32671),c=r(17604),u=function(){return u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},u.apply(this,arguments)},l=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},d=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},f="TOKN";const h=(0,i.memo)((function(e){var t=e.mintAddress,r=e.separator,h=void 0===r?" \u2022 ":r,p=(e.reversed,(0,i.useState)(f)),y=p[0],m=p[1],g=(0,o.useInfix)()<o.Infix.sm,w=(0,i.useCallback)((function(){return l(void 0,void 0,void 0,(function(){var e,r,n;return d(this,(function(i){switch(i.label){case 0:return o.util.isAddress(t.toString())?[4,o.tokenProvider.findByAddress(t)]:[2,m(f)];case 1:return i.sent()?[4,o.tokenProvider.findAtomicTokens(t)]:[3,3];case 2:return e=i.sent(),[3,5];case 3:return[4,s.DataLoader.load("metaplexProvider.findByAddress"+t.toString(),(function(){return c.ZE.findByAddress(t)}))];case 4:e=[i.sent()],i.label=5;case 5:return r=e.map((function(e){return(null===e||void 0===e?void 0:e.symbol)?e.symbol:t.toString().substring(0,4)})),n=r.slice(0,2).join(h),r.length>2&&(n+="..."),[2,m(n)]}}))}))}),[t,h]);return(0,i.useEffect)((function(){w()}),[w]),(0,n.jsx)(a.Tooltip,u({title:y,visible:!(!y.endsWith("...")||g)&&void 0},{children:(0,n.jsx)("span",{children:y})}))}))},39295:(e,t,r)=>{"use strict";r.d(t,{Z:()=>le});var n=r(45263),i=r(92950),o=r(32671),s=r(69716),a=r(58421),c=r(41165),u=r(74939),l=r(99370),d=function(){return d=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},d.apply(this,arguments)};const f=function(e){var t=e.mintAddress,r=e.onClick,i=void 0===r?function(){}:r,a=e.active,f=void 0!==a&&a,h=e.onRemove,p=void 0===h?function(){}:h;return(0,n.jsxs)(o.Card,d({bodyStyle:{padding:8,cursor:"pointer"},style:{position:"relative",borderRadius:8,backgroundColor:c.util.randomColor(t,.2)},className:"mint-tag",bordered:Boolean(f),onClick:function(){return i(t)}},{children:[(0,n.jsx)(o.Button,{className:"btn-remove-recommend-tag",shape:"circle",icon:(0,n.jsx)(s.Z,{name:"close-outline"}),onClick:function(e){e.stopPropagation(),p(t)},style:{background:c.util.randomColor(t),border:"1px solid ".concat(c.util.randomColor(t,.2))}}),(0,n.jsxs)(o.Space,d({size:8,style:{width:"100%",justifyContent:"center"}},{children:[(0,n.jsx)(u.Z,{mintAddress:t}),(0,n.jsx)(o.Typography.Text,d({style:{color:c.util.randomColor(t),whiteSpace:"nowrap"}},{children:(0,n.jsx)(l.Z,{mintAddress:t})})),f&&(0,n.jsx)(s.Z,{name:"checkmark-outline"})]}))]}))};var h=r(51518),p=r.n(h),y=r(4065),m=r(17604),g=function(){return g=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},g.apply(this,arguments)},w=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},b=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},v="Unknown Token";const A=(0,i.memo)((function(e){var t=e.mintAddress,r=e.separator,s=void 0===r?" \u2022 ":r,a=(e.reversed,(0,i.useState)(v)),u=a[0],l=a[1],d=(0,c.useInfix)()<c.Infix.sm,f=(0,i.useCallback)((function(){return w(void 0,void 0,void 0,(function(){var e,r,n;return b(this,(function(i){switch(i.label){case 0:return c.util.isAddress(t.toString())?[4,c.tokenProvider.findByAddress(t)]:[2,l(v)];case 1:return i.sent()?[4,c.tokenProvider.findAtomicTokens(t)]:[3,3];case 2:return e=i.sent(),[3,5];case 3:return[4,y.DataLoader.load("metaplexProvider.findByAddress"+t.toString(),(function(){return m.ZE.findByAddress(t)}))];case 4:e=[i.sent()],i.label=5;case 5:return r=e.map((function(e){return(null===e||void 0===e?void 0:e.name)||v})),n=r.slice(0,2).join(s),r.length>2&&(n+="..."),[2,l(n)]}}))}))}),[t,s]);return(0,i.useEffect)((function(){f()}),[f]),(0,n.jsx)(o.Tooltip,g({title:u,visible:!(!u.endsWith("...")||d)&&void 0},{children:(0,n.jsx)("span",{children:u})}))}));var _,E,S=r(24214),k=function(){return k=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},k.apply(this,arguments)},x=function(e){return"function"==typeof e[1]?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},I=(_=S.ZP,E=function(e){return function(t,r,n){return n.revalidateOnFocus=!1,n.revalidateIfStale=!1,n.revalidateOnReconnect=!1,e(t,r,n)}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=x(e),n=r[0],i=r[1],o=r[2],s=(o.use||[]).concat(E);return _(n,i,k(k({},o),{use:s}))}),P=function(){return P=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},P.apply(this,arguments)},T="11111111111111111111111111111111";const C=function(e){var t,r,i=e.onClick,s=void 0===i?function(){}:i,a=N(),d=(0,c.useWalletBalance)(),f=y.utilsBN.undecimalize(d,9);return(0,n.jsx)(o.Card,P({bodyStyle:{padding:8},style:{boxShadow:"unset",cursor:"pointer",background:"linear-gradient(269.1deg, rgba(0, 255, 163, 0.1) 0%, rgba(220, 31, 255, 0.1) 100%)",borderRadius:8},bordered:!1,onClick:function(){return s(T)}},{children:(0,n.jsxs)(o.Row,P({gutter:[16,16]},{children:[(0,n.jsx)(o.Col,{children:(0,n.jsx)(u.Z,{mintAddress:T,size:36})}),(0,n.jsx)(o.Col,{children:(0,n.jsxs)(o.Space,P({direction:"vertical",size:0},{children:[(0,n.jsxs)(o.Space,{children:[(0,n.jsx)(o.Typography.Text,{children:(0,n.jsx)(l.Z,{mintAddress:T})}),(null===a||void 0===a?void 0:a.verify(T))&&(0,n.jsx)(z,{})]}),(0,n.jsx)(o.Typography.Text,P({type:"secondary",className:"caption"},{children:(0,n.jsx)(A,{mintAddress:T})}))]}))}),(0,n.jsx)(o.Col,P({flex:"auto",style:{textAlign:"right"}},{children:(0,n.jsxs)(o.Space,P({align:"start"},{children:[(0,n.jsx)(o.Typography.Text,P({style:{color:" #03e1ff"}},{children:"\u25ce"})),(0,n.jsx)(o.Typography.Text,P({className:"caption"},{children:(t=f,c.util.numeric(t).format(r||"0,0.[000]"))})),(0,n.jsx)(U,{address:T})]}))}))]}))}))};var O=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},M=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},D={devnet:"https://api.jup.ag/api/tokens/devnet",testnet:"https://api.jup.ag/api/markets/devnet",mainnet:"https://cache.jup.ag/tokens"},B=function(){return O(void 0,void 0,void 0,(function(){var e,t,r,n,i;return M(this,(function(o){switch(o.label){case 0:return[4,fetch(D[c.net]).then((function(e){return e.json()}))];case 1:for(e=o.sent(),(t=new Map).set(T,!0),r=0,n=e;r<n.length;r++)i=n[r],t.set(i.address,!0);return[2,{verify:function(e){return t.has(e)}}]}}))}))},N=function(){return I("fetchJptTokens",B).data},R=function(){return R=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},R.apply(this,arguments)},j=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},L=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},z=function(){return(0,n.jsx)(o.Tooltip,R({title:"Safe to Go"},{children:(0,n.jsx)(s.Z,{name:"checkmark-circle",style:{color:"#18A0FB",backgroundColor:"#fafafa",borderRadius:6,fontSize:12}})}))},U=function(e){var t=e.address,r=e.direction,a=void 0===r?"horizontal":r,u=(0,i.useState)(!1),l=u[0],d=u[1];return(0,n.jsxs)(o.Space,R({size:4,direction:a,align:"start"},{children:[(0,n.jsx)(o.Tooltip,R({title:"Copied",visible:l,arrowPointAtCenter:!0},{children:(0,n.jsx)(p(),R({text:t},{children:(0,n.jsx)(o.Button,{type:"text",size:"small",icon:(0,n.jsx)(s.Z,{name:"copy-outline"}),onClick:function(e){return j(void 0,void 0,void 0,(function(){return L(this,(function(t){switch(t.label){case 0:return e.stopPropagation(),d(!0),[4,c.util.asyncWait(1500)];case 1:return t.sent(),d(!1),[2]}}))}))},style:{padding:0}})}))})),(0,n.jsx)(o.Button,{type:"text",size:"small",icon:(0,n.jsx)(s.Z,{name:"open-outline"}),onClick:function(e){return e.stopPropagation(),window.open(c.util.explorer(t))},style:{padding:0}})]}))};const K=function(e){var t=e.mintAddress,r=e.onClick,i=void 0===r?function(){}:r,s=N();return(0,n.jsx)(o.Card,R({bodyStyle:{padding:8},style:{boxShadow:"unset",cursor:"pointer"},bordered:!1,onClick:function(){return i(t)}},{children:(0,n.jsxs)(o.Row,R({gutter:[16,16],align:"middle"},{children:[(0,n.jsx)(o.Col,{children:(0,n.jsx)(u.Z,{mintAddress:t,size:36})}),(0,n.jsx)(o.Col,{children:(0,n.jsxs)(o.Space,R({direction:"vertical",size:0},{children:[(0,n.jsxs)(o.Space,{children:[(0,n.jsx)(o.Typography.Text,{children:(0,n.jsx)(l.Z,{mintAddress:t})}),(null===s||void 0===s?void 0:s.verify(t))&&(0,n.jsx)(z,{})]}),(0,n.jsx)(o.Typography.Text,R({type:"secondary",className:"caption"},{children:(0,n.jsx)(A,{mintAddress:t})}))]}))}),(0,n.jsx)(o.Col,R({flex:"auto",style:{textAlign:"right",alignSelf:"start"}},{children:(0,n.jsx)(U,{address:t})}))]}))}))};var $=function(){return $=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},$.apply(this,arguments)},F=function(e){var t=e.callback;return(0,i.useEffect)((function(){t()}),[t]),(0,n.jsx)(i.Fragment,{})};const V=function(e){return(0,n.jsx)(a.ZP,$({overflow:!0},{children:(0,n.jsx)(F,$({},e))}))};var H,W,q=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},G=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},J=function(e){var t=(0,i.useState)([]),r=t[0],n=t[1],o=(0,c.useAccounts)(),s=(0,i.useMemo)((function(){for(var e=new Map,t=0,r=Object.values(o);t<r.length;t++){var n=r[t];e.set(n.mint,Number(n.amount.toString()))}return e}),[o]),a=(0,i.useCallback)((function(e){return q(void 0,void 0,void 0,(function(){var t;return G(this,(function(r){return s.size?(t=e.sort((function(e,t){var r=s.get(e)||-1;return(s.get(t)||-1)-r})),[2,n(t)]):[2,n([])]}))}))}),[s]);return(0,i.useEffect)((function(){a(e)}),[e,a]),r},Y=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},Z=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},X=function(){var e=(0,i.useState)([]),t=e[0],r=e[1],n=(0,c.useAccounts)(),o=(0,i.useCallback)((function(){return Y(void 0,void 0,void 0,(function(){var e;return Z(this,(function(t){return e=Object.values(n).map((function(e){return e.mint})),[2,r(e)]}))}))}),[n]);return(0,i.useEffect)((function(){o()}),[o]),t},Q=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},ee=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},te=function(e,t,r){if(r||2===arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},re="".concat(c.net,":selected_mints"),ne=function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},ie=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},oe=function(e){void 0===e&&(e="");var t=(0,i.useState)(!1),r=t[0],n=t[1],o=(0,i.useState)([]),s=o[0],a=o[1],u=N(),l=X(),d=J(l),f=(0,i.useCallback)((function(){return ne(void 0,void 0,void 0,(function(){var e,t,r,n,i,o,s;return ie(this,(function(a){switch(a.label){case 0:e=new Set,t=0,r=d,a.label=1;case 1:return t<r.length?(s=r[t],[4,c.tokenProvider.findByAddress(s)]):[3,4];case 2:a.sent()&&e.add(s),a.label=3;case 3:return t++,[3,1];case 4:return[4,c.tokenProvider.all()];case 5:for(n=a.sent(),i=0,o=n;i<o.length;i++)s=o[i],e.add(s.address);return[2,Array.from(e)]}}))}))}),[d]),h=(0,i.useCallback)((function(){return ne(void 0,void 0,void 0,(function(){return ie(this,(function(t){return n(!0),H&&clearTimeout(H),H=setTimeout((function(){return ne(void 0,void 0,void 0,(function(){var t,r,i,o,s,d,h,p,y;return ie(this,(function(g){switch(g.label){case 0:return g.trys.push([0,6,7,8]),e?[3,2]:[4,f()];case 1:return t=g.sent(),[2,a(t)];case 2:return[4,c.tokenProvider.find(e,0)];case 3:return(r=g.sent()).length||!c.util.isAddress(e)?[3,5]:[4,m.ZE.findByAddress(e)];case 4:(i=g.sent())&&r.push(i),g.label=5;case 5:for(o=[],s=[],d=0,h=r;d<h.length;d++)p=h[d],(null===u||void 0===u?void 0:u.verify(p.address))?o.push(p.address):s.push(p.address);return(y=o.concat(s)).length||(y=l.filter((function(t){return t===e}))),[2,a(y)];case 6:return g.sent(),[3,8];case 7:return n(!1),[7];case 8:return[2]}}))}))}),e?500:0),[2]}))}))}),[f,u,e,l]);return(0,i.useEffect)((function(){h()}),[h]),{searchedMints:s,loading:r}},se=function(){return se=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},se.apply(this,arguments)},ae=(0,i.memo)((function(e){var t=e.value,r=void 0===t?"":t,u=e.onChange,l=void 0===u?function(){}:u,d=e.onClose,h=void 0===d?function(){}:d,p=e.visible,y=e.nativeSol,m=void 0!==y&&y,g=e.mints,w=void 0===g?[]:g,b=(0,i.useState)(""),v=b[0],A=b[1],_=(0,i.useState)(30),E=_[0],S=_[1],k=function(){var e=(0,i.useState)([]),t=e[0],r=e[1],n=X(),o=J(n),s=function(e){return e.splice(0,8)},a=(0,i.useCallback)((function(){return Q(void 0,void 0,void 0,(function(){var e,t,n,i;return ee(this,(function(a){for(e=c.storage.get(re)||[],t=0,n=o;t<n.length&&(i=n[t],!(e.length>=8));t++)e.includes(i)||e.push(i);return e=e.filter((function(e){return e!==T})),[2,r(s(e))]}))}))}),[o]),u=(0,i.useCallback)((function(e){return Q(void 0,void 0,void 0,(function(){var t,n;return ee(this,(function(i){return e===T?[2]:(t=(t=c.storage.get(re)||[]).filter((function(t){return t!==e})),n=te([e],t,!0).slice(0,64),c.storage.set(re,n),[2,r(s(n))])}))}))}),[]),l=(0,i.useCallback)((function(e){var n=c.storage.get(re)||[];n.length||(n=te([],t,!0));var i=n.indexOf(e);if(-1!==i)return n.splice(i,1),c.storage.set(re,te([],n,!0)),r(s(n))}),[t]);return(0,i.useEffect)((function(){a()}),[a]),{recommendedMints:t,addRecommendMint:u,removeRecommendMint:l}}(),x=k.recommendedMints,I=k.addRecommendMint,P=k.removeRecommendMint,O=oe(v),M=O.searchedMints,D=O.loading,B=(0,i.useMemo)((function(){return w.length?v?w.filter((function(e){return M.includes(e)})):w:M}),[v,w,M]),N=(0,i.useCallback)((function(e){l(e),I(e),h()}),[l,I,h]);(0,i.useEffect)((function(){S(30);var e=document.getElementById("sentre-token-selection-list");e&&(e.scrollTop=0)}),[v,p]);var R=!!v.length;return(0,n.jsxs)(o.Row,se({gutter:[32,32]},{children:[(0,n.jsx)(o.Col,se({span:24},{children:(0,n.jsx)(o.Input,{placeholder:"Search token symbol, name, address, ...",suffix:(0,n.jsx)(o.Button,{type:"text",style:{marginRight:-7},icon:(0,n.jsx)(s.Z,{name:v?"close-outline":"search-outline"}),onClick:v?function(){return A("")}:function(){},loading:D}),value:v,onChange:function(e){return A(e.target.value||"")}})})),(0,n.jsx)(o.Col,se({span:24},{children:(0,n.jsx)(o.Row,se({gutter:[8,8]},{children:x.map((function(e){return(0,n.jsx)(o.Col,se({flex:1},{children:(0,n.jsx)(f,{mintAddress:e,onClick:N,active:e===r,onRemove:P})}),e)}))}))})),(0,n.jsx)(o.Col,se({span:24,className:"scrollbar"},{children:(0,n.jsx)(o.Spin,se({spinning:D,tip:R?"Searching...":"Loading..."},{children:(0,n.jsxs)(o.Row,se({gutter:[8,8],style:{maxHeight:360,paddingRight:4,minHeight:50},id:"sentre-token-selection-list",justify:"center"},{children:[m&&!R&&(0,n.jsx)(o.Col,se({span:24},{children:(0,n.jsx)(C,{onClick:N})})),B.length||D?B.slice(0,E).map((function(e,t){return(0,n.jsxs)(o.Col,se({span:24},{children:[(0,n.jsx)(a.ZP,se({height:60,overflow:!0,throttle:300},{children:(0,n.jsx)(K,{mintAddress:e,onClick:N})})),t===E-5&&(0,n.jsx)(V,{callback:function(){W&&clearTimeout(W),W=setTimeout((function(){return S(E+30)}),250)}})]}),e+t)})):(0,n.jsx)(o.Col,{children:(0,n.jsx)(o.Empty,{style:{padding:40}})})]}))}))}))]}))}));const ce=ae;var ue=function(){return ue=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ue.apply(this,arguments)};const le=function(e){var t=e.value,r=e.onChange,a=void 0===r?function(){}:r,c=e.style,d=void 0===c?{}:c,f=e.disabled,h=void 0!==f&&f,p=e.nativeSol,y=void 0!==p&&p,m=e.placeholder,g=e.mints,w=(0,i.useState)(!1),b=w[0],v=w[1],A=(0,i.useState)(""),_=A[0],E=A[1],S=t||_;return(0,n.jsxs)(i.Fragment,{children:[(0,n.jsx)(o.Button,ue({type:"text",onClick:function(){return v(!0)},style:ue({padding:4},d),disabled:h},{children:(0,n.jsxs)(o.Space,{children:[(0,n.jsx)(u.Z,{mintAddress:S}),m&&!S?m:(0,n.jsx)(l.Z,{mintAddress:S}),(0,n.jsx)(s.Z,{name:"chevron-down-outline"})]})})),(0,n.jsx)(o.Modal,ue({visible:b,onCancel:function(){return v(!1)},footer:null,closable:!1,centered:!0,className:"mint-select-modal",destroyOnClose:!0},{children:(0,n.jsx)(ce,{onChange:function(e){a(e),E(e)},onClose:function(){return v(!1)},nativeSol:y,value:t,mints:g})}))]})}},17604:(e,t,r)=>{"use strict";r.d(t,{ZE:()=>i});var n=r(41165),i=new n.MetaplexProvider},56173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataLoader=void 0;const r=new Map;t.DataLoader=class{static load(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=JSON.stringify(e),o=r.get(i);return o&&!n?o:(r.set(i,t()),r.get(i))}}},98546:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.SolanaExplorer=void 0;const i=r(97381),o=700;t.SolanaExplorer=class{constructor(e){this.conn=e}fetchSignatures(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;return n(this,void 0,void 0,(function*(){r>o&&(r=o);const n={limit:r,before:t};return this.conn.getConfirmedSignaturesForAddress2(e,n)}))}fetchConfirmTransaction(e){return n(this,void 0,void 0,(function*(){let t=[];const r=[];for(let i=0;i<=e.length/200;i++){const t=200*i,n=e.slice(t,t+200);r.push(this.conn.getParsedTransactions(n))}const n=yield Promise.all(r);for(const e of n)t=t.concat(e);return t}))}fetchTransactions(e,t){return n(this,void 0,void 0,(function*(){const r=(new Date).getTime()/1e3;let{secondFrom:n,secondTo:s,lastSignature:a,limit:c}=t;n=Math.floor(n||0),s=Math.floor(s||r);const u=new i.PublicKey(e);let l=[],d=!1;for(;!d;){const e=yield this.fetchSignatures(u,a,c);if(!(null===e||void 0===e?void 0:e.length)||d)break;for(const t of e){const e=t.blockTime;if(e&&!(e>s)){if(e<n){d=!0;break}a=t.signature,l.push(t.signature)}}if(c&&l.length>=c)break;if((null===e||void 0===e?void 0:e.length)<o)break}return yield this.fetchConfirmTransaction(l)}))}}},50224:function(e,t,r){"use strict";var n=r(97429).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeIxData=t.encodeIxData=t.ixDiscriminator=t.accountDiscriminator=void 0;const o=r(10119),s=i(r(8511)),a=r(2670),c=i(r(95410));t.accountDiscriminator=e=>n.from(o.sha256.digest(`account:${(0,s.default)(e,{pascalCase:!0})}`)).slice(0,8);t.ixDiscriminator=e=>{let t=`global:${(0,a.snakeCase)(e)}`;return n.from(o.sha256.digest(t)).slice(0,8)},t.encodeIxData=c.default.encode,t.decodeIxData=c.default.decode},4065:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(34609),t),i(r(31420),t),i(r(57727),t),i(r(65348),t),i(r(50224),t),i(r(84770),t),i(r(56173),t),i(r(98546),t)},65348:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.IPFS=void 0;const i=r(741),o=r(32743),s=r(56173);t.IPFS=class{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"https://api.web3.storage";this.key=e,this.IDL=t,this.endpoint=r,this.decodeCID=e=>{if("string"===typeof e)return e;const t=new Uint8Array([18,32]),r=new Uint8Array(t.length+(null===e||void 0===e?void 0:e.length));r.set(t),r.set(e,t.length);return o.CID.decode(r).toString()},this.provider=new i.Web3Storage({endpoint:new URL(this.endpoint),token:this.key})}get methods(){const e={};for(const t of this.IDL)e[t]={set:e=>this.set(e),get:e=>this.get(e)};return e}set(e){return n(this,void 0,void 0,(function*(){const t=new i.File([JSON.stringify(e)],"file",{type:"application/json"}),r=yield this.provider.put([t]),{multihash:{digest:n}}=o.CID.parse(r);return{cid:r,digest:n}}))}get(e){return n(this,void 0,void 0,(function*(){const t=this.decodeCID(e);return s.DataLoader.load(`ipfs:${t}`,(()=>n(this,void 0,void 0,(function*(){const e=yield this.provider.get(t),r=((yield null===e||void 0===e?void 0:e.files())||[])[0],n=new FileReader;return new Promise(((e,t)=>{try{if(!r)throw new Error("Cannot read empty file");n.onload=()=>{var t;const r=null===(t=n.result)||void 0===t?void 0:t.toString();if(!r)throw new Error("Cannot read empty file");return e(JSON.parse(r))},n.readAsText(r)}catch(i){return t(i.message)}}))}))))}))}}},57727:function(e,t){"use strict";var r=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getAccountDataSmart=t.getMultipleAccounts=void 0;function n(e,t,n){return r(this,void 0,void 0,(function*(){const r=null!==n&&void 0!==n?n:e.commitment;return(yield e.getMultipleAccountsInfo(t,r)).map(((e,r)=>null===e?null:{publicKey:t[r],account:e}))}))}function i(e,t,i){return r(this,void 0,void 0,(function*(){if(t.length<=99)return yield n(e,t,i);{const s=(r=t,o=99,Array.apply(0,new Array(Math.ceil(r.length/o))).map(((e,t)=>r.slice(t*o,(t+1)*o))));return(yield Promise.all(s.map((t=>n(e,t,i))))).flat()}var r,o}))}t.getMultipleAccounts=i;let o=new Array,s=new Map;t.getAccountDataSmart=function(e,t){return r(this,void 0,void 0,(function*(){const{connection:n,publicKey:a,commitment:c="confirmed",debounce:u=500}=e,l=a.toBase58();if(!s.has(l)){const e=new Promise(((e,l)=>{o.length||setTimeout((()=>r(this,void 0,void 0,(function*(){return function(){return r(this,void 0,void 0,(function*(){const e=o;o=[],s=new Map;const r=yield i(n,e.map((e=>e.publicKey)),c);for(let n=0;n<e.length;n++){const i=e[n];try{const e=r[n];if(!(null===e||void 0===e?void 0:e.account.data))throw new Error("Invalid Data");const o=t(null===e||void 0===e?void 0:e.account.data);i.resolve({publicKey:i.publicKey,data:o})}catch(a){i.resolve({publicKey:i.publicKey,data:null})}}}))}()}))),u),o.push({publicKey:a,resolve:e,reject:l})}));s.set(l,e)}return s.get(l)}))}},34609:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},a=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.createMintAndMintTo=void 0;const c=r(97381),u=o(r(87826));t.createMintAndMintTo=function(e,t){let{amount:r,mint:n,dstAddress:i,decimals:o=9}=t,s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a(void 0,void 0,void 0,(function*(){const t=yield u.initTxCreateMint(e,{mint:n,decimals:o}),a=n.publicKey,l=yield u.initTxCreateTokenAccount(e,{mintAddress:a,owner:i}),d=yield u.initTxMintTo(e,{mintAddress:n.publicKey,amount:r,dstAddress:i}),f=(new c.Transaction).add(t,l,d);let h="";return s&&(h=yield e.sendAndConfirm(f,[n])),{txId:h,transaction:f,signer:[n]}}))},s(r(87826),t)},87826:function(e,t,r){"use strict";var n=r(97429).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.initTxCreateMultiTokenAccount=t.initTxCreateTokenAccount=t.initTxCreateMint=t.initTxMintTo=void 0;const o=r(50794),s=r(57727),a=r(31420);t.initTxMintTo=(e,t)=>{let{mintAddress:r,amount:n,dstAddress:s=e.wallet.publicKey}=t;return i(void 0,void 0,void 0,(function*(){const t=o.Spl.token(e),i=(0,a.toPublicKey)(r),c=yield o.utils.token.associatedAddress({mint:i,owner:(0,a.toPublicKey)(s)});return yield t.methods.mintTo(n).accounts({mint:i,to:c,authority:e.wallet.publicKey}).instruction()}))};t.initTxCreateMint=(e,t)=>{let{mint:r,decimals:n=9,mintAuthority:s=e.wallet.publicKey,freezeAuthority:c=e.wallet.publicKey}=t;return i(void 0,void 0,void 0,(function*(){const t=o.Spl.token(e),i=yield t.account.mint.createInstruction(r),u=yield t.methods.initializeMint(n,(0,a.toPublicKey)(s),(0,a.toPublicKey)(c)).accounts({mint:r.publicKey,rent:o.web3.SYSVAR_RENT_PUBKEY}).instruction();return(new o.web3.Transaction).add(i).add(u)}))};t.initTxCreateTokenAccount=(e,t)=>{let{mintAddress:r,owner:s=e.wallet.publicKey}=t;return i(void 0,void 0,void 0,(function*(){const t=(0,a.toPublicKey)(r),i=(0,a.toPublicKey)(e.wallet.publicKey),c=(0,a.toPublicKey)(s),u=yield o.utils.token.associatedAddress({mint:t,owner:c}),l=new o.web3.TransactionInstruction({keys:[{pubkey:i,isSigner:!0,isWritable:!0},{pubkey:u,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o.web3.SystemProgram.programId,isSigner:!1,isWritable:!1},{pubkey:o.utils.token.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o.web3.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}],programId:o.utils.token.ASSOCIATED_PROGRAM_ID,data:n.from([])});return(new o.web3.Transaction).add(l)}))};t.initTxCreateMultiTokenAccount=(e,r)=>{let{mints:n,owner:c=e.wallet.publicKey}=r;return i(void 0,void 0,void 0,(function*(){const r=(0,a.toPublicKey)(c),u=[],l=[];for(const e of n){const t=(0,a.toPublicKey)(e),n=yield o.utils.token.associatedAddress({mint:t,owner:r});l.push(n)}return(yield(0,s.getMultipleAccounts)(e.connection,l)).forEach(((r,o)=>i(void 0,void 0,void 0,(function*(){if(null!==r)return;const i=yield(0,t.initTxCreateTokenAccount)(e,{mintAddress:n[o],owner:c});u.push(i)})))),u}))}},31420:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getRawProgram=t.getRawAnchorProvider=t.getAnchorProvider=t.toBase58=t.toPublicKey=void 0;const i=r(50794);t.toPublicKey=e=>new i.web3.PublicKey(e);t.toBase58=e=>new i.web3.PublicKey(e).toBase58();t.getAnchorProvider=(e,t,r)=>{const n=new i.web3.Connection(e,"confirmed"),o=new i.web3.PublicKey(t);return new i.AnchorProvider(n,{publicKey:o,signAllTransactions:r.signAllTransactions,signTransaction:r.signTransaction},{commitment:"confirmed",skipPreflight:!0})};t.getRawAnchorProvider=()=>{const e=i.web3.clusterApiUrl("mainnet-beta"),t=new i.web3.Connection(e,"confirmed"),r=i.web3.Keypair.generate(),n=new o(r.publicKey);return new i.AnchorProvider(t,{publicKey:n.publicKey,signAllTransactions:n.signAllTransactions,signTransaction:n.signTransaction},{commitment:"confirmed",skipPreflight:!0})};t.getRawProgram=e=>{const r=i.web3.Keypair.generate().publicKey,n=(0,t.getRawAnchorProvider)();return new i.Program(e,r,n)};class o{constructor(e){this.publicKey=e}signTransaction(e){return n(this,void 0,void 0,(function*(){throw new Error("Raw Wallet can not sign transaction")}))}signAllTransactions(e){return n(this,void 0,void 0,(function*(){throw new Error("Raw Wallet can not sign all transaction")}))}}t.default=o},84770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utilsBN=void 0;const n=r(50794);t.utilsBN={decimalize:(e,t)=>{if(!e)return new n.BN(0);if(t<0||t%1!==0)throw new Error("decimals must be an integer greater than zero");const r=e.toString().split(".");if(r.length>2)throw new Error("Invalid number");return t?1===r.length?new n.BN(e).mul(new n.BN(Math.pow(10,t))):r[1].length>=t?new n.BN(r[0]+r[1].substring(0,t)):new n.BN(r[0]+r[1]+"0".repeat(t-r[1].length)):new n.BN(r[0])},undecimalize:(e,t)=>{if(t<0||t%1!==0)throw new Error("decimals must be an integer greater than zero");if(!e)return"0";const r=e.toString();if(!t)return r;let n=r.length>t?r.substring(0,r.length-t):"0",i="";for(i=r.length>t?r.substring(r.length-t,r.length):r.length===t?r:"0".repeat(t-r.length)+r,i=i.split("");"0"===i[i.length-1];)i.pop();return i=i.join(""),i?n+"."+i:n},toNumber:e=>Number(t.utilsBN.undecimalize(e,0))}},92010:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var d=0,f=o-1;(0!==l||d<i)&&-1!==f;f--,d++)l+=s*u[f]>>>0,u[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,r++}for(var h=o-i;h!==o&&0===u[h];)h++;for(var p=new Uint8Array(n+(o-h)),y=n;h!==o;)p[y++]=u[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var d=t[i],f=0,h=c-1;(0!==d||f<n)&&-1!==h;h--,f++)d+=256*l[h]>>>0,l[h]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");n=f,i++}for(var p=c-n;p!==c&&0===l[p];)p++;for(var y=a.repeat(r);p<c;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},95410:(e,t,r)=>{const n=r(92010);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},58421:(e,t,r)=>{"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(92950),o=d(i),s=d(r(43091)),a=r(2471),c=d(r(31161)),u=d(r(23698)),l=d(r(51941));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=0,m=0,g=0,w=0,b="data-lazyload-listened",v=[],A=[],_=!1;try{var E=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("test",null,E)}catch(M){}var S=!!_&&{capture:!1,passive:!0},k=function(e){var t=e.ref;if(t instanceof HTMLElement){var r=(0,c.default)(t),n=e.props.overflow&&r!==t.ownerDocument&&r!==document&&r!==document.documentElement?function(e,t){var r=e.ref,n=void 0,i=void 0,o=void 0,s=void 0;try{var a=t.getBoundingClientRect();n=a.top,i=a.left,o=a.height,s=a.width}catch(M){n=y,i=m,o=w,s=g}var c=window.innerHeight||document.documentElement.clientHeight,u=window.innerWidth||document.documentElement.clientWidth,l=Math.max(n,0),d=Math.max(i,0),f=Math.min(c,n+o)-l,h=Math.min(u,i+s)-d,p=void 0,b=void 0,v=void 0,A=void 0;try{var _=r.getBoundingClientRect();p=_.top,b=_.left,v=_.height,A=_.width}catch(M){p=y,b=m,v=w,A=g}var E=p-l,S=b-d,k=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return E-k[0]<=f&&E+v+k[1]>=0&&S-k[0]<=h&&S+A+k[1]>=0}(e,r):function(e){var t=e.ref;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var r=void 0,n=void 0;try{var i=t.getBoundingClientRect();r=i.top,n=i.height}catch(M){r=y,n=w}var o=window.innerHeight||document.documentElement.clientHeight,s=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return r-s[0]<=o&&r+n+s[1]>=0}(e);n?e.visible||(e.props.once&&A.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},x=function(){A.forEach((function(e){var t=v.indexOf(e);-1!==t&&v.splice(t,1)})),A=[]},I=function(){for(var e=0;e<v.length;++e){var t=v[e];k(t)}x()},P=void 0,T=null,C=function(e){function t(e){f(this,t);var r=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.visible=!1,r.setRef=r.setRef.bind(r),r}return p(t,e),n(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&"string"===typeof t&&(e=e.document.querySelector(t));var r=void 0!==this.props.debounce&&"throttle"===P||"debounce"===P&&void 0===this.props.debounce;if(r&&((0,a.off)(e,"scroll",T,S),(0,a.off)(window,"resize",T,S),T=null),T||(void 0!==this.props.debounce?(T=(0,u.default)(I,"number"===typeof this.props.debounce?this.props.debounce:300),P="debounce"):void 0!==this.props.throttle?(T=(0,l.default)(I,"number"===typeof this.props.throttle?this.props.throttle:300),P="throttle"):T=I),this.props.overflow){var n=(0,c.default)(this.ref);if(n&&"function"===typeof n.getAttribute){var i=+n.getAttribute(b)+1;1===i&&n.addEventListener("scroll",T,S),n.setAttribute(b,i)}}else if(0===v.length||r){var o=this.props,s=o.scroll,d=o.resize;s&&(0,a.on)(e,"scroll",T,S),d&&(0,a.on)(window,"resize",T,S)}v.push(this),k(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,c.default)(this.ref);if(e&&"function"===typeof e.getAttribute){var t=+e.getAttribute(b)-1;0===t?(e.removeEventListener("scroll",T,S),e.removeAttribute(b)):e.setAttribute(b,t)}}var r=v.indexOf(this);-1!==r&&v.splice(r,1),0===v.length&&"undefined"!==typeof window&&((0,a.off)(window,"resize",T,S),(0,a.off)(window,"scroll",T,S))}},{key:"setRef",value:function(e){e&&(this.ref=e)}},{key:"render",value:function(){var e=this.props,t=e.height,r=e.children,n=e.placeholder,i=e.className,s=e.classNamePrefix,a=e.style;return o.default.createElement("div",{className:s+"-wrapper "+i,ref:this.setRef,style:a},this.visible?r:n||o.default.createElement("div",{style:{height:t},className:s+"-placeholder"}))}}]),t}(i.Component);C.propTypes={className:s.default.string,classNamePrefix:s.default.string,once:s.default.bool,height:s.default.oneOfType([s.default.number,s.default.string]),offset:s.default.oneOfType([s.default.number,s.default.arrayOf(s.default.number)]),overflow:s.default.bool,resize:s.default.bool,scroll:s.default.bool,children:s.default.node,throttle:s.default.oneOfType([s.default.number,s.default.bool]),debounce:s.default.oneOfType([s.default.number,s.default.bool]),placeholder:s.default.node,scrollContainer:s.default.oneOfType([s.default.string,s.default.object]),unmountIfInvisible:s.default.bool,style:s.default.object},C.defaultProps={className:"",classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};var O=function(e){return e.displayName||e.name||"Component"};t.ZP=C},23698:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=void 0,i=void 0,o=void 0,s=void 0,a=void 0,c=function c(){var u=+new Date-s;u<t&&u>=0?n=setTimeout(c,t-u):(n=null,r||(a=e.apply(o,i),n||(o=null,i=null)))};return function(){o=this,i=arguments,s=+new Date;var u=r&&!n;return n||(n=setTimeout(c,t)),u&&(a=e.apply(o,i),o=null,i=null),a}}},2471:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,r,n){n=n||!1,e.addEventListener?e.addEventListener(t,r,n):e.attachEvent&&e.attachEvent("on"+t,(function(t){r.call(e,t||window.event)}))},t.off=function(e,t,r,n){n=n||!1,e.removeEventListener?e.removeEventListener(t,r,n):e.detachEvent&&e.detachEvent("on"+t,r)}},31161:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,r=/(scroll|auto|overlay)/,n=e;n;){if(!n.parentNode)return e.ownerDocument||document.documentElement;var i=window.getComputedStyle(n),o=i.position,s=i.overflow,a=i["overflow-x"],c=i["overflow-y"];if("static"===o&&t)n=n.parentNode;else{if(r.test(s)&&r.test(a)&&r.test(c))return n;n=n.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},51941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n,i;return t||(t=250),function(){var o=r||this,s=+new Date,a=arguments;n&&s<n+t?(clearTimeout(i),i=setTimeout((function(){n=s,e.apply(o,a)}),t)):(n=s,e.apply(o,a))}}},12870:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FEE_OPTIONS=t.RECEIPT_DISCRIMINATOR=t.DISTRIBUTOR_DISCRIMINATOR=t.DEFAULT_SEN_UTILITY_IDL=t.DEFAULT_SEN_UTILITY_PROGRAM_ID=t.DEFAULT_RPC_ENDPOINT=void 0;const i=n(r(34651)),o=r(43994),s=r(84017);t.DEFAULT_RPC_ENDPOINT="https://api.devnet.solana.com",t.DEFAULT_SEN_UTILITY_PROGRAM_ID="7oyG4wSf2kz2CxTqKTf1uhpPqrw9a8Av1w5t8Uj5PfXb",t.DEFAULT_SEN_UTILITY_IDL=s.IDL,t.DISTRIBUTOR_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("distributor")),t.RECEIPT_DISCRIMINATOR=i.default.encode(o.BorshAccountsCoder.accountDiscriminator("receipt"));t.FEE_OPTIONS=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(new o.web3.Keypair).publicKey.toBase58();return{fee:new o.BN(0),feeCollectorAddress:e}}},67250:function(e,t,r){"use strict";var n=r(97429).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Utility=void 0;const o=r(43994),s=r(12870),a=r(12190);t.Utility=class{constructor(e){var t=this;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.DEFAULT_RPC_ENDPOINT,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.DEFAULT_SEN_UTILITY_PROGRAM_ID;if(this.addListener=(e,t)=>i(this,void 0,void 0,(function*(){return yield this.program.addEventListener(e,(e=>t(e)))})),this.removeListener=e=>i(this,void 0,void 0,(function*(){try{yield this.program.removeEventListener(e)}catch(t){console.warn(t)}})),this.getCurrentUnixTimestamp=()=>i(this,void 0,void 0,(function*(){const{data:e}=(yield this.program.provider.connection.getAccountInfo(o.web3.SYSVAR_CLOCK_PUBKEY))||{};if(!e)throw new Error("Cannot fetch clock data");return new o.BN(e.subarray(32,40),"le").toNumber()})),this.parseDistributorData=e=>this.program.coder.accounts.decode("distributor",e),this.getDistributorData=e=>i(this,void 0,void 0,(function*(){return this.program.account.distributor.fetch(e)})),this.parseReceiptData=e=>this.program.coder.accounts.decode("receipt",e),this.getReceiptData=e=>i(this,void 0,void 0,(function*(){return this.program.account.receipt.fetch(e)})),this.deriveReceiptAddress=function(e,r){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i(t,void 0,void 0,(function*(){if(32!==e.length)throw new Error("The salt must has length 32");if(!(0,a.isAddress)(r))throw new Error("Invalid distributor address");const t=(yield(0,a.findReceipt)(e,new o.web3.PublicKey(r),this._provider.wallet.publicKey,this.program.programId)).toBase58();if(s){let o,s,a;try{const{authority:e,distributor:r,salt:i}=yield this.getReceiptData(t);o=e.toBase58(),s=r.toBase58(),a=n.from(i)}catch(i){throw new Error(`This receipt ${t} is not initialized yet`)}if(this._provider.wallet.publicKey.toBase58()!==o)throw new Error("Violated authority address");if(r!==s)throw new Error("Violated proposal address");if(0!==e.compare(a))throw new Error("Violated salt")}return t}))},this.deriveTreasurerAddress=e=>i(this,void 0,void 0,(function*(){if(!(0,a.isAddress)(e))throw new Error("Invalid distributor address");const t=new o.web3.PublicKey(e),[r]=yield o.web3.PublicKey.findProgramAddress([n.from("treasurer"),t.toBuffer()],this.program.programId);return r.toBase58()})),this.initializeDistributor=e=>{let{tokenAddress:t,total:r,merkleRoot:n,metadata:c,endedAt:u=0,distributor:l=o.web3.Keypair.generate(),feeOptions:d=(0,s.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58()),sendAndConfirm:f=!0}=e;return i(this,void 0,void 0,(function*(){const{fee:e,feeCollectorAddress:i}=d;if(!(0,a.isAddress)(i))throw new Error("Invalid fee collector address");if(!(0,a.isAddress)(t))throw new Error("Invalid token address");if(!(0,a.isHash)(n))throw new Error("Invalid merkle root");if(r.isNeg())throw new Error("The total must not be negative");if(32!==c.length)throw new Error("Invalid metadata path");const s=l.publicKey.toBase58(),h=new o.web3.PublicKey(t),p=yield o.utils.token.associatedAddress({mint:h,owner:this._provider.wallet.publicKey}),y=yield this.deriveTreasurerAddress(s),m=new o.web3.PublicKey(y),g=yield o.utils.token.associatedAddress({mint:h,owner:m}),w=yield this.program.methods.initializeDistributor([...n],r,new o.BN(u),[...c],e).accounts({authority:this._provider.wallet.publicKey,distributor:l.publicKey,src:p,treasurer:m,treasury:g,feeCollector:new o.web3.PublicKey(i),mint:h,tokenProgram:o.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:o.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:o.web3.SystemProgram.programId,rent:o.web3.SYSVAR_RENT_PUBKEY}).signers([l]);return{tx:yield w.transaction(),txId:f?yield w.rpc({commitment:"confirmed"}):"",distributorAddress:s}}))},this.claim=e=>{let{distributorAddress:t,proof:r,data:n,feeOptions:c=(0,s.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58()),sendAndConfirm:u=!0}=e;return i(this,void 0,void 0,(function*(){const{fee:e,feeCollectorAddress:i}=c;if(!(0,a.isAddress)(i))throw new Error("Invalid fee collector address");if(!(0,a.isAddress)(t))throw new Error("Invalid distributor address");if(!this._provider.wallet.publicKey.equals(n.authority))throw new Error("Invalid athority address");const{mint:s}=yield this.getDistributorData(t),l=yield this.deriveReceiptAddress(n.salt,t),d=yield o.utils.token.associatedAddress({mint:s,owner:this._provider.wallet.publicKey}),f=yield this.deriveTreasurerAddress(t),h=new o.web3.PublicKey(f),p=yield o.utils.token.associatedAddress({mint:s,owner:h}),y=yield this.program.methods.claim(r.map((e=>e.toJSON().data)),n.amount,n.startedAt,n.salt.toJSON().data,e).accounts({authority:this._provider.wallet.publicKey,distributor:new o.web3.PublicKey(t),receipt:new o.web3.PublicKey(l),dst:d,treasurer:h,treasury:p,feeCollector:new o.web3.PublicKey(i),mint:s,tokenProgram:o.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:o.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:o.web3.SystemProgram.programId,rent:o.web3.SYSVAR_RENT_PUBKEY});return{tx:yield y.transaction(),txId:u?yield y.rpc({commitment:"confirmed"}):"",dstAddress:d.toBase58()}}))},this.revoke=e=>{let{distributorAddress:t,feeOptions:r=(0,s.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58()),sendAndConfirm:n=!0}=e;return i(this,void 0,void 0,(function*(){const{fee:e,feeCollectorAddress:i}=r;if(!(0,a.isAddress)(i))throw new Error("Invalid fee collector address");if(!(0,a.isAddress)(t))throw new Error("Invalid distributor address");const{mint:s,authority:c}=yield this.getDistributorData(t);if(!this._provider.wallet.publicKey.equals(c))throw new Error("Invalid athority address");const u=yield o.utils.token.associatedAddress({mint:s,owner:this._provider.wallet.publicKey}),l=yield this.deriveTreasurerAddress(t),d=new o.web3.PublicKey(l),f=yield o.utils.token.associatedAddress({mint:s,owner:d}),h=yield this.program.methods.revoke(e).accounts({authority:this._provider.wallet.publicKey,distributor:new o.web3.PublicKey(t),dst:u,treasurer:d,treasury:f,feeCollector:new o.web3.PublicKey(i),mint:s,tokenProgram:o.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:o.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:o.web3.SystemProgram.programId,rent:o.web3.SYSVAR_RENT_PUBKEY});return{tx:yield h.transaction(),txId:n?yield h.rpc({commitment:"confirmed"}):"",dstAddress:u.toBase58()}}))},this.safeMintTo=e=>{let{amount:t,tokenAddress:r,dstWalletAddress:n,feeOptions:c=(0,s.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58()),sendAndConfirm:u=!0}=e;return i(this,void 0,void 0,(function*(){const{fee:e,feeCollectorAddress:i}=c;if(!(0,a.isAddress)(i))throw new Error("Invalid fee collector address");if(t.isNeg())throw new Error("Token amount must not be negative");if(!(0,a.isAddress)(r))throw new Error("Invalid token address");if(!(0,a.isAddress)(n))throw new Error("Invalid destination wallet address");const s=new o.web3.PublicKey(r),l=new o.web3.PublicKey(n),d=yield o.utils.token.associatedAddress({mint:s,owner:l}),f=yield this.program.methods.safeMintTo(t,e).accounts({payer:this._provider.wallet.publicKey,authority:l,dst:d,feeCollector:new o.web3.PublicKey(i),mint:s,tokenProgram:o.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:o.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:o.web3.SystemProgram.programId,rent:o.web3.SYSVAR_RENT_PUBKEY});return{tx:yield f.transaction(),txId:u?yield f.rpc({commitment:"confirmed"}):"",dstAddress:d.toBase58()}}))},this.safeTransfer=e=>{let{amount:t,tokenAddress:r,dstWalletAddress:n,feeOptions:c=(0,s.FEE_OPTIONS)(this._provider.wallet.publicKey.toBase58()),sendAndConfirm:u=!0}=e;return i(this,void 0,void 0,(function*(){const{fee:e,feeCollectorAddress:i}=c;if(!(0,a.isAddress)(i))throw new Error("Invalid fee collector address");if(t.isNeg())throw new Error("Token amount must not be negative");if(!(0,a.isAddress)(r))throw new Error("Invalid token address");if(!(0,a.isAddress)(n))throw new Error("Invalid destination wallet address");const s=new o.web3.PublicKey(r),l=yield o.utils.token.associatedAddress({mint:s,owner:this._provider.wallet.publicKey}),d=new o.web3.PublicKey(n),f=yield o.utils.token.associatedAddress({mint:s,owner:d}),h=yield this.program.methods.safeTransfer(t,e).accounts({payer:this._provider.wallet.publicKey,authority:d,src:l,dst:f,feeCollector:new o.web3.PublicKey(i),mint:s,tokenProgram:o.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:o.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:o.web3.SystemProgram.programId,rent:o.web3.SYSVAR_RENT_PUBKEY});return{tx:yield h.transaction(),txId:u?yield h.rpc({commitment:"confirmed"}):"",srcAddress:l.toBase58(),dstAddress:f.toBase58()}}))},!(0,a.isAddress)(c))throw new Error("Invalid program id");this._connection=new o.web3.Connection(r,"confirmed"),this._provider=new o.AnchorProvider(this._connection,e,{skipPreflight:!0,commitment:"confirmed"}),this.program=new o.Program(s.DEFAULT_SEN_UTILITY_IDL,c,this._provider)}get events(){return this.program.idl.events.map((e=>{let{name:t}=e;return t}))}}},97425:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(12870),t),i(r(68085),t),i(r(12190),t),i(r(67250),t),i(r(70104),t)},70104:(e,t,r)=>{"use strict";var n=r(97429).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.MerkleDistributor=t.LEAF_LEN=void 0;const i=r(43994),o=r(16348);t.LEAF_LEN=80;class s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.getTotal=()=>{let e=new i.BN(0);return this.receipients.forEach((t=>{let{amount:r}=t;return e=e.add(r)})),e},this.toBuffer=()=>n.concat(this.receipients.map(s.serialize)),this.getLeaf=e=>{const t=s.serialize(e);return n.from(o.keccak_256.digest(t))},this.getParent=(e,t)=>{if(!e||!t)throw new Error("Invalid child");const r=n.concat(s.sort(e,t));return n.from(o.keccak_256.digest(r))},this.getSibling=(e,t)=>{const r=t.findIndex((t=>0===t.compare(e)));if(-1===r)throw new Error("Invalid child");return r%2===1?t[r-1]:t[r+1]},this.nextLayer=e=>{const t=[...e];if(0===t.length)throw new Error("Invalid tree");if(1===t.length)return t;const r=t.length%2===1?t.pop():void 0,n=[];for(let i=0;i<t.length;i+=2)n.push(this.getParent(t[i],t[i+1]));return r?[...n,r]:n},this.deriveMerkleRoot=()=>{let e=this.leafs;for(;e.length>1;)e=this.nextLayer(e);return e[0]},this.deriveProof=e=>{let t=this.getLeaf(e);const r=[];let n=this.leafs;for(;n.length>1;){const e=this.getSibling(t,n);e&&(t=this.getParent(t,e),r.push(e)),n=this.nextLayer(n)}return r},this.verifyProof=(e,t)=>{let r=this.getLeaf(t);for(const n of e)r=this.getParent(r,n);return 0===this.deriveMerkleRoot().compare(r)},this.receipients=e,this.leafs=s.sort(...this.receipients.map((e=>this.getLeaf(e))))}}t.MerkleDistributor=s,s.sort=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return[...t].sort(((e,t)=>{const r=n.compare(e,t);if(0===r)throw new Error("The receipients has a duplication");return r}))},s.serialize=e=>{let{authority:t,amount:r,startedAt:i,salt:o}=e;return n.concat([t.toBuffer(),r.toArrayLike(n,"le",8),i.toArrayLike(n,"le",8),o])},s.deserialize=e=>{if(e.length!==t.LEAF_LEN)throw new Error("Invalid buffer");return{authority:new i.web3.PublicKey(e.subarray(0,32)),amount:new i.BN(e.subarray(32,40),"le"),startedAt:new i.BN(e.subarray(40,48),"le"),salt:n.from(e.subarray(48,80))}},s.salt=e=>{let t="";for(;t.length<128;)t+=Math.round(10*Math.random()).toString();const r=e||t;return n.from(o.keccak_256.digest(r))},s.fromBuffer=e=>{if(e.length%t.LEAF_LEN!==0)throw new Error("Invalid buffer");let r=[];for(let n=0;n<e.length;n+=t.LEAF_LEN)r.push(s.deserialize(e.subarray(n,n+t.LEAF_LEN)));return new s(r)}},68085:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},12190:function(e,t,r){"use strict";var n=r(97429).Buffer,i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{c(n.next(e))}catch(t){o(t)}}function a(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.findReceipt=t.isHash=t.isAddress=void 0;const o=r(43994);t.isAddress=e=>{if(!e)return!1;try{if(!new o.web3.PublicKey(e))throw new Error("Invalid public key");return!0}catch(t){return!1}};t.isHash=e=>!(!e||32!==e.length);t.findReceipt=(e,t,r,s)=>i(void 0,void 0,void 0,(function*(){const[i]=yield o.web3.PublicKey.findProgramAddress([n.from("receipt"),e,t.toBuffer(),r.toBuffer()],s);return i}))},84017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IDL=void 0,t.IDL={version:"0.1.0",name:"sen_utility",instructions:[{name:"initializeDistributor",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!0},{name:"src",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"merkleRoot",type:{array:["u8",32]}},{name:"total",type:"u64"},{name:"endedAt",type:"i64"},{name:"metadata",type:{array:["u8",32]}},{name:"fee",type:"u64"}]},{name:"claim",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"receipt",isMut:!0,isSigner:!1},{name:"dst",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"proof",type:{vec:{array:["u8",32]}}},{name:"amount",type:"u64"},{name:"startedAt",type:"i64"},{name:"salt",type:{array:["u8",32]}},{name:"fee",type:"u64"}]},{name:"revoke",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"distributor",isMut:!0,isSigner:!1},{name:"dst",isMut:!0,isSigner:!1},{name:"treasurer",isMut:!1,isSigner:!1},{name:"treasury",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"fee",type:"u64"}]},{name:"safeMintTo",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"authority",isMut:!1,isSigner:!1},{name:"dst",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"},{name:"fee",type:"u64"}]},{name:"safeTransfer",accounts:[{name:"payer",isMut:!0,isSigner:!0},{name:"authority",isMut:!1,isSigner:!1},{name:"src",isMut:!0,isSigner:!1},{name:"dst",isMut:!0,isSigner:!1},{name:"feeCollector",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"associatedTokenProgram",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"amount",type:"u64"},{name:"fee",type:"u64"}]}],accounts:[{name:"distributor",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"mint",type:"publicKey"},{name:"merkleRoot",type:{array:["u8",32]}},{name:"total",type:"u64"},{name:"claimed",type:"u64"},{name:"endedAt",type:"i64"},{name:"metadata",type:{array:["u8",32]}}]}},{name:"receipt",type:{kind:"struct",fields:[{name:"authority",type:"publicKey"},{name:"distributor",type:"publicKey"},{name:"amount",type:"u64"},{name:"startedAt",type:"i64"},{name:"claimedAt",type:"i64"},{name:"salt",type:{array:["u8",32]}}]}}],events:[{name:"ClaimEvent",fields:[{name:"destination",type:"publicKey",index:!1},{name:"amount",type:"u64",index:!1},{name:"startedAt",type:"i64",index:!1},{name:"claimedAt",type:"i64",index:!1},{name:"claimed",type:"u64",index:!1}]},{name:"InitializeDistributorEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"distributor",type:"publicKey",index:!1},{name:"merkleRoot",type:{array:["u8",32]},index:!1},{name:"total",type:"u64",index:!1},{name:"endedAt",type:"i64",index:!1},{name:"metadata",type:{array:["u8",32]},index:!1}]},{name:"RevokeEvent",fields:[{name:"authority",type:"publicKey",index:!1},{name:"distributor",type:"publicKey",index:!1},{name:"remaining",type:"u64",index:!1}]}],errors:[{code:6e3,name:"Overflow",msg:"Operation overflowed"},{code:6001,name:"InvalidMerkleProof",msg:"Invalid merkle proof"},{code:6002,name:"InvalidCurrentDate",msg:"Cannot get current date"},{code:6003,name:"EndedCampaign",msg:"The campaign has been ended"},{code:6004,name:"NotStartedCampaign",msg:"The campaign is not started yet"},{code:6005,name:"NotEndedCampaign",msg:"The campaign is not ended yet"},{code:6006,name:"NoBump",msg:"Cannot derive the program address"}]}},43994:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ACCOUNT_DISCRIMINATOR_SIZE:()=>Re,AccountClient:()=>br,AnchorError:()=>ve,AnchorProvider:()=>ae,BN:()=>s.a,BorshAccountsCoder:()=>je,BorshCoder:()=>Fe,BorshEventCoder:()=>Le,BorshInstructionCoder:()=>Oe,BorshStateCoder:()=>Ue,EventManager:()=>Er,EventParser:()=>Sr,IdlError:()=>we,LangErrorCode:()=>Ee,LangErrorMessage:()=>Se,MethodsBuilderFactory:()=>Mr,Native:()=>Wr,Program:()=>Br,ProgramError:()=>Ae,ProgramErrorStack:()=>be,Spl:()=>Fr,SplTokenCoder:()=>Dt,StateClient:()=>gr,SystemCoder:()=>Gt,eventDiscriminator:()=>ze,getProvider:()=>fe,parseIdlErrors:()=>P,setProvider:()=>de,splitArgsAndCtx:()=>hr,stateDiscriminator:()=>Ke,toInstruction:()=>T,translateAddress:()=>O,translateError:()=>_e,utils:()=>dr,validateAccounts:()=>C,web3:()=>i});var n=r(97429),i=r(97381),o=r(48744),s=r.n(o),a=r(43906),c=r.n(a),u=r(12009),l=r(8511),d=r.n(l),f=r(10119),h=r(26434),p=r(81070),y=r(48449),m=r.n(y),g=r(21380),w=r(97429).Buffer,b=Object.freeze({__proto__:null,encode:function(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")},decode:function(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2==1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?n.Buffer.from([]):n.Buffer.from(t.map((e=>parseInt(e,16))))}});function v(e){return new TextDecoder("utf-8").decode(e)}function A(e){return(new TextEncoder).encode(e)}var _=Object.freeze({__proto__:null,decode:v,encode:A});function E(e){return c().encode(e)}var S=Object.freeze({__proto__:null,encode:E,decode:function(e){return c().decode(e)}});function k(e){return n.Buffer.from(u.toByteArray(e))}var x=Object.freeze({__proto__:null,encode:function(e){return u.fromByteArray(e)},decode:k}),I=Object.freeze({__proto__:null,hex:b,utf8:_,bs58:S,base64:x});function P(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var r;let n=null!==(r=e.msg)&&void 0!==r?r:e.name;t.set(e.code,n)})),t}function T(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e.args.length!=r.length)throw new Error("Invalid argument length");const i={};let o=0;return e.args.forEach((e=>{i[e.name]=r[o],o+=1})),i}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((e=>{if("accounts"in e)C(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function O(e){return e instanceof i.PublicKey?e:new i.PublicKey(e)}class M extends TypeError{constructor(e,t){let r;const{message:n,...i}=e,{path:o}=e;super(0===o.length?n:"At path: "+o.join(".")+" -- "+n),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[e,...t()]}}}function D(e){return"object"==typeof e&&null!=e}function B(e){return"string"==typeof e?JSON.stringify(e):""+e}function N(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=r,{refinement:a,message:c="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+B(n)+"`"}=e;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:c}}function*R(e,t,r,n){var i;D(i=e)&&"function"==typeof i[Symbol.iterator]||(e=[e]);for(const o of e){const e=N(o,t,r,n);e&&(yield e)}}function*j(e,t,r){void 0===r&&(r={});const{path:n=[],branch:i=[e],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(e=t.coercer(e,a),s&&"type"!==t.type&&D(t.schema)&&D(e)&&!Array.isArray(e)))for(const u in e)void 0===t.schema[u]&&delete e[u];let c=!0;for(const u of t.validator(e,a))c=!1,yield[u,void 0];for(let[u,l,d]of t.entries(e,a)){const t=j(l,d,{path:void 0===u?n:[...n,u],branch:void 0===u?i:[...i,l],coerce:o,mask:s});for(const r of t)r[0]?(c=!1,yield[r[0],void 0]):o&&(l=r[1],void 0===u?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):D(e)&&(e[u]=l))}if(c)for(const u of t.refiner(e,a))c=!1,yield[u,void 0];c&&(yield[void 0,e])}class L{constructor(e){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:t,schema:r,validator:n,refiner:i,coercer:o=(e=>e),entries:s=function*(){}}=e;this.type=t,this.schema=r,this.entries=s,this.coercer=o,this.validator=n?(e,t)=>R(n(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>R(i(e,t),t,this,e):()=>[]}assert(e){return function(e,t){const r=K(e,t);if(r[0])throw r[0]}(e,this)}create(e){return z(e,this)}is(e){return U(e,this)}mask(e){return function(e,t){const r=K(e,t,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(e,this)}validate(e,t){return void 0===t&&(t={}),K(e,this,t)}}function z(e,t){const r=K(e,t,{coerce:!0});if(r[0])throw r[0];return r[1]}function U(e,t){return!K(e,t)[0]}function K(e,t,r){void 0===r&&(r={});const n=j(e,t,r),i=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(n);return i[0]?[new M(i[0],(function*(){for(const e of n)e[0]&&(yield e[0])})),void 0]:[void 0,i[1]]}function $(e,t){return new L({type:e,schema:null,validator:t})}function F(e){return new L({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||"Expected an array value, but received: "+B(e)})}function V(e){const t=B(e),r=typeof e;return new L({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||"Expected the literal `"+t+"`, but received: "+B(r)})}function H(e){return new L({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function W(){return $("number",(e=>"number"==typeof e&&!isNaN(e)||"Expected a number, but received: "+B(e)))}function q(e){return new L({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function G(){return $("string",(e=>"string"==typeof e||"Expected a string, but received: "+B(e)))}function J(e){const t=Object.keys(e);return new L({type:"type",schema:e,*entries(r){if(D(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>D(e)||"Expected an object, but received: "+B(e)})}function Y(e){const t=e.map((e=>e.type)).join(" | ");return new L({type:"union",schema:null,coercer:(t,r)=>(e.find((e=>{const[r]=e.validate(t,{coerce:!0});return!r}))||Z()).coercer(t,r),validator(r,n){const i=[];for(const t of e){const[...e]=j(r,t,n),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return["Expected the value to satisfy a union of `"+t+"`, but received: "+B(r),...i]}})}function Z(){return $("unknown",(()=>!0))}async function X(e,t,r){if(t.length<=99)return await Q(e,t,r);{const n=function(e,t){return Array.apply(0,new Array(Math.ceil(e.length/99))).map(((t,r)=>e.slice(99*r,99*(r+1))))}(t);return(await Promise.all(n.map((t=>Q(e,t,r))))).flat()}}async function Q(e,t,r){const n=null!=r?r:e.commitment;return(await e.getMultipleAccountsInfo(t,n)).map(((e,r)=>null===e?null:{publicKey:t[r],account:e}))}async function ee(e,t,r,n,o){r&&r.length>0&&t.sign(...r);const s=t._compile(),a=s.serialize(),c=t._serialize(a).toString("base64"),u={encoding:"base64",commitment:null!=n?n:e.commitment};if(o){const e=(Array.isArray(o)?o:s.nonProgramIds()).map((e=>e.toBase58()));u.accounts={encoding:"base64",addresses:e}}r&&(u.sigVerify=!0);const l=[c,u],d=z(await e._rpcRequest("simulateTransaction",l),ne);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(d.error.message,r)}throw new i.SendTransactionError("failed to simulate transaction: "+d.error.message,e)}return d.result}const te=re(Z());function re(e){return Y([J({jsonrpc:V("2.0"),id:G(),result:e}),J({jsonrpc:V("2.0"),id:G(),error:J({code:Z(),message:G(),data:q($("any",(()=>!0)))})})])}const ne=(oe=J({err:H(Y([J({}),G()])),logs:H(F(G())),accounts:q(H(F(H(J({executable:$("boolean",(e=>"boolean"==typeof e)),owner:G(),lamports:W(),data:F(G()),rentEpoch:q(W())}))))),unitsConsumed:q(W())}),function(e,t,r){return new L({...e,coercer:(n,i)=>U(n,t)?e.coercer(r(n),i):e.coercer(n,i)})}(re(ie=J({context:J({slot:W()}),value:oe})),te,(e=>"error"in e?e:{...e,result:z(e.result,ie)})));var ie,oe,se=Object.freeze({__proto__:null,invoke:async function(e,t,r,n){e=O(e),n||(n=fe());const o=new i.Transaction;if(o.add(new i.TransactionInstruction({programId:e,keys:null!=t?t:[],data:r})),void 0===n.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");return await n.sendAndConfirm(o,[])},getMultipleAccounts:X,simulateTransaction:ee});class ae{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r,this.publicKey=t.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(e,t){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(e,t,r){var n;void 0===r&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(r.preflightCommitment)).blockhash,e=await this.wallet.signTransaction(e),(null!=t?t:[]).forEach((t=>{e.partialSign(t)}));const o=e.serialize();try{return await ue(this.connection,o,r)}catch(t){if(t instanceof le){const r=await this.connection.getTransaction(E(e.signature),{commitment:"confirmed"});if(r){const e=null===(n=r.meta)||void 0===n?void 0:n.logMessages;throw e?new i.SendTransactionError(t.message,e):t}throw t}throw t}}async sendAll(e,t){void 0===t&&(t=this.opts);const r=await this.connection.getRecentBlockhash(t.preflightCommitment);let n=e.map((e=>{var t;let n=e.tx,i=null!==(t=e.signers)&&void 0!==t?t:[];return n.feePayer=this.wallet.publicKey,n.recentBlockhash=r.blockhash,i.forEach((e=>{n.partialSign(e)})),n}));const i=await this.wallet.signAllTransactions(n),o=[];for(let s=0;s<n.length;s+=1){const e=i[s].serialize();o.push(await ue(this.connection,e,t))}return o}async simulate(e,t,r,n){e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getLatestBlockhash(null!=r?r:this.connection.commitment)).blockhash,e=await this.wallet.signTransaction(e);const i=await ee(this.connection,e,t,r,n);if(i.value.err)throw new ce(i.value);return i.value}}class ce extends Error{constructor(e,t){super(t),this.simulationResponse=e}}async function ue(e,t,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},i=await e.sendRawTransaction(t,n),o=(await e.confirmTransaction(i,r&&r.commitment)).value;if(o.err)throw new le(`Raw transaction ${i} failed (${JSON.stringify(o)})`);return i}class le extends Error{constructor(e){super(e)}}function de(e){he=e}function fe(){return null===he?ae.local():he}let he=null;const pe=new Set(["anchor-deprecated-state","debug-logs"]),ye=new Map;function me(e){return void 0!==ye.get(e)}var ge=Object.freeze({__proto__:null,set:function(e){if(!pe.has(e))throw new Error("Invalid feature");ye.set(e,!0)},isSet:me});class we extends Error{constructor(e){super(e),this.name="IdlError"}}class be{constructor(e){this.stack=e}static parse(e){var t;const r=/^Program (\w*) invoke/,n=/^Program \w* success/,o=[];for(let s=0;s<e.length;s++){if(n.exec(e[s])){o.pop();continue}const a=null===(t=r.exec(e[s]))||void 0===t?void 0:t[1];a&&o.push(new i.PublicKey(a))}return new be(o)}}class ve extends Error{constructor(e,t,r,n,i,o){super(r.join("\n").replace("Program log: ","")),this.errorLogs=r,this.logs=n,this.error={errorCode:e,errorMessage:t,comparedValues:o,origin:i},this._programErrorStack=be.parse(n)}static parse(e){if(!e)return null;const t=e.findIndex((e=>e.startsWith("Program log: AnchorError")));if(-1===t)return null;const r=e[t],n=[r];let o;if(t+1<e.length)if("Program log: Left:"===e[t+1]){const r=/^Program log: (.*)$/,s=r.exec(e[t+2])[1],a=r.exec(e[t+4])[1];o=[new i.PublicKey(s),new i.PublicKey(a)],n.push(...e.slice(t+1,t+5))}else if(e[t+1].startsWith("Program log: Left:")){const r=/^Program log: (Left|Right): (.*)$/,i=r.exec(e[t+1])[2],s=r.exec(e[t+2])[2];n.push(...e.slice(t+1,t+3)),o=[i,s]}const s=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),a=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r),c=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(r);if(s){const[t,r,i]=s.slice(1,4),a={code:t,number:parseInt(r)};return new ve(a,i,n,e,void 0,o)}if(a){const[t,r,i,s,c]=a.slice(1,6),u={code:i,number:parseInt(s)},l={file:t,line:parseInt(r)};return new ve(u,c,n,e,l,o)}if(c){const[t,r,i,s]=c.slice(1,5),a=t,u={code:r,number:parseInt(i)};return new ve(u,s,n,e,a,o)}return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class Ae extends Error{constructor(e,t,r){super(),this.code=e,this.msg=t,this.logs=r,r&&(this._programErrorStack=be.parse(r))}static parse(e,t){const r=e.toString();let n,i;if(r.includes("custom program error:")){let e=r.split("custom program error: ");if(2!==e.length)return null;n=e[1]}else{const e=r.match(/"Custom":([0-9]+)}/g);if(!e||e.length>1)return null;n=e[0].match(/([0-9]+)/g)[0]}try{i=parseInt(n)}catch(e){return null}let o=t.get(i);return void 0!==o?new Ae(i,o,e.logs):(o=Se.get(i),void 0!==o?new Ae(i,o,e.logs):null)}get program(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var e;return null===(e=this._programErrorStack)||void 0===e?void 0:e.stack}toString(){return this.msg}}function _e(e,t){me("debug-logs")&&console.log("Translating error:",e);const r=ve.parse(e.logs);if(r)return r;const n=Ae.parse(e,t);if(n)return n;if(e.logs){const t={get:function(t,r){return"programErrorStack"===r?t.programErrorStack.stack:"program"===r?t.programErrorStack.stack[e.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return e.programErrorStack=be.parse(e.logs),new Proxy(e,t)}return e}const Ee={InstructionMissing:100,InstructionFallbackNotFound:101,InstructionDidNotDeserialize:102,InstructionDidNotSerialize:103,IdlInstructionStub:1e3,IdlInstructionInvalidProgram:1001,ConstraintMut:2e3,ConstraintHasOne:2001,ConstraintSigner:2002,ConstraintRaw:2003,ConstraintOwner:2004,ConstraintRentExempt:2005,ConstraintSeeds:2006,ConstraintExecutable:2007,ConstraintState:2008,ConstraintAssociated:2009,ConstraintAssociatedInit:2010,ConstraintClose:2011,ConstraintAddress:2012,ConstraintZero:2013,ConstraintTokenMint:2014,ConstraintTokenOwner:2015,ConstraintMintMintAuthority:2016,ConstraintMintFreezeAuthority:2017,ConstraintMintDecimals:2018,ConstraintSpace:2019,RequireViolated:2500,RequireEqViolated:2501,RequireKeysEqViolated:2502,RequireNeqViolated:2503,RequireKeysNeqViolated:2504,RequireGtViolated:2505,RequireGteViolated:2506,AccountDiscriminatorAlreadySet:3e3,AccountDiscriminatorNotFound:3001,AccountDiscriminatorMismatch:3002,AccountDidNotDeserialize:3003,AccountDidNotSerialize:3004,AccountNotEnoughKeys:3005,AccountNotMutable:3006,AccountOwnedByWrongProgram:3007,InvalidProgramId:3008,InvalidProgramExecutable:3009,AccountNotSigner:3010,AccountNotSystemOwned:3011,AccountNotInitialized:3012,AccountNotProgramData:3013,AccountNotAssociatedTokenAccount:3014,AccountSysvarMismatch:3015,AccountReallocExceedsLimit:3016,AccountDuplicateReallocs:3017,StateInvalidAddress:4e3,DeclaredProgramIdMismatch:4100,Deprecated:5e3},Se=new Map([[Ee.InstructionMissing,"8 byte instruction identifier not provided"],[Ee.InstructionFallbackNotFound,"Fallback functions are not supported"],[Ee.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[Ee.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[Ee.IdlInstructionStub,"The program was compiled without idl instructions"],[Ee.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[Ee.ConstraintMut,"A mut constraint was violated"],[Ee.ConstraintHasOne,"A has_one constraint was violated"],[Ee.ConstraintSigner,"A signer constraint was violated"],[Ee.ConstraintRaw,"A raw constraint was violated"],[Ee.ConstraintOwner,"An owner constraint was violated"],[Ee.ConstraintRentExempt,"A rent exemption constraint was violated"],[Ee.ConstraintSeeds,"A seeds constraint was violated"],[Ee.ConstraintExecutable,"An executable constraint was violated"],[Ee.ConstraintState,"A state constraint was violated"],[Ee.ConstraintAssociated,"An associated constraint was violated"],[Ee.ConstraintAssociatedInit,"An associated init constraint was violated"],[Ee.ConstraintClose,"A close constraint was violated"],[Ee.ConstraintAddress,"An address constraint was violated"],[Ee.ConstraintZero,"Expected zero account discriminant"],[Ee.ConstraintTokenMint,"A token mint constraint was violated"],[Ee.ConstraintTokenOwner,"A token owner constraint was violated"],[Ee.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[Ee.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[Ee.ConstraintMintDecimals,"A mint decimals constraint was violated"],[Ee.ConstraintSpace,"A space constraint was violated"],[Ee.RequireViolated,"A require expression was violated"],[Ee.RequireEqViolated,"A require_eq expression was violated"],[Ee.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[Ee.RequireNeqViolated,"A require_neq expression was violated"],[Ee.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[Ee.RequireGtViolated,"A require_gt expression was violated"],[Ee.RequireGteViolated,"A require_gte expression was violated"],[Ee.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[Ee.AccountDiscriminatorNotFound,"No 8 byte discriminator was found on the account"],[Ee.AccountDiscriminatorMismatch,"8 byte discriminator did not match what was expected"],[Ee.AccountDidNotDeserialize,"Failed to deserialize the account"],[Ee.AccountDidNotSerialize,"Failed to serialize the account"],[Ee.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[Ee.AccountNotMutable,"The given account is not mutable"],[Ee.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[Ee.InvalidProgramId,"Program ID was not as expected"],[Ee.InvalidProgramExecutable,"Program account is not executable"],[Ee.AccountNotSigner,"The given account did not sign"],[Ee.AccountNotSystemOwned,"The given account is not owned by the system program"],[Ee.AccountNotInitialized,"The program expected this account to be already initialized"],[Ee.AccountNotProgramData,"The given account is not a program data account"],[Ee.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[Ee.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[Ee.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[Ee.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[Ee.StateInvalidAddress,"The given state account does not have the correct address"],[Ee.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[Ee.Deprecated,"The API being used is deprecated and should no longer be used"]]);var ke=function(){return ke=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ke.apply(this,arguments)};function xe(e){return e.toLowerCase()}var Ie=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],Pe=/[^A-Z0-9]+/gi;function Te(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}class Ce{static fieldLayout(e,t){const r=void 0!==e.name?d()(e.name):void 0;switch(e.type){case"bool":return h.bool(r);case"u8":return h.u8(r);case"i8":return h.i8(r);case"u16":return h.u16(r);case"i16":return h.i16(r);case"u32":return h.u32(r);case"i32":return h.i32(r);case"f32":return h.f32(r);case"u64":return h.u64(r);case"i64":return h.i64(r);case"f64":return h.f64(r);case"u128":return h.u128(r);case"i128":return h.i128(r);case"bytes":return h.vecU8(r);case"string":return h.str(r);case"publicKey":return h.publicKey(r);default:if("vec"in e.type)return h.vec(Ce.fieldLayout({name:void 0,type:e.type.vec},t),r);if("option"in e.type)return h.option(Ce.fieldLayout({name:void 0,type:e.type.option},t),r);if("defined"in e.type){const n=e.type.defined;if(void 0===t)throw new we("User defined types not provided");const i=t.filter((e=>e.name===n));if(1!==i.length)throw new we(`Type not found: ${JSON.stringify(e)}`);return Ce.typeDefLayout(i[0],t,r)}if("array"in e.type){let n=e.type.array[0],i=e.type.array[1],o=Ce.fieldLayout({name:void 0,type:n},t);return h.array(o,i,r)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;if("struct"===e.type.kind){const n=e.type.fields.map((e=>Ce.fieldLayout(e,t)));return h.struct(n,r)}if("enum"===e.type.kind){let n=e.type.variants.map((e=>{const r=d()(e.name);if(void 0===e.fields)return h.struct([],r);const n=e.fields.map((e=>{if(!e.hasOwnProperty("name"))throw new Error("Tuple enum variants not yet implemented.");return Ce.fieldLayout(e,t)}));return h.struct(n,r)}));return void 0!==r?h.rustEnum(n).replicate(r):h.rustEnum(n,r)}throw new Error(`Unknown type kint: ${e}`)}}class Oe{constructor(e){this.idl=e,this.ixLayout=Oe.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const r=De("global",e.name);t.set(c().encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const r=De("state",e.name);t.set(c().encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode("global",e,t)}encodeState(e,t){return this._encode("state",e,t)}_encode(e,t,r){const i=n.Buffer.alloc(1e3),o=d()(t),s=this.ixLayout.get(o);if(!s)throw new Error(`Unknown method: ${o}`);const a=s.encode(r,i),c=i.slice(0,a);return n.Buffer.concat([De(e,t),c])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let r=t.args.map((t=>{var r,n;return Ce.fieldLayout(t,Array.from([...null!==(r=e.accounts)&&void 0!==r?r:[],...null!==(n=e.types)&&void 0!==n?n:[]]))}));const n=d()(t.name);return[n,h.struct(r,n)]})).concat(e.instructions.map((t=>{let r=t.args.map((t=>{var r,n;return Ce.fieldLayout(t,Array.from([...null!==(r=e.accounts)&&void 0!==r?r:[],...null!==(n=e.types)&&void 0!==n?n:[]]))}));const n=d()(t.name);return[n,h.struct(r,n)]})));return new Map(t)}decode(e){"string"==typeof e&&(e="hex"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex")?n.Buffer.from(e,"hex"):c().decode(e));let t=c().encode(e.slice(0,8)),r=e.slice(8);const i=this.sighashLayouts.get(t);return i?{data:i.layout.decode(r),name:i.name}:null}format(e,t){return Me.format(e,t,this.idl)}}class Me{static format(e,t,r){const n=r.instructions.filter((t=>e.name===t.name))[0];if(void 0===n)return console.error("Invalid instruction given"),null;const i=n.args.map((t=>({name:t.name,type:Me.formatIdlType(t.type),data:Me.formatIdlData(t,e.data[t.name],r.types)}))),o=Me.flattenIdlAccounts(n.accounts);return{args:i,accounts:t.map(((e,t)=>t<o.length?{name:o[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){if("string"==typeof e)return e;if("vec"in e)return`Vec<${this.formatIdlType(e.vec)}>`;if("option"in e)return`Option<${this.formatIdlType(e.option)}>`;if("defined"in e)return e.defined;if("array"in e)return`Array<${e.array[0]}; ${e.array[1]}>`;throw new Error(`Unknown IDL type: ${e}`)}static formatIdlData(e,t,r){if("string"==typeof e.type)return t.toString();if(e.type.hasOwnProperty("vec"))return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.hasOwnProperty("option"))return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t,r);if(e.type.hasOwnProperty("defined")){if(void 0===r)throw new Error("User defined types not provided");const n=r.filter((t=>t.name===e.type.defined));if(1!==n.length)throw new Error(`Type not found: ${e.type.defined}`);return Me.formatIdlDataDefined(n[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){if("struct"===e.type.kind){const n=e.type;return"{ "+Object.keys(t).map((e=>{const i=n.fields.filter((t=>t.name===e))[0];if(void 0===i)throw new Error("Unable to find type");return e+": "+Me.formatIdlData(i,t[e],r)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const n=e.type.variants,i=Object.keys(t)[0],o=t[i],s=Object.keys(o).map((e=>{var t;const s=o[e],a=null===(t=n[i])||void 0===t?void 0:t.filter((t=>t.name===e))[0];if(void 0===a)throw new Error("Unable to find variant");return e+": "+Me.formatIdlData(a,s,r)})).join(", "),a=d()(i,{pascalCase:!0});return 0===s.length?a:`${a} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const r=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.hasOwnProperty("accounts")){const n=t?`${t} > ${r}`:r;return Me.flattenIdlAccounts(e.accounts,n)}return{...e,name:t?`${t} > ${r}`:r}})).flat()}}function De(e,t){var r;let i=`${e}:${void 0===r&&(r={}),function(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,n=void 0===r?Ie:r,i=t.stripRegexp,o=void 0===i?Pe:i,s=t.transform,a=void 0===s?xe:s,c=t.delimiter,u=void 0===c?" ":c,l=Te(Te(e,n,"$1\0$2"),o,"\0"),d=0,f=l.length;"\0"===l.charAt(d);)d++;for(;"\0"===l.charAt(f-1);)f--;return l.slice(d,f).split("\0").map(a).join(u)}(e,ke({delimiter:"."},t))}(t,ke({delimiter:"_"},r))}`;return n.Buffer.from(f.sha256.digest(i)).slice(0,8)}function Be(e,t){if("enum"===t.type.kind){let r=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if("object"!=typeof t||!("name"in t))throw new Error("Tuple enum variants not yet implemented.");return Ne(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...r)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>Ne(e,t.type))).reduce(((e,t)=>e+t),0)}function Ne(e,t){var r,n;switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":case"f32":return 4;case"u64":case"i64":case"f64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if("vec"in t)return 1;if("option"in t)return 1+Ne(e,t.option);if("coption"in t)return 4+Ne(e,t.coption);if("defined"in t){const i=null!==(n=null===(r=e.types)||void 0===r?void 0:r.filter((e=>e.name===t.defined)))&&void 0!==n?n:[];if(1!==i.length)throw new we(`Type not found: ${JSON.stringify(t)}`);return Be(e,i[0])}if("array"in t){let r=t.array[0],n=t.array[1];return Ne(e,r)*n}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}const Re=8;class je{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,Ce.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t),this.idl=e}async encode(e,t){const r=n.Buffer.alloc(1e3),i=this.accountLayouts.get(e);if(!i)throw new Error(`Unknown account: ${e}`);const o=i.encode(t,r);let s=r.slice(0,o),a=je.accountDiscriminator(e);return n.Buffer.concat([a,s])}decode(e,t){if(je.accountDiscriminator(e).compare(t.slice(0,8)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){const r=t.slice(8),n=this.accountLayouts.get(e);if(!n)throw new Error(`Unknown account: ${e}`);return n.decode(r)}memcmp(e,t){const r=je.accountDiscriminator(e);return{offset:0,bytes:c().encode(t?n.Buffer.concat([r,t]):r)}}size(e){var t;return 8+(null!==(t=Be(this.idl,e))&&void 0!==t?t:0)}static accountDiscriminator(e){return n.Buffer.from(f.sha256.digest(`account:${d()(e,{pascalCase:!0})}`)).slice(0,8)}}class Le{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let r={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,Ce.typeDefLayout(r,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>[u.fromByteArray(ze(e.name)),e.name])))}decode(e){let t;try{t=n.Buffer.from(u.toByteArray(e))}catch(ie){return null}const r=u.fromByteArray(t.slice(0,8)),i=this.discriminators.get(r);if(void 0===i)return null;const o=this.layouts.get(i);if(!o)throw new Error(`Unknown event: ${i}`);return{data:o.decode(t.slice(8)),name:i}}}function ze(e){return n.Buffer.from(f.sha256.digest(`event:${e}`)).slice(0,8)}class Ue{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=Ce.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const r=n.Buffer.alloc(1e3),i=this.layout.encode(t,r),o=await Ke(e),s=r.slice(0,i);return n.Buffer.concat([o,s])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function Ke(e){let t=me("anchor-deprecated-state")?"account":"state";return n.Buffer.from(f.sha256.digest(`${t}:${e}`)).slice(0,8)}class $e{constructor(e){if(void 0===e.types)return void(this.typeLayouts=new Map);const t=e.types.map((t=>[t.name,Ce.typeDefLayout(t,e.types)]));this.typeLayouts=new Map(t),this.idl=e}encode(e,t){const r=n.Buffer.alloc(1e3),i=this.typeLayouts.get(e);if(!i)throw new Error(`Unknown type: ${e}`);const o=i.encode(t,r);return r.slice(0,o)}decode(e,t){const r=this.typeLayouts.get(e);if(!r)throw new Error(`Unknown type: ${e}`);return r.decode(t)}}class Fe{constructor(e){this.instruction=new Oe(e),this.accounts=new je(e),this.events=new Le(e),e.state&&(this.state=new Ue(e)),this.types=new $e(e)}}var Ve="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof r.g?r.g:"undefined"!=typeof self?self:{};class He{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}var We=He;class qe extends He{isCount(){throw new Error("ExternalLayout is abstract")}}class Ge extends qe{constructor(e,t,r){if(!(e instanceof He))throw new TypeError("layout must be a Layout");if(void 0===t)t=0;else if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof Je||this.layout instanceof Ye}decode(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)}encode(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)}}class Je extends He{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class Ye extends He{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntBE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntBE(e,r,this.span),this.span}}const Ze=Math.pow(2,32);function Xe(e){const t=Math.floor(e/Ze);return{hi32:t,lo32:e-t*Ze}}function Qe(e,t){return e*Ze+t}class et extends He{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return Qe(e.readUInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=Xe(e);return t.writeUInt32LE(n.lo32,r),t.writeUInt32LE(n.hi32,r+4),8}}class tt extends He{constructor(e){super(8,e)}decode(e,t){void 0===t&&(t=0);const r=e.readUInt32LE(t);return Qe(e.readInt32LE(t+4),r)}encode(e,t,r){void 0===r&&(r=0);const n=Xe(e);return t.writeUInt32LE(n.lo32,r),t.writeInt32LE(n.hi32,r+4),8}}class rt extends He{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof He),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof t&&void 0===r&&(r=t,t=void 0);for(const i of e)if(0>i.span&&void 0===i.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(e){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(e){throw new RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);const n=r;let i=0,o=0;for(const s of this.fields){let n=s.span;if(o=0<n?n:0,void 0!==s.property){const i=e[s.property];void 0!==i&&(o=s.encode(i,t,r),0>n&&(n=s.getSpan(t,r)))}i=r,r+=n}return i+o-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!=typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!=typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class nt{constructor(e){this.property=e}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class it extends nt{constructor(e,t){if(!(e instanceof qe&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class ot extends He{constructor(e,t,r){const n=e instanceof Je||e instanceof Ye;if(n)e=new it(new Ge(e));else if(e instanceof qe&&e.isCount())e=new it(e);else if(!(e instanceof nt))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(void 0===t&&(t=null),!(null===t||t instanceof He))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&n&&(i+=e.layout.span)),super(i,r),this.discriminator=e,this.usesPrefixDiscriminator=n,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(e.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&e.hasOwnProperty(this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||e.hasOwnProperty(t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(e.hasOwnProperty(r.property))return r}throw new Error("unable to infer src variant")}decode(e,t){let r;void 0===t&&(t=0);const n=this.discriminator,i=n.decode(e,t);let o=this.registry[i];if(void 0===o){let s=0;o=this.defaultLayout,this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[o.property]=this.defaultLayout.decode(e,t+s)}else r=o.decode(e,t);return r}encode(e,t,r){void 0===r&&(r=0);const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new st(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t){let r=e;return w.isBuffer(e)&&(void 0===t&&(t=0),r=this.discriminator.decode(e,t)),this.registry[r]}}class st extends He{constructor(e,t,r,n){if(!(e instanceof ot))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof He))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),r+this.layout.getSpan(e,t+r)}decode(e,t){const r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r){void 0===r&&(r=0);let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!e.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}class at extends He{constructor(e,t){if(!(e instanceof qe&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof qe||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof qe&&(n=e.length),!w.isBuffer(e)||n!==e.length)throw new TypeError((i="Blob.encode",(this.property?i+"["+this.property+"]":i)+" requires (length "+n+") Buffer as src"));var i;if(r+n>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,n,"hex"),this.length instanceof qe&&this.length.encode(n,t,r),n}}var ct=(e,t,r)=>new Ge(e,t,r),ut=e=>new Je(1,e),lt=e=>new Je(4,e),dt=e=>new et(e),ft=e=>new tt(e),ht=(e,t,r)=>new rt(e,t,r),pt=(e,t,r)=>new ot(e,t,r),yt=(e,t)=>new at(e,t);class mt{constructor(e){}encode(e,t){switch(d()(e)){case"initializeMint":return function(e){let{decimals:t,mintAuthority:r,freezeAuthority:n}=e;return bt({initializeMint:{decimals:t,mintAuthority:r.toBuffer(),freezeAuthorityOption:!!n,freezeAuthority:(n||i.PublicKey.default).toBuffer()}})}(t);case"initializeAccount":return bt({initializeAccount:{}});case"initializeMultisig":return function(e){let{m:t}=e;return bt({initializeMultisig:{m:t}})}(t);case"transfer":return function(e){let{amount:t}=e;return bt({transfer:{amount:t}})}(t);case"approve":return function(e){let{amount:t}=e;return bt({approve:{amount:t}})}(t);case"revoke":return bt({revoke:{}});case"setAuthority":return function(e){let{authorityType:t,newAuthority:r}=e;return bt({setAuthority:{authorityType:t,newAuthority:r}})}(t);case"mintTo":return function(e){let{amount:t}=e;return bt({mintTo:{amount:t}})}(t);case"burn":return function(e){let{amount:t}=e;return bt({burn:{amount:t}})}(t);case"closeAccount":return bt({closeAccount:{}});case"freezeAccount":return bt({freezeAccount:{}});case"thawAccount":return bt({thawAccount:{}});case"transferChecked":return function(e){let{amount:t,decimals:r}=e;return bt({transferChecked:{amount:t,decimals:r}})}(t);case"approvedChecked":return function(e){let{amount:t,decimals:r}=e;return bt({approveChecked:{amount:t,decimals:r}})}(t);case"mintToChecked":return function(e){let{amount:t,decimals:r}=e;return bt({mintToChecked:{amount:t,decimals:r}})}(t);case"burnChecked":return function(e){let{amount:t,decimals:r}=e;return bt({burnChecked:{amount:t,decimals:r}})}(t);case"intializeAccount2":return function(e){let{authority:t}=e;return bt({initilaizeAccount2:{authority:t}})}(t);case"syncNative":return bt({syncNative:{}});case"initializeAccount3":return function(e){let{authority:t}=e;return bt({initializeAccount3:{authority:t}})}(t);case"initializeMultisig2":return function(e){let{m:t}=e;return bt({initializeMultisig2:{m:t}})}(t);case"initializeMint2":return function(e){let{decimals:t,mintAuthority:r,freezeAuthority:n}=e;return bt({encodeInitializeMint2:{decimals:t,mintAuthority:r,freezeAuthority:n}})}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("SPL token does not have state")}}const gt=pt(ut("instruction"));function wt(e){return yt(32,e)}function bt(e){let t=w.alloc(vt),r=gt.encode(e,t);return t.slice(0,r)}gt.addVariant(0,ht([ut("decimals"),yt(32,"mintAuthority"),ut("freezeAuthorityOption"),wt("freezeAuthority")]),"initializeMint"),gt.addVariant(1,ht([]),"initializeAccount"),gt.addVariant(2,ht([ut("m")]),"initializeMultisig"),gt.addVariant(3,ht([dt("amount")]),"transfer"),gt.addVariant(4,ht([dt("amount")]),"approve"),gt.addVariant(5,ht([]),"revoke"),gt.addVariant(6,ht([ut("authorityType"),ut("newAuthorityOption"),wt("newAuthority")]),"setAuthority"),gt.addVariant(7,ht([dt("amount")]),"mintTo"),gt.addVariant(8,ht([dt("amount")]),"burn"),gt.addVariant(9,ht([]),"closeAccount"),gt.addVariant(10,ht([]),"freezeAccount"),gt.addVariant(11,ht([]),"thawAccount"),gt.addVariant(12,ht([dt("amount"),ut("decimals")]),"transferChecked"),gt.addVariant(13,ht([dt("amount"),ut("decimals")]),"approvedChecked"),gt.addVariant(14,ht([dt("amount"),ut("decimals")]),"mintToChecked"),gt.addVariant(15,ht([dt("amount"),ut("decimals")]),"burnedChecked"),gt.addVariant(16,ht([wt("authority")]),"InitializeAccount2"),gt.addVariant(17,ht([]),"syncNative"),gt.addVariant(18,ht([wt("authority")]),"initializeAccount3"),gt.addVariant(19,ht([ut("m")]),"initializeMultisig2"),gt.addVariant(20,ht([ut("decimals"),wt("mintAuthority"),ut("freezeAuthorityOption"),wt("freezeAuthority")]),"initializeMint2");const vt=Math.max(...Object.values(gt.registry).map((e=>e.span)));class At{constructor(e){}encode(e,t){throw new Error("SPL token does not have state")}decode(e){throw new Error("SPL token does not have state")}}function _t(e){return new kt(yt(8),(e=>It.fromBuffer(e)),(e=>e.toBuffer()),e)}function Et(e){return new kt(yt(32),(e=>new i.PublicKey(e)),(e=>e.toBuffer()),e)}function St(e,t){return new xt(e,t)}class kt extends We{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}class xt extends We{constructor(e,t){super(-1,t),this.layout=e,this.discriminator=lt()}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null==e?this.layout.span+this.discriminator.encode(0,t,r):(this.discriminator.encode(1,t,r),this.layout.encode(e,t,r+4)+4)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=this.discriminator.decode(e,t);if(0===r)return null;if(1===r)return this.layout.decode(e,t+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.getSpan(e,t+4)+4}}class It extends(s()){toBuffer(){const e=super.toArray().reverse(),t=w.from(e);if(8===t.length)return t;if(t.length>=8)throw new Error("u64 too large");const r=w.alloc(8);return t.copy(r),r}static fromBuffer(e){if(8!==e.length)throw new Error(`Invalid buffer length: ${e.length}`);return new It([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}class Pt{constructor(e){this.idl=e}async encode(e,t){switch(e){case"token":{const e=w.alloc(165),r=Ct.encode(t,e);return e.slice(0,r)}case"mint":{const e=w.alloc(82),r=Tt.encode(t,e);return e.slice(0,r)}default:throw new Error(`Invalid account name: ${e}`)}}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){switch(e){case"token":return function(e){return Ct.decode(e)}(t);case"mint":return function(e){return Tt.decode(e)}(t);default:throw new Error(`Invalid account name: ${e}`)}}memcmp(e,t){switch(e){case"token":return{dataSize:165};case"mint":return{dataSize:82};default:throw new Error(`Invalid account name: ${e}`)}}size(e){var t;return null!==(t=Be(this.idl,e))&&void 0!==t?t:0}}const Tt=ht([St(Et(),"mintAuthority"),_t("supply"),ut("decimals"),("isInitialized",new kt(ut(),(function(e){if(0===e)return!1;if(1===e)return!0;throw new Error("Invalid bool: "+e)}),(function(e){return e?1:0}),"isInitialized")),St(Et(),"freezeAuthority")]);const Ct=ht([Et("mint"),Et("authority"),_t("amount"),St(Et(),"delegate"),ut("state"),St(_t(),"isNative"),_t("delegatedAmount"),St(Et(),"closeAuthority")]);class Ot{constructor(e){}decode(e){throw new Error("SPL token program does not have events")}}class Mt{constructor(e){}encode(e,t){throw new Error("SPL token does not have user-defined types")}decode(e,t){throw new Error("SPL token does not have user-defined types")}}class Dt{constructor(e){this.instruction=new mt(e),this.accounts=new Pt(e),this.events=new Ot(e),this.state=new At(e),this.types=new Mt(e)}}class Bt{constructor(e){}encode(e,t){switch(d()(e)){case"createAccount":return function(e){let{lamports:t,space:r,owner:n}=e;return zt({createAccount:{lamports:t,space:r,owner:n.toBuffer()}})}(t);case"assign":return function(e){let{owner:t}=e;return zt({assign:{owner:t.toBuffer()}})}(t);case"transfer":return function(e){let{lamports:t}=e;return zt({transfer:{lamports:t}})}(t);case"createAccountWithSeed":return function(e){let{base:t,seed:r,lamports:n,space:i,owner:o}=e;return zt({createAccountWithSeed:{base:t.toBuffer(),seed:r,lamports:n,space:i,owner:o.toBuffer()}},Lt.getVariant(3).span+r.length)}(t);case"advanceNonceAccount":return function(e){let{authorized:t}=e;return zt({advanceNonceAccount:{authorized:t.toBuffer()}})}(t);case"withdrawNonceAccount":return function(e){let{lamports:t}=e;return zt({withdrawNonceAccount:{lamports:t}})}(t);case"initializeNonceAccount":return function(e){let{authorized:t}=e;return zt({initializeNonceAccount:{authorized:t.toBuffer()}})}(t);case"authorizeNonceAccount":return function(e){let{authorized:t}=e;return zt({authorizeNonceAccount:{authorized:t.toBuffer()}})}(t);case"allocate":return function(e){let{space:t}=e;return zt({allocate:{space:t}})}(t);case"allocateWithSeed":return function(e){let{base:t,seed:r,space:n,owner:i}=e;return zt({allocateWithSeed:{base:t.toBuffer(),seed:r,space:n,owner:i.toBuffer()}},Lt.getVariant(9).span+r.length)}(t);case"assignWithSeed":return function(e){let{base:t,seed:r,owner:n}=e;return zt({assignWithSeed:{base:t.toBuffer(),seed:r,owner:n.toBuffer()}},Lt.getVariant(10).span+r.length)}(t);case"transferWithSeed":return function(e){let{lamports:t,seed:r,owner:n}=e;return zt({transferWithSeed:{lamports:t,seed:r,owner:n.toBuffer()}},Lt.getVariant(11).span+r.length)}(t);default:throw new Error(`Invalid instruction: ${e}`)}}encodeState(e,t){throw new Error("System does not have state")}}class Nt extends We{constructor(e){super(-1,e),this.property=e,this.layout=ht([lt("length"),lt("lengthPadding"),yt(ct(lt(),-8),"chars")],this.property)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null==e)return this.layout.span;const n={chars:w.from(e,"utf8")};return this.layout.encode(n,t,r)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.layout.decode(e,t).chars.toString()}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return lt().span+lt().span+new(s())(new Uint8Array(e).slice(t,t+4),10,"le").toNumber()}}function Rt(e){return new Nt(e)}function jt(e){return yt(32,e)}const Lt=pt(lt("instruction"));function zt(e,t){const r=w.alloc(null!=t?t:Ut),n=Lt.encode(e,r);return void 0===t?r.slice(0,n):r}Lt.addVariant(0,ht([ft("lamports"),ft("space"),jt("owner")]),"createAccount"),Lt.addVariant(1,ht([jt("owner")]),"assign"),Lt.addVariant(2,ht([ft("lamports")]),"transfer"),Lt.addVariant(3,ht([jt("base"),Rt("seed"),ft("lamports"),ft("space"),jt("owner")]),"createAccountWithSeed"),Lt.addVariant(4,ht([jt("authorized")]),"advanceNonceAccount"),Lt.addVariant(5,ht([ft("lamports")]),"withdrawNonceAccount"),Lt.addVariant(6,ht([jt("authorized")]),"initializeNonceAccount"),Lt.addVariant(7,ht([jt("authorized")]),"authorizeNonceAccount"),Lt.addVariant(8,ht([ft("space")]),"allocate"),Lt.addVariant(9,ht([jt("base"),Rt("seed"),ft("space"),jt("owner")]),"allocateWithSeed"),Lt.addVariant(10,ht([jt("base"),Rt("seed"),jt("owner")]),"assignWithSeed"),Lt.addVariant(11,ht([ft("lamports"),Rt("seed"),jt("owner")]),"transferWithSeed");const Ut=Math.max(...Object.values(Lt.registry).map((e=>e.span)));class Kt{constructor(e){}encode(e,t){throw new Error("System does not have state")}decode(e){throw new Error("System does not have state")}}class $t{constructor(e){this.idl=e}async encode(e,t){if("nonce"===e){const e=w.alloc(i.NONCE_ACCOUNT_LENGTH),r=Ht.encode(t,e);return e.slice(0,r)}throw new Error(`Invalid account name: ${e}`)}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){if("nonce"===e)return function(e){return Ht.decode(e)}(t);throw new Error(`Invalid account name: ${e}`)}memcmp(e,t){if("nonce"===e)return{dataSize:i.NONCE_ACCOUNT_LENGTH};throw new Error(`Invalid account name: ${e}`)}size(e){var t;return null!==(t=Be(this.idl,e))&&void 0!==t?t:0}}class Ft extends We{constructor(e,t,r,n){super(e.span,n),this.layout=e,this.decoder=t,this.encoder=r}decode(e,t){return this.decoder(this.layout.decode(e,t))}encode(e,t,r){return this.layout.encode(this.encoder(e),t,r)}getSpan(e,t){return this.layout.getSpan(e,t)}}function Vt(e){return new Ft(yt(32),(e=>new i.PublicKey(e)),(e=>e.toBuffer()),e)}const Ht=ht([lt("version"),lt("state"),Vt("authorizedPubkey"),Vt("nonce"),ht([dt("lamportsPerSignature")],"feeCalculator")]);class Wt{constructor(e){}decode(e){throw new Error("System program does not have events")}}class qt{constructor(e){}encode(e,t){throw new Error("System does not have user-defined types")}decode(e,t){throw new Error("System does not have user-defined types")}}class Gt{constructor(e){this.instruction=new Bt(e),this.accounts=new $t(e),this.events=new Wt(e),this.state=new Kt(e),this.types=new qt(e)}}var Jt=Object.freeze({__proto__:null,hash:function(e){return(0,f.sha256)(e)}});function Yt(e,t,r){const o=n.Buffer.concat([e.toBuffer(),n.Buffer.from(t),r.toBuffer()]),s=f.sha256.digest(o);return new i.PublicKey(n.Buffer.from(s))}function Zt(e,t){let r=n.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=n.Buffer.concat([r,Qt(e)])})),r=n.Buffer.concat([r,t.toBuffer(),n.Buffer.from("ProgramDerivedAddress")]);let o=(0,f.sha256)(new Uint8Array(r)),a=new(s())(o,16).toArray(void 0,32);if(i.PublicKey.isOnCurve(new Uint8Array(a)))throw new Error("Invalid seeds, address must fall off the curve");return new i.PublicKey(a)}function Xt(e,t){let r,i=255;for(;0!=i;){try{r=Zt(e.concat(n.Buffer.from([i])),t)}catch(ie){if(ie instanceof TypeError)throw ie;i--;continue}return[r,i]}throw new Error("Unable to find a viable program address nonce")}const Qt=e=>e instanceof n.Buffer?e:e instanceof Uint8Array?n.Buffer.from(e.buffer,e.byteOffset,e.byteLength):n.Buffer.from(e);async function er(e){let t=[n.Buffer.from([97,110,99,104,111,114])];for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];o.forEach((e=>{t.push(e instanceof n.Buffer?e:O(e).toBuffer())}));const[a]=await i.PublicKey.findProgramAddress(t,O(e));return a}var tr=Object.freeze({__proto__:null,createWithSeedSync:Yt,createProgramAddressSync:Zt,findProgramAddressSync:Xt,associated:er});const rr=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),nr=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var ir=Object.freeze({__proto__:null,TOKEN_PROGRAM_ID:rr,ASSOCIATED_PROGRAM_ID:nr,associatedAddress:async function(e){let{mint:t,owner:r}=e;return(await i.PublicKey.findProgramAddress([r.toBuffer(),rr.toBuffer(),t.toBuffer()],nr))[0]}}),or={exports:{}};!function(e,t){var r="undefined"!=typeof self?self:Ve,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function u(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!=typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function y(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&i&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(v)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=u(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[u(e)]},f.prototype.get=function(e){return e=u(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(u(e))},f.prototype.set=function(e,t){this.map[u(e)]=l(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},n&&(f.prototype[Symbol.iterator]=f.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var r,n,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),w.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function v(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function A(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},g.call(b.prototype),g.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},A.error=function(){var e=new A(null,{status:0,statusText:""});return e.type="error",e};var _=[301,302,303,307,308];A.redirect=function(e,t){if(-1===_.indexOf(t))throw new RangeError("Invalid status code");return new A(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,r){return new Promise((function(n,o){var s=new b(e,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new A(i,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=f,e.Request=b,e.Response=A),t.Headers=f,t.Request=b,t.Response=A,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(or,or.exports);var sr=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(or.exports);async function ar(e,t){const r=await e.getAccountInfo(t);if(null===r)throw new Error("program account not found");const{program:n}=ur(r.data),i=await e.getAccountInfo(n.programdataAddress);if(null===i)throw new Error("program data account not found");const{programData:o}=ur(i.data);return o}const cr=h.rustEnum([h.struct([],"uninitialized"),h.struct([h.option(h.publicKey(),"authorityAddress")],"buffer"),h.struct([h.publicKey("programdataAddress")],"program"),h.struct([h.u64("slot"),h.option(h.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,h.u32());function ur(e){return cr.decode(e)}var lr=Object.freeze({__proto__:null,verifiedBuild:async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const n=`https://api.apr.dev/api/v0/program/${t.toString()}/latest?limit=${r}`,[i,o]=await Promise.all([ar(e,t),sr(n)]),s=(await o.json()).filter((e=>!e.aborted&&"Built"===e.state&&"Verified"===e.verified));if(0===s.length)return null;const a=s[0];return i.slot.toNumber()!==a.verified_slot?null:a},fetchData:ar,decodeUpgradeableLoaderState:ur}),dr=Object.freeze({__proto__:null,sha256:Jt,rpc:se,publicKey:tr,bytes:I,token:ir,features:ge,registry:lr});const fr=h.struct([h.publicKey("authority"),h.vecU8("data")]);function hr(e,t){var r,n;let i={};const o=e.args?e.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${null==e?void 0:e.name} expecting: ${null!==(n=null===(r=e.args)||void 0===r?void 0:r.map((e=>e.name)))&&void 0!==n?n:[]}`);i=t.pop()}return[t,i]}class pr{static build(e,t,r){if("_inner"===e.name)throw new we("the _inner name is reserved");const n=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const[c,u]=hr(e,[...s]);C(e.accounts,u.accounts);const l=n.accounts(u.accounts);return void 0!==u.remainingAccounts&&l.push(...u.remainingAccounts),me("debug-logs")&&console.log("Outgoing account metas:",l),new i.TransactionInstruction({keys:l,programId:r,data:t(e.name,T(e,...c))})};return n.accounts=t=>pr.accountsArray(t,e.accounts,e.name),n}static accountsArray(e,t,r){return e?t.map((t=>{if(void 0!==("accounts"in t?t.accounts:void 0)){const n=e[t.name];return pr.accountsArray(n,t.accounts,r).flat()}{const n=t;let i;try{i=O(e[t.name])}catch(e){throw new Error(`Wrong input type for account "${t.name}" in the instruction accounts object${void 0!==r?' for instruction "'+r+'"':""}. Expected PublicKey or string.`)}return{pubkey:i,isWritable:n.isMut,isSigner:n.isSigner}}})).flat():[]}}class yr{static build(e,t,r,n){return async function(){for(var i,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const c=t(...s),[,u]=hr(e,[...s]);if(void 0===n.sendAndConfirm)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await n.sendAndConfirm(c,null!==(i=u.signers)&&void 0!==i?i:[],u.options)}catch(e){throw _e(e,r)}}}}class mr{static build(e,t){return function(){for(var r,n,o,s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];const[,u]=hr(e,[...a]),l=new i.Transaction;if(u.preInstructions&&u.instructions)throw new Error("instructions is deprecated, use preInstructions");return null===(r=u.preInstructions)||void 0===r||r.forEach((e=>l.add(e))),null===(n=u.instructions)||void 0===n||n.forEach((e=>l.add(e))),l.add(t(...a)),null===(o=u.postInstructions)||void 0===o||o.forEach((e=>l.add(e))),l}}}class gr{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fe(),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Fe(e);this.provider=r,this.coder=n,this._idl=e,this._programId=t,this._address=wr(t),this._sub=null;const[o,s,a]=(()=>{var o;let s={},a={},c={};return null===(o=e.state)||void 0===o||o.methods.forEach((o=>{const u=pr.build(o,((e,t)=>n.instruction.encodeState(e,t)),t);u.accounts=e=>{const n=function(e,t,r,n){if("new"===r.name){const[r]=Xt([],e);if(void 0===t.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:wr(e),isWritable:!0,isSigner:!1},{pubkey:r,isWritable:!1,isSigner:!1},{pubkey:i.SystemProgram.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1}]}return C(r.accounts,n),[{pubkey:wr(e),isWritable:!0,isSigner:!1}]}(t,r,o,e);return n.concat(pr.accountsArray(e,o.accounts,o.name))};const l=mr.build(o,u),f=yr.build(o,l,P(e),r),h=d()(o.name);s[h]=u,a[h]=l,c[h]=f})),[s,a,c]})();this.instruction=o,this.transaction=s,this.rpc=a}get programId(){return this._programId}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);const r=this._idl.state;if(!r)throw new Error("State is not specified in IDL.");if((await Ke(r.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(m()),r=this.provider.connection.onAccountChange(this.address(),(e=>{const r=this.coder.state.decode(e.data);t.emit("change",r)}),e);return this._sub={ee:t,listener:r},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function wr(e){let[t]=Xt([],e);return Yt(t,"unversioned",e)}class br{constructor(e,t,r,n,i){this._idlAccount=t,this._programId=r,this._provider=null!=n?n:fe(),this._coder=null!=i?i:new Fe(e),this._size=this._coder.accounts.size(t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetchNullable(e,t){const r=await this.getAccountInfo(e,t);return null===r?null:this._coder.accounts.decode(this._idlAccount.name,r.data)}async fetch(e,t){const r=await this.fetchNullable(e,t);if(null===r)throw new Error(`Account does not exist ${e.toString()}`);return r}async fetchMultiple(e,t){return(await X(this._provider.connection,e.map((e=>O(e))),t)).map((e=>null==e?null:this._coder.accounts.decode(this._idlAccount.name,null==e?void 0:e.account.data)))}async all(e){return(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:this.coder.accounts.memcmp(this._idlAccount.name,e instanceof w?e:void 0)},...Array.isArray(e)?e:[]]})).map((e=>{let{pubkey:t,account:r}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,r.data)}}))}subscribe(e,t){const r=vr.get(e.toString());if(r)return r.ee;const n=new(m());e=O(e);const i=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);n.emit("change",t)}),t);return vr.set(e.toString(),{ee:n,listener:i}),n}async unsubscribe(e){let t=vr.get(e.toString());t?vr&&await this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{vr.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const r=this.size;if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");return i.SystemProgram.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!=t?t:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!=t?t:r),programId:this._programId})}async associated(){const e=await this.associatedAddress(...arguments);return await this.fetch(e)}async associatedAddress(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return await er(this._programId,...t)}async getAccountInfo(e,t){return await this._provider.connection.getAccountInfo(O(e),t)}}const vr=new Map,Ar="Program log: ".length,_r="Program data: ".length;class Er{constructor(e,t,r){this._programId=e,this._provider=t,this._eventParser=new Sr(e,r),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(e,t){var r;let n=this._listenerIdCount;return this._listenerIdCount+=1,e in this._eventCallbacks||this._eventListeners.set(e,[]),this._eventListeners.set(e,(null!==(r=this._eventListeners.get(e))&&void 0!==r?r:[]).concat(n)),this._eventCallbacks.set(n,[e,t]),void 0!==this._onLogsSubscriptionId||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,((e,t)=>{if(!e.err)for(const r of this._eventParser.parseLogs(e.logs)){const n=this._eventListeners.get(r.name);n&&n.forEach((n=>{const i=this._eventCallbacks.get(n);if(i){const[,n]=i;n(r.data,t.slot,e.signature)}}))}}))),n}async removeEventListener(e){const t=this._eventCallbacks.get(e);if(!t)throw new Error(`Event listener ${e} doesn't exist!`);const[r]=t;let n=this._eventListeners.get(r);if(!n)throw new Error(`Event listeners don't exist for ${r}!`);this._eventCallbacks.delete(e),n=n.filter((t=>t!==e)),0===n.length&&this._eventListeners.delete(r),0==this._eventCallbacks.size&&(g.ok(0===this._eventListeners.size),void 0!==this._onLogsSubscriptionId&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0))}}class Sr{constructor(e,t){this.coder=t,this.programId=e}*parseLogs(e){const t=new xr(e),r=new kr;let n=t.next();for(;null!==n;){let[e,i,o]=this.handleLog(r,n);e&&(yield e),i&&r.push(i),o&&r.pop(),n=t.next()}}handleLog(e,t){return e.stack.length>0&&e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log: ")||e.startsWith("Program data: ")){const t=e.startsWith("Program log: ")?e.slice(Ar):e.slice(_r);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class kr{constructor(){this.stack=[]}program(){return g.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){g.ok(this.stack.length>0),this.stack.pop()}}class xr{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}const Ir=new i.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function Pr(){return new Dt(Tr)}const Tr={version:"0.1.0",name:"spl_token",instructions:[{name:"initializeMint",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]},{name:"initializeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]},{name:"initializeMultisig",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"transfer",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"approve",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"revoke",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"setAuthority",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"authorityType",type:"u8"},{name:"newAuthority",type:{coption:"publicKey"}}]},{name:"mintTo",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"burn",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"}]},{name:"closeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!1}],args:[]},{name:"freezeAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"thawAccount",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[]},{name:"transferChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"destination",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"approveChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"delegate",isMut:!1,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"mintToChecked",accounts:[{name:"mint",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"burnChecked",accounts:[{name:"source",isMut:!0,isSigner:!1},{name:"mint",isMut:!0,isSigner:!1},{name:"authority",isMut:!1,isSigner:!0}],args:[{name:"amount",type:"u64"},{name:"decimals",type:"u8"}]},{name:"initializeAccount2",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"syncNative",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[]},{name:"initializeAccount3",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1}],args:[{name:"authority",type:"publicKey"}]},{name:"initializeMultisig2",accounts:[{name:"account",isMut:!0,isSigner:!1}],args:[{name:"m",type:"u8"}]},{name:"initializeMint2",accounts:[{name:"mint",isMut:!0,isSigner:!1}],args:[{name:"decimals",type:"u8"},{name:"mintAuthority",type:"publicKey"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}],accounts:[{name:"mint",type:{kind:"struct",fields:[{name:"mintAuthority",type:{coption:"publicKey"}},{name:"supply",type:"u64"},{name:"decimals",type:"u8"},{name:"isInitialized",type:"bool"},{name:"freezeAuthority",type:{coption:"publicKey"}}]}},{name:"token",type:{kind:"struct",fields:[{name:"mint",type:"publicKey"},{name:"authority",type:"publicKey"},{name:"amount",type:"u64"},{name:"delegate",type:{coption:"publicKey"}},{name:"state",type:"u8"},{name:"isNative",type:{coption:"u64"}},{name:"delegatedAmount",type:"u64"},{name:"closeAuthority",type:{coption:"publicKey"}}]}}]};class Cr{constructor(e,t,r,n,i,o){this._args=e,this._accounts=t,this._provider=r,this._programId=n,this._idlIx=i,this._accountStore=new Or(r,o)}async resolve(){for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],r=d()(t.name);if(!t.isSigner||this._accounts[r])Reflect.has(Cr.CONST_ACCOUNTS,r)&&!this._accounts[r]&&(this._accounts[r]=Cr.CONST_ACCOUNTS[r]);else{if(void 0===this._provider.wallet)throw new Error("This function requires the Provider interface implementor to have a 'wallet' field.");this._accounts[r]=this._provider.wallet.publicKey}}for(let e=0;e<this._idlIx.accounts.length;e+=1){const t=this._idlIx.accounts[e],r=d()(t.name);t.pda&&t.pda.seeds.length>0&&!this._accounts[r]&&await this.autoPopulatePda(t)}}async autoPopulatePda(e){if(!e.pda||!e.pda.seeds)throw new Error("Must have seeds");const t=await Promise.all(e.pda.seeds.map((e=>this.toBuffer(e)))),r=await this.parseProgramId(e),[n]=await i.PublicKey.findProgramAddress(t,r);this._accounts[d()(e.name)]=n}async parseProgramId(e){var t;if(!(null===(t=e.pda)||void 0===t?void 0:t.programId))return this._programId;switch(e.pda.programId.kind){case"const":return new i.PublicKey(this.toBufferConst(e.pda.programId.value));case"arg":return this.argValue(e.pda.programId);case"account":return await this.accountValue(e.pda.programId);default:throw new Error(`Unexpected program seed kind: ${e.pda.programId.kind}`)}}async toBuffer(e){switch(e.kind){case"const":return this.toBufferConst(e);case"arg":return await this.toBufferArg(e);case"account":return await this.toBufferAccount(e);default:throw new Error(`Unexpected seed kind: ${e.kind}`)}}toBufferConst(e){return this.toBufferValue(e.type,e.value)}async toBufferArg(e){const t=this.argValue(e);return this.toBufferValue(e.type,t)}argValue(e){const t=d()(e.path.split(".")[0]),r=this._idlIx.args.findIndex((e=>e.name===t));if(-1===r)throw new Error(`Unable to find argument for seed: ${t}`);return this._args[r]}async toBufferAccount(e){const t=await this.accountValue(e);return this.toBufferValue(e.type,t)}async accountValue(e){const t=e.path.split("."),r=t[0],n=this._accounts[d()(r)];if(1===t.length)return n;const i=await this._accountStore.fetchAccount(e.account,n);return this.parseAccountValue(i,t.slice(1))}parseAccountValue(e,t){let r;for(;t.length>0;)r=e[d()(t[0])],t=t.slice(1);return r}toBufferValue(e,t){switch(e){case"u8":return w.from([t]);case"u16":let r=w.alloc(2);return r.writeUInt16LE(t),r;case"u32":let n=w.alloc(4);return n.writeUInt32LE(t),n;case"u64":let i=w.alloc(8);return i.writeBigUInt64LE(BigInt(t)),i;case"string":return w.from(A(t));case"publicKey":return t.toBuffer();default:if(e.array)return w.from(t);throw new Error(`Unexpected seed type: ${e}`)}}}Cr.CONST_ACCOUNTS={associatedTokenProgram:nr,rent:i.SYSVAR_RENT_PUBKEY,systemProgram:i.SystemProgram.programId,tokenProgram:rr};class Or{constructor(e,t){this._provider=e,this._accounts=t,this._cache=new Map}async fetchAccount(e,t){const r=t.toString();if(!this._cache.has(r))if("TokenAccount"===e){const e=await this._provider.connection.getAccountInfo(t);if(null===e)throw new Error(`invalid account info for ${r}`);const n=Pr().accounts.decode("token",e.data);this._cache.set(r,n)}else{const n=this._accounts[d()(e)].fetch(t);this._cache.set(r,n)}return this._cache.get(r)}}class Mr{static build(e,t,r,n,i,o,s,a,c){return function(){for(var u=arguments.length,l=new Array(u),d=0;d<u;d++)l[d]=arguments[d];return new Dr(l,n,i,o,s,a,e,t,r,c)}}}class Dr{constructor(e,t,r,n,i,o,s,a,c,u){this._args=e,this._ixFn=t,this._txFn=r,this._rpcFn=n,this._simulateFn=i,this._viewFn=o,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._autoResolveAccounts=!0,this._accountsResolver=new Cr(e,this._accounts,s,a,c,u)}async pubkeys(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._accounts}accounts(e){return this._autoResolveAccounts=!0,Object.assign(this._accounts,e),this}accountsStrict(e){return this._autoResolveAccounts=!1,Object.assign(this._accounts,e),this}signers(e){return this._signers=this._signers.concat(e),this}remainingAccounts(e){return this._remainingAccounts=this._remainingAccounts.concat(e),this}preInstructions(e){return this._preInstructions=this._preInstructions.concat(e),this}postInstructions(e){return this._postInstructions=this._postInstructions.concat(e),this}async rpc(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async view(e){if(this._autoResolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error("Method does not support views");return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async simulate(e){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:e})}async instruction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._autoResolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}}class Br{constructor(e,t,r,n){t=O(t),r||(r=fe()),this._idl=e,this._provider=r,this._programId=t,this._coder=null!=n?n:new Fe(e),this._events=new Er(this._programId,r,this._coder);const[i,o,s,a,c,u,l,f]=class{static build(e,t,r,n){const i={},o={},s={},a={},c={},u={},l=P(e),f=e.accounts?class{static build(e,t,r,n){var i;const o={};return null===(i=e.accounts)||void 0===i||i.forEach((i=>{const s=d()(i.name);o[s]=new br(e,i,r,n,t)})),o}}.build(e,t,r,n):{},h=class{static build(e,t,r,n){if(void 0!==e.state)return new gr(e,r,n,t)}}.build(e,t,r,n);return e.instructions.forEach((h=>{const p=pr.build(h,((e,r)=>t.instruction.encode(e,r)),r),y=mr.build(h,p),m=yr.build(h,y,l,n),g=class{static build(e,t,r,n,i,o,s){return async function(){for(var a,c=arguments.length,u=new Array(c),l=0;l<c;l++)u[l]=arguments[l];const d=t(...u),[,f]=hr(e,[...u]);let h;if(void 0===n.simulate)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{h=await n.simulate(d,f.signers,null===(a=f.options)||void 0===a?void 0:a.commitment)}catch(e){throw _e(e,r)}if(void 0===h)throw new Error("Unable to simulate transaction");const p=h.logs;if(!p)throw new Error("Simulated logs not found");const y=[];if(s.events){let e=new Sr(o,i);for(const t of e.parseLogs(p))y.push(t)}return{events:y,raw:p}}}}.build(h,y,l,n,t,r,e),w=class{static build(e,t,r,n){const i=t.accounts.find((e=>e.isMut)),o=!!t.returns;if(!i&&o)return async function(){var i,o;let s=await r(...arguments);const a=`Program return: ${e} `;let c=s.raw.find((e=>e.startsWith(a)));if(!c)throw new Error("View expected return log");let u=k(c.slice(a.length)),l=t.returns;if(!l)throw new Error("View expected return type");return Ce.fieldLayout({type:l},Array.from([...null!==(i=n.accounts)&&void 0!==i?i:[],...null!==(o=n.types)&&void 0!==o?o:[]])).decode(u)}}}.build(r,h,g,e),b=Mr.build(n,r,h,p,y,m,g,w,f),v=d()(h.name);o[v]=p,s[v]=y,i[v]=m,a[v]=g,c[v]=b,w&&(u[v]=w)})),[i,o,s,f,a,c,h,u]}}.build(e,this._coder,t,r);this.rpc=i,this.instruction=o,this.transaction=s,this.account=a,this.simulate=c,this.methods=u,this.state=l,this.views=f}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const r=O(e),n=await Br.fetchIdl(r,t);if(!n)throw new Error(`IDL not found for program: ${e.toString()}`);return new Br(n,r,t)}static async fetchIdl(e,t){t=null!=t?t:fe();const r=O(e),n=await async function(e){const t=(await i.PublicKey.findProgramAddress([],e))[0];return await i.PublicKey.createWithSeed(t,"anchor:idl",e)}(r),o=await t.connection.getAccountInfo(n);if(!o)return null;let s=(a=o.data.slice(8),fr.decode(a));var a;const c=(0,p.rr)(s.data);return JSON.parse(v(c))}addEventListener(e,t){return this._events.addEventListener(e,t)}async removeEventListener(e){return await this._events.removeEventListener(e)}}class Nr{constructor(e){}encode(e,t){if("create"===d()(e))return w.alloc(0);throw new Error(`Invalid instruction: ${e}`)}encodeState(e,t){throw new Error("SPL associated token does not have state")}}class Rr{constructor(e){}encode(e,t){throw new Error("SPL associated token does not have state")}decode(e){throw new Error("SPL associated token does not have state")}}class jr{constructor(e){this.idl=e}async encode(e,t){throw new Error(`Invalid account name: ${e}`)}decode(e,t){return this.decodeUnchecked(e,t)}decodeUnchecked(e,t){throw new Error(`Invalid account name: ${e}`)}memcmp(e,t){throw new Error(`Invalid account name: ${e}`)}size(e){var t;return null!==(t=Be(this.idl,e))&&void 0!==t?t:0}}class Lr{constructor(e){}decode(e){throw new Error("SPL associated token program does not have events")}}class zr{constructor(e){}encode(e,t){throw new Error("SPL associated token does not have user-defined types")}decode(e,t){throw new Error("SPL associated token does not have user-defined types")}}class Ur{constructor(e){this.instruction=new Nr(e),this.accounts=new jr(e),this.events=new Lr(e),this.state=new Rr(e),this.types=new zr(e)}}const Kr=new i.PublicKey("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");const $r={version:"0.1.0",name:"spl_associated_token",instructions:[{name:"create",accounts:[{name:"authority",isMut:!0,isSigner:!0},{name:"associatedAccount",isMut:!0,isSigner:!1},{name:"owner",isMut:!1,isSigner:!1},{name:"mint",isMut:!1,isSigner:!1},{name:"systemProgram",isMut:!1,isSigner:!1},{name:"tokenProgram",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[]}]};class Fr{static token(e){return function(e){return new Br(Tr,Ir,e,Pr())}(e)}static associatedToken(e){return function(e){return new Br($r,Kr,e,new Ur($r))}(e)}}const Vr=new i.PublicKey("11111111111111111111111111111111");const Hr={version:"0.1.0",name:"system_program",instructions:[{name:"createAccount",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!0}],args:[{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assign",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"owner",type:"publicKey"}]},{name:"transfer",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"}]},{name:"createAccountWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!0},{name:"to",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"lamports",type:"u64"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"advanceNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"withdrawNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"to",isMut:!0,isSigner:!1},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"lamports",type:"u64"}]},{name:"initializeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!0},{name:"recentBlockhashes",isMut:!1,isSigner:!1},{name:"rent",isMut:!1,isSigner:!1}],args:[{name:"authorized",type:"publicKey"}]},{name:"authorizeNonceAccount",accounts:[{name:"nonce",isMut:!0,isSigner:!1},{name:"authorized",isMut:!1,isSigner:!0}],args:[{name:"authorized",type:"publicKey"}]},{name:"allocate",accounts:[{name:"pubkey",isMut:!0,isSigner:!0}],args:[{name:"space",type:"u64"}]},{name:"allocateWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"space",type:"u64"},{name:"owner",type:"publicKey"}]},{name:"assignWithSeed",accounts:[{name:"account",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0}],args:[{name:"base",type:"publicKey"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]},{name:"transferWithSeed",accounts:[{name:"from",isMut:!0,isSigner:!1},{name:"base",isMut:!1,isSigner:!0},{name:"to",isMut:!0,isSigner:!1}],args:[{name:"lamports",type:"u64"},{name:"seed",type:"string"},{name:"owner",type:"publicKey"}]}],accounts:[{name:"nonce",type:{kind:"struct",fields:[{name:"version",type:"u32"},{name:"state",type:"u32"},{name:"authorizedPubkey",type:"publicKey"},{name:"nonce",type:"publicKey"},{name:"feeCalculator",type:{defined:"FeeCalculator"}}]}}],types:[{name:"FeeCalculator",type:{kind:"struct",fields:[{name:"lamportsPerSignature",type:"u64"}]}}]};class Wr{static system(e){return function(e){return new Br(Hr,Vr,e,new Gt(Hr))}(e)}}},94155:(e,t,r)=>{"use strict";var n=r(21504).Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,o=0;e[r]===c;)i++,r++;for(var s=(e.length-r)*u+1>>>0,l=new Uint8Array(s);e[r];){var d=t[e.charCodeAt(r)];if(255===d)return;for(var f=0,h=s-1;(0!==d||f<o)&&-1!==h;h--,f++)d+=a*l[h]>>>0,l[h]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");o=f,r++}for(var p=s-o;p!==s&&0===l[p];)p++;var y=n.allocUnsafe(i+(s-p));y.fill(0,0,i);for(var m=i;p!==s;)y[m++]=l[p++];return y}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,r++;for(var u=(s-o)*l+1>>>0,d=new Uint8Array(u);o!==s;){for(var f=t[o],h=0,p=u-1;(0!==f||h<i)&&-1!==p;p--,h++)f+=256*d[p]>>>0,d[p]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");i=h,o++}for(var y=u-i;y!==u&&0===d[y];)y++;for(var m=c.repeat(r);y<u;++y)m+=e.charAt(d[y]);return m},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},43906:(e,t,r)=>{var n=r(94155);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},45006:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),c=Math.log(s)/Math.log(256),u=Math.log(256)/Math.log(s);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*c+1>>>0,u=new Uint8Array(o);e[r];){var l=t[e.charCodeAt(r)];if(255===l)return;for(var d=0,f=o-1;(0!==l||d<i)&&-1!==f;f--,d++)l+=s*u[f]>>>0,u[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,r++}for(var h=o-i;h!==o&&0===u[h];)h++;for(var p=new Uint8Array(n+(o-h)),y=n;h!==o;)p[y++]=u[h++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var c=(o-i)*u+1>>>0,l=new Uint8Array(c);i!==o;){for(var d=t[i],f=0,h=c-1;(0!==d||f<n)&&-1!==h;h--,f++)d+=256*l[h]>>>0,l[h]=d%s>>>0,d=d/s>>>0;if(0!==d)throw new Error("Non-zero carry");n=f,i++}for(var p=c-n;p!==c&&0===l[p];)p++;for(var y=a.repeat(r);p<c;++p)y+=e.charAt(l[p]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},34651:(e,t,r)=>{const n=r(45006);e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},74439:(e,t,r)=>{"use strict";const{Buffer:n}=r(97429),i=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,i,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){const n=t+this._bufs[r].length;if(e<n||r===this._bufs.length-1)return[r,e-t];t=n}},o.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let n=0;n<t;n++)r+=this._bufs[n].length;return r},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"===typeof e&&e<0&&(e+=this.length),"number"===typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,r,i){if(("number"!==typeof r||r<0)&&(r=0),("number"!==typeof i||i>this.length)&&(i=this.length),r>=this.length)return e||n.alloc(0);if(i<=0)return e||n.alloc(0);const o=!!e,s=this._offset(r),a=i-r;let c=a,u=o&&t||0,l=s[1];if(0===r&&i===this.length){if(!o)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let t=0;t<this._bufs.length;t++)this._bufs[t].copy(e,u),u+=this._bufs[t].length;return e}if(c<=this._bufs[s[0]].length-l)return o?this._bufs[s[0]].copy(e,t,l,l+c):this._bufs[s[0]].slice(l,l+c);o||(e=n.allocUnsafe(a));for(let n=s[0];n<this._bufs.length;n++){const t=this._bufs[n].length-l;if(!(c>t)){this._bufs[n].copy(e,u,l,l+c),u+=t;break}this._bufs[n].copy(e,u,l),u+=t,c-=t,l&&(l=0)}return e.length>u?e.slice(0,u):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!==typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const r=this._offset(e),n=this._offset(t),i=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?i.pop():i[i.length-1]=i[i.length-1].slice(0,n[1]),0!==r[1]&&(i[0]=i[0].slice(r[1])),this._new(i)},o.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let t=0;t<this._bufs.length;t++)e.append(this._bufs[t]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let t=0;t<e.length;t++)this.append(e[t]);else if(this._isBufferList(e))for(let t=0;t<e._bufs.length;t++)this.append(e._bufs[t]);else"number"===typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"===typeof t&&(r=t,t=void 0),"function"===typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"===typeof e?e=n.from([e]):"string"===typeof e?e=n.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const i=this._offset(t);let o=i[0],s=i[1];for(;o<this._bufs.length;o++){const t=this._bufs[o];for(;s<t.length;){if(t.length-s>=e.length){const r=t.indexOf(e,s);if(-1!==r)return this._reverseOffset([o,r]);s=t.length-e.length+1}else{const t=this._reverseOffset([o,s]);if(this._match(t,e))return t;s++}}s=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.slice(r,r+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(e){return e instanceof o||o.isBufferList(e)},o.isBufferList=function(e){return null!=e&&e[i]},e.exports=o},31156:(e,t,r)=>{"use strict";const n=r(55194);e.exports=function(e){return"function"===typeof e.stream?n(e.stream()):n(new Response(e).body)}},55194:e=>{"use strict";e.exports=async function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.getReader();try{for(;;){const e=await r.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&r.cancel(),r.releaseLock()}}},66549:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,r=36e5,n="millisecond",i="second",o="minute",s="hour",a="day",c="week",u="month",l="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},w={s:g,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+g(n,2,"0")+":"+g(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,u),o=r-i<0,s=t.clone().add(n+(o?-1:1),u);return+(-(n+(r-i)/(o?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:c,d:a,D:f,h:s,m:o,s:i,ms:n,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},b="en",v={};v[b]=m;var A=function(e){return e instanceof k},_=function e(t,r,n){var i;if(!t)return b;if("string"==typeof t){var o=t.toLowerCase();v[o]&&(i=o),r&&(v[o]=r,i=o);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var a=t.name;v[a]=t,i=a}return!n&&i&&(b=i),i||!n&&b},E=function(e,t){if(A(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new k(r)},S=w;S.l=_,S.i=A,S.w=function(e,t){return E(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var k=function(){function m(e){this.$L=_(e.locale,null,!0),this.parse(e)}var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(p);if(n){var i=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return S},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var r=E(e);return this.startOf(t)<=r&&r<=this.endOf(t)},g.isAfter=function(e,t){return E(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<E(e)},g.$g=function(e,t,r){return S.u(e)?this[t]:this.set(r,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var r=this,n=!!S.u(t)||t,l=S.p(e),h=function(e,t){var i=S.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?i:i.endOf(a)},p=function(e,t){return S.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},y=this.$W,m=this.$M,g=this.$D,w="set"+(this.$u?"UTC":"");switch(l){case d:return n?h(1,0):h(31,11);case u:return n?h(1,m):h(0,m+1);case c:var b=this.$locale().weekStart||0,v=(y<b?y+7:y)-b;return h(n?g-v:g+(6-v),m);case a:case f:return p(w+"Hours",0);case s:return p(w+"Minutes",1);case o:return p(w+"Seconds",2);case i:return p(w+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var r,c=S.p(e),l="set"+(this.$u?"UTC":""),h=(r={},r[a]=l+"Date",r[f]=l+"Date",r[u]=l+"Month",r[d]=l+"FullYear",r[s]=l+"Hours",r[o]=l+"Minutes",r[i]=l+"Seconds",r[n]=l+"Milliseconds",r)[c],p=c===a?this.$D+(t-this.$W):t;if(c===u||c===d){var y=this.clone().set(f,1);y.$d[h](p),y.init(),this.$d=y.set(f,Math.min(this.$D,y.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[S.p(e)]()},g.add=function(n,l){var f,h=this;n=Number(n);var p=S.p(l),y=function(e){var t=E(h);return S.w(t.date(t.date()+Math.round(e*n)),h)};if(p===u)return this.set(u,this.$M+n);if(p===d)return this.set(d,this.$y+n);if(p===a)return y(1);if(p===c)return y(7);var m=(f={},f[o]=t,f[s]=r,f[i]=e,f)[p]||1,g=this.$d.getTime()+n*m;return S.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=S.z(this),o=this.$H,s=this.$m,a=this.$M,c=r.weekdays,u=r.months,l=function(e,r,i,o){return e&&(e[r]||e(t,n))||i[r].slice(0,o)},d=function(e){return S.s(o%12||12,e,"0")},f=r.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:S.s(a+1,2,"0"),MMM:l(r.monthsShort,a,u,3),MMMM:l(u,a),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,c,2),ddd:l(r.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(o),HH:S.s(o,2,"0"),h:d(1),hh:d(2),a:f(o,s,!0),A:f(o,s,!1),m:String(s),mm:S.s(s,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:i};return n.replace(y,(function(e,t){return t||p[e]||i.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,f,h){var p,y=S.p(f),m=E(n),g=(m.utcOffset()-this.utcOffset())*t,w=this-m,b=S.m(this,m);return b=(p={},p[d]=b/12,p[u]=b,p[l]=b/3,p[c]=(w-g)/6048e5,p[a]=(w-g)/864e5,p[s]=w/r,p[o]=w/t,p[i]=w/e,p)[y]||w,h?b:S.a(b)},g.daysInMonth=function(){return this.endOf(u).$D},g.$locale=function(){return v[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=_(e,t,!0);return n&&(r.$L=n),r},g.clone=function(){return S.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),x=k.prototype;return E.prototype=x,[["$ms",n],["$s",i],["$m",o],["$H",s],["$W",a],["$M",u],["$y",d],["$D",f]].forEach((function(e){x[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),E.extend=function(e,t){return e.$i||(e(t,k,E),e.$i=!0),E},E.locale=_,E.isDayjs=A,E.unix=function(e){return E(1e3*e)},E.en=v[b],E.Ls=v,E.p={},E}()},15504:e=>{"use strict";function t(e,t){for(const r in t)Object.defineProperty(e,r,{value:t[r],enumerable:!0,configurable:!0});return e}e.exports=function(e,r,n){if(!e||"string"===typeof e)throw new TypeError("Please pass an Error to err-code");n||(n={}),"object"===typeof r&&(n=r,r=""),r&&(n.code=r);try{return t(e,n)}catch(i){n.message=e.message,n.stack=e.stack;const r=function(){};r.prototype=Object.create(Object.getPrototypeOf(e));return t(new r,n)}}},10694:(e,t,r)=>{"use strict";const n=r(90360),{fromString:i}=r(58524);class o{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._options=e,this._popCount=0,this._parent=t,this._posAtParent=r,this._children=new n,this.key=null}async put(e,t){const r=await this._findNewBucketAndPos(e);await r.bucket._putAt(r,e,t)}async get(e){const t=await this._findChild(e);if(t)return t.value}async del(e){const t=await this._findPlace(e),r=t.bucket._at(t.pos);r&&r.key===e&&t.bucket._delAt(t.pos)}leafCount(){return this._children.compactArray().reduce(((e,t)=>t instanceof o?e+t.leafCount():e+1),0)}childrenCount(){return this._children.length}onlyChild(){return this._children.get(0)}*eachLeafSeries(){const e=this._children.compactArray();for(const t of e)t instanceof o?yield*t.eachLeafSeries():yield t;return[]}serialize(e,t){return t(this._children.reduce(((r,n,i)=>(n&&(n instanceof o?r.push(n.serialize(e,t)):r.push(e(n,i))),r)),[]))}asyncTransform(e,t){return u(this,e,t)}toJSON(){return this.serialize(a,c)}prettyPrint(){return JSON.stringify(this.toJSON(),null,"  ")}tableSize(){return Math.pow(2,this._options.bits)}async _findChild(e){const t=await this._findPlace(e),r=t.bucket._at(t.pos);if(!(r instanceof o))return r&&r.key===e?r:void 0}async _findPlace(e){const t=this._options.hash("string"===typeof e?i(e):e),r=await t.take(this._options.bits),n=this._children.get(r);return n instanceof o?n._findPlace(t):{bucket:this,pos:r,hash:t,existingChild:n}}async _findNewBucketAndPos(e){const t=await this._findPlace(e);if(t.existingChild&&t.existingChild.key!==e){const e=new o(this._options,t.bucket,t.pos);t.bucket._putObjectAt(t.pos,e);const r=await e._findPlace(t.existingChild.hash);return r.bucket._putAt(r,t.existingChild.key,t.existingChild.value),e._findNewBucketAndPos(t.hash)}return t}_putAt(e,t,r){this._putObjectAt(e.pos,{key:t,value:r,hash:e.hash})}_putObjectAt(e,t){this._children.get(e)||this._popCount++,this._children.set(e,t)}_delAt(e){if(-1===e)throw new Error("Invalid position");this._children.get(e)&&this._popCount--,this._children.unset(e),this._level()}_level(){if(this._parent&&this._popCount<=1)if(1===this._popCount){const e=this._children.find(s);if(e&&!(e instanceof o)){const t=e.hash;t.untake(this._options.bits);const r={pos:this._posAtParent,hash:t,bucket:this._parent};this._parent._putAt(r,e.key,e.value)}}else this._parent._delAt(this._posAtParent)}_at(e){return this._children.get(e)}}function s(e){return Boolean(e)}function a(e,t){return e.key}function c(e){return e}async function u(e,t,r){const n=[];for(const i of e._children.compactArray())if(i instanceof o)await u(i,t,r);else{const r=await t(i);n.push({bitField:e._children.bitField(),children:r})}return r(n)}e.exports=o},50852:e=>{"use strict";const t=[255,254,252,248,240,224,192,128],r=[1,3,7,15,31,63,127,255];function n(e,n,i){const o=function(e,n){return t[e]&r[Math.min(n+e-1,7)]}(n,i);return(e&o)>>>n}e.exports=class{constructor(e){this._value=e,this._currentBytePos=e.length-1,this._currentBitPos=7}availableBits(){return this._currentBitPos+1+8*this._currentBytePos}totalBits(){return 8*this._value.length}take(e){let t=e,r=0;for(;t&&this._haveBits();){const e=this._value[this._currentBytePos],i=this._currentBitPos+1,o=Math.min(i,t);r=(r<<o)+n(e,i-o,o),t-=o,this._currentBitPos-=o,this._currentBitPos<0&&(this._currentBitPos=7,this._currentBytePos--)}return r}untake(e){for(this._currentBitPos+=e;this._currentBitPos>7;)this._currentBitPos-=8,this._currentBytePos+=1}_haveBits(){return this._currentBytePos>=0}}},80078:(e,t,r)=>{"use strict";const n=r(50852),{concat:i}=r(52769);class o{constructor(e,t){if(!(e instanceof Uint8Array))throw new Error("can only hash Uint8Arrays");this._value=e,this._hashFn=t,this._depth=-1,this._availableBits=0,this._currentBufferIndex=0,this._buffers=[]}async take(e){let t=e;for(;this._availableBits<t;)await this._produceMoreBits();let r=0;for(;t>0;){const e=this._buffers[this._currentBufferIndex],n=Math.min(e.availableBits(),t);r=(r<<n)+e.take(n),t-=n,this._availableBits-=n,0===e.availableBits()&&this._currentBufferIndex++}return r}untake(e){let t=e;for(;t>0;){const e=this._buffers[this._currentBufferIndex],r=Math.min(e.totalBits()-e.availableBits(),t);e.untake(r),t-=r,this._availableBits+=r,this._currentBufferIndex>0&&e.totalBits()===e.availableBits()&&(this._depth--,this._currentBufferIndex--)}}async _produceMoreBits(){this._depth++;const e=this._depth?i([this._value,Uint8Array.from([this._depth])]):this._value,t=await this._hashFn(e),r=new n(t);this._buffers.push(r),this._availableBits+=r.availableBits()}}e.exports=function(e){return function(t){return t instanceof o?t:new o(t,e)}},e.exports.InfiniteHash=o},74123:(e,t,r)=>{"use strict";const n=r(10694),i=r(80078);e.exports={createHAMT:function(e){if(!e||!e.hashFn)throw new Error("please define an options.hashFn");const t={bits:e.bits||8,hash:i(e.hashFn)};return new n(t)},Bucket:n}},21958:e=>{"use strict";e.exports=async e=>{const t=[];for await(const r of e)t.push(r);return t}},19635:e=>{"use strict";e.exports=async function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[];t<1&&(t=1);for await(const n of e)for(r.push(n);r.length>=t;)yield r.slice(0,t),r=r.slice(t);for(;r.length;)yield r.slice(0,t),r=r.slice(t)}},20838:e=>{"use strict";e.exports=async e=>{for await(const t of e);}},93663:e=>{"use strict";e.exports=async function*(e,t){for await(const r of e)await t(r)&&(yield r)}},16586:e=>{"use strict";e.exports=async e=>{let t;for await(const r of e)t=r;return t}},60191:e=>{"use strict";e.exports=async function*(e,t){for await(const r of e)yield t(r)}},88411:(e,t,r)=>{"use strict";const n=r(19635);e.exports=async function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for await(const r of n(e,t)){const e=r.map((e=>e().then((e=>({ok:!0,value:e})),(e=>({ok:!1,err:e})))));for(let t=0;t<e.length;t++){const r=await e[t];if(!r.ok)throw r.err;yield r.value}}}},62469:e=>{"use strict";e.exports=function(e){const[t,r]=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],n=[];return{peek:()=>t.next(),push:e=>{n.push(e)},next:()=>n.length?{done:!1,value:n.shift()}:t.next(),[r](){return this}}}},89962:e=>{const t=function(){let e;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(;r.length;)e=r.shift()(e);return e},r=e=>e&&("function"===typeof e[Symbol.asyncIterator]||"function"===typeof e[Symbol.iterator]||"function"===typeof e.next),n=e=>e&&"function"===typeof e.sink&&r(e.source),i=e=>t=>(e.sink(t),e.source),o=function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];if(n(o[0])){const e=o[0];o[0]=()=>e.source}else if(r(o[0])){const e=o[0];o[0]=()=>e}if(o.length>1&&n(o[o.length-1])&&(o[o.length-1]=o[o.length-1].sink),o.length>2)for(let t=1;t<o.length-1;t++)n(o[t])&&(o[t]=i(o[t]));return t(...o)};e.exports=o,e.exports.pipe=o,e.exports.rawPipe=t,e.exports.isIterable=r,e.exports.isDuplex=n},62550:e=>{"use strict";e.exports=async function*(e,t){let r=0;if(!(t<1))for await(const n of e)if(yield n,r++,r===t)return}},16348:(e,t,r)=>{var n;!function(){"use strict";var i="input is invalid type",o="object"===typeof window,s=o?window:{};s.JS_SHA3_NO_WINDOW&&(o=!1);var a=!o&&"object"===typeof self;!s.JS_SHA3_NO_NODE_JS&&"object"===typeof process&&process.versions&&process.versions.node?s=r.g:a&&(s=self);var c=!s.JS_SHA3_NO_COMMON_JS&&e.exports,u=r.amdO,l=!s.JS_SHA3_NO_ARRAY_BUFFER&&"undefined"!==typeof ArrayBuffer,d="0123456789abcdef".split(""),f=[4,1024,262144,67108864],h=[0,8,16,24],p=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],y=[224,256,384,512],m=[128,256],g=["hex","buffer","arrayBuffer","array","digest"],w={128:168,256:136};!s.JS_SHA3_NO_NODE_JS&&Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),!l||!s.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return"object"===typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});for(var b=function(e,t,r){return function(n){return new B(e,t,e).update(n)[r]()}},v=function(e,t,r){return function(n,i){return new B(e,t,i).update(n)[r]()}},A=function(e,t,r){return function(t,n,i,o){return x["cshake"+e].update(t,n,i,o)[r]()}},_=function(e,t,r){return function(t,n,i,o){return x["kmac"+e].update(t,n,i,o)[r]()}},E=function(e,t,r,n){for(var i=0;i<g.length;++i){var o=g[i];e[o]=t(r,n,o)}return e},S=function(e,t){var r=b(e,t,"hex");return r.create=function(){return new B(e,t,e)},r.update=function(e){return r.create().update(e)},E(r,b,e,t)},k=[{name:"keccak",padding:[1,256,65536,16777216],bits:y,createMethod:S},{name:"sha3",padding:[6,1536,393216,100663296],bits:y,createMethod:S},{name:"shake",padding:[31,7936,2031616,520093696],bits:m,createMethod:function(e,t){var r=v(e,t,"hex");return r.create=function(r){return new B(e,t,r)},r.update=function(e,t){return r.create(t).update(e)},E(r,v,e,t)}},{name:"cshake",padding:f,bits:m,createMethod:function(e,t){var r=w[e],n=A(e,0,"hex");return n.create=function(n,i,o){return i||o?new B(e,t,n).bytepad([i,o],r):x["shake"+e].create(n)},n.update=function(e,t,r,i){return n.create(t,r,i).update(e)},E(n,A,e,t)}},{name:"kmac",padding:f,bits:m,createMethod:function(e,t){var r=w[e],n=_(e,0,"hex");return n.create=function(n,i,o){return new N(e,t,i).bytepad(["KMAC",o],r).bytepad([n],r)},n.update=function(e,t,r,i){return n.create(e,r,i).update(t)},E(n,_,e,t)}}],x={},I=[],P=0;P<k.length;++P)for(var T=k[P],C=T.bits,O=0;O<C.length;++O){var M=T.name+"_"+C[O];if(I.push(M),x[M]=T.createMethod(C[O],T.padding),"sha3"!==T.name){var D=T.name+C[O];I.push(D),x[D]=x[M]}}function B(e,t,r){this.blocks=[],this.s=[],this.padding=t,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(e<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function N(e,t,r){B.call(this,e,t,r)}B.prototype.update=function(e){if(this.finalized)throw new Error("finalize already called");var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(i);if(null===e)throw new Error(i);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error(i);t=!0}for(var n,o,s=this.blocks,a=this.byteCount,c=e.length,u=this.blockCount,d=0,f=this.s;d<c;){if(this.reset)for(this.reset=!1,s[0]=this.block,n=1;n<u+1;++n)s[n]=0;if(t)for(n=this.start;d<c&&n<a;++d)s[n>>2]|=e[d]<<h[3&n++];else for(n=this.start;d<c&&n<a;++d)(o=e.charCodeAt(d))<128?s[n>>2]|=o<<h[3&n++]:o<2048?(s[n>>2]|=(192|o>>6)<<h[3&n++],s[n>>2]|=(128|63&o)<<h[3&n++]):o<55296||o>=57344?(s[n>>2]|=(224|o>>12)<<h[3&n++],s[n>>2]|=(128|o>>6&63)<<h[3&n++],s[n>>2]|=(128|63&o)<<h[3&n++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++d)),s[n>>2]|=(240|o>>18)<<h[3&n++],s[n>>2]|=(128|o>>12&63)<<h[3&n++],s[n>>2]|=(128|o>>6&63)<<h[3&n++],s[n>>2]|=(128|63&o)<<h[3&n++]);if(this.lastByteIndex=n,n>=a){for(this.start=n-a,this.block=s[u],n=0;n<u;++n)f[n]^=s[n];R(f),this.reset=!0}else this.start=n}return this},B.prototype.encode=function(e,t){var r=255&e,n=1,i=[r];for(r=255&(e>>=8);r>0;)i.unshift(r),r=255&(e>>=8),++n;return t?i.push(n):i.unshift(n),this.update(i),i.length},B.prototype.encodeString=function(e){var t,r=typeof e;if("string"!==r){if("object"!==r)throw new Error(i);if(null===e)throw new Error(i);if(l&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!l||!ArrayBuffer.isView(e)))throw new Error(i);t=!0}var n=0,o=e.length;if(t)n=o;else for(var s=0;s<e.length;++s){var a=e.charCodeAt(s);a<128?n+=1:a<2048?n+=2:a<55296||a>=57344?n+=3:(a=65536+((1023&a)<<10|1023&e.charCodeAt(++s)),n+=4)}return n+=this.encode(8*n),this.update(e),n},B.prototype.bytepad=function(e,t){for(var r=this.encode(t),n=0;n<e.length;++n)r+=this.encodeString(e[n]);var i=t-r%t,o=[];return o.length=i,this.update(o),this},B.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex,r=this.blockCount,n=this.s;if(e[t>>2]|=this.padding[3&t],this.lastByteIndex===this.byteCount)for(e[0]=e[r],t=1;t<r+1;++t)e[t]=0;for(e[r-1]|=2147483648,t=0;t<r;++t)n[t]^=e[t];R(n)}},B.prototype.toString=B.prototype.hex=function(){this.finalize();for(var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a="";s<n;){for(o=0;o<t&&s<n;++o,++s)e=r[o],a+=d[e>>4&15]+d[15&e]+d[e>>12&15]+d[e>>8&15]+d[e>>20&15]+d[e>>16&15]+d[e>>28&15]+d[e>>24&15];s%t===0&&(R(r),o=0)}return i&&(e=r[o],a+=d[e>>4&15]+d[15&e],i>1&&(a+=d[e>>12&15]+d[e>>8&15]),i>2&&(a+=d[e>>20&15]+d[e>>16&15])),a},B.prototype.arrayBuffer=function(){this.finalize();var e,t=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,o=0,s=0,a=this.outputBits>>3;e=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var c=new Uint32Array(e);s<n;){for(o=0;o<t&&s<n;++o,++s)c[s]=r[o];s%t===0&&R(r)}return i&&(c[o]=r[o],e=e.slice(0,a)),e},B.prototype.buffer=B.prototype.arrayBuffer,B.prototype.digest=B.prototype.array=function(){this.finalize();for(var e,t,r=this.blockCount,n=this.s,i=this.outputBlocks,o=this.extraBytes,s=0,a=0,c=[];a<i;){for(s=0;s<r&&a<i;++s,++a)e=a<<2,t=n[s],c[e]=255&t,c[e+1]=t>>8&255,c[e+2]=t>>16&255,c[e+3]=t>>24&255;a%r===0&&R(n)}return o&&(e=a<<2,t=n[s],c[e]=255&t,o>1&&(c[e+1]=t>>8&255),o>2&&(c[e+2]=t>>16&255)),c},N.prototype=new B,N.prototype.finalize=function(){return this.encode(this.outputBits,!0),B.prototype.finalize.call(this)};var R=function(e){var t,r,n,i,o,s,a,c,u,l,d,f,h,y,m,g,w,b,v,A,_,E,S,k,x,I,P,T,C,O,M,D,B,N,R,j,L,z,U,K,$,F,V,H,W,q,G,J,Y,Z,X,Q,ee,te,re,ne,ie,oe,se,ae,ce,ue,le;for(n=0;n<48;n+=2)i=e[0]^e[10]^e[20]^e[30]^e[40],o=e[1]^e[11]^e[21]^e[31]^e[41],s=e[2]^e[12]^e[22]^e[32]^e[42],a=e[3]^e[13]^e[23]^e[33]^e[43],c=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],d=e[7]^e[17]^e[27]^e[37]^e[47],t=(f=e[8]^e[18]^e[28]^e[38]^e[48])^(s<<1|a>>>31),r=(h=e[9]^e[19]^e[29]^e[39]^e[49])^(a<<1|s>>>31),e[0]^=t,e[1]^=r,e[10]^=t,e[11]^=r,e[20]^=t,e[21]^=r,e[30]^=t,e[31]^=r,e[40]^=t,e[41]^=r,t=i^(c<<1|u>>>31),r=o^(u<<1|c>>>31),e[2]^=t,e[3]^=r,e[12]^=t,e[13]^=r,e[22]^=t,e[23]^=r,e[32]^=t,e[33]^=r,e[42]^=t,e[43]^=r,t=s^(l<<1|d>>>31),r=a^(d<<1|l>>>31),e[4]^=t,e[5]^=r,e[14]^=t,e[15]^=r,e[24]^=t,e[25]^=r,e[34]^=t,e[35]^=r,e[44]^=t,e[45]^=r,t=c^(f<<1|h>>>31),r=u^(h<<1|f>>>31),e[6]^=t,e[7]^=r,e[16]^=t,e[17]^=r,e[26]^=t,e[27]^=r,e[36]^=t,e[37]^=r,e[46]^=t,e[47]^=r,t=l^(i<<1|o>>>31),r=d^(o<<1|i>>>31),e[8]^=t,e[9]^=r,e[18]^=t,e[19]^=r,e[28]^=t,e[29]^=r,e[38]^=t,e[39]^=r,e[48]^=t,e[49]^=r,y=e[0],m=e[1],q=e[11]<<4|e[10]>>>28,G=e[10]<<4|e[11]>>>28,T=e[20]<<3|e[21]>>>29,C=e[21]<<3|e[20]>>>29,ae=e[31]<<9|e[30]>>>23,ce=e[30]<<9|e[31]>>>23,F=e[40]<<18|e[41]>>>14,V=e[41]<<18|e[40]>>>14,N=e[2]<<1|e[3]>>>31,R=e[3]<<1|e[2]>>>31,g=e[13]<<12|e[12]>>>20,w=e[12]<<12|e[13]>>>20,J=e[22]<<10|e[23]>>>22,Y=e[23]<<10|e[22]>>>22,O=e[33]<<13|e[32]>>>19,M=e[32]<<13|e[33]>>>19,ue=e[42]<<2|e[43]>>>30,le=e[43]<<2|e[42]>>>30,te=e[5]<<30|e[4]>>>2,re=e[4]<<30|e[5]>>>2,j=e[14]<<6|e[15]>>>26,L=e[15]<<6|e[14]>>>26,b=e[25]<<11|e[24]>>>21,v=e[24]<<11|e[25]>>>21,Z=e[34]<<15|e[35]>>>17,X=e[35]<<15|e[34]>>>17,D=e[45]<<29|e[44]>>>3,B=e[44]<<29|e[45]>>>3,k=e[6]<<28|e[7]>>>4,x=e[7]<<28|e[6]>>>4,ne=e[17]<<23|e[16]>>>9,ie=e[16]<<23|e[17]>>>9,z=e[26]<<25|e[27]>>>7,U=e[27]<<25|e[26]>>>7,A=e[36]<<21|e[37]>>>11,_=e[37]<<21|e[36]>>>11,Q=e[47]<<24|e[46]>>>8,ee=e[46]<<24|e[47]>>>8,H=e[8]<<27|e[9]>>>5,W=e[9]<<27|e[8]>>>5,I=e[18]<<20|e[19]>>>12,P=e[19]<<20|e[18]>>>12,oe=e[29]<<7|e[28]>>>25,se=e[28]<<7|e[29]>>>25,K=e[38]<<8|e[39]>>>24,$=e[39]<<8|e[38]>>>24,E=e[48]<<14|e[49]>>>18,S=e[49]<<14|e[48]>>>18,e[0]=y^~g&b,e[1]=m^~w&v,e[10]=k^~I&T,e[11]=x^~P&C,e[20]=N^~j&z,e[21]=R^~L&U,e[30]=H^~q&J,e[31]=W^~G&Y,e[40]=te^~ne&oe,e[41]=re^~ie&se,e[2]=g^~b&A,e[3]=w^~v&_,e[12]=I^~T&O,e[13]=P^~C&M,e[22]=j^~z&K,e[23]=L^~U&$,e[32]=q^~J&Z,e[33]=G^~Y&X,e[42]=ne^~oe&ae,e[43]=ie^~se&ce,e[4]=b^~A&E,e[5]=v^~_&S,e[14]=T^~O&D,e[15]=C^~M&B,e[24]=z^~K&F,e[25]=U^~$&V,e[34]=J^~Z&Q,e[35]=Y^~X&ee,e[44]=oe^~ae&ue,e[45]=se^~ce&le,e[6]=A^~E&y,e[7]=_^~S&m,e[16]=O^~D&k,e[17]=M^~B&x,e[26]=K^~F&N,e[27]=$^~V&R,e[36]=Z^~Q&H,e[37]=X^~ee&W,e[46]=ae^~ue&te,e[47]=ce^~le&re,e[8]=E^~y&g,e[9]=S^~m&w,e[18]=D^~k&I,e[19]=B^~x&P,e[28]=F^~N&j,e[29]=V^~R&L,e[38]=Q^~H&q,e[39]=ee^~W&G,e[48]=ue^~te&ne,e[49]=le^~re&ie,e[0]^=p[n],e[1]^=p[n+1]};if(c)e.exports=x;else{for(P=0;P<I.length;++P)s[I[P]]=x[I[P]];u&&(void 0===(n=function(){return x}.call(t,r,t,e))||(e.exports=n))}}()},47250:function(e,t,r){"use strict";const n=r(79417),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,s=(e,t,r)=>Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0}),a=this,c={concatArrays:!1,ignoreUndefined:!1},u=e=>{const t=[];for(const r in e)i.call(e,r)&&t.push(r);if(Object.getOwnPropertySymbols){const r=Object.getOwnPropertySymbols(e);for(const n of r)o.call(e,n)&&t.push(n)}return t};function l(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return u(e).forEach((r=>{s(t,r,l(e[r]))})),t}(e):n(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return u(e).forEach((r=>{s(t,r,l(e[r]))})),t}(e):e}const d=(e,t,r,n)=>(r.forEach((r=>{"undefined"===typeof t[r]&&n.ignoreUndefined||(r in e&&e[r]!==Object.getPrototypeOf(e)?s(e,r,f(e[r],t[r],n)):s(e,r,l(t[r])))})),e);function f(e,t,r){return r.concatArrays&&Array.isArray(e)&&Array.isArray(t)?((e,t,r)=>{let n=e.slice(0,0),o=0;return[e,t].forEach((t=>{const a=[];for(let r=0;r<t.length;r++)i.call(t,r)&&(a.push(String(r)),s(n,o++,t===e?t[r]:l(t[r])));n=d(n,t,u(t).filter((e=>!a.includes(e))),r)})),n})(e,t,r):n(t)&&n(e)?d(e,t,u(t),r):l(t)}e.exports=function(){const e=f(l(c),this!==a&&this||{},c);let t={_:{}};for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(const s of i)if(void 0!==s){if(!n(s))throw new TypeError("`"+s+"` is not an Option Object");t=f(t,{_:s},e)}return t._}},79417:e=>{"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},76335:(e,t,r)=>{e.exports=r(95115)},95115:function(e,t){!function(r,n){"use strict";var i={version:"3.0.0",x86:{},x64:{},inputValidation:!0};function o(e){if(!Array.isArray(e)&&!ArrayBuffer.isView(e))return!1;for(var t=0;t<e.length;t++)if(!Number.isInteger(e[t])||e[t]<0||e[t]>255)return!1;return!0}function s(e,t){return(65535&e)*t+(((e>>>16)*t&65535)<<16)}function a(e,t){return e<<t|e>>>32-t}function c(e){return e=s(e^=e>>>16,2246822507),e=s(e^=e>>>13,3266489909),e^=e>>>16}function u(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]+t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]+t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]+t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]+t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function l(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var r=[0,0,0,0];return r[3]+=e[3]*t[3],r[2]+=r[3]>>>16,r[3]&=65535,r[2]+=e[2]*t[3],r[1]+=r[2]>>>16,r[2]&=65535,r[2]+=e[3]*t[2],r[1]+=r[2]>>>16,r[2]&=65535,r[1]+=e[1]*t[3],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[2]*t[2],r[0]+=r[1]>>>16,r[1]&=65535,r[1]+=e[3]*t[1],r[0]+=r[1]>>>16,r[1]&=65535,r[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],r[0]&=65535,[r[0]<<16|r[1],r[2]<<16|r[3]]}function d(e,t){return 32===(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function f(e,t){return 0===(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function h(e,t){return[e[0]^t[0],e[1]^t[1]]}function p(e){return e=h(e,[0,e[0]>>>1]),e=h(e=l(e,[4283543511,3981806797]),[0,e[0]>>>1]),e=h(e=l(e,[3301882366,444984403]),[0,e[0]>>>1])}i.x86.hash32=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%4,u=e.length-r,l=t,d=0,f=3432918353,h=461845907,p=0;p<u;p+=4)d=s(d=e[p]|e[p+1]<<8|e[p+2]<<16|e[p+3]<<24,f),d=s(d=a(d,15),h),l=s(l=a(l^=d,13),5)+3864292196;switch(d=0,r){case 3:d^=e[p+2]<<16;case 2:d^=e[p+1]<<8;case 1:d=s(d^=e[p],f),l^=d=s(d=a(d,15),h)}return(l=c(l^=e.length))>>>0},i.x86.hash128=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%16,u=e.length-r,l=t,d=t,f=t,h=t,p=0,y=0,m=0,g=0,w=597399067,b=2869860233,v=951274213,A=2716044179,_=0;_<u;_+=16)p=e[_]|e[_+1]<<8|e[_+2]<<16|e[_+3]<<24,y=e[_+4]|e[_+5]<<8|e[_+6]<<16|e[_+7]<<24,m=e[_+8]|e[_+9]<<8|e[_+10]<<16|e[_+11]<<24,g=e[_+12]|e[_+13]<<8|e[_+14]<<16|e[_+15]<<24,p=a(p=s(p,w),15),l=a(l^=p=s(p,b),19),l=s(l+=d,5)+1444728091,y=a(y=s(y,b),16),d=a(d^=y=s(y,v),17),d=s(d+=f,5)+197830471,m=a(m=s(m,v),17),f=a(f^=m=s(m,A),15),f=s(f+=h,5)+2530024501,g=a(g=s(g,A),18),h=a(h^=g=s(g,w),13),h=s(h+=l,5)+850148119;switch(p=0,y=0,m=0,g=0,r){case 15:g^=e[_+14]<<16;case 14:g^=e[_+13]<<8;case 13:g=s(g^=e[_+12],A),h^=g=s(g=a(g,18),w);case 12:m^=e[_+11]<<24;case 11:m^=e[_+10]<<16;case 10:m^=e[_+9]<<8;case 9:m=s(m^=e[_+8],v),f^=m=s(m=a(m,17),A);case 8:y^=e[_+7]<<24;case 7:y^=e[_+6]<<16;case 6:y^=e[_+5]<<8;case 5:y=s(y^=e[_+4],b),d^=y=s(y=a(y,16),v);case 4:p^=e[_+3]<<24;case 3:p^=e[_+2]<<16;case 2:p^=e[_+1]<<8;case 1:p=s(p^=e[_],w),l^=p=s(p=a(p,15),b)}return l^=e.length,l+=d^=e.length,l+=f^=e.length,d+=l+=h^=e.length,f+=l,h+=l,l=c(l),l+=d=c(d),l+=f=c(f),d+=l+=h=c(h),f+=l,h+=l,("00000000"+(l>>>0).toString(16)).slice(-8)+("00000000"+(d>>>0).toString(16)).slice(-8)+("00000000"+(f>>>0).toString(16)).slice(-8)+("00000000"+(h>>>0).toString(16)).slice(-8)},i.x64.hash128=function(e,t){if(i.inputValidation&&!o(e))return n;t=t||0;for(var r=e.length%16,s=e.length-r,a=[0,t],c=[0,t],y=[0,0],m=[0,0],g=[2277735313,289559509],w=[1291169091,658871167],b=0;b<s;b+=16)y=[e[b+4]|e[b+5]<<8|e[b+6]<<16|e[b+7]<<24,e[b]|e[b+1]<<8|e[b+2]<<16|e[b+3]<<24],m=[e[b+12]|e[b+13]<<8|e[b+14]<<16|e[b+15]<<24,e[b+8]|e[b+9]<<8|e[b+10]<<16|e[b+11]<<24],y=d(y=l(y,g),31),a=u(a=d(a=h(a,y=l(y,w)),27),c),a=u(l(a,[0,5]),[0,1390208809]),m=d(m=l(m,w),33),c=u(c=d(c=h(c,m=l(m,g)),31),a),c=u(l(c,[0,5]),[0,944331445]);switch(y=[0,0],m=[0,0],r){case 15:m=h(m,f([0,e[b+14]],48));case 14:m=h(m,f([0,e[b+13]],40));case 13:m=h(m,f([0,e[b+12]],32));case 12:m=h(m,f([0,e[b+11]],24));case 11:m=h(m,f([0,e[b+10]],16));case 10:m=h(m,f([0,e[b+9]],8));case 9:m=l(m=h(m,[0,e[b+8]]),w),c=h(c,m=l(m=d(m,33),g));case 8:y=h(y,f([0,e[b+7]],56));case 7:y=h(y,f([0,e[b+6]],48));case 6:y=h(y,f([0,e[b+5]],40));case 5:y=h(y,f([0,e[b+4]],32));case 4:y=h(y,f([0,e[b+3]],24));case 3:y=h(y,f([0,e[b+2]],16));case 2:y=h(y,f([0,e[b+1]],8));case 1:y=l(y=h(y,[0,e[b]]),g),a=h(a,y=l(y=d(y,31),w))}return a=u(a=h(a,[0,e.length]),c=h(c,[0,e.length])),c=u(c,a),a=u(a=p(a),c=p(c)),c=u(c,a),("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)+("00000000"+(c[0]>>>0).toString(16)).slice(-8)+("00000000"+(c[1]>>>0).toString(16)).slice(-8)},e.exports&&(t=e.exports=i),t.murmurHash3=i}()},25882:e=>{"use strict";var t=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var s,a,c=i(e),u=1;u<arguments.length;u++){for(var l in s=Object(arguments[u]))r.call(s,l)&&(c[l]=s[l]);if(t){a=t(s);for(var d=0;d<a.length;d++)n.call(s,a[d])&&(c[a[d]]=s[a[d]])}}return c}},67746:(e,t,r)=>{"use strict";const n=r(91274),i=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class o extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const s=(e,t)=>new Promise(((r,s)=>{t={onFailedAttempt:()=>{},retries:10,...t};const a=n.operation(t);a.attempt((async n=>{try{r(await e(n))}catch(u){if(!(u instanceof Error))return void s(new TypeError(`Non-error was thrown: "${u}". You should only throw errors.`));if(u instanceof o)a.stop(),s(u.originalError);else if(u instanceof TypeError&&(c=u.message,!i.includes(c)))a.stop(),s(u);else{((e,t,r)=>{const n=r.retries-(t-1);e.attemptNumber=t,e.retriesLeft=n})(u,n,t);try{await t.onFailedAttempt(u)}catch(u){return void s(u)}a.retry(u)||s(a.mainError())}}var c}))}));e.exports=s,e.exports.default=s,e.exports.AbortError=o},84389:(e,t,r)=>{"use strict";e.exports=r(73218)},73218:(e,t,r)=>{"use strict";var n=t;function i(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}n.build="minimal",n.Writer=r(7846),n.BufferWriter=r(69802),n.Reader=r(6630),n.BufferReader=r(27315),n.util=r(19188),n.rpc=r(85253),n.roots=r(24841),n.configure=i,i()},6630:(e,t,r)=>{"use strict";e.exports=c;var n,i=r(19188),o=i.LongBits,s=i.utf8;function a(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function c(e){this.buf=e,this.pos=0,this.len=e.length}var u="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new c(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new c(e);throw Error("illegal buffer")},l=function(){return i.Buffer?function(e){return(c.create=function(e){return i.Buffer.isBuffer(e)?new n(e):u(e)})(e)}:u};function d(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw a(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw a(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw a(this,8);return new o(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}c.create=l(),c.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,c.prototype.uint32=function(){var e=4294967295;return function(){if(e=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return e;if(e=(e|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return e;if((this.pos+=5)>this.len)throw this.pos=this.len,a(this,10);return e}}(),c.prototype.int32=function(){return 0|this.uint32()},c.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},c.prototype.bool=function(){return 0!==this.uint32()},c.prototype.fixed32=function(){if(this.pos+4>this.len)throw a(this,4);return f(this.buf,this.pos+=4)},c.prototype.sfixed32=function(){if(this.pos+4>this.len)throw a(this,4);return 0|f(this.buf,this.pos+=4)},c.prototype.float=function(){if(this.pos+4>this.len)throw a(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},c.prototype.double=function(){if(this.pos+8>this.len)throw a(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},c.prototype.bytes=function(){var e=this.uint32(),t=this.pos,r=this.pos+e;if(r>this.len)throw a(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,r):t===r?new this.buf.constructor(0):this._slice.call(this.buf,t,r)},c.prototype.string=function(){var e=this.bytes();return s.read(e,0,e.length)},c.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw a(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw a(this)}while(128&this.buf[this.pos++]);return this},c.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},c._configure=function(e){n=e,c.create=l(),n._configure();var t=i.Long?"toLong":"toNumber";i.merge(c.prototype,{int64:function(){return d.call(this)[t](!1)},uint64:function(){return d.call(this)[t](!0)},sint64:function(){return d.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},27315:(e,t,r)=>{"use strict";e.exports=o;var n=r(6630);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(19188);function o(e){n.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},24841:e=>{"use strict";e.exports={}},85253:(e,t,r)=>{"use strict";t.Service=r(13404)},13404:(e,t,r)=>{"use strict";e.exports=i;var n=r(19188);function i(e,t,r){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");n.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(r)}(i.prototype=Object.create(n.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,r,i,o,s){if(!o)throw TypeError("request must be specified");var a=this;if(!s)return n.asPromise(e,a,t,r,i,o);if(a.rpcImpl)try{return a.rpcImpl(t,r[a.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,r){if(e)return a.emit("error",e,t),s(e);if(null!==r){if(!(r instanceof i))try{r=i[a.responseDelimited?"decodeDelimited":"decode"](r)}catch(e){return a.emit("error",e,t),s(e)}return a.emit("data",r,t),s(null,r)}a.end(!0)}))}catch(c){return a.emit("error",c,t),void setTimeout((function(){s(c)}),0)}else setTimeout((function(){s(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},85082:(e,t,r)=>{"use strict";e.exports=i;var n=r(19188);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var s=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var r=e>>>0,n=(e-r)/4294967296>>>0;return t&&(n=~n>>>0,r=~r>>>0,++r>4294967295&&(r=0,++n>4294967295&&(n=0))),new i(r,n)},i.from=function(e){if("number"===typeof e)return i.fromNumber(e);if(n.isString(e)){if(!n.Long)return i.fromNumber(parseInt(e,10));e=n.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,r=~this.hi>>>0;return t||(r=r+1>>>0),-(t+4294967296*r)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return n.Long?new n.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var a=String.prototype.charCodeAt;i.fromHash=function(e){return e===s?o:new i((a.call(e,0)|a.call(e,1)<<8|a.call(e,2)<<16|a.call(e,3)<<24)>>>0,(a.call(e,4)|a.call(e,5)<<8|a.call(e,6)<<16|a.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,r=this.hi>>>24;return 0===r?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:r<128?9:10}},19188:function(e,t,r){"use strict";var n=t;function i(e,t,r){for(var n=Object.keys(t),i=0;i<n.length;++i)void 0!==e[n[i]]&&r||(e[n[i]]=t[n[i]]);return e}function o(e){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&i(this,r)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}n.asPromise=r(99882),n.base64=r(79813),n.EventEmitter=r(4928),n.float=r(35103),n.inquire=r(82825),n.utf8=r(66232),n.pool=r(32492),n.LongBits=r(85082),n.isNode=Boolean("undefined"!==typeof r.g&&r.g&&r.g.process&&r.g.process.versions&&r.g.process.versions.node),n.global=n.isNode&&r.g||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||this,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},n.isString=function(e){return"string"===typeof e||e instanceof String},n.isObject=function(e){return e&&"object"===typeof e},n.isset=n.isSet=function(e,t){var r=e[t];return!(null==r||!e.hasOwnProperty(t))&&("object"!==typeof r||(Array.isArray(r)?r.length:Object.keys(r).length)>0)},n.Buffer=function(){try{var e=n.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(e){return"number"===typeof e?n.Buffer?n._Buffer_allocUnsafe(e):new n.Array(e):n.Buffer?n._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},n.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(e){return e?n.LongBits.from(e).toHash():n.LongBits.zeroHash},n.longFromHash=function(e,t){var r=n.LongBits.fromHash(e);return n.Long?n.Long.fromBits(r.lo,r.hi,t):r.toNumber(Boolean(t))},n.merge=i,n.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},n.newError=o,n.ProtocolError=o("ProtocolError"),n.oneOfGetter=function(e){for(var t={},r=0;r<e.length;++r)t[e[r]]=1;return function(){for(var e=Object.keys(this),r=e.length-1;r>-1;--r)if(1===t[e[r]]&&void 0!==this[e[r]]&&null!==this[e[r]])return e[r]}},n.oneOfSetter=function(e){return function(t){for(var r=0;r<e.length;++r)e[r]!==t&&delete this[e[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var e=n.Buffer;e?(n._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,r){return new e(t,r)},n._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):n._Buffer_from=n._Buffer_allocUnsafe=null}},7846:(e,t,r)=>{"use strict";e.exports=d;var n,i=r(19188),o=i.LongBits,s=i.base64,a=i.utf8;function c(e,t,r){this.fn=e,this.len=t,this.next=void 0,this.val=r}function u(){}function l(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new c(u,0,0),this.tail=this.head,this.states=null}var f=function(){return i.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};function h(e,t,r){t[r]=255&e}function p(e,t){this.len=e,this.next=void 0,this.val=t}function y(e,t,r){for(;e.hi;)t[r++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[r++]=127&e.lo|128,e.lo=e.lo>>>7;t[r++]=e.lo}function m(e,t,r){t[r]=255&e,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24}d.create=f(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,r){return this.tail=this.tail.next=new c(e,t,r),this.len+=t,this},p.prototype=Object.create(c.prototype),p.prototype.fn=function(e,t,r){for(;e>127;)t[r++]=127&e|128,e>>>=7;t[r]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new p((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(y,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(y,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(y,t.length(),t)},d.prototype.bool=function(e){return this._push(h,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(m,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(m,4,t.lo)._push(m,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var g=i.Array.prototype.set?function(e,t,r){t.set(e,r)}:function(e,t,r){for(var n=0;n<e.length;++n)t[r+n]=e[n]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(h,1,0);if(i.isString(e)){var r=d.alloc(t=s.length(e));s.decode(e,r,0),e=r}return this.uint32(t)._push(g,t,e)},d.prototype.string=function(e){var t=a.length(e);return t?this.uint32(t)._push(a.write,t,e):this._push(h,1,0)},d.prototype.fork=function(){return this.states=new l(this),this.head=this.tail=new c(u,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new c(u,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,r=this.len;return this.reset().uint32(r),r&&(this.tail.next=e.next,this.tail=t,this.len+=r),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),r=0;e;)e.fn(e.val,t,r),r+=e.len,e=e.next;return t},d._configure=function(e){n=e,d.create=f(),n._configure()}},69802:(e,t,r)=>{"use strict";e.exports=o;var n=r(7846);(o.prototype=Object.create(n.prototype)).constructor=o;var i=r(19188);function o(){n.call(this)}function s(e,t,r){e.length<40?i.utf8.write(e,t,r):t.utf8Write?t.utf8Write(e,r):t.write(e,r)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,r){t.set(e,r)}:function(e,t,r){if(e.copy)e.copy(t,r,0,e.length);else for(var n=0;n<e.length;)t[r++]=e[n++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(s,t,e),this},o._configure()},25847:(e,t,r)=>{const{instantiate:n}=r(879);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!i.supported)return null;var t=new Uint8Array([0,97,115,109,1,0,0,0,1,78,14,96,2,127,126,0,96,1,127,1,126,96,2,127,127,0,96,1,127,1,127,96,1,127,0,96,2,127,127,1,127,96,3,127,127,127,1,127,96,0,0,96,3,127,127,127,0,96,0,1,127,96,4,127,127,127,127,0,96,5,127,127,127,127,127,1,127,96,1,126,1,127,96,2,126,126,1,126,2,13,1,3,101,110,118,5,97,98,111,114,116,0,10,3,54,53,2,2,8,9,3,5,2,8,6,5,3,4,2,6,9,12,13,2,5,11,3,2,3,2,3,2,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,6,7,7,4,4,5,3,1,0,1,6,47,9,127,1,65,0,11,127,1,65,0,11,127,0,65,3,11,127,0,65,4,11,127,1,65,0,11,127,1,65,0,11,127,1,65,0,11,127,0,65,240,2,11,127,0,65,6,11,7,240,5,41,6,109,101,109,111,114,121,2,0,7,95,95,97,108,108,111,99,0,10,8,95,95,114,101,116,97,105,110,0,11,9,95,95,114,101,108,101,97,115,101,0,12,9,95,95,99,111,108,108,101,99,116,0,51,11,95,95,114,116,116,105,95,98,97,115,101,3,7,13,73,110,116,51,50,65,114,114,97,121,95,73,68,3,2,13,85,105,110,116,56,65,114,114,97,121,95,73,68,3,3,6,100,101,103,114,101,101,0,16,3,109,111,100,0,17,5,82,97,98,105,110,3,8,16,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,0,21,16,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,0,22,21,82,97,98,105,110,35,103,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,23,21,82,97,98,105,110,35,115,101,116,58,119,105,110,100,111,119,95,115,105,122,101,0,24,14,82,97,98,105,110,35,103,101,116,58,119,112,111,115,0,25,14,82,97,98,105,110,35,115,101,116,58,119,112,111,115,0,26,15,82,97,98,105,110,35,103,101,116,58,99,111,117,110,116,0,27,15,82,97,98,105,110,35,115,101,116,58,99,111,117,110,116,0,28,13,82,97,98,105,110,35,103,101,116,58,112,111,115,0,29,13,82,97,98,105,110,35,115,101,116,58,112,111,115,0,30,15,82,97,98,105,110,35,103,101,116,58,115,116,97,114,116,0,31,15,82,97,98,105,110,35,115,101,116,58,115,116,97,114,116,0,32,16,82,97,98,105,110,35,103,101,116,58,100,105,103,101,115,116,0,33,16,82,97,98,105,110,35,115,101,116,58,100,105,103,101,115,116,0,34,21,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,35,21,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,115,116,97,114,116,0,36,22,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,37,22,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,108,101,110,103,116,104,0,38,31,82,97,98,105,110,35,103,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,39,31,82,97,98,105,110,35,115,101,116,58,99,104,117,110,107,95,99,117,116,95,102,105,110,103,101,114,112,114,105,110,116,0,40,20,82,97,98,105,110,35,103,101,116,58,112,111,108,121,110,111,109,105,97,108,0,41,20,82,97,98,105,110,35,115,101,116,58,112,111,108,121,110,111,109,105,97,108,0,42,17,82,97,98,105,110,35,103,101,116,58,109,105,110,115,105,122,101,0,43,17,82,97,98,105,110,35,115,101,116,58,109,105,110,115,105,122,101,0,44,17,82,97,98,105,110,35,103,101,116,58,109,97,120,115,105,122,101,0,45,17,82,97,98,105,110,35,115,101,116,58,109,97,120,115,105,122,101,0,46,14,82,97,98,105,110,35,103,101,116,58,109,97,115,107,0,47,14,82,97,98,105,110,35,115,101,116,58,109,97,115,107,0,48,17,82,97,98,105,110,35,99,111,110,115,116,114,117,99,116,111,114,0,20,17,82,97,98,105,110,35,102,105,110,103,101,114,112,114,105,110,116,0,49,8,1,50,10,165,31,53,199,1,1,4,127,32,1,40,2,0,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,3,65,4,107,118,65,16,115,33,4,32,3,65,7,107,11,33,3,32,1,40,2,20,33,2,32,1,40,2,16,34,5,4,64,32,5,32,2,54,2,20,11,32,2,4,64,32,2,32,5,54,2,16,11,32,1,32,0,32,4,32,3,65,4,116,106,65,2,116,106,40,2,96,70,4,64,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,2,54,2,96,32,2,69,4,64,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,65,127,115,113,34,1,54,2,4,32,1,69,4,64,32,0,32,0,40,2,0,65,1,32,3,116,65,127,115,113,54,2,0,11,11,11,11,226,2,1,6,127,32,1,40,2,0,33,3,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,34,5,65,1,113,4,64,32,3,65,124,113,65,16,106,32,5,65,124,113,106,34,2,65,240,255,255,255,3,73,4,64,32,0,32,4,16,1,32,1,32,2,32,3,65,3,113,114,34,3,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,34,4,40,2,0,33,5,11,11,32,3,65,2,113,4,64,32,1,65,4,107,40,2,0,34,2,40,2,0,34,6,65,124,113,65,16,106,32,3,65,124,113,106,34,7,65,240,255,255,255,3,73,4,64,32,0,32,2,16,1,32,2,32,7,32,6,65,3,113,114,34,3,54,2,0,32,2,33,1,11,11,32,4,32,5,65,2,114,54,2,0,32,4,65,4,107,32,1,54,2,0,32,0,32,3,65,124,113,34,2,65,128,2,73,4,127,32,2,65,4,118,33,4,65,0,5,32,2,65,31,32,2,103,107,34,2,65,4,107,118,65,16,115,33,4,32,2,65,7,107,11,34,3,65,4,116,32,4,106,65,2,116,106,40,2,96,33,2,32,1,65,0,54,2,16,32,1,32,2,54,2,20,32,2,4,64,32,2,32,1,54,2,16,11,32,0,32,4,32,3,65,4,116,106,65,2,116,106,32,1,54,2,96,32,0,32,0,40,2,0,65,1,32,3,116,114,54,2,0,32,0,32,3,65,2,116,106,32,0,32,3,65,2,116,106,40,2,4,65,1,32,4,116,114,54,2,4,11,119,1,1,127,32,2,2,127,32,0,40,2,160,12,34,2,4,64,32,2,32,1,65,16,107,70,4,64,32,2,40,2,0,33,3,32,1,65,16,107,33,1,11,11,32,1,11,107,34,2,65,48,73,4,64,15,11,32,1,32,3,65,2,113,32,2,65,32,107,65,1,114,114,54,2,0,32,1,65,0,54,2,16,32,1,65,0,54,2,20,32,1,32,2,106,65,16,107,34,2,65,2,54,2,0,32,0,32,2,54,2,160,12,32,0,32,1,16,2,11,155,1,1,3,127,35,0,34,0,69,4,64,65,1,63,0,34,0,74,4,127,65,1,32,0,107,64,0,65,0,72,5,65,0,11,4,64,0,11,65,176,3,34,0,65,0,54,2,0,65,208,15,65,0,54,2,0,3,64,32,1,65,23,73,4,64,32,1,65,2,116,65,176,3,106,65,0,54,2,4,65,0,33,2,3,64,32,2,65,16,73,4,64,32,1,65,4,116,32,2,106,65,2,116,65,176,3,106,65,0,54,2,96,32,2,65,1,106,33,2,12,1,11,11,32,1,65,1,106,33,1,12,1,11,11,65,176,3,65,224,15,63,0,65,16,116,16,3,65,176,3,36,0,11,32,0,11,45,0,32,0,65,240,255,255,255,3,79,4,64,65,32,65,224,0,65,201,3,65,29,16,0,0,11,32,0,65,15,106,65,112,113,34,0,65,16,32,0,65,16,75,27,11,169,1,1,1,127,32,0,32,1,65,128,2,73,4,127,32,1,65,4,118,33,1,65,0,5,32,1,65,248,255,255,255,1,73,4,64,32,1,65,1,65,27,32,1,103,107,116,106,65,1,107,33,1,11,32,1,65,31,32,1,103,107,34,2,65,4,107,118,65,16,115,33,1,32,2,65,7,107,11,34,2,65,2,116,106,40,2,4,65,127,32,1,116,113,34,1,4,127,32,0,32,1,104,32,2,65,4,116,106,65,2,116,106,40,2,96,5,32,0,40,2,0,65,127,32,2,65,1,106,116,113,34,1,4,127,32,0,32,0,32,1,104,34,0,65,2,116,106,40,2,4,104,32,0,65,4,116,106,65,2,116,106,40,2,96,5,65,0,11,11,11,111,1,1,127,63,0,34,2,32,1,65,248,255,255,255,1,73,4,127,32,1,65,1,65,27,32,1,103,107,116,65,1,107,106,5,32,1,11,65,16,32,0,40,2,160,12,32,2,65,16,116,65,16,107,71,116,106,65,255,255,3,106,65,128,128,124,113,65,16,118,34,1,32,2,32,1,74,27,64,0,65,0,72,4,64,32,1,64,0,65,0,72,4,64,0,11,11,32,0,32,2,65,16,116,63,0,65,16,116,16,3,11,113,1,2,127,32,1,40,2,0,34,3,65,124,113,32,2,107,34,4,65,32,79,4,64,32,1,32,2,32,3,65,2,113,114,54,2,0,32,2,32,1,65,16,106,106,34,1,32,4,65,16,107,65,1,114,54,2,0,32,0,32,1,16,2,5,32,1,32,3,65,126,113,54,2,0,32,1,65,16,106,32,1,40,2,0,65,124,113,106,32,1,65,16,106,32,1,40,2,0,65,124,113,106,40,2,0,65,125,113,54,2,0,11,11,91,1,2,127,32,0,32,1,16,5,34,4,16,6,34,3,69,4,64,65,1,36,1,65,0,36,1,32,0,32,4,16,6,34,3,69,4,64,32,0,32,4,16,7,32,0,32,4,16,6,33,3,11,11,32,3,65,0,54,2,4,32,3,32,2,54,2,8,32,3,32,1,54,2,12,32,0,32,3,16,1,32,0,32,3,32,4,16,8,32,3,11,13,0,16,4,32,0,32,1,16,9,65,16,106,11,33,1,1,127,32,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,18,0,32,0,65,172,3,75,4,64,32,0,65,16,107,16,52,11,11,140,3,1,1,127,2,64,32,1,69,13,0,32,0,65,0,58,0,0,32,0,32,1,106,65,1,107,65,0,58,0,0,32,1,65,2,77,13,0,32,0,65,1,106,65,0,58,0,0,32,0,65,2,106,65,0,58,0,0,32,0,32,1,106,34,2,65,2,107,65,0,58,0,0,32,2,65,3,107,65,0,58,0,0,32,1,65,6,77,13,0,32,0,65,3,106,65,0,58,0,0,32,0,32,1,106,65,4,107,65,0,58,0,0,32,1,65,8,77,13,0,32,1,65,0,32,0,107,65,3,113,34,1,107,33,2,32,0,32,1,106,34,0,65,0,54,2,0,32,0,32,2,65,124,113,34,1,106,65,4,107,65,0,54,2,0,32,1,65,8,77,13,0,32,0,65,4,106,65,0,54,2,0,32,0,65,8,106,65,0,54,2,0,32,0,32,1,106,34,2,65,12,107,65,0,54,2,0,32,2,65,8,107,65,0,54,2,0,32,1,65,24,77,13,0,32,0,65,12,106,65,0,54,2,0,32,0,65,16,106,65,0,54,2,0,32,0,65,20,106,65,0,54,2,0,32,0,65,24,106,65,0,54,2,0,32,0,32,1,106,34,2,65,28,107,65,0,54,2,0,32,2,65,24,107,65,0,54,2,0,32,2,65,20,107,65,0,54,2,0,32,2,65,16,107,65,0,54,2,0,32,0,32,0,65,4,113,65,24,106,34,2,106,33,0,32,1,32,2,107,33,1,3,64,32,1,65,32,79,4,64,32,0,66,0,55,3,0,32,0,65,8,106,66,0,55,3,0,32,0,65,16,106,66,0,55,3,0,32,0,65,24,106,66,0,55,3,0,32,1,65,32,107,33,1,32,0,65,32,106,33,0,12,1,11,11,11,11,178,1,1,3,127,32,1,65,240,255,255,255,3,32,2,118,75,4,64,65,144,1,65,192,1,65,23,65,56,16,0,0,11,32,1,32,2,116,34,3,65,0,16,10,34,2,32,3,16,13,32,0,69,4,64,65,12,65,2,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,2,34,1,32,0,40,2,0,34,4,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,32,4,16,12,11,32,0,32,1,54,2,0,32,0,32,2,54,2,4,32,0,32,3,54,2,8,32,0,11,46,1,2,127,65,12,65,5,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,65,128,2,65,3,16,14,11,9,0,65,63,32,0,121,167,107,11,49,1,2,127,65,63,32,1,121,167,107,33,2,3,64,65,63,32,0,121,167,107,32,2,107,34,3,65,0,78,4,64,32,0,32,1,32,3,172,134,133,33,0,12,1,11,11,32,0,11,40,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,163,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,65,0,58,0,0,11,38,0,32,1,32,0,40,2,8,79,4,64,65,128,2,65,192,2,65,152,1,65,44,16,0,0,11,32,1,32,0,40,2,4,106,45,0,0,11,254,5,2,1,127,4,126,32,0,69,4,64,65,232,0,65,6,16,10,34,0,65,172,3,75,4,64,32,0,65,16,107,34,5,32,5,40,2,4,65,1,106,54,2,4,11,11,32,0,65,0,54,2,0,32,0,65,0,54,2,4,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,24,32,0,66,0,55,3,32,32,0,66,0,55,3,40,32,0,66,0,55,3,48,32,0,66,0,55,3,56,32,0,66,0,55,3,64,32,0,66,0,55,3,72,32,0,66,0,55,3,80,32,0,66,0,55,3,88,32,0,66,0,55,3,96,32,0,32,2,173,55,3,80,32,0,32,3,173,55,3,88,65,12,65,4,16,10,34,2,65,172,3,75,4,64,32,2,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,32,4,65,0,16,14,33,2,32,0,40,2,0,16,12,32,0,32,2,54,2,0,32,0,32,4,54,2,4,32,0,66,1,32,1,173,134,66,1,125,55,3,96,32,0,66,243,130,183,218,216,230,232,30,55,3,72,35,4,69,4,64,65,0,33,2,3,64,32,2,65,128,2,72,4,64,32,2,65,255,1,113,173,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,65,0,33,4,3,64,32,4,32,0,40,2,4,65,1,107,72,4,64,32,6,66,8,134,33,6,32,0,41,3,72,34,7,33,8,65,63,32,7,121,167,107,33,1,3,64,65,63,32,6,121,167,107,32,1,107,34,3,65,0,78,4,64,32,6,32,8,32,3,172,134,133,33,6,12,1,11,11,32,4,65,1,106,33,4,12,1,11,11,35,6,40,2,4,32,2,65,3,116,106,32,6,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,63,32,0,41,3,72,121,167,107,172,33,7,65,0,33,2,3,64,32,2,65,128,2,72,4,64,35,5,33,1,32,2,172,32,7,134,34,8,33,6,65,63,32,0,41,3,72,34,9,121,167,107,33,3,3,64,65,63,32,6,121,167,107,32,3,107,34,4,65,0,78,4,64,32,6,32,9,32,4,172,134,133,33,6,12,1,11,11,32,1,40,2,4,32,2,65,3,116,106,32,6,32,8,132,55,3,0,32,2,65,1,106,33,2,12,1,11,11,65,1,36,4,11,32,0,66,0,55,3,24,32,0,66,0,55,3,32,65,0,33,2,3,64,32,2,32,0,40,2,4,72,4,64,32,0,40,2,0,32,2,16,18,32,2,65,1,106,33,2,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,6,66,45,136,167,65,3,116,106,41,3,0,32,6,66,8,134,66,1,132,133,55,3,40,32,0,11,38,1,1,127,32,0,40,2,0,34,0,65,172,3,75,4,64,32,0,65,16,107,34,1,32,1,40,2,4,65,1,106,54,2,4,11,32,0,11,55,1,2,127,32,1,32,0,40,2,0,34,2,71,4,64,32,1,65,172,3,75,4,64,32,1,65,16,107,34,3,32,3,40,2,4,65,1,106,54,2,4,11,32,2,16,12,11,32,0,32,1,54,2,0,11,7,0,32,0,40,2,4,11,9,0,32,0,32,1,54,2,4,11,7,0,32,0,40,2,8,11,9,0,32,0,32,1,54,2,8,11,7,0,32,0,41,3,16,11,9,0,32,0,32,1,55,3,16,11,7,0,32,0,41,3,24,11,9,0,32,0,32,1,55,3,24,11,7,0,32,0,41,3,32,11,9,0,32,0,32,1,55,3,32,11,7,0,32,0,41,3,40,11,9,0,32,0,32,1,55,3,40,11,7,0,32,0,41,3,48,11,9,0,32,0,32,1,55,3,48,11,7,0,32,0,41,3,56,11,9,0,32,0,32,1,55,3,56,11,7,0,32,0,41,3,64,11,9,0,32,0,32,1,55,3,64,11,7,0,32,0,41,3,72,11,9,0,32,0,32,1,55,3,72,11,7,0,32,0,41,3,80,11,9,0,32,0,32,1,55,3,80,11,7,0,32,0,41,3,88,11,9,0,32,0,32,1,55,3,88,11,7,0,32,0,41,3,96,11,9,0,32,0,32,1,55,3,96,11,172,4,2,5,127,1,126,32,2,65,172,3,75,4,64,32,2,65,16,107,34,4,32,4,40,2,4,65,1,106,54,2,4,11,32,2,33,4,65,0,33,2,32,1,40,2,8,33,5,32,1,40,2,4,33,6,3,64,2,127,65,0,33,3,3,64,32,3,32,5,72,4,64,32,3,32,6,106,45,0,0,33,1,32,0,40,2,0,32,0,40,2,8,16,19,33,7,32,0,40,2,8,32,0,40,2,0,40,2,4,106,32,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,7,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,1,173,32,8,66,8,134,132,133,55,3,40,32,0,32,0,41,3,16,66,1,124,55,3,16,32,0,32,0,41,3,24,66,1,124,55,3,24,32,0,41,3,16,32,0,41,3,80,90,4,127,32,0,41,3,40,32,0,41,3,96,131,80,5,65,0,11,4,127,65,1,5,32,0,41,3,16,32,0,41,3,88,90,11,4,64,32,0,32,0,41,3,32,55,3,48,32,0,32,0,41,3,16,55,3,56,32,0,32,0,41,3,40,55,3,64,65,0,33,1,3,64,32,1,32,0,40,2,4,72,4,64,32,0,40,2,0,32,1,16,18,32,1,65,1,106,33,1,12,1,11,11,32,0,66,0,55,3,40,32,0,65,0,54,2,8,32,0,66,0,55,3,16,32,0,66,0,55,3,40,32,0,40,2,0,32,0,40,2,8,16,19,33,1,32,0,40,2,8,32,0,40,2,0,40,2,4,106,65,1,58,0,0,32,0,32,0,41,3,40,35,6,40,2,4,32,1,65,3,116,106,41,3,0,133,55,3,40,32,0,32,0,40,2,8,65,1,106,32,0,40,2,4,111,54,2,8,32,0,35,5,40,2,4,32,0,41,3,40,34,8,66,45,136,167,65,3,116,106,41,3,0,32,8,66,8,134,66,1,132,133,55,3,40,32,3,65,1,106,12,3,11,32,3,65,1,106,33,3,12,1,11,11,65,127,11,34,1,65,0,78,4,64,32,5,32,1,107,33,5,32,1,32,6,106,33,6,32,2,34,1,65,1,106,33,2,32,4,40,2,4,32,1,65,2,116,106,32,0,41,3,56,62,2,0,12,1,11,11,32,4,11,10,0,16,15,36,5,16,15,36,6,11,3,0,1,11,73,1,2,127,32,0,40,2,4,34,1,65,255,255,255,255,0,113,34,2,65,1,70,4,64,32,0,65,16,106,16,53,32,0,32,0,40,2,0,65,1,114,54,2,0,35,0,32,0,16,2,5,32,0,32,2,65,1,107,32,1,65,128,128,128,128,127,113,114,54,2,4,11,11,58,0,2,64,2,64,2,64,32,0,65,8,107,40,2,0,14,7,0,0,1,1,1,1,1,2,11,15,11,32,0,40,2,0,34,0,4,64,32,0,65,172,3,79,4,64,32,0,65,16,107,16,52,11,11,15,11,0,11,11,137,3,7,0,65,16,11,55,40,0,0,0,1,0,0,0,1,0,0,0,40,0,0,0,97,0,108,0,108,0,111,0,99,0,97,0,116,0,105,0,111,0,110,0,32,0,116,0,111,0,111,0,32,0,108,0,97,0,114,0,103,0,101,0,65,208,0,11,45,30,0,0,0,1,0,0,0,1,0,0,0,30,0,0,0,126,0,108,0,105,0,98,0,47,0,114,0,116,0,47,0,116,0,108,0,115,0,102,0,46,0,116,0,115,0,65,128,1,11,43,28,0,0,0,1,0,0,0,1,0,0,0,28,0,0,0,73,0,110,0,118,0,97,0,108,0,105,0,100,0,32,0,108,0,101,0,110,0,103,0,116,0,104,0,65,176,1,11,53,38,0,0,0,1,0,0,0,1,0,0,0,38,0,0,0,126,0,108,0,105,0,98,0,47,0,97,0,114,0,114,0,97,0,121,0,98,0,117,0,102,0,102,0,101,0,114,0,46,0,116,0,115,0,65,240,1,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,73,0,110,0,100,0,101,0,120,0,32,0,111,0,117,0,116,0,32,0,111,0,102,0,32,0,114,0,97,0,110,0,103,0,101,0,65,176,2,11,51,36,0,0,0,1,0,0,0,1,0,0,0,36,0,0,0,126,0,108,0,105,0,98,0,47,0,116,0,121,0,112,0,101,0,100,0,97,0,114,0,114,0,97,0,121,0,46,0,116,0,115,0,65,240,2,11,53,7,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,16,0,0,0,0,0,0,0,145,4,0,0,2,0,0,0,49,0,0,0,2,0,0,0,17,1,0,0,2,0,0,0,16,0,34,16,115,111,117,114,99,101,77,97,112,112,105,110,103,85,82,76,16,46,47,114,97,98,105,110,46,119,97,115,109,46,109,97,112]);return n(new Response(new Blob([t],{type:"application/wasm"})),e)}i.supported="undefined"!==typeof WebAssembly,e.exports=i},87964:(e,t,r)=>{const n=r(61085),i=r(25847);e.exports={Rabin:n,create:async(e,t,r,o,s)=>{const a=await i();return new n(a,e,t,r,o,s)}}},61085:e=>{e.exports=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8192,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:32768,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:64,o=arguments.length>5?arguments[5]:void 0;this.bits=t,this.min=r,this.max=n,this.asModule=e,this.rabin=new e.Rabin(t,r,n,i,o),this.polynomial=o}fingerprint(e){const{__retain:t,__release:r,__allocArray:n,__getInt32Array:i,Int32Array_ID:o,Uint8Array_ID:s}=this.asModule,a=t(n(o,new Int32Array(Math.ceil(e.length/this.min)))),c=t(n(s,e)),u=i(this.rabin.fingerprint(c,a));r(c),r(a);const l=u.indexOf(0);return l>=0?u.subarray(0,l):u}}},9517:(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var i=a(r(92950)),o=a(r(29548)),s=["text","onCopy","options","children"];function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return y(this,r)}}function y(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(c,e);var t,r,n,a=p(c);function c(){var e;d(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return w(m(e=a.call.apply(a,[this].concat(r))),"onClick",(function(t){var r=e.props,n=r.text,s=r.onCopy,a=r.children,c=r.options,u=i.default.Children.only(a),l=(0,o.default)(n,c);s&&s(n,l),u&&u.props&&"function"===typeof u.props.onClick&&u.props.onClick(t)})),e}return t=c,(r=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),r=l(e,s),n=i.default.Children.only(t);return i.default.cloneElement(n,u(u({},r),{},{onClick:this.onClick}))}}])&&f(t.prototype,r),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(i.default.PureComponent);t.CopyToClipboard=b,w(b,"defaultProps",{onCopy:void 0,options:void 0})},51518:(e,t,r)=>{"use strict";var n=r(9517).CopyToClipboard;n.CopyToClipboard=n,e.exports=n},62175:(e,t,r)=>{"use strict";r(25882);var n=r(92950),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),o("react.fragment")}var s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,o={},u=null,l=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,n)&&!c.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:u,ref:l,props:o,_owner:s.current}}t.jsx=u,t.jsxs=u},45263:(e,t,r)=>{"use strict";e.exports=r(62175)},91274:(e,t,r)=>{e.exports=r(59552)},59552:(e,t,r)=>{var n=r(51081);t.operation=function(e){var r=t.timeouts(e);return new n(r,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var r in e)t[r]=e[r];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var n=[],i=0;i<t.retries;i++)n.push(this.createTimeout(i,t));return e&&e.forever&&!n.length&&n.push(this.createTimeout(i,t)),n.sort((function(e,t){return e-t})),n},t.createTimeout=function(e,t){var r=t.randomize?Math.random()+1:1,n=Math.round(r*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return n=Math.min(n,t.maxTimeout)},t.wrap=function(e,r,n){if(r instanceof Array&&(n=r,r=null),!n)for(var i in n=[],e)"function"===typeof e[i]&&n.push(i);for(var o=0;o<n.length;o++){var s=n[o],a=e[s];e[s]=function(n){var i=t.operation(r),o=Array.prototype.slice.call(arguments,1),s=o.pop();o.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),s.apply(this,arguments))})),i.attempt((function(){n.apply(e,o)}))}.bind(e,a),e[s].options=r}}},51081:e=>{function t(e,t){"boolean"===typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var r=this._timeouts.shift();if(void 0===r){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),r=this._cachedTimeouts.slice(-1)}var n=this;return this._timer=setTimeout((function(){n._attempts++,n._operationTimeoutCb&&(n._timeout=setTimeout((function(){n._operationTimeoutCb(n._attempts)}),n._operationTimeout),n._options.unref&&n._timeout.unref()),n._fn(n._attempts)}),r),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var r=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){r._operationTimeoutCb()}),r._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,r=0,n=0;n<this._errors.length;n++){var i=this._errors[n],o=i.message,s=(e[o]||0)+1;e[o]=s,s>=r&&(t=i,r=s)}return t}},2670:(e,t,r)=>{"use strict";r.r(t),r.d(t,{snakeCase:()=>u});var n=function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.create;Object.create;function i(e){return e.toLowerCase()}var o=[/([a-z0-9])([A-Z])/g,/([A-Z])([A-Z][a-z])/g],s=/[^A-Z0-9]+/gi;function a(e,t,r){return t instanceof RegExp?e.replace(t,r):t.reduce((function(e,t){return e.replace(t,r)}),e)}function c(e,t){return void 0===t&&(t={}),function(e,t){void 0===t&&(t={});for(var r=t.splitRegexp,n=void 0===r?o:r,c=t.stripRegexp,u=void 0===c?s:c,l=t.transform,d=void 0===l?i:l,f=t.delimiter,h=void 0===f?" ":f,p=a(a(e,n,"$1\0$2"),u,"\0"),y=0,m=p.length;"\0"===p.charAt(y);)y++;for(;"\0"===p.charAt(m-1);)m--;return p.slice(y,m).split("\0").map(d).join(h)}(e,n({delimiter:"."},t))}function u(e,t){return void 0===t&&(t={}),c(e,n({delimiter:"_"},t))}},90360:e=>{"use strict";function t(e,t){return e+r(t)}function r(e){let t=e;return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}function n(e,t){return e[0]-t[0]}function i(e){return e[1]}e.exports=class{constructor(){this._bitArrays=[],this._data=[],this._length=0,this._changedLength=!1,this._changedData=!1}set(e,t){let r=this._internalPositionFor(e,!1);if(void 0===t)-1!==r&&(this._unsetInternalPos(r),this._unsetBit(e),this._changedLength=!0,this._changedData=!0);else{let n=!1;-1===r?(r=this._data.length,this._setBit(e),this._changedData=!0):n=!0,this._setInternalPos(r,e,t,n),this._changedLength=!0}}unset(e){this.set(e,void 0)}get(e){this._sortData();const t=this._internalPositionFor(e,!0);if(-1!==t)return this._data[t][1]}push(e){return this.set(this.length,e),this.length}get length(){if(this._sortData(),this._changedLength){const e=this._data[this._data.length-1];this._length=e?e[0]+1:0,this._changedLength=!1}return this._length}forEach(e){let t=0;for(;t<this.length;)e(this.get(t),t,this),t++}map(e){let t=0,r=new Array(this.length);for(;t<this.length;)r[t]=e(this.get(t),t,this),t++;return r}reduce(e,t){let r=0,n=t;for(;r<this.length;){n=e(n,this.get(r),r),r++}return n}find(e){let t,r,n=0;for(;n<this.length&&!t;)r=this.get(n),t=e(r),n++;return t?r:void 0}_internalPositionFor(e,n){const i=this._bytePosFor(e,n);if(i>=this._bitArrays.length)return-1;const o=this._bitArrays[i],s=e-7*i;if(!((o&1<<s)>0))return-1;return this._bitArrays.slice(0,i).reduce(t,0)+r(o&~(4294967295<<s+1))-1}_bytePosFor(e,t){const r=Math.floor(e/7),n=r+1;for(;!t&&this._bitArrays.length<n;)this._bitArrays.push(0);return r}_setBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]|=1<<e-7*t}_unsetBit(e){const t=this._bytePosFor(e,!1);this._bitArrays[t]&=~(1<<e-7*t)}_setInternalPos(e,t,r,n){const i=this._data,o=[t,r];if(n)this._sortData(),i[e]=o;else{if(i.length)if(i[i.length-1][0]>=t)i.push(o);else if(i[0][0]<=t)i.unshift(o);else{const e=Math.round(i.length/2);this._data=i.slice(0,e).concat(o).concat(i.slice(e))}else this._data.push(o);this._changedData=!0,this._changedLength=!0}}_unsetInternalPos(e){this._data.splice(e,1)}_sortData(){this._changedData&&this._data.sort(n),this._changedData=!1}bitField(){const e=[];let t,r=8,n=0,i=0;const o=this._bitArrays.slice();for(;o.length||n;){0===n&&(t=o.shift(),n=7);const s=Math.min(n,r);i|=(t&~(255<<s))<<8-r,t>>>=s,n-=s,r-=s,r&&(n||o.length)||(e.push(i),i=0,r=8)}for(var s=e.length-1;s>0;s--){if(0!==e[s])break;e.pop()}return e}compactArray(){return this._sortData(),this._data.map(i)}}},92358:(e,t)=>{"use strict";function r(e,t,r){void 0===r&&(r=!1),r&&(t/=e,e=1);var n,i=[],o=0,s=0,a=function(){var r=o+t,c=Date.now();if(c<r)return void 0!==n&&clearTimeout(n),void(n=setTimeout(a,r-c));o=c,s=0;for(var u=0,l=i.splice(0,e);u<l.length;u++){var d=l[u];s++,d()}n=i.length?setTimeout(a,t):void 0};return function(r){return new Promise((function(c,u){var l=function(){return Promise.resolve().then(r).then(c).catch(u)},d=Date.now();void 0===n&&d-o>t&&(o=d,s=0),s++<e?l():(i.push(l),void 0===n&&(n=setTimeout(a,o+t-d)))}))}}Object.defineProperty(t,"__esModule",{value:!0}),e.exports=r,t.default=r},69504:e=>{e.exports=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a||o>49)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i}},84243:e=>{e.exports=function e(r,n,i){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw e.bytes=0,new RangeError("Could not encode varint");n=n||[];var o=i=i||0;for(;r>=t;)n[i++]=255&r|128,r/=128;for(;-128&r;)n[i++]=255&r|128,r>>>=7;return n[i]=0|r,e.bytes=i-o+1,n};var t=Math.pow(2,31)},75617:(e,t,r)=>{e.exports={encode:r(84243),decode:r(69504),encodingLength:r(83754)}},83754:e=>{var t=Math.pow(2,7),r=Math.pow(2,14),n=Math.pow(2,21),i=Math.pow(2,28),o=Math.pow(2,35),s=Math.pow(2,42),a=Math.pow(2,49),c=Math.pow(2,56),u=Math.pow(2,63);e.exports=function(e){return e<t?1:e<r?2:e<n?3:e<i?4:e<o?5:e<s?6:e<a?7:e<c?8:e<u?9:10}},33101:(e,t,r)=>{"use strict";r.d(t,{tL:()=>i,Gp:()=>f});var n=r(64699);class i{constructor(e,t,r){this._version=e,this._roots=t,this._blocks=r,this._keys=r.map((e=>e.cid.toString()))}get version(){return this._version}async getRoots(){return this._roots}async has(e){return this._keys.indexOf(e.toString())>-1}async get(e){const t=this._keys.indexOf(e.toString());return t>-1?this._blocks[t]:void 0}async*blocks(){for(const e of this._blocks)yield e}async*cids(){for(const e of this._blocks)yield e.cid}static async fromBytes(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return o((0,n.HR)(e))}static async fromIterable(e){if(!e||"function"!==typeof e[Symbol.asyncIterator])throw new TypeError("fromIterable() requires an async iterable");return o((0,n.Cy)(e))}}async function o(e){const t=(0,n.UF)(e),{version:r,roots:o}=await t.header(),s=[];for await(const n of t.blocks())s.push(n);return new i(r,o,s)}class s{constructor(e,t,r){this._version=e,this._roots=t,this._iterator=r}get version(){return this._version}async getRoots(){return this._roots}[Symbol.asyncIterator](){return this._iterator}static async fromBytes(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return decodeIndexerComplete(bytesReader(e))}static async fromIterable(e){if(!e||"function"!==typeof e[Symbol.asyncIterator])throw new TypeError("fromIterable() requires an async iterable");return decodeIndexerComplete(asyncIterableReader(e))}}r(95352);var a=r(32743),c=r(75617),u=r(60372);function l(e){const t=(0,u.cv)({version:1,roots:e}),r=c.encode(t.length),n=new Uint8Array(r.length+t.length);return n.set(r,0),n.set(t,r.length),n}function d(){}class f{constructor(e,t){this._encoder=t,this._mutex=t.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array)||!e.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const t=a.CID.asCID(e.cid);if(!t)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then((()=>this._encoder.writeBlock({cid:t,bytes:e.bytes}))),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=function(e){if(void 0===e)return[];if(!Array.isArray(e)){const t=a.CID.asCID(e);if(!t)throw new TypeError("roots must be a single CID or an array of CIDs");return[t]}const t=[];for(const r of e){const e=a.CID.asCID(r);if(!e)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(e)}return t}(e);const{encoder:t,iterator:r}=p();return{writer:new f(e,t),out:new h(r)}}static createAppender(){const{encoder:e,iterator:t}=p();e.setRoots=()=>Promise.resolve();return{writer:new f([],e),out:new h(t)}}static async updateRootsInBytes(e,t){const r=(0,n.HR)(e);await(0,n.xU)(r);const i=l(t);if(r.pos!==i.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${r.pos} bytes, new header is ${i.length} bytes)`);return e.set(i,0),e}}class h{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function p(){const e=function(){const e=[];let t=null,r=d,n=!1,i=null,o=d;const s=()=>(t||(t=new Promise((e=>{r=()=>{t=null,r=d,e()}}))),t),a={write(t){e.push(t);const r=s();return o(),r},async end(){n=!0;const e=s();return o(),e}},c={async next(){const t=e.shift();return t?(0===e.length&&r(),{done:!1,value:t}):n?(r(),{done:!0,value:void 0}):(i||(i=new Promise((e=>{o=()=>(i=null,o=d,e(c.next()))}))),i)}};return{writer:a,iterator:c}}(),{writer:t,iterator:r}=e,n=function(e){return{async setRoots(t){const r=l(t);await e.write(r)},async writeBlock(t){const{cid:r,bytes:n}=t;await e.write(new Uint8Array(c.encode(r.bytes.length+n.length))),await e.write(r.bytes),n.length&&await e.write(n)},close:async()=>e.end()}}(t);return{encoder:n,iterator:r}}},64699:(e,t,r)=>{"use strict";r.d(t,{Cy:()=>w,HR:()=>g,UF:()=>m,xU:()=>d});var n=r(75617),i=r(32743),o=r(17578),s=r(60372);const a=18,c=32,u=112;async function l(e){const t=await e.upTo(8),r=n.decode(t);return e.seek(n.decode.bytes),r}async function d(e){const t=await l(e);if(0===t)throw new Error("Invalid CAR header (zero length)");const r=await e.exactly(t);e.seek(t);const n=(0,s.Jx)(r);if(null==n||Array.isArray(n)||"object"!==typeof n)throw new Error("Invalid CAR header format");if(1!==n.version){if("string"===typeof n.version)throw new Error(`Invalid CAR version: "${n.version}"`);throw new Error(`Invalid CAR version: ${n.version}`)}if(!Array.isArray(n.roots))throw new Error("Invalid CAR header format");if(Object.keys(n).filter((e=>"roots"!==e&&"version"!==e)).length)throw new Error("Invalid CAR header format");return n}async function f(e){const t=await e.exactly(2);if(t[0]===a&&t[1]===c){const t=await e.exactly(34);e.seek(34);const r=o.Jx(t);return i.CID.create(0,u,r)}const r=await l(e);if(1!==r)throw new Error(`Unexpected CID version (${r})`);const s=await l(e),d=await async function(e){const t=await e.upTo(8);n.decode(t);const r=n.decode.bytes,i=n.decode(t.subarray(n.decode.bytes)),o=r+n.decode.bytes+i,s=await e.exactly(o);return e.seek(o),s}(e),f=o.Jx(d);return i.CID.create(r,s,f)}async function h(e){const t=e.pos;let r=await l(e);if(0===r)throw new Error("Invalid CAR section (zero length)");r+=e.pos-t;return{cid:await f(e),length:r,blockLength:r-(e.pos-t)}}async function p(e){const{cid:t,blockLength:r}=await h(e),n=await e.exactly(r);return e.seek(r),{bytes:n,cid:t}}async function y(e){const t=e.pos,{cid:r,length:n,blockLength:i}=await h(e),o={cid:r,length:n,blockLength:i,offset:t,blockOffset:e.pos};return e.seek(o.blockLength),o}function m(e){const t=d(e);return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await p(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await y(e)}}}function g(e){let t=0;return{upTo:async r=>e.subarray(t,t+Math.min(r,e.length-t)),async exactly(r){if(r>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+r)},seek(e){t+=e},get pos(){return t}}}function w(e){const t=e[Symbol.asyncIterator]();return function(e){let t=0,r=0,n=0,i=new Uint8Array(0);const o=async t=>{r=i.length-n;const o=[i.subarray(n)];for(;r<t;){const t=await e();if(null==t)break;r<0?t.length>r&&o.push(t.subarray(-r)):o.push(t),r+=t.length}i=new Uint8Array(o.reduce(((e,t)=>e+t.length),0));let s=0;for(const e of o)i.set(e,s),s+=e.length;n=0};return{upTo:async e=>(i.length-n<e&&await o(e),i.subarray(n,n+Math.min(i.length-n,e))),async exactly(e){if(i.length-n<e&&await o(e),i.length-n<e)throw new Error("Unexpected end of data");return i.subarray(n,n+e)},seek(e){t+=e,n+=e},get pos(){return t}}}((async function(){const e=await t.next();return e.done?null:e.value}))}},95352:(e,t,r)=>{"use strict";r.d(t,{vQ:()=>o});var n=r(64699);class i{constructor(e,t,r){this._version=e,this._roots=t,this._iterable=r,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class o extends i{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(e){const{version:t,roots:r,iterator:n}=await a(e);return new o(t,r,n)}static async fromIterable(e){const{version:t,roots:r,iterator:n}=await c(e);return new o(t,r,n)}}class s extends(null){[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");this._decoded=!0;const e=this._iterable[Symbol.asyncIterator]();return{async next(){const t=await e.next();return t.done?t:{done:!1,value:t.value.cid}}}}static async fromBytes(e){const{version:t,roots:r,iterator:n}=await a(e);return new s(t,r,n)}static async fromIterable(e){const{version:t,roots:r,iterator:n}=await c(e);return new s(t,r,n)}}async function a(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return u((0,n.HR)(e))}async function c(e){if(!e||"function"!==typeof e[Symbol.asyncIterator])throw new TypeError("fromIterable() requires an async iterable");return u((0,n.Cy)(e))}async function u(e){const t=(0,n.UF)(e),{version:r,roots:i}=await t.header();return{version:r,roots:i,iterator:t.blocks()}}},60372:(e,t,r)=>{"use strict";r.d(t,{Jx:()=>u,TU:()=>a,cv:()=>c});var n=r(78732),i=r(32743);const o={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=i.CID.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new n.WU(n.Dy.tag,42),new n.WU(n.Dy.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const s={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};s.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return i.CID.decode(e.subarray(1))};const a=113,c=e=>n.cv(e,o),u=e=>n.Jx(e,s)},47922:(e,t,r)=>{"use strict";r.r(t),r.d(t,{code:()=>P,createLink:()=>x,createNode:()=>k,decode:()=>C,encode:()=>T,name:()=>I,prepare:()=>E,validate:()=>S});var n=r(32743);const i=new TextDecoder;function o(e,t){let r=0;for(let n=0;;n+=7){if(n>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const i=e[t++];if(r+=n<28?(127&i)<<n:(127&i)*2**n,i<128)break}return[r,t]}function s(e,t){let r;[r,t]=o(e,t);const n=t+r;if(r<0||n<0)throw new Error("protobuf: invalid length");if(n>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,n),n]}function a(e,t){let r;return[r,t]=o(e,t),[7&r,r>>3,t]}function c(e){const t={},r=e.length;let n=0;for(;n<r;){let r,c;if([r,c,n]=a(e,n),1===c){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,n]=s(e,n)}else if(2===c){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let o;[o,n]=s(e,n),t.Name=i.decode(o)}else{if(3!==c)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${c}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==r)throw new Error(`protobuf: (PBLink) wrong wireType (${r}) for Tsize`);[t.Tsize,n]=o(e,n)}}if(n>r)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const u=new TextEncoder,l=2**32;function d(e,t){let r=t.length;if("number"===typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");r=p(t,r,e.Tsize)-1,t[r]=24}if("string"===typeof e.Name){const n=u.encode(e.Name);r-=n.length,t.set(n,r),r=p(t,r,n.length)-1,t[r]=18}return e.Hash&&(r-=e.Hash.length,t.set(e.Hash,r),r=p(t,r,e.Hash.length)-1,t[r]=10),t.length-r}function f(e){const t=function(e){let t=0;if(e.Data){const r=e.Data.length;t+=1+r+y(r)}if(e.Links)for(const r of e.Links){const e=h(r);t+=1+e+y(e)}return t}(e),r=new Uint8Array(t);let n=t;if(e.Data&&(n-=e.Data.length,r.set(e.Data,n),n=p(r,n,e.Data.length)-1,r[n]=10),e.Links)for(let i=e.Links.length-1;i>=0;i--){const t=d(e.Links[i],r.subarray(0,n));n-=t,n=p(r,n,t)-1,r[n]=18}return r}function h(e){let t=0;if(e.Hash){const r=e.Hash.length;t+=1+r+y(r)}if("string"===typeof e.Name){const r=u.encode(e.Name).length;t+=1+r+y(r)}return"number"===typeof e.Tsize&&(t+=1+y(e.Tsize)),t}function p(e,t,r){const n=t-=y(r);for(;r>=2147483648;)e[t++]=127&r|128,r/=128;for(;r>=128;)e[t++]=127&r|128,r>>>=7;return e[t]=r,n}function y(e){return e%2===0&&e++,Math.floor((function(e){let t=0;e>=l&&(e=Math.floor(e/l),t=32);e>=65536&&(e>>>=16,t+=16);e>=256&&(e>>>=8,t+=8);return t+m[e]}(e)+6)/7)}const m=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],g=["Data","Links"],w=["Hash","Name","Tsize"],b=new TextEncoder;function v(e,t){if(e===t)return 0;const r=e.Name?b.encode(e.Name):[],n=t.Name?b.encode(t.Name):[];let i=r.length,o=n.length;for(let s=0,a=Math.min(i,o);s<a;++s)if(r[s]!==n[s]){i=r[s],o=n[s];break}return i<o?-1:o<i?1:0}function A(e,t){return!Object.keys(e).some((e=>!t.includes(e)))}function _(e){if("object"===typeof e.asCID){const t=n.CID.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let i=n.CID.asCID(e.Hash);try{i||("string"===typeof e.Hash?i=n.CID.parse(e.Hash):e.Hash instanceof Uint8Array&&(i=n.CID.decode(e.Hash)))}catch(r){throw new TypeError(`Invalid DAG-PB form: ${r.message}`)}i&&(t.Hash=i)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"===typeof e.Name&&(t.Name=e.Name),"number"===typeof e.Tsize&&(t.Tsize=e.Tsize),t}function E(e){if((e instanceof Uint8Array||"string"===typeof e)&&(e={Data:e}),"object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==e.Data)if("string"===typeof e.Data)t.Data=b.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(_),t.Links.sort(v)}else t.Links=[];return t}function S(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!A(e,g))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){const r=e.Links[t];if(!r||"object"!==typeof r||Array.isArray(r))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!A(r,w))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!r.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(r.Hash.asCID!==r.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==r.Name&&"string"!==typeof r.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==r.Tsize&&("number"!==typeof r.Tsize||r.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&-1===v(r,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return E({Data:e,Links:t})}function x(e,t,r){return _({Hash:r,Name:e,Tsize:t})}const I="dag-pb",P=112;function T(e){S(e);const t={};return e.Links&&(t.Links=e.Links.map((e=>{const t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),f(t)}function C(e){const t=function(e){const t=e.length;let r,n,i=0,o=!1;for(;i<t;){let t,u;if([t,u,i]=a(e,i),2!==t)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${t}`);if(1===u){if(n)throw new Error("protobuf: (PBNode) duplicate Data section");[n,i]=s(e,i),r&&(o=!0)}else{if(2!==u)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${u}`);{if(o)throw new Error("protobuf: (PBNode) duplicate Links section");let t;r||(r=[]),[t,i]=s(e,i),r.push(c(t))}}}if(i>t)throw new Error("protobuf: (PBNode) unexpected end of data");const u={};return n&&(u.Data=n),u.Links=r||[],u}(e),r={};return t.Data&&(r.Data=t.Data),t.Links&&(r.Links=t.Links.map((e=>{const t={};try{t.Hash=n.CID.decode(e.Hash)}catch(r){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),r}},74386:(e,t,r)=>{"use strict";r.d(t,{P:()=>s});var n=r(40668),i=r(28546),o=r(76335);(0,n.D)({name:"murmur3-32",code:35,encode:e=>function(e){const t=new Array(4);for(let r=0;r<4;r++)t[r]=255&e,e>>=8;return new Uint8Array(t)}(o.x86.hash32(e))});const s=(0,n.D)({name:"murmur3-128",code:34,encode:e=>i.aI.fromHex(o.x64.hash128(e))})},741:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Blob:()=>p,File:()=>y,Web3Storage:()=>E,createRateLimiter:()=>A,filesFromPath:()=>l.v,getFilesFromPath:()=>l.S});var n=r(65846),i=r(67746),o=r(1775),s=r(98548),a=r(34933),c=r(77763),u=r(33101),l=r(35398),d=r(92358),f=r(26536);const h=globalThis.fetch,p=(globalThis.Request,globalThis.Response,globalThis.Blob),y=globalThis.File,m=f.X,g=5,w=10485760,b=1048576,v=104857600;function A(){const e=d(30,1e4);return()=>e((()=>{}))}const _=A();class E{constructor(e){let{token:t,endpoint:r=new URL("https://api.web3.storage"),rateLimiter:n,fetch:i=h}=e;this.token=t,this.endpoint=r,this.rateLimiter=n||A(),this.fetch=i}static headers(e){if(!e)throw new Error("missing token");return{Authorization:`Bearer ${e}`,"X-Client":"web3.storage/js"}}static async put(e,t){let{endpoint:r,token:n,rateLimiter:i=_,fetch:s=h}=e,{onRootCidReady:a,onStoredChunk:c,maxRetries:l=g,maxChunkSize:d=w,wrapWithDirectory:f=!0,name:p,signal:y}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(d>=v||d<b)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const A=new m;try{const{out:e,root:h}=await(0,o.P)({input:Array.from(t).map(k),blockstore:A,wrapWithDirectory:f,maxChunkSize:b,maxChildrenPerNode:1024});a&&a(h.toString());const m=await u.tL.fromIterable(e);return await E.putCar({endpoint:r,token:n,rateLimiter:i,fetch:s},m,{onStoredChunk:c,maxRetries:l,maxChunkSize:d,name:p,signal:y})}finally{await A.close()}}static async putCar(e,t){let{endpoint:r,token:o,rateLimiter:s=_,fetch:a=h}=e,{name:u,onStoredChunk:l,maxRetries:d=g,maxChunkSize:f=w,decoders:y,signal:m}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(f>=v||f<b)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const A=f,S=new URL("car",r);let k=E.headers(o);u&&(k={...k,"X-Name":encodeURIComponent(u)});const x=await t.getRoots();if(null==x[0])throw new Error("missing root CID");if(x.length>1)throw new Error("too many roots");const I=x[0].toString(),P=new c.o(t,A,{decoders:y}),T=(0,n.vs)(3,(async e=>{const t=[];for await(const i of e)t.push(i);const r=new p(t,{type:"application/vnd.ipld.car"}),n=await i((async()=>{let e;await s();try{e=await a(S.toString(),{method:"POST",headers:k,body:r,signal:m})}catch(n){throw m&&m.aborted?new i.AbortError(n):n}if(429===e.status)throw new Error("rate limited");const t=await e.json();if(!e.ok)throw new Error(t.message);if(t.cid!==I)throw new Error(`root CID mismatch, expected: ${I}, received: ${t.cid}`);return t.cid}),{retries:d});return l&&l(r.size),n}));for await(const n of T(P.cars()));return I}static async get(e,t){let{endpoint:r,token:n,rateLimiter:i=_,fetch:o=h}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=new URL(`car/${t}`,r);await i();const u=await o(c.toString(),{method:"GET",headers:E.headers(n),signal:s.signal});if(429===u.status)throw new Error("rate limited");return function(e){const t=Object.assign(e,{unixFsIterator:async function*(){if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .unixFsIterator`);if(!e.body)throw new Error("No body on response");const t=new m;try{for await(const r of(0,a.I)(e.body,{blockstore:t}))yield r}finally{await t.close()}},files:async()=>{if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .files`);const r=[];for await(const e of t.unixFsIterator()){if("directory"===e.type)continue;const t=await S(e);r.push(t)}return r}});return t}(u)}static async delete(e,t){let{endpoint:r,token:n,rateLimiter:i=_}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};throw console.log("Not deleting",t,r,n,i,o),Error(".delete not implemented yet")}static async status(e,t){let{endpoint:r,token:n,rateLimiter:i=_,fetch:o=h}=e,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=new URL(`status/${t}`,r);await i();const c=await o(a.toString(),{method:"GET",headers:E.headers(n),signal:s.signal});if(429===c.status)throw new Error("rate limited");if(404!==c.status){if(!c.ok)throw new Error(c.statusText);return c.json()}}static async*list(e){let{before:t=(new Date).toISOString(),maxResults:r=1/0,signal:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};let i=0;const o=r>100?100:r;for await(const a of async function*(e,t,r){let n=await e(t,r);yield n;let i=(0,s.d)(n.headers.get("Link")||"");for(;i&&i.next;)n=await e(t,i.next),yield n,i=(0,s.d)(n.headers.get("Link")||"")}((async function(e,t){let{endpoint:r,token:i,rateLimiter:o=_,fetch:s=h}=e,{before:a,size:c}=t;const u=new URLSearchParams({before:a,size:c.toString()}),l=new URL(`user/uploads?${u}`,r);return await o(),s(l.toString(),{method:"GET",headers:{...E.headers(i),"Access-Control-Request-Headers":"Link"},signal:n})}),e,{before:t,size:o})){if(!a.ok){if(429===a.status)throw new Error("rate limited");const e=await a.json();throw new Error(`${a.status} ${a.statusText} ${e?"- "+e.message:""}`)}const e=await a.json();for(const t of e){if(++i>r)return;yield t}}}put(e,t){return E.put(this,e,t)}putCar(e,t){return E.putCar(this,e,t)}get(e,t){return E.get(this,e,t)}delete(e,t){return E.delete(this,e,t)}status(e,t){return E.status(this,e,t)}list(e){return E.list(this,e)}}async function S(e){let{content:t,path:r,cid:n}=e;const i=[];for await(const s of t())i.push(s);const o=new y(i,function(e){const t=e.indexOf("/");return-1===t?e:e.substring(t+1)}(r));return Object.assign(o,{cid:n.toString()})}function k(e){let t;return{path:e.name,get content(){return t=t||e.stream(),t}}}},98548:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});function n(e){return e&&e.rel}function i(e,t){return t.rel.split(/\s+/).forEach((function(r){e[r]=Object.assign({},t,{rel:r})})),e}function o(e,t){const r=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return r&&(e[r[1]]=r[2]),e}function s(e){try{const t=e.match(/<?([^>]*)>(.*)/),r=t[1],n=t[2].split(";"),i={},s=new URL(r,"https://example.com");for(const[e,o]of s.searchParams)i[e]=o;n.shift();let a=n.reduce(o,{});return a=Object.assign({},i,a),a.url=r,a}catch{return null}}function a(e,t){return function(e,t){if(!e)return!1;const r=(t=t||{}).maxHeaderLength||2e3,n=t.throwOnMaxHeaderLengthExceeded||!1;if(e.length>r){if(n)throw new Error("Input string too long, it should be under "+r+" characters.");return!1}return!0}(e,t)?e.split(/,\s*</).map(s).filter(n).reduce(i,{}):null}},50183:(e,t,r)=>{"use strict";r.d(t,{Ed:()=>f});var n={};r.r(n),r.d(n,{abortedError:()=>s,notFoundError:()=>o});var i=r(15504);function o(e){return e=e||new Error("Not Found"),i(e,"ERR_NOT_FOUND")}function s(e){return e=e||new Error("Aborted"),i(e,"ERR_ABORTED")}var a=r(20838),c=r(93663),u=r(62550),l=r(21958);const d=(e,t)=>async function*(){const r=await l(e);yield*r.sort(t)}();class f{open(){return Promise.reject(new Error(".open is not implemented"))}close(){return Promise.reject(new Error(".close is not implemented"))}put(e,t,r){return Promise.reject(new Error(".put is not implemented"))}get(e,t){return Promise.reject(new Error(".get is not implemented"))}has(e,t){return Promise.reject(new Error(".has is not implemented"))}delete(e,t){return Promise.reject(new Error(".delete is not implemented"))}async*putMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const{key:r,value:n}of e)await this.put(r,n,t),yield{key:r,value:n}}async*getMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const r of e)yield this.get(r,t)}async*deleteMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const r of e)await this.delete(r,t),yield r}batch(){let e=[],t=[];return{put(t,r){e.push({key:t,value:r})},delete(e){t.push(e)},commit:async r=>{await a(this.putMany(e,r)),e=[],await a(this.deleteMany(t,r)),t=[]}}}async*_all(e,t){throw new Error("._all is not implemented")}async*_allKeys(e,t){throw new Error("._allKeys is not implemented")}query(e,t){let r=this._all(e,t);if(null!=e.prefix&&(r=c(r,(t=>t.key.toString().startsWith(e.prefix||"")))),Array.isArray(e.filters)&&(r=e.filters.reduce(((e,t)=>c(e,t)),r)),Array.isArray(e.orders)&&(r=e.orders.reduce(((e,t)=>d(e,t)),r)),null!=e.offset){let t=0;r=c(r,(()=>t++>=(e.offset||0)))}return null!=e.limit&&(r=u(r,e.limit)),r}queryKeys(e,t){let r=this._allKeys(e,t);if(null!=e.prefix&&(r=c(r,(t=>t.toString().startsWith(e.prefix||"")))),Array.isArray(e.filters)&&(r=e.filters.reduce(((e,t)=>c(e,t)),r)),Array.isArray(e.orders)&&(r=e.orders.reduce(((e,t)=>d(e,t)),r)),null!=e.offset){let t=0;r=c(r,(()=>t++>=e.offset))}return null!=e.limit&&(r=u(r,e.limit)),r}}r(79357),r(96602),r(32743),r(17578)},77763:(e,t,r)=>{"use strict";r.d(t,{o:()=>v});var n={};r.r(n),r.d(n,{code:()=>m,decode:()=>w,encode:()=>g,name:()=>y});var i=r(33101),o=r(28546);const s=function(){let{enumerable:e=!0,configurable:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{enumerable:e,configurable:t,writable:!1}},a=function*(e,t){if(null!=e&&!(e instanceof Uint8Array))for(const[r,n]of Object.entries(e)){const e=[...t,r];if(null!=n&&"object"===typeof n)if(Array.isArray(n))for(const[t,r]of n.entries()){const n=[...e,t],i=o.k0.asCID(r);i?yield[n.join("/"),i]:"object"===typeof r&&(yield*a(r,n))}else{const t=o.k0.asCID(n);t?yield[e.join("/"),t]:yield*a(n,e)}}},c=function*(e,t){if(null!=e)for(const[r,n]of Object.entries(e)){const e=[...t,r];if(yield e.join("/"),null!=n&&!(n instanceof Uint8Array)&&"object"===typeof n&&!o.k0.asCID(n))if(Array.isArray(n))for(const[t,r]of n.entries()){const n=[...e,t];yield n.join("/"),"object"!==typeof r||o.k0.asCID(r)||(yield*c(r,n))}else yield*c(n,e)}};class u{constructor(e){let{cid:t,bytes:r,value:n}=e;if(!t||!r||"undefined"===typeof n)throw new Error("Missing required argument");this.cid=t,this.bytes=r,this.value=n,this.asBlock=this,Object.defineProperties(this,{cid:s(),bytes:s(),value:s(),asBlock:s()})}links(){return a(this.value,[])}tree(){return c(this.value,[])}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return((e,t)=>{let r=e;for(const[n,i]of t.entries()){if(r=r[i],null==r)throw new Error(`Object has no property at ${t.slice(0,n+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);const e=o.k0.asCID(r);if(e)return{value:e,remaining:t.slice(n+1).join("/")}}return{value:r}})(this.value,e.split("/").filter(Boolean))}}var l=r(96602),d=r(78732),f=r(32743);const h={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=f.CID.asCID(e);if(!t)return null;const r=new Uint8Array(t.bytes.byteLength+1);return r.set(t.bytes,1),[new d.WU(d.Dy.tag,42),new d.WU(d.Dy.bytes,r)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const p={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};p.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return f.CID.decode(e.subarray(1))};const y="dag-cbor",m=113,g=e=>d.cv(e,h),w=e=>d.Jx(e,p);var b=r(47922);class v{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("number"!==typeof t||t<=0)throw new Error("invalid target chunk size");this._reader=e,this._targetSize=t,this._decoders=[b,l,n,...r.decoders||[]]}async*cars(){const e=await this._reader.getRoots();if(1!==e.length)throw new Error(`unexpected number of roots: ${e.length}`);let t;for await(const r of this._cars(e[0]))t=r.channel,r.out&&(yield r.out);if(!t)throw new Error("missing CAR writer channel");t.writer.close(),yield t.out}async _get(e){const t=await this._reader.get(e);if(!t)throw new Error(`missing block for ${e}`);const{bytes:r}=t,n=this._decoders.find((t=>t.code===e.code));if(!n)throw new Error(`missing decoder for ${e.code}`);return new u({cid:e,bytes:r,value:n.decode(r)})}async*_cars(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n=await this._get(e);if(r=r||Object.assign(i.Gp.create(e),{size:0}),r.size>0&&r.size+n.bytes.byteLength>=this._targetSize){r.writer.close();const{out:e}=r;r=function(e){const t=Object.assign(i.Gp.create(e[0].cid),{size:e.reduce(((e,t)=>e+t.bytes.byteLength),0)});for(const r of e)t.writer.put(r);return t}(t),yield{channel:r,out:e}}t=t.concat(n),r.size+=n.bytes.byteLength,r.writer.put(n);for(const[,i]of n.links())for await(const e of this._cars(i,t,r))r=e.channel,yield e;if(!r)throw new Error("missing CAR writer channel");yield{channel:r}}static async fromIterable(e,t,r){const n=await i.tL.fromIterable(e);return new v(n,t,r)}static async fromBlob(e,t,r){const n=await e.arrayBuffer(),o=await i.tL.fromBytes(new Uint8Array(n));return new v(o,t,r)}}},78732:(e,t,r)=>{"use strict";r.d(t,{WU:()=>a,Dy:()=>s,Jx:()=>ke,cv:()=>be});const n=["string","number","bigint","symbol"],i=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","HTMLElement","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function o(e){if(null===e)return"null";if(void 0===e)return"undefined";if(!0===e||!1===e)return"boolean";const t=typeof e;if(n.includes(t))return t;if("function"===t)return"Function";if(Array.isArray(e))return"Array";if(function(e){return e&&e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer.call(null,e)}(e))return"Buffer";const r=function(e){const t=Object.prototype.toString.call(e).slice(8,-1);if(i.includes(t))return t;return}(e);return r||"Object"}class s{constructor(e,t,r){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=r}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}s.uint=new s(0,"uint",!0),s.negint=new s(1,"negint",!0),s.bytes=new s(2,"bytes",!0),s.string=new s(3,"string",!0),s.array=new s(4,"array",!1),s.map=new s(5,"map",!1),s.tag=new s(6,"tag",!1),s.float=new s(7,"float",!0),s.false=new s(7,"false",!0),s.true=new s(7,"true",!0),s.null=new s(7,"null",!0),s.undefined=new s(7,"undefined",!0),s.break=new s(7,"break",!0);class a{constructor(e,t,r){this.type=e,this.value=t,this.encodedLength=r,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}const c=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,u=new TextDecoder,l=new TextEncoder;function d(e){return c&&globalThis.Buffer.isBuffer(e)}function f(e){return e instanceof Uint8Array?d(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const h=c?(e,t,r)=>r-t>64?globalThis.Buffer.from(e.subarray(t,r)).toString("utf8"):v(e,t,r):(e,t,r)=>r-t>64?u.decode(e.subarray(t,r)):v(e,t,r),p=c?e=>e.length>64?globalThis.Buffer.from(e):b(e):e=>e.length>64?l.encode(e):b(e),y=e=>Uint8Array.from(e),m=c?(e,t,r)=>d(e)?new Uint8Array(e.subarray(t,r)):e.slice(t,r):(e,t,r)=>e.slice(t,r),g=c?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),f(globalThis.Buffer.concat(e,t))):(e,t)=>{const r=new Uint8Array(t);let n=0;for(let i of e)n+i.length>r.length&&(i=i.subarray(0,r.length-n)),r.set(i,n),n+=i.length;return r},w=c?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function b(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(t=e.charCodeAt(s),t>55295&&t<57344){if(!i){if(t>56319){(r-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(r-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(r-=3)>-1&&o.push(239,191,189),i=t;continue}t=65536+(i-55296<<10|t-56320)}else i&&(r-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((r-=1)<0)break;o.push(t)}else if(t<2048){if((r-=2)<0)break;o.push(t>>6|192,63&t|128)}else if(t<65536){if((r-=3)<0)break;o.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return o}function v(e,t,r){const n=[];for(;t<r;){const i=e[t];let o=null,s=i>239?4:i>223?3:i>191?2:1;if(t+s<=r){let r,n,a,c;switch(s){case 1:i<128&&(o=i);break;case 2:r=e[t+1],128===(192&r)&&(c=(31&i)<<6|63&r,c>127&&(o=c));break;case 3:r=e[t+1],n=e[t+2],128===(192&r)&&128===(192&n)&&(c=(15&i)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(o=c));break;case 4:r=e[t+1],n=e[t+2],a=e[t+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(c=(15&i)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(o=c))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),t+=s}return function(e){const t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}const A=4096;class _{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:256;this.chunkSize=e,this.cursor=0,this.maxCursor=-1,this.chunks=[],this._initReuseChunk=null}reset(){this.cursor=0,this.maxCursor=-1,this.chunks.length&&(this.chunks=[]),null!==this._initReuseChunk&&(this.chunks.push(this._initReuseChunk),this.maxCursor=this._initReuseChunk.length-1)}push(e){let t=this.chunks[this.chunks.length-1];if(this.cursor+e.length<=this.maxCursor+1){const r=t.length-(this.maxCursor-this.cursor)-1;t.set(e,r)}else{if(t){const e=t.length-(this.maxCursor-this.cursor)-1;e<t.length&&(this.chunks[this.chunks.length-1]=t.subarray(0,e),this.maxCursor=this.cursor-1)}e.length<64&&e.length<this.chunkSize?(t=w(this.chunkSize),this.chunks.push(t),this.maxCursor+=t.length,null===this._initReuseChunk&&(this._initReuseChunk=t),t.set(e,0)):(this.chunks.push(e),this.maxCursor+=e.length)}this.cursor+=e.length}toBytes(){let e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(1===this.chunks.length){const r=this.chunks[0];t&&this.cursor>r.length/2?(e=this.cursor===r.length?r:r.subarray(0,this.cursor),this._initReuseChunk=null,this.chunks=[]):e=m(r,0,this.cursor)}else e=g(this.chunks,this.cursor);return t&&this.reset(),e}}const E=[];function S(e,t,r){if(e.length-t<r)throw new Error("CBOR decode error: not enough data for type")}E[23]=1,E[24]=2,E[25]=3,E[26]=5,E[27]=9;const k=[24,256,65536,4294967296,BigInt("18446744073709551616")];function x(e,t,r){S(e,t,1);const n=e[t];if(!0===r.strict&&n<k[0])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function I(e,t,r){S(e,t,2);const n=e[t]<<8|e[t+1];if(!0===r.strict&&n<k[1])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function P(e,t,r){S(e,t,4);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];if(!0===r.strict&&n<k[2])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");return n}function T(e,t,r){S(e,t,8);const n=16777216*e[t]+(e[t+1]<<16)+(e[t+2]<<8)+e[t+3],i=16777216*e[t+4]+(e[t+5]<<16)+(e[t+6]<<8)+e[t+7],o=(BigInt(n)<<BigInt(32))+BigInt(i);if(!0===r.strict&&o<k[3])throw new Error("CBOR decode error: integer encoded in more bytes than necessary (strict decode)");if(o<=Number.MAX_SAFE_INTEGER)return Number(o);if(!0===r.allowBigInt)return o;throw new Error("CBOR decode error: integers outside of the safe integer range are not supported")}function C(e,t){return O(e,0,t.value)}function O(e,t,r){if(r<k[0]){const n=Number(r);e.push([t|n])}else if(r<k[1]){const n=Number(r);e.push([24|t,n])}else if(r<k[2]){const n=Number(r);e.push([25|t,n>>>8,255&n])}else if(r<k[3]){const n=Number(r);e.push([26|t,n>>>24&255,n>>>16&255,n>>>8&255,255&n])}else{const n=BigInt(r);if(!(n<k[4]))throw new Error("CBOR decode error: encountered BigInt larger than allowable range");{const r=[27|t,0,0,0,0,0,0,0];let i=Number(n&BigInt(4294967295)),o=Number(n>>BigInt(32)&BigInt(4294967295));r[8]=255&i,i>>=8,r[7]=255&i,i>>=8,r[6]=255&i,i>>=8,r[5]=255&i,r[4]=255&o,o>>=8,r[3]=255&o,o>>=8,r[2]=255&o,o>>=8,r[1]=255&o,e.push(r)}}}C.encodedSize=function(e){return O.encodedSize(e.value)},O.encodedSize=function(e){return e<k[0]?1:e<k[1]?2:e<k[2]?3:e<k[3]?5:9},C.compareTokens=function(e,t){return e.value<t.value?-1:e.value>t.value?1:0};const M=BigInt(-1),D=BigInt(1);function B(e,t){const r=t.value,n="bigint"===typeof r?r*M-D:-1*r-1;O(e,t.type.majorEncoded,n)}function N(e,t,r,n){S(e,t,r+n);const i=m(e,t+r,t+r+n);return new a(s.bytes,i,r+n)}function R(e,t,r,n){return N(e,t,1,r)}function j(e){return void 0===e.encodedBytes&&(e.encodedBytes=e.type===s.string?p(e.value):e.value),e.encodedBytes}function L(e,t){const r=j(t);O(e,t.type.majorEncoded,r.length),e.push(r)}function z(e,t,r,n,i){const o=r+n;S(e,t,o);const c=new a(s.string,h(e,t+r,t+o),o);return!0===i.retainStringBytes&&(c.byteValue=m(e,t+r,t+o)),c}function U(e,t,r,n){return z(e,t,1,r,n)}B.encodedSize=function(e){const t=e.value,r="bigint"===typeof t?t*M-D:-1*t-1;return r<k[0]?1:r<k[1]?2:r<k[2]?3:r<k[3]?5:9},B.compareTokens=function(e,t){return e.value<t.value?1:e.value>t.value?-1:0},L.encodedSize=function(e){const t=j(e);return O.encodedSize(t.length)+t.length},L.compareTokens=function(e,t){return r=j(e),n=j(t),r.length<n.length?-1:r.length>n.length?1:function(e,t){if(d(e)&&d(t))return e.compare(t);for(let r=0;r<e.length;r++)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}(r,n);var r,n};const K=L;function $(e,t,r,n){return new a(s.array,n,r)}function F(e,t,r,n){return $(0,0,1,r)}function V(e,t){O(e,s.array.majorEncoded,t.value)}function H(e,t,r,n){return new a(s.map,n,r)}function W(e,t,r,n){return H(0,0,1,r)}function q(e,t){O(e,s.map.majorEncoded,t.value)}function G(e,t,r,n){return new a(s.tag,r,1)}function J(e,t){O(e,s.tag.majorEncoded,t.value)}V.compareTokens=C.compareTokens,V.encodedSize=function(e){return O.encodedSize(e.value)},q.compareTokens=C.compareTokens,q.encodedSize=function(e){return O.encodedSize(e.value)},J.compareTokens=C.compareTokens,J.encodedSize=function(e){return O.encodedSize(e.value)};function Y(e,t,r){if(r){if(!1===r.allowNaN&&Number.isNaN(e))throw new Error("CBOR decode error: NaN values are not supported");if(!1===r.allowInfinity&&(e===1/0||e===-1/0))throw new Error("CBOR decode error: Infinity values are not supported")}return new a(s.float,e,t)}function Z(e,t,r){const n=t.value;if(!1===n)e.push([20|s.float.majorEncoded]);else if(!0===n)e.push([21|s.float.majorEncoded]);else if(null===n)e.push([22|s.float.majorEncoded]);else if(void 0===n)e.push([23|s.float.majorEncoded]);else{let t,o=!1;r&&!0===r.float64||(te(n),t=re(ee,1),n===t||Number.isNaN(n)?(ee[0]=249,e.push(ee.slice(0,3)),o=!0):(ne(n),t=ie(ee,1),n===t&&(ee[0]=250,e.push(ee.slice(0,5)),o=!0))),o||(i=n,Q.setFloat64(0,i,!1),t=oe(ee,1),ee[0]=251,e.push(ee.slice(0,9)))}var i}Z.encodedSize=function(e,t){const r=e.value;if(!1===r||!0===r||null===r||void 0===r)return 1;if(!t||!0!==t.float64){te(r);let e=re(ee,1);if(r===e||Number.isNaN(r))return 3;if(ne(r),e=ie(ee,1),r===e)return 5}return 9};const X=new ArrayBuffer(9),Q=new DataView(X,1),ee=new Uint8Array(X,0);function te(e){if(e===1/0)Q.setUint16(0,31744,!1);else if(e===-1/0)Q.setUint16(0,64512,!1);else if(Number.isNaN(e))Q.setUint16(0,32256,!1);else{Q.setFloat32(0,e);const t=Q.getUint32(0),r=(2139095040&t)>>23,n=8388607&t;if(255===r)Q.setUint16(0,31744,!1);else if(0===r)Q.setUint16(0,(2147483648&e)>>16|n>>13,!1);else{const e=r-127;e<-24?Q.setUint16(0,0):e<-14?Q.setUint16(0,(2147483648&t)>>16|1<<24+e,!1):Q.setUint16(0,(2147483648&t)>>16|e+15<<10|n>>13,!1)}}}function re(e,t){if(e.length-t<2)throw new Error("CBOR decode error: not enough data for float16");const r=(e[t]<<8)+e[t+1];if(31744===r)return 1/0;if(64512===r)return-1/0;if(32256===r)return NaN;const n=r>>10&31,i=1023&r;let o;return o=0===n?i*2**-24:31!==n?(i+1024)*2**(n-25):0===i?1/0:NaN,32768&r?-o:o}function ne(e){Q.setFloat32(0,e,!1)}function ie(e,t){if(e.length-t<4)throw new Error("CBOR decode error: not enough data for float32");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,4).getFloat32(0,!1)}function oe(e,t){if(e.length-t<8)throw new Error("CBOR decode error: not enough data for float64");const r=(e.byteOffset||0)+t;return new DataView(e.buffer,r,8).getFloat64(0,!1)}function se(e,t,r){throw new Error(`CBOR decode error: encountered invalid minor (${r}) for major ${e[t]>>>5}`)}function ae(e){return()=>{throw new Error(`CBOR decode error: ${e}`)}}Z.compareTokens=C.compareTokens;const ce=[];for(let xe=0;xe<=23;xe++)ce[xe]=se;ce[24]=function(e,t,r,n){return new a(s.uint,x(e,t+1,n),2)},ce[25]=function(e,t,r,n){return new a(s.uint,I(e,t+1,n),3)},ce[26]=function(e,t,r,n){return new a(s.uint,P(e,t+1,n),5)},ce[27]=function(e,t,r,n){return new a(s.uint,T(e,t+1,n),9)},ce[28]=se,ce[29]=se,ce[30]=se,ce[31]=se;for(let xe=32;xe<=55;xe++)ce[xe]=se;ce[56]=function(e,t,r,n){return new a(s.negint,-1-x(e,t+1,n),2)},ce[57]=function(e,t,r,n){return new a(s.negint,-1-I(e,t+1,n),3)},ce[58]=function(e,t,r,n){return new a(s.negint,-1-P(e,t+1,n),5)},ce[59]=function(e,t,r,n){const i=T(e,t+1,n);if("bigint"!==typeof i){const e=-1-i;if(e>=Number.MIN_SAFE_INTEGER)return new a(s.negint,e,9)}if(!0!==n.allowBigInt)throw new Error("CBOR decode error: integers outside of the safe integer range are not supported");return new a(s.negint,M-BigInt(i),9)},ce[60]=se,ce[61]=se,ce[62]=se,ce[63]=se;for(let xe=64;xe<=87;xe++)ce[xe]=R;ce[88]=function(e,t,r,n){return N(e,t,2,x(e,t+1,n))},ce[89]=function(e,t,r,n){return N(e,t,3,I(e,t+1,n))},ce[90]=function(e,t,r,n){return N(e,t,5,P(e,t+1,n))},ce[91]=function(e,t,r,n){const i=T(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer bytes lengths not supported");return N(e,t,9,i)},ce[92]=se,ce[93]=se,ce[94]=se,ce[95]=ae("indefinite length bytes/strings are not supported");for(let xe=96;xe<=119;xe++)ce[xe]=U;ce[120]=function(e,t,r,n){return z(e,t,2,x(e,t+1,n),n)},ce[121]=function(e,t,r,n){return z(e,t,3,I(e,t+1,n),n)},ce[122]=function(e,t,r,n){return z(e,t,5,P(e,t+1,n),n)},ce[123]=function(e,t,r,n){const i=T(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer string lengths not supported");return z(e,t,9,i,n)},ce[124]=se,ce[125]=se,ce[126]=se,ce[127]=ae("indefinite length bytes/strings are not supported");for(let xe=128;xe<=151;xe++)ce[xe]=F;ce[152]=function(e,t,r,n){return $(0,0,2,x(e,t+1,n))},ce[153]=function(e,t,r,n){return $(0,0,3,I(e,t+1,n))},ce[154]=function(e,t,r,n){return $(0,0,5,P(e,t+1,n))},ce[155]=function(e,t,r,n){const i=T(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer array lengths not supported");return $(0,0,9,i)},ce[156]=se,ce[157]=se,ce[158]=se,ce[159]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return $(0,0,1,1/0)};for(let xe=160;xe<=183;xe++)ce[xe]=W;ce[184]=function(e,t,r,n){return H(0,0,2,x(e,t+1,n))},ce[185]=function(e,t,r,n){return H(0,0,3,I(e,t+1,n))},ce[186]=function(e,t,r,n){return H(0,0,5,P(e,t+1,n))},ce[187]=function(e,t,r,n){const i=T(e,t+1,n);if("bigint"===typeof i)throw new Error("CBOR decode error: 64-bit integer map lengths not supported");return H(0,0,9,i)},ce[188]=se,ce[189]=se,ce[190]=se,ce[191]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return H(0,0,1,1/0)};for(let xe=192;xe<=215;xe++)ce[xe]=G;ce[216]=function(e,t,r,n){return new a(s.tag,x(e,t+1,n),2)},ce[217]=function(e,t,r,n){return new a(s.tag,I(e,t+1,n),3)},ce[218]=function(e,t,r,n){return new a(s.tag,P(e,t+1,n),5)},ce[219]=function(e,t,r,n){return new a(s.tag,T(e,t+1,n),9)},ce[220]=se,ce[221]=se,ce[222]=se,ce[223]=se;for(let xe=224;xe<=243;xe++)ce[xe]=ae("simple values are not supported");ce[244]=se,ce[245]=se,ce[246]=se,ce[247]=function(e,t,r,n){if(!1===n.allowUndefined)throw new Error("CBOR decode error: undefined values are not supported");return!0===n.coerceUndefinedToNull?new a(s.null,null,1):new a(s.undefined,void 0,1)},ce[248]=ae("simple values are not supported"),ce[249]=function(e,t,r,n){return Y(re(e,t+1),3,n)},ce[250]=function(e,t,r,n){return Y(ie(e,t+1),5,n)},ce[251]=function(e,t,r,n){return Y(oe(e,t+1),9,n)},ce[252]=se,ce[253]=se,ce[254]=se,ce[255]=function(e,t,r,n){if(!1===n.allowIndefinite)throw new Error("CBOR decode error: indefinite length items not allowed");return new a(s.break,void 0,1)};const ue=[];for(let xe=0;xe<24;xe++)ue[xe]=new a(s.uint,xe,1);for(let xe=-1;xe>=-24;xe--)ue[31-xe]=new a(s.negint,xe,1);ue[64]=new a(s.bytes,new Uint8Array(0),1),ue[96]=new a(s.string,"",1),ue[128]=new a(s.array,0,1),ue[160]=new a(s.map,0,1),ue[244]=new a(s.false,!1,1),ue[245]=new a(s.true,!0,1),ue[246]=new a(s.null,null,1);const le={float64:!1,mapSorter:function(e,t){const r=Array.isArray(e[0])?e[0][0]:e[0],n=Array.isArray(t[0])?t[0][0]:t[0];if(r.type!==n.type)return r.type.compare(n.type);const i=r.type.major,o=de[i].compareTokens(r,n);0===o&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return o},quickEncodeToken:function(e){switch(e.type){case s.false:return y([244]);case s.true:return y([245]);case s.null:return y([246]);case s.bytes:return e.value.length?void 0:y([64]);case s.string:return""===e.value?y([96]):void 0;case s.array:return 0===e.value?y([128]):void 0;case s.map:return 0===e.value?y([160]):void 0;case s.uint:return e.value<24?y([Number(e.value)]):void 0;case s.negint:if(e.value>=-24)return y([31-Number(e.value)])}}};const de=function(){const e=[];return e[s.uint.major]=C,e[s.negint.major]=B,e[s.bytes.major]=L,e[s.string.major]=K,e[s.array.major]=V,e[s.map.major]=q,e[s.tag.major]=J,e[s.float.major]=Z,e}(),fe=new _;class he{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error("CBOR encode error: object contains circular references");return new he(t,e)}}const pe={null:new a(s.null,null),undefined:new a(s.undefined,void 0),true:new a(s.true,!0),false:new a(s.false,!1),emptyArray:new a(s.array,0),emptyMap:new a(s.map,0)},ye={number:(e,t,r,n)=>Number.isInteger(e)&&Number.isSafeInteger(e)?new a(e>=0?s.uint:s.negint,e):new a(s.float,e),bigint:(e,t,r,n)=>e>=BigInt(0)?new a(s.uint,e):new a(s.negint,e),Uint8Array:(e,t,r,n)=>new a(s.bytes,e),string:(e,t,r,n)=>new a(s.string,e),boolean:(e,t,r,n)=>e?pe.true:pe.false,null:(e,t,r,n)=>pe.null,undefined:(e,t,r,n)=>pe.undefined,ArrayBuffer:(e,t,r,n)=>new a(s.bytes,new Uint8Array(e)),DataView:(e,t,r,n)=>new a(s.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,r,n){if(!e.length)return!0===r.addBreakTokens?[pe.emptyArray,new a(s.break)]:pe.emptyArray;n=he.createCheck(n,e);const i=[];let o=0;for(const s of e)i[o++]=me(s,r,n);return r.addBreakTokens?[new a(s.array,e.length),i,new a(s.break)]:[new a(s.array,e.length),i]},Object(e,t,r,n){const i="Object"!==t,o=i?e.keys():Object.keys(e),c=i?e.size:o.length;if(!c)return!0===r.addBreakTokens?[pe.emptyMap,new a(s.break)]:pe.emptyMap;n=he.createCheck(n,e);const u=[];let l=0;for(const s of o)u[l++]=[me(s,r,n),me(i?e.get(s):e[s],r,n)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(u,r),r.addBreakTokens?[new a(s.map,c),u,new a(s.break)]:[new a(s.map,c),u]}};ye.Map=ye.Object,ye.Buffer=ye.Uint8Array;for(const xe of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))ye[`${xe}Array`]=ye.DataView;function me(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const n=o(e),i=t&&t.typeEncoders&&t.typeEncoders[n]||ye[n];if("function"===typeof i){const o=i(e,n,t,r);if(null!=o)return o}const s=ye[n];if(!s)throw new Error(`CBOR encode error: unsupported type: ${n}`);return s(e,n,t,r)}function ge(e,t,r,n){if(Array.isArray(t))for(const i of t)ge(e,i,r,n);else r[t.type.major](e,t,n)}function we(e,t,r){const n=me(e,r);if(!Array.isArray(n)&&r.quickEncodeToken){const e=r.quickEncodeToken(n);if(e)return e;const i=t[n.type.major];if(i.encodedSize){const e=i.encodedSize(n,r),t=new _(e);if(i(t,n,r),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${n} was wrong`);return f(t.chunks[0])}}return fe.reset(),ge(fe,n,t,r),fe.toBytes(!0)}function be(e,t){return t=Object.assign({},le,t),we(e,de,t)}const ve={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class Ae{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=ue[e];if(void 0===t){const r=ce[e];if(!r)throw new Error(`CBOR decode error: no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const n=31&e;t=r(this.data,this.pos,n,this.options)}return this.pos+=t.encodedLength,t}}const _e=Symbol.for("DONE"),Ee=Symbol.for("BREAK");function Se(e,t){if(e.done())return _e;const r=e.next();if(r.type===s.break)return Ee;if(r.type.terminal)return r.value;if(r.type===s.array)return function(e,t,r){const n=[];for(let i=0;i<e.value;i++){const o=Se(t,r);if(o===Ee){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed array")}if(o===_e)throw new Error(`CBOR decode error: found array but not enough entries (got ${i}, expected ${e.value})`);n[i]=o}return n}(r,e,t);if(r.type===s.map)return function(e,t,r){const n=!0===r.useMaps,i=n?void 0:{},o=n?new Map:void 0;for(let s=0;s<e.value;s++){const a=Se(t,r);if(a===Ee){if(e.value===1/0)break;throw new Error("CBOR decode error: got unexpected break to lengthed map")}if(a===_e)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no key], expected ${e.value})`);if(!0!==n&&"string"!==typeof a)throw new Error(`CBOR decode error: non-string keys not supported (got ${typeof a})`);const c=Se(t,r);if(c===_e)throw new Error(`CBOR decode error: found map but not enough entries (got ${s} [no value], expected ${e.value})`);n?o.set(a,c):i[a]=c}return n?o:i}(r,e,t);if(r.type===s.tag){if(t.tags&&"function"===typeof t.tags[r.value]){const n=Se(e,t);return t.tags[r.value](n)}throw new Error(`CBOR decode error: tag not supported (${r.value})`)}throw new Error("unsupported")}function ke(e,t){if(!(e instanceof Uint8Array))throw new Error("CBOR decode error: data to decode must be a Uint8Array");const r=(t=Object.assign({},ve,t)).tokenizer||new Ae(e,t),n=Se(r,t);if(n===_e)throw new Error("CBOR decode error: did not find any content to decode");if(n===Ee)throw new Error("CBOR decode error: got unexpected break");if(!r.done())throw new Error("CBOR decode error: too many terminals, data makes no sense");return n}},35398:(e,t,r)=>{"use strict";async function n(){throw new Error("Unsupported in this environment")}async function*i(){throw new Error("Unsupported in this environment")}r.d(t,{S:()=>n,v:()=>i})},26536:(e,t,r)=>{"use strict";r.d(t,{X:()=>o});var n=r(28546),i=r(50183);class o extends i.Ed{constructor(){super(),this.store=new Map}async*blocks(){for(const[e,t]of this.store.entries())yield{cid:n.k0.parse(e),bytes:t}}put(e,t){return this.store.set(e.toString(),t),Promise.resolve()}get(e){const t=this.store.get(e.toString());if(!t)throw new Error(`block with cid ${e.toString()} no found`);return Promise.resolve(t)}has(e){return Promise.resolve(this.store.has(e.toString()))}close(){return this.store.clear(),Promise.resolve()}}},1775:(e,t,r)=>{"use strict";r.d(t,{P:()=>fe});var n=r(16586),i=r(89962),o=r(33101),s=r(88411);const a=r(47250);var c=r(92829),u=r(74386);const l={chunker:"fixed",strategy:"balanced",rawLeaves:!1,onlyHash:!1,reduceSingleLeafToSelf:!0,hasher:c.sha256,leafType:"file",cidVersion:0,progress:()=>()=>{},shardSplitThreshold:1e3,fileImportConcurrency:50,blockWriteConcurrency:10,minChunkSize:262144,maxChunkSize:262144,avgChunkSize:262144,window:16,polynomial:0x3df305dfb2a804,maxChildrenPerNode:174,layerRepeat:4,wrapWithDirectory:!1,recursive:!1,hidden:!1,timeout:void 0,hamtHashFn:async function(e){return(await u.P.encode(e)).slice(0,8).reverse()},hamtHashCode:34,hamtBucketBits:8},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=a.bind({ignoreUndefined:!0});return t(l,e)};var f=r(72512),h=r(32743),p=r(47922);const y=async(e,t,r)=>{r.codec||(r.codec=p),r.hasher||(r.hasher=c.sha256),void 0===r.cidVersion&&(r.cidVersion=1),r.codec===p&&r.hasher!==c.sha256&&(r.cidVersion=1);const n=await r.hasher.digest(e),i=h.CID.create(r.cidVersion,r.codec.code,n);return r.onlyHash||await t.put(i,e,{signal:r.signal}),i},m=async(e,t,r)=>{const n=new f.fL({type:"directory",mtime:e.mtime,mode:e.mode}),i=(0,p.encode)((0,p.prepare)({Data:n.marshal()}));return{cid:await y(i,t,r),path:e.path,unixfs:n,size:i.length}};var g=r(15504),w=r(96602),b=r(21958);const v=async function(e,t){return t(await b(e))};var A=r(19635);async function _(e,t,r){const n=[];for await(const i of A(e,r.maxChildrenPerNode))n.push(await t(i));return n.length>1?_(n,t,r):n[0]}const E=function(e,t,r){return _(e,t,r)};const S=async function(e,t,r){const n=new x(r.layerRepeat);let i=0,o=1,s=n;for await(const a of A(e,r.maxChildrenPerNode))s.isFull()&&(s!==n&&n.addChild(await s.reduce(t)),i&&i%r.layerRepeat===0&&o++,s=new k(o,r.layerRepeat,i),i++),s.append(a);return s&&s!==n&&n.addChild(await s.reduce(t)),n.reduce(t)};class k{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.maxDepth=e,this.layerRepeat=t,this.currentDepth=1,this.iteration=r,this.root=this.node=this.parent={children:[],depth:this.currentDepth,maxDepth:e,maxChildren:(this.maxDepth-this.currentDepth)*this.layerRepeat}}isFull(){if(!this.root.data)return!1;if(this.currentDepth<this.maxDepth&&this.node.maxChildren)return this._addNextNodeToParent(this.node),!1;const e=this._findParent(this.node,this.currentDepth);return!e||(this._addNextNodeToParent(e),!1)}_addNextNodeToParent(e){this.parent=e;const t={children:[],depth:e.depth+1,parent:e,maxDepth:this.maxDepth,maxChildren:Math.floor(e.children.length/this.layerRepeat)*this.layerRepeat};e.children.push(t),this.currentDepth=t.depth,this.node=t}append(e){this.node.data=e}reduce(e){return this._reduce(this.root,e)}async _reduce(e,t){let r=[];return e.children.length&&(r=await Promise.all(e.children.filter((e=>e.data)).map((e=>this._reduce(e,t))))),t((e.data||[]).concat(r))}_findParent(e,t){const r=e.parent;if(r&&0!==r.depth)return r.children.length!==r.maxChildren&&r.maxChildren?r:this._findParent(r,t)}}class x extends k{constructor(e){super(0,e),this.root.depth=0,this.currentDepth=1}addChild(e){this.root.children.push(e)}reduce(e){return e((this.root.data||[]).concat(this.root.children))}}const I=async function*(e,t,r){for await(let n of e.content)yield async()=>{let i;r.progress(n.length,e.path);const o={codec:p,cidVersion:r.cidVersion,hasher:r.hasher,onlyHash:r.onlyHash};return r.rawLeaves?(o.codec=w,o.cidVersion=1):(i=new f.fL({type:r.leafType,data:n}),n=p.encode({Data:i.marshal(),Links:[]})),{cid:await y(n,t,o),unixfs:i,size:n.length}}},P={flat:v,balanced:E,trickle:S};const T=function(e,t,r){const n=P[r.strategy];if(!n)throw g(new Error(`Unknown importer build strategy name: ${r.strategy}`),"ERR_BAD_STRATEGY");return n(async function*(e,t,r){let n,i,o=-1;i="function"===typeof r.bufferImporter?r.bufferImporter:I;for await(const a of s(i(e,t,r),r.blockWriteConcurrency))o++,0!==o?(1===o&&n&&(yield n,n=null),yield a):n=a;n&&(n.single=!0,yield n)}(e,t,r),((e,t,r)=>async function(n){if(1===n.length&&n[0].single&&r.reduceSingleLeafToSelf){const i=n[0];if(void 0!==e.mtime||void 0!==e.mode){let n=await t.get(i.cid);i.unixfs=new f.fL({type:"file",mtime:e.mtime,mode:e.mode,data:n}),n=(0,p.encode)((0,p.prepare)({Data:i.unixfs.marshal()})),i.cid=await y(n,t,{...r,codec:p,hasher:r.hasher,cidVersion:r.cidVersion}),i.size=n.length}return{cid:i.cid,path:e.path,unixfs:i.unixfs,size:i.size}}const i=new f.fL({type:"file",mtime:e.mtime,mode:e.mode}),o=n.filter((e=>!(e.cid.code!==w.code||!e.size)||!(!e.unixfs||e.unixfs.data||!e.unixfs.fileSize())||Boolean(e.unixfs&&e.unixfs.data&&e.unixfs.data.length))).map((e=>e.cid.code===w.code?(i.addBlockSize(e.size),{Name:"",Tsize:e.size,Hash:e.cid}):(e.unixfs&&e.unixfs.data?i.addBlockSize(e.unixfs.data.length):i.addBlockSize(e.unixfs&&e.unixfs.fileSize()||0),{Name:"",Tsize:e.size,Hash:e.cid}))),s={Data:i.marshal(),Links:o},a=(0,p.encode)((0,p.prepare)(s));return{cid:await y(a,t,r),path:e.path,unixfs:i,size:a.length+s.Links.reduce(((e,t)=>e+t.Tsize),0)}})(e,t,r),r)};var C=r(74439),O=r(87964);const M=async function*(e,t){let r,n,i;if(t.minChunkSize&&t.maxChunkSize&&t.avgChunkSize)i=t.avgChunkSize,r=t.minChunkSize,n=t.maxChunkSize;else{if(!t.avgChunkSize)throw g(new Error("please specify an average chunk size"),"ERR_INVALID_AVG_CHUNK_SIZE");i=t.avgChunkSize,r=i/3,n=i+i/2}if(r<16)throw g(new Error("rabin min must be greater than 16"),"ERR_INVALID_MIN_CHUNK_SIZE");n<r&&(n=r),i<r&&(i=r);const o=Math.floor(Math.log2(i));for await(const s of async function*(e,t){const r=await(0,O.create)(t.bits,t.min,t.max,t.window),n=new C;for await(const i of e){n.append(i);const e=r.fingerprint(i);for(let t=0;t<e.length;t++){const r=e[t],i=n.slice(0,r);n.consume(r),yield i}}n.length&&(yield n.slice(0))}(e,{min:r,max:n,bits:o,window:t.window,polynomial:t.polynomial}))yield s};const D=async function*(e,t){let r=new C,n=0,i=!1;const o=t.maxChunkSize;for await(const s of e)for(r.append(s),n+=s.length;n>=o;)if(yield r.slice(0,o),i=!0,o===r.length)r=new C,n=0;else{const e=new C;e.append(r.shallowSlice(o)),r=e,n-=o}i&&!n||(yield r.slice(0,n))};var B=r(58524);const N=async function*(e){for await(const t of e){if(void 0===t.length)throw g(new Error("Content was invalid"),"ERR_INVALID_CONTENT");if("string"===typeof t||t instanceof String)yield(0,B.fromString)(t.toString());else if(Array.isArray(t))yield Uint8Array.from(t);else{if(!(t instanceof Uint8Array))throw g(new Error("Content was invalid"),"ERR_INVALID_CONTENT");yield t}}};function R(e){try{if(e instanceof Uint8Array)return async function*(){yield e}();if(t=e,Symbol.iterator in t)return async function*(){yield*e}();if(function(e){return Symbol.asyncIterator in e}(e))return e}catch{throw g(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}var t;throw g(new Error("Content was invalid"),"ERR_INVALID_CONTENT")}const j=async function*(e,t,r){for await(const n of e)if(n.path&&("./"===n.path.substring(0,2)&&(r.wrapWithDirectory=!0),n.path=n.path.split("/").filter((e=>e&&"."!==e)).join("/")),n.content){let e,i;e="function"===typeof r.chunker?r.chunker:"rabin"===r.chunker?M:D,i="function"===typeof r.chunkValidator?r.chunkValidator:N;const o={path:n.path,mtime:n.mtime,mode:n.mode,content:e(i(R(n.content),r),r)};yield()=>T(o,t,r)}else{if(!n.path)throw new Error("Import candidate must have content or path or both");{const e={path:n.path,mtime:n.mtime,mode:n.mode};yield()=>m(e,t,r)}}};const L=class{constructor(e,t){this.options=t||{},this.root=e.root,this.dir=e.dir,this.path=e.path,this.dirty=e.dirty,this.flat=e.flat,this.parent=e.parent,this.parentKey=e.parentKey,this.unixfs=e.unixfs,this.mode=e.mode,this.mtime=e.mtime,this.cid=void 0,this.size=void 0}async put(e,t){}get(e){return Promise.resolve(this)}async*eachChildSeries(){}async*flush(e){}};const z=class extends L{constructor(e,t){super(e,t),this._children={}}async put(e,t){this.cid=void 0,this.size=void 0,this._children[e]=t}get(e){return Promise.resolve(this._children[e])}childCount(){return Object.keys(this._children).length}directChildrenCount(){return this.childCount()}onlyChild(){return this._children[Object.keys(this._children)[0]]}async*eachChildSeries(){const e=Object.keys(this._children);for(let t=0;t<e.length;t++){const r=e[t];yield{key:r,child:this._children[r]}}}async*flush(e){const t=Object.keys(this._children),r=[];for(let c=0;c<t.length;c++){let n=this._children[t[c]];if(n instanceof L)for await(const t of n.flush(e))n=t,yield n;null!=n.size&&n.cid&&r.push({Name:t[c],Tsize:n.size,Hash:n.cid})}const n=new f.fL({type:"directory",mtime:this.mtime,mode:this.mode}),i={Data:n.marshal(),Links:r},o=(0,p.encode)((0,p.prepare)(i)),s=await y(o,e,this.options),a=o.length+i.Links.reduce(((e,t)=>e+(null==t.Tsize?0:t.Tsize)),0);this.cid=s,this.size=a,yield{cid:s,unixfs:n,path:this.path,size:a}}};var U=r(74123);const K=class extends L{constructor(e,t){super(e,t),this._bucket=(0,U.createHAMT)({hashFn:t.hamtHashFn,bits:t.hamtBucketBits})}async put(e,t){await this._bucket.put(e,t)}get(e){return this._bucket.get(e)}childCount(){return this._bucket.leafCount()}directChildrenCount(){return this._bucket.childrenCount()}onlyChild(){return this._bucket.onlyChild()}async*eachChildSeries(){for await(const{key:e,value:t}of this._bucket.eachLeafSeries())yield{key:e,child:t}}async*flush(e){for await(const t of $(this._bucket,e,this,this.options))yield{...t,path:this.path}}};async function*$(e,t,r,n){const i=e._children,o=[];let s=0;for(let f=0;f<i.length;f++){const e=i.get(f);if(!e)continue;const r=f.toString(16).toUpperCase().padStart(2,"0");if(e instanceof U.Bucket){let i;for await(const r of await $(e,t,null,n))i=r;if(!i)throw new Error("Could not flush sharded directory, no subshard found");o.push({Name:r,Tsize:i.size,Hash:i.cid}),s+=i.size}else if("function"===typeof e.value.flush){const n=e.value;let i;for await(const e of n.flush(t))i=e,yield i;const a=r+e.key;o.push({Name:a,Tsize:i.size,Hash:i.cid}),s+=i.size}else{const t=e.value;if(!t.cid)continue;const n=r+e.key,i=t.size;o.push({Name:n,Tsize:i,Hash:t.cid}),s+=i}}const a=Uint8Array.from(i.bitField().reverse()),c=new f.fL({type:"hamt-sharded-directory",data:a,fanout:e.tableSize(),hashType:n.hamtHashCode,mtime:r&&r.mtime,mode:r&&r.mode}),u={Data:c.marshal(),Links:o},l=(0,p.encode)((0,p.prepare)(u)),d=await y(l,t,n),h=l.length+s;yield{cid:d,unixfs:c,size:h}}const F=async function e(t,r,n,i){let o=r;r instanceof z&&r.directChildrenCount()>=n&&(o=await async function(e,t){const r=new K({root:e.root,dir:!0,parent:e.parent,parentKey:e.parentKey,path:e.path,dirty:e.dirty,flat:!1,mtime:e.mtime,mode:e.mode},t);for await(const{key:n,child:i}of e.eachChildSeries())await r.put(n,i);return r}(r,i));const s=o.parent;if(s){if(o!==r){if(t&&(t.parent=o),!o.parentKey)throw new Error("No parent key found");await s.put(o.parentKey,o)}return e(o,s,n,i)}return o},V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e.trim().match(/([^\\/]|\\\/)+/g)||[]).filter(Boolean)};async function H(e,t,r){const n=V(e.path||""),i=n.length-1;let o=t,s="";for(let a=0;a<n.length;a++){const c=n[a];s+=`${s?"/":""}${c}`;const u=a===i;if(o.dirty=!0,o.cid=void 0,o.size=void 0,u)await o.put(c,e),t=await F(null,o,r.shardSplitThreshold,r);else{let e=await o.get(c);e&&e instanceof L||(e=new z({root:!1,dir:!0,parent:o,parentKey:c,path:s,dirty:!0,flat:!0,mtime:e&&e.unixfs&&e.unixfs.mtime,mode:e&&e.unixfs&&e.unixfs.mode},r)),await o.put(c,e),o=e}}return t}async function*W(e,t){e instanceof L?yield*e.flush(t):e&&e.unixfs&&e.unixfs.isDirectory()&&(yield e)}const q=async function*(e,t,r){let n=new z({root:!0,dir:!0,path:"",dirty:!0,flat:!0},r);for await(const i of e)i&&(n=await H(i,n,r),i.unixfs&&i.unixfs.isDirectory()||(yield i));if(r.wrapWithDirectory)yield*W(n,t);else for await(const i of n.eachChildSeries())i&&(yield*W(i.child,t))};var G=r(55194),J=r(31156),Y=r(62469),Z=r(60191);function X(e){return ArrayBuffer.isView(e)||e instanceof ArrayBuffer}function Q(e){return e.constructor&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"===typeof e.stream}function ee(e){return"object"===typeof e&&(e.path||e.content)}const te=e=>e&&"function"===typeof e.getReader;async function*re(e){yield e}async function ne(e){if(X(e))return re(ie(e));if("string"===typeof e||e instanceof String)return re(ie(e.toString()));if(Q(e))return J(e);if(te(e)&&(e=G(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const t=Y(e),{value:r,done:n}=await t.peek();if(n)return re(new Uint8Array(0));if(t.push(r),Number.isInteger(r))return re(Uint8Array.from(await b(t)));if(X(r)||"string"===typeof r||r instanceof String)return Z(t,ie)}throw g(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function ie(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):(0,B.fromString)(e.toString())}async function oe(e,t){const{path:r,mode:n,mtime:i,content:o}=e,s={path:r||"",mode:(0,f.tK)(n),mtime:(0,f.Xu)(i)};return o?s.content=await t(o):r||(s.content=await t(e)),s}function se(e){return async function*(e,t){if(null===e||void 0===e)throw g(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if("string"===typeof e||e instanceof String)yield oe(e.toString(),t);else if(X(e)||Q(e))yield oe(e,t);else{if(te(e)&&(e=G(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const r=Y(e),{value:n,done:i}=await r.peek();if(i)return void(yield{content:[]});if(r.push(n),Number.isInteger(n)||X(n)||"string"===typeof n||n instanceof String)return void(yield oe(r,t));throw g(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(!ee(e))throw g(new Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT");yield oe(e,t)}}(e,ne)}async function ae(e,t){const{path:r,mode:n,mtime:i,content:o}=e,s={path:r||"",mode:(0,f.tK)(n),mtime:(0,f.Xu)(i)};return o?s.content=await t(o):r||(s.content=await t(e)),s}function ce(e){return async function*(e,t){if("string"===typeof e||e instanceof String||X(e)||Q(e)||e._readableState)throw g(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(te(e)&&(e=G(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const r=Y(e),{value:n,done:i}=await r.peek();if(i)return void(yield*[]);if(r.push(n),Number.isInteger(n))throw g(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(n._readableState)return void(yield*Z(r,(e=>ae({content:e},t))));if(X(n))return void(yield ae({content:r},t));if(ee(n)||n[Symbol.iterator]||n[Symbol.asyncIterator]||te(n)||Q(n))return void(yield*Z(r,(e=>ae(e,t))))}if(ee(e))throw g(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw g(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}(e,ne)}function ue(e){return"string"===typeof e||e instanceof String||(t=e,ArrayBuffer.isView(t)||t instanceof ArrayBuffer)||function(e){return Boolean(e.constructor)&&("Blob"===e.constructor.name||"File"===e.constructor.name)&&"function"===typeof e.stream}(e)||"_readableState"in e;var t}var le=r(26536);const de={cidVersion:1,chunker:"fixed",maxChunkSize:262144,hasher:c.sha256,rawLeaves:!0,wrapWithDirectory:!0,maxChildrenPerNode:174};async function fe(e){let{input:t,blockstore:r,hasher:a,maxChunkSize:c,maxChildrenPerNode:u,wrapWithDirectory:l,rawLeaves:f}=e;if(!t||Array.isArray(t)&&!t.length)throw new Error("missing input file(s)");const h=r||new le.X,p=await n(i(function(e){return ue(e)?se(e):ce(e)}(t),(e=>async function*(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=d(r);let i,o,a;i="function"===typeof r.dagBuilder?r.dagBuilder:j,o="function"===typeof r.treeBuilder?r.treeBuilder:q,a=Symbol.asyncIterator in e||Symbol.iterator in e?e:[e];for await(const c of o(s(i(a,t,n),n.fileImportConcurrency),t,n))yield{cid:c.cid,path:c.path,unixfs:c.unixfs,size:c.size}}(e,h,{...de,hasher:a||de.hasher,maxChunkSize:c||de.maxChunkSize,maxChildrenPerNode:u||de.maxChildrenPerNode,wrapWithDirectory:!1!==l&&de.wrapWithDirectory,rawLeaves:null==f?de.rawLeaves:f}))));if(!p||!p.cid)throw new Error("given input could not be parsed correctly");const y=p.cid,{writer:m,out:g}=await o.Gp.create([y]),w=g[Symbol.asyncIterator]();let b;return{root:y,out:{[Symbol.asyncIterator](){if(null!=b)throw new Error("Multiple iterator not supported");return b=(async()=>{for await(const e of h.blocks())await m.put(e);await m.close(),r||await h.close()})(),{async next(){const e=await w.next();return e.done&&await b,e}}}}}}},34933:(e,t,r)=>{"use strict";r.d(t,{I:()=>$});var n=r(55194),i=r(95352),o=r(15504),s=r(32743),a=r(47922),c=r(60372),u=r(96602),l=r(80073),d=r(72512),f=r(74123),h=r(74386);const p=async function(e){return(await h.P.encode(e)).slice(0,8).reverse()},y=e=>e.toString(16).toUpperCase().padStart(2,"0").substring(0,2),m=async(e,t,r,n,i)=>{if(!n){const e=(0,f.createHAMT)({hashFn:p});n={rootBucket:e,hamtDepth:1,lastBucket:e}}var o,s,c;await(o=e.Links,s=n.lastBucket,c=n.rootBucket,Promise.all(o.map((e=>{if(null==e.Name)throw new Error("Unexpected Link without a Name");if(2===e.Name.length){const t=parseInt(e.Name,16);return s._putObjectAt(t,new f.Bucket({hash:c._options.hash,bits:c._options.bits},s,t))}return c.put(e.Name.substring(2),!0)}))));const u=await n.rootBucket._findNewBucketAndPos(t);let l=y(u.pos);const d=(e=>{let t=e.bucket;const r=[];for(;t._parent;)r.push(t),t=t._parent;return r.push(t),r.reverse()})(u);d.length>n.hamtDepth&&(n.lastBucket=d[n.hamtDepth],l=y(n.lastBucket._posAtParent));const h=e.Links.find((e=>{if(null==e.Name)return!1;const r=e.Name.substring(0,2),n=e.Name.substring(2);return r===l&&(!n||n===t)}));if(!h)return null;if(null!=h.Name&&h.Name.substring(2)===t)return h.Hash;n.hamtDepth++;const g=await r.get(h.Hash,i);return e=(0,a.decode)(g),m(e,t,r,n,i)},g=m;const w=function(e,t,r,n){const i=t+e.length;return r>=i||n<t?new Uint8Array(0):(n>=t&&n<i&&(e=e.slice(0,n-t)),r>=t&&r<i&&(e=e.slice(r-t)),e)},b=(e,t,r)=>{if(t||(t=0),t<0)throw o(new Error("Offset must be greater than or equal to 0"),"ERR_INVALID_PARAMS");if(t>e)throw o(new Error("Offset must be less than the file size"),"ERR_INVALID_PARAMS");if(r||0===r||(r=e-t),r<0)throw o(new Error("Length must be greater than or equal to 0"),"ERR_INVALID_PARAMS");return t+r>e&&(r=e-t),{offset:t,length:r}};async function*v(e,t,r,n){let i,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5?arguments[5]:void 0;if(t instanceof Uint8Array){const e=w(t,s,r,n);return e.length&&(yield e),s+=e.length,s}if(null==t.Data)throw o(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{i=d.fL.unmarshal(t.Data)}catch(h){throw o(h,"ERR_NOT_UNIXFS")}if(i.data&&i.data.length){const e=w(i.data,s,r,n);e.length&&(yield e),s+=i.data.length}let f=s;for(let o=0;o<t.Links.length;o++){const d=t.Links[o],h=s+i.blockSizes[o];if(r>=f&&r<h||n>f&&n<=h||r<f&&n>h){const t=await e.get(d.Hash,{signal:l.signal});let i;switch(d.Hash.code){case a.code:i=await a.decode(t);break;case u.code:i=t;break;case c.TU:i=await c.Jx(t);break;default:throw Error(`Unsupported codec: ${d.Hash.code}`)}for await(const o of v(e,i,r,n,s,l))s+=o.length,yield o}s=h,f=h+1}}const A=(e,t,r,n,i,o,s)=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=r.fileSize();if(void 0===n)throw new Error("File was a directory");const{offset:i,length:o}=b(n,e.offset,e.length),a=i,c=i+o;return v(s,t,a,c,0,e)},_=(e,t,r,n,i,o,s)=>async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=e.offset||0,a=e.length||t.Links.length,c=t.Links.slice(r,a);for(const t of c){const r=await i(t.Hash,t.Name||"",`${n}/${t.Name||""}`,[],o+1,s,e);r.entry&&(yield r.entry)}};async function*E(e,t,r,n,i,o){const s=e.Links;for(const c of s){const s=null!=c.Name?c.Name.substring(2):null;if(s){const e=await r(c.Hash,s,`${t}/${s}`,[],n+1,i,o);yield e.entry}else{const s=await i.get(c.Hash);e=(0,a.decode)(s);for await(const a of E(e,t,r,n,i,o))yield a}}}const S=(e,t,r,n,i,o,s)=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return E(t,n,i,o,s,e)},k={raw:A,file:A,directory:_,"hamt-sharded-directory":S,metadata:(e,t,r,n,i,o,s)=>()=>[],symlink:(e,t,r,n,i,o,s)=>()=>[]},x=async(e,t,r,n,i,s,c,u)=>{const l=await c.get(e,u),f=(0,a.decode)(l);let h,p;if(t||(t=e.toString()),null==f.Data)throw o(new Error("no data in PBNode"),"ERR_NOT_UNIXFS");try{h=d.fL.unmarshal(f.Data)}catch(y){throw o(y,"ERR_NOT_UNIXFS")}if(r||(r=t),n.length){let e;if(e=h&&"hamt-sharded-directory"===h.type?await g(f,n[0],c):((e,t)=>{const r=e.Links.find((e=>e.Name===t));return r&&r.Hash})(f,n[0]),!e)throw o(new Error("file does not exist"),"ERR_NOT_FOUND");const t=n.shift();p={cid:e,toResolve:n,name:t||"",path:`${r}/${t}`}}return{entry:{type:h.isDirectory()?"directory":"file",name:t,path:r,cid:e,content:k[h.type](e,f,h,r,i,s,c),unixfs:h,depth:s,node:f,size:h.fileSize()},next:p}},I=async(e,t,r,n,i,s,a,c)=>{if(n.length)throw o(new Error(`No link named ${r} found in raw node ${e}`),"ERR_NOT_FOUND");const u=await a.get(e,c);return{entry:{type:"raw",name:t,path:r,cid:e,content:(l=u,async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{offset:t,length:r}=b(l.length,e.offset,e.length);yield w(l,0,t,t+r)}),depth:s,size:u.length,node:u}};var l},P=async(e,t,r,n,i,a,u,l)=>{const d=await u.get(e),f=c.Jx(d);let h=f,p=r;for(;n.length;){const i=n[0];if(!(i in h))throw o(new Error(`No property named ${i} found in cbor node ${e}`),"ERR_NO_PROP");{n.shift(),p=`${p}/${i}`;const o=s.CID.asCID(h[i]);if(o)return{entry:{type:"object",name:t,path:r,cid:e,node:d,depth:a,size:d.length,content:async function*(){yield f}},next:{cid:o,name:i,path:p,toResolve:n}};h=h[i]}}return{entry:{type:"object",name:t,path:r,cid:e,node:d,depth:a,size:d.length,content:async function*(){yield f}}}};var T=r(17578);const C=async(e,t,r,n,i,s,a,c)=>{if(n.length)throw o(new Error(`No link named ${r} found in raw node ${e}`),"ERR_NOT_FOUND");const u=await T.Jx(e.multihash.bytes);return{entry:{type:"identity",name:t,path:r,cid:e,content:(l=u.digest,async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{offset:t,length:r}=b(l.length,e.offset,e.length);yield w(l,0,t,t+r)}),depth:s,size:u.digest.length,node:u.digest}};var l},O={[a.code]:x,[u.code]:I,[c.TU]:P,[l.identity.code]:C};const M=function e(t,r,n,i,s,a,c){const u=O[t.code];if(!u)throw o(new Error(`No resolver for code ${t.code}`),"ERR_NO_RESOLVER");return u(t,r,n,i,e,s,a,c)};var D=r(16586);const B=e=>{if(e instanceof Uint8Array)return{cid:s.CID.decode(e),toResolve:[]};const t=s.CID.asCID(e);if(t)return{cid:t,toResolve:[]};if("string"===typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));const t=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)}(e);return{cid:s.CID.parse(t[0]),toResolve:t.slice(1)}}throw o(new Error(`Unknown path type ${e}`),"ERR_BAD_PATH")};async function*N(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{cid:n,toResolve:i}=B(e),s=n.toString(),a=s;const c=i.length;for(;;){const u=await M(n,s,a,i,c,t,r);if(!u.entry&&!u.next)throw o(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");if(u.entry&&(yield u.entry),!u.next)return;i=u.next.toResolve,n=u.next.cid,s=u.next.name,a=u.next.path}}async function R(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=await D(N(e,t,r));if(!n)throw o(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");return n}async function*j(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=await R(e,t,r);if(n&&(yield n,"directory"===n.type))for await(const o of i(n,r))yield o;async function*i(e,t){for await(const r of e.content(t))yield r,r instanceof Uint8Array||"directory"===r.type&&(yield*i(r,t))}}var L=r(92829),z=r(50183);class U extends z.Ed{constructor(e){super(),this.store=e}async get(e){const t=await this.store.get(e);if(!t)throw new Error(`Incomplete CAR. Block missing for CID ${e}`);if(!async function(e){let{cid:t,bytes:r}=e;return function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}((await L.sha256.digest(r)).digest,t.multihash.digest)}({cid:e,bytes:t}))throw new Error(`Invalid CAR. Hash of block data does not match CID ${e}`);return t}static fromBlockstore(e){return new U(e)}static fromCarReader(e){return new U({get:async t=>{const r=await e.get(t);return null===r||void 0===r?void 0:r.bytes}})}}var K=r(26536);async function*$(e){let{roots:t,blockstore:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await i.vQ.fromIterable(F(e)),o=r||new K.X;for await(const i of n)await o.put(i.cid,i.bytes);const s=U.fromBlockstore(o);t&&0!==t.length||(t=await n.getRoots());for(const i of t)yield*j(i,s)}function F(e){return Symbol.asyncIterator in e?e:n(e)}},72512:(e,t,r)=>{"use strict";r.d(t,{fL:()=>g,tK:()=>y,Xu:()=>m});var n=r(15504),i=r(84389);const o=i.Reader,s=i.Writer,a=i.util,c=i.roots["ipfs-unixfs"]||(i.roots["ipfs-unixfs"]={}),u=c.Data=(()=>{function e(e){if(this.blocksizes=[],e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Type=0,e.prototype.Data=a.newBuffer([]),e.prototype.filesize=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.blocksizes=a.emptyArray,e.prototype.hashType=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.fanout=a.Long?a.Long.fromBits(0,0,!0):0,e.prototype.mode=0,e.prototype.mtime=null,e.encode=function(e,t){if(t||(t=s.create()),t.uint32(8).int32(e.Type),null!=e.Data&&Object.hasOwnProperty.call(e,"Data")&&t.uint32(18).bytes(e.Data),null!=e.filesize&&Object.hasOwnProperty.call(e,"filesize")&&t.uint32(24).uint64(e.filesize),null!=e.blocksizes&&e.blocksizes.length)for(var r=0;r<e.blocksizes.length;++r)t.uint32(32).uint64(e.blocksizes[r]);return null!=e.hashType&&Object.hasOwnProperty.call(e,"hashType")&&t.uint32(40).uint64(e.hashType),null!=e.fanout&&Object.hasOwnProperty.call(e,"fanout")&&t.uint32(48).uint64(e.fanout),null!=e.mode&&Object.hasOwnProperty.call(e,"mode")&&t.uint32(56).uint32(e.mode),null!=e.mtime&&Object.hasOwnProperty.call(e,"mtime")&&c.UnixTime.encode(e.mtime,t.uint32(66).fork()).ldelim(),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new c.Data;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Type=e.int32();break;case 2:n.Data=e.bytes();break;case 3:n.filesize=e.uint64();break;case 4:if(n.blocksizes&&n.blocksizes.length||(n.blocksizes=[]),2===(7&i))for(var s=e.uint32()+e.pos;e.pos<s;)n.blocksizes.push(e.uint64());else n.blocksizes.push(e.uint64());break;case 5:n.hashType=e.uint64();break;case 6:n.fanout=e.uint64();break;case 7:n.mode=e.uint32();break;case 8:n.mtime=c.UnixTime.decode(e,e.uint32());break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Type"))throw a.ProtocolError("missing required 'Type'",{instance:n});return n},e.fromObject=function(e){if(e instanceof c.Data)return e;var t=new c.Data;switch(e.Type){case"Raw":case 0:t.Type=0;break;case"Directory":case 1:t.Type=1;break;case"File":case 2:t.Type=2;break;case"Metadata":case 3:t.Type=3;break;case"Symlink":case 4:t.Type=4;break;case"HAMTShard":case 5:t.Type=5}if(null!=e.Data&&("string"===typeof e.Data?a.base64.decode(e.Data,t.Data=a.newBuffer(a.base64.length(e.Data)),0):e.Data.length&&(t.Data=e.Data)),null!=e.filesize&&(a.Long?(t.filesize=a.Long.fromValue(e.filesize)).unsigned=!0:"string"===typeof e.filesize?t.filesize=parseInt(e.filesize,10):"number"===typeof e.filesize?t.filesize=e.filesize:"object"===typeof e.filesize&&(t.filesize=new a.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0))),e.blocksizes){if(!Array.isArray(e.blocksizes))throw TypeError(".Data.blocksizes: array expected");t.blocksizes=[];for(var r=0;r<e.blocksizes.length;++r)a.Long?(t.blocksizes[r]=a.Long.fromValue(e.blocksizes[r])).unsigned=!0:"string"===typeof e.blocksizes[r]?t.blocksizes[r]=parseInt(e.blocksizes[r],10):"number"===typeof e.blocksizes[r]?t.blocksizes[r]=e.blocksizes[r]:"object"===typeof e.blocksizes[r]&&(t.blocksizes[r]=new a.LongBits(e.blocksizes[r].low>>>0,e.blocksizes[r].high>>>0).toNumber(!0))}if(null!=e.hashType&&(a.Long?(t.hashType=a.Long.fromValue(e.hashType)).unsigned=!0:"string"===typeof e.hashType?t.hashType=parseInt(e.hashType,10):"number"===typeof e.hashType?t.hashType=e.hashType:"object"===typeof e.hashType&&(t.hashType=new a.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0))),null!=e.fanout&&(a.Long?(t.fanout=a.Long.fromValue(e.fanout)).unsigned=!0:"string"===typeof e.fanout?t.fanout=parseInt(e.fanout,10):"number"===typeof e.fanout?t.fanout=e.fanout:"object"===typeof e.fanout&&(t.fanout=new a.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0))),null!=e.mode&&(t.mode=e.mode>>>0),null!=e.mtime){if("object"!==typeof e.mtime)throw TypeError(".Data.mtime: object expected");t.mtime=c.UnixTime.fromObject(e.mtime)}return t},e.toObject=function(e,t){t||(t={});var r={};if((t.arrays||t.defaults)&&(r.blocksizes=[]),t.defaults){if(r.Type=t.enums===String?"Raw":0,t.bytes===String?r.Data="":(r.Data=[],t.bytes!==Array&&(r.Data=a.newBuffer(r.Data))),a.Long){var n=new a.Long(0,0,!0);r.filesize=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.filesize=t.longs===String?"0":0;if(a.Long){n=new a.Long(0,0,!0);r.hashType=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.hashType=t.longs===String?"0":0;if(a.Long){n=new a.Long(0,0,!0);r.fanout=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.fanout=t.longs===String?"0":0;r.mode=0,r.mtime=null}if(null!=e.Type&&e.hasOwnProperty("Type")&&(r.Type=t.enums===String?c.Data.DataType[e.Type]:e.Type),null!=e.Data&&e.hasOwnProperty("Data")&&(r.Data=t.bytes===String?a.base64.encode(e.Data,0,e.Data.length):t.bytes===Array?Array.prototype.slice.call(e.Data):e.Data),null!=e.filesize&&e.hasOwnProperty("filesize")&&("number"===typeof e.filesize?r.filesize=t.longs===String?String(e.filesize):e.filesize:r.filesize=t.longs===String?a.Long.prototype.toString.call(e.filesize):t.longs===Number?new a.LongBits(e.filesize.low>>>0,e.filesize.high>>>0).toNumber(!0):e.filesize),e.blocksizes&&e.blocksizes.length){r.blocksizes=[];for(var i=0;i<e.blocksizes.length;++i)"number"===typeof e.blocksizes[i]?r.blocksizes[i]=t.longs===String?String(e.blocksizes[i]):e.blocksizes[i]:r.blocksizes[i]=t.longs===String?a.Long.prototype.toString.call(e.blocksizes[i]):t.longs===Number?new a.LongBits(e.blocksizes[i].low>>>0,e.blocksizes[i].high>>>0).toNumber(!0):e.blocksizes[i]}return null!=e.hashType&&e.hasOwnProperty("hashType")&&("number"===typeof e.hashType?r.hashType=t.longs===String?String(e.hashType):e.hashType:r.hashType=t.longs===String?a.Long.prototype.toString.call(e.hashType):t.longs===Number?new a.LongBits(e.hashType.low>>>0,e.hashType.high>>>0).toNumber(!0):e.hashType),null!=e.fanout&&e.hasOwnProperty("fanout")&&("number"===typeof e.fanout?r.fanout=t.longs===String?String(e.fanout):e.fanout:r.fanout=t.longs===String?a.Long.prototype.toString.call(e.fanout):t.longs===Number?new a.LongBits(e.fanout.low>>>0,e.fanout.high>>>0).toNumber(!0):e.fanout),null!=e.mode&&e.hasOwnProperty("mode")&&(r.mode=e.mode),null!=e.mtime&&e.hasOwnProperty("mtime")&&(r.mtime=c.UnixTime.toObject(e.mtime,t)),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e.DataType=function(){const e={},t=Object.create(e);return t[e[0]="Raw"]=0,t[e[1]="Directory"]=1,t[e[2]="File"]=2,t[e[3]="Metadata"]=3,t[e[4]="Symlink"]=4,t[e[5]="HAMTShard"]=5,t}(),e})(),l=(c.UnixTime=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.Seconds=a.Long?a.Long.fromBits(0,0,!1):0,e.prototype.FractionalNanoseconds=0,e.encode=function(e,t){return t||(t=s.create()),t.uint32(8).int64(e.Seconds),null!=e.FractionalNanoseconds&&Object.hasOwnProperty.call(e,"FractionalNanoseconds")&&t.uint32(21).fixed32(e.FractionalNanoseconds),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new c.UnixTime;e.pos<r;){var i=e.uint32();switch(i>>>3){case 1:n.Seconds=e.int64();break;case 2:n.FractionalNanoseconds=e.fixed32();break;default:e.skipType(7&i)}}if(!n.hasOwnProperty("Seconds"))throw a.ProtocolError("missing required 'Seconds'",{instance:n});return n},e.fromObject=function(e){if(e instanceof c.UnixTime)return e;var t=new c.UnixTime;return null!=e.Seconds&&(a.Long?(t.Seconds=a.Long.fromValue(e.Seconds)).unsigned=!1:"string"===typeof e.Seconds?t.Seconds=parseInt(e.Seconds,10):"number"===typeof e.Seconds?t.Seconds=e.Seconds:"object"===typeof e.Seconds&&(t.Seconds=new a.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber())),null!=e.FractionalNanoseconds&&(t.FractionalNanoseconds=e.FractionalNanoseconds>>>0),t},e.toObject=function(e,t){t||(t={});var r={};if(t.defaults){if(a.Long){var n=new a.Long(0,0,!1);r.Seconds=t.longs===String?n.toString():t.longs===Number?n.toNumber():n}else r.Seconds=t.longs===String?"0":0;r.FractionalNanoseconds=0}return null!=e.Seconds&&e.hasOwnProperty("Seconds")&&("number"===typeof e.Seconds?r.Seconds=t.longs===String?String(e.Seconds):e.Seconds:r.Seconds=t.longs===String?a.Long.prototype.toString.call(e.Seconds):t.longs===Number?new a.LongBits(e.Seconds.low>>>0,e.Seconds.high>>>0).toNumber():e.Seconds),null!=e.FractionalNanoseconds&&e.hasOwnProperty("FractionalNanoseconds")&&(r.FractionalNanoseconds=e.FractionalNanoseconds),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e})(),c.Metadata=(()=>{function e(e){if(e)for(var t=Object.keys(e),r=0;r<t.length;++r)null!=e[t[r]]&&(this[t[r]]=e[t[r]])}return e.prototype.MimeType="",e.encode=function(e,t){return t||(t=s.create()),null!=e.MimeType&&Object.hasOwnProperty.call(e,"MimeType")&&t.uint32(10).string(e.MimeType),t},e.decode=function(e,t){e instanceof o||(e=o.create(e));for(var r=void 0===t?e.len:e.pos+t,n=new c.Metadata;e.pos<r;){var i=e.uint32();if(i>>>3===1)n.MimeType=e.string();else e.skipType(7&i)}return n},e.fromObject=function(e){if(e instanceof c.Metadata)return e;var t=new c.Metadata;return null!=e.MimeType&&(t.MimeType=String(e.MimeType)),t},e.toObject=function(e,t){t||(t={});var r={};return t.defaults&&(r.MimeType=""),null!=e.MimeType&&e.hasOwnProperty("MimeType")&&(r.MimeType=e.MimeType),r},e.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},e})(),u),d=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],f=["directory","hamt-sharded-directory"],h=parseInt("0644",8),p=parseInt("0755",8);function y(e){if(null!=e)return"number"===typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function m(e){if(null==e)return;let t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){const r=e.getTime(),n=Math.floor(r/1e3);t={secs:n,nsecs:1e3*(r-1e3*n)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw n(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}class g{static unmarshal(e){const t=l.decode(e),r=l.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}),n=new g({type:d[r.Type],data:r.Data,blockSizes:r.blocksizes,mode:r.mode,mtime:r.mtime?{secs:r.mtime.Seconds,nsecs:r.mtime.FractionalNanoseconds}:void 0});return n._originalMode=r.mode||0,n}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"file"};const{type:t,data:r,blockSizes:i,hashType:o,fanout:s,mtime:a,mode:c}=e;if(t&&!d.includes(t))throw n(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t||"file",this.data=r,this.hashType=o,this.fanout=s,this.blockSizes=i||[],this._originalMode=0,this.mode=y(c),a&&(this.mtime=m(a),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?p:h;const t=y(e);void 0!==t&&(this._mode=t)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&f.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach((t=>{e+=t})),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=l.DataType.Raw;break;case"directory":e=l.DataType.Directory;break;case"file":e=l.DataType.File;break;case"metadata":e=l.DataType.Metadata;break;case"symlink":e=l.DataType.Symlink;break;case"hamt-sharded-directory":e=l.DataType.HAMTShard;break;default:throw n(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let t,r,i=this.data;if(this.data&&this.data.length||(i=void 0),null!=this.mode&&(t=4294963200&this._originalMode|(y(this.mode)||0),t!==h||this.isDirectory()||(t=void 0),t===p&&this.isDirectory()&&(t=void 0)),null!=this.mtime){const e=m(this.mtime);e&&(r={Seconds:e.secs,FractionalNanoseconds:e.nsecs},0===r.FractionalNanoseconds&&delete r.FractionalNanoseconds)}const o={Type:e,Data:i,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:r};return l.encode(o).finish()}}},17384:(e,t,r)=>{"use strict";r.d(t,{kU:()=>d,Dp:()=>l,ET:()=>f});const n=function(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==r[s])throw new TypeError(o+" is ambiguous");r[s]=i}var a=e.length,c=e.charAt(0),u=Math.log(a)/Math.log(256),l=Math.log(256)/Math.log(a);function d(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;var t=0;if(" "!==e[t]){for(var n=0,i=0;e[t]===c;)n++,t++;for(var o=(e.length-t)*u+1>>>0,s=new Uint8Array(o);e[t];){var l=r[e.charCodeAt(t)];if(255===l)return;for(var d=0,f=o-1;(0!==l||d<i)&&-1!==f;f--,d++)l+=a*s[f]>>>0,s[f]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");i=d,t++}if(" "!==e[t]){for(var h=o-i;h!==o&&0===s[h];)h++;for(var p=new Uint8Array(n+(o-h)),y=n;h!==o;)p[y++]=s[h++];return p}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var s=(o-i)*l+1>>>0,u=new Uint8Array(s);i!==o;){for(var d=t[i],f=0,h=s-1;(0!==d||f<n)&&-1!==h;h--,f++)d+=256*u[h]>>>0,u[h]=d%a>>>0,d=d/a>>>0;if(0!==d)throw new Error("Non-zero carry");n=f,i++}for(var p=s-n;p!==s&&0===u[p];)p++;for(var y=c.repeat(r);p<s;++p)y+=e.charAt(u[p]);return y},decodeUnsafe:d,decode:function(e){var r=d(e);if(r)return r;throw new Error(`Non-${t} character`)}}};var i=r(17893);class o{constructor(e,t,r){this.name=e,this.prefix=t,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class s{constructor(e,t,r){if(this.name=e,this.prefix=t,void 0===t.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=t.codePointAt(0),this.baseDecode=r}decode(e){if("string"===typeof e){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(e){return c(this,e)}}class a{constructor(e){this.decoders=e}or(e){return c(this,e)}decode(e){const t=e[0],r=this.decoders[t];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const c=(e,t)=>new a({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class u{constructor(e,t,r,n){this.name=e,this.prefix=t,this.baseEncode=r,this.baseDecode=n,this.encoder=new o(e,t,r),this.decoder=new s(e,t,n)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const l=e=>{let{name:t,prefix:r,encode:n,decode:i}=e;return new u(t,r,n,i)},d=e=>{let{prefix:t,name:r,alphabet:o}=e;const{encode:s,decode:a}=n(o,r);return l({prefix:t,name:r,encode:s,decode:e=>(0,i.coerce)(a(e))})},f=e=>{let{name:t,prefix:r,bitsPerChar:n,alphabet:i}=e;return l({prefix:r,name:t,encode:e=>((e,t,r)=>{const n="="===t[t.length-1],i=(1<<r)-1;let o="",s=0,a=0;for(let c=0;c<e.length;++c)for(a=a<<8|e[c],s+=8;s>r;)s-=r,o+=t[i&a>>s];if(s&&(o+=t[i&a<<r-s]),n)for(;o.length*r&7;)o+="=";return o})(e,i,n),decode:e=>((e,t,r,n)=>{const i={};for(let l=0;l<t.length;++l)i[t[l]]=l;let o=e.length;for(;"="===e[o-1];)--o;const s=new Uint8Array(o*r/8|0);let a=0,c=0,u=0;for(let l=0;l<o;++l){const t=i[e[l]];if(void 0===t)throw new SyntaxError(`Non-${n} character`);c=c<<r|t,a+=r,a>=8&&(a-=8,s[u++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return s})(e,i,n,t)})}},79357:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base32:()=>i,base32hex:()=>c,base32hexpad:()=>l,base32hexpadupper:()=>d,base32hexupper:()=>u,base32pad:()=>s,base32padupper:()=>a,base32upper:()=>o,base32z:()=>f});var n=r(17384);const i=(0,n.ET)({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),o=(0,n.ET)({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),s=(0,n.ET)({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),a=(0,n.ET)({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),c=(0,n.ET)({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),u=(0,n.ET)({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),l=(0,n.ET)({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),d=(0,n.ET)({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),f=(0,n.ET)({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5})},43019:(e,t,r)=>{"use strict";r.r(t),r.d(t,{base58btc:()=>i,base58flickr:()=>o});var n=r(17384);const i=(0,n.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),o=(0,n.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},17893:(e,t,r)=>{"use strict";r.r(t),r.d(t,{coerce:()=>a,empty:()=>n,equals:()=>s,fromHex:()=>o,fromString:()=>u,isBinary:()=>c,toHex:()=>i,toString:()=>l});const n=new Uint8Array(0),i=e=>e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),""),o=e=>{const t=e.match(/../g);return t?new Uint8Array(t.map((e=>parseInt(e,16)))):n},s=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},a=e=>{if(e instanceof Uint8Array&&"Uint8Array"===e.constructor.name)return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},c=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),u=e=>(new TextEncoder).encode(e),l=e=>(new TextDecoder).decode(e)},32743:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CID:()=>c});var n=r(81999),i=r(17578),o=r(43019),s=r(79357),a=r(17893);class c{constructor(e,t,r,n){this.code=t,this.version=e,this.multihash=r,this.bytes=n,this.byteOffset=n.byteOffset,this.byteLength=n.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:g,byteLength:g,code:m,version:m,multihash:m,bytes:m,_baseCache:g,asCID:g})}toV0(){if(0===this.version)return this;{const{code:e,multihash:t}=this;if(e!==f)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(t.code!==h)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return c.createV0(t)}}toV1(){switch(this.version){case 0:{const{code:e,digest:t}=this.multihash,r=i.Ue(e,t);return c.createV1(this.code,r)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(e){return e&&this.code===e.code&&this.version===e.version&&i.fS(this.multihash,e.multihash)}toString(e){const{bytes:t,version:r,_baseCache:n}=this;return 0===r?l(t,n,e||o.base58btc.encoder):d(t,n,e||s.base32.encoder)}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(e){return w(/^0\.0/,b),!(!e||!e[y]&&e.asCID!==e)}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(e){if(e instanceof c)return e;if(null!=e&&e.asCID===e){const{version:t,code:r,multihash:n,bytes:i}=e;return new c(t,r,n,i||p(t,r,n.bytes))}if(null!=e&&!0===e[y]){const{version:t,multihash:r,code:n}=e,o=i.Jx(r);return c.create(t,n,o)}return null}static create(e,t,r){if("number"!==typeof t)throw new Error("String codecs are no longer supported");switch(e){case 0:if(t!==f)throw new Error(`Version 0 CID must use dag-pb (code: ${f}) block encoding`);return new c(e,t,r,r.bytes);case 1:{const n=p(e,t,r.bytes);return new c(e,t,r,n)}default:throw new Error("Invalid version")}}static createV0(e){return c.create(0,f,e)}static createV1(e,t){return c.create(1,e,t)}static decode(e){const[t,r]=c.decodeFirst(e);if(r.length)throw new Error("Incorrect length");return t}static decodeFirst(e){const t=c.inspectBytes(e),r=t.size-t.multihashSize,n=(0,a.coerce)(e.subarray(r,r+t.multihashSize));if(n.byteLength!==t.multihashSize)throw new Error("Incorrect length");const o=n.subarray(t.multihashSize-t.digestSize),s=new i.zZ(t.multihashCode,t.digestSize,o,n);return[0===t.version?c.createV0(s):c.createV1(t.codec,s),e.subarray(t.size)]}static inspectBytes(e){let t=0;const r=()=>{const[r,i]=n.Jx(e.subarray(t));return t+=i,r};let i=r(),o=f;if(18===i?(i=0,t=0):1===i&&(o=r()),0!==i&&1!==i)throw new RangeError(`Invalid CID version ${i}`);const s=t,a=r(),c=r(),u=t+c;return{version:i,codec:o,multihashCode:a,digestSize:c,multihashSize:u-s,size:u}}static parse(e,t){const[r,n]=u(e,t),i=c.decode(n);return i._baseCache.set(r,e),i}}const u=(e,t)=>{switch(e[0]){case"Q":{const r=t||o.base58btc;return[o.base58btc.prefix,r.decode(`${o.base58btc.prefix}${e}`)]}case o.base58btc.prefix:{const r=t||o.base58btc;return[o.base58btc.prefix,r.decode(e)]}case s.base32.prefix:{const r=t||s.base32;return[s.base32.prefix,r.decode(e)]}default:if(null==t)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}},l=(e,t,r)=>{const{prefix:n}=r;if(n!==o.base58btc.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);const i=t.get(n);if(null==i){const i=r.encode(e).slice(1);return t.set(n,i),i}return i},d=(e,t,r)=>{const{prefix:n}=r,i=t.get(n);if(null==i){const i=r.encode(e);return t.set(n,i),i}return i},f=112,h=18,p=(e,t,r)=>{const i=n.P$(e),o=i+n.P$(t),s=new Uint8Array(o+r.byteLength);return n.mL(e,s,0),n.mL(t,s,i),s.set(r,o),s},y=Symbol.for("@ipld/js-cid/CID"),m={writable:!1,configurable:!1,enumerable:!0},g={writable:!1,enumerable:!1,configurable:!1},w=(e,t)=>{if(!e.test("0.0.0-dev"))throw new Error(t);console.warn(t)},b="CID.isCID(v) is deprecated and will be removed in the next major release.\nFollowing code pattern:\n\nif (CID.isCID(value)) {\n  doSomethingWithCID(value)\n}\n\nIs replaced with:\n\nconst cid = CID.asCID(value)\nif (cid) {\n  // Make sure to use cid instead of value\n  doSomethingWithCID(cid)\n}\n"},96602:(e,t,r)=>{"use strict";r.r(t),r.d(t,{code:()=>o,decode:()=>a,encode:()=>s,name:()=>i});var n=r(17893);const i="raw",o=85,s=e=>(0,n.coerce)(e),a=e=>(0,n.coerce)(e)},17578:(e,t,r)=>{"use strict";r.d(t,{Jx:()=>s,Ue:()=>o,fS:()=>a,zZ:()=>c});var n=r(17893),i=r(81999);const o=(e,t)=>{const r=t.byteLength,n=i.P$(e),o=n+i.P$(r),s=new Uint8Array(o+r);return i.mL(e,s,0),i.mL(r,s,n),s.set(t,o),new c(e,r,t,s)},s=e=>{const t=(0,n.coerce)(e),[r,o]=i.Jx(t),[s,a]=i.Jx(t.subarray(o)),u=t.subarray(o+a);if(u.byteLength!==s)throw new Error("Incorrect length");return new c(r,s,u,t)},a=(e,t)=>e===t||e.code===t.code&&e.size===t.size&&(0,n.equals)(e.bytes,t.bytes);class c{constructor(e,t,r,n){this.code=e,this.size=t,this.digest=r,this.bytes=n}}},40668:(e,t,r)=>{"use strict";r.d(t,{D:()=>i});var n=r(17578);const i=e=>{let{name:t,code:r,encode:n}=e;return new o(t,r,n)};class o{constructor(e,t,r){this.name=e,this.code=t,this.encode=r}digest(e){if(e instanceof Uint8Array){const t=this.encode(e);return t instanceof Uint8Array?n.Ue(this.code,t):t.then((e=>n.Ue(this.code,e)))}throw Error("Unknown type, must be binary type")}}},80073:(e,t,r)=>{"use strict";r.r(t),r.d(t,{identity:()=>s});var n=r(17893),i=r(17578);const o=n.coerce,s={code:0,name:"identity",encode:o,digest:e=>i.Ue(0,o(e))}},92829:(e,t,r)=>{"use strict";r.r(t),r.d(t,{sha256:()=>o,sha512:()=>s});var n=r(40668);const i=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),o=(0,n.D)({name:"sha2-256",code:18,encode:i("SHA-256")}),s=(0,n.D)({name:"sha2-512",code:19,encode:i("SHA-512")})},28546:(e,t,r)=>{"use strict";r.d(t,{aI:()=>i,k0:()=>n.CID});var n=r(32743),i=(r(81999),r(17893));r(40668),r(17578)},81999:(e,t,r)=>{"use strict";r.d(t,{Jx:()=>m,mL:()=>g,P$:()=>w});var n=function e(t,r,n){r=r||[];var o=n=n||0;for(;t>=i;)r[n++]=255&t|128,t/=128;for(;-128&t;)r[n++]=255&t|128,t>>>=7;return r[n]=0|t,e.bytes=n-o+1,r},i=Math.pow(2,31);var o=function e(t,r){var n,i=0,o=0,s=r=r||0,a=t.length;do{if(s>=a)throw e.bytes=0,new RangeError("Could not decode varint");n=t[s++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=s-r,i};var s=Math.pow(2,7),a=Math.pow(2,14),c=Math.pow(2,21),u=Math.pow(2,28),l=Math.pow(2,35),d=Math.pow(2,42),f=Math.pow(2,49),h=Math.pow(2,56),p=Math.pow(2,63);const y={encode:n,decode:o,encodingLength:function(e){return e<s?1:e<a?2:e<c?3:e<u?4:e<l?5:e<d?6:e<f?7:e<h?8:e<p?9:10}},m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const r=y.decode(e,t);return[r,y.decode.bytes]},g=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return y.encode(e,t,r),t},w=e=>y.encodingLength(e)},65846:(e,t,r)=>{"use strict";r.d(t,{vs:()=>s});Symbol("TIMEOUT");function n(e){if("function"===typeof e.next)return e;if("function"===typeof e[Symbol.iterator])return e[Symbol.iterator]();if("function"===typeof e[Symbol.asyncIterator])return e[Symbol.asyncIterator]();throw new TypeError('"values" does not to conform to any of the iterator or iterable protocols')}function i(){let e,t;return{promise:new Promise(((r,n)=>{t=r,e=n})),reject:e,resolve:t}}function o(e,t,r){const o=n(r),s=[],a=[];let c=!1,u=!1,l=0,d=null;function f(){for(;a.length>0&&s.length>0;){const{resolve:e}=a.shift();e({done:!1,value:s.shift()})}for(;a.length>0&&0===l&&c;){const{resolve:e,reject:t}=a.shift();d?(t(d),d=null):e({done:!0,value:void 0})}}async function h(){if(c)f();else if(!u&&!(l+s.length>=e)){u=!0,l++;try{const{done:e,value:r}=await o.next();e?(c=!0,l--,f()):async function(e){try{const r=await t(e);s.push(r)}catch(r){c=!0,d=r}l--,f(),h()}(r)}catch(r){c=!0,l--,d=r,f()}u=!1,h()}}const p={next:async function(){if(0===s.length){const e=i();return a.push(e),h(),e.promise}const e=s.shift();return h(),{done:!1,value:e}},[Symbol.asyncIterator]:()=>p};return p}function s(e,t,r){return void 0===t?(t,r)=>r?s(e,t,r):s(e,t):void 0===r?r=>s(e,t,r):o(e,t,r)}},11793:(e,t,r)=>{"use strict";r.d(t,{E:()=>i});var n=r(31873);function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?(0,n.P)(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}},52769:(e,t,r)=>{"use strict";r.r(t),r.d(t,{concat:()=>o});var n=r(11793),i=r(31873);function o(e,t){t||(t=e.reduce(((e,t)=>e+t.length),0));const r=(0,n.E)(t);let o=0;for(const n of e)r.set(n,o),o+=n.length;return(0,i.P)(r)}},58524:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fromString:()=>q});var n={};r.r(n),r.d(n,{identity:()=>p});var i={};r.r(i),r.d(i,{base2:()=>y});var o={};r.r(o),r.d(o,{base8:()=>m});var s={};r.r(s),r.d(s,{base10:()=>g});var a={};r.r(a),r.d(a,{base16:()=>w,base16upper:()=>b});var c={};r.r(c),r.d(c,{base36:()=>A,base36upper:()=>_});var u={};r.r(u),r.d(u,{base64:()=>S,base64pad:()=>k,base64url:()=>x,base64urlpad:()=>I});var l={};r.r(l),r.d(l,{base256emoji:()=>O});var d={};r.r(d),r.d(d,{code:()=>j,decode:()=>z,encode:()=>L,name:()=>R});var f=r(17384),h=r(17893);const p=(0,f.Dp)({prefix:"\0",name:"identity",encode:e=>(0,h.toString)(e),decode:e=>(0,h.fromString)(e)}),y=(0,f.ET)({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),m=(0,f.ET)({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),g=(0,f.kU)({prefix:"9",name:"base10",alphabet:"0123456789"}),w=(0,f.ET)({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),b=(0,f.ET)({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var v=r(79357);const A=(0,f.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),_=(0,f.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var E=r(43019);const S=(0,f.ET)({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),k=(0,f.ET)({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),x=(0,f.ET)({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),I=(0,f.ET)({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),P=Array.from("\ud83d\ude80\ud83e\ude90\u2604\ud83d\udef0\ud83c\udf0c\ud83c\udf11\ud83c\udf12\ud83c\udf13\ud83c\udf14\ud83c\udf15\ud83c\udf16\ud83c\udf17\ud83c\udf18\ud83c\udf0d\ud83c\udf0f\ud83c\udf0e\ud83d\udc09\u2600\ud83d\udcbb\ud83d\udda5\ud83d\udcbe\ud83d\udcbf\ud83d\ude02\u2764\ud83d\ude0d\ud83e\udd23\ud83d\ude0a\ud83d\ude4f\ud83d\udc95\ud83d\ude2d\ud83d\ude18\ud83d\udc4d\ud83d\ude05\ud83d\udc4f\ud83d\ude01\ud83d\udd25\ud83e\udd70\ud83d\udc94\ud83d\udc96\ud83d\udc99\ud83d\ude22\ud83e\udd14\ud83d\ude06\ud83d\ude44\ud83d\udcaa\ud83d\ude09\u263a\ud83d\udc4c\ud83e\udd17\ud83d\udc9c\ud83d\ude14\ud83d\ude0e\ud83d\ude07\ud83c\udf39\ud83e\udd26\ud83c\udf89\ud83d\udc9e\u270c\u2728\ud83e\udd37\ud83d\ude31\ud83d\ude0c\ud83c\udf38\ud83d\ude4c\ud83d\ude0b\ud83d\udc97\ud83d\udc9a\ud83d\ude0f\ud83d\udc9b\ud83d\ude42\ud83d\udc93\ud83e\udd29\ud83d\ude04\ud83d\ude00\ud83d\udda4\ud83d\ude03\ud83d\udcaf\ud83d\ude48\ud83d\udc47\ud83c\udfb6\ud83d\ude12\ud83e\udd2d\u2763\ud83d\ude1c\ud83d\udc8b\ud83d\udc40\ud83d\ude2a\ud83d\ude11\ud83d\udca5\ud83d\ude4b\ud83d\ude1e\ud83d\ude29\ud83d\ude21\ud83e\udd2a\ud83d\udc4a\ud83e\udd73\ud83d\ude25\ud83e\udd24\ud83d\udc49\ud83d\udc83\ud83d\ude33\u270b\ud83d\ude1a\ud83d\ude1d\ud83d\ude34\ud83c\udf1f\ud83d\ude2c\ud83d\ude43\ud83c\udf40\ud83c\udf37\ud83d\ude3b\ud83d\ude13\u2b50\u2705\ud83e\udd7a\ud83c\udf08\ud83d\ude08\ud83e\udd18\ud83d\udca6\u2714\ud83d\ude23\ud83c\udfc3\ud83d\udc90\u2639\ud83c\udf8a\ud83d\udc98\ud83d\ude20\u261d\ud83d\ude15\ud83c\udf3a\ud83c\udf82\ud83c\udf3b\ud83d\ude10\ud83d\udd95\ud83d\udc9d\ud83d\ude4a\ud83d\ude39\ud83d\udde3\ud83d\udcab\ud83d\udc80\ud83d\udc51\ud83c\udfb5\ud83e\udd1e\ud83d\ude1b\ud83d\udd34\ud83d\ude24\ud83c\udf3c\ud83d\ude2b\u26bd\ud83e\udd19\u2615\ud83c\udfc6\ud83e\udd2b\ud83d\udc48\ud83d\ude2e\ud83d\ude46\ud83c\udf7b\ud83c\udf43\ud83d\udc36\ud83d\udc81\ud83d\ude32\ud83c\udf3f\ud83e\udde1\ud83c\udf81\u26a1\ud83c\udf1e\ud83c\udf88\u274c\u270a\ud83d\udc4b\ud83d\ude30\ud83e\udd28\ud83d\ude36\ud83e\udd1d\ud83d\udeb6\ud83d\udcb0\ud83c\udf53\ud83d\udca2\ud83e\udd1f\ud83d\ude41\ud83d\udea8\ud83d\udca8\ud83e\udd2c\u2708\ud83c\udf80\ud83c\udf7a\ud83e\udd13\ud83d\ude19\ud83d\udc9f\ud83c\udf31\ud83d\ude16\ud83d\udc76\ud83e\udd74\u25b6\u27a1\u2753\ud83d\udc8e\ud83d\udcb8\u2b07\ud83d\ude28\ud83c\udf1a\ud83e\udd8b\ud83d\ude37\ud83d\udd7a\u26a0\ud83d\ude45\ud83d\ude1f\ud83d\ude35\ud83d\udc4e\ud83e\udd32\ud83e\udd20\ud83e\udd27\ud83d\udccc\ud83d\udd35\ud83d\udc85\ud83e\uddd0\ud83d\udc3e\ud83c\udf52\ud83d\ude17\ud83e\udd11\ud83c\udf0a\ud83e\udd2f\ud83d\udc37\u260e\ud83d\udca7\ud83d\ude2f\ud83d\udc86\ud83d\udc46\ud83c\udfa4\ud83d\ude47\ud83c\udf51\u2744\ud83c\udf34\ud83d\udca3\ud83d\udc38\ud83d\udc8c\ud83d\udccd\ud83e\udd40\ud83e\udd22\ud83d\udc45\ud83d\udca1\ud83d\udca9\ud83d\udc50\ud83d\udcf8\ud83d\udc7b\ud83e\udd10\ud83e\udd2e\ud83c\udfbc\ud83e\udd75\ud83d\udea9\ud83c\udf4e\ud83c\udf4a\ud83d\udc7c\ud83d\udc8d\ud83d\udce3\ud83e\udd42"),T=P.reduce(((e,t,r)=>(e[r]=t,e)),[]),C=P.reduce(((e,t,r)=>(e[t.codePointAt(0)]=r,e)),[]);const O=(0,f.Dp)({prefix:"\ud83d\ude80",name:"base256emoji",encode:function(e){return e.reduce(((e,t)=>e+=T[t]),"")},decode:function(e){const t=[];for(const r of e){const e=C[r.codePointAt(0)];if(void 0===e)throw new Error(`Non-base256emoji character: ${r}`);t.push(e)}return new Uint8Array(t)}});var M=r(92829),D=r(80073);r(96602);const B=new TextEncoder,N=new TextDecoder,R="json",j=512,L=e=>B.encode(JSON.stringify(e)),z=e=>JSON.parse(N.decode(e));r(28546);const U={...n,...i,...o,...s,...a,...v,...c,...E,...u,...l};var K=r(11793);function $(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const F=$("utf8","u",(e=>"u"+new TextDecoder("utf8").decode(e)),(e=>(new TextEncoder).encode(e.substring(1)))),V=$("ascii","a",(e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}),(e=>{e=e.substring(1);const t=(0,K.E)(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),H={utf8:F,"utf-8":F,hex:U.base16,latin1:V,ascii:V,binary:V,...U};var W=r(31873);function q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const r=H[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return"utf8"!==t&&"utf-8"!==t||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${e}`):(0,W.P)(globalThis.Buffer.from(e,"utf-8"))}},31873:(e,t,r)=>{"use strict";function n(e){return null!=globalThis.Buffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}r.d(t,{P:()=>n})},76026:(e,t,r)=>{"use strict";r.d(t,{$B:()=>p,xk:()=>_});var n=r(65846),i=r(67746),o=r(1775),s=r(98548),a=r(34933),c=r(77763),u=r(33101),l=r(92358),d=r(26536);const f=globalThis.fetch,h=(globalThis.Request,globalThis.Response,globalThis.Blob),p=globalThis.File,y=d.X,m=5,g=10485760,w=1048576,b=104857600;function v(){const e=l(30,1e4);return()=>e((()=>{}))}const A=v();class _{constructor(e){let{token:t,endpoint:r=new URL("https://api.web3.storage"),rateLimiter:n}=e;this.token=t,this.endpoint=r,this.rateLimiter=n||v()}static headers(e){if(!e)throw new Error("missing token");return{Authorization:`Bearer ${e}`,"X-Client":"web3.storage/js"}}static async put(e,t){let{endpoint:r,token:n,rateLimiter:i=A}=e,{onRootCidReady:s,onStoredChunk:a,maxRetries:c=m,maxChunkSize:l=g,wrapWithDirectory:d=!0,name:f}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(l>=b||l<w)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const h=new y;try{const{out:e,root:p}=await(0,o.P)({input:Array.from(t).map(S),blockstore:h,wrapWithDirectory:d,maxChunkSize:w,maxChildrenPerNode:1024});s&&s(p.toString());const y=await u.tL.fromIterable(e);return await _.putCar({endpoint:r,token:n,rateLimiter:i},y,{onStoredChunk:a,maxRetries:c,maxChunkSize:l,name:f})}finally{await h.close()}}static async putCar(e,t){let{endpoint:r,token:o,rateLimiter:s=A}=e,{name:a,onStoredChunk:u,maxRetries:l=m,maxChunkSize:d=g,decoders:p}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(d>=b||d<w)throw new Error("maximum chunk size must be less than 100MiB and greater than or equal to 1MB");const y=d,v=new URL("car",r);let E=_.headers(o);a&&(E={...E,"X-Name":encodeURIComponent(a)});const S=await t.getRoots();if(null==S[0])throw new Error("missing root CID");if(S.length>1)throw new Error("too many roots");const k=S[0].toString(),x=new c.o(t,y,{decoders:p}),I=(0,n.vs)(3,(async e=>{const t=[];for await(const i of e)t.push(i);const r=new h(t,{type:"application/vnd.ipld.car"}),n=await i((async()=>{await s();const e=await f(v.toString(),{method:"POST",headers:E,body:r});if(429===e.status)throw new Error("rate limited");const t=await e.json();if(!e.ok)throw new Error(t.message);if(t.cid!==k)throw new Error(`root CID mismatch, expected: ${k}, received: ${t.cid}`);return t.cid}),{retries:l});return u&&u(r.size),n}));for await(const n of I(x.cars()));return k}static async get(e,t){let{endpoint:r,token:n,rateLimiter:i=A}=e;const o=new URL(`car/${t}`,r);await i();const s=await f(o.toString(),{method:"GET",headers:_.headers(n)});if(429===s.status)throw new Error("rate limited");return function(e){const t=Object.assign(e,{unixFsIterator:async function*(){if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .unixFsIterator`);if(!e.body)throw new Error("No body on response");const t=new y;try{for await(const r of(0,a.I)(e.body,{blockstore:t}))yield r}finally{await t.close()}},files:async()=>{if(!e.ok)throw new Error(`Response was not ok: ${e.status} ${e.statusText} - Check for { "ok": false } on the Response object before calling .files`);const r=[];for await(const e of t.unixFsIterator()){if("directory"===e.type)continue;const t=await E(e);r.push(t)}return r}});return t}(s)}static async delete(e,t){let{endpoint:r,token:n,rateLimiter:i=A}=e;throw console.log("Not deleting",t,r,n,i),Error(".delete not implemented yet")}static async status(e,t){let{endpoint:r,token:n,rateLimiter:i=A}=e;const o=new URL(`status/${t}`,r);await i();const s=await f(o.toString(),{method:"GET",headers:_.headers(n)});if(429===s.status)throw new Error("rate limited");if(404!==s.status){if(!s.ok)throw new Error(s.statusText);return s.json()}}static async*list(e){let{before:t=(new Date).toISOString(),maxResults:r=1/0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};let n=0;const i=r>100?100:r;for await(const o of async function*(e,t,r){let n=await e(t,r);yield n;let i=(0,s.d)(n.headers.get("Link")||"");for(;i&&i.next;)n=await e(t,i.next),yield n,i=(0,s.d)(n.headers.get("Link")||"")}((async function(e,t){let{endpoint:r,token:n,rateLimiter:i=A}=e,{before:o,size:s}=t;const a=new URLSearchParams({before:o,size:s.toString()}),c=new URL(`user/uploads?${a}`,r);return await i(),f(c.toString(),{method:"GET",headers:{..._.headers(n),"Access-Control-Request-Headers":"Link"}})}),e,{before:t,size:i})){if(!o.ok){if(429===o.status)throw new Error("rate limited");const e=await o.json();throw new Error(`${o.status} ${o.statusText} ${e?"- "+e.message:""}`)}const e=await o.json();for(const t of e){if(++n>r)return;yield t}}}put(e,t){return _.put(this,e,t)}putCar(e,t){return _.putCar(this,e,t)}get(e){return _.get(this,e)}delete(e){return _.delete(this,e)}status(e){return _.status(this,e)}list(e){return _.list(this,e)}}async function E(e){let{content:t,path:r,cid:n}=e;const i=[];for await(const s of t())i.push(s);const o=new p(i,function(e){const t=e.indexOf("/");return-1===t?e:e.substring(t+1)}(r));return Object.assign(o,{cid:n.toString()})}function S(e){let t;return{path:e.name,get content(){return t=t||e.stream(),t}}}}}]);
//# sourceMappingURL=vendors-node_modules_interdao_core_dist_app_index_js-node_modules_sen-use_app_dist_components-3ddd74.ff91d7d5.chunk.js.map