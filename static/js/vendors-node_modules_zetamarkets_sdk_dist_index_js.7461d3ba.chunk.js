/*! For license information please see vendors-node_modules_zetamarkets_sdk_dist_index_js.7461d3ba.chunk.js.LICENSE.txt */
(globalThis.webpackChunkinter_dao=globalThis.webpackChunkinter_dao||[]).push([["vendors-node_modules_zetamarkets_sdk_dist_index_js"],{89768:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstructionErrorResponse=t.KNOWN_PROGRAMS=t.DexError=void 0;const n=r(71256),i=r(1127),s=r(63786);var o;!function(e){e[e.InvalidMarketFlags=0]="InvalidMarketFlags",e[e.InvalidAskFlags=1]="InvalidAskFlags",e[e.InvalidBidFlags=2]="InvalidBidFlags",e[e.InvalidQueueLength=3]="InvalidQueueLength",e[e.OwnerAccountNotProvided=4]="OwnerAccountNotProvided",e[e.ConsumeEventsQueueFailure=5]="ConsumeEventsQueueFailure",e[e.WrongCoinVault=6]="WrongCoinVault",e[e.WrongPcVault=7]="WrongPcVault",e[e.WrongCoinMint=8]="WrongCoinMint",e[e.WrongPcMint=9]="WrongPcMint",e[e.CoinVaultProgramId=10]="CoinVaultProgramId",e[e.PcVaultProgramId=11]="PcVaultProgramId",e[e.CoinMintProgramId=12]="CoinMintProgramId",e[e.PcMintProgramId=13]="PcMintProgramId",e[e.WrongCoinMintSize=14]="WrongCoinMintSize",e[e.WrongPcMintSize=15]="WrongPcMintSize",e[e.WrongCoinVaultSize=16]="WrongCoinVaultSize",e[e.WrongPcVaultSize=17]="WrongPcVaultSize",e[e.UninitializedVault=18]="UninitializedVault",e[e.UninitializedMint=19]="UninitializedMint",e[e.CoinMintUninitialized=20]="CoinMintUninitialized",e[e.PcMintUninitialized=21]="PcMintUninitialized",e[e.WrongMint=22]="WrongMint",e[e.WrongVaultOwner=23]="WrongVaultOwner",e[e.VaultHasDelegate=24]="VaultHasDelegate",e[e.AlreadyInitialized=25]="AlreadyInitialized",e[e.WrongAccountDataAlignment=26]="WrongAccountDataAlignment",e[e.WrongAccountDataPaddingLength=27]="WrongAccountDataPaddingLength",e[e.WrongAccountHeadPadding=28]="WrongAccountHeadPadding",e[e.WrongAccountTailPadding=29]="WrongAccountTailPadding",e[e.RequestQueueEmpty=30]="RequestQueueEmpty",e[e.EventQueueTooSmall=31]="EventQueueTooSmall",e[e.SlabTooSmall=32]="SlabTooSmall",e[e.BadVaultSignerNonce=33]="BadVaultSignerNonce",e[e.InsufficientFunds=34]="InsufficientFunds",e[e.SplAccountProgramId=35]="SplAccountProgramId",e[e.SplAccountLen=36]="SplAccountLen",e[e.WrongFeeDiscountAccountOwner=37]="WrongFeeDiscountAccountOwner",e[e.WrongFeeDiscountMint=38]="WrongFeeDiscountMint",e[e.CoinPayerProgramId=39]="CoinPayerProgramId",e[e.PcPayerProgramId=40]="PcPayerProgramId",e[e.ClientIdNotFound=41]="ClientIdNotFound",e[e.TooManyOpenOrders=42]="TooManyOpenOrders",e[e.FakeErrorSoWeDontChangeNumbers=43]="FakeErrorSoWeDontChangeNumbers",e[e.BorrowError=44]="BorrowError",e[e.WrongOrdersAccount=45]="WrongOrdersAccount",e[e.WrongBidsAccount=46]="WrongBidsAccount",e[e.WrongAsksAccount=47]="WrongAsksAccount",e[e.WrongRequestQueueAccount=48]="WrongRequestQueueAccount",e[e.WrongEventQueueAccount=49]="WrongEventQueueAccount",e[e.RequestQueueFull=50]="RequestQueueFull",e[e.EventQueueFull=51]="EventQueueFull",e[e.MarketIsDisabled=52]="MarketIsDisabled",e[e.WrongSigner=53]="WrongSigner",e[e.TransferFailed=54]="TransferFailed",e[e.ClientOrderIdIsZero=55]="ClientOrderIdIsZero",e[e.WrongRentSysvarAccount=56]="WrongRentSysvarAccount",e[e.RentNotProvided=57]="RentNotProvided",e[e.OrdersNotRentExempt=58]="OrdersNotRentExempt",e[e.OrderNotFound=59]="OrderNotFound",e[e.OrderNotYours=60]="OrderNotYours",e[e.WouldSelfTrade=61]="WouldSelfTrade",e[e.Unknown=1e3]="Unknown"}(o=t.DexError||(t.DexError={})),t.KNOWN_PROGRAMS={[s.TOKEN_PROGRAM_ID.toString()]:"Token program",[n.SystemProgram.programId.toString()]:"System program"},t.parseInstructionErrorResponse=function(e,r){const[n,s]=r,a=e.instructions[n];let u;if(a.programId.toString()in i.PROGRAM_LAYOUT_VERSIONS)u=o[s.Custom];else if(a.programId.toString()in t.KNOWN_PROGRAMS){u=`${t.KNOWN_PROGRAMS[a.programId.toString()]} error ${s.Custom}`}else u=`Unknown program ${a.programId.toString()} custom error: ${s.Custom}`;return{failedInstructionIndex:n,error:u,failedProgram:a.programId.toString()}}},12463:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeeTier=t.getFeeRates=t.supportsSrmFeeDiscounts=void 0;const n=r(1127);t.supportsSrmFeeDiscounts=function(e){return n.getLayoutVersion(e)>1},t.getFeeRates=function(e){return 1===e?{taker:.002,maker:-3e-4}:2===e?{taker:.0018,maker:-3e-4}:3===e?{taker:.0016,maker:-3e-4}:4===e?{taker:.0014,maker:-3e-4}:5===e?{taker:.0012,maker:-3e-4}:6===e?{taker:.001,maker:-5e-4}:{taker:.0022,maker:-3e-4}},t.getFeeTier=function(e,t){return e>=1?6:t>=1e6?5:t>=1e5?4:t>=1e4?3:t>=1e3?2:t>=100?1:0}},94706:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.ReferralFees=t.OpenOrdersPda=t.MarketProxyBuilder=t.MarketProxy=t.TokenInstructions=t.EVENT_QUEUE_LAYOUT=t.REQUEST_QUEUE_LAYOUT=t.decodeRequestQueue=t.decodeEventQueue=t.getLayoutVersion=t.MARKETS=t.TOKEN_MINTS=t.supportsSrmFeeDiscounts=t.getFeeRates=t.getFeeTier=t.NEW_ORDER_V3_OWNER_INDEX=t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=t.NEW_ORDER_OWNER_INDEX=t.NEW_ORDER_OPEN_ORDERS_INDEX=t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=t.SETTLE_FUNDS_BASE_WALLET_INDEX=t.decodeInstruction=t.DexInstructions=t.MARKET_STATE_LAYOUT_V2=t.MARKET_STATE_LAYOUT_V3=t.OpenOrders=t.Orderbook=t.Market=void 0;var a=r(83989);Object.defineProperty(t,"Market",{enumerable:!0,get:function(){return a.Market}}),Object.defineProperty(t,"Orderbook",{enumerable:!0,get:function(){return a.Orderbook}}),Object.defineProperty(t,"OpenOrders",{enumerable:!0,get:function(){return a.OpenOrders}}),Object.defineProperty(t,"MARKET_STATE_LAYOUT_V3",{enumerable:!0,get:function(){return a.MARKET_STATE_LAYOUT_V3}}),Object.defineProperty(t,"MARKET_STATE_LAYOUT_V2",{enumerable:!0,get:function(){return a.MARKET_STATE_LAYOUT_V2}});var u=r(2936);Object.defineProperty(t,"DexInstructions",{enumerable:!0,get:function(){return u.DexInstructions}}),Object.defineProperty(t,"decodeInstruction",{enumerable:!0,get:function(){return u.decodeInstruction}}),Object.defineProperty(t,"SETTLE_FUNDS_BASE_WALLET_INDEX",{enumerable:!0,get:function(){return u.SETTLE_FUNDS_BASE_WALLET_INDEX}}),Object.defineProperty(t,"SETTLE_FUNDS_QUOTE_WALLET_INDEX",{enumerable:!0,get:function(){return u.SETTLE_FUNDS_QUOTE_WALLET_INDEX}}),Object.defineProperty(t,"NEW_ORDER_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_OPEN_ORDERS_INDEX}}),Object.defineProperty(t,"NEW_ORDER_OWNER_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_OWNER_INDEX}}),Object.defineProperty(t,"NEW_ORDER_V3_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_V3_OPEN_ORDERS_INDEX}}),Object.defineProperty(t,"NEW_ORDER_V3_OWNER_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_V3_OWNER_INDEX}});var c=r(12463);Object.defineProperty(t,"getFeeTier",{enumerable:!0,get:function(){return c.getFeeTier}}),Object.defineProperty(t,"getFeeRates",{enumerable:!0,get:function(){return c.getFeeRates}}),Object.defineProperty(t,"supportsSrmFeeDiscounts",{enumerable:!0,get:function(){return c.supportsSrmFeeDiscounts}});var d=r(1127);Object.defineProperty(t,"TOKEN_MINTS",{enumerable:!0,get:function(){return d.TOKEN_MINTS}}),Object.defineProperty(t,"MARKETS",{enumerable:!0,get:function(){return d.MARKETS}}),Object.defineProperty(t,"getLayoutVersion",{enumerable:!0,get:function(){return d.getLayoutVersion}});var l=r(31472);Object.defineProperty(t,"decodeEventQueue",{enumerable:!0,get:function(){return l.decodeEventQueue}}),Object.defineProperty(t,"decodeRequestQueue",{enumerable:!0,get:function(){return l.decodeRequestQueue}}),Object.defineProperty(t,"REQUEST_QUEUE_LAYOUT",{enumerable:!0,get:function(){return l.REQUEST_QUEUE_LAYOUT}}),Object.defineProperty(t,"EVENT_QUEUE_LAYOUT",{enumerable:!0,get:function(){return l.EVENT_QUEUE_LAYOUT}}),t.TokenInstructions=s(r(63786)),o(r(89768),t);var h=r(87002);Object.defineProperty(t,"MarketProxy",{enumerable:!0,get:function(){return h.MarketProxy}}),Object.defineProperty(t,"MarketProxyBuilder",{enumerable:!0,get:function(){return h.MarketProxyBuilder}});var f=r(18786);Object.defineProperty(t,"OpenOrdersPda",{enumerable:!0,get:function(){return f.OpenOrdersPda}}),Object.defineProperty(t,"ReferralFees",{enumerable:!0,get:function(){return f.ReferralFees}}),Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return f.Logger}})},2936:(e,t,r)=>{"use strict";var n=r(36897).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.DexInstructions=t.decodeInstruction=t.encodeInstruction=t.INSTRUCTION_LAYOUT=t.NEW_ORDER_V3_OWNER_INDEX=t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=t.NEW_ORDER_OWNER_INDEX=t.NEW_ORDER_OPEN_ORDERS_INDEX=t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=t.SETTLE_FUNDS_BASE_WALLET_INDEX=void 0;const i=r(12324),s=r(84321),o=r(71256),a=r(63786);function u(e){const r=n.alloc(100);return r.slice(0,t.INSTRUCTION_LAYOUT.encode(e,r))}t.SETTLE_FUNDS_BASE_WALLET_INDEX=5,t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=6,t.NEW_ORDER_OPEN_ORDERS_INDEX=1,t.NEW_ORDER_OWNER_INDEX=4,t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=1,t.NEW_ORDER_V3_OWNER_INDEX=7,t.INSTRUCTION_LAYOUT=new s.VersionedLayout(0,i.union(i.u32("instruction"))),t.INSTRUCTION_LAYOUT.inner.addVariant(0,i.struct([s.u64("baseLotSize"),s.u64("quoteLotSize"),i.u16("feeRateBps"),s.u64("vaultSignerNonce"),s.u64("quoteDustThreshold")]),"initializeMarket"),t.INSTRUCTION_LAYOUT.inner.addVariant(1,i.struct([s.sideLayout("side"),s.u64("limitPrice"),s.u64("maxQuantity"),s.orderTypeLayout("orderType"),s.u64("clientId")]),"newOrder"),t.INSTRUCTION_LAYOUT.inner.addVariant(2,i.struct([i.u16("limit")]),"matchOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(3,i.struct([i.u16("limit")]),"consumeEvents"),t.INSTRUCTION_LAYOUT.inner.addVariant(4,i.struct([s.sideLayout("side"),s.u128("orderId"),s.publicKeyLayout("openOrders"),i.u8("openOrdersSlot")]),"cancelOrder"),t.INSTRUCTION_LAYOUT.inner.addVariant(5,i.struct([]),"settleFunds"),t.INSTRUCTION_LAYOUT.inner.addVariant(6,i.struct([s.u64("clientId")]),"cancelOrderByClientId"),t.INSTRUCTION_LAYOUT.inner.addVariant(10,i.struct([s.sideLayout("side"),s.u64("limitPrice"),s.u64("maxBaseQuantity"),s.u64("maxQuoteQuantity"),s.selfTradeBehaviorLayout("selfTradeBehavior"),s.orderTypeLayout("orderType"),s.u64("clientId"),i.u16("limit")]),"newOrderV3"),t.INSTRUCTION_LAYOUT.inner.addVariant(11,i.struct([s.sideLayout("side"),s.u128("orderId")]),"cancelOrderV2"),t.INSTRUCTION_LAYOUT.inner.addVariant(12,i.struct([s.u64("clientId")]),"cancelOrderByClientIdV2"),t.INSTRUCTION_LAYOUT.inner.addVariant(14,i.struct([]),"closeOpenOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(15,i.struct([]),"initOpenOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(16,i.struct([i.u16("limit")]),"prune"),t.encodeInstruction=u,t.decodeInstruction=function(e){return t.INSTRUCTION_LAYOUT.decode(e)};t.DexInstructions=class{static initializeMarket(e){let{market:t,requestQueue:r,eventQueue:n,bids:i,asks:s,baseVault:a,quoteVault:c,baseMint:d,quoteMint:l,baseLotSize:h,quoteLotSize:f,feeRateBps:p,vaultSignerNonce:g,quoteDustThreshold:m,programId:y,authority:b,pruneAuthority:w}=e;new o.PublicKey("SysvarRent111111111111111111111111111111111");return new o.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:b?l:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(b?{pubkey:b,isSigner:!1,isWritable:!1}:[]).concat(b&&w?{pubkey:w,isSigner:!1,isWritable:!1}:[]),programId:y,data:u({initializeMarket:{baseLotSize:h,quoteLotSize:f,feeRateBps:p,vaultSignerNonce:g,quoteDustThreshold:m}})})}static newOrder(e){let{market:t,openOrders:r,payer:n,owner:i,requestQueue:s,baseVault:c,quoteVault:d,side:l,limitPrice:h,maxQuantity:f,orderType:p,clientId:g,programId:m,feeDiscountPubkey:y=null}=e;const b=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:a.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return y&&b.push({pubkey:y,isSigner:!1,isWritable:!1}),new o.TransactionInstruction({keys:b,programId:m,data:u({newOrder:g?{side:l,limitPrice:h,maxQuantity:f,orderType:p,clientId:g}:{side:l,limitPrice:h,maxQuantity:f,orderType:p}})})}static newOrderV3(e){let{market:t,openOrders:r,payer:n,owner:i,requestQueue:s,eventQueue:c,bids:d,asks:l,baseVault:h,quoteVault:f,side:p,limitPrice:g,maxBaseQuantity:m,maxQuoteQuantity:y,orderType:b,clientId:w,programId:k,selfTradeBehavior:A,feeDiscountPubkey:S=null}=e;const I=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:f,isSigner:!1,isWritable:!0},{pubkey:a.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return S&&I.push({pubkey:S,isSigner:!1,isWritable:!1}),new o.TransactionInstruction({keys:I,programId:k,data:u({newOrderV3:{side:p,limitPrice:g,maxBaseQuantity:m,maxQuoteQuantity:y,selfTradeBehavior:A,orderType:b,clientId:w,limit:65535}})})}static matchOrders(e){let{market:t,requestQueue:r,eventQueue:n,bids:i,asks:s,baseVault:a,quoteVault:c,limit:d,programId:l}=e;return new o.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0}],programId:l,data:u({matchOrders:{limit:d}})})}static consumeEvents(e){let{market:t,eventQueue:r,coinFee:n,pcFee:i,openOrdersAccounts:s,limit:a,programId:c}=e;return new o.TransactionInstruction({keys:[...s.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))),{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWriteable:!0},{pubkey:i,isSigner:!1,isWritable:!0}],programId:c,data:u({consumeEvents:{limit:a}})})}static cancelOrder(e){let{market:t,openOrders:r,owner:n,requestQueue:i,side:s,orderId:a,openOrdersSlot:c,programId:d}=e;return new o.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:d,data:u({cancelOrder:{side:s,orderId:a,openOrders:r,openOrdersSlot:c}})})}static cancelOrderV2(e){const{market:t,bids:r,asks:n,eventQueue:i,openOrders:s,owner:a,side:c,orderId:d,programId:l}=e;return new o.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}],programId:l,data:u({cancelOrderV2:{side:c,orderId:d}})})}static cancelOrderByClientId(e){let{market:t,openOrders:r,owner:n,requestQueue:i,clientId:s,programId:a}=e;return new o.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:a,data:u({cancelOrderByClientId:{clientId:s}})})}static cancelOrderByClientIdV2(e){let{market:t,openOrders:r,owner:n,bids:i,asks:s,eventQueue:a,clientId:c,programId:d}=e;return new o.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0}],programId:d,data:u({cancelOrderByClientIdV2:{clientId:c}})})}static settleFunds(e){let{market:t,openOrders:r,owner:n,baseVault:i,quoteVault:s,baseWallet:c,quoteWallet:d,vaultSigner:l,programId:h,referrerQuoteWallet:f=null}=e;const p=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:a.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}];return f&&p.push({pubkey:f,isSigner:!1,isWritable:!0}),new o.TransactionInstruction({keys:p,programId:h,data:u({settleFunds:{}})})}static closeOpenOrders(e){let{market:t,openOrders:r,owner:n,solWallet:i,programId:s}=e;const a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}];return new o.TransactionInstruction({keys:a,programId:s,data:u({closeOpenOrders:{}})})}static initOpenOrders(e){let{market:t,openOrders:r,owner:n,programId:i,marketAuthority:s}=e;const a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(s?{pubkey:s,isSigner:!1,isWritable:!1}:[]);return new o.TransactionInstruction({keys:a,programId:i,data:u({initOpenOrders:{}})})}static prune(e){let{market:t,bids:r,asks:n,eventQueue:i,pruneAuthority:s,openOrders:a,openOrdersOwner:c,programId:d,limit:l}=e;const h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}];return new o.TransactionInstruction({keys:h,programId:d,data:u({prune:{limit:l}})})}}},84321:function(e,t,r){"use strict";var n=r(36897).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setLayoutEncoder=t.setLayoutDecoder=t.accountFlagsLayout=t.selfTradeBehaviorLayout=t.orderTypeLayout=t.sideLayout=t.VersionedLayout=t.WideBits=t.u128=t.u64=t.publicKeyLayout=t.zeros=void 0;const s=r(12324),o=r(71256),a=i(r(48744));class u extends s.Blob{decode(e,t){const r=super.decode(e,t);if(!r.every((e=>0===e)))throw new Error("nonzero padding bytes");return r}}t.zeros=function(e){return new u(e)};class c extends s.Blob{constructor(e){super(32,e)}decode(e,t){return new o.PublicKey(super.decode(e,t))}encode(e,t,r){return super.encode(e.toBuffer(),t,r)}}t.publicKeyLayout=function(e){return new c(e)};class d extends s.Blob{decode(e,t){return new a.default(super.decode(e,t),10,"le")}encode(e,t,r){return super.encode(e.toArrayLike(n,"le",this.span),t,r)}}t.u64=function(e){return new d(8,e)},t.u128=function(e){return new d(16,e)};class l extends s.Layout{constructor(e){super(8,e),this._lower=s.bits(s.u32(),!1),this._upper=s.bits(s.u32(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{...this._lower.decode(e,t),...this._upper.decode(e,t+this._lower.span)}}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._lower.encode(e,t,r)+this._upper.encode(e,t,r+this._lower.span)}}t.WideBits=l;class h extends s.Layout{constructor(e,t,r){super(t.span>0?t.span+1:t.span,r),this.version=e,this.inner=t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.inner.decode(e,t+1)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.writeUInt8(this.version,r),1+this.inner.encode(e,t,r+1)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 1+this.inner.getSpan(e,t+1)}}t.VersionedLayout=h;class f extends s.UInt{constructor(e,t,r){super(t,r),this.values=e}encode(e,t,r){if(void 0!==this.values[e])return super.encode(this.values[e],t,r);throw new Error("Invalid "+this.property)}decode(e,t){const r=super.decode(e,t),n=Object.entries(this.values).find((e=>{let[,t]=e;return t===r}));if(n)return n[0];throw new Error("Invalid "+this.property)}}t.sideLayout=function(e){return new f({buy:0,sell:1},4,e)},t.orderTypeLayout=function(e){return new f({limit:0,ioc:1,postOnly:2},4,e)},t.selfTradeBehaviorLayout=function(e){return new f({decrementTake:0,cancelProvide:1,abortTransaction:2},4,e)};const p=new l;p.addBoolean("initialized"),p.addBoolean("market"),p.addBoolean("openOrders"),p.addBoolean("requestQueue"),p.addBoolean("eventQueue"),p.addBoolean("bids"),p.addBoolean("asks"),t.accountFlagsLayout=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"accountFlags";return p.replicate(e)},t.setLayoutDecoder=function(e,t){const r=e.decode;e.decode=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t(r.call(this,e,n))}},t.setLayoutEncoder=function(e,t){const r=e.encode;return e.encode=function(e,n,i){return r.call(this,t(e),n,i)},e}},87002:(e,t,r)=>{"use strict";var n=r(36897).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.MarketProxyBuilder=t.MarketProxyInstruction=t.MarketProxy=void 0;const i=r(72230),s=r(83989),o=r(2936);class a{constructor(e,t){this._market=e,this._instruction=t}get market(){return this._market}get instruction(){return this._instruction}get dexProgramId(){return this._market.programId}get proxyProgramId(){return this._instruction.proxyProgramId}}t.MarketProxy=a;class u{constructor(e,t,r,n){this._proxyProgramId=e,this._dexProgramId=t,this._market=r,this._middlewares=n}get proxyProgramId(){return this._proxyProgramId}newOrderV3(e){const t=this._market.makeNewOrderV3Instruction({...e,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.newOrderV3(t))),this.proxy(t)}initOpenOrders(e,t,r,n){const i=o.DexInstructions.initOpenOrders({market:t,openOrders:r,owner:e,programId:this._proxyProgramId,marketAuthority:n});return this._middlewares.forEach((e=>e.initOpenOrders(i))),this.proxy(i)}cancelOrderByClientId(e,t,r){const n=o.DexInstructions.cancelOrderByClientIdV2({market:this._market.address,openOrders:t,owner:e,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,clientId:r,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.cancelOrderByClientIdV2(n))),this.proxy(n)}settleFunds(e,t,r,s,a){const u=o.DexInstructions.settleFunds({market:this._market.address,openOrders:e,owner:t,baseVault:this._market.decoded.baseVault,quoteVault:this._market.decoded.quoteVault,baseWallet:r,quoteWallet:s,vaultSigner:i.utils.publicKey.createProgramAddressSync([this._market.address.toBuffer(),this._market.decoded.vaultSignerNonce.toArrayLike(n,"le",8)],this._dexProgramId),programId:this._proxyProgramId,referrerQuoteWallet:a});return this._middlewares.forEach((e=>e.settleFunds(u))),this.proxy(u)}closeOpenOrders(e,t,r){const n=o.DexInstructions.closeOpenOrders({market:this._market.address,openOrders:e,owner:t,solWallet:r,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.closeOpenOrders(n))),this.proxy(n)}prune(e,t,r){r||(r=65535);const n=o.DexInstructions.prune({market:this._market.address,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,pruneAuthority:this._market.decoded.pruneAuthority,openOrders:e,openOrdersOwner:t,programId:this._proxyProgramId,limit:r});return this._middlewares.forEach((e=>e.prune(n))),this.proxy(n)}proxy(e){return e.keys=[{pubkey:this._dexProgramId,isWritable:!1,isSigner:!1},...e.keys],e}}t.MarketProxyInstruction=u;t.MarketProxyBuilder=class{constructor(){this._middlewares=[]}middleware(e){return this._middlewares.push(e),this}async load(e){let{connection:t,market:r,options:n={},dexProgramId:i,proxyProgramId:o}=e;const c=await s.Market.load(t,r,n,i,s.MARKET_STATE_LAYOUT_V3),d=new u(o,i,c,this._middlewares);return new a(c,d)}}},18786:(e,t,r)=>{"use strict";var n=r(36897).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.ReferralFees=t.OpenOrdersPda=void 0;const i=r(72230),s=r(71256);t.OpenOrdersPda=class{constructor(e){let{proxyProgramId:t,dexProgramId:r}=e;this._proxyProgramId=t,this._dexProgramId=r}static async marketAuthority(e,t,r){const i=n.from([111,112,101,110,45,111,114,100,101,114,115,45,105,110,105,116]),[o]=await s.PublicKey.findProgramAddress([i,t.toBuffer(),e.toBuffer()],r);return o}static async openOrdersAddress(e,t,r,i){const o=n.from([111,112,101,110,45,111,114,100,101,114,115]),[a]=await s.PublicKey.findProgramAddress([o,r.toBuffer(),e.toBuffer(),t.toBuffer()],i);return a}initOpenOrders(e){const t=e.keys[2].pubkey,r=e.keys[1].pubkey,o=n.from([111,112,101,110,45,111,114,100,101,114,115]),a=n.from([111,112,101,110,45,111,114,100,101,114,115,45,105,110,105,116]),[u,c]=i.utils.publicKey.findProgramAddressSync([o,this._dexProgramId.toBuffer(),t.toBuffer(),r.toBuffer()],this._proxyProgramId),[d,l]=i.utils.publicKey.findProgramAddressSync([a,this._dexProgramId.toBuffer(),t.toBuffer()],this._proxyProgramId);e.keys[0].pubkey=u,e.keys[4].pubkey=d,e.keys[1].isWritable=!0,e.keys=[{pubkey:this._dexProgramId,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},...e.keys],e.data=n.concat([n.from([0,c,l]),e.data])}newOrderV3(e){e.data=n.concat([n.from([1]),e.data])}cancelOrderV2(e){e.data=n.concat([n.from([2]),e.data])}cancelOrderByClientIdV2(e){e.data=n.concat([n.from([3]),e.data])}settleFunds(e){e.data=n.concat([n.from([4]),e.data])}closeOpenOrders(e){e.data=n.concat([n.from([5]),e.data])}prune(e){e.data=n.concat([n.from([6]),e.data])}};t.ReferralFees=class{initOpenOrders(e){}newOrderV3(e){}cancelOrderV2(e){}cancelOrderByClientIdV2(e){}settleFunds(e){}closeOpenOrders(e){}prune(e){}};t.Logger=class{initOpenOrders(e){console.log("Proxying initOpenOrders",this.ixToDisplay(e))}newOrderV3(e){console.log("Proxying newOrderV3",this.ixToDisplay(e))}cancelOrderV2(e){console.log("Proxying cancelOrderV2",this.ixToDisplay(e))}cancelOrderByClientIdV2(e){console.log("Proxying cancelOrderByClientIdV2",this.ixToDisplay(e))}settleFunds(e){console.log("Proxying settleFunds",this.ixToDisplay(e))}closeOpenOrders(e){console.log("Proxying closeOpenOrders",this.ixToDisplay(e))}prune(e){console.log("Proxying prune",this.ixToDisplay(e))}ixToDisplay(e){return{keys:e.keys.map((e=>({...e,pubkey:e.pubkey.toString()}))),programId:e.programId.toString(),data:new Uint8Array(e.data)}}}},83989:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMintDecimals=t.Orderbook=t.ORDERBOOK_LAYOUT=t.OpenOrders=t._OPEN_ORDERS_LAYOUT_V2=t._OPEN_ORDERS_LAYOUT_V1=t.Market=t.MARKET_STATE_LAYOUT_V3=t.MARKET_STATE_LAYOUT_V2=t._MARKET_STAT_LAYOUT_V1=void 0;const i=r(12324),s=r(84321),o=r(35366),a=r(2936),u=n(r(48744)),c=r(71256),d=r(31472),l=r(36897),h=r(12463),f=r(63786),p=r(1127);t._MARKET_STAT_LAYOUT_V1=i.struct([i.blob(5),s.accountFlagsLayout("accountFlags"),s.publicKeyLayout("ownAddress"),s.u64("vaultSignerNonce"),s.publicKeyLayout("baseMint"),s.publicKeyLayout("quoteMint"),s.publicKeyLayout("baseVault"),s.u64("baseDepositsTotal"),s.u64("baseFeesAccrued"),s.publicKeyLayout("quoteVault"),s.u64("quoteDepositsTotal"),s.u64("quoteFeesAccrued"),s.u64("quoteDustThreshold"),s.publicKeyLayout("requestQueue"),s.publicKeyLayout("eventQueue"),s.publicKeyLayout("bids"),s.publicKeyLayout("asks"),s.u64("baseLotSize"),s.u64("quoteLotSize"),s.u64("feeRateBps"),i.blob(7)]),t.MARKET_STATE_LAYOUT_V2=i.struct([i.blob(5),s.accountFlagsLayout("accountFlags"),s.publicKeyLayout("ownAddress"),s.u64("vaultSignerNonce"),s.publicKeyLayout("baseMint"),s.publicKeyLayout("quoteMint"),s.publicKeyLayout("baseVault"),s.u64("baseDepositsTotal"),s.u64("baseFeesAccrued"),s.publicKeyLayout("quoteVault"),s.u64("quoteDepositsTotal"),s.u64("quoteFeesAccrued"),s.u64("quoteDustThreshold"),s.publicKeyLayout("requestQueue"),s.publicKeyLayout("eventQueue"),s.publicKeyLayout("bids"),s.publicKeyLayout("asks"),s.u64("baseLotSize"),s.u64("quoteLotSize"),s.u64("feeRateBps"),s.u64("referrerRebatesAccrued"),i.blob(7)]),t.MARKET_STATE_LAYOUT_V3=i.struct([i.blob(5),s.accountFlagsLayout("accountFlags"),s.publicKeyLayout("ownAddress"),s.u64("vaultSignerNonce"),s.publicKeyLayout("baseMint"),s.publicKeyLayout("quoteMint"),s.publicKeyLayout("baseVault"),s.u64("baseDepositsTotal"),s.u64("baseFeesAccrued"),s.publicKeyLayout("quoteVault"),s.u64("quoteDepositsTotal"),s.u64("quoteFeesAccrued"),s.u64("quoteDustThreshold"),s.publicKeyLayout("requestQueue"),s.publicKeyLayout("eventQueue"),s.publicKeyLayout("bids"),s.publicKeyLayout("asks"),s.u64("baseLotSize"),s.u64("quoteLotSize"),s.u64("feeRateBps"),s.u64("referrerRebatesAccrued"),s.publicKeyLayout("authority"),s.publicKeyLayout("pruneAuthority"),i.blob(1024),i.blob(7)]);class g{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;const{skipPreflight:o=!1,commitment:a="recent"}=n;if(!e.accountFlags.initialized||!e.accountFlags.market)throw new Error("Invalid market state");this._decoded=e,this._baseSplTokenDecimals=t,this._quoteSplTokenDecimals=r,this._skipPreflight=o,this._commitment=a,this._programId=i,this._openOrdersAccountsCache={},this._feeDiscountKeysCache={},this._layoutOverride=s}static getLayout(e){return 1===p.getLayoutVersion(e)?t._MARKET_STAT_LAYOUT_V1:t.MARKET_STATE_LAYOUT_V2}static async findAccountsByMints(e,t,r,n){return S(e,n,[{memcmp:{offset:this.getLayout(n).offsetOf("baseMint"),bytes:t.toBase58()}},{memcmp:{offset:g.getLayout(n).offsetOf("quoteMint"),bytes:r.toBase58()}}])}static async load(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const{owner:s,data:o}=I(await e.getAccountInfo(t),"Market not found");if(!s.equals(n))throw new Error("Address not owned by program: "+s.toBase58());const a=(null!==i&&void 0!==i?i:this.getLayout(n)).decode(o);if(!a.accountFlags.initialized||!a.accountFlags.market||!a.ownAddress.equals(t))throw new Error("Invalid market");const[u,c]=await Promise.all([A(e,a.baseMint),A(e,a.quoteMint)]);return new g(a,u,c,r,n,i)}get programId(){return this._programId}get address(){return this._decoded.ownAddress}get publicKey(){return this.address}get baseMintAddress(){return this._decoded.baseMint}get quoteMintAddress(){return this._decoded.quoteMint}get bidsAddress(){return this._decoded.bids}get asksAddress(){return this._decoded.asks}get decoded(){return this._decoded}async loadBids(e){const{data:t}=I(await e.getAccountInfo(this._decoded.bids));return y.decode(this,t)}async loadAsks(e){const{data:t}=I(await e.getAccountInfo(this._decoded.asks));return y.decode(this,t)}async loadOrdersForOwner(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[n,i,s]=await Promise.all([this.loadBids(e),this.loadAsks(e),this.findOpenOrdersAccountsForOwner(e,t,r)]);return this.filterForOpenOrders(n,i,s)}filterForOpenOrders(e,t,r){return[...e,...t].filter((e=>r.some((t=>e.openOrdersAddress.equals(t.address)))))}async findBaseTokenAccountsForOwner(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.baseMintAddress.equals(f.WRAPPED_SOL_MINT)&&r){const[r,n]=await Promise.all([this.findBaseTokenAccountsForOwner(e,t,!1),e.getAccountInfo(t)]);return null!==n?[{pubkey:t,account:n},...r]:r}return await this.getTokenAccountsByOwnerForMint(e,t,this.baseMintAddress)}async getTokenAccountsByOwnerForMint(e,t,r){return(await e.getTokenAccountsByOwner(t,{mint:r})).value}async findQuoteTokenAccountsForOwner(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.quoteMintAddress.equals(f.WRAPPED_SOL_MINT)&&r){const[r,n]=await Promise.all([this.findQuoteTokenAccountsForOwner(e,t,!1),e.getAccountInfo(t)]);return null!==n?[{pubkey:t,account:n},...r]:r}return await this.getTokenAccountsByOwnerForMint(e,t,this.quoteMintAddress)}async findOpenOrdersAccountsForOwner(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=t.toBase58(),i=(new Date).getTime();if(n in this._openOrdersAccountsCache&&i-this._openOrdersAccountsCache[n].ts<r)return this._openOrdersAccountsCache[n].accounts;const s=await m.findForMarketAndOwner(e,this.address,t,this._programId);return this._openOrdersAccountsCache[n]={accounts:s,ts:i},s}async placeOrder(e,t){let{owner:r,payer:n,side:i,price:s,size:o,orderType:a="limit",clientId:u,openOrdersAddressKey:c,openOrdersAccount:d,feeDiscountPubkey:l}=t;const{transaction:h,signers:f}=await this.makePlaceOrderTransaction(e,{owner:r,payer:n,side:i,price:s,size:o,orderType:a,clientId:u,openOrdersAddressKey:c,openOrdersAccount:d,feeDiscountPubkey:l});return await this._sendTransaction(e,h,[r,...f])}getSplTokenBalanceFromAccountInfo(e,t){return w(new u.default(e.data.slice(64,72),10,"le"),new u.default(10).pow(new u.default(t)))}get supportsSrmFeeDiscounts(){return h.supportsSrmFeeDiscounts(this._programId)}get supportsReferralFees(){return p.getLayoutVersion(this._programId)>1}get usesRequestQueue(){return p.getLayoutVersion(this._programId)<=2}async findFeeDiscountKeys(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[];const i=(new Date).getTime(),s=t.toBase58();if(s in this._feeDiscountKeysCache&&i-this._feeDiscountKeysCache[s].ts<r)return this._feeDiscountKeysCache[s].accounts;if(this.supportsSrmFeeDiscounts){const r=(await this.getTokenAccountsByOwnerForMint(e,t,f.MSRM_MINT)).map((e=>{let{pubkey:t,account:r}=e;const n=this.getSplTokenBalanceFromAccountInfo(r,f.MSRM_DECIMALS);return{pubkey:t,mint:f.MSRM_MINT,balance:n,feeTier:h.getFeeTier(n,0)}})),i=(await this.getTokenAccountsByOwnerForMint(e,t,f.SRM_MINT)).map((e=>{let{pubkey:t,account:r}=e;const n=this.getSplTokenBalanceFromAccountInfo(r,f.SRM_DECIMALS);return{pubkey:t,mint:f.SRM_MINT,balance:n,feeTier:h.getFeeTier(0,n)}}));n=r.concat(i).sort(((e,t)=>e.feeTier>t.feeTier?-1:e.feeTier<t.feeTier?1:e.balance>t.balance?-1:e.balance<t.balance?1:0))}return this._feeDiscountKeysCache[s]={accounts:n,ts:i},n}async findBestFeeDiscountKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;const n=await this.findFeeDiscountKeys(e,t,r);return n.length>0?{pubkey:n[0].pubkey,feeTier:n[0].feeTier}:{pubkey:null,feeTier:0}}async makePlaceOrderTransaction(e,t){let{owner:r,payer:n,side:i,price:s,size:o,orderType:a="limit",clientId:u,openOrdersAddressKey:d,openOrdersAccount:l,feeDiscountPubkey:h,selfTradeBehavior:p="decrementTake"}=t,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var b,w;const k=null!==(b=r.publicKey)&&void 0!==b?b:r,A=await this.findOpenOrdersAccountsForOwner(e,k,g),S=new c.Transaction,I=[];let _,v;if(_=h||(void 0===h&&this.supportsSrmFeeDiscounts?(await this.findBestFeeDiscountKey(e,k,y)).pubkey:null),0===A.length){let t;t=l||new c.Account,S.add(await m.makeCreateAccountTransaction(e,this.address,k,t.publicKey,this._programId)),v=t.publicKey,I.push(t),this._openOrdersAccountsCache[k.toBase58()].ts=0}else v=l?l.publicKey:d||A[0].address;let E=null;if(n.equals(k)){if(!("buy"===i&&this.quoteMintAddress.equals(f.WRAPPED_SOL_MINT)||"sell"===i&&this.baseMintAddress.equals(f.WRAPPED_SOL_MINT)))throw new Error("Invalid payer account");{let e;E=new c.Account,"buy"===i?(e=Math.round(s*o*1.01*c.LAMPORTS_PER_SOL),A.length>0&&(e-=A[0].quoteTokenFree.toNumber())):(e=Math.round(o*c.LAMPORTS_PER_SOL),A.length>0&&(e-=A[0].baseTokenFree.toNumber())),e=Math.max(e,0)+1e7,S.add(c.SystemProgram.createAccount({fromPubkey:k,newAccountPubkey:E.publicKey,lamports:e,space:165,programId:f.TOKEN_PROGRAM_ID})),S.add(f.initializeAccount({account:E.publicKey,mint:f.WRAPPED_SOL_MINT,owner:k})),I.push(E)}}const x=this.makePlaceOrderInstruction(e,{owner:r,payer:null!==(w=null===E||void 0===E?void 0:E.publicKey)&&void 0!==w?w:n,side:i,price:s,size:o,orderType:a,clientId:u,openOrdersAddressKey:v,feeDiscountPubkey:_,selfTradeBehavior:p});return S.add(x),E&&S.add(f.closeAccount({source:E.publicKey,destination:k,owner:k})),{transaction:S,signers:I,payer:r}}makePlaceOrderInstruction(e,t){var r;const{owner:n,payer:i,side:s,price:o,size:c,orderType:d="limit",clientId:l,openOrdersAddressKey:h,openOrdersAccount:f,feeDiscountPubkey:p=null}=t,g=null!==(r=n.publicKey)&&void 0!==r?r:n;if(this.baseSizeNumberToLots(c).lte(new u.default(0)))throw new Error("size too small");if(this.priceNumberToLots(o).lte(new u.default(0)))throw new Error("invalid price");return this.usesRequestQueue?a.DexInstructions.newOrder({market:this.address,requestQueue:this._decoded.requestQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:f?f.publicKey:h,owner:g,payer:i,side:s,limitPrice:this.priceNumberToLots(o),maxQuantity:this.baseSizeNumberToLots(c),orderType:d,clientId:l,programId:this._programId,feeDiscountPubkey:this.supportsSrmFeeDiscounts?p:null}):this.makeNewOrderV3Instruction(t)}makeNewOrderV3Instruction(e){var t;const{owner:r,payer:n,side:i,price:s,size:o,orderType:c="limit",clientId:d,openOrdersAddressKey:l,openOrdersAccount:h,feeDiscountPubkey:f=null,selfTradeBehavior:p="decrementTake",programId:g}=e,m=null!==(t=r.publicKey)&&void 0!==t?t:r;return a.DexInstructions.newOrderV3({market:this.address,bids:this._decoded.bids,asks:this._decoded.asks,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:h?h.publicKey:l,owner:m,payer:n,side:i,limitPrice:this.priceNumberToLots(s),maxBaseQuantity:this.baseSizeNumberToLots(o),maxQuoteQuantity:new u.default(this._decoded.quoteLotSize.toNumber()).mul(this.baseSizeNumberToLots(o).mul(this.priceNumberToLots(s))),orderType:c,clientId:d,programId:null!==g&&void 0!==g?g:this._programId,selfTradeBehavior:p,feeDiscountPubkey:this.supportsSrmFeeDiscounts?f:null})}async _sendTransaction(e,t,r){const n=await e.sendTransaction(t,r,{skipPreflight:this._skipPreflight}),{value:i}=await e.confirmTransaction(n,this._commitment);if(null===i||void 0===i?void 0:i.err)throw new Error(JSON.stringify(i.err));return n}async cancelOrderByClientId(e,t,r,n){const i=await this.makeCancelOrderByClientIdTransaction(e,t.publicKey,r,n);return await this._sendTransaction(e,i,[t])}async makeCancelOrderByClientIdTransaction(e,t,r,n){const i=new c.Transaction;return this.usesRequestQueue?i.add(a.DexInstructions.cancelOrderByClientId({market:this.address,owner:t,openOrders:r,requestQueue:this._decoded.requestQueue,clientId:n,programId:this._programId})):i.add(a.DexInstructions.cancelOrderByClientIdV2({market:this.address,openOrders:r,owner:t,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,clientId:n,programId:this._programId})),i}async cancelOrder(e,t,r){const n=await this.makeCancelOrderTransaction(e,t.publicKey,r);return await this._sendTransaction(e,n,[t])}async makeCancelOrderTransaction(e,t,r){const n=new c.Transaction;return n.add(this.makeCancelOrderInstruction(e,t,r)),n}makeCancelOrderInstruction(e,t,r){return this.usesRequestQueue?a.DexInstructions.cancelOrder({market:this.address,owner:t,openOrders:r.openOrdersAddress,requestQueue:this._decoded.requestQueue,side:r.side,orderId:r.orderId,openOrdersSlot:r.openOrdersSlot,programId:this._programId}):a.DexInstructions.cancelOrderV2({market:this.address,owner:t,openOrders:r.openOrdersAddress,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,side:r.side,orderId:r.orderId,openOrdersSlot:r.openOrdersSlot,programId:this._programId})}makeConsumeEventsInstruction(e,t){return a.DexInstructions.consumeEvents({market:this.address,eventQueue:this._decoded.eventQueue,coinFee:this._decoded.eventQueue,pcFee:this._decoded.eventQueue,openOrdersAccounts:e,limit:t,programId:this._programId})}async settleFunds(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!r.owner.equals(t.publicKey))throw new Error("Invalid open orders account");if(s&&!this.supportsReferralFees)throw new Error("This program ID does not support referrerQuoteWallet");const{transaction:o,signers:a}=await this.makeSettleFundsTransaction(e,r,n,i,s);return await this._sendTransaction(e,o,[t,...a])}async makeSettleFundsTransaction(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const s=await c.PublicKey.createProgramAddress([this.address.toBuffer(),this._decoded.vaultSignerNonce.toArrayLike(l.Buffer,"le",8)],this._programId),o=new c.Transaction,u=[];let d=null;return(this.baseMintAddress.equals(f.WRAPPED_SOL_MINT)&&r.equals(t.owner)||this.quoteMintAddress.equals(f.WRAPPED_SOL_MINT)&&n.equals(t.owner))&&(d=new c.Account,o.add(c.SystemProgram.createAccount({fromPubkey:t.owner,newAccountPubkey:d.publicKey,lamports:await e.getMinimumBalanceForRentExemption(165),space:165,programId:f.TOKEN_PROGRAM_ID})),o.add(f.initializeAccount({account:d.publicKey,mint:f.WRAPPED_SOL_MINT,owner:t.owner})),u.push(d)),o.add(a.DexInstructions.settleFunds({market:this.address,openOrders:t.address,owner:t.owner,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,baseWallet:r.equals(t.owner)&&d?d.publicKey:r,quoteWallet:n.equals(t.owner)&&d?d.publicKey:n,vaultSigner:s,programId:this._programId,referrerQuoteWallet:i})),d&&o.add(f.closeAccount({source:d.publicKey,destination:t.owner,owner:t.owner})),{transaction:o,signers:u,payer:t.owner}}async matchOrders(e,t,r){const n=this.makeMatchOrdersTransaction(r);return await this._sendTransaction(e,n,[t])}makeMatchOrdersTransaction(e){const t=new c.Transaction;return t.add(a.DexInstructions.matchOrders({market:this.address,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,bids:this._decoded.bids,asks:this._decoded.asks,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,limit:e,programId:this._programId})),t}async loadRequestQueue(e){const{data:t}=I(await e.getAccountInfo(this._decoded.requestQueue));return d.decodeRequestQueue(t)}async loadEventQueue(e){const{data:t}=I(await e.getAccountInfo(this._decoded.eventQueue));return d.decodeEventQueue(t)}async loadFills(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const{data:r}=I(await e.getAccountInfo(this._decoded.eventQueue));return d.decodeEventQueue(r,t).filter((e=>e.eventFlags.fill&&e.nativeQuantityPaid.gtn(0))).map(this.parseFillEvent.bind(this))}parseFillEvent(e){let t,r,n,i;return e.eventFlags.bid?(n="buy",i=e.eventFlags.maker?e.nativeQuantityPaid.add(e.nativeFeeOrRebate):e.nativeQuantityPaid.sub(e.nativeFeeOrRebate),r=w(i.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityReleased)),t=w(e.nativeQuantityReleased,this._baseSplTokenMultiplier)):(n="sell",i=e.eventFlags.maker?e.nativeQuantityReleased.sub(e.nativeFeeOrRebate):e.nativeQuantityReleased.add(e.nativeFeeOrRebate),r=w(i.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityPaid)),t=w(e.nativeQuantityPaid,this._baseSplTokenMultiplier)),{...e,side:n,price:r,feeCost:this.quoteSplSizeToNumber(e.nativeFeeOrRebate)*(e.eventFlags.maker?-1:1),size:t}}get _baseSplTokenMultiplier(){return new u.default(10).pow(new u.default(this._baseSplTokenDecimals))}get _quoteSplTokenMultiplier(){return new u.default(10).pow(new u.default(this._quoteSplTokenDecimals))}priceLotsToNumber(e){return w(e.mul(this._decoded.quoteLotSize).mul(this._baseSplTokenMultiplier),this._decoded.baseLotSize.mul(this._quoteSplTokenMultiplier))}priceNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals)*this._decoded.baseLotSize.toNumber()/(Math.pow(10,this._baseSplTokenDecimals)*this._decoded.quoteLotSize.toNumber())))}baseSplSizeToNumber(e){return w(e,this._baseSplTokenMultiplier)}quoteSplSizeToNumber(e){return w(e,this._quoteSplTokenMultiplier)}baseSizeLotsToNumber(e){return w(e.mul(this._decoded.baseLotSize),this._baseSplTokenMultiplier)}baseSizeNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._baseSplTokenDecimals))).div(this._decoded.baseLotSize)}quoteSizeLotsToNumber(e){return w(e.mul(this._decoded.quoteLotSize),this._quoteSplTokenMultiplier)}quoteSizeNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals))).div(this._decoded.quoteLotSize)}get minOrderSize(){return this.baseSizeLotsToNumber(new u.default(1))}get tickSize(){return this.priceLotsToNumber(new u.default(1))}}t.Market=g,t._OPEN_ORDERS_LAYOUT_V1=i.struct([i.blob(5),s.accountFlagsLayout("accountFlags"),s.publicKeyLayout("market"),s.publicKeyLayout("owner"),s.u64("baseTokenFree"),s.u64("baseTokenTotal"),s.u64("quoteTokenFree"),s.u64("quoteTokenTotal"),s.u128("freeSlotBits"),s.u128("isBidBits"),i.seq(s.u128(),128,"orders"),i.seq(s.u64(),128,"clientIds"),i.blob(7)]),t._OPEN_ORDERS_LAYOUT_V2=i.struct([i.blob(5),s.accountFlagsLayout("accountFlags"),s.publicKeyLayout("market"),s.publicKeyLayout("owner"),s.u64("baseTokenFree"),s.u64("baseTokenTotal"),s.u64("quoteTokenFree"),s.u64("quoteTokenTotal"),s.u128("freeSlotBits"),s.u128("isBidBits"),i.seq(s.u128(),128,"orders"),i.seq(s.u64(),128,"clientIds"),s.u64("referrerRebatesAccrued"),i.blob(7)]);class m{constructor(e,t,r){this.address=e,this._programId=r,Object.assign(this,t)}static getLayout(e){return 1===p.getLayoutVersion(e)?t._OPEN_ORDERS_LAYOUT_V1:t._OPEN_ORDERS_LAYOUT_V2}static async findForOwner(e,t,r){const n=[{memcmp:{offset:this.getLayout(r).offsetOf("owner"),bytes:t.toBase58()}},{dataSize:this.getLayout(r).span}];return(await S(e,r,n)).map((e=>{let{publicKey:t,accountInfo:n}=e;return m.fromAccountInfo(t,n,r)}))}static async findForMarketAndOwner(e,t,r,n){const i=[{memcmp:{offset:this.getLayout(n).offsetOf("market"),bytes:t.toBase58()}},{memcmp:{offset:this.getLayout(n).offsetOf("owner"),bytes:r.toBase58()}},{dataSize:this.getLayout(n).span}];return(await S(e,n,i)).map((e=>{let{publicKey:t,accountInfo:r}=e;return m.fromAccountInfo(t,r,n)}))}static async load(e,t,r){const n=await e.getAccountInfo(t);if(null===n)throw new Error("Open orders account not found");return m.fromAccountInfo(t,n,r)}static fromAccountInfo(e,t,r){const{owner:n,data:i}=t;if(!n.equals(r))throw new Error("Address not owned by program");const s=this.getLayout(r).decode(i);if(!s.accountFlags.initialized||!s.accountFlags.openOrders)throw new Error("Invalid open orders account");return new m(e,s,r)}static async makeCreateAccountTransaction(e,t,r,n,i){return c.SystemProgram.createAccount({fromPubkey:r,newAccountPubkey:n,lamports:await e.getMinimumBalanceForRentExemption(this.getLayout(i).span),space:this.getLayout(i).span,programId:i})}get publicKey(){return this.address}}t.OpenOrders=m,t.ORDERBOOK_LAYOUT=i.struct([i.blob(5),s.accountFlagsLayout("accountFlags"),o.SLAB_LAYOUT.replicate("slab"),i.blob(7)]);class y{constructor(e,t,r){if(!t.initialized||!(t.bids^t.asks))throw new Error("Invalid orderbook");this.market=e,this.isBids=t.bids,this.slab=r}static get LAYOUT(){return t.ORDERBOOK_LAYOUT}static decode(e,r){const{accountFlags:n,slab:i}=t.ORDERBOOK_LAYOUT.decode(r);return new y(e,n,i)}getL2(e){const t=this.isBids,r=[];for(const{key:n,quantity:i}of this.slab.items(t)){const t=b(n);if(r.length>0&&r[r.length-1][0].eq(t))r[r.length-1][1].iadd(i);else{if(r.length===e)break;r.push([t,i])}}return r.map((e=>{let[t,r]=e;return[this.market.priceLotsToNumber(t),this.market.baseSizeLotsToNumber(r),t,r]}))}[Symbol.iterator](){return this.items(!1)}*items(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(const{key:t,ownerSlot:r,owner:n,quantity:i,feeTier:s,clientOrderId:o}of this.slab.items(e)){const e=b(t);yield{orderId:t,clientId:o,openOrdersAddress:n,openOrdersSlot:r,feeTier:s,price:this.market.priceLotsToNumber(e),priceLots:e,size:this.market.baseSizeLotsToNumber(i),sizeLots:i,side:this.isBids?"buy":"sell"}}}}function b(e){return e.ushrn(64)}function w(e,t){const r=e.div(t).toNumber(),n=e.umod(t),i=n.gcd(t);return r+n.div(i).toNumber()/t.div(i).toNumber()}t.Orderbook=y;const k=i.struct([i.blob(44),i.u8("decimals"),i.blob(37)]);async function A(e,t){if(t.equals(f.WRAPPED_SOL_MINT))return 9;const{data:r}=I(await e.getAccountInfo(t),"mint not found"),{decimals:n}=k.decode(r);return n}async function S(e,t,r){const n=await e._rpcRequest("getProgramAccounts",[t.toBase58(),{commitment:e.commitment,filters:r,encoding:"base64"}]);if(n.error)throw new Error(n.error.message);return n.result.map((e=>{let{pubkey:t,account:{data:r,executable:n,owner:i,lamports:s}}=e;return{publicKey:new c.PublicKey(t),accountInfo:{data:l.Buffer.from(r[0],"base64"),executable:n,owner:new c.PublicKey(i),lamports:s}}}))}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"account not found";if(null===e)throw new Error(t);return e}t.getMintDecimals=A},31472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_QUEUE_LAYOUT=t.REQUEST_QUEUE_LAYOUT=t.decodeEventQueue=t.decodeRequestQueue=t.decodeEventsSince=void 0;const n=r(12324),i=r(84321),s=n.struct([n.blob(5),i.accountFlagsLayout("accountFlags"),n.u32("head"),i.zeros(4),n.u32("count"),i.zeros(4),n.u32("nextSeqNum"),i.zeros(4)]),o=n.bits(n.u8(),!1,"requestFlags");o.addBoolean("newOrder"),o.addBoolean("cancelOrder"),o.addBoolean("bid"),o.addBoolean("postOnly"),o.addBoolean("ioc");const a=n.struct([o,n.u8("openOrdersSlot"),n.u8("feeTier"),n.blob(5),i.u64("maxBaseSizeOrCancelId"),i.u64("nativeQuoteQuantityLocked"),i.u128("orderId"),i.publicKeyLayout("openOrders"),i.u64("clientOrderId")]),u=n.struct([n.blob(5),i.accountFlagsLayout("accountFlags"),n.u32("head"),i.zeros(4),n.u32("count"),i.zeros(4),n.u32("seqNum"),i.zeros(4)]),c=n.bits(n.u8(),!1,"eventFlags");c.addBoolean("fill"),c.addBoolean("out"),c.addBoolean("bid"),c.addBoolean("maker");const d=n.struct([c,n.u8("openOrdersSlot"),n.u8("feeTier"),n.blob(5),i.u64("nativeQuantityReleased"),i.u64("nativeQuantityPaid"),i.u64("nativeFeeOrRebate"),i.u128("orderId"),i.publicKeyLayout("openOrders"),i.u64("clientOrderId")]);function l(e,t,r,n){return t.decode(r,e.span+n*t.span)}function h(e,t,r,n){const i=e.decode(r),s=Math.floor((r.length-e.span)/t.span),o=[];if(n)for(let a=0;a<Math.min(n,s);++a){const n=(i.head+i.count+s-1-a)%s;o.push(l(e,t,r,n))}else for(let a=0;a<i.count;++a){const n=(i.head+a)%s;o.push(l(e,t,r,n))}return{header:i,nodes:o}}t.decodeEventsSince=function(e,t){const r=u.decode(e),n=Math.floor((e.length-u.span)/d.span),i=4294967296;let s=(r.seqNum-t+i)%i;s>n&&(s=n-1);const o=(r.seqNum-s+i)%i,a=((r.head+r.count)%n-s+n)%n,c=[];for(let h=0;h<s;++h){const t=l(u,d,e,(a+h)%n);t.seqNum=(o+h)%i,c.push(t)}return c},t.decodeRequestQueue=function(e,t){const{header:r,nodes:n}=h(s,a,e,t);if(!r.accountFlags.initialized||!r.accountFlags.requestQueue)throw new Error("Invalid requests queue");return n},t.decodeEventQueue=function(e,t){const{header:r,nodes:n}=h(u,d,e,t);if(!r.accountFlags.initialized||!r.accountFlags.eventQueue)throw new Error("Invalid events queue");return n},t.REQUEST_QUEUE_LAYOUT={HEADER:s,NODE:a},t.EVENT_QUEUE_LAYOUT={HEADER:u,NODE:d}},35366:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Slab=t.SLAB_LAYOUT=void 0;const i=n(r(48744)),s=r(12324),o=r(84321),a=s.struct([s.u32("bumpIndex"),o.zeros(4),s.u32("freeListLen"),o.zeros(4),s.u32("freeListHead"),s.u32("root"),s.u32("leafCount"),o.zeros(4)],"header"),u=s.union(s.u32("tag"),s.blob(68),"node");u.addVariant(0,s.struct([]),"uninitialized"),u.addVariant(1,s.struct([s.u32("prefixLen"),o.u128("key"),s.seq(s.u32(),2,"children")]),"innerNode"),u.addVariant(2,s.struct([s.u8("ownerSlot"),s.u8("feeTier"),s.blob(2),o.u128("key"),o.publicKeyLayout("owner"),o.u64("quantity"),o.u64("clientOrderId")]),"leafNode"),u.addVariant(3,s.struct([s.u32("next")]),"freeNode"),u.addVariant(4,s.struct([]),"lastFreeNode"),t.SLAB_LAYOUT=s.struct([a,s.seq(u,s.offset(a.layoutFor("bumpIndex"),a.offsetOf("bumpIndex")-a.span),"nodes")]);class c{constructor(e,t){this.header=e,this.nodes=t}static decode(e){return t.SLAB_LAYOUT.decode(e)}get(e){if(0===this.header.leafCount)return null;e instanceof i.default||(e=new i.default(e));let t=this.header.root;for(;;){const{leafNode:r,innerNode:n}=this.nodes[t];if(r)return r.key.eq(e)?r:null;if(!n)throw new Error("Invalid slab");if(!n.key.xor(e).iushrn(128-n.prefixLen).isZero())return null;t=n.children[e.testn(128-n.prefixLen-1)?1:0]}}[Symbol.iterator](){return this.items(!1)}*items(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.header.leafCount)return;const t=[this.header.root];for(;t.length>0;){const r=t.pop(),{leafNode:n,innerNode:i}=this.nodes[r];n?yield n:i&&(e?t.push(i.children[0],i.children[1]):t.push(i.children[1],i.children[0]))}}}t.Slab=c,o.setLayoutDecoder(t.SLAB_LAYOUT,(e=>{let{header:t,nodes:r}=e;return new c(t,r)}))},63786:function(e,t,r){"use strict";var n=r(36897).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.closeAccount=t.mintTo=t.setAuthority=t.revoke=t.approve=t.transfer=t.initializeAccount=t.initializeMint=t.decodeTokenInstructionData=t.SRM_DECIMALS=t.SRM_MINT=t.MSRM_DECIMALS=t.MSRM_MINT=t.WRAPPED_SOL_MINT=t.TOKEN_PROGRAM_ID=t.CLOSE_ACCOUNT_OWNER_INDEX=t.CLOSE_ACCOUNT_DESTINATION_INDEX=t.CLOSE_ACCOUNT_SOURCE_INDEX=t.TRANSFER_OWNER_INDEX=t.TRANSFER_DESTINATION_INDEX=t.TRANSFER_SOURCE_INDEX=t.INITIALIZE_ACCOUNT_OWNER_INDEX=t.INITIALIZE_ACCOUNT_MINT_INDEX=t.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=void 0;const a=o(r(12324)),u=r(71256),c=r(84321);t.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=0,t.INITIALIZE_ACCOUNT_MINT_INDEX=1,t.INITIALIZE_ACCOUNT_OWNER_INDEX=2,t.TRANSFER_SOURCE_INDEX=0,t.TRANSFER_DESTINATION_INDEX=1,t.TRANSFER_OWNER_INDEX=2,t.CLOSE_ACCOUNT_SOURCE_INDEX=0,t.CLOSE_ACCOUNT_DESTINATION_INDEX=1,t.CLOSE_ACCOUNT_OWNER_INDEX=2,t.TOKEN_PROGRAM_ID=new u.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.WRAPPED_SOL_MINT=new u.PublicKey("So11111111111111111111111111111111111111112"),t.MSRM_MINT=new u.PublicKey("MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L"),t.MSRM_DECIMALS=0,t.SRM_MINT=new u.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),t.SRM_DECIMALS=6;const d=a.union(a.u8("instruction"));d.addVariant(0,a.struct([a.u8("decimals"),c.publicKeyLayout("mintAuthority"),a.u8("freezeAuthorityOption"),c.publicKeyLayout("freezeAuthority")]),"initializeMint"),d.addVariant(1,a.struct([]),"initializeAccount"),d.addVariant(3,a.struct([a.nu64("amount")]),"transfer"),d.addVariant(4,a.struct([a.nu64("amount")]),"approve"),d.addVariant(5,a.struct([]),"revoke"),d.addVariant(6,a.struct([a.u8("authorityType"),a.u8("newAuthorityOption"),c.publicKeyLayout("newAuthority")]),"setAuthority"),d.addVariant(7,a.struct([a.nu64("amount")]),"mintTo"),d.addVariant(8,a.struct([a.nu64("amount")]),"burn"),d.addVariant(9,a.struct([]),"closeAccount");const l=Math.max(...Object.values(d.registry).map((e=>e.span)));function h(e){const t=n.alloc(l),r=d.encode(e,t);return t.slice(0,r)}t.decodeTokenInstructionData=function(e){return d.decode(e)},t.initializeMint=function(e){let{mint:r,decimals:n,mintAuthority:i,freezeAuthority:s=null}=e;const o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({initializeMint:{decimals:n,mintAuthority:i,freezeAuthorityOption:!!s,freezeAuthority:s||new u.PublicKey(0)}}),programId:t.TOKEN_PROGRAM_ID})},t.initializeAccount=function(e){let{account:r,mint:n,owner:i}=e;const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({initializeAccount:{}}),programId:t.TOKEN_PROGRAM_ID})},t.transfer=function(e){let{source:r,destination:n,amount:i,owner:s}=e;const o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({transfer:{amount:i}}),programId:t.TOKEN_PROGRAM_ID})},t.approve=function(e){let{source:r,delegate:n,amount:i,owner:s}=e;const o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({approve:{amount:i}}),programId:t.TOKEN_PROGRAM_ID})},t.revoke=function(e){let{source:r,owner:n}=e;const i=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:i,data:h({revoke:{}}),programId:t.TOKEN_PROGRAM_ID})},t.setAuthority=function(e){let{target:r,currentAuthority:n,newAuthority:i,authorityType:s}=e;const o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({setAuthority:{authorityType:s,newAuthorityOption:!!i,newAuthority:i}}),programId:t.TOKEN_PROGRAM_ID})},t.mintTo=function(e){let{mint:r,destination:n,amount:i,mintAuthority:s}=e;const o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({mintTo:{amount:i}}),programId:t.TOKEN_PROGRAM_ID})},t.closeAccount=function(e){let{source:r,destination:n,owner:i}=e;const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({closeAccount:{}}),programId:t.TOKEN_PROGRAM_ID})}},1127:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MARKETS=t.TOKEN_MINTS=t.getLayoutVersion=t.PROGRAM_LAYOUT_VERSIONS=void 0;const i=r(71256),s=n(r(80104)),o=n(r(7458));t.PROGRAM_LAYOUT_VERSIONS={"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn":1,BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg:1,EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o:2,"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin":3},t.getLayoutVersion=function(e){return t.PROGRAM_LAYOUT_VERSIONS[e.toString()]||3},t.TOKEN_MINTS=o.default.map((e=>({address:new i.PublicKey(e.address),name:e.name}))),t.MARKETS=s.default.map((e=>({address:new i.PublicKey(e.address),name:e.name,programId:new i.PublicKey(e.programId),deprecated:e.deprecated})))},72230:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AccountClient:()=>Oc,AccountsCoder:()=>Gs,BN:()=>m(),Coder:()=>no,EventCoder:()=>Xs,InstructionCoder:()=>Ds,Program:()=>Jc,Provider:()=>ws,StateClient:()=>Pc,StateCoder:()=>to,TypesCoder:()=>js,Wallet:()=>ks,getProvider:()=>Ss,setProvider:()=>As,utils:()=>p,web3:()=>n,workspace:()=>$c});var n={};r.r(n),r.d(n,{Account:()=>Kt,AddressLookupTableAccount:()=>Hr,AddressLookupTableInstruction:()=>Ui,AddressLookupTableProgram:()=>zi,Authorized:()=>ji,BLOCKHASH_CACHE_TIMEOUT_MS:()=>tn,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Ft,BPF_LOADER_PROGRAM_ID:()=>Lr,BpfLoader:()=>Nr,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Ni,ComputeBudgetInstruction:()=>Li,ComputeBudgetProgram:()=>Ci,Connection:()=>Bi,Ed25519Program:()=>Di,Enum:()=>zt,EpochSchedule:()=>Gr,FeeCalculatorLayout:()=>vr,Keypair:()=>Oi,LAMPORTS_PER_SOL:()=>gs,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>Mi,Loader:()=>zr,Lockup:()=>Zi,MAX_SEED_LENGTH:()=>Nt,Message:()=>nr,MessageAccountKeys:()=>Ht,MessageV0:()=>ir,NONCE_ACCOUNT_LENGTH:()=>xr,NonceAccount:()=>Tr,PACKET_DATA_SIZE:()=>Gt,PUBLIC_KEY_LENGTH:()=>Ct,PublicKey:()=>Dt,SIGNATURE_LENGTH_IN_BYTES:()=>qt,SOLANA_SCHEMA:()=>Lt,STAKE_CONFIG_ID:()=>qi,STAKE_INSTRUCTION_LAYOUTS:()=>Xi,SYSTEM_INSTRUCTION_LAYOUTS:()=>Or,SYSVAR_CLOCK_PUBKEY:()=>hr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>fr,SYSVAR_INSTRUCTIONS_PUBKEY:()=>pr,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>gr,SYSVAR_RENT_PUBKEY:()=>mr,SYSVAR_REWARDS_PUBKEY:()=>yr,SYSVAR_SLOT_HASHES_PUBKEY:()=>br,SYSVAR_SLOT_HISTORY_PUBKEY:()=>wr,SYSVAR_STAKE_HISTORY_PUBKEY:()=>kr,Secp256k1Program:()=>Vi,SendTransactionError:()=>Vr,SolanaJSONRPCError:()=>jr,SolanaJSONRPCErrorCode:()=>qr,StakeAuthorizationLayout:()=>Ji,StakeInstruction:()=>Hi,StakeProgram:()=>Qi,Struct:()=>Ut,SystemInstruction:()=>Br,SystemProgram:()=>Mr,Transaction:()=>cr,TransactionExpiredBlockheightExceededError:()=>jt,TransactionExpiredTimeoutError:()=>Zt,TransactionInstruction:()=>ur,TransactionMessage:()=>dr,TransactionStatus:()=>or,VALIDATOR_INFO_KEY:()=>ns,VERSION_PREFIX_MASK:()=>Vt,VOTE_PROGRAM_ID:()=>os,ValidatorInfo:()=>ss,VersionedMessage:()=>sr,VersionedTransaction:()=>lr,VoteAccount:()=>us,VoteAuthorizationLayout:()=>ts,VoteInit:()=>$i,VoteInstruction:()=>Yi,VoteProgram:()=>rs,clusterApiUrl:()=>fs,sendAndConfirmRawTransaction:()=>ps,sendAndConfirmTransaction:()=>Ar});var i={};r.r(i),r.d(i,{isSet:()=>Ys,set:()=>$s});var s={};r.r(s),r.d(s,{associated:()=>_c,createProgramAddressSync:()=>Ac,createWithSeedSync:()=>kc,findProgramAddressSync:()=>Sc});var o={};r.r(o),r.d(o,{decode:()=>Fc,encode:()=>Kc});var a={};r.r(a),r.d(a,{decode:()=>Gc,encode:()=>Vc});var u={};r.r(u),r.d(u,{decode:()=>jc,encode:()=>qc});var c={};r.r(c),r.d(c,{decode:()=>Xc,encode:()=>Hc});var d={};r.r(d),r.d(d,{base64:()=>c,bs58:()=>u,hex:()=>o,utf8:()=>a});var l={};r.r(l),r.d(l,{hash:()=>Yc});var h={};r.r(h),r.d(h,{getMultipleAccounts:()=>rd,invoke:()=>td});var f={};r.r(f),r.d(f,{associatedAddress:()=>sd});var p={};r.r(p),r.d(p,{bytes:()=>d,features:()=>i,publicKey:()=>s,rpc:()=>h,sha256:()=>l,token:()=>f});var g=r(48744),m=r.n(g),y=r(36897),b=r(18143),w=r(87027),k=r.t(w,2);const A=BigInt(0),S=BigInt(1),I=BigInt(2),_=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),v=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:_,n:_,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),E=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),x=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),T=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),P=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),R=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),B=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class O{constructor(e,t,r,n){this.x=e,this.y=t,this.z=r,this.t=n}static fromAffine(e){if(!(e instanceof C))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(C.ZERO)?O.ZERO:new O(e.x,e.y,S,J(e.x*e.y))}static toAffineBatch(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.P;const r=new Array(e.length),n=Q(e.reduce(((e,n,i)=>n===A?e:(r[i]=e,J(e*n,t))),S),t);return e.reduceRight(((e,n,i)=>n===A?e:(r[i]=J(e*r[i],t),J(e*n,t))),n),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){M(e);const{x:t,y:r,z:n}=this,{x:i,y:s,z:o}=e,a=J(t*o),u=J(i*n),c=J(r*o),d=J(s*n);return a===u&&c===d}negate(){return new O(J(-this.x),this.y,this.z,J(-this.t))}double(){const{x:e,y:t,z:r}=this,{a:n}=v,i=J(e*e),s=J(t*t),o=J(I*J(r*r)),a=J(n*i),u=e+t,c=J(J(u*u)-i-s),d=a+s,l=d-o,h=a-s,f=J(c*l),p=J(d*h),g=J(c*h),m=J(l*d);return new O(f,p,m,g)}add(e){M(e);const{x:t,y:r,z:n,t:i}=this,{x:s,y:o,z:a,t:u}=e,c=J((r-t)*(o+s)),d=J((r+t)*(o-s)),l=J(d-c);if(l===A)return this.double();const h=J(n*I*u),f=J(i*I*a),p=f+h,g=d+c,m=f-h,y=J(p*l),b=J(g*m),w=J(p*m),k=J(l*g);return new O(y,b,k,w)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const t=1+256/e,r=[];let n=this,i=n;for(let s=0;s<t;s++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(O.BASE)&&(t=C.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&N.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=O.normalizeZ(n),N.set(t,n)));let i=O.ZERO,s=O.ZERO;const o=1+256/r,a=2**(r-1),u=BigInt(2**r-1),c=2**r,d=BigInt(r);for(let l=0;l<o;l++){const t=l*a;let r=Number(e&u);if(e>>=d,r>a&&(r-=c,e+=S),0===r){let e=n[t];l%2&&(e=e.negate()),s=s.add(e)}else{let e=n[t+Math.abs(r)-1];r<0&&(e=e.negate()),i=i.add(e)}}return O.normalizeZ([i,s])[0]}multiply(e,t){return this.wNAF(ie(e,v.l),t)}multiplyUnsafe(e){let t=ie(e,v.l,!1);const r=O.BASE,n=O.ZERO;if(t===A)return n;if(this.equals(n)||t===S)return this;if(this.equals(r))return this.wNAF(t);let i=n,s=this;for(;t>A;)t&S&&(i=i.add(s)),s=s.double(),t>>=S;return i}isSmallOrder(){return this.multiplyUnsafe(v.h).equals(O.ZERO)}isTorsionFree(){return this.multiplyUnsafe(v.l).equals(O.ZERO)}toAffine(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q(this.z);const{x:t,y:r,z:n}=this,i=J(t*e),s=J(r*e);if(J(n*e)!==S)throw new Error("invZ was invalid");return new C(i,s)}fromRistrettoBytes(){z()}toRistrettoBytes(){z()}fromRistrettoHash(){z()}}function M(e){if(!(e instanceof O))throw new TypeError("ExtendedPoint expected")}function U(e){if(!(e instanceof L))throw new TypeError("RistrettoPoint expected")}function z(){throw new Error("Legacy method: switch to RistrettoPoint")}O.BASE=new O(v.Gx,v.Gy,S,J(v.Gx*v.Gy)),O.ZERO=new O(A,S,S,A);class L{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:t}=v,r=J(x*e*e),n=J((r+S)*R);let i=BigInt(-1);const s=J((i-t*r)*J(r+t));let{isValid:o,value:a}=ee(n,s),u=J(a*e);j(u)||(u=J(-u)),o||(a=u),o||(i=r);const c=J(i*(r-S)*B-s),d=a*a,l=J((a+a)*s),h=J(c*T),f=J(S-d),p=J(S+d);return new O(J(l*p),J(f*h),J(h*p),J(l*f))}static hashToCurve(e){const t=X((e=ne(e,64)).slice(0,32)),r=this.calcElligatorRistrettoMap(t),n=X(e.slice(32,64)),i=this.calcElligatorRistrettoMap(n);return new L(r.add(i))}static fromHex(e){e=ne(e,32);const{a:t,d:r}=v,n="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=X(e);if(!function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(q(i),e)||j(i))throw new Error(n);const s=J(i*i),o=J(S+t*s),a=J(S-t*s),u=J(o*o),c=J(a*a),d=J(t*r*u-c),{isValid:l,value:h}=te(J(d*c)),f=J(h*a),p=J(h*f*d);let g=J((i+i)*f);j(g)&&(g=J(-g));const m=J(o*p),y=J(g*m);if(!l||j(y)||m===A)throw new Error(n);return new L(new O(g,m,S,y))}toRawBytes(){let{x:e,y:t,z:r,t:n}=this.ep;const i=J(J(r+t)*J(r-t)),s=J(e*t),o=J(s*s),{value:a}=te(J(i*o)),u=J(a*i),c=J(a*s),d=J(u*c*n);let l;if(j(n*d)){let r=J(t*x),n=J(e*x);e=r,t=n,l=J(u*P)}else l=c;j(e*d)&&(t=J(-t));let h=J((r-t)*l);return j(h)&&(h=J(-h)),q(h)}toHex(){return F(this.toRawBytes())}toString(){return this.toHex()}equals(e){U(e);const t=this.ep,r=e.ep,n=J(t.x*r.y)===J(t.y*r.x),i=J(t.y*r.y)===J(t.x*r.x);return n||i}add(e){return U(e),new L(this.ep.add(e.ep))}subtract(e){return U(e),new L(this.ep.subtract(e.ep))}multiply(e){return new L(this.ep.multiply(e))}multiplyUnsafe(e){return new L(this.ep.multiplyUnsafe(e))}}L.BASE=new L(O.BASE),L.ZERO=new L(O.ZERO);const N=new WeakMap;class C{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,N.delete(this)}static fromHex(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{d:r,P:n}=v,i=(e=ne(e,32)).slice();i[31]=-129&e[31];const s=Z(i);if(t&&s>=n)throw new Error("Expected 0 < hex < P");if(!t&&s>=E)throw new Error("Expected 0 < hex < 2**256");const o=J(s*s),a=J(o-S),u=J(r*o+S);let{isValid:c,value:d}=ee(a,u);if(!c)throw new Error("Point.fromHex: invalid y coordinate");const l=(d&S)===S;return 0!==(128&e[31])!==l&&(d=J(-d)),new C(d,s)}static async fromPrivateKey(e){return(await de(e)).point}toRawBytes(){const e=q(this.y);return e[31]|=this.x&S?128:0,e}toHex(){return F(this.toRawBytes())}toX25519(){const{y:e}=this;return q(J((S+e)*Q(S-e)))}isTorsionFree(){return O.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new C(J(-this.x),this.y)}add(e){return O.fromAffine(this).add(O.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return O.fromAffine(this).multiply(e,this).toAffine()}}C.BASE=new C(v.Gx,v.Gy),C.ZERO=new C(A,S);class W{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=ne(e,64),r=C.fromHex(t.slice(0,32),!1),n=Z(t.slice(32,64));return new W(r,n)}assertValidity(){const{r:e,s:t}=this;if(!(e instanceof C))throw new Error("Expected Point instance");return ie(t,v.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(q(this.s),32),e}toHex(){return F(this.toRawBytes())}}function D(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every((e=>e instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===t.length)return t[0];const n=t.reduce(((e,t)=>e+t.length),0),i=new Uint8Array(n);for(let s=0,o=0;s<t.length;s++){const e=t[s];i.set(e,o),o+=e.length}return i}const K=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function F(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=K[e[r]];return t}function G(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function V(e){return G(e.toString(16).padStart(64,"0"))}function q(e){return V(e).reverse()}function j(e){return(J(e)&S)===S}function Z(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+F(Uint8Array.from(e).reverse()))}const H=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function X(e){return J(Z(e)&H)}function J(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.P;const r=e%t;return r>=A?r:t+r}function Q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v.P;if(e===A||t<=A)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=J(e,t),n=t,i=A,s=S,o=S,a=A;for(;r!==A;){const e=n/r,t=n%r,u=i-o*e,c=s-a*e;n=r,r=t,i=o,s=a,o=u,a=c}const u=n;if(u!==S)throw new Error("invert: does not exist");return J(i,t)}function $(e,t){const{P:r}=v;let n=e;for(;t-- >A;)n*=n,n%=r;return n}function Y(e){const{P:t}=v,r=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),o=BigInt(80),a=e*e%t*e%t,u=$(a,I)*a%t,c=$(u,S)*e%t,d=$(c,r)*c%t,l=$(d,n)*d%t,h=$(l,i)*l%t,f=$(h,s)*h%t,p=$(f,o)*f%t,g=$(p,o)*f%t,m=$(g,n)*d%t;return{pow_p_5_8:$(m,I)*e%t,b2:a}}function ee(e,t){const r=J(t*t*t),n=J(r*r*t);let i=J(e*r*Y(e*n).pow_p_5_8);const s=J(t*i*i),o=i,a=J(i*x),u=s===e,c=s===J(-e),d=s===J(-e*x);return u&&(i=o),(c||d)&&(i=a),j(i)&&(i=J(-i)),{isValid:u||c,value:i}}function te(e){return ee(S,e)}function re(e){return J(Z(e),v.l)}function ne(e,t){const r=e instanceof Uint8Array?Uint8Array.from(e):G(e);if("number"===typeof t&&r.length!==t)throw new Error(`Expected ${t} bytes`);return r}function ie(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)throw new TypeError("Specify max value");if("number"===typeof e&&Number.isSafeInteger(e)&&(e=BigInt(e)),"bigint"===typeof e&&e<t)if(r){if(A<e)return e}else if(A<=e)return e;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function se(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function oe(e){if(32!==(e="bigint"===typeof e||"number"===typeof e?V(ie(e,E)):ne(e)).length)throw new Error("Expected 32 bytes");return e}function ae(e){const t=se(e.slice(0,32)),r=e.slice(32,64),n=re(t),i=C.BASE.multiply(n),s=i.toRawBytes();return{head:t,prefix:r,scalar:n,point:i,pointBytes:s}}let ue;function ce(){if("function"!==typeof ue)throw new Error("utils.sha512Sync must be set to use sync methods");return ue(...arguments)}async function de(e){return ae(await me.sha512(oe(e)))}function le(e){return ae(ce(oe(e)))}function he(e,t,r){t=ne(t),r instanceof C||(r=C.fromHex(r,!1));const{r:n,s:i}=e instanceof W?e.assertValidity():W.fromHex(e);return{r:n,s:i,SB:O.BASE.multiplyUnsafe(i),pub:r,msg:t}}function fe(e,t,r,n){const i=re(n),s=O.fromAffine(e).multiplyUnsafe(i);return O.fromAffine(t).add(s).subtract(r).multiplyUnsafe(v.h).equals(O.ZERO)}const pe={getExtendedPublicKey:le,getPublicKey:function(e){return le(e).pointBytes},sign:function(e,t){e=ne(e);const{prefix:r,scalar:n,pointBytes:i}=le(t),s=re(ce(r,e)),o=C.BASE.multiply(s),a=J(s+re(ce(o.toRawBytes(),i,e))*n,v.l);return new W(o,a).toRawBytes()},verify:function(e,t,r){const{r:n,SB:i,msg:s,pub:o}=he(e,t,r),a=ce(n.toRawBytes(),o.toRawBytes(),s);return fe(o,n,i,a)}};C.BASE._setWindowSize(8);const ge={node:k,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0},me={bytesToHex:F,hexToBytes:G,concatBytes:D,getExtendedPublicKey:de,mod:J,invert:Q,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if((e=ne(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return J(Z(e),v.l-S)+S},randomBytes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(ge.web)return ge.web.getRandomValues(new Uint8Array(e));if(ge.node){const{randomBytes:t}=ge.node;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>me.randomBytes(32),sha512:async function(){const e=D(...arguments);if(ge.web){const t=await ge.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(ge.node)return Uint8Array.from(ge.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.BASE;const r=t.equals(C.BASE)?t:new C(t.x,t.y);return r._setWindowSize(e),r.multiply(I),r},sha512Sync:void 0};Object.defineProperties(me,{sha512Sync:{configurable:!1,get:()=>ue,set(e){ue||(ue=e)}}});var ye=r(68532),be=r.n(ye),we=r(18299),ke=r(94407),Ae=r(25047),Se=r(68706),Ie=r(54338),_e=r(85606),ve=r(32908),Ee=r.n(ve),xe=r(37132),Te=r(15568),Pe=r(34154),Re=r.t(Pe,2);const Be=BigInt(0),Oe=BigInt(1),Me=BigInt(2),Ue=BigInt(3),ze=BigInt(8),Le=Object.freeze({a:Be,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:Oe,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function Ne(e){const{a:t,b:r}=Le,n=it(e*e),i=it(n*e);return it(i+t*e+r)}const Ce=Le.a===Be;class We extends Error{constructor(e){super(e)}}class De{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof Fe))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new De(e.x,e.y,Oe)}static toAffineBatch(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le.P;const r=new Array(e.length),n=ot(e.reduce(((e,n,i)=>n===Be?e:(r[i]=e,it(e*n,t))),Oe),t);return e.reduceRight(((e,n,i)=>n===Be?e:(r[i]=it(e*r[i],t),it(e*n,t))),n),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return De.toAffineBatch(e).map(De.fromAffine)}equals(e){if(!(e instanceof De))throw new TypeError("JacobianPoint expected");const{x:t,y:r,z:n}=this,{x:i,y:s,z:o}=e,a=it(n*n),u=it(o*o),c=it(t*u),d=it(i*a),l=it(it(r*o)*u),h=it(it(s*n)*a);return c===d&&l===h}negate(){return new De(this.x,it(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,n=it(e*e),i=it(t*t),s=it(i*i),o=e+i,a=it(Me*(it(o*o)-n-s)),u=it(Ue*n),c=it(u*u),d=it(c-Me*a),l=it(u*(a-d)-ze*s),h=it(Me*t*r);return new De(d,l,h)}add(e){if(!(e instanceof De))throw new TypeError("JacobianPoint expected");const{x:t,y:r,z:n}=this,{x:i,y:s,z:o}=e;if(i===Be||s===Be)return this;if(t===Be||r===Be)return e;const a=it(n*n),u=it(o*o),c=it(t*u),d=it(i*a),l=it(it(r*o)*u),h=it(it(s*n)*a),f=it(d-c),p=it(h-l);if(f===Be)return p===Be?this.double():De.ZERO;const g=it(f*f),m=it(f*g),y=it(c*g),b=it(p*p-m-Me*y),w=it(p*(y-b)-l*m),k=it(n*o*f);return new De(b,w,k)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=De.ZERO;if("bigint"===typeof e&&e===Be)return t;let r=nt(e);if(r===Oe)return this;if(!Ce){let e=t,n=this;for(;r>Be;)r&Oe&&(e=e.add(n)),n=n.double(),r>>=Oe;return e}let{k1neg:n,k1:i,k2neg:s,k2:o}=ct(r),a=t,u=t,c=this;for(;i>Be||o>Be;)i&Oe&&(a=a.add(c)),o&Oe&&(u=u.add(c)),c=c.double(),i>>=Oe,o>>=Oe;return n&&(a=a.negate()),s&&(u=u.negate()),u=new De(it(u.x*Le.beta),u.y,u.z),a.add(u)}precomputeWindow(e){const t=Ce?128/e+1:256/e+1,r=[];let n=this,i=n;for(let s=0;s<t;s++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(De.BASE)&&(t=Fe.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&Ke.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=De.normalizeZ(n),Ke.set(t,n)));let i=De.ZERO,s=De.ZERO;const o=1+(Ce?128/r:256/r),a=2**(r-1),u=BigInt(2**r-1),c=2**r,d=BigInt(r);for(let l=0;l<o;l++){const t=l*a;let r=Number(e&u);if(e>>=d,r>a&&(r-=c,e+=Oe),0===r){let e=n[t];l%2&&(e=e.negate()),s=s.add(e)}else{let e=n[t+Math.abs(r)-1];r<0&&(e=e.negate()),i=i.add(e)}}return{p:i,f:s}}multiply(e,t){let r,n,i=nt(e);if(Ce){const{k1neg:e,k1:s,k2neg:o,k2:a}=ct(i);let{p:u,f:c}=this.wNAF(s,t),{p:d,f:l}=this.wNAF(a,t);e&&(u=u.negate()),o&&(d=d.negate()),d=new De(it(d.x*Le.beta),d.y,d.z),r=u.add(d),n=c.add(l)}else{const{p:e,f:s}=this.wNAF(i,t);r=e,n=s}return De.normalizeZ([r,n])[0]}toAffine(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot(this.z);const{x:t,y:r,z:n}=this,i=e,s=it(i*i),o=it(s*i),a=it(t*s),u=it(r*o);if(it(n*i)!==Oe)throw new Error("invZ was invalid");return new Fe(a,u)}}De.BASE=new De(Le.Gx,Le.Gy,Oe),De.ZERO=new De(Be,Oe,Be);const Ke=new WeakMap;class Fe{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,Ke.delete(this)}hasEvenY(){return this.y%Me===Be}static fromCompressedHex(e){const t=32===e.length,r=tt(t?e:e.subarray(1));if(!gt(r))throw new Error("Point is not on curve");let n=function(e){const{P:t}=Le,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),u=e*e*e%t,c=u*u*e%t,d=st(c,Ue)*c%t,l=st(d,Ue)*c%t,h=st(l,Me)*u%t,f=st(h,n)*h%t,p=st(f,i)*f%t,g=st(p,o)*p%t,m=st(g,a)*g%t,y=st(m,o)*p%t,b=st(y,Ue)*c%t,w=st(b,s)*f%t,k=st(w,r)*u%t;return st(k,Me)}(Ne(r));const i=(n&Oe)===Oe;if(t)i&&(n=it(-n));else{1===(1&e[0])!==i&&(n=it(-n))}const s=new Fe(r,n);return s.assertValidity(),s}static fromUncompressedHex(e){const t=tt(e.subarray(1,33)),r=tt(e.subarray(33,65)),n=new Fe(t,r);return n.assertValidity(),n}static fromHex(e){const t=rt(e),r=t.length,n=t[0];if(32===r||33===r&&(2===n||3===n))return this.fromCompressedHex(t);if(65===r&&4===n)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return Fe.BASE.multiply(yt(e))}static fromSignature(e,t,r){const n=dt(e=rt(e)),{r:i,s:s}=bt(t);if(0!==r&&1!==r)throw new Error("Cannot recover signature: invalid recovery bit");const o=1&r?"03":"02",a=Fe.fromHex(o+Je(i)),{n:u}=Le,c=ot(i,u),d=it(-n*c,u),l=it(s*c,u),h=Fe.BASE.multiplyAndAddUnsafe(a,d,l);if(!h)throw new Error("Cannot recover signature: point at infinify");return h.assertValidity(),h}toRawBytes(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return et(this.toHex(e))}toHex(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=Je(this.x);if(e){return`${this.hasEvenY()?"02":"03"}${t}`}return`04${t}${Je(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!gt(t)||!gt(r))throw new Error(e);const n=it(r*r);if(it(n-Ne(t))!==Be)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Fe(this.x,it(-this.y))}double(){return De.fromAffine(this).double().toAffine()}add(e){return De.fromAffine(this).add(De.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return De.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=De.fromAffine(this),i=t===Be||t===Oe||this!==Fe.BASE?n.multiplyUnsafe(t):n.multiply(t),s=De.fromAffine(e).multiplyUnsafe(r),o=i.add(s);return o.equals(De.ZERO)?void 0:o.toAffine()}}function Ge(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function Ve(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${He(e)}`);const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:tt(r),left:e.subarray(t+2)}}Fe.BASE=new Fe(Le.Gx,Le.Gy),Fe.ZERO=new Fe(Be,Be);class qe{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!==typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=t?He(e):e;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new qe(Ye(n.slice(0,64)),Ye(n.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!==typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:r,s:n}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${He(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=Ve(e.subarray(2)),{data:n,left:i}=Ve(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${He(i)}`);return{r:t,s:n}}(t?e:et(e));return new qe(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!pt(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!pt(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Le.n>>Oe;return this.s>e}normalizeS(){return this.hasHighS()?new qe(this.r,Le.n-this.s):this}toDERRawBytes(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return et(this.toDERHex(e))}toDERHex(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=Ge($e(this.s));if(e)return t;const r=Ge($e(this.r)),n=$e(r.length/2),i=$e(t.length/2);return`30${$e(r.length/2+t.length/2+4)}02${n}${r}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return et(this.toCompactHex())}toCompactHex(){return Je(this.r)+Je(this.s)}}function je(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const n=t.reduce(((e,t)=>e+t.length),0),i=new Uint8Array(n);for(let s=0,o=0;s<t.length;s++){const e=t[s];i.set(e,o),o+=e.length}return i}const Ze=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function He(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=Ze[e[r]];return t}const Xe=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Je(e){if("bigint"!==typeof e)throw new Error("Expected bigint");if(!(Be<=e&&e<Xe))throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function Qe(e){const t=et(Je(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function $e(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function Ye(e){if("string"!==typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function et(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function tt(e){return Ye(He(e))}function rt(e){return e instanceof Uint8Array?Uint8Array.from(e):et(e)}function nt(e){if("number"===typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"===typeof e&&pt(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function it(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le.P;const r=e%t;return r>=Be?r:t+r}function st(e,t){const{P:r}=Le;let n=e;for(;t-- >Be;)n*=n,n%=r;return n}function ot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le.P;if(e===Be||t<=Be)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=it(e,t),n=t,i=Be,s=Oe,o=Oe,a=Be;for(;r!==Be;){const e=n/r,t=n%r,u=i-o*e,c=s-a*e;n=r,r=t,i=o,s=a,o=u,a=c}const u=n;if(u!==Oe)throw new Error("invert: does not exist");return it(i,t)}const at=(e,t)=>(e+t/Me)/t,ut={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-Oe*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function ct(e){const{n:t}=Le,{a1:r,b1:n,a2:i,b2:s,POW_2_128:o}=ut,a=at(s*e,t),u=at(-n*e,t);let c=it(e-a*r-u*i,t),d=it(-a*n-u*s,t);const l=c>o,h=d>o;if(l&&(c=t-c),h&&(d=t-d),c>o||d>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:l,k1:c,k2neg:h,k2:d}}function dt(e){const{n:t}=Le,r=8*e.length-256;let n=tt(e);return r>0&&(n>>=BigInt(r)),n>=t&&(n-=t),n}let lt,ht;class ft{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Et.hmacSha256(this.k,...t)}hmacSync(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ht(this.k,...t)}checkSync(){if("function"!==typeof ht)throw new We("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}}function pt(e){return Be<e&&e<Le.n}function gt(e){return Be<e&&e<Le.P}function mt(e,t,r){const n=tt(e);if(!pt(n))return;const{n:i}=Le,s=Fe.BASE.multiply(n),o=it(s.x,i);if(o===Be)return;const a=it(ot(n,i)*it(t+r*o,i),i);if(a===Be)return;const u=new qe(o,a);return{sig:u,recovery:(s.x===u.r?0:2)|Number(s.y&Oe)}}function yt(e){let t;if("bigint"===typeof e)t=e;else if("number"===typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"===typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=Ye(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(32!==e.length)throw new Error("Expected 32 bytes of private key");t=tt(e)}if(!pt(t))throw new Error("Expected private key: 0 < key < n");return t}function bt(e){if(e instanceof qe)return e.assertValidity(),e;try{return qe.fromDER(e)}catch(t){return qe.fromCompact(e)}}function wt(e){return tt(e.length>32?e.slice(0,32):e)}function kt(e){const t=wt(e),r=it(t,Le.n);return At(r<Be?t:r)}function At(e){return Qe(e)}function St(e,t,r){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const n=rt(e),i=yt(t),s=[At(i),kt(n)];if(null!=r){!0===r&&(r=Et.randomBytes(32));const e=rt(r);if(32!==e.length)throw new Error("sign: Expected 32 bytes of extra data");s.push(e)}return{seed:je(...s),m:wt(n),d:i}}function It(e,t){let{sig:r,recovery:n}=e;const{canonical:i,der:s,recovered:o}=Object.assign({canonical:!0,der:!0},t);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);const a=s?r.toDERRawBytes():r.toCompactRawBytes();return o?[a,n]:a}Fe.BASE._setWindowSize(8);const _t={node:Re,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0},vt={},Et={bytesToHex:He,hexToBytes:et,concatBytes:je,mod:it,invert:ot,isValidPrivateKey(e){try{return yt(e),!0}catch(t){return!1}},_bigintTo32Bytes:Qe,_normalizePrivateKey:yt,hashToPrivateKey:e=>{if((e=rt(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return Qe(it(tt(e),Le.n-Oe)+Oe)},randomBytes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(_t.web)return _t.web.getRandomValues(new Uint8Array(e));if(_t.node){const{randomBytes:t}=_t.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Et.hashToPrivateKey(Et.randomBytes(40)),sha256:async function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(_t.web){const e=await _t.web.subtle.digest("SHA-256",je(...t));return new Uint8Array(e)}if(_t.node){const{createHash:e}=_t.node,r=e("sha256");return t.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(_t.web){const t=await _t.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=je(...r),i=await _t.web.subtle.sign("HMAC",t,n);return new Uint8Array(i)}if(_t.node){const{createHmac:t}=_t.node,n=t("sha256",e);return r.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async function(e){let t=vt[e];if(void 0===t){const r=await Et.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=je(r,r),vt[e]=t}for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Et.sha256(t,...n)},taggedHashSync:function(e){if("function"!==typeof lt)throw new We("sha256Sync is undefined, you need to set it");let t=vt[e];if(void 0===t){const r=lt(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=je(r,r),vt[e]=t}for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return lt(t,...n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fe.BASE;const r=t===Fe.BASE?t:new Fe(t.x,t.y);return r._setWindowSize(e),r.multiply(Ue),r}};Object.defineProperties(Et,{sha256Sync:{configurable:!1,get:()=>lt,set(e){lt||(lt=e)}},hmacSha256Sync:{configurable:!1,get:()=>ht,set(e){ht||(ht=e)}}}),me.sha512Sync=function(){return(0,b.o)(me.concatBytes(...arguments))};const xt=me.randomPrivateKey,Tt=()=>{const e=me.randomPrivateKey(),t=Pt(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},Pt=pe.getPublicKey;function Rt(e){try{return C.fromHex(e,!0),!0}catch{return!1}}const Bt=(e,t)=>pe.sign(e,t.slice(0,32)),Ot=pe.verify,Mt=e=>y.Buffer.isBuffer(e)?e:e instanceof Uint8Array?y.Buffer.from(e.buffer,e.byteOffset,e.byteLength):y.Buffer.from(e);class Ut{constructor(e){Object.assign(this,e)}encode(){return y.Buffer.from((0,ke.serialize)(Lt,this))}static decode(e){return(0,ke.deserialize)(Lt,this,e)}static decodeUnchecked(e){return(0,ke.deserializeUnchecked)(Lt,this,e)}}class zt extends Ut{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const Lt=new Map,Nt=32,Ct=32;let Wt=1;class Dt extends Ut{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=be().decode(e);if(t.length!=Ct)throw new Error("Invalid public key input");this._bn=new(m())(t)}else this._bn=new(m())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const e=new Dt(Wt);return Wt+=1,new Dt(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return be().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(y.Buffer);if(e.length===Ct)return e;const t=y.Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=y.Buffer.concat([e.toBuffer(),y.Buffer.from(t),r.toBuffer()]),i=(0,we.J)(n);return new Dt(i)}static createProgramAddressSync(e,t){let r=y.Buffer.alloc(0);e.forEach((function(e){if(e.length>Nt)throw new TypeError("Max seed length exceeded");r=y.Buffer.concat([r,Mt(e)])})),r=y.Buffer.concat([r,t.toBuffer(),y.Buffer.from("ProgramDerivedAddress")]);const n=(0,we.J)(r);if(Rt(n))throw new Error("Invalid seeds, address must fall off the curve");return new Dt(n)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(y.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(_a){if(_a instanceof TypeError)throw _a;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return Rt(new Dt(e).toBytes())}}Dt.default=new Dt("11111111111111111111111111111111"),Lt.set(Dt,{kind:"struct",fields:[["_bn","u256"]]});class Kt{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const t=Mt(e);if(64!==e.length)throw new Error("bad secret key size");this._publicKey=t.slice(32,64),this._secretKey=t.slice(0,32)}else this._secretKey=Mt(xt()),this._publicKey=Mt(Pt(this._secretKey))}get publicKey(){return new Dt(this._publicKey)}get secretKey(){return y.Buffer.concat([this._secretKey,this._publicKey],64)}}const Ft=new Dt("BPFLoader1111111111111111111111111111111111"),Gt=1232,Vt=127,qt=64;class jt extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(jt.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Zt extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Zt.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Ht{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,r)=>{t.set(e.toBase58(),r)}));const r=e=>{const r=t.get(e.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return e.map((e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map((e=>r(e.pubkey))),data:e.data})))}}const Xt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return Ae.Ik(32,e)},Jt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"signature";return Ae.Ik(64,e)},Qt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=Ae.n_([Ae.Jq("length"),Ae.Jq("lengthPadding"),Ae.Ik(Ae.cv(Ae.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(e,t)=>r(e,t).chars.toString(),i.encode=(e,t,r)=>{const i={chars:y.Buffer.from(e,"utf8")};return n(i,t,r)},i.alloc=e=>Ae.Jq().span+Ae.Jq().span+y.Buffer.from(e,"utf8").length,i};function $t(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"===typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}else if("fields"in e)return $t({layout:e},t[e.property]);return 0};let n=0;return e.layout.fields.forEach((e=>{n+=r(e)})),n}function Yt(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function er(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}function tr(e,t){if(!e)throw new Error(t||"Assertion failed")}class rr{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,n=e=>{const t=e.toBase58();let n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},i=n(t);i.isSigner=!0,i.isWritable=!0;for(const s of e){n(s.programId).isInvoked=!0;for(const e of s.keys){const t=n(e.pubkey);t.isSigner||(t.isSigner=e.isSigner),t.isWritable||(t.isWritable=e.isWritable)}}return new rr(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];tr(e.length<=256,"Max static account keys length exceeded");const t=e.filter((e=>{let[,t]=e;return t.isSigner&&t.isWritable})),r=e.filter((e=>{let[,t]=e;return t.isSigner&&!t.isWritable})),n=e.filter((e=>{let[,t]=e;return!t.isSigner&&t.isWritable})),i=e.filter((e=>{let[,t]=e;return!t.isSigner&&!t.isWritable})),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{tr(t.length>0,"Expected at least one writable signer key");const[e]=t[0];tr(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...t.map((e=>{let[t]=e;return new Dt(t)})),...r.map((e=>{let[t]=e;return new Dt(t)})),...n.map((e=>{let[t]=e;return new Dt(t)})),...i.map((e=>{let[t]=e;return new Dt(t)}))]]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,n=new Array;for(const[i,s]of this.keyMetaMap.entries())if(t(s)){const t=new Dt(i),s=e.findIndex((e=>e.equals(t)));s>=0&&(tr(s<256,"Max lookup table index exceeded"),r.push(s),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}}class nr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Dt(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:be().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new Ht(this.staticAccountKeys)}static compile(e){const t=rr.compile(e.instructions,e.payerKey),[r,n]=t.getMessageComponents(),i=new Ht(n).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:be().encode(e.data)})));return new nr({header:r,accountKeys:n,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];er(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(be().decode(e.data));let i=[];er(i,t.length);let s=[];return er(s,n.length),{programIdIndex:r,keyIndicesCount:y.Buffer.from(i),keyIndices:t,dataLength:y.Buffer.from(s),data:n}}));let n=[];er(n,r.length);let i=y.Buffer.alloc(Gt);y.Buffer.from(n).copy(i);let s=n.length;r.forEach((e=>{const t=Ae.n_([Ae.u8("programIdIndex"),Ae.Ik(e.keyIndicesCount.length,"keyIndicesCount"),Ae.A9(Ae.u8("keyIndex"),e.keyIndices.length,"keyIndices"),Ae.Ik(e.dataLength.length,"dataLength"),Ae.A9(Ae.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t})),i=i.slice(0,s);const o=Ae.n_([Ae.Ik(1,"numRequiredSignatures"),Ae.Ik(1,"numReadonlySignedAccounts"),Ae.Ik(1,"numReadonlyUnsignedAccounts"),Ae.Ik(t.length,"keyCount"),Ae.A9(Xt("key"),e,"keys"),Xt("recentBlockhash")]),a={numRequiredSignatures:y.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:y.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:y.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:y.Buffer.from(t),keys:this.accountKeys.map((e=>Mt(e.toBytes()))),recentBlockhash:be().decode(this.recentBlockhash)};let u=y.Buffer.alloc(2048);const c=o.encode(a,u);return i.copy(u,c),u.slice(0,c+i.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(r&Vt))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const n=t.shift(),i=t.shift(),s=Yt(t);let o=[];for(let l=0;l<s;l++){const e=t.slice(0,Ct);t=t.slice(Ct),o.push(new Dt(y.Buffer.from(e)))}const a=t.slice(0,Ct);t=t.slice(Ct);const u=Yt(t);let c=[];for(let l=0;l<u;l++){const e=t.shift(),r=Yt(t),n=t.slice(0,r);t=t.slice(r);const i=Yt(t),s=t.slice(0,i),o=be().encode(y.Buffer.from(s));t=t.slice(i),c.push({programIdIndex:e,accounts:n,data:o})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:be().encode(y.Buffer.from(a)),accountKeys:o,instructions:c};return new nr(d)}}class ir{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ht(this.staticAccountKeys,t)}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const n=e.find((e=>e.key.equals(r.accountKey)));if(!n)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const e of r.writableIndexes){if(!(e<n.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);t.writable.push(n.state.addresses[e])}for(const e of r.readonlyIndexes){if(!(e<n.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);t.readonly.push(n.state.addresses[e])}}return t}static compile(e){const t=rr.compile(e.instructions,e.payerKey),r=new Array,n={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const u of i){const e=t.extractTableLookup(u);if(void 0!==e){const[t,{writable:i,readonly:s}]=e;r.push(t),n.writable.push(...i),n.readonly.push(...s)}}const[s,o]=t.getMessageComponents(),a=new Ht(o,n).compileInstructions(e.instructions);return new ir({header:s,staticAccountKeys:o,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){const e=Array();er(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();er(r,this.compiledInstructions.length);const n=this.serializeAddressTableLookups(),i=Array();er(i,this.addressTableLookups.length);const s=Ae.n_([Ae.u8("prefix"),Ae.n_([Ae.u8("numRequiredSignatures"),Ae.u8("numReadonlySignedAccounts"),Ae.u8("numReadonlyUnsignedAccounts")],"header"),Ae.Ik(e.length,"staticAccountKeysLength"),Ae.A9(Xt(),this.staticAccountKeys.length,"staticAccountKeys"),Xt("recentBlockhash"),Ae.Ik(r.length,"instructionsLength"),Ae.Ik(t.length,"serializedInstructions"),Ae.Ik(i.length,"addressTableLookupsLength"),Ae.Ik(n.length,"serializedAddressTableLookups")]),o=new Uint8Array(Gt),a=s.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:be().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},o);return o.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(Gt);for(const r of this.compiledInstructions){const n=Array();er(n,r.accountKeyIndexes.length);const i=Array();er(i,r.data.length);e+=Ae.n_([Ae.u8("programIdIndex"),Ae.Ik(n.length,"encodedAccountKeyIndexesLength"),Ae.A9(Ae.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),Ae.Ik(i.length,"encodedDataLength"),Ae.Ik(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Gt);for(const r of this.addressTableLookups){const n=Array();er(n,r.writableIndexes.length);const i=Array();er(i,r.readonlyIndexes.length);e+=Ae.n_([Xt("accountKey"),Ae.Ik(n.length,"encodedWritableIndexesLength"),Ae.A9(Ae.u8(),r.writableIndexes.length,"writableIndexes"),Ae.Ik(i.length,"encodedReadonlyIndexesLength"),Ae.A9(Ae.u8(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=t.shift(),n=r&Vt;tr(r!==n,"Expected versioned message but received legacy message");tr(0===n,`Expected versioned message with version 0 but found version ${n}`);const i={numRequiredSignatures:t.shift(),numReadonlySignedAccounts:t.shift(),numReadonlyUnsignedAccounts:t.shift()},s=[],o=Yt(t);for(let h=0;h<o;h++)s.push(new Dt(t.splice(0,Ct)));const a=be().encode(t.splice(0,Ct)),u=Yt(t),c=[];for(let h=0;h<u;h++){const e=t.shift(),r=Yt(t),n=t.splice(0,r),i=Yt(t),s=new Uint8Array(t.splice(0,i));c.push({programIdIndex:e,accountKeyIndexes:n,data:s})}const d=Yt(t),l=[];for(let h=0;h<d;h++){const e=new Dt(t.splice(0,Ct)),r=Yt(t),n=t.splice(0,r),i=Yt(t),s=t.splice(0,i);l.push({accountKey:e,writableIndexes:n,readonlyIndexes:s})}return new ir({header:i,staticAccountKeys:s,recentBlockhash:a,compiledInstructions:c,addressTableLookups:l})}}const sr={deserializeMessageVersion(e){const t=e[0],r=t&Vt;return r===t?"legacy":r},deserialize:e=>{const t=sr.deserializeMessageVersion(e);if("legacy"===t)return nr.from(e);if(0===t)return ir.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let or;!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(or||(or={}));const ar=y.Buffer.alloc(qt).fill(0);class ur{constructor(e){this.keys=void 0,this.programId=void 0,this.data=y.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:[...this.data]}}}class cr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new ur(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let p=0;p<t.length;p++)if(void 0===t[p].programId)throw new Error(`Transaction instruction index ${p} has undefined program id`);const n=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new Dt(e),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((e=>{const t=e.pubkey.toString(),r=s.findIndex((e=>e.pubkey.toString()===t));r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)})),s.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));const o=s.findIndex((e=>e.pubkey.equals(r)));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const p of this.signatures){const e=s.findIndex((e=>e.pubkey.equals(p.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${p.publicKey.toString()}`);s[e].isSigner||(s[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,c=0;const d=[],l=[];s.forEach((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;r?(d.push(t.toString()),a+=1,n||(u+=1)):(l.push(t.toString()),n||(c+=1))}));const h=d.concat(l),f=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:h.indexOf(r.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:be().encode(t)}}));return f.forEach((e=>{tr(e.programIdIndex>=0),e.accounts.forEach((e=>tr(e>=0)))})),new nr({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const s=this._compile();this._partialSign(s,...i)}partialSign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}const s=this._compile();this._partialSign(s,...i)}_partialSign(e){const t=e.serialize();for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];n.forEach((e=>{const r=Bt(t,e.secretKey);this._addSignature(e.publicKey,Mt(r))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){tr(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=y.Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!Ot(r,e,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];er(r,t.length);const n=r.length+64*t.length+e.length,i=y.Buffer.alloc(n);return tr(t.length<256),y.Buffer.from(r).copy(i,0),t.forEach(((e,t)=>{let{signature:n}=e;null!==n&&(tr(64===n.length,"signature has invalid length"),y.Buffer.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),tr(i.length<=Gt,`Transaction too large: ${i.length} > ${Gt}`),i}get keys(){return tr(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return tr(1===this.instructions.length),this.instructions[0].programId}get data(){return tr(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=Yt(t);let n=[];for(let i=0;i<r;i++){const e=t.slice(0,qt);t=t.slice(qt),n.push(be().encode(y.Buffer.from(e)))}return cr.populate(nr.from(t),n)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new cr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==be().encode(ar)?null:be().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new ur({keys:n,programId:e.accountKeys[t.programIdIndex],data:be().decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}class dr{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,t){const{header:r,compiledInstructions:n,recentBlockhash:i}=e,{numRequiredSignatures:s,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:a}=r,u=s-o;tr(u>0,"Message header is invalid");const c=e.staticAccountKeys.length-a;tr(c>=0,"Message header is invalid");const d=e.getAccountKeys(t),l=d.get(0);if(void 0===l)throw new Error("Failed to decompile message because no account keys were found");const h=[];for(const f of n){const e=[];for(const n of f.accountKeyIndexes){const t=d.get(n);if(void 0===t)throw new Error(`Failed to find key for account key index ${n}`);let i;i=n<s?n<u:n<d.staticAccountKeys.length?n-s<c:n-d.staticAccountKeys.length<d.accountKeysFromLookups.writable.length,e.push({pubkey:t,isSigner:n<r.numRequiredSignatures,isWritable:i})}const t=d.get(f.programIdIndex);if(void 0===t)throw new Error(`Failed to find program id for program id index ${f.programIdIndex}`);h.push(new ur({programId:t,data:Mt(f.data),keys:e}))}return new dr({payerKey:l,instructions:h,recentBlockhash:i})}compileToLegacyMessage(){return nr.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return ir.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class lr{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)tr(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let r=0;r<e.header.numRequiredSignatures;r++)t.push(new Uint8Array(qt));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();er(t,this.signatures.length);const r=Ae.n_([Ae.Ik(t.length,"encodedSignaturesLength"),Ae.A9(Jt(),this.signatures.length,"signatures"),Ae.Ik(e.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,i)}static deserialize(e){let t=[...e];const r=[],n=Yt(t);for(let s=0;s<n;s++)r.push(new Uint8Array(t.splice(0,qt)));const i=sr.deserialize(new Uint8Array(t));return new lr(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const n of e){const e=r.findIndex((e=>e.equals(n.publicKey)));tr(e>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[e]=Bt(t,n.secretKey)}}}const hr=new Dt("SysvarC1ock11111111111111111111111111111111"),fr=new Dt("SysvarEpochSchedu1e111111111111111111111111"),pr=new Dt("Sysvar1nstructions1111111111111111111111111"),gr=new Dt("SysvarRecentB1ockHashes11111111111111111111"),mr=new Dt("SysvarRent111111111111111111111111111111111"),yr=new Dt("SysvarRewards111111111111111111111111111111"),br=new Dt("SysvarS1otHashes111111111111111111111111111"),wr=new Dt("SysvarS1otHistory11111111111111111111111111"),kr=new Dt("SysvarStakeHistory1111111111111111111111111");async function Ar(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await e.sendTransaction(t,r,i),o=null!=t.recentBlockhash&&null!=t.lastValidBlockHeight?(await e.confirmTransaction({signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value:(await e.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Sr(e){return new Promise((t=>setTimeout(t,e)))}function Ir(e,t){const r=e.layout.span>=0?e.layout.span:$t(e,t),n=y.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}function _r(e,t){let r;try{r=e.layout.decode(t)}catch(_a){throw new Error("invalid instruction; "+_a)}if(r.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${e.index}`);return r}const vr=Ae._O("lamportsPerSignature"),Er=Ae.n_([Ae.Jq("version"),Ae.Jq("state"),Xt("authorizedPubkey"),Xt("nonce"),Ae.n_([vr],"feeCalculator")]),xr=Er.span;class Tr{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=Er.decode(Mt(e),0);return new Tr({authorizedPubkey:new Dt(t.authorizedPubkey),nonce:new Dt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const Pr=(Rr=8,e=>{const t=(0,Ae.Ik)(Rr,e),{encode:r,decode:n}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const r=n(e,t);return(0,Se.oU)(y.Buffer.from(r))},i.encode=(e,t,n)=>{const i=(0,Se.k$)(e,Rr);return r(i,t,n)},i});var Rr;class Br{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Ae.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Or))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:n}=_r(Or.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Dt(n)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=_r(Or.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:n}=_r(Or.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Dt(n)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=_r(Or.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:n,programId:i}=_r(Or.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Dt(t),seed:r,space:n,programId:new Dt(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=_r(Or.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Dt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:n}=_r(Or.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Dt(t),seed:r,programId:new Dt(n)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:n,space:i,programId:s}=_r(Or.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Dt(t),seed:r,lamports:n,space:i,programId:new Dt(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=_r(Or.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Dt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),_r(Or.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=_r(Or.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=_r(Or.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Dt(t)}}static checkProgramId(e){if(!e.equals(Mr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Or=Object.freeze({Create:{index:0,layout:Ae.n_([Ae.Jq("instruction"),Ae.gM("lamports"),Ae.gM("space"),Xt("programId")])},Assign:{index:1,layout:Ae.n_([Ae.Jq("instruction"),Xt("programId")])},Transfer:{index:2,layout:Ae.n_([Ae.Jq("instruction"),Pr("lamports")])},CreateWithSeed:{index:3,layout:Ae.n_([Ae.Jq("instruction"),Xt("base"),Qt("seed"),Ae.gM("lamports"),Ae.gM("space"),Xt("programId")])},AdvanceNonceAccount:{index:4,layout:Ae.n_([Ae.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:Ae.n_([Ae.Jq("instruction"),Ae.gM("lamports")])},InitializeNonceAccount:{index:6,layout:Ae.n_([Ae.Jq("instruction"),Xt("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ae.n_([Ae.Jq("instruction"),Xt("authorized")])},Allocate:{index:8,layout:Ae.n_([Ae.Jq("instruction"),Ae.gM("space")])},AllocateWithSeed:{index:9,layout:Ae.n_([Ae.Jq("instruction"),Xt("base"),Qt("seed"),Ae.gM("space"),Xt("programId")])},AssignWithSeed:{index:10,layout:Ae.n_([Ae.Jq("instruction"),Xt("base"),Qt("seed"),Xt("programId")])},TransferWithSeed:{index:11,layout:Ae.n_([Ae.Jq("instruction"),Pr("lamports"),Qt("seed"),Xt("programId")])},UpgradeNonceAccount:{index:12,layout:Ae.n_([Ae.Jq("instruction")])}});class Mr{constructor(){}static createAccount(e){const t=Ir(Or.Create,{lamports:e.lamports,space:e.space,programId:Mt(e.programId.toBuffer())});return new ur({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=Ir(Or.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:Mt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=Ir(Or.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=Ir(Or.AssignWithSeed,{base:Mt(e.basePubkey.toBuffer()),seed:e.seed,programId:Mt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Ir(Or.Assign,{programId:Mt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Ir(Or.CreateWithSeed,{base:Mt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Mt(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ur({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new cr;"basePubkey"in e&&"seed"in e?t.add(Mr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:xr,programId:this.programId})):t.add(Mr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:xr,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Ir(Or.InitializeNonceAccount,{authorized:Mt(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:mr,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new ur(r)}static nonceAdvance(e){const t=Ir(Or.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new ur(r)}static nonceWithdraw(e){const t=Ir(Or.WithdrawNonceAccount,{lamports:e.lamports});return new ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:gr,isSigner:!1,isWritable:!1},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=Ir(Or.AuthorizeNonceAccount,{authorized:Mt(e.newAuthorizedPubkey.toBuffer())});return new ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=Ir(Or.AllocateWithSeed,{base:Mt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Mt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Ir(Or.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:t})}}Mr.programId=new Dt("11111111111111111111111111111111");const Ur=Gt-300;class zr{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/zr.chunkSize)+1+1)}static async load(e,t,r,n,i){{const s=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new cr,a.add(Mr.allocate({accountPubkey:r.publicKey,space:i.length}))),o.owner.equals(n)||(a=a||new cr,a.add(Mr.assign({accountPubkey:r.publicKey,programId:n}))),o.lamports<s&&(a=a||new cr,a.add(Mr.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:s-o.lamports})))}else a=(new cr).add(Mr.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:i.length,programId:n}));null!==a&&await Ar(e,a,[t,r],{commitment:"confirmed"})}const s=Ae.n_([Ae.Jq("instruction"),Ae.Jq("offset"),Ae.Jq("bytesLength"),Ae.Jq("bytesLengthPadding"),Ae.A9(Ae.u8("byte"),Ae.cv(Ae.Jq(),-8),"bytes")]),o=zr.chunkSize;let a=0,u=i,c=[];for(;u.length>0;){const i=u.slice(0,o),d=y.Buffer.alloc(o+16);s.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},d);const l=(new cr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:d});if(c.push(Ar(e,l,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await Sr(1e3/e)}a+=o,u=u.slice(o)}await Promise.all(c);{const i=Ae.n_([Ae.Jq("instruction")]),s=y.Buffer.alloc(i.span);i.encode({instruction:1},s);const o=(new cr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:mr,isSigner:!1,isWritable:!1}],programId:n,data:s});await Ar(e,o,[t,r],{commitment:"confirmed"})}return!0}}zr.chunkSize=Ur;const Lr=new Dt("BPFLoader2111111111111111111111111111111111");class Nr{static getMinNumSignatures(e){return zr.getMinNumSignatures(e)}static load(e,t,r,n,i){return zr.load(e,t,r,i,n)}}var Cr=Object.prototype.toString,Wr=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function Dr(e,t){var r,n,i,s,o,a,u;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"===typeof e.toJSON)return Dr(e.toJSON(),t);if("[object Array]"===(u=Cr.call(e))){for(i="[",n=e.length-1,r=0;r<n;r++)i+=Dr(e[r],!0)+",";return n>-1&&(i+=Dr(e[r],!0)),i+"]"}if("[object Object]"===u){for(n=(s=Wr(e).sort()).length,i="",r=0;r<n;)void 0!==(a=Dr(e[o=s[r]],!1))&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),r++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var Kr=function(e){var t=Dr(e,!1);if(void 0!==t)return""+t};function Fr(e){let t=0;for(;e>1;)e/=2,t++;return t}class Gr{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=Fr(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Fr(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Fr(32)):this.slotsPerEpoch}}class Vr extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const qr={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class jr extends Error{constructor(e,t){let{code:r,message:n,data:i}=e;super(null!=t?`${t}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=r,this.data=i,this.name="SolanaJSONRPCError"}}var Zr=globalThis.fetch;class Hr{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){return this.state.deactivationSlot===2n**64n-1n}static deserialize(e){const t=function(e,t){let r;try{r=e.layout.decode(t)}catch(_a){throw new Error("invalid instruction; "+_a)}if(r.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}(Xr,e),r=e.length-56;tr(r>=0,"lookup table is invalid"),tr(r%32===0,"lookup table is invalid");const n=r/32,{addresses:i}=Ae.n_([Ae.A9(Xt(),n,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new Dt(t.authority[0]):void 0,addresses:i.map((e=>new Dt(e)))}}}const Xr={index:1,layout:Ae.n_([Ae.Jq("typeIndex"),Pr("deactivationSlot"),Ae._O("lastExtendedSlot"),Ae.u8("lastExtendedStartIndex"),Ae.u8(),Ae.A9(Xt(),Ae.cv(Ae.u8(),-1),"authority")])},Jr=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;var Qr;const $r=(0,Ie.oQ)((0,Ie.eE)(Dt),(0,Ie.Z_)(),(e=>new Dt(e))),Yr=(0,Ie.bc)([(0,Ie.Z_)(),(0,Ie.i0)("base64")]),en=(0,Ie.oQ)((0,Ie.eE)(y.Buffer),Yr,(e=>y.Buffer.from(e[0],"base64"))),tn=3e4;function rn(e){let t,r;if("string"===typeof e)t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function nn(e){return(0,Ie.G0)([(0,Ie.dt)({jsonrpc:(0,Ie.i0)("2.0"),id:(0,Ie.Z_)(),result:e}),(0,Ie.dt)({jsonrpc:(0,Ie.i0)("2.0"),id:(0,Ie.Z_)(),error:(0,Ie.dt)({code:(0,Ie._4)(),message:(0,Ie.Z_)(),data:(0,Ie.jt)((0,Ie.Yj)())})})])}const sn=nn((0,Ie._4)());function on(e){return(0,Ie.oQ)(nn(e),sn,(t=>"error"in t?t:{...t,result:(0,Ie.Ue)(t.result,e)}))}function an(e){return on((0,Ie.dt)({context:(0,Ie.dt)({slot:(0,Ie.Rx)()}),value:e}))}function un(e){return(0,Ie.dt)({context:(0,Ie.dt)({slot:(0,Ie.Rx)()}),value:e})}function cn(e,t){return 0===e?new ir({header:t.header,staticAccountKeys:t.accountKeys.map((e=>new Dt(e))),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:be().decode(e.data)}))),addressTableLookups:t.addressTableLookups}):new nr(t)}const dn=(0,Ie.dt)({foundation:(0,Ie.Rx)(),foundationTerm:(0,Ie.Rx)(),initial:(0,Ie.Rx)(),taper:(0,Ie.Rx)(),terminal:(0,Ie.Rx)()}),ln=on((0,Ie.IX)((0,Ie.AG)((0,Ie.dt)({epoch:(0,Ie.Rx)(),effectiveSlot:(0,Ie.Rx)(),amount:(0,Ie.Rx)(),postBalance:(0,Ie.Rx)()})))),hn=(0,Ie.dt)({epoch:(0,Ie.Rx)(),slotIndex:(0,Ie.Rx)(),slotsInEpoch:(0,Ie.Rx)(),absoluteSlot:(0,Ie.Rx)(),blockHeight:(0,Ie.jt)((0,Ie.Rx)()),transactionCount:(0,Ie.jt)((0,Ie.Rx)())}),fn=(0,Ie.dt)({slotsPerEpoch:(0,Ie.Rx)(),leaderScheduleSlotOffset:(0,Ie.Rx)(),warmup:(0,Ie.O7)(),firstNormalEpoch:(0,Ie.Rx)(),firstNormalSlot:(0,Ie.Rx)()}),pn=(0,Ie.IM)((0,Ie.Z_)(),(0,Ie.IX)((0,Ie.Rx)())),gn=(0,Ie.AG)((0,Ie.G0)([(0,Ie.dt)({}),(0,Ie.Z_)()])),mn=(0,Ie.dt)({err:gn}),yn=(0,Ie.i0)("receivedSignature"),bn=(0,Ie.dt)({"solana-core":(0,Ie.Z_)(),"feature-set":(0,Ie.jt)((0,Ie.Rx)())}),wn=an((0,Ie.dt)({err:(0,Ie.AG)((0,Ie.G0)([(0,Ie.dt)({}),(0,Ie.Z_)()])),logs:(0,Ie.AG)((0,Ie.IX)((0,Ie.Z_)())),accounts:(0,Ie.jt)((0,Ie.AG)((0,Ie.IX)((0,Ie.AG)((0,Ie.dt)({executable:(0,Ie.O7)(),owner:(0,Ie.Z_)(),lamports:(0,Ie.Rx)(),data:(0,Ie.IX)((0,Ie.Z_)()),rentEpoch:(0,Ie.jt)((0,Ie.Rx)())}))))),unitsConsumed:(0,Ie.jt)((0,Ie.Rx)()),returnData:(0,Ie.jt)((0,Ie.AG)((0,Ie.dt)({programId:(0,Ie.Z_)(),data:(0,Ie.bc)([(0,Ie.Z_)(),(0,Ie.i0)("base64")])})))})),kn=an((0,Ie.dt)({byIdentity:(0,Ie.IM)((0,Ie.Z_)(),(0,Ie.IX)((0,Ie.Rx)())),range:(0,Ie.dt)({firstSlot:(0,Ie.Rx)(),lastSlot:(0,Ie.Rx)()})}));const An=on(dn),Sn=on(hn),In=on(fn),_n=on(pn),vn=on((0,Ie.Rx)()),En=an((0,Ie.dt)({total:(0,Ie.Rx)(),circulating:(0,Ie.Rx)(),nonCirculating:(0,Ie.Rx)(),nonCirculatingAccounts:(0,Ie.IX)($r)})),xn=(0,Ie.dt)({amount:(0,Ie.Z_)(),uiAmount:(0,Ie.AG)((0,Ie.Rx)()),decimals:(0,Ie.Rx)(),uiAmountString:(0,Ie.jt)((0,Ie.Z_)())}),Tn=an((0,Ie.IX)((0,Ie.dt)({address:$r,amount:(0,Ie.Z_)(),uiAmount:(0,Ie.AG)((0,Ie.Rx)()),decimals:(0,Ie.Rx)(),uiAmountString:(0,Ie.jt)((0,Ie.Z_)())}))),Pn=an((0,Ie.IX)((0,Ie.dt)({pubkey:$r,account:(0,Ie.dt)({executable:(0,Ie.O7)(),owner:$r,lamports:(0,Ie.Rx)(),data:en,rentEpoch:(0,Ie.Rx)()})}))),Rn=(0,Ie.dt)({program:(0,Ie.Z_)(),parsed:(0,Ie._4)(),space:(0,Ie.Rx)()}),Bn=an((0,Ie.IX)((0,Ie.dt)({pubkey:$r,account:(0,Ie.dt)({executable:(0,Ie.O7)(),owner:$r,lamports:(0,Ie.Rx)(),data:Rn,rentEpoch:(0,Ie.Rx)()})}))),On=an((0,Ie.IX)((0,Ie.dt)({lamports:(0,Ie.Rx)(),address:$r}))),Mn=(0,Ie.dt)({executable:(0,Ie.O7)(),owner:$r,lamports:(0,Ie.Rx)(),data:en,rentEpoch:(0,Ie.Rx)()}),Un=(0,Ie.dt)({pubkey:$r,account:Mn}),zn=(0,Ie.oQ)((0,Ie.G0)([(0,Ie.eE)(y.Buffer),Rn]),(0,Ie.G0)([Yr,Rn]),(e=>Array.isArray(e)?(0,Ie.Ue)(e,en):e)),Ln=(0,Ie.dt)({executable:(0,Ie.O7)(),owner:$r,lamports:(0,Ie.Rx)(),data:zn,rentEpoch:(0,Ie.Rx)()}),Nn=(0,Ie.dt)({pubkey:$r,account:Ln}),Cn=(0,Ie.dt)({state:(0,Ie.G0)([(0,Ie.i0)("active"),(0,Ie.i0)("inactive"),(0,Ie.i0)("activating"),(0,Ie.i0)("deactivating")]),active:(0,Ie.Rx)(),inactive:(0,Ie.Rx)()}),Wn=on((0,Ie.IX)((0,Ie.dt)({signature:(0,Ie.Z_)(),slot:(0,Ie.Rx)(),err:gn,memo:(0,Ie.AG)((0,Ie.Z_)()),blockTime:(0,Ie.jt)((0,Ie.AG)((0,Ie.Rx)()))}))),Dn=on((0,Ie.IX)((0,Ie.dt)({signature:(0,Ie.Z_)(),slot:(0,Ie.Rx)(),err:gn,memo:(0,Ie.AG)((0,Ie.Z_)()),blockTime:(0,Ie.jt)((0,Ie.AG)((0,Ie.Rx)()))}))),Kn=(0,Ie.dt)({subscription:(0,Ie.Rx)(),result:un(Mn)}),Fn=(0,Ie.dt)({pubkey:$r,account:Mn}),Gn=(0,Ie.dt)({subscription:(0,Ie.Rx)(),result:un(Fn)}),Vn=(0,Ie.dt)({parent:(0,Ie.Rx)(),slot:(0,Ie.Rx)(),root:(0,Ie.Rx)()}),qn=(0,Ie.dt)({subscription:(0,Ie.Rx)(),result:Vn}),jn=(0,Ie.G0)([(0,Ie.dt)({type:(0,Ie.G0)([(0,Ie.i0)("firstShredReceived"),(0,Ie.i0)("completed"),(0,Ie.i0)("optimisticConfirmation"),(0,Ie.i0)("root")]),slot:(0,Ie.Rx)(),timestamp:(0,Ie.Rx)()}),(0,Ie.dt)({type:(0,Ie.i0)("createdBank"),parent:(0,Ie.Rx)(),slot:(0,Ie.Rx)(),timestamp:(0,Ie.Rx)()}),(0,Ie.dt)({type:(0,Ie.i0)("frozen"),slot:(0,Ie.Rx)(),timestamp:(0,Ie.Rx)(),stats:(0,Ie.dt)({numTransactionEntries:(0,Ie.Rx)(),numSuccessfulTransactions:(0,Ie.Rx)(),numFailedTransactions:(0,Ie.Rx)(),maxTransactionsPerEntry:(0,Ie.Rx)()})}),(0,Ie.dt)({type:(0,Ie.i0)("dead"),slot:(0,Ie.Rx)(),timestamp:(0,Ie.Rx)(),err:(0,Ie.Z_)()})]),Zn=(0,Ie.dt)({subscription:(0,Ie.Rx)(),result:jn}),Hn=(0,Ie.dt)({subscription:(0,Ie.Rx)(),result:un((0,Ie.G0)([mn,yn]))}),Xn=(0,Ie.dt)({subscription:(0,Ie.Rx)(),result:(0,Ie.Rx)()}),Jn=(0,Ie.dt)({pubkey:(0,Ie.Z_)(),gossip:(0,Ie.AG)((0,Ie.Z_)()),tpu:(0,Ie.AG)((0,Ie.Z_)()),rpc:(0,Ie.AG)((0,Ie.Z_)()),version:(0,Ie.AG)((0,Ie.Z_)())}),Qn=(0,Ie.dt)({votePubkey:(0,Ie.Z_)(),nodePubkey:(0,Ie.Z_)(),activatedStake:(0,Ie.Rx)(),epochVoteAccount:(0,Ie.O7)(),epochCredits:(0,Ie.IX)((0,Ie.bc)([(0,Ie.Rx)(),(0,Ie.Rx)(),(0,Ie.Rx)()])),commission:(0,Ie.Rx)(),lastVote:(0,Ie.Rx)(),rootSlot:(0,Ie.AG)((0,Ie.Rx)())}),$n=on((0,Ie.dt)({current:(0,Ie.IX)(Qn),delinquent:(0,Ie.IX)(Qn)})),Yn=(0,Ie.G0)([(0,Ie.i0)("processed"),(0,Ie.i0)("confirmed"),(0,Ie.i0)("finalized")]),ei=(0,Ie.dt)({slot:(0,Ie.Rx)(),confirmations:(0,Ie.AG)((0,Ie.Rx)()),err:gn,confirmationStatus:(0,Ie.jt)(Yn)}),ti=an((0,Ie.IX)((0,Ie.AG)(ei))),ri=on((0,Ie.Rx)()),ni=(0,Ie.dt)({accountKey:$r,writableIndexes:(0,Ie.IX)((0,Ie.Rx)()),readonlyIndexes:(0,Ie.IX)((0,Ie.Rx)())}),ii=(0,Ie.dt)({signatures:(0,Ie.IX)((0,Ie.Z_)()),message:(0,Ie.dt)({accountKeys:(0,Ie.IX)((0,Ie.Z_)()),header:(0,Ie.dt)({numRequiredSignatures:(0,Ie.Rx)(),numReadonlySignedAccounts:(0,Ie.Rx)(),numReadonlyUnsignedAccounts:(0,Ie.Rx)()}),instructions:(0,Ie.IX)((0,Ie.dt)({accounts:(0,Ie.IX)((0,Ie.Rx)()),data:(0,Ie.Z_)(),programIdIndex:(0,Ie.Rx)()})),recentBlockhash:(0,Ie.Z_)(),addressTableLookups:(0,Ie.jt)((0,Ie.IX)(ni))})}),si=(0,Ie.dt)({parsed:(0,Ie._4)(),program:(0,Ie.Z_)(),programId:$r}),oi=(0,Ie.dt)({accounts:(0,Ie.IX)($r),data:(0,Ie.Z_)(),programId:$r}),ai=(0,Ie.G0)([oi,si]),ui=(0,Ie.G0)([(0,Ie.dt)({parsed:(0,Ie._4)(),program:(0,Ie.Z_)(),programId:(0,Ie.Z_)()}),(0,Ie.dt)({accounts:(0,Ie.IX)((0,Ie.Z_)()),data:(0,Ie.Z_)(),programId:(0,Ie.Z_)()})]),ci=(0,Ie.oQ)(ai,ui,(e=>"accounts"in e?(0,Ie.Ue)(e,oi):(0,Ie.Ue)(e,si))),di=(0,Ie.dt)({signatures:(0,Ie.IX)((0,Ie.Z_)()),message:(0,Ie.dt)({accountKeys:(0,Ie.IX)((0,Ie.dt)({pubkey:$r,signer:(0,Ie.O7)(),writable:(0,Ie.O7)(),source:(0,Ie.jt)((0,Ie.G0)([(0,Ie.i0)("transaction"),(0,Ie.i0)("lookupTable")]))})),instructions:(0,Ie.IX)(ci),recentBlockhash:(0,Ie.Z_)(),addressTableLookups:(0,Ie.jt)((0,Ie.AG)((0,Ie.IX)(ni)))})}),li=(0,Ie.dt)({accountIndex:(0,Ie.Rx)(),mint:(0,Ie.Z_)(),owner:(0,Ie.jt)((0,Ie.Z_)()),uiTokenAmount:xn}),hi=(0,Ie.dt)({writable:(0,Ie.IX)($r),readonly:(0,Ie.IX)($r)}),fi=(0,Ie.dt)({err:gn,fee:(0,Ie.Rx)(),innerInstructions:(0,Ie.jt)((0,Ie.AG)((0,Ie.IX)((0,Ie.dt)({index:(0,Ie.Rx)(),instructions:(0,Ie.IX)((0,Ie.dt)({accounts:(0,Ie.IX)((0,Ie.Rx)()),data:(0,Ie.Z_)(),programIdIndex:(0,Ie.Rx)()}))})))),preBalances:(0,Ie.IX)((0,Ie.Rx)()),postBalances:(0,Ie.IX)((0,Ie.Rx)()),logMessages:(0,Ie.jt)((0,Ie.AG)((0,Ie.IX)((0,Ie.Z_)()))),preTokenBalances:(0,Ie.jt)((0,Ie.AG)((0,Ie.IX)(li))),postTokenBalances:(0,Ie.jt)((0,Ie.AG)((0,Ie.IX)(li))),loadedAddresses:(0,Ie.jt)(hi),computeUnitsConsumed:(0,Ie.jt)((0,Ie.Rx)())}),pi=(0,Ie.dt)({err:gn,fee:(0,Ie.Rx)(),innerInstructions:(0,Ie.jt)((0,Ie.AG)((0,Ie.IX)((0,Ie.dt)({index:(0,Ie.Rx)(),instructions:(0,Ie.IX)(ci)})))),preBalances:(0,Ie.IX)((0,Ie.Rx)()),postBalances:(0,Ie.IX)((0,Ie.Rx)()),logMessages:(0,Ie.jt)((0,Ie.AG)((0,Ie.IX)((0,Ie.Z_)()))),preTokenBalances:(0,Ie.jt)((0,Ie.AG)((0,Ie.IX)(li))),postTokenBalances:(0,Ie.jt)((0,Ie.AG)((0,Ie.IX)(li))),loadedAddresses:(0,Ie.jt)(hi),computeUnitsConsumed:(0,Ie.jt)((0,Ie.Rx)())}),gi=(0,Ie.G0)([(0,Ie.i0)(0),(0,Ie.i0)("legacy")]),mi=on((0,Ie.AG)((0,Ie.dt)({blockhash:(0,Ie.Z_)(),previousBlockhash:(0,Ie.Z_)(),parentSlot:(0,Ie.Rx)(),transactions:(0,Ie.IX)((0,Ie.dt)({transaction:ii,meta:(0,Ie.AG)(fi),version:(0,Ie.jt)(gi)})),rewards:(0,Ie.jt)((0,Ie.IX)((0,Ie.dt)({pubkey:(0,Ie.Z_)(),lamports:(0,Ie.Rx)(),postBalance:(0,Ie.AG)((0,Ie.Rx)()),rewardType:(0,Ie.AG)((0,Ie.Z_)())}))),blockTime:(0,Ie.AG)((0,Ie.Rx)()),blockHeight:(0,Ie.AG)((0,Ie.Rx)())}))),yi=on((0,Ie.AG)((0,Ie.dt)({blockhash:(0,Ie.Z_)(),previousBlockhash:(0,Ie.Z_)(),parentSlot:(0,Ie.Rx)(),transactions:(0,Ie.IX)((0,Ie.dt)({transaction:ii,meta:(0,Ie.AG)(fi)})),rewards:(0,Ie.jt)((0,Ie.IX)((0,Ie.dt)({pubkey:(0,Ie.Z_)(),lamports:(0,Ie.Rx)(),postBalance:(0,Ie.AG)((0,Ie.Rx)()),rewardType:(0,Ie.AG)((0,Ie.Z_)())}))),blockTime:(0,Ie.AG)((0,Ie.Rx)())}))),bi=on((0,Ie.AG)((0,Ie.dt)({blockhash:(0,Ie.Z_)(),previousBlockhash:(0,Ie.Z_)(),parentSlot:(0,Ie.Rx)(),signatures:(0,Ie.IX)((0,Ie.Z_)()),blockTime:(0,Ie.AG)((0,Ie.Rx)())}))),wi=on((0,Ie.AG)((0,Ie.dt)({slot:(0,Ie.Rx)(),meta:fi,blockTime:(0,Ie.jt)((0,Ie.AG)((0,Ie.Rx)())),transaction:ii,version:(0,Ie.jt)(gi)}))),ki=on((0,Ie.AG)((0,Ie.dt)({slot:(0,Ie.Rx)(),transaction:di,meta:(0,Ie.AG)(pi),blockTime:(0,Ie.jt)((0,Ie.AG)((0,Ie.Rx)())),version:(0,Ie.jt)(gi)}))),Ai=an((0,Ie.dt)({blockhash:(0,Ie.Z_)(),feeCalculator:(0,Ie.dt)({lamportsPerSignature:(0,Ie.Rx)()})})),Si=an((0,Ie.dt)({blockhash:(0,Ie.Z_)(),lastValidBlockHeight:(0,Ie.Rx)()})),Ii=(0,Ie.dt)({slot:(0,Ie.Rx)(),numTransactions:(0,Ie.Rx)(),numSlots:(0,Ie.Rx)(),samplePeriodSecs:(0,Ie.Rx)()}),_i=on((0,Ie.IX)(Ii)),vi=an((0,Ie.AG)((0,Ie.dt)({feeCalculator:(0,Ie.dt)({lamportsPerSignature:(0,Ie.Rx)()})}))),Ei=on((0,Ie.Z_)()),xi=on((0,Ie.Z_)()),Ti=(0,Ie.dt)({err:gn,logs:(0,Ie.IX)((0,Ie.Z_)()),signature:(0,Ie.Z_)()}),Pi=(0,Ie.dt)({result:un(Ti),subscription:(0,Ie.Rx)()}),Ri={"solana-client":`js/${null!==(Qr="0.0.0-development")?Qr:"UNKNOWN"}`};class Bi{constructor(e,t){let r,n,i,s,o;var a;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,n=t.httpHeaders,i=t.fetch,s=t.fetchMiddleware,o=t.disableRetryOnRateLimit),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=r||function(e){const t=e.match(Jr);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[r,n,i,s]=t,o=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${o}//${n}${null==a?"":`:${a+1}`}${s}`}(e),this._rpcClient=function(e,t,r,n,i){const s=r||Zr;let o;n&&(o=async(e,t)=>{const r=await new Promise(((r,i)=>{try{n(e,t,((e,t)=>r([e,t])))}catch(s){i(s)}}));return await s(...r)});const a=new(Ee())((async(r,n)=>{const a={method:"POST",body:r,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},Ri)};try{let t,r=5,u=500;for(;t=o?await o(e,a):await s(e,a),429===t.status&&!0!==i&&(r-=1,0!==r);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${u}ms delay...`),await Sr(u),u*=2;const c=await t.text();t.ok?n(null,c):n(new Error(`${t.status} ${t.statusText}: ${c}`))}catch(_a){_a instanceof Error&&n(_a)}}),{});return a}(e,n,i,s,o),this._rpcRequest=(a=this._rpcClient,(e,t)=>new Promise(((r,n)=>{a.request(e,t,((e,t)=>{e?n(e):r(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((r,n)=>{0===t.length&&r([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?n(e):r(t)}))}))}(this._rpcClient),this._rpcWebSocket=new _e.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:n}=rn(t),i=this._buildArgs([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getBalance",i),o=(0,Ie.Ue)(s,an((0,Ie.Rx)()));if("error"in o)throw new jr(o.error,`failed to get balance for ${e.toBase58()}`);return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=(0,Ie.Ue)(t,on((0,Ie.AG)((0,Ie.Rx)())));if("error"in r)throw new jr(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,Ie.Ue)(e,on((0,Ie.Rx)()));if("error"in t)throw new jr(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,Ie.Ue)(e,vn);if("error"in t)throw new jr(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),n=(0,Ie.Ue)(r,En);if("error"in n)throw new jr(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenSupply",r),i=(0,Ie.Ue)(n,an(xn));if("error"in i)throw new jr(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenAccountBalance",r),i=(0,Ie.Ue)(n,an(xn));if("error"in i)throw new jr(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:n,config:i}=rn(r);let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const o=this._buildArgs(s,n,"base64",i),a=await this._rpcRequest("getTokenAccountsByOwner",o),u=(0,Ie.Ue)(a,Pn);if("error"in u)throw new jr(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",i),o=(0,Ie.Ue)(s,Bn);if("error"in o)throw new jr(o.error,`failed to get token accounts owned by account ${e.toBase58()}`);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=await this._rpcRequest("getLargestAccounts",r),i=(0,Ie.Ue)(n,On);if("error"in i)throw new jr(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenLargestAccounts",r),i=(0,Ie.Ue)(n,Tn);if("error"in i)throw new jr(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:n}=rn(t),i=this._buildArgs([e.toBase58()],r,"base64",n),s=await this._rpcRequest("getAccountInfo",i),o=(0,Ie.Ue)(s,an((0,Ie.AG)(Mn)));if("error"in o)throw new jr(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getParsedAccountInfo(e,t){const{commitment:r,config:n}=rn(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),s=await this._rpcRequest("getAccountInfo",i),o=(0,Ie.Ue)(s,an((0,Ie.AG)(Ln)));if("error"in o)throw new jr(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:n}=rn(t),i=e.map((e=>e.toBase58())),s=this._buildArgs([i],r,"base64",n),o=await this._rpcRequest("getMultipleAccounts",s),a=(0,Ie.Ue)(o,an((0,Ie.IX)((0,Ie.AG)(Mn))));if("error"in a)throw new jr(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:n,config:i}=rn(t),s=this._buildArgs([e.toBase58()],n,void 0,{...i,epoch:null!=r?r:null===i||void 0===i?void 0:i.epoch}),o=await this._rpcRequest("getStakeActivation",s),a=(0,Ie.Ue)(o,on(Cn));if("error"in a)throw new jr(a.error,`failed to get Stake Activation ${e.toBase58()}`);return a.result}async getProgramAccounts(e,t){const{commitment:r,config:n}=rn(t),{encoding:i,...s}=n||{},o=this._buildArgs([e.toBase58()],r,i||"base64",s),a=await this._rpcRequest("getProgramAccounts",o),u=(0,Ie.Ue)(a,on((0,Ie.IX)(Un)));if("error"in u)throw new jr(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:n}=rn(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),s=await this._rpcRequest("getProgramAccounts",i),o=(0,Ie.Ue)(s,on((0,Ie.IX)(Nn)));if("error"in o)throw new jr(o.error,`failed to get accounts owned by program ${e.toBase58()}`);return o.result}async confirmTransaction(e,t){let r,n;if("string"==typeof e)r=e;else{r=e.signature}try{n=be().decode(r)}catch(_a){throw new Error("signature must be base58 encoded: "+r)}tr(64===n.length,"signature has invalid length");const i=t||this.commitment;let s,o,a=!1;const u=new Promise(((e,t)=>{try{o=this.onSignature(r,((t,r)=>{o=void 0;const n={context:r,value:t};a=!0,e({__type:or.PROCESSED,response:n})}),i)}catch(_a){t(_a)}})),c=new Promise((r=>{if("string"===typeof e){let e=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":e=this._confirmTransactionInitialTimeout||3e4}s=setTimeout((()=>r({__type:or.TIMED_OUT,timeoutMs:e})),e)}else{let n=e;const i=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let e=await i();if(!a){for(;e<=n.lastValidBlockHeight;){if(await Sr(1e3),a)return;if(e=await i(),a)return}r({__type:or.BLOCKHEIGHT_EXCEEDED})}})()}}));let d;try{const e=await Promise.race([u,c]);switch(e.__type){case or.BLOCKHEIGHT_EXCEEDED:throw new jt(r);case or.PROCESSED:d=e.response;break;case or.TIMED_OUT:throw new Zt(r,e.timeoutMs/1e3)}}finally{clearTimeout(s),o&&this.removeSignatureListener(o)}return d}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,Ie.Ue)(e,on((0,Ie.IX)(Jn)));if("error"in t)throw new jr(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),n=(0,Ie.Ue)(r,$n);if("error"in n)throw new jr(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:r}=rn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",n),s=(0,Ie.Ue)(i,on((0,Ie.Rx)()));if("error"in s)throw new jr(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:t,config:r}=rn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",n),s=(0,Ie.Ue)(i,on((0,Ie.Z_)()));if("error"in s)throw new jr(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,t){const r=[e,t],n=await this._rpcRequest("getSlotLeaders",r),i=(0,Ie.Ue)(n,on((0,Ie.IX)($r)));if("error"in i)throw new jr(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);tr(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=await this._rpcRequest("getSignatureStatuses",r),i=(0,Ie.Ue)(n,ti);if("error"in i)throw new jr(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=rn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",n),s=(0,Ie.Ue)(i,on((0,Ie.Rx)()));if("error"in s)throw new jr(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),n=(0,Ie.Ue)(r,An);if("error"in n)throw new jr(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,r){const{commitment:n,config:i}=rn(r),s=this._buildArgs([e.map((e=>e.toBase58()))],n,void 0,{...i,epoch:null!=t?t:null===i||void 0===i?void 0:i.epoch}),o=await this._rpcRequest("getInflationReward",s),a=(0,Ie.Ue)(o,ln);if("error"in a)throw new jr(a.error,"failed to get inflation reward");return a.result}async getEpochInfo(e){const{commitment:t,config:r}=rn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",n),s=(0,Ie.Ue)(i,Sn);if("error"in s)throw new jr(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,Ie.Ue)(e,In);if("error"in t)throw new jr(t.error,"failed to get epoch schedule");const r=t.result;return new Gr(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,Ie.Ue)(e,_n);if("error"in t)throw new jr(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=(0,Ie.Ue)(n,ri);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),n=(0,Ie.Ue)(r,Ai);if("error"in n)throw new jr(n.error,"failed to get recent blockhash");return n.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=(0,Ie.Ue)(t,_i);if("error"in r)throw new jr(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=(0,Ie.Ue)(n,vi);if("error"in i)throw new jr(i.error,"failed to get fee calculator");const{context:s,value:o}=i.result;return{context:s,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){const r=e.serialize().toString("base64"),n=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",n),s=(0,Ie.Ue)(i,an((0,Ie.AG)((0,Ie.Rx)())));if("error"in s)throw new jr(s.error,"failed to get slot");if(null===s.result)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=rn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",n),s=(0,Ie.Ue)(i,Si);if("error"in s)throw new jr(s.error,"failed to get latest blockhash");return s.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,Ie.Ue)(e,on(bn));if("error"in t)throw new jr(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,Ie.Ue)(e,on((0,Ie.Z_)()));if("error"in t)throw new jr(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const{commitment:r,config:n}=rn(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),s=await this._rpcRequest("getBlock",i),o=(0,Ie.Ue)(s,mi);if("error"in o)throw new jr(o.error,"failed to get confirmed block");const a=o.result;return a?{...a,transactions:a.transactions.map((e=>{let{transaction:t,meta:r,version:n}=e;return{meta:r,transaction:{...t,message:cn(n,t.message)},version:n}}))}:a}async getBlockHeight(e){const{commitment:t,config:r}=rn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getBlockHeight",n),s=(0,Ie.Ue)(i,on((0,Ie.Rx)()));if("error"in s)throw new jr(s.error,"failed to get block height information");return s.result}async getBlockProduction(e){let t,r;if("string"===typeof e)r=e;else if(e){const{commitment:n,...i}=e;r=n,t=i}const n=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",n),s=(0,Ie.Ue)(i,kn);if("error"in s)throw new jr(s.error,"failed to get block production information");return s.result}async getTransaction(e,t){const{commitment:r,config:n}=rn(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),s=await this._rpcRequest("getTransaction",i),o=(0,Ie.Ue)(s,wi);if("error"in o)throw new jr(o.error,"failed to get transaction");const a=o.result;return a?{...a,transaction:{...a.transaction,message:cn(a.version,a.transaction.message)}}:a}async getParsedTransaction(e,t){const{commitment:r,config:n}=rn(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),s=await this._rpcRequest("getTransaction",i),o=(0,Ie.Ue)(s,ki);if("error"in o)throw new jr(o.error,"failed to get transaction");return o.result}async getParsedTransactions(e,t){const{commitment:r,config:n}=rn(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=(0,Ie.Ue)(e,ki);if("error"in t)throw new jr(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:r,config:n}=rn(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,void 0,n)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=(0,Ie.Ue)(e,wi);if("error"in t)throw new jr(t.error,"failed to get transactions");const r=t.result;return r?{...r,transaction:{...r.transaction,message:cn(r.version,r.transaction.message)}}:r}))}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,Ie.Ue)(n,yi);if("error"in i)throw new jr(i.error,"failed to get confirmed block");const s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");const o={...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new nr(t.message);return{meta:r,transaction:{...t,message:n}}}))};return{...o,transactions:o.transactions.map((e=>{let{transaction:t,meta:r}=e;return{meta:r,transaction:cr.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",n),s=(0,Ie.Ue)(i,on((0,Ie.IX)((0,Ie.Rx)())));if("error"in s)throw new jr(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),i=(0,Ie.Ue)(n,bi);if("error"in i)throw new jr(i.error,"failed to get block");const s=i.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,Ie.Ue)(n,bi);if("error"in i)throw new jr(i.error,"failed to get confirmed block");const s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,Ie.Ue)(n,wi);if("error"in i)throw new jr(i.error,"failed to get transaction");const s=i.result;if(!s)return s;const o=new nr(s.transaction.message),a=s.transaction.signatures;return{...s,transaction:cr.populate(o,a)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,Ie.Ue)(n,ki);if("error"in i)throw new jr(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,Ie.Ue)(e,ki);if("error"in t)throw new jr(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(_a){if(_a instanceof Error&&_a.message.includes("skipped"))continue;throw _a}let s=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>s);)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(_a){if(_a instanceof Error&&_a.message.includes("skipped"))continue;throw _a}return(await this.getConfirmedSignaturesForAddress2(e,n)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),s=(0,Ie.Ue)(i,Wn);if("error"in s)throw new jr(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",n),s=(0,Ie.Ue)(i,Dn);if("error"in s)throw new jr(s.error,"failed to get signatures for address");return s.result}async getAddressLookupTable(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=new Hr({key:e,state:Hr.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=Tr.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),n=(0,Ie.Ue)(r,Ei);if("error"in n)throw new jr(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Sr(100);const e=Date.now()-this._blockhashInfo.lastFetch>=tn;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let n=0;n<50;n++){const e=await this.getLatestBlockhash("finalized");if(r!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await Sr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=rn(e),n=this._buildArgs([],t,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",n),s=(0,Ie.Ue)(i,an((0,Ie.Rx)()));if("error"in s)throw new jr(s.error,"failed to get stake minimum delegation");return s.result}async simulateTransaction(e,t,r){if("message"in e){const n=e.serialize(),i=y.Buffer.from(n).toString("base64");if(Array.isArray(t)||void 0!==r)throw new Error("Invalid arguments");const s=t||{};s.encoding="base64","commitment"in s||(s.commitment=this.commitment);const o=[i,s],a=await this._rpcRequest("simulateTransaction",o),u=(0,Ie.Ue)(a,wn);if("error"in u)throw new Error("failed to simulate transaction: "+u.error.message);return u.result}let n;if(e instanceof cr){let t=e;n=new cr,n.feePayer=t.feePayer,n.instructions=e.instructions,n.nonceInfo=t.nonceInfo,n.signatures=t.signatures}else n=cr.populate(e),n._message=n._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(n.nonceInfo&&i)n.sign(...i);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(n.lastValidBlockHeight=t.lastValidBlockHeight,n.recentBlockhash=t.blockhash,!i)break;if(n.sign(...i),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}e=!0}}const s=n._compile(),o=s.serialize(),a=n._serialize(o).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:s.nonProgramIds()).map((e=>e.toBase58()));u.accounts={encoding:"base64",addresses:e}}i&&(u.sigVerify=!0);const c=[a,u],d=await this._rpcRequest("simulateTransaction",c),l=(0,Ie.Ue)(d,wn);if("error"in l){let e;if("data"in l.error&&(e=l.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(l.error.message,r)}throw new Vr("failed to simulate transaction: "+l.error.message,e)}return l.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const n=e.serialize();return await this.sendRawTransaction(n,r)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const n=t;if(e.nonceInfo)e.sign(...n);else{let t=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=r.lastValidBlockHeight,e.recentBlockhash=r.blockhash,e.sign(...n),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Mt(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(r.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(r.minContextSlot=t.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const s=[e,r],o=await this._rpcRequest("sendTransaction",s),a=(0,Ie.Ue)(o,xi);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new Vr("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((e=>{let[t,r]=e;this._subscriptionsByHash[t]={...r,state:"pending"}}))):this._updateSubscriptions()}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(_a){_a instanceof Error&&console.log(`Error when closing socket connection: ${_a.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._subscriptionsByHash[e]={...r,state:"subscribing"};const t=await this._rpcWebSocket.call(i,n);this._subscriptionsByHash[e]={...r,serverSubscriptionId:t,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[t]=r.callbacks,await this._updateSubscriptions()}catch(s){if(s instanceof Error&&console.error(`${i} error for argument`,n,s.message),!t())return;this._subscriptionsByHash[e]={...r,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._subscriptionsByHash[e]={...r,state:"unsubscribing"};try{await this._rpcWebSocket.call(i,[n])}catch(s){if(s instanceof Error&&console.error(`${i} error:`,s.message),!t())return;return this._subscriptionsByHash[e]={...r,state:"subscribed"},void await this._updateSubscriptions()}}this._subscriptionsByHash[e]={...r,state:"unsubscribed"},await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach((e=>{try{e(...t)}catch(r){console.error(r)}}))}_wsOnAccountNotification(e){const{result:t,subscription:r}=(0,Ie.Ue)(e,Kn);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,n=Kr([e.method,t],!0),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r];const t=this._subscriptionsByHash[n];tr(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const n=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=(0,Ie.Ue)(e,Gn);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,n){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const n=this._buildArgs(["object"===typeof e?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=(0,Ie.Ue)(e,Pi);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=(0,Ie.Ue)(e,qn);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=(0,Ie.Ue)(e,Zn);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,n){const i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=(0,Ie.Ue)(e,Hn);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const n=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,r)=>{if("status"===e.type){t(e.result,r);try{this.removeSignatureListener(i)}catch(n){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(e,t,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],n,void 0,i),o=this._makeSubscription({callback:(e,r)=>{t(e,r);try{this.removeSignatureListener(o)}catch(n){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=(0,Ie.Ue)(e,Xn);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Oi{constructor(e){this._keypair=void 0,this._keypair=null!==e&&void 0!==e?e:Tt()}static generate(){return new Oi(Tt())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),n=Pt(t);for(let e=0;e<32;e++)if(r[e]!==n[e])throw new Error("provided secretKey is invalid")}return new Oi({publicKey:r,secretKey:e})}static fromSeed(e){const t=Pt(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Oi({publicKey:t,secretKey:r})}get publicKey(){return new Dt(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Mi=Object.freeze({CreateLookupTable:{index:0,layout:Ae.n_([Ae.Jq("instruction"),Pr("recentSlot"),Ae.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ae.n_([Ae.Jq("instruction")])},ExtendLookupTable:{index:2,layout:Ae.n_([Ae.Jq("instruction"),Pr(),Ae.A9(Xt(),Ae.cv(Ae.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ae.n_([Ae.Jq("instruction")])},CloseLookupTable:{index:4,layout:Ae.n_([Ae.Jq("instruction")])}});class Ui{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Ae.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Mi))if(i.index==t){r=n;break}if(!r)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return r}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=_r(Mi.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=_r(Mi.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map((e=>new Dt(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(zi.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class zi{constructor(){}static createLookupTable(e){const[t,r]=Dt.findProgramAddressSync([e.authority.toBuffer(),(0,Se.k$)(BigInt(e.recentSlot),8)],this.programId),n=Ir(Mi.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Mr.programId,isSigner:!1,isWritable:!1}];return[new ur({programId:this.programId,keys:i,data:n}),t]}static freezeLookupTable(e){const t=Ir(Mi.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ur({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=Ir(Mi.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Mr.programId,isSigner:!1,isWritable:!1}),new ur({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=Ir(Mi.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ur({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=Ir(Mi.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ur({programId:this.programId,keys:r,data:t})}}zi.programId=new Dt("AddressLookupTab1e1111111111111111111111111");class Li{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Ae.u8("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Ni))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return r}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=_r(Ni.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=_r(Ni.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=_r(Ni.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=_r(Ni.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Ci.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Ni=Object.freeze({RequestUnits:{index:0,layout:Ae.n_([Ae.u8("instruction"),Ae.Jq("units"),Ae.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:Ae.n_([Ae.u8("instruction"),Ae.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:Ae.n_([Ae.u8("instruction"),Ae.Jq("units")])},SetComputeUnitPrice:{index:3,layout:Ae.n_([Ae.u8("instruction"),Pr("microLamports")])}});class Ci{constructor(){}static requestUnits(e){const t=Ir(Ni.RequestUnits,e);return new ur({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=Ir(Ni.RequestHeapFrame,e);return new ur({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=Ir(Ni.SetComputeUnitLimit,e);return new ur({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=Ir(Ni.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new ur({keys:[],programId:this.programId,data:t})}}Ci.programId=new Dt("ComputeBudget111111111111111111111111111111");const Wi=Ae.n_([Ae.u8("numSignatures"),Ae.u8("padding"),Ae.KB("signatureOffset"),Ae.KB("signatureInstructionIndex"),Ae.KB("publicKeyOffset"),Ae.KB("publicKeyInstructionIndex"),Ae.KB("messageDataOffset"),Ae.KB("messageDataSize"),Ae.KB("messageInstructionIndex")]);class Di{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;tr(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),tr(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const s=Wi.span,o=s+t.length,a=o+n.length,u=y.Buffer.alloc(a+r.length),c=null==i?65535:i;return Wi.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:c,publicKeyOffset:s,publicKeyInstructionIndex:c,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:c},u),u.fill(t,s),u.fill(n,o),u.fill(r,a),new ur({keys:[],programId:Di.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;tr(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=Oi.fromSecretKey(t),i=e.publicKey.toBytes(),s=Bt(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Di.programId=new Dt("Ed25519SigVerify111111111111111111111111111"),Et.hmacSha256Sync=function(e){const t=Te.b.create(we.J,e);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach((e=>t.update(e))),t.digest()};const Ki=(e,t)=>function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{seed:n,m:i,d:s}=St(e,t,r.extraEntropy);let o;const a=new ft;for(a.reseedSync(n);!(o=mt(a.generateSync(),i,s));)a.reseedSync();return It(o,r)}(e,t,{der:!1,recovered:!0});Et.isValidPrivateKey;const Fi=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Fe.fromPrivateKey(e).toRawBytes(t)},Gi=Ae.n_([Ae.u8("numSignatures"),Ae.KB("signatureOffset"),Ae.u8("signatureInstructionIndex"),Ae.KB("ethAddressOffset"),Ae.u8("ethAddressInstructionIndex"),Ae.KB("messageDataOffset"),Ae.KB("messageDataSize"),Ae.u8("messageInstructionIndex"),Ae.Ik(20,"ethAddress"),Ae.Ik(64,"signature"),Ae.u8("recoveryId")]);class Vi{constructor(){}static publicKeyToEthAddress(e){tr(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return y.Buffer.from((0,xe.fr)(Mt(e))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return Vi.createInstructionWithEthAddress({ethAddress:Vi.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:s=0}=e;let o;o="string"===typeof t?t.startsWith("0x")?y.Buffer.from(t.substr(2),"hex"):y.Buffer.from(t,"hex"):t,tr(20===o.length,`Address must be 20 bytes but received ${o.length} bytes`);const a=12+o.length,u=a+n.length+1,c=y.Buffer.alloc(Gi.span+r.length);return Gi.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:s,signature:Mt(n),ethAddress:Mt(o),recoveryId:i},c),c.fill(Mt(r),Gi.span),new ur({keys:[],programId:Vi.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;tr(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=Mt(t),i=Fi(e,!1).slice(1),s=y.Buffer.from((0,xe.fr)(Mt(r))),[o,a]=Ki(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,recoveryId:a,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Vi.programId=new Dt("KeccakSecp256k11111111111111111111111111111");const qi=new Dt("StakeConfig11111111111111111111111111111111");class ji{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Zi{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}Zi.default=new Zi(0,0,Dt.default);class Hi{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Ae.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Xi))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=_r(Xi.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new ji(new Dt(t.staker),new Dt(t.withdrawer)),lockup:new Zi(r.unixTimestamp,r.epoch,new Dt(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),_r(Xi.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=_r(Xi.Authorize,e.data),n={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Dt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(n.custodianPubkey=e.keys[3].pubkey),n}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=_r(Xi.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:n,authorityOwner:new Dt(i),newAuthorizedPubkey:new Dt(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=_r(Xi.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),_r(Xi.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=_r(Xi.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),_r(Xi.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Qi.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Xi=Object.freeze({Initialize:{index:0,layout:Ae.n_([Ae.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return Ae.n_([Xt("staker"),Xt("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return Ae.n_([Ae.gM("unixTimestamp"),Ae.gM("epoch"),Xt("custodian")],e)}()])},Authorize:{index:1,layout:Ae.n_([Ae.Jq("instruction"),Xt("newAuthorized"),Ae.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:Ae.n_([Ae.Jq("instruction")])},Split:{index:3,layout:Ae.n_([Ae.Jq("instruction"),Ae.gM("lamports")])},Withdraw:{index:4,layout:Ae.n_([Ae.Jq("instruction"),Ae.gM("lamports")])},Deactivate:{index:5,layout:Ae.n_([Ae.Jq("instruction")])},Merge:{index:7,layout:Ae.n_([Ae.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:Ae.n_([Ae.Jq("instruction"),Xt("newAuthorized"),Ae.Jq("stakeAuthorizationType"),Qt("authoritySeed"),Xt("authorityOwner")])}}),Ji=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Qi{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||Zi.default,s=Ir(Xi.Initialize,{authorized:{staker:Mt(r.staker.toBuffer()),withdrawer:Mt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Mt(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:mr,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new ur(o)}static createAccountWithSeed(e){const t=new cr;t.add(Mr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new cr;t.add(Mr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=Ir(Xi.Delegate);return(new cr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:kr,isSigner:!1,isWritable:!1},{pubkey:qi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,o=Ir(Xi.Authorize,{newAuthorized:Mt(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new cr).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,u=Ir(Xi.AuthorizeWithSeed,{newAuthorized:Mt(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:Mt(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!1,isWritable:!1}),(new cr).add({keys:c,programId:this.programId,data:u})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=Ir(Xi.Split,{lamports:i});return new ur({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e){const t=new cr;return t.add(Mr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,basePubkey:i,seed:s,lamports:o}=e,a=new cr;return a.add(Mr.allocate({accountPubkey:n,basePubkey:i,seed:s,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:o}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=Ir(Xi.Merge);return(new cr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:kr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,o=Ir(Xi.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:kr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new cr).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=Ir(Xi.Deactivate);return(new cr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}Qi.programId=new Dt("Stake11111111111111111111111111111111111111"),Qi.space=200;class $i{constructor(e,t,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=n}}class Yi{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=Ae.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(es))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a VoteInstruction");return r}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=_r(es.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new $i(new Dt(t.nodePubkey),new Dt(t.authorizedVoter),new Dt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=_r(es.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Dt(t),voteAuthorizationType:{index:r}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:t,currentAuthorityDerivedKeySeed:r,newAuthorized:n,voteAuthorizationType:i}}=_r(es.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Dt(t),currentAuthorityDerivedKeySeed:r,newAuthorizedPubkey:new Dt(n),voteAuthorizationType:{index:i},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=_r(es.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(rs.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const es=Object.freeze({InitializeAccount:{index:0,layout:Ae.n_([Ae.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return Ae.n_([Xt("nodePubkey"),Xt("authorizedVoter"),Xt("authorizedWithdrawer"),Ae.u8("commission")],e)}()])},Authorize:{index:1,layout:Ae.n_([Ae.Jq("instruction"),Xt("newAuthorized"),Ae.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:Ae.n_([Ae.Jq("instruction"),Ae.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:Ae.n_([Ae.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return Ae.n_([Ae.Jq("voteAuthorizationType"),Xt("currentAuthorityDerivedKeyOwnerPubkey"),Qt("currentAuthorityDerivedKeySeed"),Xt("newAuthorized")],e)}()])}}),ts=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class rs{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=Ir(es.InitializeAccount,{voteInit:{nodePubkey:Mt(n.nodePubkey.toBuffer()),authorizedVoter:Mt(n.authorizedVoter.toBuffer()),authorizedWithdrawer:Mt(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new ur(s)}static createAccount(e){const t=new cr;return t.add(Mr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,s=Ir(es.Authorize,{newAuthorized:Mt(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new cr).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=e,a=Ir(es.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Mt(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:Mt(i.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:hr,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new cr).add({keys:u,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,s=Ir(es.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new cr).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return rs.withdraw(e)}}rs.programId=new Dt("Vote111111111111111111111111111111111111111"),rs.space=3731;const ns=new Dt("Va1idator1nfo111111111111111111111111111111"),is=(0,Ie.dt)({name:(0,Ie.Z_)(),website:(0,Ie.jt)((0,Ie.Z_)()),details:(0,Ie.jt)((0,Ie.Z_)()),keybaseUsername:(0,Ie.jt)((0,Ie.Z_)())});class ss{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==Yt(t))return null;const r=[];for(let n=0;n<2;n++){const e=new Dt(t.slice(0,Ct));t=t.slice(Ct);const n=1===t.slice(0,1)[0];t=t.slice(1),r.push({publicKey:e,isSigner:n})}if(r[0].publicKey.equals(ns)&&r[1].isSigner){const e=Qt().decode(y.Buffer.from(t)),n=JSON.parse(e);return(0,Ie.hu)(n,is),new ss(r[1].publicKey,n)}return null}}const os=new Dt("Vote111111111111111111111111111111111111111"),as=Ae.n_([Xt("nodePubkey"),Xt("authorizedWithdrawer"),Ae.u8("commission"),Ae._O(),Ae.A9(Ae.n_([Ae._O("slot"),Ae.Jq("confirmationCount")]),Ae.cv(Ae.Jq(),-8),"votes"),Ae.u8("rootSlotValid"),Ae._O("rootSlot"),Ae._O(),Ae.A9(Ae.n_([Ae._O("epoch"),Xt("authorizedVoter")]),Ae.cv(Ae.Jq(),-8),"authorizedVoters"),Ae.n_([Ae.A9(Ae.n_([Xt("authorizedPubkey"),Ae._O("epochOfLastAuthorizedSwitch"),Ae._O("targetEpoch")]),32,"buf"),Ae._O("idx"),Ae.u8("isEmpty")],"priorVoters"),Ae._O(),Ae.A9(Ae.n_([Ae._O("epoch"),Ae._O("credits"),Ae._O("prevCredits")]),Ae.cv(Ae.Jq(),-8),"epochCredits"),Ae.n_([Ae._O("slot"),Ae._O("timestamp")],"lastTimestamp")]);class us{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=as.decode(Mt(e),4);let r=t.rootSlot;return t.rootSlotValid||(r=null),new us({nodePubkey:new Dt(t.nodePubkey),authorizedWithdrawer:new Dt(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:r,authorizedVoters:t.authorizedVoters.map(cs),priorVoters:ls(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function cs(e){let{authorizedVoter:t,epoch:r}=e;return{epoch:r,authorizedVoter:new Dt(t)}}function ds(e){let{authorizedPubkey:t,epochOfLastAuthorizedSwitch:r,targetEpoch:n}=e;return{authorizedPubkey:new Dt(t),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function ls(e){let{buf:t,idx:r,isEmpty:n}=e;return n?[]:[...t.slice(r+1).map(ds),...t.slice(0,r).map(ds)]}const hs={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function fs(e,t){const r=!1===t?"http":"https";if(!e)return hs[r].devnet;const n=hs[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}async function ps(e,t,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await e.sendRawTransaction(t,o),u=s&&s.commitment,c=i?e.confirmTransaction(i,u):e.confirmTransaction(a,u),d=(await c).value;if(d.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(d)})`);return a}const gs=1e9;var ms;const ys="undefined"!==typeof window&&!(null===(ms=window.process)||void 0===ms?void 0:ms.hasOwnProperty("type"));var bs=r(36897).Buffer;class ws{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r}static defaultOptions(){return{preflightCommitment:"recent",commitment:"recent"}}static local(e,t){t=null!==t&&void 0!==t?t:ws.defaultOptions();const r=new Bi(null!==e&&void 0!==e?e:"http://localhost:8899",t.preflightCommitment),n=ks.local();return new ws(r,n,t)}static env(){if(ys)return;const e=r(26477).env.ANCHOR_PROVIDER_URL;if(void 0===e)throw new Error("ANCHOR_PROVIDER_URL is not defined");const t=ws.defaultOptions(),n=new Bi(e,t.commitment),i=ks.local();return new ws(n,i,t)}async send(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(r.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const n=e.serialize();return await ps(this.connection,n,r)}async sendAll(e,t){void 0===t&&(t=this.opts);const r=await this.connection.getRecentBlockhash(t.preflightCommitment);let n=e.map((e=>{let t=e.tx,n=e.signers;return void 0===n&&(n=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=r.blockhash,n.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const i=await this.wallet.signAllTransactions(n),s=[];for(let o=0;o<n.length;o+=1){const e=i[o].serialize();s.push(await ps(this.connection,e,t))}return s}async simulate(e,t,r){var n,i;return void 0===t&&(t=[]),void 0===r&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(n=r.preflightCommitment)&&void 0!==n?n:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,r){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const n=t.serializeMessage(),i=t._serialize(n).toString("base64"),s=[i,{encoding:"base64",commitment:r}],o=await e._rpcRequest("simulateTransaction",s);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,e,null!==(i=r.commitment)&&void 0!==i?i:this.opts.commitment)}}class ks{constructor(e){this.payer=e}static local(){const e=Oi.fromSecretKey(bs.from(JSON.parse(r(55555).readFileSync(r(84466).homedir()+"/.config/solana/id.json",{encoding:"utf-8"}))));return new ks(e)}async signTransaction(e){return e.partialSign(this.payer),e}async signAllTransactions(e){return e.map((e=>(e.partialSign(this.payer),e)))}get publicKey(){return this.payer.publicKey}}function As(e){Is=e}function Ss(){return null===Is?ws.local():Is}let Is=null;var _s=r(84760),vs=r.n(_s),Es=r(26434);class xs extends Error{}class Ts extends Error{constructor(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];super(...n),this.code=e,this.msg=t}static parse(e,t){let r,n=e.toString().split("custom program error: ");if(2!==n.length)return null;try{r=parseInt(n[1])}catch(s){return null}let i=t.get(r);return void 0!==i?new Ts(r,i):(i=Ps.get(r),void 0!==i?new Ts(r,i):null)}toString(){return this.msg}}const Ps=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[120,"The program was compiled without idl instructions"],[121,"The transaction was given an invalid program for the IDL instruction"],[140,"A mut constraint was violated"],[141,"A has_one constraint was violated"],[142,"A signer constraint was violated"],[143,"A raw constraint as violated"],[144,"An owner constraint was violated"],[145,"A rent exempt constraint was violated"],[146,"A seeds constraint was violated"],[147,"An executable constraint was violated"],[148,"A state constraint was violated"],[149,"An associated constraint was violated"],[150,"An associated init constraint was violated"],[151,"A close constraint was violated"],[152,"An address constraint was violated"],[160,"The account discriminator was already set on this account"],[161,"No 8 byte discriminator was found on the account"],[162,"8 byte discriminator did not match what was expected"],[163,"Failed to deserialize the account"],[164,"Failed to serialize the account"],[165,"Not enough account keys given to the instruction"],[166,"The given account is not mutable"],[167,"The given account is not owned by the executing program"],[180,"The given state account does not have the correct address"],[299,"The API being used is deprecated and should no longer be used"]]);class Rs{static fieldLayout(e,t){const r=void 0!==e.name?vs()(e.name):void 0;switch(e.type){case"bool":return Es.bool(r);case"u8":return Es.u8(r);case"i8":return Es.i8(r);case"u16":return Es.u16(r);case"i16":return Es.i16(r);case"u32":return Es.u32(r);case"i32":return Es.i32(r);case"u64":return Es.u64(r);case"i64":return Es.i64(r);case"u128":return Es.u128(r);case"i128":return Es.i128(r);case"bytes":return Es.vecU8(r);case"string":return Es.str(r);case"publicKey":return Es.publicKey(r);default:if(e.type.vec)return Es.vec(Rs.fieldLayout({name:void 0,type:e.type.vec},t),r);if(e.type.option)return Es.option(Rs.fieldLayout({name:void 0,type:e.type.option},t),r);if(e.type.defined){if(void 0===t)throw new xs("User defined types not provided");const n=t.filter((t=>t.name===e.type.defined));if(1!==n.length)throw new xs(`Type not found: ${JSON.stringify(e)}`);return Rs.typeDefLayout(n[0],t,r)}if(e.type.array){let n=e.type.array[0],i=e.type.array[1],s=Rs.fieldLayout({name:void 0,type:n},t);return Es.array(s,i,r)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t,r){if("struct"===e.type.kind){const n=e.type.fields.map((e=>Rs.fieldLayout(e,t)));return Es.struct(n,r)}if("enum"===e.type.kind){let n=e.type.variants.map((e=>{const r=vs()(e.name);if(void 0===e.fields)return Es.struct([],r);const n=e.fields.map((e=>{if(void 0===e.name)throw new Error("Tuple enum variants not yet implemented.");return Rs.fieldLayout(e,t)}));return Es.struct(n,r)}));return void 0!==r?Es.rustEnum(n).replicate(r):Es.rustEnum(n,r)}throw new Error(`Unknown type kint: ${e}`)}}var Bs=r(2670),Os=r(10119),Ms=r(36897).Buffer;function Us(e,t){if("enum"===t.type.kind){let r=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if(void 0===t.name)throw new Error("Tuple enum variants not yet implemented.");return zs(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...r)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>zs(e,t.type))).reduce(((e,t)=>e+t))}function zs(e,t){switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":return 4;case"u64":case"i64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if(void 0!==t.vec)return 1;if(void 0!==t.option)return 1+zs(e,t.option);if(void 0!==t.defined){const r=e.types.filter((e=>e.name===t.defined));if(1!==r.length)throw new xs(`Type not found: ${JSON.stringify(t)}`);return Us(e,r[0])}if(void 0!==t.array){let r=t.array[0],n=t.array[1];return zs(e,r)*n}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}function Ls(e,t){let r=`${e}:${(0,Bs.snakeCase)(t)}`;return Ms.from(Os.sha256.digest(r)).slice(0,8)}var Ns=r(36897).Buffer;const Cs="state",Ws="global";class Ds{constructor(e){this.idl=e,this.ixLayout=Ds.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const r=Ls(Ws,e.name);t.set(ye.encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const r=Ls(Cs,e.name);t.set(ye.encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode(Ws,e,t)}encodeState(e,t){return this._encode(Cs,e,t)}_encode(e,t,r){const n=Ns.alloc(1e3),i=vs()(t),s=this.ixLayout.get(i).encode(r,n),o=n.slice(0,s);return Ns.concat([Ls(e,t),o])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let r=t.args.map((t=>Rs.fieldLayout(t,e.types)));const n=vs()(t.name);return[n,Es.struct(r,n)]})).concat(e.instructions.map((t=>{let r=t.args.map((t=>Rs.fieldLayout(t,e.types)));const n=vs()(t.name);return[n,Es.struct(r,n)]})));return new Map(t)}decode(e){"string"===typeof e&&(e=ye.decode(e));let t=ye.encode(e.slice(0,8)),r=e.slice(8);const n=this.sighashLayouts.get(t);return n?{data:n.layout.decode(r),name:n.name}:null}format(e,t){return Ks.format(e,t,this.idl)}}class Ks{static format(e,t,r){const n=r.instructions.filter((t=>e.name===t.name))[0];if(void 0===n)return console.error("Invalid instruction given"),null;const i=n.args.map((t=>({name:t.name,type:Ks.formatIdlType(t.type),data:Ks.formatIdlData(t,e.data[t.name],r.types)}))),s=Ks.flattenIdlAccounts(n.accounts);return{args:i,accounts:t.map(((e,t)=>t<s.length?{name:s[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){return"string"===typeof e?e:e.vec?`Vec<${this.formatIdlType(e.vec)}>`:e.option?`Option<${this.formatIdlType(e.option)}>`:e.defined?e.defined:void 0}static formatIdlData(e,t,r){if("string"===typeof e.type)return t.toString();if(e.type.vec)return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.option)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.defined){if(void 0===r)throw new Error("User defined types not provided");const n=r.filter((t=>t.name===e.type.defined));if(1!==n.length)throw new Error(`Type not found: ${e.type.defined}`);return Ks.formatIdlDataDefined(n[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){if("struct"===e.type.kind){return"{ "+Object.keys(t).map((n=>{const i=e.type.fields.filter((e=>e.name===n))[0];if(void 0===i)throw new Error("Unable to find type");return n+": "+Ks.formatIdlData(i,t[n],r)})).join(", ")+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const n=Object.keys(t)[0],i=t[n],s=Object.keys(i).map((t=>{var s;const o=i[t],a=null===(s=e.type.variants[n])||void 0===s?void 0:s.filter((e=>e.name===t))[0];if(void 0===a)throw new Error("Unable to find variant");return t+": "+Ks.formatIdlData(a,o,r)})).join(", "),o=vs()(n,{pascalCase:!0});return 0===s.length?o:`${o} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const r=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.accounts){const n=t?`${t} > ${r}`:r;return Ks.flattenIdlAccounts(e.accounts,n)}return{...e,name:t?`${t} > ${r}`:r}})).flat()}}var Fs=r(36897).Buffer;class Gs{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,Rs.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t)}async encode(e,t){const r=Fs.alloc(1e3),n=this.accountLayouts.get(e).encode(t,r);let i=r.slice(0,n),s=await Vs(e);return Fs.concat([s,i])}decode(e,t){const r=t.slice(8);return this.accountLayouts.get(e).decode(r)}}async function Vs(e){return Fs.from(Os.sha256.digest(`account:${e}`)).slice(0,8)}var qs=r(36897).Buffer;class js{constructor(e){if(void 0===e.types)return void(this.layouts=new Map);const t=e.types.map((t=>[t.name,Rs.typeDefLayout(t,e.types)]));this.layouts=new Map(t)}encode(e,t){const r=qs.alloc(1e3),n=this.layouts.get(e).encode(t,r);return r.slice(0,n)}decode(e,t){return this.layouts.get(e).decode(t)}}var Zs=r(12009),Hs=r(36897).Buffer;class Xs{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let r={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,Rs.typeDefLayout(r,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>{return[Zs.fromByteArray((t=e.name,Hs.from(Os.sha256.digest(`event:${t}`)).slice(0,8))),e.name];var t})))}decode(e){let t;try{t=Hs.from(Zs.toByteArray(e))}catch(i){return null}const r=Zs.fromByteArray(t.slice(0,8)),n=this.discriminators.get(r);if(void 0===n)return null;return{data:this.layouts.get(n).decode(t.slice(8)),name:n}}}const Js=new Set(["anchor-deprecated-state"]),Qs=new Map;function $s(e){if(!Js.has(e))throw new Error("Invalid feature");Qs.set(e,!0)}function Ys(e){return void 0!==Qs.get(e)}var eo=r(36897).Buffer;class to{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=Rs.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const r=eo.alloc(1e3),n=this.layout.encode(t,r),i=await ro(e),s=r.slice(0,n);return eo.concat([i,s])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function ro(e){let t=Ys("anchor-deprecated-state")?"account":"state";return eo.from(Os.sha256.digest(`${t}:${e}`)).slice(0,8)}class no{constructor(e){this.instruction=new Ds(e),this.accounts=new Gs(e),this.types=new js(e),this.events=new Xs(e),e.state&&(this.state=new to(e))}sighash(e,t){return Ls(e,t)}}var io=r(60266);function so(e){let t=e.length;for(;--t>=0;)e[t]=0}const oo=256,ao=286,uo=30,co=15,lo=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),ho=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),fo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),po=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),go=new Array(576);so(go);const mo=new Array(60);so(mo);const yo=new Array(512);so(yo);const bo=new Array(256);so(bo);const wo=new Array(29);so(wo);const ko=new Array(uo);function Ao(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let So,Io,_o;function vo(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}so(ko);const Eo=e=>e<256?yo[e]:yo[256+(e>>>7)],xo=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},To=(e,t,r)=>{e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,xo(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Po=(e,t,r)=>{To(e,r[2*t],r[2*t+1])},Ro=(e,t)=>{let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1},Bo=(e,t,r)=>{const n=new Array(16);let i,s,o=0;for(i=1;i<=co;i++)n[i]=o=o+r[i-1]<<1;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=Ro(n[t]++,t))}},Oo=e=>{let t;for(t=0;t<ao;t++)e.dyn_ltree[2*t]=0;for(t=0;t<uo;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},Mo=e=>{e.bi_valid>8?xo(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Uo=(e,t,r,n)=>{const i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]},zo=(e,t,r)=>{const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Uo(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Uo(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n},Lo=(e,t,r)=>{let n,i,s,o,a=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],i=e.pending_buf[e.l_buf+a],a++,0===n?Po(e,i,t):(s=bo[i],Po(e,s+oo+1,t),o=lo[s],0!==o&&(i-=wo[s],To(e,i,o)),n--,s=Eo(n),Po(e,s,r),o=ho[s],0!==o&&(n-=ko[s],To(e,n,o)))}while(a<e.last_lit);Po(e,256,t)},No=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let o,a,u,c=-1;for(e.heap_len=0,e.heap_max=573,o=0;o<s;o++)0!==r[2*o]?(e.heap[++e.heap_len]=c=o,e.depth[o]=0):r[2*o+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,r[2*u]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=n[2*u+1]);for(t.max_code=c,o=e.heap_len>>1;o>=1;o--)zo(e,r,o);u=s;do{o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],zo(e,r,1),a=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=a,r[2*u]=r[2*o]+r[2*a],e.depth[u]=(e.depth[o]>=e.depth[a]?e.depth[o]:e.depth[a])+1,r[2*o+1]=r[2*a+1]=u,e.heap[1]=u++,zo(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,o=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,u=t.stat_desc.max_length;let c,d,l,h,f,p,g=0;for(h=0;h<=co;h++)e.bl_count[h]=0;for(r[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)d=e.heap[c],h=r[2*r[2*d+1]+1]+1,h>u&&(h=u,g++),r[2*d+1]=h,d>n||(e.bl_count[h]++,f=0,d>=a&&(f=o[d-a]),p=r[2*d],e.opt_len+=p*(h+f),s&&(e.static_len+=p*(i[2*d+1]+f)));if(0!==g){do{for(h=u-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[u]--,g-=2}while(g>0);for(h=u;0!==h;h--)for(d=e.bl_count[h];0!==d;)l=e.heap[--c],l>n||(r[2*l+1]!==h&&(e.opt_len+=(h-r[2*l+1])*r[2*l],r[2*l+1]=h),d--)}})(e,t),Bo(r,c,e.bl_count)},Co=(e,t,r)=>{let n,i,s=-1,o=t[1],a=0,u=7,c=4;for(0===o&&(u=138,c=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=o,o=t[2*(n+1)+1],++a<u&&i===o||(a<c?e.bl_tree[2*i]+=a:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,s=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4))},Wo=(e,t,r)=>{let n,i,s=-1,o=t[1],a=0,u=7,c=4;for(0===o&&(u=138,c=3),n=0;n<=r;n++)if(i=o,o=t[2*(n+1)+1],!(++a<u&&i===o)){if(a<c)do{Po(e,i,e.bl_tree)}while(0!==--a);else 0!==i?(i!==s&&(Po(e,i,e.bl_tree),a--),Po(e,16,e.bl_tree),To(e,a-3,2)):a<=10?(Po(e,17,e.bl_tree),To(e,a-3,3)):(Po(e,18,e.bl_tree),To(e,a-11,7));a=0,s=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4)}};let Do=!1;const Ko=(e,t,r,n)=>{To(e,0+(n?1:0),3),((e,t,r,n)=>{Mo(e),n&&(xo(e,r),xo(e,~r)),e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r})(e,t,r,!0)};var Fo=e=>{Do||((()=>{let e,t,r,n,i;const s=new Array(16);for(r=0,n=0;n<28;n++)for(wo[n]=r,e=0;e<1<<lo[n];e++)bo[r++]=n;for(bo[r-1]=n,i=0,n=0;n<16;n++)for(ko[n]=i,e=0;e<1<<ho[n];e++)yo[i++]=n;for(i>>=7;n<uo;n++)for(ko[n]=i<<7,e=0;e<1<<ho[n]-7;e++)yo[256+i++]=n;for(t=0;t<=co;t++)s[t]=0;for(e=0;e<=143;)go[2*e+1]=8,e++,s[8]++;for(;e<=255;)go[2*e+1]=9,e++,s[9]++;for(;e<=279;)go[2*e+1]=7,e++,s[7]++;for(;e<=287;)go[2*e+1]=8,e++,s[8]++;for(Bo(go,287,s),e=0;e<uo;e++)mo[2*e+1]=5,mo[2*e]=Ro(e,5);So=new Ao(go,lo,257,ao,co),Io=new Ao(mo,ho,0,uo,co),_o=new Ao(new Array(0),fo,0,19,7)})(),Do=!0),e.l_desc=new vo(e.dyn_ltree,So),e.d_desc=new vo(e.dyn_dtree,Io),e.bl_desc=new vo(e.bl_tree,_o),e.bi_buf=0,e.bi_valid=0,Oo(e)},Go=(e,t,r,n)=>{let i,s,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<oo;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),No(e,e.l_desc),No(e,e.d_desc),o=(e=>{let t;for(Co(e,e.dyn_ltree,e.l_desc.max_code),Co(e,e.dyn_dtree,e.d_desc.max_code),No(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*po[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=r+5,r+4<=i&&-1!==t?Ko(e,t,r,n):4===e.strategy||s===i?(To(e,2+(n?1:0),3),Lo(e,go,mo)):(To(e,4+(n?1:0),3),((e,t,r,n)=>{let i;for(To(e,t-257,5),To(e,r-1,5),To(e,n-4,4),i=0;i<n;i++)To(e,e.bl_tree[2*po[i]+1],3);Wo(e,e.dyn_ltree,t-1),Wo(e,e.dyn_dtree,r-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),Lo(e,e.dyn_ltree,e.dyn_dtree)),Oo(e),n&&Mo(e)},Vo={_tr_init:Fo,_tr_stored_block:Ko,_tr_flush_block:Go,_tr_tally:(e,t,r)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(bo[r]+oo+1)]++,e.dyn_dtree[2*Eo(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{To(e,2,3),Po(e,256,go),(e=>{16===e.bi_valid?(xo(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var qo=(e,t,r,n)=>{let i=65535&e|0,s=e>>>16&65535|0,o=0;for(;0!==r;){o=r>2e3?2e3:r,r-=o;do{i=i+t[n++]|0,s=s+i|0}while(--o);i%=65521,s%=65521}return i|s<<16|0};const jo=new Uint32Array((()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t})());var Zo=(e,t,r,n)=>{const i=jo,s=n+r;e^=-1;for(let o=n;o<s;o++)e=e>>>8^i[255&(e^t[o])];return-1^e},Ho={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Xo={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Jo,_tr_stored_block:Qo,_tr_flush_block:$o,_tr_tally:Yo,_tr_align:ea}=Vo,{Z_NO_FLUSH:ta,Z_PARTIAL_FLUSH:ra,Z_FULL_FLUSH:na,Z_FINISH:ia,Z_BLOCK:sa,Z_OK:oa,Z_STREAM_END:aa,Z_STREAM_ERROR:ua,Z_DATA_ERROR:ca,Z_BUF_ERROR:da,Z_DEFAULT_COMPRESSION:la,Z_FILTERED:ha,Z_HUFFMAN_ONLY:fa,Z_RLE:pa,Z_FIXED:ga,Z_DEFAULT_STRATEGY:ma,Z_UNKNOWN:ya,Z_DEFLATED:ba}=Xo,wa=258,ka=262,Aa=103,Sa=113,Ia=666,_a=(e,t)=>(e.msg=Ho[t],t),va=e=>(e<<1)-(e>4?9:0),Ea=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let xa=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask;const Ta=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))},Pa=(e,t)=>{$o(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ta(e.strm)},Ra=(e,t)=>{e.pending_buf[e.pending++]=t},Ba=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Oa=(e,t,r,n)=>{let i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),r),1===e.state.wrap?e.adler=qo(e.adler,t,i,r):2===e.state.wrap&&(e.adler=Zo(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)},Ma=(e,t)=>{let r,n,i=e.max_chain_length,s=e.strstart,o=e.prev_length,a=e.nice_match;const u=e.strstart>e.w_size-ka?e.strstart-(e.w_size-ka):0,c=e.window,d=e.w_mask,l=e.prev,h=e.strstart+wa;let f=c[s+o-1],p=c[s+o];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(r=t,c[r+o]===p&&c[r+o-1]===f&&c[r]===c[s]&&c[++r]===c[s+1]){s+=2,r++;do{}while(c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&c[++s]===c[++r]&&s<h);if(n=wa-(h-s),s=h-wa,n>o){if(e.match_start=t,o=n,n>=a)break;f=c[s+o-1],p=c[s+o]}}}while((t=l[t&d])>u&&0!==--i);return o<=e.lookahead?o:e.lookahead},Ua=e=>{const t=e.w_size;let r,n,i,s,o;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ka)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do{i=e.head[--r],e.head[r]=i>=t?i-t:0}while(--n);n=t,r=n;do{i=e.prev[--r],e.prev[r]=i>=t?i-t:0}while(--n);s+=t}if(0===e.strm.avail_in)break;if(n=Oa(e.strm,e.window,e.strstart+e.lookahead,s),e.lookahead+=n,e.lookahead+e.insert>=3)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=xa(e,e.ins_h,e.window[o+1]);e.insert&&(e.ins_h=xa(e,e.ins_h,e.window[o+3-1]),e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ka&&0!==e.strm.avail_in)},za=(e,t)=>{let r,n;for(;;){if(e.lookahead<ka){if(Ua(e),e.lookahead<ka&&t===ta)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=xa(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-ka&&(e.match_length=Ma(e,r)),e.match_length>=3)if(n=Yo(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=xa(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=xa(e,e.ins_h,e.window[e.strstart+1]);else n=Yo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Pa(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ia?(Pa(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pa(e,!1),0===e.strm.avail_out)?1:2},La=(e,t)=>{let r,n,i;for(;;){if(e.lookahead<ka){if(Ua(e),e.lookahead<ka&&t===ta)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=xa(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-ka&&(e.match_length=Ma(e,r),e.match_length<=5&&(e.strategy===ha||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=Yo(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=xa(e,e.ins_h,e.window[e.strstart+3-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(Pa(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=Yo(e,0,e.window[e.strstart-1]),n&&Pa(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Yo(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ia?(Pa(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pa(e,!1),0===e.strm.avail_out)?1:2};function Na(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}const Ca=[new Na(0,0,0,0,((e,t)=>{let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ua(e),0===e.lookahead&&t===ta)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,Pa(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-ka&&(Pa(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ia?(Pa(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(Pa(e,!1),e.strm.avail_out),1)})),new Na(4,4,8,4,za),new Na(4,5,16,8,za),new Na(4,6,32,32,za),new Na(4,4,16,16,La),new Na(8,16,32,32,La),new Na(8,16,128,128,La),new Na(8,32,128,256,La),new Na(32,128,258,1024,La),new Na(32,258,258,4096,La)];function Wa(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ba,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ea(this.dyn_ltree),Ea(this.dyn_dtree),Ea(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ea(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ea(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Da=e=>{if(!e||!e.state)return _a(e,ua);e.total_in=e.total_out=0,e.data_type=ya;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:Sa,e.adler=2===t.wrap?0:1,t.last_flush=ta,Jo(t),oa},Ka=e=>{const t=Da(e);var r;return t===oa&&((r=e.state).window_size=2*r.w_size,Ea(r.head),r.max_lazy_match=Ca[r.level].max_lazy,r.good_match=Ca[r.level].good_length,r.nice_match=Ca[r.level].nice_length,r.max_chain_length=Ca[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),t},Fa=(e,t,r,n,i,s)=>{if(!e)return ua;let o=1;if(t===la&&(t=6),n<0?(o=0,n=-n):n>15&&(o=2,n-=16),i<1||i>9||r!==ba||n<8||n>15||t<0||t>9||s<0||s>ga)return _a(e,ua);8===n&&(n=9);const a=new Wa;return e.state=a,a.strm=e,a.wrap=o,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.d_buf=1*a.lit_bufsize,a.l_buf=3*a.lit_bufsize,a.level=t,a.strategy=s,a.method=r,Ka(e)};var Ga={deflateInit:(e,t)=>Fa(e,t,ba,15,8,ma),deflateInit2:Fa,deflateReset:Ka,deflateResetKeep:Da,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?ua:(e.state.gzhead=t,oa):ua,deflate:(e,t)=>{let r,n;if(!e||!e.state||t>sa||t<0)return e?_a(e,ua):ua;const i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===Ia&&t!==ia)return _a(e,0===e.avail_out?da:ua);i.strm=e;const s=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,Ra(i,31),Ra(i,139),Ra(i,8),i.gzhead?(Ra(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Ra(i,255&i.gzhead.time),Ra(i,i.gzhead.time>>8&255),Ra(i,i.gzhead.time>>16&255),Ra(i,i.gzhead.time>>24&255),Ra(i,9===i.level?2:i.strategy>=fa||i.level<2?4:0),Ra(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Ra(i,255&i.gzhead.extra.length),Ra(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=Zo(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Ra(i,0),Ra(i,0),Ra(i,0),Ra(i,0),Ra(i,0),Ra(i,9===i.level?2:i.strategy>=fa||i.level<2?4:0),Ra(i,3),i.status=Sa);else{let t=ba+(i.w_bits-8<<4)<<8,r=-1;r=i.strategy>=fa||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=r<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=Sa,Ba(i,t),0!==i.strstart&&(Ba(i,e.adler>>>16),Ba(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(r=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>r&&(e.adler=Zo(e.adler,i.pending_buf,i.pending-r,r)),Ta(e),r=i.pending,i.pending!==i.pending_buf_size));)Ra(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>r&&(e.adler=Zo(e.adler,i.pending_buf,i.pending-r,r)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=Zo(e.adler,i.pending_buf,i.pending-r,r)),Ta(e),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Ra(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(e.adler=Zo(e.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){r=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>r&&(e.adler=Zo(e.adler,i.pending_buf,i.pending-r,r)),Ta(e),r=i.pending,i.pending===i.pending_buf_size)){n=1;break}n=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Ra(i,n)}while(0!==n);i.gzhead.hcrc&&i.pending>r&&(e.adler=Zo(e.adler,i.pending_buf,i.pending-r,r)),0===n&&(i.status=Aa)}else i.status=Aa;if(i.status===Aa&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Ta(e),i.pending+2<=i.pending_buf_size&&(Ra(i,255&e.adler),Ra(i,e.adler>>8&255),e.adler=0,i.status=Sa)):i.status=Sa),0!==i.pending){if(Ta(e),0===e.avail_out)return i.last_flush=-1,oa}else if(0===e.avail_in&&va(t)<=va(s)&&t!==ia)return _a(e,da);if(i.status===Ia&&0!==e.avail_in)return _a(e,da);if(0!==e.avail_in||0!==i.lookahead||t!==ta&&i.status!==Ia){let r=i.strategy===fa?((e,t)=>{let r;for(;;){if(0===e.lookahead&&(Ua(e),0===e.lookahead)){if(t===ta)return 1;break}if(e.match_length=0,r=Yo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Pa(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ia?(Pa(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pa(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===pa?((e,t)=>{let r,n,i,s;const o=e.window;for(;;){if(e.lookahead<=wa){if(Ua(e),e.lookahead<=wa&&t===ta)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,n=o[i],n===o[++i]&&n===o[++i]&&n===o[++i])){s=e.strstart+wa;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);e.match_length=wa-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=Yo(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Yo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Pa(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ia?(Pa(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(Pa(e,!1),0===e.strm.avail_out)?1:2})(i,t):Ca[i.level].func(i,t);if(3!==r&&4!==r||(i.status=Ia),1===r||3===r)return 0===e.avail_out&&(i.last_flush=-1),oa;if(2===r&&(t===ra?ea(i):t!==sa&&(Qo(i,0,0,!1),t===na&&(Ea(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Ta(e),0===e.avail_out))return i.last_flush=-1,oa}return t!==ia?oa:i.wrap<=0?aa:(2===i.wrap?(Ra(i,255&e.adler),Ra(i,e.adler>>8&255),Ra(i,e.adler>>16&255),Ra(i,e.adler>>24&255),Ra(i,255&e.total_in),Ra(i,e.total_in>>8&255),Ra(i,e.total_in>>16&255),Ra(i,e.total_in>>24&255)):(Ba(i,e.adler>>>16),Ba(i,65535&e.adler)),Ta(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?oa:aa)},deflateEnd:e=>{if(!e||!e.state)return ua;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==Aa&&t!==Sa&&t!==Ia?_a(e,ua):(e.state=null,t===Sa?_a(e,ca):oa)},deflateSetDictionary:(e,t)=>{let r=t.length;if(!e||!e.state)return ua;const n=e.state,i=n.wrap;if(2===i||1===i&&42!==n.status||n.lookahead)return ua;if(1===i&&(e.adler=qo(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){0===i&&(Ea(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(r-n.w_size,r),0),t=e,r=n.w_size}const s=e.avail_in,o=e.next_in,a=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Ua(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=xa(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,Ua(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=o,e.input=a,e.avail_in=s,n.wrap=i,oa},deflateInfo:"pako deflate (from Nodeca project)"};const Va=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var qa=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if("object"!==typeof r)throw new TypeError(r+"must be non-object");for(const t in r)Va(r,t)&&(e[t]=r[t])}}return e},ja=e=>{let t=0;for(let n=0,i=e.length;n<i;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,i=0,s=e.length;n<s;n++){let t=e[n];r.set(t,i),i+=t.length}return r};let Za=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(od){Za=!1}const Ha=new Uint8Array(256);for(let ad=0;ad<256;ad++)Ha[ad]=ad>=252?6:ad>=248?5:ad>=240?4:ad>=224?3:ad>=192?2:1;Ha[254]=Ha[254]=1;var Xa=e=>{if("function"===typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,r,n,i,s,o=e.length,a=0;for(i=0;i<o;i++)r=e.charCodeAt(i),55296===(64512&r)&&i+1<o&&(n=e.charCodeAt(i+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(a),s=0,i=0;s<a;i++)r=e.charCodeAt(i),55296===(64512&r)&&i+1<o&&(n=e.charCodeAt(i+1),56320===(64512&n)&&(r=65536+(r-55296<<10)+(n-56320),i++)),r<128?t[s++]=r:r<2048?(t[s++]=192|r>>>6,t[s++]=128|63&r):r<65536?(t[s++]=224|r>>>12,t[s++]=128|r>>>6&63,t[s++]=128|63&r):(t[s++]=240|r>>>18,t[s++]=128|r>>>12&63,t[s++]=128|r>>>6&63,t[s++]=128|63&r);return t},Ja=(e,t)=>{const r=t||e.length;if("function"===typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,i;const s=new Array(2*r);for(i=0,n=0;n<r;){let t=e[n++];if(t<128){s[i++]=t;continue}let o=Ha[t];if(o>4)s[i++]=65533,n+=o-1;else{for(t&=2===o?31:3===o?15:7;o>1&&n<r;)t=t<<6|63&e[n++],o--;o>1?s[i++]=65533:t<65536?s[i++]=t:(t-=65536,s[i++]=55296|t>>10&1023,s[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Za)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r})(s,i)},Qa=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let r=t-1;for(;r>=0&&128===(192&e[r]);)r--;return r<0||0===r?t:r+Ha[e[r]]>t?r:t};var $a=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const Ya=Object.prototype.toString,{Z_NO_FLUSH:eu,Z_SYNC_FLUSH:tu,Z_FULL_FLUSH:ru,Z_FINISH:nu,Z_OK:iu,Z_STREAM_END:su,Z_DEFAULT_COMPRESSION:ou,Z_DEFAULT_STRATEGY:au,Z_DEFLATED:uu}=Xo;function cu(e){this.options=qa({level:ou,method:uu,chunkSize:16384,windowBits:15,memLevel:8,strategy:au},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $a,this.strm.avail_out=0;let r=Ga.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==iu)throw new Error(Ho[r]);if(t.header&&Ga.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?Xa(t.dictionary):"[object ArrayBuffer]"===Ya.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,r=Ga.deflateSetDictionary(this.strm,e),r!==iu)throw new Error(Ho[r]);this._dict_set=!0}}function du(e,t){const r=new cu(t);if(r.push(e,!0),r.err)throw r.msg||Ho[r.err];return r.result}cu.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?nu:eu,"string"===typeof e?r.input=Xa(e):"[object ArrayBuffer]"===Ya.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(s===tu||s===ru)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if(i=Ga.deflate(r,s),i===su)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),i=Ga.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===iu;if(0!==r.avail_out){if(s>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},cu.prototype.onData=function(e){this.chunks.push(e)},cu.prototype.onEnd=function(e){e===iu&&(this.result=ja(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var lu={Deflate:cu,deflate:du,deflateRaw:function(e,t){return(t=t||{}).raw=!0,du(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,du(e,t)},constants:Xo};var hu=function(e,t){let r,n,i,s,o,a,u,c,d,l,h,f,p,g,m,y,b,w,k,A,S,I,_,v;const E=e.state;r=e.next_in,_=e.input,n=r+(e.avail_in-5),i=e.next_out,v=e.output,s=i-(t-e.avail_out),o=i+(e.avail_out-257),a=E.dmax,u=E.wsize,c=E.whave,d=E.wnext,l=E.window,h=E.hold,f=E.bits,p=E.lencode,g=E.distcode,m=(1<<E.lenbits)-1,y=(1<<E.distbits)-1;e:do{f<15&&(h+=_[r++]<<f,f+=8,h+=_[r++]<<f,f+=8),b=p[h&m];t:for(;;){if(w=b>>>24,h>>>=w,f-=w,w=b>>>16&255,0===w)v[i++]=65535&b;else{if(!(16&w)){if(0===(64&w)){b=p[(65535&b)+(h&(1<<w)-1)];continue t}if(32&w){E.mode=12;break e}e.msg="invalid literal/length code",E.mode=30;break e}k=65535&b,w&=15,w&&(f<w&&(h+=_[r++]<<f,f+=8),k+=h&(1<<w)-1,h>>>=w,f-=w),f<15&&(h+=_[r++]<<f,f+=8,h+=_[r++]<<f,f+=8),b=g[h&y];r:for(;;){if(w=b>>>24,h>>>=w,f-=w,w=b>>>16&255,!(16&w)){if(0===(64&w)){b=g[(65535&b)+(h&(1<<w)-1)];continue r}e.msg="invalid distance code",E.mode=30;break e}if(A=65535&b,w&=15,f<w&&(h+=_[r++]<<f,f+=8,f<w&&(h+=_[r++]<<f,f+=8)),A+=h&(1<<w)-1,A>a){e.msg="invalid distance too far back",E.mode=30;break e}if(h>>>=w,f-=w,w=i-s,A>w){if(w=A-w,w>c&&E.sane){e.msg="invalid distance too far back",E.mode=30;break e}if(S=0,I=l,0===d){if(S+=u-w,w<k){k-=w;do{v[i++]=l[S++]}while(--w);S=i-A,I=v}}else if(d<w){if(S+=u+d-w,w-=d,w<k){k-=w;do{v[i++]=l[S++]}while(--w);if(S=0,d<k){w=d,k-=w;do{v[i++]=l[S++]}while(--w);S=i-A,I=v}}}else if(S+=d-w,w<k){k-=w;do{v[i++]=l[S++]}while(--w);S=i-A,I=v}for(;k>2;)v[i++]=I[S++],v[i++]=I[S++],v[i++]=I[S++],k-=3;k&&(v[i++]=I[S++],k>1&&(v[i++]=I[S++]))}else{S=i-A;do{v[i++]=v[S++],v[i++]=v[S++],v[i++]=v[S++],k-=3}while(k>2);k&&(v[i++]=v[S++],k>1&&(v[i++]=v[S++]))}break}}break}}while(r<n&&i<o);k=f>>3,r-=k,f-=k<<3,h&=(1<<f)-1,e.next_in=r,e.next_out=i,e.avail_in=r<n?n-r+5:5-(r-n),e.avail_out=i<o?o-i+257:257-(i-o),E.hold=h,E.bits=f};const fu=15,pu=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gu=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mu=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),yu=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var bu=(e,t,r,n,i,s,o,a)=>{const u=a.bits;let c,d,l,h,f,p,g=0,m=0,y=0,b=0,w=0,k=0,A=0,S=0,I=0,_=0,v=null,E=0;const x=new Uint16Array(16),T=new Uint16Array(16);let P,R,B,O=null,M=0;for(g=0;g<=fu;g++)x[g]=0;for(m=0;m<n;m++)x[t[r+m]]++;for(w=u,b=fu;b>=1&&0===x[b];b--);if(w>b&&(w=b),0===b)return i[s++]=20971520,i[s++]=20971520,a.bits=1,0;for(y=1;y<b&&0===x[y];y++);for(w<y&&(w=y),S=1,g=1;g<=fu;g++)if(S<<=1,S-=x[g],S<0)return-1;if(S>0&&(0===e||1!==b))return-1;for(T[1]=0,g=1;g<fu;g++)T[g+1]=T[g]+x[g];for(m=0;m<n;m++)0!==t[r+m]&&(o[T[t[r+m]]++]=m);if(0===e?(v=O=o,p=19):1===e?(v=pu,E-=257,O=gu,M-=257,p=256):(v=mu,O=yu,p=-1),_=0,m=0,g=y,f=s,k=w,A=0,l=-1,I=1<<w,h=I-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){P=g-A,o[m]<p?(R=0,B=o[m]):o[m]>p?(R=O[M+o[m]],B=v[E+o[m]]):(R=96,B=0),c=1<<g-A,d=1<<k,y=d;do{d-=c,i[f+(_>>A)+d]=P<<24|R<<16|B|0}while(0!==d);for(c=1<<g-1;_&c;)c>>=1;if(0!==c?(_&=c-1,_+=c):_=0,m++,0===--x[g]){if(g===b)break;g=t[r+o[m]]}if(g>w&&(_&h)!==l){for(0===A&&(A=w),f+=y,k=g-A,S=1<<k;k+A<b&&(S-=x[k+A],!(S<=0));)k++,S<<=1;if(I+=1<<k,1===e&&I>852||2===e&&I>592)return 1;l=_&h,i[l]=w<<24|k<<16|f-s|0}}return 0!==_&&(i[f+_]=g-A<<24|64<<16|0),a.bits=w,0};const{Z_FINISH:wu,Z_BLOCK:ku,Z_TREES:Au,Z_OK:Su,Z_STREAM_END:Iu,Z_NEED_DICT:_u,Z_STREAM_ERROR:vu,Z_DATA_ERROR:Eu,Z_MEM_ERROR:xu,Z_BUF_ERROR:Tu,Z_DEFLATED:Pu}=Xo,Ru=12,Bu=30,Ou=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Mu(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Uu=e=>{if(!e||!e.state)return vu;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Su},zu=e=>{if(!e||!e.state)return vu;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Uu(e)},Lu=(e,t)=>{let r;if(!e||!e.state)return vu;const n=e.state;return t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?vu:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,zu(e))},Nu=(e,t)=>{if(!e)return vu;const r=new Mu;e.state=r,r.window=null;const n=Lu(e,t);return n!==Su&&(e.state=null),n};let Cu,Wu,Du=!0;const Ku=e=>{if(Du){Cu=new Int32Array(512),Wu=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(bu(1,e.lens,0,288,Cu,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;bu(2,e.lens,0,32,Wu,0,e.work,{bits:5}),Du=!1}e.lencode=Cu,e.lenbits=9,e.distcode=Wu,e.distbits=5},Fu=(e,t,r,n)=>{let i;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(t.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>n&&(i=n),s.window.set(t.subarray(r-n,r-n+i),s.wnext),(n-=i)?(s.window.set(t.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var Gu={inflateReset:zu,inflateReset2:Lu,inflateResetKeep:Uu,inflateInit:e=>Nu(e,15),inflateInit2:Nu,inflate:(e,t)=>{let r,n,i,s,o,a,u,c,d,l,h,f,p,g,m,y,b,w,k,A,S,I,_=0;const v=new Uint8Array(4);let E,x;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return vu;r=e.state,r.mode===Ru&&(r.mode=13),o=e.next_out,i=e.output,u=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,c=r.hold,d=r.bits,l=a,h=u,I=Su;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;d<16;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}if(2&r.wrap&&35615===c){r.check=0,v[0]=255&c,v[1]=c>>>8&255,r.check=Zo(r.check,v,2,0),c=0,d=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",r.mode=Bu;break}if((15&c)!==Pu){e.msg="unknown compression method",r.mode=Bu;break}if(c>>>=4,d-=4,S=8+(15&c),0===r.wbits)r.wbits=S;else if(S>r.wbits){e.msg="invalid window size",r.mode=Bu;break}r.dmax=1<<r.wbits,e.adler=r.check=1,r.mode=512&c?10:Ru,c=0,d=0;break;case 2:for(;d<16;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}if(r.flags=c,(255&r.flags)!==Pu){e.msg="unknown compression method",r.mode=Bu;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=Bu;break}r.head&&(r.head.text=c>>8&1),512&r.flags&&(v[0]=255&c,v[1]=c>>>8&255,r.check=Zo(r.check,v,2,0)),c=0,d=0,r.mode=3;case 3:for(;d<32;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}r.head&&(r.head.time=c),512&r.flags&&(v[0]=255&c,v[1]=c>>>8&255,v[2]=c>>>16&255,v[3]=c>>>24&255,r.check=Zo(r.check,v,4,0)),c=0,d=0,r.mode=4;case 4:for(;d<16;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}r.head&&(r.head.xflags=255&c,r.head.os=c>>8),512&r.flags&&(v[0]=255&c,v[1]=c>>>8&255,r.check=Zo(r.check,v,2,0)),c=0,d=0,r.mode=5;case 5:if(1024&r.flags){for(;d<16;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}r.length=c,r.head&&(r.head.extra_len=c),512&r.flags&&(v[0]=255&c,v[1]=c>>>8&255,r.check=Zo(r.check,v,2,0)),c=0,d=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(f=r.length,f>a&&(f=a),f&&(r.head&&(S=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+f),S)),512&r.flags&&(r.check=Zo(r.check,n,f,s)),a-=f,s+=f,r.length-=f),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===a)break e;f=0;do{S=n[s+f++],r.head&&S&&r.length<65536&&(r.head.name+=String.fromCharCode(S))}while(S&&f<a);if(512&r.flags&&(r.check=Zo(r.check,n,f,s)),a-=f,s+=f,S)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===a)break e;f=0;do{S=n[s+f++],r.head&&S&&r.length<65536&&(r.head.comment+=String.fromCharCode(S))}while(S&&f<a);if(512&r.flags&&(r.check=Zo(r.check,n,f,s)),a-=f,s+=f,S)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;d<16;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}if(c!==(65535&r.check)){e.msg="header crc mismatch",r.mode=Bu;break}c=0,d=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ru;break;case 10:for(;d<32;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}e.adler=r.check=Ou(c),c=0,d=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=o,e.avail_out=u,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=d,_u;e.adler=r.check=1,r.mode=Ru;case Ru:if(t===ku||t===Au)break e;case 13:if(r.last){c>>>=7&d,d-=7&d,r.mode=27;break}for(;d<3;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}switch(r.last=1&c,c>>>=1,d-=1,3&c){case 0:r.mode=14;break;case 1:if(Ku(r),r.mode=20,t===Au){c>>>=2,d-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=Bu}c>>>=2,d-=2;break;case 14:for(c>>>=7&d,d-=7&d;d<32;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Bu;break}if(r.length=65535&c,c=0,d=0,r.mode=15,t===Au)break e;case 15:r.mode=16;case 16:if(f=r.length,f){if(f>a&&(f=a),f>u&&(f=u),0===f)break e;i.set(n.subarray(s,s+f),o),a-=f,s+=f,u-=f,o+=f,r.length-=f;break}r.mode=Ru;break;case 17:for(;d<14;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}if(r.nlen=257+(31&c),c>>>=5,d-=5,r.ndist=1+(31&c),c>>>=5,d-=5,r.ncode=4+(15&c),c>>>=4,d-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Bu;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;d<3;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}r.lens[T[r.have++]]=7&c,c>>>=3,d-=3}for(;r.have<19;)r.lens[T[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,E={bits:r.lenbits},I=bu(0,r.lens,0,19,r.lencode,0,r.work,E),r.lenbits=E.bits,I){e.msg="invalid code lengths set",r.mode=Bu;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;_=r.lencode[c&(1<<r.lenbits)-1],m=_>>>24,y=_>>>16&255,b=65535&_,!(m<=d);){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}if(b<16)c>>>=m,d-=m,r.lens[r.have++]=b;else{if(16===b){for(x=m+2;d<x;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}if(c>>>=m,d-=m,0===r.have){e.msg="invalid bit length repeat",r.mode=Bu;break}S=r.lens[r.have-1],f=3+(3&c),c>>>=2,d-=2}else if(17===b){for(x=m+3;d<x;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}c>>>=m,d-=m,S=0,f=3+(7&c),c>>>=3,d-=3}else{for(x=m+7;d<x;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}c>>>=m,d-=m,S=0,f=11+(127&c),c>>>=7,d-=7}if(r.have+f>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Bu;break}for(;f--;)r.lens[r.have++]=S}}if(r.mode===Bu)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=Bu;break}if(r.lenbits=9,E={bits:r.lenbits},I=bu(1,r.lens,0,r.nlen,r.lencode,0,r.work,E),r.lenbits=E.bits,I){e.msg="invalid literal/lengths set",r.mode=Bu;break}if(r.distbits=6,r.distcode=r.distdyn,E={bits:r.distbits},I=bu(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,E),r.distbits=E.bits,I){e.msg="invalid distances set",r.mode=Bu;break}if(r.mode=20,t===Au)break e;case 20:r.mode=21;case 21:if(a>=6&&u>=258){e.next_out=o,e.avail_out=u,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=d,hu(e,h),o=e.next_out,i=e.output,u=e.avail_out,s=e.next_in,n=e.input,a=e.avail_in,c=r.hold,d=r.bits,r.mode===Ru&&(r.back=-1);break}for(r.back=0;_=r.lencode[c&(1<<r.lenbits)-1],m=_>>>24,y=_>>>16&255,b=65535&_,!(m<=d);){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}if(y&&0===(240&y)){for(w=m,k=y,A=b;_=r.lencode[A+((c&(1<<w+k)-1)>>w)],m=_>>>24,y=_>>>16&255,b=65535&_,!(w+m<=d);){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}c>>>=w,d-=w,r.back+=w}if(c>>>=m,d-=m,r.back+=m,r.length=b,0===y){r.mode=26;break}if(32&y){r.back=-1,r.mode=Ru;break}if(64&y){e.msg="invalid literal/length code",r.mode=Bu;break}r.extra=15&y,r.mode=22;case 22:if(r.extra){for(x=r.extra;d<x;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;_=r.distcode[c&(1<<r.distbits)-1],m=_>>>24,y=_>>>16&255,b=65535&_,!(m<=d);){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}if(0===(240&y)){for(w=m,k=y,A=b;_=r.distcode[A+((c&(1<<w+k)-1)>>w)],m=_>>>24,y=_>>>16&255,b=65535&_,!(w+m<=d);){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}c>>>=w,d-=w,r.back+=w}if(c>>>=m,d-=m,r.back+=m,64&y){e.msg="invalid distance code",r.mode=Bu;break}r.offset=b,r.extra=15&y,r.mode=24;case 24:if(r.extra){for(x=r.extra;d<x;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,d-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Bu;break}r.mode=25;case 25:if(0===u)break e;if(f=h-u,r.offset>f){if(f=r.offset-f,f>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Bu;break}f>r.wnext?(f-=r.wnext,p=r.wsize-f):p=r.wnext-f,f>r.length&&(f=r.length),g=r.window}else g=i,p=o-r.offset,f=r.length;f>u&&(f=u),u-=f,r.length-=f;do{i[o++]=g[p++]}while(--f);0===r.length&&(r.mode=21);break;case 26:if(0===u)break e;i[o++]=r.length,u--,r.mode=21;break;case 27:if(r.wrap){for(;d<32;){if(0===a)break e;a--,c|=n[s++]<<d,d+=8}if(h-=u,e.total_out+=h,r.total+=h,h&&(e.adler=r.check=r.flags?Zo(r.check,i,h,o-h):qo(r.check,i,h,o-h)),h=u,(r.flags?c:Ou(c))!==r.check){e.msg="incorrect data check",r.mode=Bu;break}c=0,d=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;d<32;){if(0===a)break e;a--,c+=n[s++]<<d,d+=8}if(c!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=Bu;break}c=0,d=0}r.mode=29;case 29:I=Iu;break e;case Bu:I=Eu;break e;case 31:return xu;default:return vu}return e.next_out=o,e.avail_out=u,e.next_in=s,e.avail_in=a,r.hold=c,r.bits=d,(r.wsize||h!==e.avail_out&&r.mode<Bu&&(r.mode<27||t!==wu))&&Fu(e,e.output,e.next_out,h-e.avail_out),l-=e.avail_in,h-=e.avail_out,e.total_in+=l,e.total_out+=h,r.total+=h,r.wrap&&h&&(e.adler=r.check=r.flags?Zo(r.check,i,h,e.next_out-h):qo(r.check,i,h,e.next_out-h)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ru?128:0)+(20===r.mode||15===r.mode?256:0),(0===l&&0===h||t===wu)&&I===Su&&(I=Tu),I},inflateEnd:e=>{if(!e||!e.state)return vu;let t=e.state;return t.window&&(t.window=null),e.state=null,Su},inflateGetHeader:(e,t)=>{if(!e||!e.state)return vu;const r=e.state;return 0===(2&r.wrap)?vu:(r.head=t,t.done=!1,Su)},inflateSetDictionary:(e,t)=>{const r=t.length;let n,i,s;return e&&e.state?(n=e.state,0!==n.wrap&&11!==n.mode?vu:11===n.mode&&(i=1,i=qo(i,t,r,0),i!==n.check)?Eu:(s=Fu(e,t,r,r),s?(n.mode=31,xu):(n.havedict=1,Su))):vu},inflateInfo:"pako inflate (from Nodeca project)"};var Vu=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const qu=Object.prototype.toString,{Z_NO_FLUSH:ju,Z_FINISH:Zu,Z_OK:Hu,Z_STREAM_END:Xu,Z_NEED_DICT:Ju,Z_STREAM_ERROR:Qu,Z_DATA_ERROR:$u,Z_MEM_ERROR:Yu}=Xo;function ec(e){this.options=qa({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new $a,this.strm.avail_out=0;let r=Gu.inflateInit2(this.strm,t.windowBits);if(r!==Hu)throw new Error(Ho[r]);if(this.header=new Vu,Gu.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Xa(t.dictionary):"[object ArrayBuffer]"===qu.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Gu.inflateSetDictionary(this.strm,t.dictionary),r!==Hu)))throw new Error(Ho[r])}function tc(e,t){const r=new ec(t);if(r.push(e),r.err)throw r.msg||Ho[r.err];return r.result}ec.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let s,o,a;if(this.ended)return!1;for(o=t===~~t?t:!0===t?Zu:ju,"[object ArrayBuffer]"===qu.call(e)?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=Gu.inflate(r,o),s===Ju&&i&&(s=Gu.inflateSetDictionary(r,i),s===Hu?s=Gu.inflate(r,o):s===$u&&(s=Ju));r.avail_in>0&&s===Xu&&r.state.wrap>0&&0!==e[r.next_in];)Gu.inflateReset(r),s=Gu.inflate(r,o);switch(s){case Qu:case $u:case Ju:case Yu:return this.onEnd(s),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(0===r.avail_out||s===Xu))if("string"===this.options.to){let e=Qa(r.output,r.next_out),t=r.next_out-e,i=Ja(r.output,e);r.next_out=t,r.avail_out=n-t,t&&r.output.set(r.output.subarray(e,e+t),0),this.onData(i)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(s!==Hu||0!==a){if(s===Xu)return s=Gu.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},ec.prototype.onData=function(e){this.chunks.push(e)},ec.prototype.onEnd=function(e){e===Hu&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ja(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var rc={Inflate:ec,inflate:tc,inflateRaw:function(e,t){return(t=t||{}).raw=!0,tc(e,t)},ungzip:tc,constants:Xo};const{Deflate:nc,deflate:ic,deflateRaw:sc,gzip:oc}=lu,{Inflate:ac,inflate:uc,inflateRaw:cc,ungzip:dc}=rc;var lc=uc;r(36897).Buffer;const hc=Es.struct([Es.publicKey("authority"),Es.vecU8("data")]);var fc=r(48449),pc=r.n(fc);function gc(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var r;let n=null!==(r=e.msg)&&void 0!==r?r:e.name;t.set(e.code,n)})),t}function mc(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e.args.length!=r.length)throw new Error("Invalid argument length");const i={};let s=0;return e.args.forEach((e=>{i[e.name]=r[s],s+=1})),i}function yc(e,t){e.forEach((e=>{if(void 0!==e.accounts)yc(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function bc(e){if("string"===typeof e){return new Dt(e)}return e}var wc=r(36897).Buffer;function kc(e,t,r){const n=wc.concat([e.toBuffer(),wc.from(t),r.toBuffer()]),i=Os.sha256.digest(n);return new Dt(wc.from(i))}function Ac(e,t){let r=wc.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=wc.concat([r,Ic(e)])})),r=wc.concat([r,t.toBuffer(),wc.from("ProgramDerivedAddress")]);let n=(0,Os.sha256)(new Uint8Array(r)),i=new(m())(n,16).toArray(void 0,32);if(Dt.isOnCurve(new Uint8Array(i)))throw new Error("Invalid seeds, address must fall off the curve");return new Dt(i)}function Sc(e,t){let r,n=255;for(;0!=n;){try{r=Ac(e.concat(wc.from([n])),t)}catch(_a){if(_a instanceof TypeError)throw _a;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}const Ic=e=>e instanceof wc?e:e instanceof Uint8Array?wc.from(e.buffer,e.byteOffset,e.byteLength):wc.from(e);async function _c(e){let t=[wc.from([97,110,99,104,111,114])];for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];n.forEach((e=>{t.push(void 0!==e.buffer?e:bc(e).toBuffer())}));const[s]=await Dt.findProgramAddress(t,bc(e));return s}function vc(e,t){let r={};const n=e.args?e.args.length:0;if(t.length>n){if(t.length!==n+1)throw new Error("provided too many arguments ${args}");r=t.pop()}return[t,r]}class Ec{static build(e,t,r){if("_inner"===e.name)throw new xs("the _inner name is reserved");const n=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];const[a,u]=vc(e,[...s]);yc(e.accounts,u.accounts);const c=n.accounts(u.accounts);return void 0!==u.remainingAccounts&&c.push(...u.remainingAccounts),u.__private&&u.__private.logAccounts&&console.log("Outgoing account metas:",c),new ur({keys:c,programId:r,data:t(e.name,mc(e,...a))})};return n.accounts=t=>Ec.accountsArray(t,e.accounts),n}static accountsArray(e,t){return t.map((t=>{const r=t.accounts;if(void 0!==r){const n=e[t.name];return Ec.accountsArray(n,r).flat()}{const r=t;return{pubkey:bc(e[t.name]),isWritable:r.isMut,isSigner:r.isSigner}}})).flat()}}class xc{static build(e,t,r,n){return async function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];const a=t(...s),[,u]=vc(e,[...s]);try{return await n.send(a,u.signers,u.options)}catch(_a){console.log("Translating error",_a);let t=Ts.parse(_a,r);if(null===t)throw _a;throw t}}}}class Tc{static build(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];const[,s]=vc(e,[...n]),o=new cr;return void 0!==s.instructions&&o.add(...s.instructions),o.add(t(...n)),o}}}class Pc{constructor(e,t,r,n){this._idl=e,this._programId=t,this._address=Rc(t),this._provider=null!==r&&void 0!==r?r:Ss(),this._coder=null!==n&&void 0!==n?n:new no(e),this._sub=null;const[i,s,o]=(()=>{let i={},s={},o={};return e.state.methods.forEach((a=>{const u=Ec.build(a,((e,t)=>n.instruction.encodeState(e,t)),t);u.accounts=e=>{const n=function(e,t,r,n){if("new"===r.name){const[r]=Sc([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:Rc(e),isWritable:!0,isSigner:!1},{pubkey:r,isWritable:!1,isSigner:!1},{pubkey:Mr.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1},{pubkey:mr,isWritable:!1,isSigner:!1}]}return yc(r.accounts,n),[{pubkey:Rc(e),isWritable:!0,isSigner:!1}]}(t,r,a,e);return n.concat(Ec.accountsArray(e,a.accounts))};const c=Tc.build(a,u),d=xc.build(a,c,gc(e),r),l=vs()(a.name);i[l]=u,s[l]=c,o[l]=d})),[i,s,o]})();this.instruction=i,this.transaction=s,this.rpc=o}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);if((await ro(this._idl.state.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(pc()),r=this.provider.connection.onAccountChange(this.address(),(e=>{const r=this.coder.state.decode(e.data);t.emit("change",r)}),e);return this._sub={ee:t,listener:r},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function Rc(e){let[t]=Sc([],e);return kc(t,"unversioned",e)}var Bc=r(36897).Buffer;class Oc{constructor(e,t,r,n,i){this._idlAccount=t,this._programId=r,this._provider=null!==n&&void 0!==n?n:Ss(),this._coder=null!==i&&void 0!==i?i:new no(e),this._size=8+Us(e,t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(e){const t=await this._provider.connection.getAccountInfo(bc(e));if(null===t)throw new Error(`Account does not exist ${e.toString()}`);if((await Vs(this._idlAccount.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this._coder.accounts.decode(this._idlAccount.name,t.data)}async all(e){let t=await Vs(this._idlAccount.name);return void 0!==e&&(t=Bc.concat([t,e])),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:{offset:0,bytes:ye.encode(t)}}]})).map((e=>{let{pubkey:t,account:r}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,r.data)}}))}subscribe(e,t){if(Mc.get(e.toString()))return Mc.get(e.toString()).ee;const r=new(pc());e=bc(e);const n=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return Mc.set(e.toString(),{ee:r,listener:n}),r}unsubscribe(e){let t=Mc.get(e.toString());t?Mc&&this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{Mc.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const r=this.size;return Mr.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!==t&&void 0!==t?t:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!==t&&void 0!==t?t:r),programId:this._programId})}async associated(){const e=await this.associatedAddress(...arguments);return await this.fetch(e)}async associatedAddress(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return await _c(this._programId,...t)}}const Mc=new Map;var Uc=r(21380),zc=r.n(Uc);const Lc="Program log: ".length;class Nc{constructor(e,t){this.coder=e,this.programId=t}parseLogs(e,t){const r=new Wc(e),n=new Cc(r.next());let i=r.next();for(;null!==i;){let[e,s,o]=this.handleLog(n,i);e&&t(e),s&&n.push(s),o&&n.pop(),i=r.next()}}handleLog(e,t){return e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(Lc);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class Cc{constructor(e){const t=/^Program (.*) invoke.*$/g.exec(e)[1];this.stack=[t]}program(){return Uc.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){Uc.ok(this.stack.length>0),this.stack.pop()}}class Wc{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}var Dc=r(36897).Buffer;function Kc(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")}function Fc(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2===1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?Dc.from([]):Dc.from(t.map((e=>parseInt(e,16))))}function Gc(e){return("undefined"===typeof TextDecoder?new(r(58404).TextDecoder)("utf-8"):new TextDecoder("utf-8")).decode(e)}function Vc(e){return("undefined"===typeof TextEncoder?new(r(58404).TextEncoder)("utf-8"):new TextEncoder).encode(e)}function qc(e){return ye.encode(e)}function jc(e){return ye.decode(e)}var Zc=r(36897).Buffer;function Hc(e){return Zs.fromByteArray(e)}function Xc(e){return Zc.from(Zs.toByteArray(e))}class Jc{constructor(e,t,r){t=bc(t),this._idl=e,this._programId=t,this._provider=null!==r&&void 0!==r?r:Ss(),this._coder=new no(e);const[n,i,s,o,a,u]=class{static build(e,t,r,n){const i={},s={},o={},a={},u=gc(e),c=class{static build(e,t,r,n){if(void 0!==e.state)return new Pc(e,r,n,t)}}.build(e,t,r,n);e.instructions.forEach((c=>{const d=Ec.build(c,((e,r)=>t.instruction.encode(e,r)),r),l=Tc.build(c,d),h=xc.build(c,l,u,n),f=class{static build(e,t,r,n,i,s,o){return async function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];const d=t(...u),[,l]=vc(e,[...u]);let h;try{h=await n.simulate(d,l.signers,l.options)}catch(_a){console.log("Translating error",_a);let t=Ts.parse(_a,r);if(null===t)throw _a;throw t}if(void 0===h)throw new Error("Unable to simulate transaction");if(h.value.err)throw new Error(`Simulate error: ${h.value.err.toString()}`);const f=h.value.logs;if(!f)throw new Error("Simulated logs not found");const p=[];return o.events&&new Nc(i,s).parseLogs(f,(e=>{p.push(e)})),{events:p,raw:f}}}}.build(c,l,u,n,t,r,e),p=vs()(c.name);s[p]=d,o[p]=l,i[p]=h,a[p]=f}));const d=e.accounts?class{static build(e,t,r,n){const i={};return e.accounts.forEach((s=>{const o=vs()(s.name);i[o]=new Oc(e,s,r,n,t)})),i}}.build(e,t,r,n):{};return[i,s,o,d,a,c]}}.build(e,this._coder,t,this._provider);this.rpc=n,this.instruction=i,this.transaction=s,this.account=o,this.simulate=a,this.state=u}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const r=bc(e),n=await Jc.fetchIdl(r,t);return new Jc(n,r,t)}static async fetchIdl(e,t){t=null!==t&&void 0!==t?t:Ss();const r=bc(e),n=await async function(e){const t=(await Dt.findProgramAddress([],e))[0];return await Dt.createWithSeed(t,"anchor:idl",e)}(r),i=await t.connection.getAccountInfo(n);let s=(o=i.data.slice(8),hc.decode(o));var o;const a=lc(s.data);return JSON.parse(Gc(a))}addEventListener(e,t){const r=new Nc(this._coder,this._programId);return this._provider.connection.onLogs(this._programId,((n,i)=>{n.err?console.error(n):r.parseLogs(n.logs,(r=>{r.name===e&&t(r.data,i.slot)}))}))}async removeEventListener(e){return this._provider.connection.removeOnLogsListener(e)}}let Qc=!1;const $c=new Proxy({},{get(e,t){if(ys)return void console.log("Workspaces aren't available in the browser");const n=r(55555),i=r(26477);if(!Qc){const t=r(71633);let s=i.cwd();for(;!n.existsSync(t.join(s,"Anchor.toml"));){const e=t.dirname(s);e===s&&(s=void 0),s=e}if(void 0===s)throw new Error("Could not find workspace root.");const o=`${s}/target/idl`;if(!n.existsSync(o))throw new Error(`${o} doesn't exist. Did you use "anchor build"?`);const a=new Map;n.readdirSync(o).forEach((t=>{const r=`${o}/${t}`,i=n.readFileSync(r),s=JSON.parse(i);a.set(s.name,s);const u=vs()(s.name,{pascalCase:!0});s.metadata&&s.metadata.address&&(e[u]=new Jc(s,new Dt(s.metadata.address)))}));const u=io.parse(n.readFileSync(t.join(s,"Anchor.toml"),"utf-8")),c=u.provider.cluster;u.clusters&&u.clusters[c]&&function(e,t,n){Object.keys(t).forEach((i=>{const s=vs()(i,{pascalCase:!0}),o=t[i],a=new Dt("string"===typeof o?o:o.address);let u=n.get(i);"string"!==typeof o&&o.idl&&(u=JSON.parse(r(55555).readFileSync(o.idl,"utf-8"))),e[s]=new Jc(u,a)}))}(e,u.clusters[c],a),Qc=!0}return e[t]}});function Yc(e){return(0,Os.sha256)(e)}var ed=r(36897).Buffer;async function td(e,t,r,n){e=bc(e),n||(n=Ss());const i=new cr;return i.add(new ur({programId:e,keys:null!==t&&void 0!==t?t:[],data:r})),await n.send(i)}async function rd(e,t){const r=[t.map((e=>e.toBase58())),{commitment:"recent"}],n=await e._rpcRequest("getMultipleAccounts",r);if(n.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+n.error.message);zc()("undefined"!==typeof n.result);const i=[];for(const s of n.result.value){let e=null;if(null!==s){if(n.result.value){const{executable:t,owner:r,lamports:n,data:i}=s;zc()("base64"===i[1]),e={executable:t,owner:new Dt(r),lamports:n,data:ed.from(i[0],"base64")}}if(null===e)throw new Error("Invalid response");i.push(e)}else i.push(null)}return i.map(((e,r)=>null===e?null:{publicKey:t[r],account:e}))}const nd=new Dt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),id=new Dt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function sd(e){let{mint:t,owner:r}=e;return(await Dt.findProgramAddress([r.toBuffer(),nd.toBuffer(),t.toBuffer()],id))[0]}},94407:function(e,t,r){"use strict";var n=r(36897).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const c=u(r(48744)),d=u(r(68532)),l=a(r(91995)),h=new("function"!==typeof TextDecoder?l.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=n.from(e,"utf8")),d.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(d.default.decode(e))};const f=1024;class p extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=p;class g{constructor(){this.buf=n.alloc(f),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(f)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(f)]),this.length+=e.length}writeString(e){this.maybeResize();const t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,r){const n=r.value;r.value=function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}catch(i){if(i instanceof RangeError){const e=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw i}}}t.BinaryWriter=g;class y{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new c.default(e,"le")}readU128(){const e=this.readBuffer(16);return new c.default(e,"le")}readU256(){const e=this.readBuffer(32);return new c.default(e,"le")}readU512(){const e=this.readBuffer(64);return new c.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new p(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(r){throw new p(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let n=0;n<t;++n)r.push(e());return r}}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function w(e,t,r,n,i){try{if("string"===typeof n)i[`write${b(n)}`](r);else if(n instanceof Array)if("number"===typeof n[0]){if(r.length!==n[0])throw new p(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"===typeof n[1]){if(r.length!==n[1])throw new p(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)w(e,null,r[t],n[0],i)}else i.writeArray(r,(r=>{w(e,t,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null===r||void 0===r?i.writeU8(0):(i.writeU8(1),w(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,s)=>{w(e,t,s,n.key,i),w(e,t,r,n.value,i)}));break;default:throw new p(`FieldType ${n} unrecognized`)}else k(e,r,i)}catch(s){throw s instanceof p&&s.addToFieldPath(t),s}}function k(e,t,r){if("function"===typeof t.borshSerialize)return void t.borshSerialize(r);const n=e.get(t.constructor);if(!n)throw new p(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((n=>{let[i,s]=n;w(e,i,t[i],s,r)}));else{if("enum"!==n.kind)throw new p(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const i=t[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),w(e,o,t[o],a,r);break}}}}}function A(e,t,r,n){try{if("string"===typeof r)return n[`read${b(r)}`]();if(r instanceof Array){if("number"===typeof r[0])return n.readFixedArray(r[0]);if("number"===typeof r[1]){const t=[];for(let i=0;i<r[1];i++)t.push(A(e,null,r[0],n));return t}return n.readArray((()=>A(e,t,r[0],n)))}if("option"===r.kind){return n.readU8()?A(e,t,r.type,n):void 0}if("map"===r.kind){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const s=A(e,t,r.key,n),o=A(e,t,r.value,n);i.set(s,o)}return i}return S(e,r,n)}catch(i){throw i instanceof p&&i.addToFieldPath(t),i}}function S(e,t,r){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new p(`Class ${t.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,s]of e.get(t).fields)n[i]=A(e,i,s,r);return new t(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new p(`Enum index: ${i} is out of range`);const[s,o]=n.values[i];return new t({[s]:A(e,s,o,r)})}throw new p(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}o([m],y.prototype,"readU8",null),o([m],y.prototype,"readU16",null),o([m],y.prototype,"readU32",null),o([m],y.prototype,"readU64",null),o([m],y.prototype,"readU128",null),o([m],y.prototype,"readU256",null),o([m],y.prototype,"readU512",null),o([m],y.prototype,"readString",null),o([m],y.prototype,"readFixedArray",null),o([m],y.prototype,"readArray",null),t.BinaryReader=y,t.serialize=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;const n=new r;return k(e,t,n),n.toArray()},t.deserialize=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;const i=new n(r),s=S(e,t,i);if(i.offset<r.length)throw new p(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},t.deserializeUnchecked=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;const i=new n(r);return S(e,t,i)}},36897:(e,t,r)=>{"use strict";const n=r(12009),i=r(45889),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return d(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return v(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function k(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function A(e,t,r,n){return H(j(t,e.length-r),e,r,n)}function S(e,t,r,n){return H(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return H(Z(t),e,r,n)}function _(e,t,r,n){return H(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function v(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return d(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(n,i),d=e.slice(t,r);for(let u=0;u<a;++u)if(c[u]!==d[u]){s=c[u],o=d[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=Q[e[s]];return i}function B(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function O(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function z(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function L(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=u.isBuffer(e)?e:u.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const W={};function D(e,t,r){W[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function K(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,s)}function G(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw G(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=K(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=K(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function j(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function $(e){return"undefined"===typeof BigInt?Y:e}function Y(){throw new Error("BigInt not supported")}},37103:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const a=s(r(27906)),u=s(r(46417)),c=r(57937),d=r(75330),l=r(27842),h=o(r(79137)),f=r(77762),p=r(79158),g=r(54414);class m{constructor(e,t,r){this._marginAccountSubscriptionId=void 0,this._spreadAccountSubscriptionId=void 0,this._pendingUpdateSlot=0,this._pollInterval=c.DEFAULT_CLIENT_POLL_INTERVAL,this._updatingState=!1,this._updatingStateTimestamp=void 0,this._provider=new a.AnchorProvider(e,t,r),this._program=new a.Program(h.default,d.exchange.programId,this._provider),this._openOrdersAccounts=Array(d.exchange.zetaGroup.products.length).fill(l.PublicKey.default),this._positions=[],this._orders=[],this._lastUpdateTimestamp=0,this._pendingUpdate=!1,this._marginAccount=null,this._spreadAccount=null,this._referralAccount=null}get publicKey(){return this._provider.wallet.publicKey}get provider(){return this._provider}get marginAccount(){return this._marginAccount}get marginAccountAddress(){return this._marginAccountAddress}get spreadAccount(){return this._spreadAccount}get referralAccount(){return this._referralAccount}get spreadAccountAddress(){return this._spreadAccountAddress}get usdcAccountAddress(){return this._usdcAccountAddress}get openOrdersAccounts(){return this._openOrdersAccounts}get orders(){return this._orders}get positions(){return this._positions}get spreadPositions(){return this._spreadPositions}get whitelistDepositAddress(){return this._whitelistDepositAddress}get whitelistTradingFeesAddress(){return this._whitelistTradingFeesAddress}get pollInterval(){return this._pollInterval}set pollInterval(e){if(e<0)throw Error("Polling interval invalid!");this._pollInterval=e}static async load(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.defaultCommitment(),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];console.log(`Loading client: ${t.publicKey.toString()}`);let s=new m(e,t,r),[o,a]=await u.getMarginAccount(d.exchange.programId,d.exchange.zetaGroupAddress,t.publicKey),[l,h]=await u.getSpreadAccount(d.exchange.programId,d.exchange.zetaGroupAddress,t.publicKey);s._marginAccountAddress=o,s._spreadAccountAddress=l,s._callback=n,s._marginAccountSubscriptionId=e.onAccountChange(s._marginAccountAddress,(async(e,t)=>{if(s._marginAccount=s._program.coder.accounts.decode(f.ProgramAccountType.MarginAccount,e.data),i||s._updatingState)return s._pendingUpdate=!0,void(s._pendingUpdateSlot=t.slot);await s.updateState(!1),s._lastUpdateTimestamp=d.exchange.clockTimestamp,void 0!==n&&n(g.EventType.USER,null),await s.updateOpenOrdersAddresses()}),e.commitment),s._spreadAccountSubscriptionId=e.onAccountChange(s._spreadAccountAddress,(async(e,t)=>{s._spreadAccount=s._program.coder.accounts.decode(f.ProgramAccountType.SpreadAccount,e.data),s.updateSpreadPositions(),void 0!==n&&n(g.EventType.USER,null)}),e.commitment),s._usdcAccountAddress=await u.getAssociatedTokenAddress(d.exchange.usdcMintAddress,t.publicKey);try{s._marginAccount=await s._program.account.marginAccount.fetch(s._marginAccountAddress),await s.updateOpenOrdersAddresses(),s.updatePositions(),s._pendingUpdate=!0}catch(p){console.log("User does not have a margin account.")}try{s._spreadAccount=await s._program.account.spreadAccount.fetch(s._spreadAccountAddress),s.updateSpreadPositions()}catch(p){console.log("User does not have a spread account.")}s._whitelistDepositAddress=void 0;try{let[e,r]=await u.getUserWhitelistDepositAccount(d.exchange.programId,t.publicKey);await s._program.account.whitelistDepositAccount.fetch(e),console.log("User is whitelisted for unlimited deposits into zeta."),s._whitelistDepositAddress=e}catch(p){}s._whitelistTradingFeesAddress=void 0;try{let[e,r]=await u.getUserWhitelistTradingFeesAccount(d.exchange.programId,t.publicKey);await s._program.account.whitelistTradingFeesAccount.fetch(e),console.log("User is whitelisted for trading fees."),s._whitelistTradingFeesAddress=e}catch(p){}s._referralAccountAddress=void 0;try{let[e,r]=await u.getReferralAccountAddress(d.exchange.programId,t.publicKey);s._referralAccountAddress=e,s._referralAccount=await s._program.account.referralAccount.fetch(e),console.log(`User has been referred by ${s._referralAccount.referrer.toString()}.`)}catch(p){}return void 0!==n&&(s._tradeEventListener=s._program.addEventListener("TradeEvent",((e,t)=>{e.marginAccount.equals(o)&&n(g.EventType.TRADE,e)}))),s.setPolling(c.DEFAULT_CLIENT_TIMER_INTERVAL),s}async referUser(e){let[t]=await u.getReferrerAccountAddress(d.exchange.programId,e);try{await this._program.account.referrerAccount.fetch(t)}catch(i){throw Error(`Invalid referrer. ${e.toString()}`)}let r=(new l.Transaction).add(await(0,p.referUserIx)(this.provider.wallet.publicKey,e)),n=await u.processTransaction(this.provider,r);return this._referralAccount=await this._program.account.referralAccount.fetch(this._referralAccountAddress),n}setPolling(e){void 0!==this._pollIntervalId&&(console.log(`Resetting existing timer to ${e} seconds.`),clearInterval(this._pollIntervalId)),this._pollIntervalId=setInterval((async()=>{if(d.exchange.clockTimestamp>this._lastUpdateTimestamp+this._pollInterval||this._pendingUpdate)try{if(this._updatingState)return;let e=this._pendingUpdateSlot;await this.updateState(),e==this._pendingUpdateSlot&&(this._pendingUpdate=!1),this._lastUpdateTimestamp=d.exchange.clockTimestamp,void 0!==this._callback&&this._callback(g.EventType.USER,null)}catch(e){console.log(`Client poll update failed. Error: ${e}`)}}),1e3*e)}toggleUpdateState(e){e?(this._updatingState=!0,this._updatingStateTimestamp=Date.now()/1e3):(this._updatingState=!1,this._updatingStateTimestamp=void 0)}checkResetUpdatingState(){this._updatingState&&Date.now()/1e3-this._updatingStateTimestamp>c.UPDATING_STATE_LIMIT_SECONDS&&this.toggleUpdateState(!1)}async updateState(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.checkResetUpdatingState(),!this._updatingState||t){if(this.toggleUpdateState(!0),e){try{this._marginAccount=await this._program.account.marginAccount.fetch(this._marginAccountAddress)}catch(r){return void this.toggleUpdateState(!1)}try{this._spreadAccount=await this._program.account.spreadAccount.fetch(this._spreadAccountAddress)}catch(r){}}try{null!==this._marginAccount&&(this.updatePositions(),await this.updateOrders()),null!==this._spreadAccount&&this.updateSpreadPositions()}catch(r){}this.toggleUpdateState(!1)}}async deposit(e){await this.usdcAccountCheck();let t=new l.Transaction;return null===this._marginAccount&&(console.log("User has no margin account. Creating margin account..."),t.add((0,p.initializeMarginAccountIx)(d.exchange.zetaGroupAddress,this._marginAccountAddress,this.publicKey))),t.add(await(0,p.depositIx)(e,this._marginAccountAddress,this._usdcAccountAddress,this.publicKey,this._whitelistDepositAddress)),await u.processTransaction(this._provider,t)}async closeMarginAccount(){if(null===this._marginAccount)throw Error("User has no margin account to close");let e=(new l.Transaction).add((0,p.closeMarginAccountIx)(this.publicKey,this._marginAccountAddress)),t=await u.processTransaction(this._provider,e);return this._marginAccount=null,t}async closeSpreadAccount(){if(null===this._spreadAccount)throw Error("User has no spread account to close");let e=new l.Transaction;e.add((0,p.transferExcessSpreadBalanceIx)(d.exchange.zetaGroupAddress,this.marginAccountAddress,this._spreadAccountAddress,this.publicKey)),e.add((0,p.closeSpreadAccountIx)(d.exchange.zetaGroupAddress,this._spreadAccountAddress,this.publicKey));let t=await u.processTransaction(this._provider,e);return this._spreadAccount=null,t}async withdraw(e){let t=new l.Transaction;return t.add((0,p.withdrawIx)(e,this._marginAccountAddress,this._usdcAccountAddress,this.publicKey)),await u.processTransaction(this._provider,t)}async withdrawAndCloseMarginAccount(){if(null===this._marginAccount)throw Error("User has no margin account to withdraw or close.");let e=new l.Transaction;return e.add((0,p.withdrawIx)(this._marginAccount.balance.toNumber(),this._marginAccountAddress,this._usdcAccountAddress,this.publicKey)),e.add((0,p.closeMarginAccountIx)(this.publicKey,this._marginAccountAddress)),await u.processTransaction(this._provider,e)}async placeOrder(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=new l.Transaction,o=d.exchange.markets.getMarketIndex(e),a=null;if(this._openOrdersAccounts[o].equals(l.PublicKey.default)){console.log(`User doesn't have open orders account. Initialising for market ${e.toString()}.`);let[t,r]=await(0,p.initializeOpenOrdersIx)(e,this.publicKey,this.marginAccountAddress);a=r,s.add(t)}else a=this._openOrdersAccounts[o];let c=(0,p.placeOrderIx)(o,t,r,n,i,this.marginAccountAddress,this.publicKey,a,this._whitelistTradingFeesAddress);s.add(c);let h=await u.processTransaction(this._provider,s);return this._openOrdersAccounts[o]=a,h}async placeOrderV2(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=new l.Transaction,a=d.exchange.markets.getMarketIndex(e),c=null;if(this._openOrdersAccounts[a].equals(l.PublicKey.default)){console.log(`User doesn't have open orders account. Initialising for market ${e.toString()}.`);let[t,r]=await(0,p.initializeOpenOrdersIx)(e,this.publicKey,this.marginAccountAddress);c=r,o.add(t)}else c=this._openOrdersAccounts[a];let h=(0,p.placeOrderV2Ix)(a,t,r,n,i,s,this.marginAccountAddress,this.publicKey,c,this._whitelistTradingFeesAddress);o.add(h);let f=await u.processTransaction(this._provider,o);return this._openOrdersAccounts[a]=c,f}async placeOrderAndLockPosition(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c.DEFAULT_ORDER_TAG,s=new l.Transaction,o=d.exchange.markets.getMarketIndex(e),h=null;if(this._openOrdersAccounts[o].equals(l.PublicKey.default)){console.log(`User doesn't have open orders account. Initialising for market ${e.toString()}.`);let[t,r]=await(0,p.initializeOpenOrdersIx)(e,this.publicKey,this.marginAccountAddress);h=r,s.add(t)}else h=this._openOrdersAccounts[o];let g=(0,p.placeOrderV3Ix)(o,t,r,n,f.OrderType.FILLORKILL,0,i,this.marginAccountAddress,this.publicKey,h,this._whitelistTradingFeesAddress);s.add(g),null==this.spreadAccount&&(console.log("User has no spread account. Creating spread account..."),s.add((0,p.initializeSpreadAccountIx)(d.exchange.zetaGroupAddress,this.spreadAccountAddress,this.publicKey)));let m=n==f.Side.BID?r:-r,y=[{index:o,size:new a.BN(m)}];s.add((0,p.positionMovementIx)(d.exchange.zetaGroupAddress,this.marginAccountAddress,this.spreadAccountAddress,this.publicKey,d.exchange.greeksAddress,d.exchange.zetaGroup.oracle,f.MovementType.LOCK,y));let b=await u.processTransaction(this._provider,s);return this._openOrdersAccounts[o]=h,b}async placeOrderV3(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:c.DEFAULT_ORDER_TAG,a=new l.Transaction,h=d.exchange.markets.getMarketIndex(e),f=null;if(this._openOrdersAccounts[h].equals(l.PublicKey.default)){console.log(`User doesn't have open orders account. Initialising for market ${e.toString()}.`);let[t,r]=await(0,p.initializeOpenOrdersIx)(e,this.publicKey,this.marginAccountAddress);f=r,a.add(t)}else f=this._openOrdersAccounts[h];let g,m=(0,p.placeOrderV3Ix)(h,t,r,n,i,s,o,this.marginAccountAddress,this.publicKey,f,this._whitelistTradingFeesAddress);return a.add(m),g=await u.processTransaction(this._provider,a),this._openOrdersAccounts[h]=f,g}async cancelOrder(e,t,r){let n=new l.Transaction,i=d.exchange.markets.getMarketIndex(e),s=(0,p.cancelOrderIx)(i,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[i],t,r);return n.add(s),await u.processTransaction(this._provider,n)}async cancelOrderByClientOrderId(e,t){if(0==t)throw Error("Client order id cannot be 0.");let r=new l.Transaction,n=d.exchange.markets.getMarketIndex(e),i=(0,p.cancelOrderByClientOrderIdIx)(n,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[n],new a.BN(t));return r.add(i),await u.processTransaction(this._provider,r)}async cancelAndPlaceOrder(e,t,r,n,i,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=new l.Transaction,c=d.exchange.markets.getMarketIndex(e);return a.add((0,p.cancelOrderIx)(c,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[c],t,r)),a.add((0,p.placeOrderIx)(c,n,i,s,o,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[c],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,a)}async cancelAndPlaceOrderV2(e,t,r,n,i,s,o){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=new l.Transaction,h=d.exchange.markets.getMarketIndex(e);return c.add((0,p.cancelOrderIx)(h,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[h],t,r)),c.add((0,p.placeOrderV2Ix)(h,n,i,s,o,a,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[h],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,c)}async cancelAndPlaceOrderV3(e,t,r,n,i,s,o){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:c.DEFAULT_ORDER_TAG,f=new l.Transaction,g=d.exchange.markets.getMarketIndex(e);return f.add((0,p.cancelOrderIx)(g,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[g],t,r)),f.add((0,p.placeOrderV3Ix)(g,n,i,s,o,a,h,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[g],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,f)}async cancelAndPlaceOrderByClientOrderId(e,t,r,n,i,s){let o=new l.Transaction,c=d.exchange.markets.getMarketIndex(e);return o.add((0,p.cancelOrderByClientOrderIdIx)(c,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[c],new a.BN(t))),o.add((0,p.placeOrderIx)(c,r,n,i,s,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[c],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,o)}async cancelAndPlaceOrderByClientOrderIdV2(e,t,r,n,i,s,o){let c=new l.Transaction,h=d.exchange.markets.getMarketIndex(e);return c.add((0,p.cancelOrderByClientOrderIdIx)(h,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[h],new a.BN(t))),c.add((0,p.placeOrderV2Ix)(h,r,n,i,s,o,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[h],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,c)}async cancelAndPlaceOrderByClientOrderIdV3(e,t,r,n,i,s,o){let h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:c.DEFAULT_ORDER_TAG,f=new l.Transaction,g=d.exchange.markets.getMarketIndex(e);return f.add((0,p.cancelOrderByClientOrderIdIx)(g,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[g],new a.BN(t))),f.add((0,p.placeOrderV3Ix)(g,r,n,i,s,o,h,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[g],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,f)}async replaceByClientOrderIdV3(e,t,r,n,i,s,o){let h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:c.DEFAULT_ORDER_TAG,f=new l.Transaction,g=d.exchange.markets.getMarketIndex(e);return f.add((0,p.cancelOrderByClientOrderIdNoErrorIx)(g,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[g],new a.BN(t))),f.add((0,p.placeOrderV3Ix)(g,r,n,i,s,o,h,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[g],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,f)}async initializeOpenOrdersAccount(e){let t=d.exchange.markets.getMarketIndex(e);if(!this._openOrdersAccounts[t].equals(l.PublicKey.default))throw Error("User already has an open orders account for market!");let[r,n]=await(0,p.initializeOpenOrdersIx)(e,this.publicKey,this.marginAccountAddress),i=(new l.Transaction).add(r),s=await u.processTransaction(this._provider,i);return this._openOrdersAccounts[t]=n,s}async closeOpenOrdersAccount(e){let t=d.exchange.markets.getMarketIndex(e);if(this._openOrdersAccounts[t].equals(l.PublicKey.default))throw Error("User has no open orders account for this market!");const[r,n]=await u.getSerumVaultOwnerAndNonce(e,c.DEX_PID[d.exchange.network]);let i=new l.Transaction;i.add((0,p.settleDexFundsIx)(e,r,this._openOrdersAccounts[t])),i.add(await(0,p.closeOpenOrdersIx)(e,this.publicKey,this.marginAccountAddress,this._openOrdersAccounts[t]));let s=await u.processTransaction(this._provider,i);return this._openOrdersAccounts[t]=l.PublicKey.default,s}async closeMultipleOpenOrdersAccount(e){let t=[];for(var r=0;r<e.length;r++){let n=e[r],i=d.exchange.markets.getMarketIndex(n);if(this._openOrdersAccounts[i].equals(l.PublicKey.default))throw Error("User has no open orders account for this market!");const[s,o]=await u.getSerumVaultOwnerAndNonce(n,c.DEX_PID[d.exchange.network]);let a=(0,p.settleDexFundsIx)(n,s,this._openOrdersAccounts[i]),h=await(0,p.closeOpenOrdersIx)(n,this.publicKey,this.marginAccountAddress,this._openOrdersAccounts[i]);t.push(a),t.push(h)}let n=[],i=u.splitIxsIntoTx(t,c.MAX_SETTLE_AND_CLOSE_PER_TX);await Promise.all(i.map((async e=>{n.push(await u.processTransaction(this._provider,e))})));for(r=0;r<e.length;r++){let t=e[r],n=d.exchange.markets.getMarketIndex(t);this._openOrdersAccounts[n]=l.PublicKey.default}return n}async cancelMultipleOrders(e){let t=[];for(var r=0;r<e.length;r++){let n=d.exchange.markets.getMarketIndex(e[r].market),i=(0,p.cancelOrderIx)(n,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[n],e[r].orderId,e[r].cancelSide);t.push(i)}let n=u.splitIxsIntoTx(t,c.MAX_CANCELS_PER_TX),i=[];return await Promise.all(n.map((async e=>{i.push(await u.processTransaction(this._provider,e))}))),i}async cancelMultipleOrdersNoError(e){let t=[];for(var r=0;r<e.length;r++){let n=d.exchange.markets.getMarketIndex(e[r].market),i=(0,p.cancelOrderNoErrorIx)(n,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[n],e[r].orderId,e[r].cancelSide);t.push(i)}let n=u.splitIxsIntoTx(t,c.MAX_CANCELS_PER_TX),i=[];return await Promise.all(n.map((async e=>{i.push(await u.processTransaction(this._provider,e))}))),i}async forceCancelOrders(e,t){let r=await this._program.account.marginAccount.fetch(t),n=d.exchange.markets.getMarketIndex(e),i=await u.createOpenOrdersAddress(d.exchange.programId,e,r.authority,r.openOrdersNonce[n]),s=new l.Transaction,o=(0,p.forceCancelOrdersIx)(n,t,i);return s.add(o),await u.processTransaction(this._provider,s)}async liquidate(e,t,r){let n=new l.Transaction,i=(0,p.liquidateIx)(this.publicKey,this._marginAccountAddress,e,t,r);return n.add(i),await u.processTransaction(this._provider,n)}async cancelAllOrders(){let e=[];for(var t=0;t<this._orders.length;t++){let r=this._orders[t],n=(0,p.cancelOrderIx)(r.marketIndex,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[r.marketIndex],r.orderId,r.side);e.push(n)}let r=u.splitIxsIntoTx(e,c.MAX_CANCELS_PER_TX),n=[];return await Promise.all(r.map((async e=>{n.push(await u.processTransaction(this._provider,e))}))),n}async cancelAllOrdersNoError(){let e=[];for(var t=0;t<this._orders.length;t++){let r=this._orders[t],n=(0,p.cancelOrderNoErrorIx)(r.marketIndex,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[r.marketIndex],r.orderId,r.side);e.push(n)}let r=u.splitIxsIntoTx(e,c.MAX_CANCELS_PER_TX),n=[];return await Promise.all(r.map((async e=>{n.push(await u.processTransaction(this._provider,e))}))),n}async positionMovement(e,t){let r=this.getPositionMovementTx(e,t);return await u.processTransaction(this._provider,r)}async simulatePositionMovement(e,t){let r,n=this.getPositionMovementTx(e,t),i=(await u.simulateTransaction(this.provider,n)).events;for(var s=0;s<i.length;s++)if("PositionMovementEvent"==i[s].name){r=i[s].data;break}if(void 0==r)throw new Error("Failed to simulate position movement.");return r}getPositionMovementTx(e,t){if(t.length>c.MAX_POSITION_MOVEMENTS)throw new Error(`Max position movements exceeded. Max = ${c.MAX_POSITION_MOVEMENTS} < ${t.length}`);let r=new l.Transaction;return this.assertHasMarginAccount(),null==this.spreadAccount&&(console.log("User has no spread account. Creating spread account..."),r.add((0,p.initializeSpreadAccountIx)(d.exchange.zetaGroupAddress,this.spreadAccountAddress,this.publicKey))),r.add((0,p.positionMovementIx)(d.exchange.zetaGroupAddress,this.marginAccountAddress,this.spreadAccountAddress,this.publicKey,d.exchange.greeksAddress,d.exchange.zetaGroup.oracle,e,t)),r}async transferExcessSpreadBalance(){let e=(new l.Transaction).add((0,p.transferExcessSpreadBalanceIx)(d.exchange.zetaGroupAddress,this.marginAccountAddress,this.spreadAccountAddress,this.publicKey));return await u.processTransaction(this._provider,e)}getRelevantMarketIndexes(){let e=[];for(var t=0;t<this._marginAccount.productLedgers.length;t++){let r=this._marginAccount.productLedgers[t];0===r.position.size.toNumber()&&0==r.orderState.openingOrders[0].toNumber()&&0==r.orderState.openingOrders[1].toNumber()||e.push(t)}return e}async updateOrders(){let e=[];await Promise.all([...this.getRelevantMarketIndexes()].map((async t=>{await d.exchange.markets.markets[t].updateOrderbook(),e.push(d.exchange.markets.markets[t].getOrdersForAccount(this._openOrdersAccounts[t]))}))),this._orders=[].concat(...e)}updatePositions(){let e=[];for(var t=0;t<this._marginAccount.productLedgers.length;t++)0!=this._marginAccount.productLedgers[t].position.size.toNumber()&&e.push({marketIndex:t,market:d.exchange.zetaGroup.products[t].market,size:u.convertNativeLotSizeToDecimal(this._marginAccount.productLedgers[t].position.size.toNumber()),costOfTrades:u.convertNativeBNToDecimal(this._marginAccount.productLedgers[t].position.costOfTrades)});this._positions=e}updateSpreadPositions(){let e=[];for(var t=0;t<this._spreadAccount.positions.length;t++)0!=this._spreadAccount.positions[t].size.toNumber()&&e.push({marketIndex:t,market:d.exchange.zetaGroup.products[t].market,size:u.convertNativeLotSizeToDecimal(this._spreadAccount.positions[t].size.toNumber()),costOfTrades:u.convertNativeBNToDecimal(this._spreadAccount.positions[t].costOfTrades)});this._spreadPositions=e}async usdcAccountCheck(){try{let e=await u.getTokenAccountInfo(this._provider.connection,this._usdcAccountAddress);console.log(`Found user USDC associated token account ${this._usdcAccountAddress.toString()}. Balance = $${u.convertNativeBNToDecimal(e.amount)}.`)}catch(e){throw Error("User has no USDC associated token account. Please create one and deposit USDC.")}}async updateOpenOrdersAddresses(){await Promise.all(d.exchange.zetaGroup.products.map((async(e,t)=>{if(0!==this._marginAccount.openOrdersNonce[t]&&this._openOrdersAccounts[t].equals(l.PublicKey.default)){let[r,n]=await u.getOpenOrders(d.exchange.programId,e.market,this.publicKey);this._openOrdersAccounts[t]=r}})))}assertHasMarginAccount(){if(null==this.marginAccount)throw Error("Margin account doesn't exist!")}getMarginPositionSize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.marginAccount.productLedgers[e].position.size.toNumber();return t?u.convertNativeLotSizeToDecimal(r):r}getMarginCostOfTrades(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.marginAccount.productLedgers[e].position.costOfTrades.toNumber();return t?u.convertNativeIntegerToDecimal(r):r}getOpeningOrders(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t==f.Side.BID?0:1,i=this.marginAccount.productLedgers[e].orderState.openingOrders[n].toNumber();return r?u.convertNativeLotSizeToDecimal(i):i}getClosingOrders(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.marginAccount.productLedgers[e].orderState.closingOrders.toNumber();return t?u.convertNativeLotSizeToDecimal(r):r}getSpreadPositionSize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.spreadAccount.positions[e].size.toNumber();return t?u.convertNativeLotSizeToDecimal(r):r}getSpreadCostOfTrades(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.spreadAccount.positions[e].costOfTrades.toNumber();return t?u.convertNativeIntegerToDecimal(r):r}async close(){void 0!==this._marginAccountSubscriptionId&&(await this._provider.connection.removeAccountChangeListener(this._marginAccountSubscriptionId),this._marginAccountSubscriptionId=void 0),void 0!==this._spreadAccountSubscriptionId&&(await this._provider.connection.removeAccountChangeListener(this._spreadAccountSubscriptionId),this._spreadAccountSubscriptionId=void 0),void 0!==this._tradeEventListener&&(await this._program.removeEventListener(this._tradeEventListener),this._tradeEventListener=void 0),void 0!==this._pollIntervalId&&(clearInterval(this._pollIntervalId),this._pollIntervalId=void 0)}}t.Client=m},57937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BPS_DENOMINATOR=t.MAX_POSITION_MOVEMENTS=t.DEFAULT_ORDER_TAG=t.POSITION_PRECISION=t.MARGIN_PRECISION=t.PRICING_PRECISION=t.PLATFORM_PRECISION=t.VOLATILITY_POINTS=t.UPDATING_STATE_LIMIT_SECONDS=t.DEFAULT_CLIENT_TIMER_INTERVAL=t.DEFAULT_CLIENT_POLL_INTERVAL=t.DEFAULT_MARKET_POLL_INTERVAL=t.DEFAULT_EXCHANGE_POLL_INTERVAL=t.TOTAL_MARKETS=t.TOTAL_EXPIRIES=t.ACTIVE_MARKETS=t.ACTIVE_EXPIRIES=t.PRODUCTS_PER_EXPIRY=t.NUM_STRIKES=t.CLUSTER_URLS=t.USDC_MINT_ADDRESS=t.PYTH_PRICE_FEEDS=t.MAX_ORDER_TAG_LENGTH=t.DEFAULT_ORDERBOOK_DEPTH=t.MARKET_LOAD_LIMIT=t.CRANK_ACCOUNT_LIMIT=t.CLEAN_MARKET_LIMIT=t.MARKET_INDEX_LIMIT=t.MAX_MARGIN_AND_SPREAD_ACCOUNTS=t.MAX_ZETA_GROUPS=t.MAX_SETTLE_ACCOUNTS=t.MAX_REBALANCE_ACCOUNTS=t.MAX_SETTLEMENT_ACCOUNTS=t.MAX_GREEK_UPDATES_PER_TX=t.MAX_CANCELS_PER_TX=t.MAX_SETTLE_AND_CLOSE_PER_TX=t.DEX_PID=t.UNDERLYINGS=t.MINTS=void 0;const n=r(27842);t.MINTS={SOL:new n.PublicKey("So11111111111111111111111111111111111111112")},t.UNDERLYINGS=[t.MINTS.SOL],t.DEX_PID={localnet:new n.PublicKey("5CmWtUihvSrJpaUrpJ3H1jUa9DRjYz4v2xs6c3EgQWMf"),devnet:new n.PublicKey("5CmWtUihvSrJpaUrpJ3H1jUa9DRjYz4v2xs6c3EgQWMf"),mainnet:new n.PublicKey("zDEXqXEG7gAyxb1Kg9mK5fPnUdENCGKzWrM21RMdWRq")},t.MAX_SETTLE_AND_CLOSE_PER_TX=4,t.MAX_CANCELS_PER_TX=4,t.MAX_GREEK_UPDATES_PER_TX=20,t.MAX_SETTLEMENT_ACCOUNTS=20,t.MAX_REBALANCE_ACCOUNTS=20,t.MAX_SETTLE_ACCOUNTS=5,t.MAX_ZETA_GROUPS=20,t.MAX_MARGIN_AND_SPREAD_ACCOUNTS=20,t.MARKET_INDEX_LIMIT=18,t.CLEAN_MARKET_LIMIT=9,t.CRANK_ACCOUNT_LIMIT=12,t.MARKET_LOAD_LIMIT=12,t.DEFAULT_ORDERBOOK_DEPTH=5,t.MAX_ORDER_TAG_LENGTH=4,t.PYTH_PRICE_FEEDS={localnet:{"SOL/USD":new n.PublicKey("2pRCJksgaoKRMqBfa7NTdd6tLYe9wbDFGCcCCZ6si3F7")},devnet:{"SOL/USD":new n.PublicKey("J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix")},mainnet:{"SOL/USD":new n.PublicKey("H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG")}},t.USDC_MINT_ADDRESS={localnet:new n.PublicKey("6PEh8n3p7BbCTykufbq1nSJYAZvUp6gSwEANAs1ZhsCX"),devnet:new n.PublicKey("6PEh8n3p7BbCTykufbq1nSJYAZvUp6gSwEANAs1ZhsCX"),mainnet:new n.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v")},t.CLUSTER_URLS={localnet:"http://127.0.0.1:8899",devnet:"https://api.devnet.solana.com",mainnet:"https://api.mainnet-beta.solana.com"},t.NUM_STRIKES=11,t.PRODUCTS_PER_EXPIRY=2*t.NUM_STRIKES+1,t.ACTIVE_EXPIRIES=2,t.ACTIVE_MARKETS=t.ACTIVE_EXPIRIES*t.PRODUCTS_PER_EXPIRY,t.TOTAL_EXPIRIES=6,t.TOTAL_MARKETS=t.PRODUCTS_PER_EXPIRY*t.TOTAL_EXPIRIES,t.DEFAULT_EXCHANGE_POLL_INTERVAL=30,t.DEFAULT_MARKET_POLL_INTERVAL=5,t.DEFAULT_CLIENT_POLL_INTERVAL=20,t.DEFAULT_CLIENT_TIMER_INTERVAL=1,t.UPDATING_STATE_LIMIT_SECONDS=10,t.VOLATILITY_POINTS=5,t.PLATFORM_PRECISION=6,t.PRICING_PRECISION=12,t.MARGIN_PRECISION=8,t.POSITION_PRECISION=3,t.DEFAULT_ORDER_TAG="SDK",t.MAX_POSITION_MOVEMENTS=10,t.BPS_DENOMINATOR=1e4},28793:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decimal=void 0;const n=r(27906),i=2147483648;class s{constructor(e,t,r,n){this._flags=e,this._hi=t,this._lo=r,this._mid=n}static fromAnchorDecimal(e){return new s(e.flags,e.hi,e.lo,e.mid)}scale(){return(16711680&this._flags)>>16}isSignNegative(){return(this._flags&i)>0}isSignPositive(){return 0==(this._flags&i)}toBN(){let e=[this._hi>>24&255,this._hi>>16&255,this._hi>>8&255,255&this._hi,this._mid>>24&255,this._mid>>16&255,this._mid>>8&255,255&this._mid,this._lo>>24&255,this._lo>>16&255,this._lo>>8&255,255&this._lo];return new n.BN(new Uint8Array(e))}isUnset(){return 0==this._hi&&0==this._mid&&0==this._lo&&0==this._flags}toNumber(){if(this.isUnset())return 0;let e=this.scale();if(0==e)throw Error("Scale 0 is not handled.");return this.toBN().toString()/10**e}}t.Decimal=s},27094:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.idlErrors=t.NativeAnchorError=t.NativeError=t.parseCustomError=t.parseIdlErrors=t.NATIVE_ERRORS=t.NATIVE_ERROR_CODES=t.DEX_ERRORS=void 0;const a=o(r(79137)),u=s(r(27906));var c;function d(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var r;let n=null!==(r=e.msg)&&void 0!==r?r:e.name;t.set(e.code,n)})),t}t.DEX_ERRORS=new Map([[41,"Client order ID not found"],[59,"Order doesn't exist"],[61,"Order would self-trade"]]),function(e){e[e.ZeroLamportsBalance=1e4]="ZeroLamportsBalance",e[e.InsufficientLamports=10001]="InsufficientLamports",e[e.UnconfirmedTransaction=10002]="UnconfirmedTransaction",e[e.FailedToGetRecentBlockhash=10003]="FailedToGetRecentBlockhash"}(c=t.NATIVE_ERROR_CODES||(t.NATIVE_ERROR_CODES={})),t.NATIVE_ERRORS=new Map([[1e4,["Attempt to debit an account but found no record of a prior credit.","Zero SOL in wallet."]],[10001,["insufficient lamports","Insufficient SOL in wallet."]],[10002,["Transaction was not confirmed","Transaction was not confirmed. Please check transaction signature."]],[10003,["failed to get recent blockhash","Failed to get recent blockhash. Please retry."]]]),t.parseIdlErrors=d,t.parseCustomError=function(e){let r,n=e.toString().split("custom program error: ");if(2!==n.length)return null;try{r=parseInt(n[1])}catch(s){return null}let i=t.DEX_ERRORS.get(r);return void 0!==i?new u.ProgramError(r,i):null};class l extends Error{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(var n=arguments.length,i=new Array(n>3?n-3:0),s=3;s<n;s++)i[s-3]=arguments[s];super(...i),this.code=e,this.msg=t,this.data=r}static parse(e){let r=e.toString();e.logs&&(r+=e.logs.join(" "));for(const[n,[i,s]]of t.NATIVE_ERRORS.entries())if(r.includes(i))return n==c.UnconfirmedTransaction?new l(n,s,{transactionSignature:l.parseTransactionSignature(r)}):new l(n,s);return null}static parseTransactionSignature(e){let t=e.split("Check signature ");if(2!=t.length)return null;try{return t[1].split(" ")[0]}catch(r){return null}}toString(){return this.msg}}t.NativeError=l;class h extends Error{constructor(e,t,r,n){super(n.join("\n")),this.code=e,this.msg=t,this.logs=r,this.errorLogs=n}static parse(e){return new h(e.error.errorCode.number,e.error.errorMessage,e.logs,e.errorLogs)}toString(){return this.msg}}t.NativeAnchorError=h,t.idlErrors=d(a.default)},54414:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventType=void 0,function(e){e[e.EXCHANGE=0]="EXCHANGE",e[e.EXPIRY=1]="EXPIRY",e[e.USER=2]="USER",e[e.CLOCK=3]="CLOCK",e[e.GREEKS=4]="GREEKS",e[e.TRADE=5]="TRADE",e[e.ORDERBOOK=6]="ORDERBOOK",e[e.ORACLE=7]="ORACLE"}(t.EventType||(t.EventType={}))},75330:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.exchange=t.Exchange=void 0;const a=s(r(27906)),u=r(27842),c=s(r(46417)),d=s(r(57937)),l=r(90654),h=r(11652),f=r(54414),p=r(49267),g=r(71179),m=o(r(79137)),y=r(77762),b=s(r(79158));class w{constructor(){this._isInitialized=!1,this._eventEmitters=[],this._pollInterval=d.DEFAULT_EXCHANGE_POLL_INTERVAL,this._programSubscriptionIds=[]}get isInitialized(){return this._isInitialized}get network(){return this._network}get program(){return this._program}get programId(){return this._program.programId}get provider(){return this._provider}get connection(){return this._provider.connection}get state(){return this._state}get zetaGroup(){return this._zetaGroup}get stateAddress(){return this._stateAddress}get zetaGroupAddress(){return this._zetaGroupAddress}get serumAuthority(){return this._serumAuthority}get mintAuthority(){return this._mintAuthority}get usdcMintAddress(){return this._usdcMintAddress}get vaultAddress(){return this._vaultAddress}get insuranceVaultAddress(){return this._insuranceVaultAddress}get socializedLossAccountAddress(){return this._socializedLossAccountAddress}get markets(){return this._markets}get numMarkets(){return this._markets.markets.length}get clockTimestamp(){return this._clockTimestamp}get clockSlot(){return this._clockSlot}get greeks(){return this._greeks}get greeksAddress(){return this._greeksAddress}get marginParams(){return this._marginParams}get pollInterval(){return this._pollInterval}set pollInterval(e){if(e<0)throw Error("Invalid polling interval");this._pollInterval=e}get oracle(){return this._oracle}get riskCalculator(){return this._riskCalculator}get frontExpirySeries(){return this._zetaGroup.expirySeries[this._zetaGroup.frontExpiryIndex]}get halted(){return this._zetaGroup.haltState.halted}init(e,r,n,i,s){if(t.exchange.isInitialized)throw"Exchange already initialized";this._provider=new a.AnchorProvider(n,i,s||c.commitmentConfig(n.commitment)),this._network=r,this._program=new a.Program(m.default,e,this._provider),this._oracle=new g.Oracle(this._network,n),this._riskCalculator=new h.RiskCalculator,this._lastPollTimestamp=0}async initialize(e,r,n,i,s,o){t.exchange.init(e,r,n,i,o);const[a,l]=await c.getMintAuthority(e),[h,f]=await c.getState(e),[p,g]=await c.getSerumAuthority(e);let m=(new u.Transaction).add(b.initializeZetaStateIx(h,f,p,g,a,l,s));try{await c.processTransaction(this._provider,m)}catch(y){console.error(`Initialize zeta state failed: ${y}`)}t.exchange._stateAddress=h,t.exchange._serumAuthority=p,t.exchange._mintAuthority=a,t.exchange._usdcMintAddress=d.USDC_MINT_ADDRESS[r],await t.exchange.updateState(),console.log("Initialized zeta state!"),console.log(`Params:\nexpiryIntervalSeconds=${s.expiryIntervalSeconds},\nnewExpiryThresholdSeconds=${s.newExpiryThresholdSeconds},\nstrikeInitializationThresholdSeconds=${s.strikeInitializationThresholdSeconds}\npricingFrequencySeconds=${s.pricingFrequencySeconds}\ninsuranceVaultLiquidationPercentage=${s.insuranceVaultLiquidationPercentage}\nexpirationThresholdSeconds=${s.expirationThresholdSeconds}`)}async load(e,r,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new y.DummyWallet,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;if(console.info("Loading exchange."),t.exchange.isInitialized)throw"Exchange already loaded.";t.exchange.init(e,r,n,s,i);const[h,f]=await c.getMintAuthority(e),[p,g]=await c.getState(e),[m,b]=await c.getSerumAuthority(e);t.exchange._mintAuthority=h,t.exchange._stateAddress=p,t.exchange._serumAuthority=m;const[w,k]=await c.getUnderlying(e,0);let A=await t.exchange._program.account.underlying.fetch(w);const[S,I]=await c.getZetaGroup(e,A.mint);t.exchange._zetaGroupAddress=S,await t.exchange.subscribeOracle(a),await t.exchange.updateState(),await t.exchange.updateZetaGroup();const[_,v]=await c.getVault(t.exchange.programId,S),[E,x]=await c.getZetaInsuranceVault(t.exchange.programId,t.exchange.zetaGroupAddress),[T,P]=await c.getSocializedLossAccount(t.exchange.programId,t.exchange._zetaGroupAddress);if(t.exchange._vaultAddress=_,t.exchange._insuranceVaultAddress=E,t.exchange._socializedLossAccountAddress=T,t.exchange._usdcMintAddress=d.USDC_MINT_ADDRESS[r],t.exchange.zetaGroup.products[t.exchange.zetaGroup.products.length-1].market.equals(u.PublicKey.default))throw"Zeta group markets are uninitialized!";let[R,B]=await c.getGreeks(t.exchange.programId,t.exchange.zetaGroupAddress);t.exchange._greeksAddress=R,t.exchange._markets=await l.ZetaGroupMarkets.load(i,o),t.exchange._greeks=await t.exchange.program.account.greeks.fetch(R),t.exchange._riskCalculator.updateMarginRequirements(),t.exchange.subscribeZetaGroup(a),t.exchange.subscribeGreeks(a),await t.exchange.subscribeClock(a),t.exchange._isInitialized=!0,console.log(`Exchange loaded @ ${new Date(1e3*t.exchange.clockTimestamp)}`)}async initializeMarketNodes(e){let t=[...Array(d.ACTIVE_MARKETS).keys()];await Promise.all(t.map((async e=>{let t=(new u.Transaction).add(await b.initializeMarketNodeIx(e));await c.processTransaction(this._provider,t)})))}async initializeZetaGroup(e,r,n,i){let s=d.UNDERLYINGS[0];const[o,a]=await c.getZetaGroup(this.program.programId,s);this._zetaGroupAddress=o;let[l,h]=await c.getGreeks(this.programId,this._zetaGroupAddress);this._greeksAddress=l;const[f,p]=await c.getVault(t.exchange.programId,o);this._vaultAddress=f;const[g,m]=await c.getZetaInsuranceVault(t.exchange.programId,t.exchange.zetaGroupAddress);this._insuranceVaultAddress=g;const[y,w]=await c.getSocializedLossAccount(t.exchange.programId,t.exchange._zetaGroupAddress);this._socializedLossAccountAddress=y;let k=(new u.Transaction).add(await b.initializeZetaGroupIx(s,e,r,n));try{await c.processTransaction(this._provider,k)}catch(A){console.error(`Initialize zeta group failed: ${A}`)}await this.updateZetaGroup(),await this.updateState(),this._greeks=await t.exchange.program.account.greeks.fetch(l),this.subscribeZetaGroup(i),this.subscribeClock(i),this.subscribeGreeks(i),await this.subscribeOracle(i)}async updateZetaState(e){let t=(new u.Transaction).add(b.updateZetaStateIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t),await this.updateState()}async updatePricingParameters(e){let t=(new u.Transaction).add(b.updatePricingParametersIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t),await this.updateZetaGroup()}async updateMarginParameters(e){let t=(new u.Transaction).add(b.updateMarginParametersIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t),await this.updateZetaGroup()}async updateVolatilityNodes(e){if(e.length!=d.VOLATILITY_POINTS)throw Error(`Invalid number of nodes. Expected ${d.VOLATILITY_POINTS}.`);let t=(new u.Transaction).add(b.updateVolatilityNodesIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async initializeZetaMarkets(){let[e,t]=await c.getMarketIndexes(this.programId,this._zetaGroupAddress);console.log("Initializing market indexes.");let r=(new u.Transaction).add(b.initializeMarketIndexesIx(e,t));try{await c.processTransaction(this._provider,r)}catch(h){console.error(`Initialize market indexes failed: ${h}`)}let n=(new u.Transaction).add(b.addMarketIndexesIx(e));for(var i=0;i<d.TOTAL_MARKETS;i+=d.MARKET_INDEX_LIMIT)try{await c.processTransaction(this._provider,n)}catch(h){console.error(`Add market indexes failed: ${h}`)}let s=await this._program.account.marketIndexes.fetch(e);if(!s.initialized)throw Error("Market indexes are not initialized!");let o=[...Array(this.zetaGroup.products.length).keys()];await Promise.all(o.map((async t=>{console.log(`Initializing zeta market ${t+1}/${this.zetaGroup.products.length}`);const r=a.web3.Keypair.generate(),n=a.web3.Keypair.generate(),i=a.web3.Keypair.generate(),o=a.web3.Keypair.generate();c.writeKeypair(`keys/rq-${t}.json`,r),c.writeKeypair(`keys/eq-${t}.json`,n),c.writeKeypair(`keys/bids-${t}.json`,i),c.writeKeypair(`keys/asks-${t}.json`,o);let[u,d]=await b.initializeZetaMarketTxs(t,s.indexes[t],r.publicKey,n.publicKey,i.publicKey,o.publicKey,e),l=!1;if(this.network!=p.Network.LOCALNET){const[e,r]=await c.getMarketUninitialized(this.programId,this._zetaGroupAddress,s.indexes[t]);null!==await this.provider.connection.getAccountInfo(e)&&(l=!0)}if(l)console.log(`Market ${t} already initialized. Skipping...`);else try{await c.processTransaction(this.provider,u,[r,n,i,o]),await c.processTransaction(this.provider,d)}catch(h){console.error(`Initialize zeta market ${t} failed: ${h}`)}}))),console.log("Market initialization complete!"),await this.updateZetaGroup(),this._markets=await l.ZetaGroupMarkets.load(c.defaultCommitment(),0),this._isInitialized=!0}async initializeMarketStrikes(){let e=(new u.Transaction).add(b.initializeMarketStrikesIx());await c.processTransaction(this._provider,e)}async updateState(){this._state=await this.program.account.state.fetch(this.stateAddress)}async updateZetaGroup(){this._zetaGroup=await this.program.account.zetaGroup.fetch(this.zetaGroupAddress),this.updateMarginParams()}async updatePricing(e){let t=(new u.Transaction).add(b.updatePricingIx(e));await c.processTransaction(this._provider,t)}async retreatMarketNodes(e){let t=(new u.Transaction).add(b.retreatMarketNodesIx(e));await c.processTransaction(this._provider,t)}assertInitialized(){if(!this.isInitialized)throw"Exchange uninitialized"}subscribeZetaGroup(e){let t=this._program.account.zetaGroup.subscribe(this._zetaGroupAddress,this._provider.connection.commitment);t.on("change",(async t=>{let r=void 0!==this._zetaGroup&&this._zetaGroup.frontExpiryIndex!==t.frontExpiryIndex;this._zetaGroup=t,void 0!==this._markets&&this._markets.updateExpirySeries(),this.updateMarginParams(),void 0!==e&&e(r?f.EventType.EXPIRY:f.EventType.EXCHANGE,null)})),this._eventEmitters.push(t)}setClockData(e){this._clockTimestamp=e.timestamp,this._clockSlot=e.slot}async subscribeClock(e){if(void 0!==this._clockSubscriptionId)throw Error("Clock already subscribed to.");this._clockSubscriptionId=this._provider.connection.onAccountChange(u.SYSVAR_CLOCK_PUBKEY,(async(t,r)=>{this.setClockData(c.getClockData(t)),void 0!==e&&e(f.EventType.CLOCK,null);try{await this.handlePolling(e)}catch(n){console.log(`Exchange polling failed. Error: ${n}`)}}),this._provider.connection.commitment);let t=await this._provider.connection.getAccountInfo(u.SYSVAR_CLOCK_PUBKEY);this.setClockData(c.getClockData(t))}subscribeGreeks(e){if(null===this._zetaGroup)throw Error("Cannot subscribe greeks. ZetaGroup is null.");let t=this._program.account.greeks.subscribe(this._zetaGroup.greeks,this._provider.connection.commitment);t.on("change",(async t=>{this._greeks=t,this._isInitialized&&this._riskCalculator.updateMarginRequirements(),void 0!==e&&e(f.EventType.GREEKS,null)})),this._eventEmitters.push(t)}async subscribeOracle(e){await this._oracle.subscribePriceFeeds((t=>{this._isInitialized&&this._riskCalculator.updateMarginRequirements(),void 0!==e&&e(f.EventType.ORACLE,t)}))}async handlePolling(e){this._isInitialized&&(this._clockTimestamp>this._lastPollTimestamp+this._pollInterval&&(this._lastPollTimestamp=this._clockTimestamp,await this.updateState(),await this.updateZetaGroup(),this._markets.updateExpirySeries(),void 0!==e&&e(f.EventType.EXCHANGE,null)),await this._markets.handlePolling(e))}async updateExchangeState(){await this.updateState(),await this.updateZetaGroup(),this._markets.updateExpirySeries()}getMarkPrice(e){return c.convertNativeBNToDecimal(this._greeks.markPrices[e],d.PLATFORM_PRECISION)}async whitelistUserForDeposit(e){let t=(new u.Transaction).add(await b.initializeWhitelistDepositAccountIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async whitelistUserForInsuranceVault(e){let t=(new u.Transaction).add(await b.initializeWhitelistInsuranceAccountIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async whitelistUserForTradingFees(e){let t=(new u.Transaction).add(await b.initializeWhitelistTradingFeesAccountIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async rebalanceInsuranceVault(e){let t=[];for(var r=0;r<e.length;r+=d.MAX_REBALANCE_ACCOUNTS){let n=new u.Transaction,i=e.slice(r,r+d.MAX_REBALANCE_ACCOUNTS);n.add(b.rebalanceInsuranceVaultIx(i)),t.push(n)}try{await Promise.all(t.map((async e=>{let t=await c.processTransaction(this._provider,e);console.log(`[REBALANCE INSURANCE VAULT]: ${t}`)})))}catch(n){console.log(`Error in rebalancing the insurance vault ${n}`)}}async getDepositLimit(){return c.convertNativeBNToDecimal(this.state.nativeDepositLimit)}addProgramSubscriptionId(e){this._programSubscriptionIds.push(e)}async close(){await this._program.account.zetaGroup.unsubscribe(this._zetaGroupAddress),await this._program.account.greeks.unsubscribe(this._zetaGroup.greeks);for(var e=0;e<this._eventEmitters.length;e++)this._eventEmitters[e].removeListener("change");this._eventEmitters=[],void 0!==this._clockSubscriptionId&&(await this.connection.removeAccountChangeListener(this._clockSubscriptionId),this._clockSubscriptionId=void 0),await this._oracle.close();for(e=0;e<this._programSubscriptionIds.length;e++)await this.connection.removeProgramAccountChangeListener(this._programSubscriptionIds[e]);this._programSubscriptionIds=[],this._isInitialized=!1}updateMarginParams(){void 0!==this.zetaGroup&&(this._marginParams={futureMarginInitial:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.futureMarginInitial,d.MARGIN_PRECISION),futureMarginMaintenance:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.futureMarginMaintenance,d.MARGIN_PRECISION),optionMarkPercentageLongInitial:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionMarkPercentageLongInitial,d.MARGIN_PRECISION),optionSpotPercentageLongInitial:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionSpotPercentageLongInitial,d.MARGIN_PRECISION),optionSpotPercentageShortInitial:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionSpotPercentageShortInitial,d.MARGIN_PRECISION),optionDynamicPercentageShortInitial:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionDynamicPercentageShortInitial,d.MARGIN_PRECISION),optionMarkPercentageLongMaintenance:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionMarkPercentageLongMaintenance,d.MARGIN_PRECISION),optionSpotPercentageLongMaintenance:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionSpotPercentageLongMaintenance,d.MARGIN_PRECISION),optionSpotPercentageShortMaintenance:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionSpotPercentageShortMaintenance,d.MARGIN_PRECISION),optionDynamicPercentageShortMaintenance:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionDynamicPercentageShortMaintenance,d.MARGIN_PRECISION),optionShortPutCapPercentage:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionShortPutCapPercentage,d.MARGIN_PRECISION)})}assertHalted(){if(!this.zetaGroup.haltState.halted)throw"Zeta group not halted."}async haltZetaGroup(e){let t=(new u.Transaction).add(b.haltZetaGroupIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async unhaltZetaGroup(e){let t=(new u.Transaction).add(b.unhaltZetaGroupIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async updateHaltState(e,t){let r=(new u.Transaction).add(b.updateHaltStateIx(e,t,this._provider.wallet.publicKey));await c.processTransaction(this._provider,r)}async settlePositionsHalted(e){let t=b.settlePositionsHaltedTxs(e,this._provider.wallet.publicKey);await Promise.all(t.map((async e=>{await c.processTransaction(this._provider,e)})))}async settleSpreadPositionsHalted(e){let t=b.settleSpreadPositionsHaltedTxs(e,this._provider.wallet.publicKey);await Promise.all(t.map((async e=>{await c.processTransaction(this._provider,e)})))}async cancelAllOrdersHalted(){this.assertHalted(),await Promise.all(this._markets.markets.map((async e=>{await e.cancelAllOrdersHalted()})))}async cleanZetaMarketsHalted(){this.assertHalted();let e=await Promise.all(this._markets.markets.map((async e=>c.getMutMarketAccounts(e.marketIndex))));await c.cleanZetaMarketsHalted(e)}async updatePricingHalted(e){let t=(new u.Transaction).add(b.updatePricingHaltedIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async cleanMarketNodes(e){let t=(new u.Transaction).add(b.cleanMarketNodesIx(e));await c.processTransaction(this._provider,t)}async updateVolatility(e){let t=(new u.Transaction).add(b.updateVolatilityIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async updateInterestRate(e){let t=(new u.Transaction).add(b.updateInterestRateIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async initializeReferrerAccount(e){let t=(new u.Transaction).add(await b.initializeReferrerAccountIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}}t.Exchange=w,t.exchange=new w},98210:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.subscription=t.Market=t.Wallet=t.idl=t.events=t.risk=t.programTypes=t.Oracle=t.errors=t.Network=t.InsuranceClient=t.instructions=t.Decimal=t.Client=t.types=t.constants=t.Exchange=t.utils=void 0;const a=r(75330);Object.defineProperty(t,"Exchange",{enumerable:!0,get:function(){return a.exchange}});const u=r(37103);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return u.Client}});const c=r(39236);Object.defineProperty(t,"InsuranceClient",{enumerable:!0,get:function(){return c.InsuranceClient}});const d=r(49267);Object.defineProperty(t,"Network",{enumerable:!0,get:function(){return d.Network}});const l=r(28793);Object.defineProperty(t,"Decimal",{enumerable:!0,get:function(){return l.Decimal}});const h=r(71179);Object.defineProperty(t,"Oracle",{enumerable:!0,get:function(){return h.Oracle}});const f=o(r(79137));t.idl=f.default;const p=r(27906);Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return p.Wallet}});const g=r(90654);Object.defineProperty(t,"Market",{enumerable:!0,get:function(){return g.Market}});const m=s(r(27094));t.errors=m;const y=s(r(46417));t.utils=y;const b=s(r(57937));t.constants=b;const w=s(r(77762));t.types=w;const k=s(r(79158));t.instructions=k;const A=s(r(8014));t.programTypes=A;const S=s(r(11652));t.risk=S;const I=s(r(54414));t.events=I;const _=s(r(19187));t.subscription=_},39236:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InsuranceClient=void 0;const a=s(r(27906)),u=s(r(46417)),c=r(75330),d=r(27842),l=o(r(79137)),h=r(79158);class f{constructor(e,t,r){this._provider=new a.AnchorProvider(e,t,r),this._program=new a.Program(l.default,c.exchange.programId,this._provider),this._insuranceDepositAccount=null}get publicKey(){return this._provider.wallet.publicKey}get insuranceDepositAccount(){return this._insuranceDepositAccount}get insuranceDepositAccountAddress(){return this._insuranceDepositAccountAddress}get whitelistInsuranceAccountAddress(){return this._whitelistInsuranceAccountAddress}get usdcAccountAddress(){return this._usdcAccountAddress}static async load(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.defaultCommitment();console.log(`Loading insurance client: ${t.publicKey.toString()}`);let n=new f(e,t,r);await n.insuranceWhitelistCheck();let[i,s]=await u.getUserInsuranceDepositAccount(c.exchange.programId,c.exchange.zetaGroupAddress,t.publicKey);n._insuranceDepositAccountAddress=i,n._usdcAccountAddress=await u.getAssociatedTokenAddress(c.exchange.usdcMintAddress,t.publicKey);try{await n.updateInsuranceDepositAccount()}catch(o){}return n}async deposit(e){await this.usdcAccountCheck();let t=new d.Transaction;null===this._insuranceDepositAccount&&(console.log("User has no insurance vault deposit account. Creating insurance vault deposit account..."),t.add(await(0,h.initializeInsuranceDepositAccountIx)(this.publicKey,this.whitelistInsuranceAccountAddress))),t.add((0,h.depositInsuranceVaultIx)(e,this._insuranceDepositAccountAddress,this._usdcAccountAddress,this.publicKey));let r=await u.processTransaction(this._provider,t);return console.log(`[DEPOSIT INSURANCE VAULT] $${u.convertNativeIntegerToDecimal(e)}. Transaction: ${r}`),await this.updateInsuranceDepositAccount(),r}async withdraw(e){let t=new d.Transaction;t.add((0,h.withdrawInsuranceVaultIx)(e,this._insuranceDepositAccountAddress,this._usdcAccountAddress,this.publicKey));let r=await u.processTransaction(this._provider,t);return console.log(`[WITHDRAW INSURANCE VAULT] ${e}% of Deposit. Transaction: ${r}`),await this.updateInsuranceDepositAccount(),r}async updateInsuranceDepositAccount(){try{this._insuranceDepositAccount=await this._program.account.insuranceDepositAccount.fetch(this._insuranceDepositAccountAddress)}catch(e){console.log("User has no insurance deposit account. Please deposit into the insurance vault if you are whitelisted.")}}async usdcAccountCheck(){try{let e=await u.getTokenAccountInfo(this._provider.connection,this._usdcAccountAddress);console.log(`Found user USDC associated token account ${this._usdcAccountAddress.toString()}. Balance = $${u.convertNativeBNToDecimal(e.amount)}.`)}catch(e){throw Error("User has no USDC associated token account. Please create one and deposit USDC.")}}async insuranceWhitelistCheck(){let[e,t]=await u.getUserWhitelistInsuranceAccount(c.exchange.programId,this.publicKey);try{await this._program.account.whitelistInsuranceAccount.fetch(e)}catch(r){throw Error("User is not white listed for the insurance vault.")}this._whitelistInsuranceAccountAddress=e}}t.InsuranceClient=f},90654:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Market=t.ExpirySeries=t.ZetaGroupMarkets=void 0;const o=s(r(27906)),a=r(94706),u=r(75330),c=r(57937),d=r(46417),l=r(77762),h=r(54414);class f{constructor(){this._pollInterval=c.DEFAULT_MARKET_POLL_INTERVAL,this._expirySeries=new Array(u.exchange.zetaGroup.expirySeries.length),this._markets=new Array(u.exchange.zetaGroup.products.length),this._subscribedMarketIndexes=new Set,this._lastPollTimestamp=0}get frontExpiryIndex(){return this._frontExpiryIndex}get expirySeries(){return this._expirySeries}get markets(){return this._markets}set pollInterval(e){if(e<0)throw Error("Invalid poll interval");this._pollInterval=e}get pollInterval(){return this._pollInterval}getMarketsByExpiryIndex(e){let t=e*this.productsPerExpiry();return this._markets.slice(t,t+this.productsPerExpiry())}getOptionsMarketByExpiryIndex(e,t){let r=this.getMarketsByExpiryIndex(e);switch(t){case l.Kind.CALL:return r.slice(0,c.NUM_STRIKES);case l.Kind.PUT:return r.slice(c.NUM_STRIKES,2*c.NUM_STRIKES);default:throw Error("Options market kind not supported, must be CALL or PUT")}}getFuturesMarketByExpiryIndex(e){let t=this.getMarketsByExpiryIndex(e),r=t[t.length-1];if(r.kind!=l.Kind.FUTURE)throw Error("Futures market kind error");return r}getMarketByExpiryKindStrike(e,t,r){let n,i=this.getMarketsByExpiryIndex(e);if(t!==l.Kind.CALL&&t!==l.Kind.PUT){if(t===l.Kind.FUTURE)return this.getFuturesMarketByExpiryIndex(e);throw new Error("Only CALL, PUT, FUTURE kinds are supported")}if(void 0===r)throw new Error("Strike must be specified for options markets");n=this.getOptionsMarketByExpiryIndex(e,t);n.filter((e=>e.strike==r));return 0==i.length?void 0:i[0]}subscribeMarket(e){if(e>=this._markets.length)throw Error(`Market index ${e} doesn't exist.`);this._subscribedMarketIndexes.add(e)}unsubscribeMarket(e){return this._subscribedMarketIndexes.delete(e)}async handlePolling(e){if(u.exchange.clockTimestamp>this._lastPollTimestamp+this._pollInterval){this._lastPollTimestamp=u.exchange.clockTimestamp;let t=Array.from(this._subscribedMarketIndexes);await Promise.all(t.map((async t=>{try{await this._markets[t].updateOrderbook()}catch(r){console.error(`Orderbook poll failed: ${r}`)}if(void 0!==e){let r={marketIndex:t};e(h.EventType.ORDERBOOK,r)}})))}}static async load(e,t){let r=new f,n=Math.floor(u.exchange.zetaGroup.products.length/u.exchange.zetaGroup.expirySeries.length),i=[...Array(c.ACTIVE_MARKETS).keys()];for(var s=0;s<i.length;s+=c.MARKET_LOAD_LIMIT){let o=i.slice(s,s+c.MARKET_LOAD_LIMIT);await Promise.all(o.map((async t=>{let i=u.exchange.zetaGroup.products[t].market,s=await a.Market.load(u.exchange.connection,i,{commitment:e.commitment,skipPreflight:e.skipPreflight},c.DEX_PID[u.exchange.network]),[o,h]=await(0,d.getZetaVault)(u.exchange.programId,s.baseMintAddress),[f,p]=await(0,d.getZetaVault)(u.exchange.programId,s.quoteMintAddress),m=Math.floor(t/n);r._markets[t]=new g(t,m,(0,l.toProductKind)(u.exchange.zetaGroup.products[t].kind),i,u.exchange.zetaGroupAddress,f,o,s)}))),await(0,d.sleep)(t)}return r.updateExpirySeries(),r}async updateExpirySeries(){for(var e=0;e<u.exchange.zetaGroup.products.length;e++)this._markets[e].updateStrike();this._frontExpiryIndex=u.exchange.zetaGroup.frontExpiryIndex;for(e=0;e<u.exchange.zetaGroup.expirySeries.length;e++){let t=null!=this._markets[e*this.productsPerExpiry()].strike;this._expirySeries[e]=new p(e,u.exchange.zetaGroup.expirySeries[e].activeTs.toNumber(),u.exchange.zetaGroup.expirySeries[e].expiryTs.toNumber(),u.exchange.zetaGroup.expirySeries[e].dirty,t)}}getMarket(e){let t=this.getMarketIndex(e);return this._markets[t]}getMarketIndex(e){let t=0,r=this._markets.length-1;for(;t<=r;){let s=r+t>>1,o=(n=e,i=this._markets[s].address,n.toBuffer().compare(i.toBuffer()));if(o>0)t=s+1;else{if(!(o<0))return s;r=s-1}}var n,i;throw Error("Market doesn't exist!")}getTradeableExpiryIndices(){let e=[];for(var t=0;t<this._expirySeries.length;t++){this._expirySeries[t].isLive()&&e.push(t)}return e}productsPerExpiry(){return Math.floor(this._markets.length/this.expirySeries.length)}}t.ZetaGroupMarkets=f;class p{constructor(e,t,r,n,i){this.expiryIndex=e,this.activeTs=t,this.expiryTs=r,this.dirty=n,this.strikesInitialized=i}isLive(){return u.exchange.clockTimestamp>=this.activeTs&&u.exchange.clockTimestamp<this.expiryTs&&this.strikesInitialized&&!this.dirty}}t.ExpirySeries=p;class g{constructor(e,t,r,n,i,s,o,a){this._marketIndex=e,this._expiryIndex=t,this._kind=r,this._address=n,this._zetaGroup=i,this._quoteVault=s,this._baseVault=o,this._serumMarket=a,this._strike=0,this._orderbook={bids:[],asks:[]}}get marketIndex(){return this._marketIndex}get expiryIndex(){return this._expiryIndex}get expirySeries(){return u.exchange.markets.expirySeries[this.expiryIndex]}get kind(){return this._kind}get address(){return this._address}get zetaGroup(){return this._zetaGroup}get quoteVault(){return this._quoteVault}get baseVault(){return this._baseVault}get serumMarket(){return this._serumMarket}get orderbook(){return this._orderbook}get strike(){return this._strike}updateStrike(){let e=u.exchange.zetaGroup.products[this._marketIndex].strike;e.isSet?this._strike=(0,d.convertNativeBNToDecimal)(e.value):this._strike=null}async updateOrderbook(){[this._bids,this._asks]=await Promise.all([this._serumMarket.loadBids(u.exchange.provider.connection),this._serumMarket.loadAsks(u.exchange.provider.connection)]),[this._bids,this._asks].map((e=>{const t=!!e.isBids,r=[];for(const{key:n,quantity:i}of e.slab.items(t)){const e=(0,d.getPriceFromSerumOrderKey)(n);r.length>0&&r[r.length-1][0].eq(e)?r[r.length-1][1].iadd(i):r.push([e,new o.BN(i.toNumber())])}this._orderbook[e.isBids?"bids":"asks"]=r.map((e=>{let[t,r]=e;return{price:this._serumMarket.priceLotsToNumber(t),size:(0,d.convertNativeLotSizeToDecimal)(this._serumMarket.baseSizeLotsToNumber(r))}}))}))}getTopLevel(){let e={bid:null,ask:null};return 0!=this._orderbook.bids.length&&(e.bid=this._orderbook.bids[0]),0!=this._orderbook.asks.length&&(e.ask=this._orderbook.asks[0]),e}static convertOrder(e,t){return{marketIndex:e.marketIndex,market:e.address,price:t.price,size:(0,d.convertNativeLotSizeToDecimal)(t.size),side:"buy"==t.side?l.Side.BID:l.Side.ASK,orderId:t.orderId,owner:t.openOrdersAddress,clientOrderId:t.clientId}}getOrdersForAccount(e){return[...this._bids,...this._asks].filter((t=>t.openOrdersAddress.equals(e))).map((e=>g.convertOrder(this,e)))}getMarketOrders(){return[...this._bids,...this._asks].map((e=>g.convertOrder(this,e)))}getBidOrders(){return console.log("*"),[...this._bids].map((e=>g.convertOrder(this,e)))}getAskOrders(){return[...this._asks].map((e=>g.convertOrder(this,e)))}async cancelAllExpiredOrders(){await this.updateOrderbook();let e=this.getMarketOrders(),t=await(0,d.getCancelAllIxs)(e,!0),r=(0,d.splitIxsIntoTx)(t,c.MAX_CANCELS_PER_TX);await Promise.all(r.map((async e=>{await(0,d.processTransaction)(u.exchange.provider,e)})))}async cancelAllOrdersHalted(){u.exchange.assertHalted(),await this.updateOrderbook();let e=this.getMarketOrders(),t=await(0,d.getCancelAllIxs)(e,!1),r=(0,d.splitIxsIntoTx)(t,c.MAX_CANCELS_PER_TX);await Promise.all(r.map((async e=>{await(0,d.processTransaction)(u.exchange.provider,e)})))}}t.Market=g},49267:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Network=void 0,function(e){e.LOCALNET="localnet",e.DEVNET="devnet",e.MAINNET="mainnet"}(t.Network||(t.Network={}))},19798:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePythData=t.readBigUInt64LE=t.readBigInt64LE=void 0;const r=(e,t,r)=>new Error(`The value of "${e} is out of range. It must be ${t}. Received ${r}`);function n(e,t){if("number"!==typeof e)throw((e,t,r)=>new Error(`The "${e}" argument must be of type ${t}. Received ${r}`))(t,"number",e)}function i(e,t){if(Math.floor(e)!==e)throw n(e,"offset"),r("offset","an integer",e);if(t<0)throw new Error("Attempt to access memory outside buffer bounds");throw r("offset",`>= 0 and <= ${t}`,e)}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(t,"offset");const r=e[t],s=e[t+7];void 0!==r&&void 0!==s||i(t,e.length-8);const o=e[t+4]+256*e[t+5]+65536*e[t+6]+(s<<24);return(BigInt(o)<<BigInt(32))+BigInt(r+256*e[++t]+65536*e[++t]+e[++t]*2**24)}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(t,"offset");const r=e[t],s=e[t+7];void 0!==r&&void 0!==s||i(t,e.length-8);const o=r+256*e[++t]+65536*e[++t]+e[++t]*2**24,a=e[++t]+256*e[++t]+65536*e[++t]+s*2**24;return BigInt(o)+(BigInt(a)<<BigInt(32))}t.readBigInt64LE=s,t.readBigUInt64LE=o,t.parsePythData=function(e){const t=e.readInt32LE(20);return function(e,t){const r=s(e,0);return{price:Number(r)*10**t,publishSlot:o(e,24)}}(e.slice(208,240),t)}},71179:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Oracle=void 0;const o=r(19798),a=r(75330),u=s(r(57937));t.Oracle=class{constructor(e,t){this._network=e,this._connection=t,this._subscriptionIds=new Map,this._data=new Map,this._callback=void 0}getAvailablePriceFeeds(){return Object.keys(u.PYTH_PRICE_FEEDS[this._network])}getPrice(e){return this._data.has(e)?this._data.get(e):null}getPriceAge(e){return Date.now()/1e3-this.getPrice(e).lastUpdatedTime}async fetchPrice(e){let t=await this._connection.getAccountInfo(e);return(0,o.parsePythData)(t.data).price}async pollPrice(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!(e in u.PYTH_PRICE_FEEDS[this._network]))throw Error("Invalid Oracle feed!");let r=u.PYTH_PRICE_FEEDS[this._network][e],n=await this._connection.getAccountInfo(r),i=(0,o.parsePythData)(n.data),s={feed:e,price:i.price,lastUpdatedTime:a.exchange.clockTimestamp,lastUpdatedSlot:i.publishSlot};return this._data.set(e,s),t&&this._callback(s),s}async subscribePriceFeeds(e){if(void 0!=this._callback)throw Error("Oracle price feeds already subscribed to!");this._callback=e;let t=Object.keys(u.PYTH_PRICE_FEEDS[this._network]);for(var r=0;r<t.length;r++){let e=t[r];console.log(`Oracle subscribing to feed ${e}`);let n=u.PYTH_PRICE_FEEDS[this._network][e],i=this._connection.onAccountChange(n,((t,r)=>{let n=(0,o.parsePythData)(t.data),i=this._data.get(e);if(void 0!==i&&i.price===n.price)return;let s={feed:e,price:n.price,lastUpdatedTime:a.exchange.clockTimestamp,lastUpdatedSlot:n.publishSlot};this._data.set(e,s),this._callback(s)}),a.exchange.provider.connection.commitment);this._subscriptionIds.set(e,i),await this.pollPrice(e,!1)}}async close(){for(let e of this._subscriptionIds.values())await this._connection.removeAccountChangeListener(e)}}},79158:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.cleanMarketNodesIx=t.updatePricingHaltedIx=t.cleanZetaMarketsHaltedIx=t.cleanZetaMarketsIx=t.settleSpreadPositionsHaltedIx=t.settlePositionsHaltedIx=t.settlePositionsHaltedTxs=t.settleSpreadPositionsHaltedTxs=t.settleSpreadPositionsIx=t.settlePositionsIx=t.settlePositionsTxs=t.initializeReferrerAccountIx=t.referUserIx=t.initializeWhitelistTradingFeesAccountIx=t.initializeWhitelistInsuranceAccountIx=t.initializeWhitelistDepositAccountIx=t.initializeMarketStrikesIx=t.addMarketIndexesIx=t.initializeMarketIndexesIx=t.updateZetaStateIx=t.initializeZetaStateIx=t.updateVolatilityNodesIx=t.updateMarginParametersIx=t.updatePricingParametersIx=t.updatePricingIx=t.retreatMarketNodesIx=t.initializeMarketNodeIx=t.crankMarketIx=t.liquidateIx=t.rebalanceInsuranceVaultIx=t.initializeZetaGroupIx=t.initializeZetaMarketTxs=t.forceCancelOrdersIx=t.cancelExpiredOrderIx=t.cancelOrderByClientOrderIdNoErrorIx=t.cancelOrderByClientOrderIdIx=t.cancelOrderNoErrorIx=t.cancelOrderIx=t.placeOrderV3Ix=t.placeOrderV2Ix=t.placeOrderIx=t.closeOpenOrdersIx=t.initializeOpenOrdersIx=t.withdrawIx=t.withdrawInsuranceVaultIx=t.depositInsuranceVaultIx=t.depositIx=t.initializeInsuranceDepositAccountIx=t.closeMarginAccountIx=t.initializeMarginAccountIx=void 0,t.toggleMarketMakerIx=t.burnVaultTokenTx=t.settleDexFundsIx=t.settleDexFundsTxs=t.transferExcessSpreadBalanceIx=t.positionMovementIx=t.closeSpreadAccountIx=t.initializeSpreadAccountIx=t.expireSeriesOverrideIx=t.updateAdminIx=t.updateInterestRateIx=t.updateVolatilityIx=t.updateHaltStateIx=t.unhaltZetaGroupIx=t.haltZetaGroupIx=t.cancelOrderHaltedIx=void 0;const o=r(75330),a=r(27842),u=r(66563),c=s(r(46417)),d=s(r(27906)),l=r(77762),h=s(r(57937));function f(e,t,r,n){return o.exchange.program.instruction.settlePositions(e,r,{accounts:{zetaGroup:o.exchange.zetaGroupAddress,settlementAccount:t},remainingAccounts:n})}function p(e,t){return o.exchange.program.instruction.settlePositionsHalted({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress,admin:t},remainingAccounts:e})}function g(e,t){return o.exchange.program.instruction.settleSpreadPositionsHalted({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress,admin:t},remainingAccounts:e})}t.initializeMarginAccountIx=function(e,t,r){return o.exchange.program.instruction.initializeMarginAccount({accounts:{zetaGroup:e,marginAccount:t,authority:r,payer:r,zetaProgram:o.exchange.programId,systemProgram:a.SystemProgram.programId}})},t.closeMarginAccountIx=function(e,t){return o.exchange.program.instruction.closeMarginAccount({accounts:{marginAccount:t,authority:e,zetaGroup:o.exchange.zetaGroupAddress}})},t.initializeInsuranceDepositAccountIx=async function(e,t){let[r,n]=await c.getUserInsuranceDepositAccount(o.exchange.programId,o.exchange.zetaGroupAddress,e);return o.exchange.program.instruction.initializeInsuranceDepositAccount(n,{accounts:{zetaGroup:o.exchange.zetaGroupAddress,insuranceDepositAccount:r,authority:e,systemProgram:a.SystemProgram.programId,whitelistInsuranceAccount:t}})},t.depositIx=async function(e,t,r,n,i){let s=void 0!==i?[{pubkey:i,isSigner:!1,isWritable:!1}]:[];return o.exchange.program.instruction.deposit(new d.BN(e),{accounts:{zetaGroup:o.exchange.zetaGroupAddress,marginAccount:t,vault:o.exchange.vaultAddress,userTokenAccount:r,socializedLossAccount:o.exchange.socializedLossAccountAddress,authority:n,tokenProgram:u.TOKEN_PROGRAM_ID,state:o.exchange.stateAddress,greeks:o.exchange.zetaGroup.greeks},remainingAccounts:s})},t.depositInsuranceVaultIx=function(e,t,r,n){return o.exchange.program.instruction.depositInsuranceVault(new d.BN(e),{accounts:{zetaGroup:o.exchange.zetaGroupAddress,insuranceVault:o.exchange.insuranceVaultAddress,insuranceDepositAccount:t,userTokenAccount:r,zetaVault:o.exchange.vaultAddress,socializedLossAccount:o.exchange.socializedLossAccountAddress,authority:n,tokenProgram:u.TOKEN_PROGRAM_ID}})},t.withdrawInsuranceVaultIx=function(e,t,r,n){return o.exchange.program.instruction.withdrawInsuranceVault(new d.BN(e),{accounts:{zetaGroup:o.exchange.zetaGroupAddress,insuranceVault:o.exchange.insuranceVaultAddress,insuranceDepositAccount:t,userTokenAccount:r,authority:n,tokenProgram:u.TOKEN_PROGRAM_ID}})},t.withdrawIx=function(e,t,r,n){return o.exchange.program.instruction.withdraw(new d.BN(e),{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,vault:o.exchange.vaultAddress,marginAccount:t,userTokenAccount:r,authority:n,tokenProgram:u.TOKEN_PROGRAM_ID,greeks:o.exchange.zetaGroup.greeks,oracle:o.exchange.zetaGroup.oracle,socializedLossAccount:o.exchange.socializedLossAccountAddress}})},t.initializeOpenOrdersIx=async function(e,t,r){const[n,i]=await c.getOpenOrders(o.exchange.programId,e,t),[s,u]=await c.getOpenOrdersMap(o.exchange.programId,n);return[o.exchange.program.instruction.initializeOpenOrders({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,dexProgram:h.DEX_PID[o.exchange.network],systemProgram:a.SystemProgram.programId,openOrders:n,marginAccount:r,authority:t,payer:t,market:e,rent:a.SYSVAR_RENT_PUBKEY,serumAuthority:o.exchange.serumAuthority,openOrdersMap:s}}),n]},t.closeOpenOrdersIx=async function(e,t,r,n){const[i,s]=await c.getOpenOrdersMap(o.exchange.programId,n);return o.exchange.program.instruction.closeOpenOrders(s,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,dexProgram:h.DEX_PID[o.exchange.network],openOrders:n,marginAccount:r,authority:t,market:e,serumAuthority:o.exchange.serumAuthority,openOrdersMap:i}})},t.placeOrderIx=function(e,t,r,n,i,s,c,f,p){let g=o.exchange.markets.markets[e],m=void 0!==p?[{pubkey:p,isSigner:!1,isWritable:!1}]:[];return o.exchange.program.instruction.placeOrder(new d.BN(t),new d.BN(r),(0,l.toProgramSide)(n),0==i?null:new d.BN(i),{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,marginAccount:s,authority:c,dexProgram:h.DEX_PID[o.exchange.network],tokenProgram:u.TOKEN_PROGRAM_ID,serumAuthority:o.exchange.serumAuthority,greeks:o.exchange.zetaGroup.greeks,openOrders:f,rent:a.SYSVAR_RENT_PUBKEY,marketAccounts:{market:g.serumMarket.decoded.ownAddress,requestQueue:g.serumMarket.decoded.requestQueue,eventQueue:g.serumMarket.decoded.eventQueue,bids:g.serumMarket.decoded.bids,asks:g.serumMarket.decoded.asks,coinVault:g.serumMarket.decoded.baseVault,pcVault:g.serumMarket.decoded.quoteVault,orderPayerTokenAccount:n==l.Side.BID?g.quoteVault:g.baseVault,coinWallet:g.baseVault,pcWallet:g.quoteVault},oracle:o.exchange.zetaGroup.oracle,marketNode:o.exchange.greeks.nodeKeys[e],marketMint:n==l.Side.BID?g.serumMarket.quoteMintAddress:g.serumMarket.baseMintAddress,mintAuthority:o.exchange.mintAuthority},remainingAccounts:m})},t.placeOrderV2Ix=function(e,t,r,n,i,s,c,f,p,g){let m=o.exchange.markets.markets[e],y=void 0!==g?[{pubkey:g,isSigner:!1,isWritable:!1}]:[];return o.exchange.program.instruction.placeOrderV2(new d.BN(t),new d.BN(r),(0,l.toProgramSide)(n),(0,l.toProgramOrderType)(i),0==s?null:new d.BN(s),{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,marginAccount:c,authority:f,dexProgram:h.DEX_PID[o.exchange.network],tokenProgram:u.TOKEN_PROGRAM_ID,serumAuthority:o.exchange.serumAuthority,greeks:o.exchange.zetaGroup.greeks,openOrders:p,rent:a.SYSVAR_RENT_PUBKEY,marketAccounts:{market:m.serumMarket.decoded.ownAddress,requestQueue:m.serumMarket.decoded.requestQueue,eventQueue:m.serumMarket.decoded.eventQueue,bids:m.serumMarket.decoded.bids,asks:m.serumMarket.decoded.asks,coinVault:m.serumMarket.decoded.baseVault,pcVault:m.serumMarket.decoded.quoteVault,orderPayerTokenAccount:n==l.Side.BID?m.quoteVault:m.baseVault,coinWallet:m.baseVault,pcWallet:m.quoteVault},oracle:o.exchange.zetaGroup.oracle,marketNode:o.exchange.greeks.nodeKeys[e],marketMint:n==l.Side.BID?m.serumMarket.quoteMintAddress:m.serumMarket.baseMintAddress,mintAuthority:o.exchange.mintAuthority},remainingAccounts:y})},t.placeOrderV3Ix=function(e,t,r,n,i,s,c,f,p,g,m){if(c.length>h.MAX_ORDER_TAG_LENGTH)throw Error(`Tag is too long! Max length = ${h.MAX_ORDER_TAG_LENGTH}`);let y=o.exchange.markets.markets[e],b=void 0!==m?[{pubkey:m,isSigner:!1,isWritable:!1}]:[];return o.exchange.program.instruction.placeOrderV3(new d.BN(t),new d.BN(r),(0,l.toProgramSide)(n),(0,l.toProgramOrderType)(i),0==s?null:new d.BN(s),new String(c),{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,marginAccount:f,authority:p,dexProgram:h.DEX_PID[o.exchange.network],tokenProgram:u.TOKEN_PROGRAM_ID,serumAuthority:o.exchange.serumAuthority,greeks:o.exchange.zetaGroup.greeks,openOrders:g,rent:a.SYSVAR_RENT_PUBKEY,marketAccounts:{market:y.serumMarket.decoded.ownAddress,requestQueue:y.serumMarket.decoded.requestQueue,eventQueue:y.serumMarket.decoded.eventQueue,bids:y.serumMarket.decoded.bids,asks:y.serumMarket.decoded.asks,coinVault:y.serumMarket.decoded.baseVault,pcVault:y.serumMarket.decoded.quoteVault,orderPayerTokenAccount:n==l.Side.BID?y.quoteVault:y.baseVault,coinWallet:y.baseVault,pcWallet:y.quoteVault},oracle:o.exchange.zetaGroup.oracle,marketNode:o.exchange.greeks.nodeKeys[e],marketMint:n==l.Side.BID?y.serumMarket.quoteMintAddress:y.serumMarket.baseMintAddress,mintAuthority:o.exchange.mintAuthority},remainingAccounts:b})},t.cancelOrderIx=function(e,t,r,n,i,s){let a=o.exchange.markets.markets[e];return o.exchange.program.instruction.cancelOrder((0,l.toProgramSide)(s),i,{accounts:{authority:t,cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:r,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:n,market:a.address,bids:a.serumMarket.decoded.bids,asks:a.serumMarket.decoded.asks,eventQueue:a.serumMarket.decoded.eventQueue}}})},t.cancelOrderNoErrorIx=function(e,t,r,n,i,s){let a=o.exchange.markets.markets[e];return o.exchange.program.instruction.cancelOrderNoError((0,l.toProgramSide)(s),i,{accounts:{authority:t,cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:r,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:n,market:a.address,bids:a.serumMarket.decoded.bids,asks:a.serumMarket.decoded.asks,eventQueue:a.serumMarket.decoded.eventQueue}}})},t.cancelOrderByClientOrderIdIx=function(e,t,r,n,i){let s=o.exchange.markets.markets[e];return o.exchange.program.instruction.cancelOrderByClientOrderId(i,{accounts:{authority:t,cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:r,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:n,market:s.address,bids:s.serumMarket.decoded.bids,asks:s.serumMarket.decoded.asks,eventQueue:s.serumMarket.decoded.eventQueue}}})},t.cancelOrderByClientOrderIdNoErrorIx=function(e,t,r,n,i){let s=o.exchange.markets.markets[e];return o.exchange.program.instruction.cancelOrderByClientOrderIdNoError(i,{accounts:{authority:t,cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:r,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:n,market:s.address,bids:s.serumMarket.decoded.bids,asks:s.serumMarket.decoded.asks,eventQueue:s.serumMarket.decoded.eventQueue}}})},t.cancelExpiredOrderIx=function(e,t,r,n,i){let s=o.exchange.markets.markets[e];return o.exchange.program.instruction.cancelExpiredOrder((0,l.toProgramSide)(i),n,{accounts:{cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:t,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:r,market:s.address,bids:s.serumMarket.decoded.bids,asks:s.serumMarket.decoded.asks,eventQueue:s.serumMarket.decoded.eventQueue}}})},t.forceCancelOrdersIx=function(e,t,r){let n=o.exchange.markets.markets[e];return o.exchange.program.instruction.forceCancelOrders({accounts:{greeks:o.exchange.zetaGroup.greeks,oracle:o.exchange.zetaGroup.oracle,cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:t,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:r,market:n.address,bids:n.serumMarket.decoded.bids,asks:n.serumMarket.decoded.asks,eventQueue:n.serumMarket.decoded.eventQueue}}})},t.initializeZetaMarketTxs=async function(e,t,r,n,i,s,d){const[l,f]=await c.getMarketUninitialized(o.exchange.programId,o.exchange.zetaGroupAddress,t),[p,g]=await c.getSerumVaultOwnerAndNonce(l,h.DEX_PID[o.exchange.network]),[m,y]=await c.getBaseMint(o.exchange.program.programId,l),[b,w]=await c.getQuoteMint(o.exchange.program.programId,l),[k,A]=await c.getZetaVault(o.exchange.program.programId,m),[S,I]=await c.getZetaVault(o.exchange.program.programId,b),[_,v]=await c.getSerumVault(o.exchange.program.programId,m),[E,x]=await c.getSerumVault(o.exchange.program.programId,b),T=new a.Transaction;return T.add(a.SystemProgram.createAccount({fromPubkey:o.exchange.provider.wallet.publicKey,newAccountPubkey:r,lamports:await o.exchange.provider.connection.getMinimumBalanceForRentExemption(5132),space:5132,programId:h.DEX_PID[o.exchange.network]}),a.SystemProgram.createAccount({fromPubkey:o.exchange.provider.wallet.publicKey,newAccountPubkey:n,lamports:await o.exchange.provider.connection.getMinimumBalanceForRentExemption(262156),space:262156,programId:h.DEX_PID[o.exchange.network]}),a.SystemProgram.createAccount({fromPubkey:o.exchange.provider.wallet.publicKey,newAccountPubkey:i,lamports:await o.exchange.provider.connection.getMinimumBalanceForRentExemption(65548),space:65548,programId:h.DEX_PID[o.exchange.network]}),a.SystemProgram.createAccount({fromPubkey:o.exchange.provider.wallet.publicKey,newAccountPubkey:s,lamports:await o.exchange.provider.connection.getMinimumBalanceForRentExemption(65548),space:65548,programId:h.DEX_PID[o.exchange.network]})),[T,(new a.Transaction).add(o.exchange.program.instruction.initializeZetaMarket({index:e,marketNonce:f,baseMintNonce:y,quoteMintNonce:w,zetaBaseVaultNonce:A,zetaQuoteVaultNonce:I,dexBaseVaultNonce:v,dexQuoteVaultNonce:x,vaultSignerNonce:g},{accounts:{state:o.exchange.stateAddress,marketIndexes:d,zetaGroup:o.exchange.zetaGroupAddress,admin:o.exchange.provider.wallet.publicKey,market:l,requestQueue:r,eventQueue:n,bids:i,asks:s,baseMint:m,quoteMint:b,zetaBaseVault:k,zetaQuoteVault:S,dexBaseVault:_,dexQuoteVault:E,vaultOwner:p,mintAuthority:o.exchange.mintAuthority,serumAuthority:o.exchange.serumAuthority,dexProgram:h.DEX_PID[o.exchange.network],systemProgram:a.SystemProgram.programId,tokenProgram:u.TOKEN_PROGRAM_ID,rent:a.SYSVAR_RENT_PUBKEY}}))]},t.initializeZetaGroupIx=async function(e,t,r,n){let[i,s]=await c.getZetaGroup(o.exchange.programId,e),[d,l]=await c.getUnderlying(o.exchange.programId,o.exchange.state.numUnderlyings),[h,f]=await c.getGreeks(o.exchange.programId,o.exchange.zetaGroupAddress),[p,g]=await c.getVault(o.exchange.programId,o.exchange.zetaGroupAddress),[m,y]=await c.getZetaInsuranceVault(o.exchange.programId,o.exchange.zetaGroupAddress),[b,w]=await c.getSocializedLossAccount(o.exchange.programId,o.exchange.zetaGroupAddress);return o.exchange.program.instruction.initializeZetaGroup({zetaGroupNonce:s,underlyingNonce:l,greeksNonce:f,vaultNonce:g,insuranceVaultNonce:y,socializedLossAccountNonce:w,interestRate:r.interestRate,volatility:r.volatility,optionTradeNormalizer:r.optionTradeNormalizer,futureTradeNormalizer:r.futureTradeNormalizer,maxVolatilityRetreat:r.maxVolatilityRetreat,maxInterestRetreat:r.maxInterestRetreat,maxDelta:r.maxDelta,minDelta:r.minDelta,minInterestRate:r.minInterestRate,maxInterestRate:r.maxInterestRate,minVolatility:r.minVolatility,maxVolatility:r.maxVolatility,futureMarginInitial:n.futureMarginInitial,futureMarginMaintenance:n.futureMarginMaintenance,optionMarkPercentageLongInitial:n.optionMarkPercentageLongInitial,optionSpotPercentageLongInitial:n.optionSpotPercentageLongInitial,optionSpotPercentageShortInitial:n.optionSpotPercentageShortInitial,optionDynamicPercentageShortInitial:n.optionDynamicPercentageShortInitial,optionMarkPercentageLongMaintenance:n.optionMarkPercentageLongMaintenance,optionSpotPercentageLongMaintenance:n.optionSpotPercentageLongMaintenance,optionSpotPercentageShortMaintenance:n.optionSpotPercentageShortMaintenance,optionDynamicPercentageShortMaintenance:n.optionDynamicPercentageShortMaintenance,optionShortPutCapPercentage:n.optionShortPutCapPercentage},{accounts:{state:o.exchange.stateAddress,admin:o.exchange.provider.wallet.publicKey,systemProgram:a.SystemProgram.programId,underlyingMint:e,zetaProgram:o.exchange.programId,oracle:t,zetaGroup:i,greeks:h,underlying:d,vault:p,insuranceVault:m,socializedLossAccount:b,tokenProgram:u.TOKEN_PROGRAM_ID,usdcMint:o.exchange.usdcMintAddress,rent:a.SYSVAR_RENT_PUBKEY}})},t.rebalanceInsuranceVaultIx=function(e){return o.exchange.program.instruction.rebalanceInsuranceVault({accounts:{zetaGroup:o.exchange.zetaGroupAddress,zetaVault:o.exchange.vaultAddress,insuranceVault:o.exchange.insuranceVaultAddress,socializedLossAccount:o.exchange.socializedLossAccountAddress,tokenProgram:u.TOKEN_PROGRAM_ID},remainingAccounts:e})},t.liquidateIx=function(e,t,r,n,i){let s=new d.BN(i);return o.exchange.program.instruction.liquidate(s,{accounts:{state:o.exchange.stateAddress,liquidator:e,liquidatorMarginAccount:t,greeks:o.exchange.zetaGroup.greeks,oracle:o.exchange.zetaGroup.oracle,market:r,zetaGroup:o.exchange.zetaGroupAddress,liquidatedMarginAccount:n}})},t.crankMarketIx=function(e,t,r,n){return o.exchange.program.instruction.crankEventQueue({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,market:e,eventQueue:t,dexProgram:r,serumAuthority:o.exchange.serumAuthority},remainingAccounts:n})},t.initializeMarketNodeIx=async function(e){let[t,r]=await c.getMarketNode(o.exchange.programId,o.exchange.zetaGroupAddress,e);return o.exchange.program.instruction.initializeMarketNode({nonce:r,index:e},{accounts:{zetaGroup:o.exchange.zetaGroupAddress,marketNode:t,greeks:o.exchange.greeksAddress,payer:o.exchange.provider.wallet.publicKey,systemProgram:a.SystemProgram.programId}})},t.retreatMarketNodesIx=function(e){let t=e*h.PRODUCTS_PER_EXPIRY,r=o.exchange.greeks.nodeKeys.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))).slice(t,t+h.PRODUCTS_PER_EXPIRY);return o.exchange.program.instruction.retreatMarketNodes(e,{accounts:{zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress,oracle:o.exchange.zetaGroup.oracle},remainingAccounts:r})},t.updatePricingIx=function(e){return o.exchange.program.instruction.updatePricing(e,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress,oracle:o.exchange.zetaGroup.oracle}})},t.updatePricingParametersIx=function(e,t){return o.exchange.program.instruction.updatePricingParameters(e,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,admin:t}})},t.updateMarginParametersIx=function(e,t){return o.exchange.program.instruction.updateMarginParameters(e,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,admin:t}})},t.updateVolatilityNodesIx=function(e,t){return o.exchange.program.instruction.updateVolatilityNodes(e,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress,admin:t}})},t.initializeZetaStateIx=function(e,t,r,n,i,s,c){let d=c;return d.stateNonce=t,d.serumNonce=n,d.mintAuthNonce=s,o.exchange.program.instruction.initializeZetaState(d,{accounts:{state:e,serumAuthority:r,mintAuthority:i,rent:a.SYSVAR_RENT_PUBKEY,systemProgram:a.SystemProgram.programId,tokenProgram:u.TOKEN_PROGRAM_ID,admin:o.exchange.provider.wallet.publicKey}})},t.updateZetaStateIx=function(e,t){return o.exchange.program.instruction.updateZetaState(e,{accounts:{state:o.exchange.stateAddress,admin:t}})},t.initializeMarketIndexesIx=function(e,t){return o.exchange.program.instruction.initializeMarketIndexes(t,{accounts:{state:o.exchange.stateAddress,marketIndexes:e,admin:o.exchange.provider.wallet.publicKey,systemProgram:a.SystemProgram.programId,zetaGroup:o.exchange.zetaGroupAddress}})},t.addMarketIndexesIx=function(e){return o.exchange.program.instruction.addMarketIndexes({accounts:{marketIndexes:e,zetaGroup:o.exchange.zetaGroupAddress}})},t.initializeMarketStrikesIx=function(){return o.exchange.program.instruction.initializeMarketStrikes({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,oracle:o.exchange.zetaGroup.oracle}})},t.initializeWhitelistDepositAccountIx=async function(e,t){let[r,n]=await c.getUserWhitelistDepositAccount(o.exchange.program.programId,e);return o.exchange.program.instruction.initializeWhitelistDepositAccount(n,{accounts:{whitelistDepositAccount:r,admin:t,user:e,systemProgram:a.SystemProgram.programId,state:o.exchange.stateAddress}})},t.initializeWhitelistInsuranceAccountIx=async function(e,t){let[r,n]=await c.getUserWhitelistInsuranceAccount(o.exchange.program.programId,e);return o.exchange.program.instruction.initializeWhitelistInsuranceAccount(n,{accounts:{whitelistInsuranceAccount:r,admin:t,user:e,systemProgram:a.SystemProgram.programId,state:o.exchange.stateAddress}})},t.initializeWhitelistTradingFeesAccountIx=async function(e,t){let[r,n]=await c.getUserWhitelistTradingFeesAccount(o.exchange.program.programId,e);return o.exchange.program.instruction.initializeWhitelistTradingFeesAccount(n,{accounts:{whitelistTradingFeesAccount:r,admin:t,user:e,systemProgram:a.SystemProgram.programId,state:o.exchange.stateAddress}})},t.referUserIx=async function(e,t){let[r,n]=await c.getReferrerAccountAddress(o.exchange.program.programId,t),[i,s]=await c.getReferralAccountAddress(o.exchange.program.programId,e);return o.exchange.program.instruction.referUser({accounts:{user:e,referrerAccount:r,referralAccount:i,systemProgram:a.SystemProgram.programId}})},t.initializeReferrerAccountIx=async function(e,t){let[r,n]=await c.getReferrerAccountAddress(o.exchange.program.programId,e);return o.exchange.program.instruction.initializeReferrerAccount({accounts:{state:o.exchange.stateAddress,admin:t,referrer:e,referrerAccount:r,systemProgram:a.SystemProgram.programId}})},t.settlePositionsTxs=function(e,t,r,n){let i=[];for(var s=0;s<n.length;s+=h.MAX_SETTLEMENT_ACCOUNTS){let o=new a.Transaction,u=n.slice(s,s+h.MAX_SETTLEMENT_ACCOUNTS);o.add(f(e,t,r,u)),i.push(o)}return i},t.settlePositionsIx=f,t.settleSpreadPositionsIx=function(e,t,r,n){return o.exchange.program.instruction.settleSpreadPositions(e,r,{accounts:{zetaGroup:o.exchange.zetaGroupAddress,settlementAccount:t},remainingAccounts:n})},t.settleSpreadPositionsHaltedTxs=function(e,t){let r=[];for(var n=0;n<e.length;n+=h.MAX_SETTLEMENT_ACCOUNTS){let i=e.slice(n,n+h.MAX_SETTLEMENT_ACCOUNTS);r.push((new a.Transaction).add(g(i,t)))}return r},t.settlePositionsHaltedTxs=function(e,t){let r=[];for(var n=0;n<e.length;n+=h.MAX_SETTLEMENT_ACCOUNTS){let i=e.slice(n,n+h.MAX_SETTLEMENT_ACCOUNTS);r.push((new a.Transaction).add(p(i,t)))}return r},t.settlePositionsHaltedIx=p,t.settleSpreadPositionsHaltedIx=g,t.cleanZetaMarketsIx=function(e){return o.exchange.program.instruction.cleanZetaMarkets({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress},remainingAccounts:e})},t.cleanZetaMarketsHaltedIx=function(e){return o.exchange.program.instruction.cleanZetaMarketsHalted({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress},remainingAccounts:e})},t.updatePricingHaltedIx=function(e,t){return o.exchange.program.instruction.updatePricingHalted(e,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress,admin:t}})},t.cleanMarketNodesIx=function(e){let t=e*h.PRODUCTS_PER_EXPIRY,r=o.exchange.greeks.nodeKeys.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))).slice(t,t+h.PRODUCTS_PER_EXPIRY);return o.exchange.program.instruction.cleanMarketNodes(e,{accounts:{zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress},remainingAccounts:r})},t.cancelOrderHaltedIx=function(e,t,r,n,i){let s=o.exchange.markets.markets[e];return o.exchange.program.instruction.cancelOrderHalted((0,l.toProgramSide)(i),n,{accounts:{cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:t,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:r,market:s.address,bids:s.serumMarket.decoded.bids,asks:s.serumMarket.decoded.asks,eventQueue:s.serumMarket.decoded.eventQueue}}})},t.haltZetaGroupIx=function(e,t){return o.exchange.program.instruction.haltZetaGroup({accounts:{state:o.exchange.stateAddress,zetaGroup:e,greeks:o.exchange.greeksAddress,admin:t}})},t.unhaltZetaGroupIx=function(e,t){return o.exchange.program.instruction.unhaltZetaGroup({accounts:{state:o.exchange.stateAddress,zetaGroup:e,admin:t}})},t.updateHaltStateIx=function(e,t,r){return o.exchange.program.instruction.updateHaltState(t,{accounts:{state:o.exchange.stateAddress,zetaGroup:e,admin:r}})},t.updateVolatilityIx=function(e,t){return o.exchange.program.instruction.updateVolatility(e,{accounts:{state:o.exchange.stateAddress,greeks:o.exchange.greeksAddress,zetaGroup:o.exchange.zetaGroupAddress,admin:t}})},t.updateInterestRateIx=function(e,t){return o.exchange.program.instruction.updateInterestRate(e,{accounts:{state:o.exchange.stateAddress,greeks:o.exchange.greeksAddress,zetaGroup:o.exchange.zetaGroupAddress,admin:t}})},t.updateAdminIx=function(e,t){return o.exchange.program.instruction.updateAdmin({accounts:{state:o.exchange.stateAddress,admin:e,newAdmin:t}})},t.expireSeriesOverrideIx=function(e,t,r){return o.exchange.program.instruction.expireSeriesOverride(r,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,settlementAccount:t,admin:e,systemProgram:a.SystemProgram.programId,greeks:o.exchange.greeksAddress}})},t.initializeSpreadAccountIx=function(e,t,r){return o.exchange.program.instruction.initializeSpreadAccount({accounts:{zetaGroup:e,spreadAccount:t,authority:r,payer:r,zetaProgram:o.exchange.programId,systemProgram:a.SystemProgram.programId}})},t.closeSpreadAccountIx=function(e,t,r){return o.exchange.program.instruction.closeSpreadAccount({accounts:{zetaGroup:e,spreadAccount:t,authority:r}})},t.positionMovementIx=function(e,t,r,n,i,s,a,u){return o.exchange.program.instruction.positionMovement((0,l.toProgramMovementType)(a),u,{accounts:{state:o.exchange.stateAddress,zetaGroup:e,marginAccount:t,spreadAccount:r,authority:n,greeks:i,oracle:s}})},t.transferExcessSpreadBalanceIx=function(e,t,r,n){return o.exchange.program.instruction.transferExcessSpreadBalance({accounts:{zetaGroup:e,marginAccount:t,spreadAccount:r,authority:n}})},t.settleDexFundsTxs=function(e,t,r){let n=o.exchange.markets.getMarket(e),i={state:o.exchange.stateAddress,market:n.address,zetaBaseVault:n.baseVault,zetaQuoteVault:n.quoteVault,dexBaseVault:n.serumMarket.decoded.baseVault,dexQuoteVault:n.serumMarket.decoded.quoteVault,vaultOwner:t,mintAuthority:o.exchange.mintAuthority,serumAuthority:o.exchange.serumAuthority,dexProgram:h.DEX_PID[o.exchange.network],tokenProgram:u.TOKEN_PROGRAM_ID},s=[];for(var c=0;c<r.length;c+=h.MAX_SETTLE_ACCOUNTS){let e=new a.Transaction,t=r.slice(c,c+h.MAX_SETTLE_ACCOUNTS);e.add(o.exchange.program.instruction.settleDexFunds({accounts:i,remainingAccounts:t})),s.push(e)}return s},t.settleDexFundsIx=function(e,t,r){let n=o.exchange.markets.getMarket(e),i={state:o.exchange.stateAddress,market:n.address,zetaBaseVault:n.baseVault,zetaQuoteVault:n.quoteVault,dexBaseVault:n.serumMarket.decoded.baseVault,dexQuoteVault:n.serumMarket.decoded.quoteVault,vaultOwner:t,mintAuthority:o.exchange.mintAuthority,serumAuthority:o.exchange.serumAuthority,dexProgram:h.DEX_PID[o.exchange.network],tokenProgram:u.TOKEN_PROGRAM_ID},s=[{pubkey:r,isSigner:!1,isWritable:!0}];return o.exchange.program.instruction.settleDexFunds({accounts:i,remainingAccounts:s})},t.burnVaultTokenTx=function(e){let t=o.exchange.markets.getMarket(e),r=new a.Transaction;return r.add(o.exchange.program.instruction.burnVaultTokens({accounts:{state:o.exchange.stateAddress,mint:t.serumMarket.decoded.quoteMint,vault:t.quoteVault,serumAuthority:o.exchange.serumAuthority,tokenProgram:u.TOKEN_PROGRAM_ID}})),r.add(o.exchange.program.instruction.burnVaultTokens({accounts:{state:o.exchange.stateAddress,mint:t.serumMarket.decoded.baseMint,vault:t.baseVault,serumAuthority:o.exchange.serumAuthority,tokenProgram:u.TOKEN_PROGRAM_ID}})),r},t.toggleMarketMakerIx=async function(e,t,r){let[n,i]=await c.getMarginAccount(o.exchange.programId,t,r);return o.exchange.program.instruction.toggleMarketMaker(e,{accounts:{state:o.exchange.stateAddress,admin:o.exchange.state.admin,marginAccount:n}})}},8014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},11652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateLongOptionMargin=t.calculateShortOptionMargin=t.calculateOptionMargin=t.calculateFutureMargin=t.calculateProductMargin=t.calculateOtmAmount=t.calculateLiquidationPrice=t.RiskCalculator=void 0;const n=r(75330),i=r(77762),s=r(57937),o=r(46417);function a(e,t,r){switch(e){case i.Kind.CALL:return Math.max(0,t-r);case i.Kind.PUT:return Math.max(0,r-t);default:throw Error("Unsupported kind for OTM amount.")}}function u(e,t){let r=n.exchange.markets.markets[e];if(null==r.strike)return null;let s=r.kind,a=r.strike,u=(0,o.convertNativeBNToDecimal)(n.exchange.greeks.markPrices[e]);switch(s){case i.Kind.FUTURE:return c(t);case i.Kind.CALL:case i.Kind.PUT:return d(t,u,s,a)}}function c(e){let t=e*n.exchange.marginParams.futureMarginInitial,r=e*n.exchange.marginParams.futureMarginMaintenance;return{initialLong:t,initialShort:t,maintenanceLong:r,maintenanceShort:r}}function d(e,t,r,s){let o=a(r,s,e),u=h(e,t,i.MarginType.INITIAL),c=l(e,o,i.MarginType.INITIAL),d=h(e,t,i.MarginType.MAINTENANCE),f=l(e,o,i.MarginType.MAINTENANCE);return{initialLong:u,initialShort:r==i.Kind.PUT?Math.min(c,n.exchange.marginParams.optionShortPutCapPercentage*s):c,maintenanceLong:d,maintenanceShort:r==i.Kind.PUT?Math.min(f,n.exchange.marginParams.optionShortPutCapPercentage*s):f}}function l(e,t,r){let s=e*((r==i.MarginType.INITIAL?n.exchange.marginParams.optionDynamicPercentageShortInitial:n.exchange.marginParams.optionDynamicPercentageShortMaintenance)-t/e),o=e*(r==i.MarginType.INITIAL?n.exchange.marginParams.optionSpotPercentageShortInitial:n.exchange.marginParams.optionSpotPercentageShortMaintenance);return Math.max(s,o)}function h(e,t,r){let s=r==i.MarginType.INITIAL?n.exchange.marginParams.optionMarkPercentageLongInitial:n.exchange.marginParams.optionMarkPercentageLongMaintenance,o=r==i.MarginType.INITIAL?n.exchange.marginParams.optionSpotPercentageLongInitial:n.exchange.marginParams.optionSpotPercentageLongMaintenance;return Math.min(t*s,e*o)}t.RiskCalculator=class{constructor(){this._marginRequirements=new Array(s.ACTIVE_MARKETS)}get marginRequirement(){return this._marginRequirements}updateMarginRequirements(){if(void 0===n.exchange.greeks||void 0===n.exchange.oracle)return;let e=n.exchange.oracle.getPrice("SOL/USD"),t=null===e?0:e.price;for(var r=0;r<this._marginRequirements.length;r++)this._marginRequirements[r]=u(r,t)}getMarginRequirement(e,t,r){return null===this._marginRequirements[e]?0:t>0?r==i.MarginType.INITIAL?t*this._marginRequirements[e].initialLong:t*this._marginRequirements[e].maintenanceLong:r==i.MarginType.INITIAL?Math.abs(t)*this._marginRequirements[e].initialShort:Math.abs(t)*this._marginRequirements[e].maintenanceShort}calculateOpeningSize(e,t,r){if(e>0&&t>0||e<0&&t<0)return e;let n=Math.min(Math.abs(e),Math.abs(t)-r);return(e>=0?1:-1)*(Math.abs(e)-n)}calculateUnrealizedPnl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.ProgramAccountType.MarginAccount,r=0;for(var a=0;a<s.ACTIVE_MARKETS;a++){const s=t==i.ProgramAccountType.MarginAccount?e.productLedgers[a].position:e.positions[a],u=s.size.toNumber();0!=u&&(r+=u>0?(0,o.convertNativeLotSizeToDecimal)(u)*(0,o.convertNativeBNToDecimal)(n.exchange.greeks.markPrices[a])-(0,o.convertNativeBNToDecimal)(s.costOfTrades):(0,o.convertNativeLotSizeToDecimal)(u)*(0,o.convertNativeBNToDecimal)(n.exchange.greeks.markPrices[a])+(0,o.convertNativeBNToDecimal)(s.costOfTrades))}return r}calculateTotalInitialMargin(e){let t=(0,i.isMarketMaker)(e),r=0;for(var s=0;s<e.productLedgers.length;s++){let a=e.productLedgers[s],u=a.position.size.toNumber(),c=a.orderState.openingOrders[0].toNumber(),d=a.orderState.openingOrders[1].toNumber();if(0==c&&0==d&&0==u)continue;let l=(0,o.convertNativeLotSizeToDecimal)(c),h=(0,o.convertNativeLotSizeToDecimal)(d);t||(u>0?l+=Math.abs((0,o.convertNativeLotSizeToDecimal)(u)):u<0&&(h+=Math.abs((0,o.convertNativeLotSizeToDecimal)(u))));let f=this.getMarginRequirement(s,l,i.MarginType.INITIAL)+this.getMarginRequirement(s,-h,i.MarginType.INITIAL);t&&(f*=n.exchange.state.marginConcessionPercentage/100,f+=this.getMarginRequirement(s,(0,o.convertNativeLotSizeToDecimal)(u),i.MarginType.MAINTENANCE)),void 0!==f&&(r+=f)}return r}calculateTotalMaintenanceMargin(e){let t=0;for(var r=0;r<e.productLedgers.length;r++){let n=e.productLedgers[r].position.size.toNumber();if(0==n)continue;let s=this.getMarginRequirement(r,(0,o.convertNativeLotSizeToDecimal)(n),i.MarginType.MAINTENANCE);void 0!==s&&(t+=s)}return t}calculateTotalMaintenanceMarginIncludingOrders(e){let t=0;for(var r=0;r<e.productLedgers.length;r++){let n=e.productLedgers[r],s=n.position.size.toNumber(),a=n.orderState.openingOrders[0].toNumber(),u=n.orderState.openingOrders[1].toNumber();if(0==a&&0==u&&0==s)continue;let c=(0,o.convertNativeLotSizeToDecimal)(a),d=(0,o.convertNativeLotSizeToDecimal)(u);s>0?c+=Math.abs((0,o.convertNativeLotSizeToDecimal)(s)):s<0&&(d+=Math.abs((0,o.convertNativeLotSizeToDecimal)(s)));let l=this.getMarginRequirement(r,c,i.MarginType.MAINTENANCE)+this.getMarginRequirement(r,-d,i.MarginType.MAINTENANCE);void 0!==l&&(t+=l)}return t}getMarginAccountState(e){let t=(0,o.convertNativeBNToDecimal)(e.balance),r=this.calculateUnrealizedPnl(e),n=this.calculateTotalInitialMargin(e),i=this.calculateTotalMaintenanceMargin(e);return{balance:t,initialMargin:n,maintenanceMargin:i,unrealizedPnl:r,availableBalanceInitial:t+r-n,availableBalanceMaintenance:t+r-i}}},t.calculateLiquidationPrice=function(e,t,r,n,i){return 0==i?0:n-(e-t+r)/i},t.calculateOtmAmount=a,t.calculateProductMargin=u,t.calculateFutureMargin=c,t.calculateOptionMargin=d,t.calculateShortOptionMargin=l,t.calculateLongOptionMargin=h},19187:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeProgramAccounts=void 0;const o=r(75330),a=s(r(27906)),u=s(r(68532));t.subscribeProgramAccounts=function(e,t){const r=a.BorshAccountsCoder.accountDiscriminator(e),n=o.exchange.connection.onProgramAccountChange(o.exchange.programId,(async(r,n)=>{let i=o.exchange.program.account.marginAccount.coder.accounts.decode(e,r.accountInfo.data);t({key:r.accountId,account:i,context:n})}),"confirmed",[{memcmp:{offset:0,bytes:u.encode(r)}}]);o.exchange.addProgramSubscriptionId(n)}},77762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMarketMaker=t.fromProgramMarginAccountType=t.MarginAccountType=t.toProgramMovementType=t.MovementType=t.ProgramAccountType=t.MarginType=t.positionEquals=t.orderEquals=t.toProductKind=t.Kind=t.fromProgramSide=t.toProgramSide=t.Side=t.toProgramOrderType=t.OrderType=t.DummyWallet=void 0;const n=r(46417);var i,s,o,a,u;function c(e){if((0,n.objectEquals)(e,{normal:{}}))return u.NORMAL;if((0,n.objectEquals)(e,{marketMaker:{}}))return u.MARKET_MAKER;throw Error("Invalid margin account type")}t.DummyWallet=class{constructor(){}async signTransaction(e){throw Error("Not supported by dummy wallet!")}async signAllTransactions(e){throw Error("Not supported by dummy wallet!")}get publicKey(){throw Error("Not supported by dummy wallet!")}},function(e){e[e.LIMIT=0]="LIMIT",e[e.POSTONLY=1]="POSTONLY",e[e.FILLORKILL=2]="FILLORKILL"}(i=t.OrderType||(t.OrderType={})),t.toProgramOrderType=function(e){return e==i.LIMIT?{limit:{}}:e==i.POSTONLY?{postOnly:{}}:e==i.FILLORKILL?{fillOrKill:{}}:void 0},function(e){e[e.BID=0]="BID",e[e.ASK=1]="ASK"}(s=t.Side||(t.Side={})),t.toProgramSide=function(e){if(e==s.BID)return{bid:{}};if(e==s.ASK)return{ask:{}};throw Error("Invalid side")},t.fromProgramSide=function(e){if((0,n.objectEquals)(e,{bid:{}}))return s.BID;if((0,n.objectEquals)(e,{ask:{}}))return s.ASK;throw Error("Invalid program side!")},function(e){e.UNINITIALIZED="uninitialized",e.CALL="call",e.PUT="put",e.FUTURE="future"}(o=t.Kind||(t.Kind={})),t.toProductKind=function(e){if(Object.keys(e).includes(o.CALL))return o.CALL;if(Object.keys(e).includes(o.PUT))return o.PUT;if(Object.keys(e).includes(o.FUTURE))return o.FUTURE;throw Error("Invalid product type")},t.orderEquals=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!0;return r&&(n=e.orderId.eq(t.orderId)),e.marketIndex===t.marketIndex&&e.market.equals(t.market)&&e.price===t.price&&e.size===t.size&&e.side===t.side&&n},t.positionEquals=function(e,t){return e.marketIndex===t.marketIndex&&e.market.equals(t.market)&&e.size===t.size&&e.costOfTrades===t.costOfTrades},function(e){e.INITIAL="initial",e.MAINTENANCE="maintenance"}(t.MarginType||(t.MarginType={})),function(e){e.MarginAccount="MarginAccount",e.SpreadAccount="SpreadAccount"}(t.ProgramAccountType||(t.ProgramAccountType={})),function(e){e[e.LOCK=1]="LOCK",e[e.UNLOCK=2]="UNLOCK"}(a=t.MovementType||(t.MovementType={})),t.toProgramMovementType=function(e){if(e==a.LOCK)return{lock:{}};if(e==a.UNLOCK)return{unlock:{}};throw Error("Invalid side")},function(e){e[e.NORMAL=0]="NORMAL",e[e.MARKET_MAKER=1]="MARKET_MAKER"}(u=t.MarginAccountType||(t.MarginAccountType={})),t.fromProgramMarginAccountType=c,t.isMarketMaker=function(e){return c(e.accountType)==u.MARKET_MAKER}},46417:function(e,t,r){"use strict";var n=r(69314).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getOrderedMarketIndexes=t.sleep=t.splitIxsIntoTx=t.getPriceFromSerumOrderKey=t.getClockData=t.parseError=t.processTransaction=t.simulateTransaction=t.commitmentConfig=t.defaultCommitment=t.getAssociatedTokenAddress=t.getTokenAccountInfo=t.getTokenMint=t.convertDecimalToNativeLotSize=t.convertNativeLotSizeToDecimal=t.convertNativeBNToDecimal=t.convertNativeIntegerToDecimal=t.getTradeEventPrice=t.convertDecimalToNativeInteger=t.sortMarketKeys=t.sortOpenOrderKeys=t.getSerumVaultOwnerAndNonce=t.getReferralAccountAddress=t.getReferrerAccountAddress=t.getSocializedLossAccount=t.getMarketUninitialized=t.getSpreadAccount=t.getMarginAccount=t.getQuoteMint=t.getBaseMint=t.getMarketIndexes=t.getGreeks=t.getUnderlying=t.getZetaGroup=t.getUserWhitelistTradingFeesAccount=t.getUserWhitelistInsuranceAccount=t.getUserWhitelistDepositAccount=t.getUserInsuranceDepositAccount=t.getZetaInsuranceVault=t.getZetaVault=t.getSerumVault=t.getVault=t.getMintAuthority=t.getSerumAuthority=t.getOpenOrdersMap=t.createOpenOrdersAddress=t.getOpenOrders=t.getSettlement=t.getMarketNode=t.getState=void 0,t.objectEquals=t.calculateMovementFees=t.cancelExpiredOrdersAndCleanMarkets=t.burnVaultTokens=t.settleAndBurnVaultTokens=t.settleAndBurnVaultTokensByMarket=t.getAllOpenOrdersAccountsByMarket=t.getAllProgramAccountAddresses=t.writeKeypair=t.getCancelAllIxs=t.getMutMarketAccounts=t.getMostRecentExpiredIndex=t.expireSeries=t.crankMarket=t.settleUsers=t.cleanZetaMarketsHalted=t.cleanZetaMarkets=t.getNextStrikeInitialisationTs=t.getMarginFromOpenOrders=t.displayState=t.getGreeksIndex=t.getDirtySeriesIndices=void 0;const u=o(r(27906)),c=r(27842),d=r(66563),l=a(r(12324)),h=u.BN,f=o(r(68532)),p=o(r(15590)),g=o(r(57937)),m=r(27094),y=r(75330),b=r(77762),w=r(79158),k=r(28793),A=r(19798);async function S(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("settlement")),t.toBuffer(),r.toArrayLike(n,"le",8)],e)}async function I(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("open-orders")),g.DEX_PID[y.exchange.network].toBuffer(),t.toBuffer(),r.toBuffer()],e)}async function _(e,t){return await u.web3.PublicKey.findProgramAddress([t.toBuffer()],e)}async function v(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("margin")),t.toBuffer(),r.toBuffer()],e)}async function E(e,t){const r=new h(0);for(;r.toNumber()<255;)try{return[await c.PublicKey.createProgramAddress([e.toBuffer(),r.toArrayLike(n,"le",8)],t),r]}catch(i){r.iaddn(1)}throw new Error("Unable to find nonce")}function x(e){return e.sort(((e,t)=>e.toBuffer().swap64().compare(t.toBuffer().swap64())))}function T(e){return parseInt((e*Math.pow(10,g.PLATFORM_PRECISION)).toFixed(0))}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.PLATFORM_PRECISION,r=new u.BN(Math.pow(10,t));return e.div(r).toNumber()+e.mod(r).toNumber()/r.toNumber()}function R(e){return e/Math.pow(10,g.POSITION_PRECISION)}async function B(e,t){let r=await e.getAccountInfo(t);if(null===r)throw Error(`Token account ${t.toString()} doesn't exist.`);if(r.data.length!=d.AccountLayout.span)throw new Error("Invalid account size");const i=n.from(r.data),s=d.AccountLayout.decode(i);return s.address=t,s.mint=new c.PublicKey(s.mint),s.owner=new c.PublicKey(s.owner),s.amount=d.u64.fromBuffer(s.amount),0===s.delegateOption?(s.delegate=null,s.delegatedAmount=new d.u64(0)):(s.delegate=new c.PublicKey(s.delegate),s.delegatedAmount=d.u64.fromBuffer(s.delegatedAmount)),s.isInitialized=0!==s.state,s.isFrozen=2===s.state,1===s.isNativeOption?(s.rentExemptReserve=d.u64.fromBuffer(s.isNative),s.isNative=!0):(s.rentExemptReserve=null,s.isNative=!1),0===s.closeAuthorityOption?s.closeAuthority=null:s.closeAuthority=new c.PublicKey(s.closeAuthority),s}function O(e){return{skipPreflight:!1,preflightCommitment:e,commitment:e}}async function M(e,t,r,n){const i=await e.connection.getRecentBlockhash();t.recentBlockhash=i.blockhash,t.feePayer=e.wallet.publicKey,t=await e.wallet.signTransaction(t),void 0===r&&(r=[]),r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)}));try{return await(0,c.sendAndConfirmRawTransaction)(e.connection,t.serialize(),n||O(e.connection.commitment))}catch(s){throw U(s)}}function U(e){const t=u.AnchorError.parse(e.logs);if(t)return m.NativeAnchorError.parse(t);const r=u.ProgramError.parse(e,m.idlErrors);if(r)return r;let n=(0,m.parseCustomError)(e);if(null!=n)return n;let i=m.NativeError.parse(e);if(null!=i)return i;if(e.simulationResponse){let t=u.AnchorError.parse(e.simulationResponse.logs);if(t)return m.NativeAnchorError.parse(t)}return e}t.getState=async function(e){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("state"))],e)},t.getMarketNode=async function(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("market-node")),t.toBuffer(),n.from([r])],e)},t.getSettlement=S,t.getOpenOrders=I,t.createOpenOrdersAddress=async function(e,t,r,i){return await c.PublicKey.createProgramAddress([n.from(u.utils.bytes.utf8.encode("open-orders")),g.DEX_PID[y.exchange.network].toBuffer(),t.toBuffer(),r.toBuffer(),n.from([i])],e)},t.getOpenOrdersMap=_,t.getSerumAuthority=async function(e){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("serum"))],e)},t.getMintAuthority=async function(e){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("mint-auth"))],e)},t.getVault=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("vault")),t.toBuffer()],e)},t.getSerumVault=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("serum-vault")),t.toBuffer()],e)},t.getZetaVault=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("zeta-vault")),t.toBuffer()],e)},t.getZetaInsuranceVault=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("zeta-insurance-vault")),t.toBuffer()],e)},t.getUserInsuranceDepositAccount=async function(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("user-insurance-deposit")),t.toBuffer(),r.toBuffer()],e)},t.getUserWhitelistDepositAccount=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("whitelist-deposit")),t.toBuffer()],e)},t.getUserWhitelistInsuranceAccount=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("whitelist-insurance")),t.toBuffer()],e)},t.getUserWhitelistTradingFeesAccount=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("whitelist-trading-fees")),t.toBuffer()],e)},t.getZetaGroup=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("zeta-group")),t.toBuffer()],e)},t.getUnderlying=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("underlying")),n.from([t])],e)},t.getGreeks=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("greeks")),t.toBuffer()],e)},t.getMarketIndexes=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("market-indexes")),t.toBuffer()],e)},t.getBaseMint=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("base-mint")),t.toBuffer()],e)},t.getQuoteMint=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("quote-mint")),t.toBuffer()],e)},t.getMarginAccount=v,t.getSpreadAccount=async function(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("spread")),t.toBuffer(),r.toBuffer()],e)},t.getMarketUninitialized=async function(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("market")),t.toBuffer(),n.from([r])],e)},t.getSocializedLossAccount=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("socialized-loss")),t.toBuffer()],e)},t.getReferrerAccountAddress=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("referrer")),t.toBuffer()],e)},t.getReferralAccountAddress=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("referral")),t.toBuffer()],e)},t.getSerumVaultOwnerAndNonce=E,t.sortOpenOrderKeys=x,t.sortMarketKeys=function(e){return e.sort(((e,t)=>e.toBuffer().compare(t.toBuffer())))},t.convertDecimalToNativeInteger=T,t.getTradeEventPrice=function(e){return P(e.costOfTrades)/R(e.size.toNumber())},t.convertNativeIntegerToDecimal=function(e){return e/Math.pow(10,g.PLATFORM_PRECISION)},t.convertNativeBNToDecimal=P,t.convertNativeLotSizeToDecimal=R,t.convertDecimalToNativeLotSize=function(e){return parseInt((e*Math.pow(10,g.POSITION_PRECISION)).toFixed(0))},t.getTokenMint=async function(e,t){let r=await B(e,t);return new c.PublicKey(r.mint)},t.getTokenAccountInfo=B,t.getAssociatedTokenAddress=async function(e,t){return(await c.PublicKey.findProgramAddress([t.toBuffer(),d.TOKEN_PROGRAM_ID.toBuffer(),e.toBuffer()],d.ASSOCIATED_TOKEN_PROGRAM_ID))[0]},t.defaultCommitment=function(){return{skipPreflight:!1,preflightCommitment:"confirmed",commitment:"confirmed"}},t.commitmentConfig=O,t.simulateTransaction=async function(e,t){let r;try{r=await e.simulate(t)}catch(o){throw U(o)}if(void 0===r)throw new Error("Unable to simulate transaction");const n=r.logs;if(!n)throw new Error("Simulated logs not found");let i=new u.EventParser(y.exchange.programId,y.exchange.program.coder),s=[];return i.parseLogs(r.logs,(e=>{s.push(e)})),{events:s,raw:n}},t.processTransaction=M,t.parseError=U;const z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64";return l.default.blob(8,e)},L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"int64";return l.default.blob(8,e)},N=l.default.struct([z("slot"),L("epochStartTimestamp"),z("epoch"),z("leaderScheduleEpoch"),L("unixTimestamp")]);function C(e){let t=Math.floor(e/g.PRODUCTS_PER_EXPIRY),r=e%g.PRODUCTS_PER_EXPIRY;return t*g.NUM_STRIKES+r%g.NUM_STRIKES}async function W(e,t){const[r,n]=await _(y.exchange.programId,e);let i=await y.exchange.program.account.openOrdersMap.fetch(r);const[s,o]=await v(y.exchange.programId,y.exchange.markets.markets[t].zetaGroup,i.userKey);return s}async function D(e){let t=[];for(var r=0;r<e.length;r+=g.CLEAN_MARKET_LIMIT){let n=new c.Transaction,i=e.slice(r,r+g.CLEAN_MARKET_LIMIT);n.add((0,w.cleanZetaMarketsIx)(i.flat())),t.push(n)}await Promise.all(t.map((async e=>{await M(y.exchange.provider,e)})))}function K(){return y.exchange.markets.frontExpiryIndex-1<0?g.ACTIVE_EXPIRIES-1:y.exchange.markets.frontExpiryIndex-1}async function F(){let e=new Map;for(var t=0;t<y.exchange.markets.markets.length;t++)e.set(t,[]);let r=await y.exchange.program.account.marginAccount.all();return await Promise.all(r.map((async t=>{let r=t.account;for(var n=0;n<y.exchange.markets.markets.length;n++){if(0==r.openOrdersNonce[n])continue;let[t,i]=await I(y.exchange.programId,y.exchange.markets.markets[n].address,r.authority);e.get(n).push(t)}}))),e}t.getClockData=function(e){let t=N.decode(e.data);return{timestamp:Number((0,A.readBigInt64LE)(t.unixTimestamp,0)),slot:Number((0,A.readBigInt64LE)(t.slot,0))}},t.getPriceFromSerumOrderKey=function(e){return e.ushrn(64)},t.splitIxsIntoTx=function(e,t){let r=[];for(var n=0;n<e.length;n+=t){let i=new c.Transaction,s=e.slice(n,n+t);for(let e=0;e<s.length;e++)i.add(s[e]);r.push(i)}return r},t.sleep=async function(e){await new Promise((t=>setTimeout(t,e,void 0)))},t.getOrderedMarketIndexes=function(){let e=Array.from(Array(y.exchange.zetaGroup.products.length).keys()),t=y.exchange.zetaGroup.frontExpiryIndex,r=(t+1)%2,n=t*g.PRODUCTS_PER_EXPIRY,i=r*g.PRODUCTS_PER_EXPIRY;return e=e.slice(n,n+g.PRODUCTS_PER_EXPIRY).concat(e.slice(i,i+g.PRODUCTS_PER_EXPIRY)),e},t.getDirtySeriesIndices=function(){let e=[];for(var t=0;t<y.exchange.zetaGroup.expirySeries.length;t++)y.exchange.zetaGroup.expirySeries[t].dirty&&e.push(t);return e},t.getGreeksIndex=C,t.displayState=function(){let e=[y.exchange.zetaGroup.frontExpiryIndex,K()];console.log("[EXCHANGE] Display market state...");for(var t=0;t<e.length;t++){let n=e[t],i=y.exchange.markets.expirySeries[n];console.log(`Expiration @ ${new Date(1e3*i.expiryTs)} Live: ${i.isLive()}`);let s=P(y.exchange.greeks.interestRate[n],g.PRICING_PRECISION);console.log(`Interest rate: ${s}`);let o=y.exchange.markets.getMarketsByExpiryIndex(n);for(var r=0;r<o.length;r++){let e=o[r],t=C(e.marketIndex),n=P(y.exchange.greeks.markPrices[e.marketIndex]),i=P(y.exchange.greeks.productGreeks[t].delta,g.PRICING_PRECISION),s=k.Decimal.fromAnchorDecimal(y.exchange.greeks.productGreeks[t].volatility).toNumber(),a=k.Decimal.fromAnchorDecimal(y.exchange.greeks.productGreeks[t].vega).toNumber();console.log(`[MARKET] INDEX: ${e.marketIndex} KIND: ${e.kind} STRIKE: ${e.strike} MARK_PRICE: ${n.toFixed(6)} DELTA: ${i.toFixed(2)} IV: ${s.toFixed(6)} VEGA: ${a.toFixed(6)}`)}}},t.getMarginFromOpenOrders=W,t.getNextStrikeInitialisationTs=function(){let e=y.exchange.markets.expirySeries[y.exchange.markets.frontExpiryIndex];if(!e.strikesInitialized)return e.activeTs-y.exchange.state.strikeInitializationThresholdSeconds;let t=0,r=y.exchange.markets.frontExpiryIndex;for(var n=0;n<y.exchange.markets.expirySeries.length;n++){if(r==y.exchange.markets.expirySeries.length&&(r=0),!y.exchange.markets.expirySeries[r].strikesInitialized)return y.exchange.markets.expirySeries[r].activeTs-y.exchange.state.strikeInitializationThresholdSeconds;t=Math.max(t,y.exchange.markets.expirySeries[r].expiryTs),r++}return t-y.exchange.state.strikeInitializationThresholdSeconds-y.exchange.state.newExpiryThresholdSeconds},t.cleanZetaMarkets=D,t.cleanZetaMarketsHalted=async function(e){let t=[];for(var r=0;r<e.length;r+=g.CLEAN_MARKET_LIMIT){let n=new c.Transaction,i=e.slice(r,r+g.CLEAN_MARKET_LIMIT);n.add((0,w.cleanZetaMarketsHaltedIx)(i.flat())),t.push(n)}await Promise.all(t.map((async e=>{await M(y.exchange.provider,e)})))},t.settleUsers=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.ProgramAccountType.MarginAccount,[n,i]=await S(y.exchange.programId,y.exchange.zetaGroup.underlyingMint,t),s=e.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))),o=[];for(var a=0;a<s.length;a+=g.MAX_SETTLEMENT_ACCOUNTS){let e=new c.Transaction,u=s.slice(a,a+g.MAX_SETTLEMENT_ACCOUNTS);e.add(r==b.ProgramAccountType.MarginAccount?(0,w.settlePositionsIx)(t,n,i,u):(0,w.settleSpreadPositionsIx)(t,n,i,u)),o.push(e)}await Promise.all(o.map((async e=>{let t=await M(y.exchange.provider,e);console.log(`Settling users - TxId: ${t}`)})))},t.crankMarket=async function(e,t){let r=y.exchange.markets.markets[e],n=await r.serumMarket.loadEventQueue(y.exchange.connection);if(0==n.length)return;const i=new Set;for(var s=0;s<n.length&&(i.add(n[s].openOrders.toString()),i.size!=g.CRANK_ACCOUNT_LIMIT);s++);const o=x([...i].map((e=>new c.PublicKey(e))));let a=new Array(2*o.length);await Promise.all(o.map((async(r,n)=>{let i;t&&!t.has(r)?(i=await W(r,e),t.set(r,i)):i=t&&t.has(r)?t.get(r):await W(r,e);let s=2*n;a[s]={pubkey:r,isSigner:!1,isWritable:!0},a[s+1]={pubkey:i,isSigner:!1,isWritable:!0}})));let u=(new c.Transaction).add((0,w.crankMarketIx)(r.address,r.serumMarket.decoded.eventQueue,g.DEX_PID[y.exchange.network],a));await M(y.exchange.provider,u)},t.expireSeries=async function(e){let[t,r]=await S(y.exchange.programId,y.exchange.zetaGroup.underlyingMint,e),n=y.exchange.program.instruction.expireSeries(r,{accounts:{state:y.exchange.stateAddress,zetaGroup:y.exchange.zetaGroupAddress,oracle:y.exchange.zetaGroup.oracle,settlementAccount:t,payer:y.exchange.provider.wallet.publicKey,systemProgram:c.SystemProgram.programId,greeks:y.exchange.zetaGroup.greeks}}),i=(new c.Transaction).add(n);await M(y.exchange.provider,i)},t.getMostRecentExpiredIndex=K,t.getMutMarketAccounts=function(e){let t=y.exchange.markets.markets[e];return[{pubkey:t.address,isSigner:!1,isWritable:!1},{pubkey:t.serumMarket.decoded.bids,isSigner:!1,isWritable:!1},{pubkey:t.serumMarket.decoded.asks,isSigner:!1,isWritable:!1}]},t.getCancelAllIxs=async function(e,t){let r=[];return await Promise.all(e.map((async e=>{const[n,i]=await _(y.exchange.programId,e.owner);let s=await y.exchange.program.account.openOrdersMap.fetch(n);const[o,a]=await v(y.exchange.programId,y.exchange.zetaGroupAddress,s.userKey);let u=t?(0,w.cancelExpiredOrderIx)(e.marketIndex,o,e.owner,e.orderId,e.side):(0,w.cancelOrderHaltedIx)(e.marketIndex,o,e.owner,e.orderId,e.side);r.push(u)}))),r},t.writeKeypair=async function(e,t){let r="["+t.secretKey.toString()+"]";p.writeFileSync(e,r)},t.getAllProgramAccountAddresses=async function(e){let t=await y.exchange.provider.connection.getProgramAccounts(y.exchange.programId,{commitment:y.exchange.provider.connection.commitment,dataSlice:{offset:0,length:0},filters:[{memcmp:{offset:0,bytes:f.encode(u.BorshAccountsCoder.accountDiscriminator(e))}}]}),r=[];for(let n=0;n<t.length;n++)r.push(t[n].pubkey);return r},t.getAllOpenOrdersAccountsByMarket=F,t.settleAndBurnVaultTokensByMarket=async function(e,t,r){console.log(`Burning tokens for market index ${r}`);let n=y.exchange.markets.markets[r],i=t.get(r).map((e=>({pubkey:e,isSigner:!1,isWritable:!0})));const[s,o]=await E(n.address,g.DEX_PID[y.exchange.network]);let a=(0,w.settleDexFundsTxs)(n.address,s,i);for(var u=0;u<a.length;u+=5){let t=a.slice(u,u+5);await Promise.all(t.map((async t=>{await M(e,t)})))}let c=(0,w.burnVaultTokenTx)(n.address);await M(e,c)},t.settleAndBurnVaultTokens=async function(e){let t=await F();for(var r=0;r<y.exchange.markets.markets.length;r++){console.log(`Burning tokens for market index ${r}`);let i=y.exchange.markets.markets[r],s=t.get(r).map((e=>({pubkey:e,isSigner:!1,isWritable:!0})));const[o,a]=await E(i.address,g.DEX_PID[y.exchange.network]);let u=(0,w.settleDexFundsTxs)(i.address,o,s);for(var n=0;n<u.length;n+=5){let t=u.slice(n,n+5);await Promise.all(t.map((async t=>{await M(e,t)})))}let c=(0,w.burnVaultTokenTx)(i.address);await M(e,c)}},t.burnVaultTokens=async function(e){for(var t=0;t<y.exchange.markets.markets.length;t++){console.log(`Burning tokens for market index ${t}`);let r=y.exchange.markets.markets[t],n=(0,w.burnVaultTokenTx)(r.address);await M(e,n)}},t.cancelExpiredOrdersAndCleanMarkets=async function(e){let t=y.exchange.markets.getMarketsByExpiryIndex(e),r=await Promise.all(t.map((async e=>(await e.cancelAllExpiredOrders(),[{pubkey:e.address,isSigner:!1,isWritable:!1},{pubkey:e.serumMarket.decoded.bids,isSigner:!1,isWritable:!1},{pubkey:e.serumMarket.decoded.asks,isSigner:!1,isWritable:!1}]))));await D(r)},t.calculateMovementFees=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=0;for(var s=0;s<e.length;s++)i+=R(Math.abs(e[s].size.toNumber()));let o=i*t,a=o*r/g.BPS_DENOMINATOR;return n?a:T(a)},t.objectEquals=function(e,t){return JSON.stringify(e)==JSON.stringify(t)}},66563:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ASSOCIATED_TOKEN_PROGRAM_ID:()=>Bi,AccountLayout:()=>Di,MintLayout:()=>Wi,NATIVE_MINT:()=>Ci,TOKEN_PROGRAM_ID:()=>Ri,Token:()=>Fi,u64:()=>zi});var n=r(4942),i=r(48744),s=r.n(i),o=r(60920),a=r(18143),u=r(74080),c=r.t(u,2);const d=BigInt(0),l=BigInt(1),h=BigInt(2),f=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),p=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:f,n:f,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),g=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),m=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),y=(BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742"),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235")),b=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),w=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),k=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class A{constructor(e,t,r,n){this.x=e,this.y=t,this.z=r,this.t=n}static fromAffine(e){if(!(e instanceof x))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return e.equals(x.ZERO)?A.ZERO:new A(e.x,e.y,l,W(e.x*e.y))}static toAffineBatch(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.P;const r=new Array(e.length),n=e.reduce(((e,n,i)=>n===d?e:(r[i]=e,W(e*n,t))),l),i=D(n,t);return e.reduceRight(((e,n,i)=>n===d?e:(r[i]=W(e*r[i],t),W(e*n,t))),i),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return this.toAffineBatch(e).map(this.fromAffine)}equals(e){S(e);const{x:t,y:r,z:n}=this,{x:i,y:s,z:o}=e,a=W(t*o),u=W(i*n),c=W(r*o),d=W(s*n);return a===u&&c===d}negate(){return new A(W(-this.x),this.y,this.z,W(-this.t))}double(){const{x:e,y:t,z:r}=this,{a:n}=p,i=W(e*e),s=W(t*t),o=W(h*W(r*r)),a=W(n*i),u=e+t,c=W(W(u*u)-i-s),d=a+s,l=d-o,f=a-s,g=W(c*l),m=W(d*f),y=W(c*f),b=W(l*d);return new A(g,m,b,y)}add(e){S(e);const{x:t,y:r,z:n,t:i}=this,{x:s,y:o,z:a,t:u}=e,c=W((r-t)*(o+s)),l=W((r+t)*(o-s)),f=W(l-c);if(f===d)return this.double();const p=W(n*h*u),g=W(i*h*a),m=g+p,y=l+c,b=g-p,w=W(m*f),k=W(y*b),I=W(m*b),_=W(f*y);return new A(w,k,_,I)}subtract(e){return this.add(e.negate())}precomputeWindow(e){const t=1+256/e,r=[];let n=this,i=n;for(let s=0;s<t;s++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(A.BASE)&&(t=x.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&E.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=A.normalizeZ(n),E.set(t,n)));let i=A.ZERO,s=A.ZERO;const o=1+256/r,a=2**(r-1),u=BigInt(2**r-1),c=2**r,d=BigInt(r);for(let h=0;h<o;h++){const t=h*a;let r=Number(e&u);if(e>>=d,r>a&&(r-=c,e+=l),0===r){let e=n[t];h%2&&(e=e.negate()),s=s.add(e)}else{let e=n[t+Math.abs(r)-1];r<0&&(e=e.negate()),i=i.add(e)}}return A.normalizeZ([i,s])[0]}multiply(e,t){return this.wNAF(Z(e,p.l),t)}multiplyUnsafe(e){let t=Z(e,p.l,!1);const r=A.BASE,n=A.ZERO;if(t===d)return n;if(this.equals(n)||t===l)return this;if(this.equals(r))return this.wNAF(t);let i=n,s=this;for(;t>d;)t&l&&(i=i.add(s)),s=s.double(),t>>=l;return i}isSmallOrder(){return this.multiplyUnsafe(p.h).equals(A.ZERO)}isTorsionFree(){return this.multiplyUnsafe(p.l).equals(A.ZERO)}toAffine(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D(this.z);const{x:t,y:r,z:n}=this,i=W(t*e),s=W(r*e);if(W(n*e)!==l)throw new Error("invZ was invalid");return new x(i,s)}fromRistrettoBytes(){_()}toRistrettoBytes(){_()}fromRistrettoHash(){_()}}function S(e){if(!(e instanceof A))throw new TypeError("ExtendedPoint expected")}function I(e){if(!(e instanceof v))throw new TypeError("RistrettoPoint expected")}function _(){throw new Error("Legacy method: switch to RistrettoPoint")}A.BASE=new A(p.Gx,p.Gy,l,W(p.Gx*p.Gy)),A.ZERO=new A(d,l,l,d);class v{constructor(e){this.ep=e}static calcElligatorRistrettoMap(e){const{d:t}=p,r=W(m*e*e),n=W((r+l)*w);let i=BigInt(-1);const s=W((i-t*r)*W(r+t));let{isValid:o,value:a}=G(n,s),u=W(a*e);z(u)||(u=W(-u)),o||(a=u),o||(i=r);const c=W(i*(r-l)*k-s),d=a*a,h=W((a+a)*s),f=W(c*y),g=W(l-d),b=W(l+d);return new A(W(h*b),W(g*f),W(f*b),W(h*g))}static hashToCurve(e){const t=C((e=j(e,64)).slice(0,32)),r=this.calcElligatorRistrettoMap(t),n=C(e.slice(32,64)),i=this.calcElligatorRistrettoMap(n);return new v(r.add(i))}static fromHex(e){e=j(e,32);const{a:t,d:r}=p,n="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=C(e);if(!function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(U(i),e)||z(i))throw new Error(n);const s=W(i*i),o=W(l+t*s),a=W(l-t*s),u=W(o*o),c=W(a*a),h=W(t*r*u-c),{isValid:f,value:g}=V(W(h*c)),m=W(g*a),y=W(g*m*h);let b=W((i+i)*m);z(b)&&(b=W(-b));const w=W(o*y),k=W(b*w);if(!f||z(k)||w===d)throw new Error(n);return new v(new A(b,w,l,k))}toRawBytes(){let{x:e,y:t,z:r,t:n}=this.ep;const i=W(W(r+t)*W(r-t)),s=W(e*t),o=W(s*s),{value:a}=V(W(i*o)),u=W(a*i),c=W(a*s),d=W(u*c*n);let l;if(z(n*d)){let r=W(t*m),n=W(e*m);e=r,t=n,l=W(u*b)}else l=c;z(e*d)&&(t=W(-t));let h=W((r-t)*l);return z(h)&&(h=W(-h)),U(h)}toHex(){return B(this.toRawBytes())}toString(){return this.toHex()}equals(e){I(e);const t=this.ep,r=e.ep,n=W(t.x*r.y)===W(t.y*r.x),i=W(t.y*r.y)===W(t.x*r.x);return n||i}add(e){return I(e),new v(this.ep.add(e.ep))}subtract(e){return I(e),new v(this.ep.subtract(e.ep))}multiply(e){return new v(this.ep.multiply(e))}multiplyUnsafe(e){return new v(this.ep.multiplyUnsafe(e))}}v.BASE=new v(A.BASE),v.ZERO=new v(A.ZERO);const E=new WeakMap;class x{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,E.delete(this)}static fromHex(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const{d:r,P:n}=p,i=(e=j(e,32)).slice();i[31]=-129&e[31];const s=L(i);if(t&&s>=n)throw new Error("Expected 0 < hex < P");if(!t&&s>=g)throw new Error("Expected 0 < hex < 2**256");const o=W(s*s),a=W(o-l),u=W(r*o+l);let{isValid:c,value:d}=G(a,u);if(!c)throw new Error("Point.fromHex: invalid y coordinate");const h=(d&l)===l;return 0!==(128&e[31])!==h&&(d=W(-d)),new x(d,s)}static async fromPrivateKey(e){return(await Y(e)).point}toRawBytes(){const e=U(this.y);return e[31]|=this.x&l?128:0,e}toHex(){return B(this.toRawBytes())}toX25519(){const{y:e}=this;return U(W((l+e)*D(l-e)))}isTorsionFree(){return A.fromAffine(this).isTorsionFree()}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new x(W(-this.x),this.y)}add(e){return A.fromAffine(this).add(A.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return A.fromAffine(this).multiply(e,this).toAffine()}}x.BASE=new x(p.Gx,p.Gy),x.ZERO=new x(d,l);class T{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=j(e,64),r=x.fromHex(t.slice(0,32),!1),n=L(t.slice(32,64));return new T(r,n)}assertValidity(){const{r:e,s:t}=this;if(!(e instanceof x))throw new Error("Expected Point instance");return Z(t,p.l,!1),this}toRawBytes(){const e=new Uint8Array(64);return e.set(this.r.toRawBytes()),e.set(U(this.s),32),e}toHex(){return B(this.toRawBytes())}}function P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every((e=>e instanceof Uint8Array)))throw new Error("Expected Uint8Array list");if(1===t.length)return t[0];const n=t.reduce(((e,t)=>e+t.length),0),i=new Uint8Array(n);for(let s=0,o=0;s<t.length;s++){const e=t[s];i.set(e,o),o+=e.length}return i}const R=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function B(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=R[e[r]];return t}function O(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function M(e){return O(e.toString(16).padStart(64,"0"))}function U(e){return M(e).reverse()}function z(e){return(W(e)&l)===l}function L(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+B(Uint8Array.from(e).reverse()))}const N=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function C(e){return W(L(e)&N)}function W(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.P;const r=e%t;return r>=d?r:t+r}function D(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.P;if(e===d||t<=d)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=W(e,t),n=t,i=d,s=l,o=l,a=d;for(;r!==d;){const e=n/r,t=n%r,u=i-o*e,c=s-a*e;n=r,r=t,i=o,s=a,o=u,a=c}const u=n;if(u!==l)throw new Error("invert: does not exist");return W(i,t)}function K(e,t){const{P:r}=p;let n=e;for(;t-- >d;)n*=n,n%=r;return n}function F(e){const{P:t}=p,r=BigInt(5),n=BigInt(10),i=BigInt(20),s=BigInt(40),o=BigInt(80),a=e*e%t*e%t,u=K(a,h)*a%t,c=K(u,l)*e%t,d=K(c,r)*c%t,f=K(d,n)*d%t,g=K(f,i)*f%t,m=K(g,s)*g%t,y=K(m,o)*m%t,b=K(y,o)*m%t,w=K(b,n)*d%t;return{pow_p_5_8:K(w,h)*e%t,b2:a}}function G(e,t){const r=W(t*t*t),n=W(r*r*t);let i=W(e*r*F(e*n).pow_p_5_8);const s=W(t*i*i),o=i,a=W(i*m),u=s===e,c=s===W(-e),d=s===W(-e*m);return u&&(i=o),(c||d)&&(i=a),z(i)&&(i=W(-i)),{isValid:u||c,value:i}}function V(e){return G(l,e)}function q(e){return W(L(e),p.l)}function j(e,t){const r=e instanceof Uint8Array?Uint8Array.from(e):O(e);if("number"===typeof t&&r.length!==t)throw new Error(`Expected ${t} bytes`);return r}function Z(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t)throw new TypeError("Specify max value");if("number"===typeof e&&Number.isSafeInteger(e)&&(e=BigInt(e)),"bigint"===typeof e&&e<t)if(r){if(d<e)return e}else if(d<=e)return e;throw new TypeError("Expected valid scalar: 0 < scalar < max")}function H(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function X(e){if(32!==(e="bigint"===typeof e||"number"===typeof e?M(Z(e,g)):j(e)).length)throw new Error("Expected 32 bytes");return e}function J(e){const t=H(e.slice(0,32)),r=e.slice(32,64),n=q(t),i=x.BASE.multiply(n),s=i.toRawBytes();return{head:t,prefix:r,scalar:n,point:i,pointBytes:s}}let Q;function $(){if("function"!==typeof Q)throw new Error("utils.sha512Sync must be set to use sync methods");return Q(...arguments)}async function Y(e){return J(await se.sha512(X(e)))}function ee(e){return J($(X(e)))}function te(e,t,r){t=j(t),r instanceof x||(r=x.fromHex(r,!1));const{r:n,s:i}=e instanceof T?e.assertValidity():T.fromHex(e);return{r:n,s:i,SB:A.BASE.multiplyUnsafe(i),pub:r,msg:t}}function re(e,t,r,n){const i=q(n),s=A.fromAffine(e).multiplyUnsafe(i);return A.fromAffine(t).add(s).subtract(r).multiplyUnsafe(p.h).equals(A.ZERO)}const ne={getExtendedPublicKey:ee,getPublicKey:function(e){return ee(e).pointBytes},sign:function(e,t){e=j(e);const{prefix:r,scalar:n,pointBytes:i}=ee(t),s=q($(r,e)),o=x.BASE.multiply(s),a=W(s+q($(o.toRawBytes(),i,e))*n,p.l);return new T(o,a).toRawBytes()},verify:function(e,t,r){const{r:n,SB:i,msg:s,pub:o}=te(e,t,r),a=$(n.toRawBytes(),o.toRawBytes(),s);return re(o,n,i,a)}};x.BASE._setWindowSize(8);const ie={node:c,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0},se={bytesToHex:B,hexToBytes:O,concatBytes:P,getExtendedPublicKey:Y,mod:W,invert:D,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:e=>{if((e=j(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return W(L(e),p.l-l)+l},randomBytes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(ie.web)return ie.web.getRandomValues(new Uint8Array(e));if(ie.node){const{randomBytes:t}=ie.node;return new Uint8Array(t(e).buffer)}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>se.randomBytes(32),sha512:async function(){const e=P(...arguments);if(ie.web){const t=await ie.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(t)}if(ie.node)return Uint8Array.from(ie.node.createHash("sha512").update(e).digest());throw new Error("The environment doesn't have sha512 function")},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x.BASE;const r=t.equals(x.BASE)?t:new x(t.x,t.y);return r._setWindowSize(e),r.multiply(h),r},sha512Sync:void 0};Object.defineProperties(se,{sha512Sync:{configurable:!1,get:()=>Q,set(e){Q||(Q=e)}}});var oe=r(68532),ae=r.n(oe),ue=r(18299),ce=r(78838),de=r(25047),le=r(68706),he=r(54338),fe=(r(85606),r(32908),r(37132)),pe=r(15568),ge=r(47306),me=r.t(ge,2);const ye=BigInt(0),be=BigInt(1),we=BigInt(2),ke=BigInt(3),Ae=BigInt(8),Se=Object.freeze({a:ye,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:be,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});function Ie(e){const{a:t,b:r}=Se,n=Ve(e*e),i=Ve(n*e);return Ve(i+t*e+r)}const _e=Se.a===ye;class ve extends Error{constructor(e){super(e)}}class Ee{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof Te))throw new TypeError("JacobianPoint#fromAffine: expected Point");return new Ee(e.x,e.y,be)}static toAffineBatch(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se.P;const r=new Array(e.length),n=e.reduce(((e,n,i)=>n===ye?e:(r[i]=e,Ve(e*n,t))),be),i=je(n,t);return e.reduceRight(((e,n,i)=>n===ye?e:(r[i]=Ve(e*r[i],t),Ve(e*n,t))),i),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return Ee.toAffineBatch(e).map(Ee.fromAffine)}equals(e){if(!(e instanceof Ee))throw new TypeError("JacobianPoint expected");const{x:t,y:r,z:n}=this,{x:i,y:s,z:o}=e,a=Ve(n*n),u=Ve(o*o),c=Ve(t*u),d=Ve(i*a),l=Ve(Ve(r*o)*u),h=Ve(Ve(s*n)*a);return c===d&&l===h}negate(){return new Ee(this.x,Ve(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,n=Ve(e*e),i=Ve(t*t),s=Ve(i*i),o=e+i,a=Ve(we*(Ve(o*o)-n-s)),u=Ve(ke*n),c=Ve(u*u),d=Ve(c-we*a),l=Ve(u*(a-d)-Ae*s),h=Ve(we*t*r);return new Ee(d,l,h)}add(e){if(!(e instanceof Ee))throw new TypeError("JacobianPoint expected");const{x:t,y:r,z:n}=this,{x:i,y:s,z:o}=e;if(i===ye||s===ye)return this;if(t===ye||r===ye)return e;const a=Ve(n*n),u=Ve(o*o),c=Ve(t*u),d=Ve(i*a),l=Ve(Ve(r*o)*u),h=Ve(Ve(s*n)*a),f=Ve(d-c),p=Ve(h-l);if(f===ye)return p===ye?this.double():Ee.ZERO;const g=Ve(f*f),m=Ve(f*g),y=Ve(c*g),b=Ve(p*p-m-we*y),w=Ve(p*(y-b)-l*m),k=Ve(n*o*f);return new Ee(b,w,k)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=Ee.ZERO;if("bigint"===typeof e&&e===ye)return t;let r=Ge(e);if(r===be)return this;if(!_e){let e=t,n=this;for(;r>ye;)r&be&&(e=e.add(n)),n=n.double(),r>>=be;return e}let{k1neg:n,k1:i,k2neg:s,k2:o}=Xe(r),a=t,u=t,c=this;for(;i>ye||o>ye;)i&be&&(a=a.add(c)),o&be&&(u=u.add(c)),c=c.double(),i>>=be,o>>=be;return n&&(a=a.negate()),s&&(u=u.negate()),u=new Ee(Ve(u.x*Se.beta),u.y,u.z),a.add(u)}precomputeWindow(e){const t=_e?128/e+1:256/e+1,r=[];let n=this,i=n;for(let s=0;s<t;s++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(Ee.BASE)&&(t=Te.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&xe.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=Ee.normalizeZ(n),xe.set(t,n)));let i=Ee.ZERO,s=Ee.ZERO;const o=1+(_e?128/r:256/r),a=2**(r-1),u=BigInt(2**r-1),c=2**r,d=BigInt(r);for(let l=0;l<o;l++){const t=l*a;let r=Number(e&u);if(e>>=d,r>a&&(r-=c,e+=be),0===r){let e=n[t];l%2&&(e=e.negate()),s=s.add(e)}else{let e=n[t+Math.abs(r)-1];r<0&&(e=e.negate()),i=i.add(e)}}return{p:i,f:s}}multiply(e,t){let r,n,i=Ge(e);if(_e){const{k1neg:e,k1:s,k2neg:o,k2:a}=Xe(i);let{p:u,f:c}=this.wNAF(s,t),{p:d,f:l}=this.wNAF(a,t);e&&(u=u.negate()),o&&(d=d.negate()),d=new Ee(Ve(d.x*Se.beta),d.y,d.z),r=u.add(d),n=c.add(l)}else{const{p:e,f:s}=this.wNAF(i,t);r=e,n=s}return Ee.normalizeZ([r,n])[0]}toAffine(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je(this.z);const{x:t,y:r,z:n}=this,i=e,s=Ve(i*i),o=Ve(s*i),a=Ve(t*s),u=Ve(r*o);if(Ve(n*i)!==be)throw new Error("invZ was invalid");return new Te(a,u)}}Ee.BASE=new Ee(Se.Gx,Se.Gy,be),Ee.ZERO=new Ee(ye,be,ye);const xe=new WeakMap;class Te{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,xe.delete(this)}hasEvenY(){return this.y%we===ye}static fromCompressedHex(e){const t=32===e.length,r=Ke(t?e:e.subarray(1));if(!tt(r))throw new Error("Point is not on curve");let n=function(e){const{P:t}=Se,r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),u=e*e*e%t,c=u*u*e%t,d=qe(c,ke)*c%t,l=qe(d,ke)*c%t,h=qe(l,we)*u%t,f=qe(h,n)*h%t,p=qe(f,i)*f%t,g=qe(p,o)*p%t,m=qe(g,a)*g%t,y=qe(m,o)*p%t,b=qe(y,ke)*c%t,w=qe(b,s)*f%t,k=qe(w,r)*u%t;return qe(k,we)}(Ie(r));const i=(n&be)===be;if(t)i&&(n=Ve(-n));else{1===(1&e[0])!==i&&(n=Ve(-n))}const s=new Te(r,n);return s.assertValidity(),s}static fromUncompressedHex(e){const t=Ke(e.subarray(1,33)),r=Ke(e.subarray(33,65)),n=new Te(t,r);return n.assertValidity(),n}static fromHex(e){const t=Fe(e),r=t.length,n=t[0];if(32===r||33===r&&(2===n||3===n))return this.fromCompressedHex(t);if(65===r&&4===n)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return Te.BASE.multiply(nt(e))}static fromSignature(e,t,r){const n=Je(e=Fe(e)),{r:i,s:s}=it(t);if(0!==r&&1!==r)throw new Error("Cannot recover signature: invalid recovery bit");const o=1&r?"03":"02",a=Te.fromHex(o+Le(i)),{n:u}=Se,c=je(i,u),d=Ve(-n*c,u),l=Ve(s*c,u),h=Te.BASE.multiplyAndAddUnsafe(a,d,l);if(!h)throw new Error("Cannot recover signature: point at infinify");return h.assertValidity(),h}toRawBytes(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return De(this.toHex(e))}toHex(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=Le(this.x);if(e){return`${this.hasEvenY()?"02":"03"}${t}`}return`04${t}${Le(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!tt(t)||!tt(r))throw new Error(e);const n=Ve(r*r);if(Ve(n-Ie(t))!==ye)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new Te(this.x,Ve(-this.y))}double(){return Ee.fromAffine(this).double().toAffine()}add(e){return Ee.fromAffine(this).add(Ee.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Ee.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=Ee.fromAffine(this),i=t===ye||t===be||this!==Te.BASE?n.multiplyUnsafe(t):n.multiply(t),s=Ee.fromAffine(e).multiplyUnsafe(r),o=i.add(s);return o.equals(Ee.ZERO)?void 0:o.toAffine()}}function Pe(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function Re(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${Ue(e)}`);const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Ke(r),left:e.subarray(t+2)}}Te.BASE=new Te(Se.Gx,Se.Gy),Te.ZERO=new Te(ye,ye);class Be{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!==typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=t?Ue(e):e;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new Be(We(n.slice(0,64)),We(n.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!==typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:r,s:n}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${Ue(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=Re(e.subarray(2)),{data:n,left:i}=Re(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Ue(i)}`);return{r:t,s:n}}(t?e:De(e));return new Be(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!et(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!et(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=Se.n>>be;return this.s>e}normalizeS(){return this.hasHighS()?new Be(this.r,Se.n-this.s):this}toDERRawBytes(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return De(this.toDERHex(e))}toDERHex(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=Pe(Ce(this.s));if(e)return t;const r=Pe(Ce(this.r)),n=Ce(r.length/2),i=Ce(t.length/2);return`30${Ce(r.length/2+t.length/2+4)}02${n}${r}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return De(this.toCompactHex())}toCompactHex(){return Le(this.r)+Le(this.s)}}function Oe(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!t.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===t.length)return t[0];const n=t.reduce(((e,t)=>e+t.length),0),i=new Uint8Array(n);for(let s=0,o=0;s<t.length;s++){const e=t[s];i.set(e,o),o+=e.length}return i}const Me=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ue(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=Me[e[r]];return t}const ze=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Le(e){if("bigint"!==typeof e)throw new Error("Expected bigint");if(!(ye<=e&&e<ze))throw new Error("Expected number < 2^256");return e.toString(16).padStart(64,"0")}function Ne(e){const t=De(Le(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function Ce(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function We(e){if("string"!==typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function De(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");t[r]=s}return t}function Ke(e){return We(Ue(e))}function Fe(e){return e instanceof Uint8Array?Uint8Array.from(e):De(e)}function Ge(e){if("number"===typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"===typeof e&&et(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se.P;const r=e%t;return r>=ye?r:t+r}function qe(e,t){const{P:r}=Se;let n=e;for(;t-- >ye;)n*=n,n%=r;return n}function je(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Se.P;if(e===ye||t<=ye)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=Ve(e,t),n=t,i=ye,s=be,o=be,a=ye;for(;r!==ye;){const e=n/r,t=n%r,u=i-o*e,c=s-a*e;n=r,r=t,i=o,s=a,o=u,a=c}const u=n;if(u!==be)throw new Error("invert: does not exist");return Ve(i,t)}const Ze=(e,t)=>(e+t/we)/t,He={a1:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),b1:-be*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a2:BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),b2:BigInt("0x3086d221a7d46bcde86c90e49284eb15"),POW_2_128:BigInt("0x100000000000000000000000000000000")};function Xe(e){const{n:t}=Se,{a1:r,b1:n,a2:i,b2:s,POW_2_128:o}=He,a=Ze(s*e,t),u=Ze(-n*e,t);let c=Ve(e-a*r-u*i,t),d=Ve(-a*n-u*s,t);const l=c>o,h=d>o;if(l&&(c=t-c),h&&(d=t-d),c>o||d>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:l,k1:c,k2neg:h,k2:d}}function Je(e){const{n:t}=Se,r=8*e.length-256;let n=Ke(e);return r>0&&(n>>=BigInt(r)),n>=t&&(n-=t),n}let Qe,$e;class Ye{constructor(){this.v=new Uint8Array(32).fill(1),this.k=new Uint8Array(32).fill(0),this.counter=0}hmac(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return ht.hmacSha256(this.k,...t)}hmacSync(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return $e(this.k,...t)}checkSync(){if("function"!==typeof $e)throw new ve("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array;this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){return this.incr(),this.v=await this.hmac(this.v),this.v}generateSync(){return this.checkSync(),this.incr(),this.v=this.hmacSync(this.v),this.v}}function et(e){return ye<e&&e<Se.n}function tt(e){return ye<e&&e<Se.P}function rt(e,t,r){const n=Ke(e);if(!et(n))return;const{n:i}=Se,s=Te.BASE.multiply(n),o=Ve(s.x,i);if(o===ye)return;const a=Ve(je(n,i)*Ve(t+r*o,i),i);if(a===ye)return;const u=new Be(o,a);return{sig:u,recovery:(s.x===u.r?0:2)|Number(s.y&be)}}function nt(e){let t;if("bigint"===typeof e)t=e;else if("number"===typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"===typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=We(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(32!==e.length)throw new Error("Expected 32 bytes of private key");t=Ke(e)}if(!et(t))throw new Error("Expected private key: 0 < key < n");return t}function it(e){if(e instanceof Be)return e.assertValidity(),e;try{return Be.fromDER(e)}catch(t){return Be.fromCompact(e)}}function st(e){return Ke(e.length>32?e.slice(0,32):e)}function ot(e){const t=st(e),r=Ve(t,Se.n);return at(r<ye?t:r)}function at(e){return Ne(e)}function ut(e,t,r){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const n=Fe(e),i=nt(t),s=[at(i),ot(n)];if(null!=r){!0===r&&(r=ht.randomBytes(32));const e=Fe(r);if(32!==e.length)throw new Error("sign: Expected 32 bytes of extra data");s.push(e)}return{seed:Oe(...s),m:st(n),d:i}}function ct(e,t){let{sig:r,recovery:n}=e;const{canonical:i,der:s,recovered:o}=Object.assign({canonical:!0,der:!0},t);i&&r.hasHighS()&&(r=r.normalizeS(),n^=1);const a=s?r.toDERRawBytes():r.toCompactRawBytes();return o?[a,n]:a}Te.BASE._setWindowSize(8);const dt={node:me,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0},lt={},ht={bytesToHex:Ue,hexToBytes:De,concatBytes:Oe,mod:Ve,invert:je,isValidPrivateKey(e){try{return nt(e),!0}catch(t){return!1}},_bigintTo32Bytes:Ne,_normalizePrivateKey:nt,hashToPrivateKey:e=>{if((e=Fe(e)).length<40||e.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return Ne(Ve(Ke(e),Se.n-be)+be)},randomBytes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(dt.web)return dt.web.getRandomValues(new Uint8Array(e));if(dt.node){const{randomBytes:t}=dt.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>ht.hashToPrivateKey(ht.randomBytes(40)),sha256:async function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(dt.web){const e=await dt.web.subtle.digest("SHA-256",Oe(...t));return new Uint8Array(e)}if(dt.node){const{createHash:e}=dt.node,r=e("sha256");return t.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(dt.web){const t=await dt.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Oe(...r),i=await dt.web.subtle.sign("HMAC",t,n);return new Uint8Array(i)}if(dt.node){const{createHmac:t}=dt.node,n=t("sha256",e);return r.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async function(e){let t=lt[e];if(void 0===t){const r=await ht.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=Oe(r,r),lt[e]=t}for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return ht.sha256(t,...n)},taggedHashSync:function(e){if("function"!==typeof Qe)throw new ve("sha256Sync is undefined, you need to set it");let t=lt[e];if(void 0===t){const r=Qe(Uint8Array.from(e,(e=>e.charCodeAt(0))));t=Oe(r,r),lt[e]=t}for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Qe(t,...n)},precompute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Te.BASE;const r=t===Te.BASE?t:new Te(t.x,t.y);return r._setWindowSize(e),r.multiply(ke),r}};Object.defineProperties(ht,{sha256Sync:{configurable:!1,get:()=>Qe,set(e){Qe||(Qe=e)}},hmacSha256Sync:{configurable:!1,get:()=>$e,set(e){$e||($e=e)}}}),se.sha512Sync=function(){return(0,a.o)(se.concatBytes(...arguments))};se.randomPrivateKey;const ft=()=>{const e=se.randomPrivateKey(),t=pt(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},pt=ne.getPublicKey;function gt(e){try{return x.fromHex(e,!0),!0}catch{return!1}}const mt=(e,t)=>ne.sign(e,t.slice(0,32)),yt=ne.verify,bt=e=>o.lW.isBuffer(e)?e:e instanceof Uint8Array?o.lW.from(e.buffer,e.byteOffset,e.byteLength):o.lW.from(e);class wt{constructor(e){Object.assign(this,e)}encode(){return o.lW.from((0,ce.serialize)(kt,this))}static decode(e){return(0,ce.deserialize)(kt,this,e)}static decodeUnchecked(e){return(0,ce.deserializeUnchecked)(kt,this,e)}}const kt=new Map,At=32;let St=1;class It extends wt{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=ae().decode(e);if(t.length!=At)throw new Error("Invalid public key input");this._bn=new(s())(t)}else this._bn=new(s())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}static unique(){const e=new It(St);return St+=1,new It(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ae().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(o.lW);if(e.length===At)return e;const t=o.lW.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=o.lW.concat([e.toBuffer(),o.lW.from(t),r.toBuffer()]),i=(0,ue.J)(n);return new It(i)}static createProgramAddressSync(e,t){let r=o.lW.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=o.lW.concat([r,bt(e)])})),r=o.lW.concat([r,t.toBuffer(),o.lW.from("ProgramDerivedAddress")]);const n=(0,ue.J)(r);if(gt(n))throw new Error("Invalid seeds, address must fall off the curve");return new It(n)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(o.lW.from([n]));r=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return gt(new It(e).toBytes())}}It.default=new It("11111111111111111111111111111111"),kt.set(It,{kind:"struct",fields:[["_bn","u256"]]});new It("BPFLoader1111111111111111111111111111111111");const _t=1232;class vt extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(vt.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Et extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Et.prototype,"name",{value:"TransactionExpiredTimeoutError"});class xt{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,r)=>{t.set(e.toBase58(),r)}));const r=e=>{const r=t.get(e.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return e.map((e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map((e=>r(e.pubkey))),data:e.data})))}}const Tt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return de.Ik(32,e)},Pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=de.n_([de.Jq("length"),de.Jq("lengthPadding"),de.Ik(de.cv(de.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(e,t)=>r(e,t).chars.toString(),i.encode=(e,t,r)=>{const i={chars:o.lW.from(e,"utf8")};return n(i,t,r)},i.alloc=e=>de.Jq().span+de.Jq().span+o.lW.from(e,"utf8").length,i};function Rt(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"===typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}else if("fields"in e)return Rt({layout:e},t[e.property]);return 0};let n=0;return e.layout.fields.forEach((e=>{n+=r(e)})),n}function Bt(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function Ot(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}function Mt(e,t){if(!e)throw new Error(t||"Assertion failed")}class Ut{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,n=e=>{const t=e.toBase58();let n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},i=n(t);i.isSigner=!0,i.isWritable=!0;for(const s of e){n(s.programId).isInvoked=!0;for(const e of s.keys){const t=n(e.pubkey);t.isSigner||(t.isSigner=e.isSigner),t.isWritable||(t.isWritable=e.isWritable)}}return new Ut(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Mt(e.length<=256,"Max static account keys length exceeded");const t=e.filter((e=>{let[,t]=e;return t.isSigner&&t.isWritable})),r=e.filter((e=>{let[,t]=e;return t.isSigner&&!t.isWritable})),n=e.filter((e=>{let[,t]=e;return!t.isSigner&&t.isWritable})),i=e.filter((e=>{let[,t]=e;return!t.isSigner&&!t.isWritable})),s={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Mt(t.length>0,"Expected at least one writable signer key");const[e]=t[0];Mt(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[s,[...t.map((e=>{let[t]=e;return new It(t)})),...r.map((e=>{let[t]=e;return new It(t)})),...n.map((e=>{let[t]=e;return new It(t)})),...i.map((e=>{let[t]=e;return new It(t)}))]]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,n=new Array;for(const[i,s]of this.keyMetaMap.entries())if(t(s)){const t=new It(i),s=e.findIndex((e=>e.equals(t)));s>=0&&(Mt(s<256,"Max lookup table index exceeded"),r.push(s),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}}class zt{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new It(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ae().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new xt(this.staticAccountKeys)}static compile(e){const t=Ut.compile(e.instructions,e.payerKey),[r,n]=t.getMessageComponents(),i=new xt(n).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:ae().encode(e.data)})));return new zt({header:r,accountKeys:n,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];Ot(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(ae().decode(e.data));let i=[];Ot(i,t.length);let s=[];return Ot(s,n.length),{programIdIndex:r,keyIndicesCount:o.lW.from(i),keyIndices:t,dataLength:o.lW.from(s),data:n}}));let n=[];Ot(n,r.length);let i=o.lW.alloc(_t);o.lW.from(n).copy(i);let s=n.length;r.forEach((e=>{const t=de.n_([de.u8("programIdIndex"),de.Ik(e.keyIndicesCount.length,"keyIndicesCount"),de.A9(de.u8("keyIndex"),e.keyIndices.length,"keyIndices"),de.Ik(e.dataLength.length,"dataLength"),de.A9(de.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t})),i=i.slice(0,s);const a=de.n_([de.Ik(1,"numRequiredSignatures"),de.Ik(1,"numReadonlySignedAccounts"),de.Ik(1,"numReadonlyUnsignedAccounts"),de.Ik(t.length,"keyCount"),de.A9(Tt("key"),e,"keys"),Tt("recentBlockhash")]),u={numRequiredSignatures:o.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:o.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:o.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:o.lW.from(t),keys:this.accountKeys.map((e=>bt(e.toBytes()))),recentBlockhash:ae().decode(this.recentBlockhash)};let c=o.lW.alloc(2048);const d=a.encode(u,c);return i.copy(c,d),c.slice(0,d+i.length)}static from(e){let t=[...e];const r=t.shift();if(r!==(127&r))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const n=t.shift(),i=t.shift(),s=Bt(t);let a=[];for(let h=0;h<s;h++){const e=t.slice(0,At);t=t.slice(At),a.push(new It(o.lW.from(e)))}const u=t.slice(0,At);t=t.slice(At);const c=Bt(t);let d=[];for(let h=0;h<c;h++){const e=t.shift(),r=Bt(t),n=t.slice(0,r);t=t.slice(r);const i=Bt(t),s=t.slice(0,i),a=ae().encode(o.lW.from(s));t=t.slice(i),d.push({programIdIndex:e,accounts:n,data:a})}const l={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:ae().encode(o.lW.from(u)),accountKeys:a,instructions:d};return new zt(l)}}let Lt;!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(Lt||(Lt={}));const Nt=o.lW.alloc(64).fill(0);class Ct{constructor(e){this.keys=void 0,this.programId=void 0,this.data=o.lW.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:[...this.data]}}}class Wt{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Ct(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let p=0;p<t.length;p++)if(void 0===t[p].programId)throw new Error(`Transaction instruction index ${p} has undefined program id`);const n=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new It(e),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((e=>{const t=e.pubkey.toString(),r=s.findIndex((e=>e.pubkey.toString()===t));r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)})),s.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));const o=s.findIndex((e=>e.pubkey.equals(r)));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const p of this.signatures){const e=s.findIndex((e=>e.pubkey.equals(p.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${p.publicKey.toString()}`);s[e].isSigner||(s[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,c=0;const d=[],l=[];s.forEach((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;r?(d.push(t.toString()),a+=1,n||(u+=1)):(l.push(t.toString()),n||(c+=1))}));const h=d.concat(l),f=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:h.indexOf(r.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:ae().encode(t)}}));return f.forEach((e=>{Mt(e.programIdIndex>=0),e.accounts.forEach((e=>Mt(e>=0)))})),new zt({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:h,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const s=this._compile();this._partialSign(s,...i)}partialSign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}const s=this._compile();this._partialSign(s,...i)}_partialSign(e){const t=e.serialize();for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];n.forEach((e=>{const r=mt(t,e.secretKey);this._addSignature(e.publicKey,bt(r))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Mt(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=o.lW.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!yt(r,e,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];Ot(r,t.length);const n=r.length+64*t.length+e.length,i=o.lW.alloc(n);return Mt(t.length<256),o.lW.from(r).copy(i,0),t.forEach(((e,t)=>{let{signature:n}=e;null!==n&&(Mt(64===n.length,"signature has invalid length"),o.lW.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),Mt(i.length<=_t,`Transaction too large: ${i.length} > 1232`),i}get keys(){return Mt(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return Mt(1===this.instructions.length),this.instructions[0].programId}get data(){return Mt(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=Bt(t);let n=[];for(let i=0;i<r;i++){const e=t.slice(0,64);t=t.slice(64),n.push(ae().encode(o.lW.from(e)))}return Wt.populate(zt.from(t),n)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new Wt;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==ae().encode(Nt)?null:ae().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new Ct({keys:n,programId:e.accountKeys[t.programIdIndex],data:ae().decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}const Dt=new It("SysvarC1ock11111111111111111111111111111111"),Kt=(new It("SysvarEpochSchedu1e111111111111111111111111"),new It("Sysvar1nstructions1111111111111111111111111"),new It("SysvarRecentB1ockHashes11111111111111111111")),Ft=new It("SysvarRent111111111111111111111111111111111"),Gt=(new It("SysvarRewards111111111111111111111111111111"),new It("SysvarS1otHashes111111111111111111111111111"),new It("SysvarS1otHistory11111111111111111111111111"),new It("SysvarStakeHistory1111111111111111111111111"));async function Vt(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await e.sendTransaction(t,r,i),o=null!=t.recentBlockhash&&null!=t.lastValidBlockHeight?(await e.confirmTransaction({signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value:(await e.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function qt(e){return new Promise((t=>setTimeout(t,e)))}function jt(e,t){const r=e.layout.span>=0?e.layout.span:Rt(e,t),n=o.lW.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}const Zt=de._O("lamportsPerSignature"),Ht=de.n_([de.Jq("version"),de.Jq("state"),Tt("authorizedPubkey"),Tt("nonce"),de.n_([Zt],"feeCalculator")]),Xt=Ht.span;const Jt=(Qt=8,e=>{const t=(0,de.Ik)(Qt,e),{encode:r,decode:n}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const r=n(e,t);return(0,le.oU)(o.lW.from(r))},i.encode=(e,t,n)=>{const i=(0,le.k$)(e,Qt);return r(i,t,n)},i});var Qt;const $t=Object.freeze({Create:{index:0,layout:de.n_([de.Jq("instruction"),de.gM("lamports"),de.gM("space"),Tt("programId")])},Assign:{index:1,layout:de.n_([de.Jq("instruction"),Tt("programId")])},Transfer:{index:2,layout:de.n_([de.Jq("instruction"),Jt("lamports")])},CreateWithSeed:{index:3,layout:de.n_([de.Jq("instruction"),Tt("base"),Pt("seed"),de.gM("lamports"),de.gM("space"),Tt("programId")])},AdvanceNonceAccount:{index:4,layout:de.n_([de.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:de.n_([de.Jq("instruction"),de.gM("lamports")])},InitializeNonceAccount:{index:6,layout:de.n_([de.Jq("instruction"),Tt("authorized")])},AuthorizeNonceAccount:{index:7,layout:de.n_([de.Jq("instruction"),Tt("authorized")])},Allocate:{index:8,layout:de.n_([de.Jq("instruction"),de.gM("space")])},AllocateWithSeed:{index:9,layout:de.n_([de.Jq("instruction"),Tt("base"),Pt("seed"),de.gM("space"),Tt("programId")])},AssignWithSeed:{index:10,layout:de.n_([de.Jq("instruction"),Tt("base"),Pt("seed"),Tt("programId")])},TransferWithSeed:{index:11,layout:de.n_([de.Jq("instruction"),Jt("lamports"),Pt("seed"),Tt("programId")])},UpgradeNonceAccount:{index:12,layout:de.n_([de.Jq("instruction")])}});class Yt{constructor(){}static createAccount(e){const t=jt($t.Create,{lamports:e.lamports,space:e.space,programId:bt(e.programId.toBuffer())});return new Ct({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=jt($t.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:bt(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=jt($t.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Ct({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=jt($t.AssignWithSeed,{base:bt(e.basePubkey.toBuffer()),seed:e.seed,programId:bt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=jt($t.Assign,{programId:bt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ct({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=jt($t.CreateWithSeed,{base:bt(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:bt(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Ct({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new Wt;"basePubkey"in e&&"seed"in e?t.add(Yt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Xt,programId:this.programId})):t.add(Yt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Xt,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=jt($t.InitializeNonceAccount,{authorized:bt(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Kt,isSigner:!1,isWritable:!1},{pubkey:Ft,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new Ct(r)}static nonceAdvance(e){const t=jt($t.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Kt,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new Ct(r)}static nonceWithdraw(e){const t=jt($t.WithdrawNonceAccount,{lamports:e.lamports});return new Ct({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Kt,isSigner:!1,isWritable:!1},{pubkey:Ft,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=jt($t.AuthorizeNonceAccount,{authorized:bt(e.newAuthorizedPubkey.toBuffer())});return new Ct({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=jt($t.AllocateWithSeed,{base:bt(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:bt(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=jt($t.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Ct({keys:r,programId:this.programId,data:t})}}Yt.programId=new It("11111111111111111111111111111111");class er{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/er.chunkSize)+1+1)}static async load(e,t,r,n,i){{const s=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new Wt,a.add(Yt.allocate({accountPubkey:r.publicKey,space:i.length}))),o.owner.equals(n)||(a=a||new Wt,a.add(Yt.assign({accountPubkey:r.publicKey,programId:n}))),o.lamports<s&&(a=a||new Wt,a.add(Yt.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:s-o.lamports})))}else a=(new Wt).add(Yt.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:i.length,programId:n}));null!==a&&await Vt(e,a,[t,r],{commitment:"confirmed"})}const s=de.n_([de.Jq("instruction"),de.Jq("offset"),de.Jq("bytesLength"),de.Jq("bytesLengthPadding"),de.A9(de.u8("byte"),de.cv(de.Jq(),-8),"bytes")]),a=er.chunkSize;let u=0,c=i,d=[];for(;c.length>0;){const i=c.slice(0,a),l=o.lW.alloc(a+16);s.encode({instruction:0,offset:u,bytes:i,bytesLength:0,bytesLengthPadding:0},l);const h=(new Wt).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:l});if(d.push(Vt(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await qt(1e3/e)}u+=a,c=c.slice(a)}await Promise.all(d);{const i=de.n_([de.Jq("instruction")]),s=o.lW.alloc(i.span);i.encode({instruction:1},s);const a=(new Wt).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:Ft,isSigner:!1,isWritable:!1}],programId:n,data:s});await Vt(e,a,[t,r],{commitment:"confirmed"})}return!0}}er.chunkSize=932;new It("BPFLoader2111111111111111111111111111111111");Object.prototype.toString,Object.keys;Error;Error;globalThis.fetch;de.n_([de.Jq("typeIndex"),Jt("deactivationSlot"),de._O("lastExtendedSlot"),de.u8("lastExtendedStartIndex"),de.u8(),de.A9(Tt(),de.cv(de.u8(),-1),"authority")]);var tr;const rr=(0,he.oQ)((0,he.eE)(It),(0,he.Z_)(),(e=>new It(e))),nr=(0,he.bc)([(0,he.Z_)(),(0,he.i0)("base64")]),ir=(0,he.oQ)((0,he.eE)(o.lW),nr,(e=>o.lW.from(e[0],"base64")));function sr(e){return(0,he.G0)([(0,he.dt)({jsonrpc:(0,he.i0)("2.0"),id:(0,he.Z_)(),result:e}),(0,he.dt)({jsonrpc:(0,he.i0)("2.0"),id:(0,he.Z_)(),error:(0,he.dt)({code:(0,he._4)(),message:(0,he.Z_)(),data:(0,he.jt)((0,he.Yj)())})})])}const or=sr((0,he._4)());function ar(e){return(0,he.oQ)(sr(e),or,(t=>"error"in t?t:{...t,result:(0,he.Ue)(t.result,e)}))}function ur(e){return ar((0,he.dt)({context:(0,he.dt)({slot:(0,he.Rx)()}),value:e}))}function cr(e){return(0,he.dt)({context:(0,he.dt)({slot:(0,he.Rx)()}),value:e})}const dr=(0,he.dt)({foundation:(0,he.Rx)(),foundationTerm:(0,he.Rx)(),initial:(0,he.Rx)(),taper:(0,he.Rx)(),terminal:(0,he.Rx)()}),lr=(ar((0,he.IX)((0,he.AG)((0,he.dt)({epoch:(0,he.Rx)(),effectiveSlot:(0,he.Rx)(),amount:(0,he.Rx)(),postBalance:(0,he.Rx)()})))),(0,he.dt)({epoch:(0,he.Rx)(),slotIndex:(0,he.Rx)(),slotsInEpoch:(0,he.Rx)(),absoluteSlot:(0,he.Rx)(),blockHeight:(0,he.jt)((0,he.Rx)()),transactionCount:(0,he.jt)((0,he.Rx)())})),hr=(0,he.dt)({slotsPerEpoch:(0,he.Rx)(),leaderScheduleSlotOffset:(0,he.Rx)(),warmup:(0,he.O7)(),firstNormalEpoch:(0,he.Rx)(),firstNormalSlot:(0,he.Rx)()}),fr=(0,he.IM)((0,he.Z_)(),(0,he.IX)((0,he.Rx)())),pr=(0,he.AG)((0,he.G0)([(0,he.dt)({}),(0,he.Z_)()])),gr=(0,he.dt)({err:pr}),mr=(0,he.i0)("receivedSignature");(0,he.dt)({"solana-core":(0,he.Z_)(),"feature-set":(0,he.jt)((0,he.Rx)())}),ur((0,he.dt)({err:(0,he.AG)((0,he.G0)([(0,he.dt)({}),(0,he.Z_)()])),logs:(0,he.AG)((0,he.IX)((0,he.Z_)())),accounts:(0,he.jt)((0,he.AG)((0,he.IX)((0,he.AG)((0,he.dt)({executable:(0,he.O7)(),owner:(0,he.Z_)(),lamports:(0,he.Rx)(),data:(0,he.IX)((0,he.Z_)()),rentEpoch:(0,he.jt)((0,he.Rx)())}))))),unitsConsumed:(0,he.jt)((0,he.Rx)()),returnData:(0,he.jt)((0,he.AG)((0,he.dt)({programId:(0,he.Z_)(),data:(0,he.bc)([(0,he.Z_)(),(0,he.i0)("base64")])})))})),ur((0,he.dt)({byIdentity:(0,he.IM)((0,he.Z_)(),(0,he.IX)((0,he.Rx)())),range:(0,he.dt)({firstSlot:(0,he.Rx)(),lastSlot:(0,he.Rx)()})}));ar(dr),ar(lr),ar(hr),ar(fr),ar((0,he.Rx)()),ur((0,he.dt)({total:(0,he.Rx)(),circulating:(0,he.Rx)(),nonCirculating:(0,he.Rx)(),nonCirculatingAccounts:(0,he.IX)(rr)}));const yr=(0,he.dt)({amount:(0,he.Z_)(),uiAmount:(0,he.AG)((0,he.Rx)()),decimals:(0,he.Rx)(),uiAmountString:(0,he.jt)((0,he.Z_)())}),br=(ur((0,he.IX)((0,he.dt)({address:rr,amount:(0,he.Z_)(),uiAmount:(0,he.AG)((0,he.Rx)()),decimals:(0,he.Rx)(),uiAmountString:(0,he.jt)((0,he.Z_)())}))),ur((0,he.IX)((0,he.dt)({pubkey:rr,account:(0,he.dt)({executable:(0,he.O7)(),owner:rr,lamports:(0,he.Rx)(),data:ir,rentEpoch:(0,he.Rx)()})}))),(0,he.dt)({program:(0,he.Z_)(),parsed:(0,he._4)(),space:(0,he.Rx)()})),wr=(ur((0,he.IX)((0,he.dt)({pubkey:rr,account:(0,he.dt)({executable:(0,he.O7)(),owner:rr,lamports:(0,he.Rx)(),data:br,rentEpoch:(0,he.Rx)()})}))),ur((0,he.IX)((0,he.dt)({lamports:(0,he.Rx)(),address:rr}))),(0,he.dt)({executable:(0,he.O7)(),owner:rr,lamports:(0,he.Rx)(),data:ir,rentEpoch:(0,he.Rx)()})),kr=((0,he.dt)({pubkey:rr,account:wr}),(0,he.oQ)((0,he.G0)([(0,he.eE)(o.lW),br]),(0,he.G0)([nr,br]),(e=>Array.isArray(e)?(0,he.Ue)(e,ir):e))),Ar=(0,he.dt)({executable:(0,he.O7)(),owner:rr,lamports:(0,he.Rx)(),data:kr,rentEpoch:(0,he.Rx)()}),Sr=((0,he.dt)({pubkey:rr,account:Ar}),(0,he.dt)({state:(0,he.G0)([(0,he.i0)("active"),(0,he.i0)("inactive"),(0,he.i0)("activating"),(0,he.i0)("deactivating")]),active:(0,he.Rx)(),inactive:(0,he.Rx)()}),ar((0,he.IX)((0,he.dt)({signature:(0,he.Z_)(),slot:(0,he.Rx)(),err:pr,memo:(0,he.AG)((0,he.Z_)()),blockTime:(0,he.jt)((0,he.AG)((0,he.Rx)()))}))),ar((0,he.IX)((0,he.dt)({signature:(0,he.Z_)(),slot:(0,he.Rx)(),err:pr,memo:(0,he.AG)((0,he.Z_)()),blockTime:(0,he.jt)((0,he.AG)((0,he.Rx)()))}))),(0,he.dt)({subscription:(0,he.Rx)(),result:cr(wr)}),(0,he.dt)({pubkey:rr,account:wr})),Ir=((0,he.dt)({subscription:(0,he.Rx)(),result:cr(Sr)}),(0,he.dt)({parent:(0,he.Rx)(),slot:(0,he.Rx)(),root:(0,he.Rx)()})),_r=((0,he.dt)({subscription:(0,he.Rx)(),result:Ir}),(0,he.G0)([(0,he.dt)({type:(0,he.G0)([(0,he.i0)("firstShredReceived"),(0,he.i0)("completed"),(0,he.i0)("optimisticConfirmation"),(0,he.i0)("root")]),slot:(0,he.Rx)(),timestamp:(0,he.Rx)()}),(0,he.dt)({type:(0,he.i0)("createdBank"),parent:(0,he.Rx)(),slot:(0,he.Rx)(),timestamp:(0,he.Rx)()}),(0,he.dt)({type:(0,he.i0)("frozen"),slot:(0,he.Rx)(),timestamp:(0,he.Rx)(),stats:(0,he.dt)({numTransactionEntries:(0,he.Rx)(),numSuccessfulTransactions:(0,he.Rx)(),numFailedTransactions:(0,he.Rx)(),maxTransactionsPerEntry:(0,he.Rx)()})}),(0,he.dt)({type:(0,he.i0)("dead"),slot:(0,he.Rx)(),timestamp:(0,he.Rx)(),err:(0,he.Z_)()})])),vr=((0,he.dt)({subscription:(0,he.Rx)(),result:_r}),(0,he.dt)({subscription:(0,he.Rx)(),result:cr((0,he.G0)([gr,mr]))}),(0,he.dt)({subscription:(0,he.Rx)(),result:(0,he.Rx)()}),(0,he.dt)({pubkey:(0,he.Z_)(),gossip:(0,he.AG)((0,he.Z_)()),tpu:(0,he.AG)((0,he.Z_)()),rpc:(0,he.AG)((0,he.Z_)()),version:(0,he.AG)((0,he.Z_)())}),(0,he.dt)({votePubkey:(0,he.Z_)(),nodePubkey:(0,he.Z_)(),activatedStake:(0,he.Rx)(),epochVoteAccount:(0,he.O7)(),epochCredits:(0,he.IX)((0,he.bc)([(0,he.Rx)(),(0,he.Rx)(),(0,he.Rx)()])),commission:(0,he.Rx)(),lastVote:(0,he.Rx)(),rootSlot:(0,he.AG)((0,he.Rx)())})),Er=(ar((0,he.dt)({current:(0,he.IX)(vr),delinquent:(0,he.IX)(vr)})),(0,he.G0)([(0,he.i0)("processed"),(0,he.i0)("confirmed"),(0,he.i0)("finalized")])),xr=(0,he.dt)({slot:(0,he.Rx)(),confirmations:(0,he.AG)((0,he.Rx)()),err:pr,confirmationStatus:(0,he.jt)(Er)}),Tr=(ur((0,he.IX)((0,he.AG)(xr))),ar((0,he.Rx)()),(0,he.dt)({accountKey:rr,writableIndexes:(0,he.IX)((0,he.Rx)()),readonlyIndexes:(0,he.IX)((0,he.Rx)())})),Pr=(0,he.dt)({signatures:(0,he.IX)((0,he.Z_)()),message:(0,he.dt)({accountKeys:(0,he.IX)((0,he.Z_)()),header:(0,he.dt)({numRequiredSignatures:(0,he.Rx)(),numReadonlySignedAccounts:(0,he.Rx)(),numReadonlyUnsignedAccounts:(0,he.Rx)()}),instructions:(0,he.IX)((0,he.dt)({accounts:(0,he.IX)((0,he.Rx)()),data:(0,he.Z_)(),programIdIndex:(0,he.Rx)()})),recentBlockhash:(0,he.Z_)(),addressTableLookups:(0,he.jt)((0,he.IX)(Tr))})}),Rr=(0,he.dt)({parsed:(0,he._4)(),program:(0,he.Z_)(),programId:rr}),Br=(0,he.dt)({accounts:(0,he.IX)(rr),data:(0,he.Z_)(),programId:rr}),Or=(0,he.G0)([Br,Rr]),Mr=(0,he.G0)([(0,he.dt)({parsed:(0,he._4)(),program:(0,he.Z_)(),programId:(0,he.Z_)()}),(0,he.dt)({accounts:(0,he.IX)((0,he.Z_)()),data:(0,he.Z_)(),programId:(0,he.Z_)()})]),Ur=(0,he.oQ)(Or,Mr,(e=>"accounts"in e?(0,he.Ue)(e,Br):(0,he.Ue)(e,Rr))),zr=(0,he.dt)({signatures:(0,he.IX)((0,he.Z_)()),message:(0,he.dt)({accountKeys:(0,he.IX)((0,he.dt)({pubkey:rr,signer:(0,he.O7)(),writable:(0,he.O7)(),source:(0,he.jt)((0,he.G0)([(0,he.i0)("transaction"),(0,he.i0)("lookupTable")]))})),instructions:(0,he.IX)(Ur),recentBlockhash:(0,he.Z_)(),addressTableLookups:(0,he.jt)((0,he.AG)((0,he.IX)(Tr)))})}),Lr=(0,he.dt)({accountIndex:(0,he.Rx)(),mint:(0,he.Z_)(),owner:(0,he.jt)((0,he.Z_)()),uiTokenAmount:yr}),Nr=(0,he.dt)({writable:(0,he.IX)(rr),readonly:(0,he.IX)(rr)}),Cr=(0,he.dt)({err:pr,fee:(0,he.Rx)(),innerInstructions:(0,he.jt)((0,he.AG)((0,he.IX)((0,he.dt)({index:(0,he.Rx)(),instructions:(0,he.IX)((0,he.dt)({accounts:(0,he.IX)((0,he.Rx)()),data:(0,he.Z_)(),programIdIndex:(0,he.Rx)()}))})))),preBalances:(0,he.IX)((0,he.Rx)()),postBalances:(0,he.IX)((0,he.Rx)()),logMessages:(0,he.jt)((0,he.AG)((0,he.IX)((0,he.Z_)()))),preTokenBalances:(0,he.jt)((0,he.AG)((0,he.IX)(Lr))),postTokenBalances:(0,he.jt)((0,he.AG)((0,he.IX)(Lr))),loadedAddresses:(0,he.jt)(Nr),computeUnitsConsumed:(0,he.jt)((0,he.Rx)())}),Wr=(0,he.dt)({err:pr,fee:(0,he.Rx)(),innerInstructions:(0,he.jt)((0,he.AG)((0,he.IX)((0,he.dt)({index:(0,he.Rx)(),instructions:(0,he.IX)(Ur)})))),preBalances:(0,he.IX)((0,he.Rx)()),postBalances:(0,he.IX)((0,he.Rx)()),logMessages:(0,he.jt)((0,he.AG)((0,he.IX)((0,he.Z_)()))),preTokenBalances:(0,he.jt)((0,he.AG)((0,he.IX)(Lr))),postTokenBalances:(0,he.jt)((0,he.AG)((0,he.IX)(Lr))),loadedAddresses:(0,he.jt)(Nr),computeUnitsConsumed:(0,he.jt)((0,he.Rx)())}),Dr=(0,he.G0)([(0,he.i0)(0),(0,he.i0)("legacy")]),Kr=(ar((0,he.AG)((0,he.dt)({blockhash:(0,he.Z_)(),previousBlockhash:(0,he.Z_)(),parentSlot:(0,he.Rx)(),transactions:(0,he.IX)((0,he.dt)({transaction:Pr,meta:(0,he.AG)(Cr),version:(0,he.jt)(Dr)})),rewards:(0,he.jt)((0,he.IX)((0,he.dt)({pubkey:(0,he.Z_)(),lamports:(0,he.Rx)(),postBalance:(0,he.AG)((0,he.Rx)()),rewardType:(0,he.AG)((0,he.Z_)())}))),blockTime:(0,he.AG)((0,he.Rx)()),blockHeight:(0,he.AG)((0,he.Rx)())}))),ar((0,he.AG)((0,he.dt)({blockhash:(0,he.Z_)(),previousBlockhash:(0,he.Z_)(),parentSlot:(0,he.Rx)(),transactions:(0,he.IX)((0,he.dt)({transaction:Pr,meta:(0,he.AG)(Cr)})),rewards:(0,he.jt)((0,he.IX)((0,he.dt)({pubkey:(0,he.Z_)(),lamports:(0,he.Rx)(),postBalance:(0,he.AG)((0,he.Rx)()),rewardType:(0,he.AG)((0,he.Z_)())}))),blockTime:(0,he.AG)((0,he.Rx)())}))),ar((0,he.AG)((0,he.dt)({blockhash:(0,he.Z_)(),previousBlockhash:(0,he.Z_)(),parentSlot:(0,he.Rx)(),signatures:(0,he.IX)((0,he.Z_)()),blockTime:(0,he.AG)((0,he.Rx)())}))),ar((0,he.AG)((0,he.dt)({slot:(0,he.Rx)(),meta:Cr,blockTime:(0,he.jt)((0,he.AG)((0,he.Rx)())),transaction:Pr,version:(0,he.jt)(Dr)}))),ar((0,he.AG)((0,he.dt)({slot:(0,he.Rx)(),transaction:zr,meta:(0,he.AG)(Wr),blockTime:(0,he.jt)((0,he.AG)((0,he.Rx)())),version:(0,he.jt)(Dr)}))),ur((0,he.dt)({blockhash:(0,he.Z_)(),feeCalculator:(0,he.dt)({lamportsPerSignature:(0,he.Rx)()})})),ur((0,he.dt)({blockhash:(0,he.Z_)(),lastValidBlockHeight:(0,he.Rx)()})),(0,he.dt)({slot:(0,he.Rx)(),numTransactions:(0,he.Rx)(),numSlots:(0,he.Rx)(),samplePeriodSecs:(0,he.Rx)()})),Fr=(ar((0,he.IX)(Kr)),ur((0,he.AG)((0,he.dt)({feeCalculator:(0,he.dt)({lamportsPerSignature:(0,he.Rx)()})}))),ar((0,he.Z_)()),ar((0,he.Z_)()),(0,he.dt)({err:pr,logs:(0,he.IX)((0,he.Z_)()),signature:(0,he.Z_)()}));(0,he.dt)({result:cr(Fr),subscription:(0,he.Rx)()}),tr="0.0.0-development";class Gr{constructor(e){this._keypair=void 0,this._keypair=null!==e&&void 0!==e?e:ft()}static generate(){return new Gr(ft())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),n=pt(t);for(let e=0;e<32;e++)if(r[e]!==n[e])throw new Error("provided secretKey is invalid")}return new Gr({publicKey:r,secretKey:e})}static fromSeed(e){const t=pt(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new Gr({publicKey:t,secretKey:r})}get publicKey(){return new It(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Vr=Object.freeze({CreateLookupTable:{index:0,layout:de.n_([de.Jq("instruction"),Jt("recentSlot"),de.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:de.n_([de.Jq("instruction")])},ExtendLookupTable:{index:2,layout:de.n_([de.Jq("instruction"),Jt(),de.A9(Tt(),de.cv(de.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:de.n_([de.Jq("instruction")])},CloseLookupTable:{index:4,layout:de.n_([de.Jq("instruction")])}});class qr{constructor(){}static createLookupTable(e){const[t,r]=It.findProgramAddressSync([e.authority.toBuffer(),(0,le.k$)(BigInt(e.recentSlot),8)],this.programId),n=jt(Vr.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Yt.programId,isSigner:!1,isWritable:!1}];return[new Ct({programId:this.programId,keys:i,data:n}),t]}static freezeLookupTable(e){const t=jt(Vr.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ct({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=jt(Vr.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Yt.programId,isSigner:!1,isWritable:!1}),new Ct({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=jt(Vr.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Ct({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=jt(Vr.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Ct({programId:this.programId,keys:r,data:t})}}qr.programId=new It("AddressLookupTab1e1111111111111111111111111");const jr=Object.freeze({RequestUnits:{index:0,layout:de.n_([de.u8("instruction"),de.Jq("units"),de.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:de.n_([de.u8("instruction"),de.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:de.n_([de.u8("instruction"),de.Jq("units")])},SetComputeUnitPrice:{index:3,layout:de.n_([de.u8("instruction"),Jt("microLamports")])}});class Zr{constructor(){}static requestUnits(e){const t=jt(jr.RequestUnits,e);return new Ct({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=jt(jr.RequestHeapFrame,e);return new Ct({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=jt(jr.SetComputeUnitLimit,e);return new Ct({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=jt(jr.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new Ct({keys:[],programId:this.programId,data:t})}}Zr.programId=new It("ComputeBudget111111111111111111111111111111");const Hr=de.n_([de.u8("numSignatures"),de.u8("padding"),de.KB("signatureOffset"),de.KB("signatureInstructionIndex"),de.KB("publicKeyOffset"),de.KB("publicKeyInstructionIndex"),de.KB("messageDataOffset"),de.KB("messageDataSize"),de.KB("messageInstructionIndex")]);class Xr{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;Mt(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),Mt(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const s=Hr.span,a=s+t.length,u=a+n.length,c=o.lW.alloc(u+r.length),d=null==i?65535:i;return Hr.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:d,publicKeyOffset:s,publicKeyInstructionIndex:d,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:d},c),c.fill(t,s),c.fill(n,a),c.fill(r,u),new Ct({keys:[],programId:Xr.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;Mt(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=Gr.fromSecretKey(t),i=e.publicKey.toBytes(),s=mt(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Xr.programId=new It("Ed25519SigVerify111111111111111111111111111"),ht.hmacSha256Sync=function(e){const t=pe.b.create(ue.J,e);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach((e=>t.update(e))),t.digest()};const Jr=(e,t)=>function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{seed:n,m:i,d:s}=ut(e,t,r.extraEntropy);let o;const a=new Ye;for(a.reseedSync(n);!(o=rt(a.generateSync(),i,s));)a.reseedSync();return ct(o,r)}(e,t,{der:!1,recovered:!0});ht.isValidPrivateKey;const Qr=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Te.fromPrivateKey(e).toRawBytes(t)},$r=de.n_([de.u8("numSignatures"),de.KB("signatureOffset"),de.u8("signatureInstructionIndex"),de.KB("ethAddressOffset"),de.u8("ethAddressInstructionIndex"),de.KB("messageDataOffset"),de.KB("messageDataSize"),de.u8("messageInstructionIndex"),de.Ik(20,"ethAddress"),de.Ik(64,"signature"),de.u8("recoveryId")]);class Yr{constructor(){}static publicKeyToEthAddress(e){Mt(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return o.lW.from((0,fe.fr)(bt(e))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return Yr.createInstructionWithEthAddress({ethAddress:Yr.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:s=0}=e;let a;a="string"===typeof t?t.startsWith("0x")?o.lW.from(t.substr(2),"hex"):o.lW.from(t,"hex"):t,Mt(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const u=12+a.length,c=u+n.length+1,d=o.lW.alloc($r.span+r.length);return $r.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:s,signature:bt(n),ethAddress:bt(a),recoveryId:i},d),d.fill(bt(r),$r.span),new Ct({keys:[],programId:Yr.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;Mt(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=bt(t),i=Qr(e,!1).slice(1),s=o.lW.from((0,fe.fr)(bt(r))),[a,u]=Jr(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:a,recoveryId:u,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Yr.programId=new It("KeccakSecp256k11111111111111111111111111111");const en=new It("StakeConfig11111111111111111111111111111111");class tn{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}tn.default=new tn(0,0,It.default);const rn=Object.freeze({Initialize:{index:0,layout:de.n_([de.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return de.n_([Tt("staker"),Tt("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return de.n_([de.gM("unixTimestamp"),de.gM("epoch"),Tt("custodian")],e)}()])},Authorize:{index:1,layout:de.n_([de.Jq("instruction"),Tt("newAuthorized"),de.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:de.n_([de.Jq("instruction")])},Split:{index:3,layout:de.n_([de.Jq("instruction"),de.gM("lamports")])},Withdraw:{index:4,layout:de.n_([de.Jq("instruction"),de.gM("lamports")])},Deactivate:{index:5,layout:de.n_([de.Jq("instruction")])},Merge:{index:7,layout:de.n_([de.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:de.n_([de.Jq("instruction"),Tt("newAuthorized"),de.Jq("stakeAuthorizationType"),Pt("authoritySeed"),Tt("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class nn{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||tn.default,s=jt(rn.Initialize,{authorized:{staker:bt(r.staker.toBuffer()),withdrawer:bt(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:bt(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ft,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new Ct(o)}static createAccountWithSeed(e){const t=new Wt;t.add(Yt.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new Wt;t.add(Yt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=jt(rn.Delegate);return(new Wt).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Dt,isSigner:!1,isWritable:!1},{pubkey:Gt,isSigner:!1,isWritable:!1},{pubkey:en,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,o=jt(rn.Authorize,{newAuthorized:bt(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Dt,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new Wt).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,u=jt(rn.AuthorizeWithSeed,{newAuthorized:bt(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:bt(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Dt,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!1,isWritable:!1}),(new Wt).add({keys:c,programId:this.programId,data:u})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=jt(rn.Split,{lamports:i});return new Ct({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e){const t=new Wt;return t.add(Yt.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,basePubkey:i,seed:s,lamports:o}=e,a=new Wt;return a.add(Yt.allocate({accountPubkey:n,basePubkey:i,seed:s,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:o}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=jt(rn.Merge);return(new Wt).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Dt,isSigner:!1,isWritable:!1},{pubkey:Gt,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,o=jt(rn.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Dt,isSigner:!1,isWritable:!1},{pubkey:Gt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new Wt).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=jt(rn.Deactivate);return(new Wt).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Dt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}nn.programId=new It("Stake11111111111111111111111111111111111111"),nn.space=200;const sn=Object.freeze({InitializeAccount:{index:0,layout:de.n_([de.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return de.n_([Tt("nodePubkey"),Tt("authorizedVoter"),Tt("authorizedWithdrawer"),de.u8("commission")],e)}()])},Authorize:{index:1,layout:de.n_([de.Jq("instruction"),Tt("newAuthorized"),de.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:de.n_([de.Jq("instruction"),de.gM("lamports")])},AuthorizeWithSeed:{index:10,layout:de.n_([de.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteAuthorizeWithSeedArgs";return de.n_([de.Jq("voteAuthorizationType"),Tt("currentAuthorityDerivedKeyOwnerPubkey"),Pt("currentAuthorityDerivedKeySeed"),Tt("newAuthorized")],e)}()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class on{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=jt(sn.InitializeAccount,{voteInit:{nodePubkey:bt(n.nodePubkey.toBuffer()),authorizedVoter:bt(n.authorizedVoter.toBuffer()),authorizedWithdrawer:bt(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ft,isSigner:!1,isWritable:!1},{pubkey:Dt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Ct(s)}static createAccount(e){const t=new Wt;return t.add(Yt.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,s=jt(sn.Authorize,{newAuthorized:bt(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Dt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Wt).add({keys:o,programId:this.programId,data:s})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:s,votePubkey:o}=e,a=jt(sn.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:bt(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:bt(i.toBuffer()),voteAuthorizationType:s.index}}),u=[{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:Dt,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new Wt).add({keys:u,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,s=jt(sn.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Wt).add({keys:o,programId:this.programId,data:s})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insuffcient funds.");return on.withdraw(e)}}on.programId=new It("Vote111111111111111111111111111111111111111"),on.space=3731;new It("Va1idator1nfo111111111111111111111111111111"),(0,he.dt)({name:(0,he.Z_)(),website:(0,he.jt)((0,he.Z_)()),details:(0,he.jt)((0,he.Z_)()),keybaseUsername:(0,he.jt)((0,he.Z_)())});new It("Vote111111111111111111111111111111111111111"),de.n_([Tt("nodePubkey"),Tt("authorizedWithdrawer"),de.u8("commission"),de._O(),de.A9(de.n_([de._O("slot"),de.Jq("confirmationCount")]),de.cv(de.Jq(),-8),"votes"),de.u8("rootSlotValid"),de._O("rootSlot"),de._O(),de.A9(de.n_([de._O("epoch"),Tt("authorizedVoter")]),de.cv(de.Jq(),-8),"authorizedVoters"),de.n_([de.A9(de.n_([Tt("authorizedPubkey"),de._O("epochOfLastAuthorizedSwitch"),de._O("targetEpoch")]),32,"buf"),de._O("idx"),de.u8("isEmpty")],"priorVoters"),de._O(),de.A9(de.n_([de._O("epoch"),de._O("credits"),de._O("prevCredits")]),de.cv(de.Jq(),-8),"epochCredits"),de.n_([de._O("slot"),de._O("timestamp")],"lastTimestamp")]);function an(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}for(var un={},cn={byteLength:function(e){var t=mn(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=mn(e),i=n[0],s=n[1],o=new hn(function(e,t,r){return 3*(t+r)/4-r}(0,i,s)),a=0,u=s>0?i-4:i;for(r=0;r<u;r+=4)t=ln[e.charCodeAt(r)]<<18|ln[e.charCodeAt(r+1)]<<12|ln[e.charCodeAt(r+2)]<<6|ln[e.charCodeAt(r+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;2===s&&(t=ln[e.charCodeAt(r)]<<2|ln[e.charCodeAt(r+1)]>>4,o[a++]=255&t);1===s&&(t=ln[e.charCodeAt(r)]<<10|ln[e.charCodeAt(r+1)]<<4|ln[e.charCodeAt(r+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t);return o},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(yn(e,o,o+s>a?a:o+s));1===n?(t=e[r-1],i.push(dn[t>>2]+dn[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(dn[t>>10]+dn[t>>4&63]+dn[t<<2&63]+"="));return i.join("")}},dn=[],ln=[],hn="undefined"!==typeof Uint8Array?Uint8Array:Array,fn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pn=0,gn=fn.length;pn<gn;++pn)dn[pn]=fn[pn],ln[fn.charCodeAt(pn)]=pn;function mn(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function yn(e,t,r){for(var n,i,s=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(dn[(i=n)>>18&63]+dn[i>>12&63]+dn[i>>6&63]+dn[63&i]);return s.join("")}ln["-".charCodeAt(0)]=62,ln["_".charCodeAt(0)]=63;var bn={read:function(e,t,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,d=-7,l=r?i-1:0,h=r?-1:1,f=e[t+l];for(l+=h,s=f&(1<<-d)-1,f>>=-d,d+=a;d>0;s=256*s+e[t+l],l+=h,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=256*o+e[t+l],l+=h,d-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),s-=c}return(f?-1:1)*o*Math.pow(2,s-n)},write:function(e,t,r,n,i,s){var o,a,u,c=8*s-i-1,d=(1<<c)-1,l=d>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=d):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(o++,u/=2),o+l>=d?(a=0,o=d):o+l>=1?(a=(t*u-1)*Math.pow(2,i),o+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[r+f]=255&a,f+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+f]=255&o,f+=p,o/=256,c-=8);e[r+f-p]|=128*g}};!function(e){const t=cn,r=bn,n="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=function(e){+e!=e&&(e=0);return o.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,r)}function a(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|f(e,t);let n=s(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return l(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return l(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return l(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);const i=function(e){if(o.isBuffer(e)){const t=0|h(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||H(e.length)?s(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),s(e<0?0:0|h(e))}function d(e){const t=e.length<0?0:0|h(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function l(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,o.prototype),n}function h(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function f(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(i)return n?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function p(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return _(this,t,r);case"ascii":return E(this,t,r);case"latin1":case"binary":return x(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function b(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(H(n))return o;e[r+o]=n}return o}function w(e,t,r,n){return j(V(t,e.length-r),e,r,n)}function k(e,t,r,n){return j(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function A(e,t,r,n){return j(q(t),e,r,n)}function S(e,t,r,n){return j(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function I(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function _(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=v)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=v));return r}(n)}e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?s(e):void 0!==t?"string"===typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(Z(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=o.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Z(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!o.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},o.byteLength=f,o.prototype._isBuffer=!0,o.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):p.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(Z(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const u=Math.min(s,a),c=this.slice(n,i),d=e.slice(t,r);for(let o=0;o<u;++o)if(c[o]!==d[o]){s=c[o],a=d[o];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return k(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const v=4096;function E(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function x(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=X[e[s]];return i}function P(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function R(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function O(e,t,r,n,i){D(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function M(e,t,r,n,i){D(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function U(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(e,t,n,i,s){return t=+t,n>>>=0,s||U(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function L(e,t,n,i,s){return t=+t,n>>>=0,s||U(e,0,n,8),r.write(e,t,n,i,52,8),n+8}o.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=J((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),o.prototype.readBigUInt64BE=J((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=J((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),o.prototype.readBigInt64BE=J((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=J((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeBigUInt64BE=J((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=J((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeBigInt64BE=J((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeFloatLE=function(e,t,r){return z(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return z(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=o.isBuffer(e)?e:o.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};const N={};function C(e,t,r){N[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function D(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new N.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){K(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||F(t,e.length-(r+1))}(n,i,s)}function K(e,t){if("number"!==typeof e)throw new N.ERR_INVALID_ARG_TYPE(t,"number",e)}function F(e,t,r){if(Math.floor(e)!==e)throw K(e,r),new N.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new N.ERR_BUFFER_OUT_OF_BOUNDS;throw new N.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}C("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),C("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),C("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=W(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function V(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function q(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function j(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function H(e){return e!==e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function J(e){return"undefined"===typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}}(un);var wn="undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},kn="function"===typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};function An(e,t){var r={seen:[],stylize:In};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),xn(t)?r.showHidden=t:t&&Cn(r,t),Rn(r.showHidden)&&(r.showHidden=!1),Rn(r.depth)&&(r.depth=2),Rn(r.colors)&&(r.colors=!1),Rn(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Sn),_n(r,e,r.depth)}function Sn(e,t){var r=An.styles[t];return r?"\x1b["+An.colors[r][0]+"m"+e+"\x1b["+An.colors[r][1]+"m":e}function In(e,t){return e}function _n(e,t,r){if(e.customInspect&&t&&zn(t.inspect)&&t.inspect!==An&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return Pn(n)||(n=_n(e,n,r)),n}var i=function(e,t){if(Rn(t))return e.stylize("undefined","undefined");if(Pn(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(n=t,"number"===typeof n)return e.stylize(""+t,"number");var n;if(xn(t))return e.stylize(""+t,"boolean");if(Tn(t))return e.stylize("null","null")}(e,t);if(i)return i;var s=Object.keys(t),o=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),Un(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return vn(t);if(0===s.length){if(zn(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(Bn(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(Mn(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Un(t))return vn(t)}var u,c,d="",l=!1,h=["{","}"];(u=t,Array.isArray(u)&&(l=!0,h=["[","]"]),zn(t))&&(d=" [Function"+(t.name?": "+t.name:"")+"]");return Bn(t)&&(d=" "+RegExp.prototype.toString.call(t)),Mn(t)&&(d=" "+Date.prototype.toUTCString.call(t)),Un(t)&&(d=" "+vn(t)),0!==s.length||l&&0!=t.length?r<0?Bn(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=l?function(e,t,r,n,i){for(var s=[],o=0,a=t.length;o<a;++o)Wn(t,String(o))?s.push(En(e,t,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(En(e,t,r,n,i,!0))})),s}(e,t,r,o,s):s.map((function(n){return En(e,t,r,o,n,l)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,d,h)):h[0]+d+h[1]}function vn(e){return"["+Error.prototype.toString.call(e)+"]"}function En(e,t,r,n,i,s){var o,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),Wn(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=Tn(r)?_n(e,u.value,null):_n(e,u.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),Rn(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function xn(e){return"boolean"===typeof e}function Tn(e){return null===e}function Pn(e){return"string"===typeof e}function Rn(e){return void 0===e}function Bn(e){return On(e)&&"[object RegExp]"===Nn(e)}function On(e){return"object"===typeof e&&null!==e}function Mn(e){return On(e)&&"[object Date]"===Nn(e)}function Un(e){return On(e)&&("[object Error]"===Nn(e)||e instanceof Error)}function zn(e){return"function"===typeof e}function Ln(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function Nn(e){return Object.prototype.toString.call(e)}function Cn(e,t){if(!t||!On(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function Wn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Dn(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}An.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},An.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var Kn,Fn=Object.prototype.hasOwnProperty,Gn=Object.keys||function(e){var t=[];for(var r in e)Fn.call(e,r)&&t.push(r);return t},Vn=Array.prototype.slice;function qn(){return"undefined"!==typeof Kn?Kn:Kn="foo"===function(){}.name}function jn(e){return Object.prototype.toString.call(e)}function Zn(e){return!un.isBuffer(e)&&("function"===typeof wn.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function Hn(e,t){e||ei(e,!0,t,"==",ti)}var Xn=/\s*function\s+([^\(\s]*)\s*/;function Jn(e){if(zn(e)){if(qn())return e.name;var t=e.toString().match(Xn);return t&&t[1]}}function Qn(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return $n(Yn(e.actual),128)+" "+e.operator+" "+$n(Yn(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||ei;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=Jn(t),s=n.indexOf("\n"+i);if(s>=0){var o=n.indexOf("\n",s+1);n=n.substring(o+1)}this.stack=n}}}function $n(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function Yn(e){if(qn()||!zn(e))return An(e);var t=Jn(e);return"[Function"+(t?": "+t:"")+"]"}function ei(e,t,r,n,i){throw new Qn({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function ti(e,t){e||ei(e,!0,t,"==",ti)}function ri(e,t,r){e!=t&&ei(e,t,r,"==",ri)}function ni(e,t,r){e==t&&ei(e,t,r,"!=",ni)}function ii(e,t,r){oi(e,t,!1)||ei(e,t,r,"deepEqual",ii)}function si(e,t,r){oi(e,t,!0)||ei(e,t,r,"deepStrictEqual",si)}function oi(e,t,r,n){if(e===t)return!0;if(un.isBuffer(e)&&un.isBuffer(t))return 0===Dn(e,t);if(Mn(e)&&Mn(t))return e.getTime()===t.getTime();if(Bn(e)&&Bn(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(Zn(e)&&Zn(t)&&jn(e)===jn(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===Dn(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(un.isBuffer(e)!==un.isBuffer(t))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(Ln(e)||Ln(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=ai(e),s=ai(t);if(i&&!s||!i&&s)return!1;if(i)return oi(e=Vn.call(e),t=Vn.call(t),r);var o,a,u=Gn(e),c=Gn(t);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),a=u.length-1;a>=0;a--)if(u[a]!==c[a])return!1;for(a=u.length-1;a>=0;a--)if(!oi(e[o=u[a]],t[o],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function ai(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function ui(e,t,r){oi(e,t,!1)&&ei(e,t,r,"notDeepEqual",ui)}function ci(e,t,r){oi(e,t,!0)&&ei(e,t,r,"notDeepStrictEqual",ci)}function di(e,t,r){e!==t&&ei(e,t,r,"===",di)}function li(e,t,r){e===t&&ei(e,t,r,"!==",li)}function hi(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(r){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function fi(e,t,r,n){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(r){t=r}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&ei(i,r,"Missing expected exception"+n);var s="string"===typeof n,o=!e&&i&&!r;if((!e&&Un(i)&&s&&hi(i,r)||o)&&ei(i,r,"Got unwanted exception"+n),e&&i&&r&&!hi(i,r)||!e&&i)throw i}function pi(e,t,r){fi(!0,e,t,r)}function gi(e,t,r){fi(!1,e,t,r)}function mi(e){if(e)throw e}Hn.AssertionError=Qn,kn(Qn,Error),Hn.fail=ei,Hn.ok=ti,Hn.equal=ri,Hn.notEqual=ni,Hn.deepEqual=ii,Hn.deepStrictEqual=si,Hn.notDeepEqual=ui,Hn.notDeepStrictEqual=ci,Hn.strictEqual=di,Hn.notStrictEqual=li,Hn.throws=pi,Hn.doesNotThrow=gi,Hn.ifError=mi;const yi=an(Object.freeze({__proto__:null,default:Hn,AssertionError:Qn,fail:ei,ok:ti,assert:ti,equal:ri,notEqual:ni,deepEqual:ii,deepStrictEqual:si,notDeepEqual:ui,notDeepStrictEqual:ci,strictEqual:di,notStrictEqual:li,throws:pi,doesNotThrow:gi,ifError:mi}));class bi{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}class wi extends bi{isCount(){throw new Error("ExternalLayout is abstract")}}class ki extends bi{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class Ai extends bi{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof bi),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===r&&(r=t,t=void 0);for(const s of e)if(0>s.span&&void 0===s.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(i){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);const n=r;let i=0,s=0;for(const o of this.fields){let n=o.span;if(s=0<n?n:0,void 0===o.property)yi(0<n);else{const i=e[o.property];void 0!==i&&(s=o.encode(i,t,r),0>n&&(n=o.getSpan(t,r)))}i=r,r+=n}return i+s-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class Si extends bi{constructor(e,t){if(!(e instanceof wi&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof wi||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof wi&&(n=e.length),!un.Buffer.isBuffer(e)||n!==e.length)throw new TypeError((i="Blob.encode",((s=this).property?i+"["+s.property+"]":i)+" requires (length "+n+") Buffer as src"));var i,s;if(r+n>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,n,"hex"),this.length instanceof wi&&this.length.encode(n,t,r),n}}var Ii=e=>new ki(1,e),_i=e=>new ki(4,e),vi=(e,t,r)=>new Ai(e,t,r),Ei=(e,t)=>new Si(e,t);const xi=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return Ei(32,e)},Ti=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64";return Ei(8,e)};function Pi(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),s=3;s<n;s++)i[s-3]=arguments[s];return Vt(t,r,i,{skipPreflight:!1})}const Ri=new It("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Bi=new It("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),Oi="Failed to find account",Mi="Invalid account owner";function Ui(e){return un.Buffer.from(e.toBuffer())}class zi extends(s()){toBuffer(){const e=super.toArray().reverse(),t=un.Buffer.from(e);if(8===t.length)return t;Hn(t.length<8,"u64 too large");const r=un.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){return Hn(8===e.length,`Invalid buffer length: ${e.length}`),new zi([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}function Li(e){return"publicKey"in e}const Ni={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},Ci=new It("So11111111111111111111111111111111111111112"),Wi=vi([_i("mintAuthorityOption"),xi("mintAuthority"),Ti("supply"),Ii("decimals"),Ii("isInitialized"),_i("freezeAuthorityOption"),xi("freezeAuthority")]),Di=vi([xi("mint"),xi("owner"),Ti("amount"),_i("delegateOption"),xi("delegate"),Ii("state"),_i("isNativeOption"),Ti("isNative"),Ti("delegatedAmount"),_i("closeAuthorityOption"),xi("closeAuthority")]),Ki=vi([Ii("m"),Ii("n"),Ii("is_initialized"),xi("signer1"),xi("signer2"),xi("signer3"),xi("signer4"),xi("signer5"),xi("signer6"),xi("signer7"),xi("signer8"),xi("signer9"),xi("signer10"),xi("signer11")]);class Fi{constructor(e,t,r,i){(0,n.Z)(this,"connection",void 0),(0,n.Z)(this,"publicKey",void 0),(0,n.Z)(this,"programId",void 0),(0,n.Z)(this,"associatedProgramId",void 0),(0,n.Z)(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:t,programId:r,payer:i,associatedProgramId:Bi})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(Wi.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption(Di.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(Ki.span)}static async createMint(e,t,r,n,i,s){const o=Gr.generate(),a=new Fi(e,o.publicKey,s,t),u=await Fi.getMinBalanceRentForExemptMint(e),c=new Wt;return c.add(Yt.createAccount({fromPubkey:t.publicKey,newAccountPubkey:o.publicKey,lamports:u,space:Wi.span,programId:s})),c.add(Fi.createInitMintInstruction(s,o.publicKey,i,r,n)),await Pi("createAccount and InitializeMint",e,c,t,o),a}async createAccount(e){const t=await Fi.getMinBalanceRentForExemptAccount(this.connection),r=Gr.generate(),n=new Wt;n.add(Yt.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:t,space:Di.span,programId:this.programId}));const i=this.publicKey;return n.add(Fi.createInitAccountInstruction(this.programId,i,r.publicKey,e)),await Pi("createAccount and InitializeAccount",this.connection,n,this.payer,r),r.publicKey}async createAssociatedTokenAccount(e){const t=await Fi.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,t)}async createAssociatedTokenAccountInternal(e,t){return await Pi("CreateAssociatedTokenAccount",this.connection,(new Wt).add(Fi.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,t,e,this.payer.publicKey)),this.payer),t}async getOrCreateAssociatedAccountInfo(e){const t=await Fi.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(t)}catch(r){if(r.message===Oi||r.message===Mi){try{await this.createAssociatedTokenAccountInternal(e,t)}catch(r){}return await this.getAccountInfo(t)}throw r}}static async createWrappedNativeAccount(e,t,r,n,i){const s=await Fi.getMinBalanceRentForExemptAccount(e),o=Gr.generate(),a=new Wt;return a.add(Yt.createAccount({fromPubkey:n.publicKey,newAccountPubkey:o.publicKey,lamports:s,space:Di.span,programId:t})),a.add(Yt.transfer({fromPubkey:n.publicKey,toPubkey:o.publicKey,lamports:i})),a.add(Fi.createInitAccountInstruction(t,Ci,o.publicKey,r)),await Pi("createAccount, transfer, and initializeAccount",e,a,n,o),o.publicKey}async createMultisig(e,t){const r=Gr.generate(),n=await Fi.getMinBalanceRentForExemptMultisig(this.connection),i=new Wt;i.add(Yt.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:n,space:Ki.span,programId:this.programId}));let s=[{pubkey:r.publicKey,isSigner:!1,isWritable:!0},{pubkey:Ft,isSigner:!1,isWritable:!1}];t.forEach((e=>s.push({pubkey:e,isSigner:!1,isWritable:!1})));const o=vi([Ii("instruction"),Ii("m")]),a=un.Buffer.alloc(o.span);return o.encode({instruction:2,m:e},a),i.add({keys:s,programId:this.programId,data:a}),await Pi("createAccount and InitializeMultisig",this.connection,i,this.payer,r),r.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(null===e)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=Wi.span)throw new Error("Invalid mint size");const t=un.Buffer.from(e.data),r=Wi.decode(t);return 0===r.mintAuthorityOption?r.mintAuthority=null:r.mintAuthority=new It(r.mintAuthority),r.supply=zi.fromBuffer(r.supply),r.isInitialized=0!=r.isInitialized,0===r.freezeAuthorityOption?r.freezeAuthority=null:r.freezeAuthority=new It(r.freezeAuthority),r}async getAccountInfo(e,t){const r=await this.connection.getAccountInfo(e,t);if(null===r)throw new Error(Oi);if(!r.owner.equals(this.programId))throw new Error(Mi);if(r.data.length!=Di.span)throw new Error("Invalid account size");const n=un.Buffer.from(r.data),i=Di.decode(n);if(i.address=e,i.mint=new It(i.mint),i.owner=new It(i.owner),i.amount=zi.fromBuffer(i.amount),0===i.delegateOption?(i.delegate=null,i.delegatedAmount=new zi):(i.delegate=new It(i.delegate),i.delegatedAmount=zi.fromBuffer(i.delegatedAmount)),i.isInitialized=0!==i.state,i.isFrozen=2===i.state,1===i.isNativeOption?(i.rentExemptReserve=zi.fromBuffer(i.isNative),i.isNative=!0):(i.rentExemptReserve=null,i.isNative=!1),0===i.closeAuthorityOption?i.closeAuthority=null:i.closeAuthority=new It(i.closeAuthority),!i.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(i.mint)} !== ${JSON.stringify(this.publicKey)}`);return i}async getMultisigInfo(e){const t=await this.connection.getAccountInfo(e);if(null===t)throw new Error("Failed to find multisig");if(!t.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(t.data.length!=Ki.span)throw new Error("Invalid multisig size");const r=un.Buffer.from(t.data),n=Ki.decode(r);return n.signer1=new It(n.signer1),n.signer2=new It(n.signer2),n.signer3=new It(n.signer3),n.signer4=new It(n.signer4),n.signer5=new It(n.signer5),n.signer6=new It(n.signer6),n.signer7=new It(n.signer7),n.signer8=new It(n.signer8),n.signer9=new It(n.signer9),n.signer10=new It(n.signer10),n.signer11=new It(n.signer11),n}async transfer(e,t,r,n,i){let s,o;return Li(r)?(s=r.publicKey,o=[r]):(s=r,o=n),await Pi("Transfer",this.connection,(new Wt).add(Fi.createTransferInstruction(this.programId,e,t,s,n,i)),this.payer,...o)}async approve(e,t,r,n,i){let s,o;Li(r)?(s=r.publicKey,o=[r]):(s=r,o=n),await Pi("Approve",this.connection,(new Wt).add(Fi.createApproveInstruction(this.programId,e,t,s,n,i)),this.payer,...o)}async revoke(e,t,r){let n,i;Li(t)?(n=t.publicKey,i=[t]):(n=t,i=r),await Pi("Revoke",this.connection,(new Wt).add(Fi.createRevokeInstruction(this.programId,e,n,r)),this.payer,...i)}async setAuthority(e,t,r,n,i){let s,o;Li(n)?(s=n.publicKey,o=[n]):(s=n,o=i),await Pi("SetAuthority",this.connection,(new Wt).add(Fi.createSetAuthorityInstruction(this.programId,e,t,r,s,i)),this.payer,...o)}async mintTo(e,t,r,n){let i,s;Li(t)?(i=t.publicKey,s=[t]):(i=t,s=r),await Pi("MintTo",this.connection,(new Wt).add(Fi.createMintToInstruction(this.programId,this.publicKey,e,i,r,n)),this.payer,...s)}async burn(e,t,r,n){let i,s;Li(t)?(i=t.publicKey,s=[t]):(i=t,s=r),await Pi("Burn",this.connection,(new Wt).add(Fi.createBurnInstruction(this.programId,this.publicKey,e,i,r,n)),this.payer,...s)}async closeAccount(e,t,r,n){let i,s;Li(r)?(i=r.publicKey,s=[r]):(i=r,s=n),await Pi("CloseAccount",this.connection,(new Wt).add(Fi.createCloseAccountInstruction(this.programId,e,t,i,n)),this.payer,...s)}async freezeAccount(e,t,r){let n,i;Li(t)?(n=t.publicKey,i=[t]):(n=t,i=r),await Pi("FreezeAccount",this.connection,(new Wt).add(Fi.createFreezeAccountInstruction(this.programId,e,this.publicKey,n,r)),this.payer,...i)}async thawAccount(e,t,r){let n,i;Li(t)?(n=t.publicKey,i=[t]):(n=t,i=r),await Pi("ThawAccount",this.connection,(new Wt).add(Fi.createThawAccountInstruction(this.programId,e,this.publicKey,n,r)),this.payer,...i)}async transferChecked(e,t,r,n,i,s){let o,a;return Li(r)?(o=r.publicKey,a=[r]):(o=r,a=n),await Pi("TransferChecked",this.connection,(new Wt).add(Fi.createTransferCheckedInstruction(this.programId,e,this.publicKey,t,o,n,i,s)),this.payer,...a)}async approveChecked(e,t,r,n,i,s){let o,a;Li(r)?(o=r.publicKey,a=[r]):(o=r,a=n),await Pi("ApproveChecked",this.connection,(new Wt).add(Fi.createApproveCheckedInstruction(this.programId,e,this.publicKey,t,o,n,i,s)),this.payer,...a)}async mintToChecked(e,t,r,n,i){let s,o;Li(t)?(s=t.publicKey,o=[t]):(s=t,o=r),await Pi("MintToChecked",this.connection,(new Wt).add(Fi.createMintToCheckedInstruction(this.programId,this.publicKey,e,s,r,n,i)),this.payer,...o)}async burnChecked(e,t,r,n,i){let s,o;Li(t)?(s=t.publicKey,o=[t]):(s=t,o=r),await Pi("BurnChecked",this.connection,(new Wt).add(Fi.createBurnCheckedInstruction(this.programId,this.publicKey,e,s,r,n,i)),this.payer,...o)}static createInitMintInstruction(e,t,r,n,i){let s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Ft,isSigner:!1,isWritable:!1}];const o=vi([Ii("instruction"),Ii("decimals"),xi("mintAuthority"),Ii("option"),xi("freezeAuthority")]);let a=un.Buffer.alloc(1024);{const e=o.encode({instruction:0,decimals:r,mintAuthority:Ui(n),option:null===i?0:1,freezeAuthority:Ui(i||new It(0))},a);a=a.slice(0,e)}return new Ct({keys:s,programId:e,data:a})}static createInitAccountInstruction(e,t,r,n){const i=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Ft,isSigner:!1,isWritable:!1}],s=vi([Ii("instruction")]),o=un.Buffer.alloc(s.span);return s.encode({instruction:1},o),new Ct({keys:i,programId:e,data:o})}static createTransferInstruction(e,t,r,n,i,s){const o=vi([Ii("instruction"),Ti("amount")]),a=un.Buffer.alloc(o.span);o.encode({instruction:3,amount:new zi(s).toBuffer()},a);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?u.push({pubkey:n,isSigner:!0,isWritable:!1}):(u.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:u,programId:e,data:a})}static createApproveInstruction(e,t,r,n,i,s){const o=vi([Ii("instruction"),Ti("amount")]),a=un.Buffer.alloc(o.span);o.encode({instruction:4,amount:new zi(s).toBuffer()},a);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===i.length?u.push({pubkey:n,isSigner:!0,isWritable:!1}):(u.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:u,programId:e,data:a})}static createRevokeInstruction(e,t,r,n){const i=vi([Ii("instruction")]),s=un.Buffer.alloc(i.span);i.encode({instruction:5},s);let o=[{pubkey:t,isSigner:!1,isWritable:!0}];return 0===n.length?o.push({pubkey:r,isSigner:!0,isWritable:!1}):(o.push({pubkey:r,isSigner:!1,isWritable:!1}),n.forEach((e=>o.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:o,programId:e,data:s})}static createSetAuthorityInstruction(e,t,r,n,i,s){const o=vi([Ii("instruction"),Ii("authorityType"),Ii("option"),xi("newAuthority")]);let a=un.Buffer.alloc(1024);{const e=o.encode({instruction:6,authorityType:Ni[n],option:null===r?0:1,newAuthority:Ui(r||new It(0))},a);a=a.slice(0,e)}let u=[{pubkey:t,isSigner:!1,isWritable:!0}];return 0===s.length?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:u,programId:e,data:a})}static createMintToInstruction(e,t,r,n,i,s){const o=vi([Ii("instruction"),Ti("amount")]),a=un.Buffer.alloc(o.span);o.encode({instruction:7,amount:new zi(s).toBuffer()},a);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?u.push({pubkey:n,isSigner:!0,isWritable:!1}):(u.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:u,programId:e,data:a})}static createBurnInstruction(e,t,r,n,i,s){const o=vi([Ii("instruction"),Ti("amount")]),a=un.Buffer.alloc(o.span);o.encode({instruction:8,amount:new zi(s).toBuffer()},a);let u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return 0===i.length?u.push({pubkey:n,isSigner:!0,isWritable:!1}):(u.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:u,programId:e,data:a})}static createCloseAccountInstruction(e,t,r,n,i){const s=vi([Ii("instruction")]),o=un.Buffer.alloc(s.span);s.encode({instruction:9},o);let a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?a.push({pubkey:n,isSigner:!0,isWritable:!1}):(a.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>a.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:a,programId:e,data:o})}static createFreezeAccountInstruction(e,t,r,n,i){const s=vi([Ii("instruction")]),o=un.Buffer.alloc(s.span);s.encode({instruction:10},o);let a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===i.length?a.push({pubkey:n,isSigner:!0,isWritable:!1}):(a.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>a.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:a,programId:e,data:o})}static createThawAccountInstruction(e,t,r,n,i){const s=vi([Ii("instruction")]),o=un.Buffer.alloc(s.span);s.encode({instruction:11},o);let a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===i.length?a.push({pubkey:n,isSigner:!0,isWritable:!1}):(a.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>a.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:a,programId:e,data:o})}static createTransferCheckedInstruction(e,t,r,n,i,s,o,a){const u=vi([Ii("instruction"),Ti("amount"),Ii("decimals")]),c=un.Buffer.alloc(u.span);u.encode({instruction:12,amount:new zi(o).toBuffer(),decimals:a},c);let d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===s.length?d.push({pubkey:i,isSigner:!0,isWritable:!1}):(d.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach((e=>d.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:d,programId:e,data:c})}static createApproveCheckedInstruction(e,t,r,n,i,s,o,a){const u=vi([Ii("instruction"),Ti("amount"),Ii("decimals")]),c=un.Buffer.alloc(u.span);u.encode({instruction:13,amount:new zi(o).toBuffer(),decimals:a},c);let d=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===s.length?d.push({pubkey:i,isSigner:!0,isWritable:!1}):(d.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach((e=>d.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:d,programId:e,data:c})}static createMintToCheckedInstruction(e,t,r,n,i,s,o){const a=vi([Ii("instruction"),Ti("amount"),Ii("decimals")]),u=un.Buffer.alloc(a.span);a.encode({instruction:14,amount:new zi(s).toBuffer(),decimals:o},u);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:c,programId:e,data:u})}static createBurnCheckedInstruction(e,t,r,n,i,s,o){const a=vi([Ii("instruction"),Ti("amount"),Ii("decimals")]),u=un.Buffer.alloc(a.span);a.encode({instruction:15,amount:new zi(s).toBuffer(),decimals:o},u);let c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return 0===i.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new Ct({keys:c,programId:e,data:u})}static async getAssociatedTokenAddress(e,t,r,n){if(!(arguments.length>4&&void 0!==arguments[4]&&arguments[4])&&!It.isOnCurve(n.toBuffer()))throw new Error(`Owner cannot sign: ${n.toString()}`);return(await It.findProgramAddress([n.toBuffer(),t.toBuffer(),r.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,t,r,n,i,s){const o=un.Buffer.alloc(0);let a=[{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:Yt.programId,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:Ft,isSigner:!1,isWritable:!1}];return new Ct({keys:a,programId:e,data:o})}}},60920:(e,t,r)=>{"use strict";const n=r(12009),i=r(45889),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=u,t.h2=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return d(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return v(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function k(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function A(e,t,r,n){return H(j(t,e.length-r),e,r,n)}function S(e,t,r,n){return H(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return H(Z(t),e,r,n)}function _(e,t,r,n){return H(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function v(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return d(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(n,i),d=e.slice(t,r);for(let u=0;u<a;++u)if(c[u]!==d[u]){s=c[u],o=d[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=Q[e[s]];return i}function B(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function O(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function z(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function L(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=u.isBuffer(e)?e:u.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const W={};function D(e,t,r){W[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function K(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,s)}function G(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw G(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=K(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=K(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function j(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function $(e){return"undefined"===typeof BigInt?Y:e}function Y(){throw new Error("BigInt not supported")}},78838:function(e,t,r){"use strict";var n=r(18702).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const c=u(r(48744)),d=u(r(68532)),l=a(r(91995)),h=new("function"!==typeof TextDecoder?l.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=n.from(e,"utf8")),d.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(d.default.decode(e))};const f=1024;class p extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=p;class g{constructor(){this.buf=n.alloc(f),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(f)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(f)]),this.length+=e.length}writeString(e){this.maybeResize();const t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,r){const n=r.value;r.value=function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}catch(i){if(i instanceof RangeError){const e=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw i}}}t.BinaryWriter=g;class y{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new c.default(e,"le")}readU128(){const e=this.readBuffer(16);return new c.default(e,"le")}readU256(){const e=this.readBuffer(32);return new c.default(e,"le")}readU512(){const e=this.readBuffer(64);return new c.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new p(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(r){throw new p(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let n=0;n<t;++n)r.push(e());return r}}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function w(e,t,r,n,i){try{if("string"===typeof n)i[`write${b(n)}`](r);else if(n instanceof Array)if("number"===typeof n[0]){if(r.length!==n[0])throw new p(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"===typeof n[1]){if(r.length!==n[1])throw new p(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)w(e,null,r[t],n[0],i)}else i.writeArray(r,(r=>{w(e,t,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null===r||void 0===r?i.writeU8(0):(i.writeU8(1),w(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,s)=>{w(e,t,s,n.key,i),w(e,t,r,n.value,i)}));break;default:throw new p(`FieldType ${n} unrecognized`)}else k(e,r,i)}catch(s){throw s instanceof p&&s.addToFieldPath(t),s}}function k(e,t,r){if("function"===typeof t.borshSerialize)return void t.borshSerialize(r);const n=e.get(t.constructor);if(!n)throw new p(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((n=>{let[i,s]=n;w(e,i,t[i],s,r)}));else{if("enum"!==n.kind)throw new p(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const i=t[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),w(e,o,t[o],a,r);break}}}}}function A(e,t,r,n){try{if("string"===typeof r)return n[`read${b(r)}`]();if(r instanceof Array){if("number"===typeof r[0])return n.readFixedArray(r[0]);if("number"===typeof r[1]){const t=[];for(let i=0;i<r[1];i++)t.push(A(e,null,r[0],n));return t}return n.readArray((()=>A(e,t,r[0],n)))}if("option"===r.kind){return n.readU8()?A(e,t,r.type,n):void 0}if("map"===r.kind){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const s=A(e,t,r.key,n),o=A(e,t,r.value,n);i.set(s,o)}return i}return S(e,r,n)}catch(i){throw i instanceof p&&i.addToFieldPath(t),i}}function S(e,t,r){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new p(`Class ${t.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,s]of e.get(t).fields)n[i]=A(e,i,s,r);return new t(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new p(`Enum index: ${i} is out of range`);const[s,o]=n.values[i];return new t({[s]:A(e,s,o,r)})}throw new p(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}o([m],y.prototype,"readU8",null),o([m],y.prototype,"readU16",null),o([m],y.prototype,"readU32",null),o([m],y.prototype,"readU64",null),o([m],y.prototype,"readU128",null),o([m],y.prototype,"readU256",null),o([m],y.prototype,"readU512",null),o([m],y.prototype,"readString",null),o([m],y.prototype,"readFixedArray",null),o([m],y.prototype,"readArray",null),t.BinaryReader=y,t.serialize=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;const n=new r;return k(e,t,n),n.toArray()},t.deserialize=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;const i=new n(r),s=S(e,t,i);if(i.offset<r.length)throw new p(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},t.deserializeUnchecked=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;const i=new n(r);return S(e,t,i)}},18702:(e,t,r)=>{"use strict";const n=r(12009),i=r(45889),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return d(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return v(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function k(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function A(e,t,r,n){return H(j(t,e.length-r),e,r,n)}function S(e,t,r,n){return H(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return H(Z(t),e,r,n)}function _(e,t,r,n){return H(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function v(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return d(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(n,i),d=e.slice(t,r);for(let u=0;u<a;++u)if(c[u]!==d[u]){s=c[u],o=d[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=Q[e[s]];return i}function B(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function O(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function z(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function L(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=u.isBuffer(e)?e:u.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const W={};function D(e,t,r){W[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function K(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,s)}function G(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw G(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=K(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=K(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function j(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function $(e){return"undefined"===typeof BigInt?Y:e}function Y(){throw new Error("BigInt not supported")}},27842:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Account:()=>Ht,Authorized:()=>ai,BLOCKHASH_CACHE_TIMEOUT_MS:()=>zr,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Xt,BPF_LOADER_PROGRAM_ID:()=>vr,BpfLoader:()=>Er,Connection:()=>ri,Ed25519Program:()=>si,Enum:()=>Wt,EpochSchedule:()=>Rr,FeeCalculatorLayout:()=>mr,Keypair:()=>ni,LAMPORTS_PER_SOL:()=>Ei,Loader:()=>_r,Lockup:()=>ui,MAX_SEED_LENGTH:()=>Kt,Message:()=>er,NONCE_ACCOUNT_LENGTH:()=>br,NonceAccount:()=>wr,PACKET_DATA_SIZE:()=>nr,PublicKey:()=>Ft,SOLANA_SCHEMA:()=>Dt,STAKE_CONFIG_ID:()=>oi,STAKE_INSTRUCTION_LAYOUTS:()=>di,SYSTEM_INSTRUCTION_LAYOUTS:()=>Ar,SYSVAR_CLOCK_PUBKEY:()=>or,SYSVAR_INSTRUCTIONS_PUBKEY:()=>lr,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>ar,SYSVAR_RENT_PUBKEY:()=>ur,SYSVAR_REWARDS_PUBKEY:()=>cr,SYSVAR_STAKE_HISTORY_PUBKEY:()=>dr,Secp256k1Program:()=>mi,SendTransactionError:()=>Br,StakeAuthorizationLayout:()=>li,StakeInstruction:()=>ci,StakeProgram:()=>hi,Struct:()=>Ct,SystemInstruction:()=>kr,SystemProgram:()=>Sr,Transaction:()=>sr,TransactionInstruction:()=>ir,VALIDATOR_INFO_KEY:()=>yi,VOTE_PROGRAM_ID:()=>ki,ValidatorInfo:()=>wi,VoteAccount:()=>Si,clusterApiUrl:()=>vi,sendAndConfirmRawTransaction:()=>Ii,sendAndConfirmTransaction:()=>hr});var n=r(44967),i=r.n(n),s=r(69314),o=r(48744),a=r.n(o),u=r(68532),c=r.n(u),d=r(21215),l=r(42296),h=r(54338),f=r(85606),p=r(32908),g=r.n(p),m=r(91747),y=r.n(m),b=r(16348),w=r.n(b);const k=e=>s.Buffer.isBuffer(e)?e:e instanceof Uint8Array?s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):s.Buffer.from(e);var A="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{};function S(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I={},_={},v=E;function E(e,t){if(!e)throw new Error(t||"Assertion failed")}E.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var x={exports:{}};"function"===typeof Object.create?x.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:x.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var T=v,P=x.exports;function R(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function B(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function O(e){return 1===e.length?"0"+e:e}function M(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}_.inherits=P,_.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):R(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},_.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=O(e[r].toString(16));return t},_.htonl=B,_.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=B(i)),r+=M(i.toString(16))}return r},_.zero2=O,_.zero8=M,_.join32=function(e,t,r,n){var i=r-t;T(i%4===0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var u;u="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],s[o]=u>>>0}return s},_.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},_.rotr32=function(e,t){return e>>>t|e<<32-t},_.rotl32=function(e,t){return e<<t|e>>>32-t},_.sum32=function(e,t){return e+t>>>0},_.sum32_3=function(e,t,r){return e+t+r>>>0},_.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},_.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},_.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s},_.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},_.sum64_lo=function(e,t,r,n){return t+n>>>0},_.sum64_4_hi=function(e,t,r,n,i,s,o,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+s>>>0)<s?1:0,e+r+i+o+(u+=(c=c+a>>>0)<a?1:0)>>>0},_.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},_.sum64_5_hi=function(e,t,r,n,i,s,o,a,u,c){var d=0,l=t;return d+=(l=l+n>>>0)<t?1:0,d+=(l=l+s>>>0)<s?1:0,d+=(l=l+a>>>0)<a?1:0,e+r+i+o+u+(d+=(l=l+c>>>0)<c?1:0)>>>0},_.sum64_5_lo=function(e,t,r,n,i,s,o,a,u,c){return t+n+s+a+c>>>0},_.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},_.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},_.shr64_hi=function(e,t,r){return e>>>r},_.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var U={},z=_,L=v;function N(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}U.BlockHash=N,N.prototype.update=function(e,t){if(e=z.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=z.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},N.prototype.digest=function(e){return this.update(this._pad()),L(null===this.pending),this._digest(e)},N.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var C={},W={},D=_.rotr32;function K(e,t,r){return e&t^~e&r}function F(e,t,r){return e&t^e&r^t&r}function G(e,t,r){return e^t^r}W.ft_1=function(e,t,r,n){return 0===e?K(t,r,n):1===e||3===e?G(t,r,n):2===e?F(t,r,n):void 0},W.ch32=K,W.maj32=F,W.p32=G,W.s0_256=function(e){return D(e,2)^D(e,13)^D(e,22)},W.s1_256=function(e){return D(e,6)^D(e,11)^D(e,25)},W.g0_256=function(e){return D(e,7)^D(e,18)^e>>>3},W.g1_256=function(e){return D(e,17)^D(e,19)^e>>>10};var V=_,q=U,j=W,Z=V.rotl32,H=V.sum32,X=V.sum32_5,J=j.ft_1,Q=q.BlockHash,$=[1518500249,1859775393,2400959708,3395469782];function Y(){if(!(this instanceof Y))return new Y;Q.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}V.inherits(Y,Q);var ee=Y;Y.blockSize=512,Y.outSize=160,Y.hmacStrength=80,Y.padLength=64,Y.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Z(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),d=X(Z(i,5),J(c,s,o,a),u,r[n],$[c]);u=a,a=o,o=Z(s,30),s=i,i=d}this.h[0]=H(this.h[0],i),this.h[1]=H(this.h[1],s),this.h[2]=H(this.h[2],o),this.h[3]=H(this.h[3],a),this.h[4]=H(this.h[4],u)},Y.prototype._digest=function(e){return"hex"===e?V.toHex32(this.h,"big"):V.split32(this.h,"big")};var te=_,re=U,ne=W,ie=v,se=te.sum32,oe=te.sum32_4,ae=te.sum32_5,ue=ne.ch32,ce=ne.maj32,de=ne.s0_256,le=ne.s1_256,he=ne.g0_256,fe=ne.g1_256,pe=re.BlockHash,ge=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function me(){if(!(this instanceof me))return new me;pe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ge,this.W=new Array(64)}te.inherits(me,pe);var ye=me;me.blockSize=512,me.outSize=256,me.hmacStrength=192,me.padLength=64,me.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=oe(fe(r[n-2]),r[n-7],he(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],d=this.h[6],l=this.h[7];for(ie(this.k.length===r.length),n=0;n<r.length;n++){var h=ae(l,le(u),ue(u,c,d),this.k[n],r[n]),f=se(de(i),ce(i,s,o));l=d,d=c,c=u,u=se(a,h),a=o,o=s,s=i,i=se(h,f)}this.h[0]=se(this.h[0],i),this.h[1]=se(this.h[1],s),this.h[2]=se(this.h[2],o),this.h[3]=se(this.h[3],a),this.h[4]=se(this.h[4],u),this.h[5]=se(this.h[5],c),this.h[6]=se(this.h[6],d),this.h[7]=se(this.h[7],l)},me.prototype._digest=function(e){return"hex"===e?te.toHex32(this.h,"big"):te.split32(this.h,"big")};var be=_,we=ye;function ke(){if(!(this instanceof ke))return new ke;we.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}be.inherits(ke,we);var Ae=ke;ke.blockSize=512,ke.outSize=224,ke.hmacStrength=192,ke.padLength=64,ke.prototype._digest=function(e){return"hex"===e?be.toHex32(this.h.slice(0,7),"big"):be.split32(this.h.slice(0,7),"big")};var Se=_,Ie=U,_e=v,ve=Se.rotr64_hi,Ee=Se.rotr64_lo,xe=Se.shr64_hi,Te=Se.shr64_lo,Pe=Se.sum64,Re=Se.sum64_hi,Be=Se.sum64_lo,Oe=Se.sum64_4_hi,Me=Se.sum64_4_lo,Ue=Se.sum64_5_hi,ze=Se.sum64_5_lo,Le=Ie.BlockHash,Ne=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ce(){if(!(this instanceof Ce))return new Ce;Le.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ne,this.W=new Array(160)}Se.inherits(Ce,Le);var We=Ce;function De(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function Ke(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function Fe(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function Ge(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function Ve(e,t){var r=ve(e,t,28)^ve(t,e,2)^ve(t,e,7);return r<0&&(r+=4294967296),r}function qe(e,t){var r=Ee(e,t,28)^Ee(t,e,2)^Ee(t,e,7);return r<0&&(r+=4294967296),r}function je(e,t){var r=ve(e,t,14)^ve(e,t,18)^ve(t,e,9);return r<0&&(r+=4294967296),r}function Ze(e,t){var r=Ee(e,t,14)^Ee(e,t,18)^Ee(t,e,9);return r<0&&(r+=4294967296),r}function He(e,t){var r=ve(e,t,1)^ve(e,t,8)^xe(e,t,7);return r<0&&(r+=4294967296),r}function Xe(e,t){var r=Ee(e,t,1)^Ee(e,t,8)^Te(e,t,7);return r<0&&(r+=4294967296),r}function Je(e,t){var r=ve(e,t,19)^ve(t,e,29)^xe(e,t,6);return r<0&&(r+=4294967296),r}function Qe(e,t){var r=Ee(e,t,19)^Ee(t,e,29)^Te(e,t,6);return r<0&&(r+=4294967296),r}Ce.blockSize=1024,Ce.outSize=512,Ce.hmacStrength=192,Ce.padLength=128,Ce.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=Je(r[n-4],r[n-3]),s=Qe(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],u=He(r[n-30],r[n-29]),c=Xe(r[n-30],r[n-29]),d=r[n-32],l=r[n-31];r[n]=Oe(i,s,o,a,u,c,d,l),r[n+1]=Me(i,s,o,a,u,c,d,l)}},Ce.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],u=this.h[5],c=this.h[6],d=this.h[7],l=this.h[8],h=this.h[9],f=this.h[10],p=this.h[11],g=this.h[12],m=this.h[13],y=this.h[14],b=this.h[15];_e(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var k=y,A=b,S=je(l,h),I=Ze(l,h),_=De(l,h,f,p,g),v=Ke(l,h,f,p,g,m),E=this.k[w],x=this.k[w+1],T=r[w],P=r[w+1],R=Ue(k,A,S,I,_,v,E,x,T,P),B=ze(k,A,S,I,_,v,E,x,T,P);k=Ve(n,i),A=qe(n,i),S=Fe(n,i,s,o,a),I=Ge(n,i,s,o,a,u);var O=Re(k,A,S,I),M=Be(k,A,S,I);y=g,b=m,g=f,m=p,f=l,p=h,l=Re(c,d,R,B),h=Be(d,d,R,B),c=a,d=u,a=s,u=o,s=n,o=i,n=Re(R,B,O,M),i=Be(R,B,O,M)}Pe(this.h,0,n,i),Pe(this.h,2,s,o),Pe(this.h,4,a,u),Pe(this.h,6,c,d),Pe(this.h,8,l,h),Pe(this.h,10,f,p),Pe(this.h,12,g,m),Pe(this.h,14,y,b)},Ce.prototype._digest=function(e){return"hex"===e?Se.toHex32(this.h,"big"):Se.split32(this.h,"big")};var $e=_,Ye=We;function et(){if(!(this instanceof et))return new et;Ye.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}$e.inherits(et,Ye);var tt=et;et.blockSize=1024,et.outSize=384,et.hmacStrength=192,et.padLength=128,et.prototype._digest=function(e){return"hex"===e?$e.toHex32(this.h.slice(0,12),"big"):$e.split32(this.h.slice(0,12),"big")},C.sha1=ee,C.sha224=Ae,C.sha256=ye,C.sha384=tt,C.sha512=We;var rt={},nt=_,it=U,st=nt.rotl32,ot=nt.sum32,at=nt.sum32_3,ut=nt.sum32_4,ct=it.BlockHash;function dt(){if(!(this instanceof dt))return new dt;ct.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function lt(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function ht(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function ft(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}nt.inherits(dt,ct),rt.ripemd160=dt,dt.blockSize=512,dt.outSize=160,dt.hmacStrength=192,dt.padLength=64,dt.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,u=n,c=i,d=s,l=o,h=0;h<80;h++){var f=ot(st(ut(r,lt(h,n,i,s),e[pt[h]+t],ht(h)),mt[h]),o);r=o,o=s,s=st(i,10),i=n,n=f,f=ot(st(ut(a,lt(79-h,u,c,d),e[gt[h]+t],ft(h)),yt[h]),l),a=l,l=d,d=st(c,10),c=u,u=f}f=at(this.h[1],i,d),this.h[1]=at(this.h[2],s,l),this.h[2]=at(this.h[3],o,a),this.h[3]=at(this.h[4],r,u),this.h[4]=at(this.h[0],n,c),this.h[0]=f},dt.prototype._digest=function(e){return"hex"===e?nt.toHex32(this.h,"little"):nt.split32(this.h,"little")};var pt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],gt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],mt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],yt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],bt=_,wt=v;function kt(e,t,r){if(!(this instanceof kt))return new kt(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(bt.toArray(t,r))}var At=kt;kt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),wt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},kt.prototype.update=function(e,t){return this.inner.update(e,t),this},kt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=_,t.common=U,t.sha=C,t.ripemd=rt,t.hmac=At,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(I);var St=I;let It=!1,_t=!1;const vt={debug:1,default:2,info:2,warning:3,error:4,off:5};let Et=vt.default,xt=null;const Tt=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Pt,Rt;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Pt||(Pt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Rt||(Rt={}));const Bt="0123456789abcdef";class Ot{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==vt[r]&&this.throwArgumentError("invalid log level name","logLevel",e),Et>vt[r]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Ot.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Ot.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Ot.levels.WARNING,t)}makeError(e,t,r){if(_t)return this.makeError("censored error",t,{});t||(t=Ot.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=Bt[t[e]>>4],r+=Bt[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Ot.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){Tt&&this.throwError("platform missing String.prototype.normalize",Ot.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Tt})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Ot.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Ot.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Ot.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Ot.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Ot.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Ot.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Ot.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return xt||(xt=new Ot("logger/5.5.0")),xt}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Ot.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),It){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ot.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_t=!!e,It=!!t}static setLogLevel(e){const t=vt[e.toLowerCase()];null!=t?Et=t:Ot.globalLogger().warn("invalid log level - "+e)}static from(e){return new Ot(e)}}Ot.errors=Rt,Ot.levels=Pt;const Mt=new Ot("bytes/5.5.0");function Ut(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Ut(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function zt(e){return"number"===typeof e&&e==e&&e%1===0}function Lt(e,t){if(t||(t={}),"number"===typeof e){Mt.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Ut(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":Mt.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return Ut(new Uint8Array(n))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!zt(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!zt(r)||r<0||r>=256)return!1}return!0}(e)?Ut(new Uint8Array(e)):Mt.throwArgumentError("invalid arrayify value","value",e)}function Nt(e){return"0x"+St.sha256().update(Lt(e)).digest("hex")}new Ot("sha2/5.5.0");class Ct{constructor(e){Object.assign(this,e)}encode(){return s.Buffer.from((0,d.serialize)(Dt,this))}static decode(e){return(0,d.deserialize)(Dt,this,e)}static decodeUnchecked(e){return(0,d.deserializeUnchecked)(Dt,this,e)}}class Wt extends Ct{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const Dt=new Map,Kt=32;class Ft extends Ct{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=c().decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new(a())(t)}else this._bn=new(a())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return c().encode(this.toBytes())}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(s.Buffer);if(32===e.length)return e;const t=s.Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=s.Buffer.concat([e.toBuffer(),s.Buffer.from(t),r.toBuffer()]),i=Nt(new Uint8Array(n)).slice(2);return new Ft(s.Buffer.from(i,"hex"))}static async createProgramAddress(e,t){let r=s.Buffer.alloc(0);e.forEach((function(e){if(e.length>Kt)throw new TypeError("Max seed length exceeded");r=s.Buffer.concat([r,k(e)])})),r=s.Buffer.concat([r,t.toBuffer(),s.Buffer.from("ProgramDerivedAddress")]);let n=Nt(new Uint8Array(r)).slice(2),i=new(a())(n,16).toArray(void 0,32);if(Vt(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ft(i)}static async findProgramAddress(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(s.Buffer.from([n]));r=await this.createProgramAddress(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static isOnCurve(e){return 1==Vt(e)}}Ft.default=new Ft("11111111111111111111111111111111"),Dt.set(Ft,{kind:"struct",fields:[["_bn","u256"]]});let Gt=i().lowlevel;function Vt(e){var t=[Gt.gf(),Gt.gf(),Gt.gf(),Gt.gf()],r=Gt.gf(),n=Gt.gf(),i=Gt.gf(),s=Gt.gf(),o=Gt.gf(),a=Gt.gf(),u=Gt.gf();return Gt.set25519(t[2],qt),Gt.unpack25519(t[1],e),Gt.S(i,t[1]),Gt.M(s,i,Gt.D),Gt.Z(i,i,t[2]),Gt.A(s,t[2],s),Gt.S(o,s),Gt.S(a,o),Gt.M(u,a,o),Gt.M(r,u,i),Gt.M(r,r,s),Gt.pow2523(r,r),Gt.M(r,r,i),Gt.M(r,r,s),Gt.M(r,r,s),Gt.M(t[0],r,s),Gt.S(n,t[0]),Gt.M(n,n,s),Zt(n,i)&&Gt.M(t[0],t[0],jt),Gt.S(n,t[0]),Gt.M(n,n,s),Zt(n,i)?0:1}let qt=Gt.gf([1]),jt=Gt.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Zt(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return Gt.pack25519(r,e),Gt.pack25519(n,t),Gt.crypto_verify_32(r,0,n,0)}class Ht{constructor(e){this._keypair=void 0,this._keypair=e?i().sign.keyPair.fromSecretKey(k(e)):i().sign.keyPair()}get publicKey(){return new Ft(this._keypair.publicKey)}get secretKey(){return k(this._keypair.secretKey)}}const Xt=new Ft("BPFLoader1111111111111111111111111111111111"),Jt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return l.blob(32,e)},Qt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=l.struct([l.u32("length"),l.u32("lengthPadding"),l.blob(l.offset(l.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=(e,t)=>r(e,t).chars.toString("utf8"),t.encode=(e,t,r)=>{const i={chars:s.Buffer.from(e,"utf8")};return n(i,t,r)},t.alloc=e=>l.u32().span+l.u32().span+s.Buffer.from(e,"utf8").length,t};function $t(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function Yt(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}class er{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Ft(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];Yt(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=c().decode(e.data);let i=[];Yt(i,t.length);let o=[];return Yt(o,n.length),{programIdIndex:r,keyIndicesCount:s.Buffer.from(i),keyIndices:s.Buffer.from(t),dataLength:s.Buffer.from(o),data:n}}));let n=[];Yt(n,r.length);let i=s.Buffer.alloc(nr);s.Buffer.from(n).copy(i);let o=n.length;r.forEach((e=>{const t=l.struct([l.u8("programIdIndex"),l.blob(e.keyIndicesCount.length,"keyIndicesCount"),l.seq(l.u8("keyIndex"),e.keyIndices.length,"keyIndices"),l.blob(e.dataLength.length,"dataLength"),l.seq(l.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);const a=l.struct([l.blob(1,"numRequiredSignatures"),l.blob(1,"numReadonlySignedAccounts"),l.blob(1,"numReadonlyUnsignedAccounts"),l.blob(t.length,"keyCount"),l.seq(Jt("key"),e,"keys"),Jt("recentBlockhash")]),u={numRequiredSignatures:s.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:s.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:s.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:s.Buffer.from(t),keys:this.accountKeys.map((e=>k(e.toBytes()))),recentBlockhash:c().decode(this.recentBlockhash)};let d=s.Buffer.alloc(2048);const h=a.encode(u,d);return i.copy(d,h),d.slice(0,h+i.length)}static from(e){let t=[...e];const r=t.shift(),n=t.shift(),i=t.shift(),o=$t(t);let a=[];for(let f=0;f<o;f++){const e=t.slice(0,32);t=t.slice(32),a.push(c().encode(s.Buffer.from(e)))}const u=t.slice(0,32);t=t.slice(32);const d=$t(t);let l=[];for(let f=0;f<d;f++){const e=t.shift(),r=$t(t),n=t.slice(0,r);t=t.slice(r);const i=$t(t),o=t.slice(0,i),a=c().encode(s.Buffer.from(o));t=t.slice(i),l.push({programIdIndex:e,accounts:n,data:a})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:c().encode(s.Buffer.from(u)),accountKeys:a,instructions:l};return new er(h)}}function tr(e,t){if(!e)throw new Error(t||"Assertion failed")}const rr=s.Buffer.alloc(64).fill(0),nr=1232;class ir{constructor(e){this.keys=void 0,this.programId=void 0,this.data=s.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}}class sr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,e&&Object.assign(this,e)}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new ir(e))})),this}compileMessage(){const{nonceInfo:e}=this;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:t}=this;if(!t)throw new Error("Transaction recentBlockhash required");let r;if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let c=0;c<this.instructions.length;c++)if(void 0===this.instructions[c].programId)throw new Error(`Transaction instruction index ${c} has undefined program id`);const n=[],i=[];this.instructions.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new Ft(e),isSigner:!1,isWritable:!1})})),i.sort((function(e,t){const r=e.isSigner===t.isSigner?0:e.isSigner?-1:1,n=e.isWritable===t.isWritable?0:e.isWritable?-1:1;return r||n}));const s=[];i.forEach((e=>{const t=e.pubkey.toString(),r=s.findIndex((e=>e.pubkey.toString()===t));r>-1?s[r].isWritable=s[r].isWritable||e.isWritable:s.push(e)}));const o=s.findIndex((e=>e.pubkey.equals(r)));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const c of this.signatures){const e=s.findIndex((e=>e.pubkey.equals(c.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${c.publicKey.toString()}`);s[e].isSigner||(s[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,d=0;const l=[],h=[];s.forEach((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;r?(l.push(t.toString()),a+=1,n||(u+=1)):(h.push(t.toString()),n||(d+=1))}));const f=l.concat(h),p=this.instructions.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:f.indexOf(r.toString()),accounts:e.keys.map((e=>f.indexOf(e.pubkey.toString()))),data:c().encode(t)}}));return p.forEach((e=>{tr(e.programIdIndex>=0),e.accounts.forEach((e=>tr(e>=0)))})),new er({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:d},accountKeys:f,recentBlockhash:t,instructions:p})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}setSigners(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const s=this._compile();this._partialSign(s,...i),this._verifySignatures(s.serialize(),!0)}partialSign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}const s=this._compile();this._partialSign(s,...i)}_partialSign(e){const t=e.serialize();for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];n.forEach((e=>{const r=i().sign.detached(t,e.secretKey);this._addSignature(e.publicKey,k(r))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){tr(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=s.Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!i().sign.detached.verify(e,r,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];Yt(r,t.length);const n=r.length+64*t.length+e.length,i=s.Buffer.alloc(n);return tr(t.length<256),s.Buffer.from(r).copy(i,0),t.forEach(((e,t)=>{let{signature:n}=e;null!==n&&(tr(64===n.length,"signature has invalid length"),s.Buffer.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),tr(i.length<=nr,`Transaction too large: ${i.length} > ${nr}`),i}get keys(){return tr(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return tr(1===this.instructions.length),this.instructions[0].programId}get data(){return tr(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=$t(t);let n=[];for(let i=0;i<r;i++){const e=t.slice(0,64);t=t.slice(64),n.push(c().encode(s.Buffer.from(e)))}return sr.populate(er.from(t),n)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new sr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==c().encode(rr)?null:c().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new ir({keys:n,programId:e.accountKeys[t.programIdIndex],data:c().decode(t.data)}))})),r}}const or=new Ft("SysvarC1ock11111111111111111111111111111111"),ar=new Ft("SysvarRecentB1ockHashes11111111111111111111"),ur=new Ft("SysvarRent111111111111111111111111111111111"),cr=new Ft("SysvarRewards111111111111111111111111111111"),dr=new Ft("SysvarStakeHistory1111111111111111111111111"),lr=new Ft("Sysvar1nstructions1111111111111111111111111");async function hr(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},s=await e.sendTransaction(t,r,i),o=(await e.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function fr(e){return new Promise((t=>setTimeout(t,e)))}function pr(e,t){const r=e.layout.span>=0?e.layout.span:function(e,t){let r=0;return e.layout.fields.forEach((e=>{e.span>=0?r+=e.span:"function"===typeof e.alloc&&(r+=e.alloc(t[e.property]))})),r}(e,t),n=s.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}function gr(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${e.index}`);return r}const mr=l.nu64("lamportsPerSignature"),yr=l.struct([l.u32("version"),l.u32("state"),Jt("authorizedPubkey"),Jt("nonce"),l.struct([mr],"feeCalculator")]),br=yr.span;class wr{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=yr.decode(k(e),0);return new wr({authorizedPubkey:new Ft(t.authorizedPubkey),nonce:new Ft(t.nonce).toString(),feeCalculator:t.feeCalculator})}}class kr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.u32("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Ar))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:n}=gr(Ar.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Ft(n)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=gr(Ar.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:n}=gr(Ar.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Ft(n)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=gr(Ar.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:n,programId:i}=gr(Ar.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ft(t),seed:r,space:n,programId:new Ft(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=gr(Ar.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ft(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:n}=gr(Ar.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ft(t),seed:r,programId:new Ft(n)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:n,space:i,programId:s}=gr(Ar.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ft(t),seed:r,lamports:n,space:i,programId:new Ft(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=gr(Ar.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ft(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),gr(Ar.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=gr(Ar.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=gr(Ar.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ft(t)}}static checkProgramId(e){if(!e.equals(Sr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Ar=Object.freeze({Create:{index:0,layout:l.struct([l.u32("instruction"),l.ns64("lamports"),l.ns64("space"),Jt("programId")])},Assign:{index:1,layout:l.struct([l.u32("instruction"),Jt("programId")])},Transfer:{index:2,layout:l.struct([l.u32("instruction"),l.ns64("lamports")])},CreateWithSeed:{index:3,layout:l.struct([l.u32("instruction"),Jt("base"),Qt("seed"),l.ns64("lamports"),l.ns64("space"),Jt("programId")])},AdvanceNonceAccount:{index:4,layout:l.struct([l.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:l.struct([l.u32("instruction"),l.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:l.struct([l.u32("instruction"),Jt("authorized")])},AuthorizeNonceAccount:{index:7,layout:l.struct([l.u32("instruction"),Jt("authorized")])},Allocate:{index:8,layout:l.struct([l.u32("instruction"),l.ns64("space")])},AllocateWithSeed:{index:9,layout:l.struct([l.u32("instruction"),Jt("base"),Qt("seed"),l.ns64("space"),Jt("programId")])},AssignWithSeed:{index:10,layout:l.struct([l.u32("instruction"),Jt("base"),Qt("seed"),Jt("programId")])},TransferWithSeed:{index:11,layout:l.struct([l.u32("instruction"),l.ns64("lamports"),Qt("seed"),Jt("programId")])}});class Sr{constructor(){}static createAccount(e){const t=pr(Ar.Create,{lamports:e.lamports,space:e.space,programId:k(e.programId.toBuffer())});return new ir({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=pr(Ar.TransferWithSeed,{lamports:e.lamports,seed:e.seed,programId:k(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=pr(Ar.Transfer,{lamports:e.lamports}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ir({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=pr(Ar.AssignWithSeed,{base:k(e.basePubkey.toBuffer()),seed:e.seed,programId:k(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=pr(Ar.Assign,{programId:k(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ir({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=pr(Ar.CreateWithSeed,{base:k(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:k(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ir({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new sr;"basePubkey"in e&&"seed"in e?t.add(Sr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:br,programId:this.programId})):t.add(Sr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:br,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=pr(Ar.InitializeNonceAccount,{authorized:k(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:ur,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new ir(r)}static nonceAdvance(e){const t=pr(Ar.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new ir(r)}static nonceWithdraw(e){const t=pr(Ar.WithdrawNonceAccount,{lamports:e.lamports});return new ir({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=pr(Ar.AuthorizeNonceAccount,{authorized:k(e.newAuthorizedPubkey.toBuffer())});return new ir({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=pr(Ar.AllocateWithSeed,{base:k(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:k(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=pr(Ar.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ir({keys:r,programId:this.programId,data:t})}}Sr.programId=new Ft("11111111111111111111111111111111");const Ir=nr-300;class _r{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/_r.chunkSize)+1+1)}static async load(e,t,r,n,i){{const s=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new sr,a.add(Sr.allocate({accountPubkey:r.publicKey,space:i.length}))),o.owner.equals(n)||(a=a||new sr,a.add(Sr.assign({accountPubkey:r.publicKey,programId:n}))),o.lamports<s&&(a=a||new sr,a.add(Sr.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:s-o.lamports})))}else a=(new sr).add(Sr.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:i.length,programId:n}));null!==a&&await hr(e,a,[t,r],{commitment:"confirmed"})}const o=l.struct([l.u32("instruction"),l.u32("offset"),l.u32("bytesLength"),l.u32("bytesLengthPadding"),l.seq(l.u8("byte"),l.offset(l.u32(),-8),"bytes")]),a=_r.chunkSize;let u=0,c=i,d=[];for(;c.length>0;){const i=c.slice(0,a),l=s.Buffer.alloc(a+16);o.encode({instruction:0,offset:u,bytes:i},l);const h=(new sr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:l});if(d.push(hr(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await fr(1e3/e)}u+=a,c=c.slice(a)}await Promise.all(d);{const i=l.struct([l.u32("instruction")]),o=s.Buffer.alloc(i.span);i.encode({instruction:1},o);const a=(new sr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1}],programId:n,data:o});await hr(e,a,[t,r],{commitment:"confirmed"})}return!0}}_r.chunkSize=Ir;const vr=new Ft("BPFLoader2111111111111111111111111111111111");class Er{static getMinNumSignatures(e){return _r.getMinNumSignatures(e)}static load(e,t,r,n,i){return _r.load(e,t,r,i,n)}}var xr={exports:{}};!function(e,t){var r="undefined"!==typeof self?self:A,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,o="ArrayBuffer"in e;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!==typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function g(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=p(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=d(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=d(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),l(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),l(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var r=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function k(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function A(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function S(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(S.prototype),S.prototype.clone=function(){return new S(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},S.error=function(){var e=new S(null,{status:0,statusText:""});return e.type="error",e};var I=[301,302,303,307,308];S.redirect=function(e,t){if(-1===I.indexOf(t))throw new RangeError("Invalid status code");return new S(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(v){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function _(e,r){return new Promise((function(n,s){var o=new w(e,r);if(o.signal&&o.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:A(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new S(t,e))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",u)}),a.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}_.polyfill=!0,e.fetch||(e.fetch=_,e.Headers=h,e.Request=w,e.Response=S),t.Headers=h,t.Request=w,t.Response=S,t.fetch=_,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(xr,xr.exports);var Tr=S(xr.exports);function Pr(e){let t=0;for(;e>1;)e/=2,t++;return t}class Rr{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=Pr(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Pr(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Pr(32)):this.slotsPerEpoch}}class Br extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const Or=(0,h.oQ)((0,h.eE)(Ft),(0,h.Z_)(),(e=>new Ft(e))),Mr=(0,h.bc)([(0,h.Z_)(),(0,h.i0)("base64")]),Ur=(0,h.oQ)((0,h.eE)(s.Buffer),Mr,(e=>s.Buffer.from(e[0],"base64"))),zr=3e4;function Lr(e){return(0,h.G0)([(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),result:e}),(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),error:(0,h.dt)({code:(0,h._4)(),message:(0,h.Z_)(),data:(0,h.jt)((0,h.Yj)())})})])}const Nr=Lr((0,h._4)());function Cr(e){return(0,h.oQ)(Lr(e),Nr,(t=>"error"in t?t:{...t,result:(0,h.Ue)(t.result,e)}))}function Wr(e){return Cr((0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:e}))}function Dr(e){return(0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:e})}const Kr=(0,h.dt)({foundation:(0,h.Rx)(),foundationTerm:(0,h.Rx)(),initial:(0,h.Rx)(),taper:(0,h.Rx)(),terminal:(0,h.Rx)()}),Fr=Cr((0,h.IX)((0,h.AG)((0,h.dt)({epoch:(0,h.Rx)(),effectiveSlot:(0,h.Rx)(),amount:(0,h.Rx)(),postBalance:(0,h.Rx)()})))),Gr=(0,h.dt)({epoch:(0,h.Rx)(),slotIndex:(0,h.Rx)(),slotsInEpoch:(0,h.Rx)(),absoluteSlot:(0,h.Rx)(),blockHeight:(0,h.jt)((0,h.Rx)()),transactionCount:(0,h.jt)((0,h.Rx)())}),Vr=(0,h.dt)({slotsPerEpoch:(0,h.Rx)(),leaderScheduleSlotOffset:(0,h.Rx)(),warmup:(0,h.O7)(),firstNormalEpoch:(0,h.Rx)(),firstNormalSlot:(0,h.Rx)()}),qr=(0,h.IM)((0,h.Z_)(),(0,h.IX)((0,h.Rx)())),jr=(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),Zr=(0,h.dt)({err:jr}),Hr=(0,h.i0)("receivedSignature"),Xr=(0,h.dt)({"solana-core":(0,h.Z_)(),"feature-set":(0,h.jt)((0,h.Rx)())}),Jr=Wr((0,h.dt)({err:(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),logs:(0,h.AG)((0,h.IX)((0,h.Z_)())),accounts:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({executable:(0,h.O7)(),owner:(0,h.Z_)(),lamports:(0,h.Rx)(),data:(0,h.IX)((0,h.Z_)()),rentEpoch:(0,h.jt)((0,h.Rx)())})))),unitsConsumed:(0,h.jt)((0,h.Rx)())}));const Qr=Cr(Kr),$r=Cr(Gr),Yr=Cr(Vr),en=Cr(qr),tn=Cr((0,h.Rx)()),rn=Wr((0,h.dt)({total:(0,h.Rx)(),circulating:(0,h.Rx)(),nonCirculating:(0,h.Rx)(),nonCirculatingAccounts:(0,h.IX)(Or)})),nn=(0,h.dt)({amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}),sn=Wr((0,h.IX)((0,h.dt)({address:Or,amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}))),on=Wr((0,h.IX)((0,h.dt)({pubkey:Or,account:(0,h.dt)({executable:(0,h.O7)(),owner:Or,lamports:(0,h.Rx)(),data:Ur,rentEpoch:(0,h.Rx)()})}))),an=(0,h.dt)({program:(0,h.Z_)(),parsed:(0,h._4)(),space:(0,h.Rx)()}),un=Wr((0,h.IX)((0,h.dt)({pubkey:Or,account:(0,h.dt)({executable:(0,h.O7)(),owner:Or,lamports:(0,h.Rx)(),data:an,rentEpoch:(0,h.Rx)()})}))),cn=Wr((0,h.IX)((0,h.dt)({lamports:(0,h.Rx)(),address:Or}))),dn=(0,h.dt)({executable:(0,h.O7)(),owner:Or,lamports:(0,h.Rx)(),data:Ur,rentEpoch:(0,h.Rx)()}),ln=(0,h.dt)({pubkey:Or,account:dn}),hn=(0,h.oQ)((0,h.G0)([(0,h.eE)(s.Buffer),an]),(0,h.G0)([Mr,an]),(e=>Array.isArray(e)?(0,h.Ue)(e,Ur):e)),fn=(0,h.dt)({executable:(0,h.O7)(),owner:Or,lamports:(0,h.Rx)(),data:hn,rentEpoch:(0,h.Rx)()}),pn=(0,h.dt)({pubkey:Or,account:fn}),gn=(0,h.dt)({state:(0,h.G0)([(0,h.i0)("active"),(0,h.i0)("inactive"),(0,h.i0)("activating"),(0,h.i0)("deactivating")]),active:(0,h.Rx)(),inactive:(0,h.Rx)()}),mn=Cr((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:jr,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),yn=Cr((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:jr,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),bn=(0,h.dt)({subscription:(0,h.Rx)(),result:Dr(dn)}),wn=(0,h.dt)({pubkey:Or,account:dn}),kn=(0,h.dt)({subscription:(0,h.Rx)(),result:Dr(wn)}),An=(0,h.dt)({parent:(0,h.Rx)(),slot:(0,h.Rx)(),root:(0,h.Rx)()}),Sn=(0,h.dt)({subscription:(0,h.Rx)(),result:An}),In=(0,h.G0)([(0,h.dt)({type:(0,h.G0)([(0,h.i0)("firstShredReceived"),(0,h.i0)("completed"),(0,h.i0)("optimisticConfirmation"),(0,h.i0)("root")]),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("createdBank"),parent:(0,h.Rx)(),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("frozen"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),stats:(0,h.dt)({numTransactionEntries:(0,h.Rx)(),numSuccessfulTransactions:(0,h.Rx)(),numFailedTransactions:(0,h.Rx)(),maxTransactionsPerEntry:(0,h.Rx)()})}),(0,h.dt)({type:(0,h.i0)("dead"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),err:(0,h.Z_)()})]),_n=(0,h.dt)({subscription:(0,h.Rx)(),result:In}),vn=(0,h.dt)({subscription:(0,h.Rx)(),result:Dr((0,h.G0)([Zr,Hr]))}),En=(0,h.dt)({subscription:(0,h.Rx)(),result:(0,h.Rx)()}),xn=(0,h.dt)({pubkey:(0,h.Z_)(),gossip:(0,h.AG)((0,h.Z_)()),tpu:(0,h.AG)((0,h.Z_)()),rpc:(0,h.AG)((0,h.Z_)()),version:(0,h.AG)((0,h.Z_)())}),Tn=(0,h.dt)({votePubkey:(0,h.Z_)(),nodePubkey:(0,h.Z_)(),activatedStake:(0,h.Rx)(),epochVoteAccount:(0,h.O7)(),epochCredits:(0,h.IX)((0,h.bc)([(0,h.Rx)(),(0,h.Rx)(),(0,h.Rx)()])),commission:(0,h.Rx)(),lastVote:(0,h.Rx)(),rootSlot:(0,h.AG)((0,h.Rx)())}),Pn=Cr((0,h.dt)({current:(0,h.IX)(Tn),delinquent:(0,h.IX)(Tn)})),Rn=(0,h.G0)([(0,h.i0)("processed"),(0,h.i0)("confirmed"),(0,h.i0)("finalized")]),Bn=(0,h.dt)({slot:(0,h.Rx)(),confirmations:(0,h.AG)((0,h.Rx)()),err:jr,confirmationStatus:(0,h.jt)(Rn)}),On=Wr((0,h.IX)((0,h.AG)(Bn))),Mn=Cr((0,h.Rx)()),Un=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.Z_)()),header:(0,h.dt)({numRequiredSignatures:(0,h.Rx)(),numReadonlySignedAccounts:(0,h.Rx)(),numReadonlyUnsignedAccounts:(0,h.Rx)()}),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()})),recentBlockhash:(0,h.Z_)()})}),zn=(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:Or}),Ln=(0,h.dt)({accounts:(0,h.IX)(Or),data:(0,h.Z_)(),programId:Or}),Nn=(0,h.G0)([Ln,zn]),Cn=(0,h.G0)([(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:(0,h.Z_)()}),(0,h.dt)({accounts:(0,h.IX)((0,h.Z_)()),data:(0,h.Z_)(),programId:(0,h.Z_)()})]),Wn=(0,h.oQ)(Nn,Cn,(e=>"accounts"in e?(0,h.Ue)(e,Ln):(0,h.Ue)(e,zn))),Dn=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.dt)({pubkey:Or,signer:(0,h.O7)(),writable:(0,h.O7)()})),instructions:(0,h.IX)(Wn),recentBlockhash:(0,h.Z_)()})}),Kn=(0,h.dt)({accountIndex:(0,h.Rx)(),mint:(0,h.Z_)(),uiTokenAmount:nn}),Fn=(0,h.dt)({err:jr,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()}))})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(Kn))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(Kn)))}),Gn=(0,h.dt)({err:jr,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)(Wn)})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(Kn))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(Kn)))}),Vn=Cr((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:Un,meta:(0,h.AG)(Fn)})),rewards:(0,h.jt)((0,h.IX)((0,h.dt)({pubkey:(0,h.Z_)(),lamports:(0,h.Rx)(),postBalance:(0,h.AG)((0,h.Rx)()),rewardType:(0,h.AG)((0,h.Z_)())}))),blockTime:(0,h.AG)((0,h.Rx)())}))),qn=Cr((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),signatures:(0,h.IX)((0,h.Z_)()),blockTime:(0,h.AG)((0,h.Rx)())}))),jn=Cr((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),meta:Fn,blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)())),transaction:Un}))),Zn=Cr((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),transaction:Dn,meta:(0,h.AG)(Gn),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),Hn=Wr((0,h.dt)({blockhash:(0,h.Z_)(),feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})})),Xn=(0,h.dt)({slot:(0,h.Rx)(),numTransactions:(0,h.Rx)(),numSlots:(0,h.Rx)(),samplePeriodSecs:(0,h.Rx)()}),Jn=Cr((0,h.IX)(Xn)),Qn=Wr((0,h.AG)((0,h.dt)({feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})}))),$n=Cr((0,h.Z_)()),Yn=Cr((0,h.Z_)()),ei=(0,h.dt)({err:jr,logs:(0,h.IX)((0,h.Z_)()),signature:(0,h.Z_)()}),ti=(0,h.dt)({result:Dr(ei),subscription:(0,h.Rx)()});class ri{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={recentBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._accountChangeSubscriptionCounter=0,this._accountChangeSubscriptions={},this._programAccountChangeSubscriptionCounter=0,this._programAccountChangeSubscriptions={},this._rootSubscriptionCounter=0,this._rootSubscriptions={},this._signatureSubscriptionCounter=0,this._signatureSubscriptions={},this._slotSubscriptionCounter=0,this._slotSubscriptions={},this._logsSubscriptionCounter=0,this._logsSubscriptions={},this._slotUpdateSubscriptionCounter=0,this._slotUpdateSubscriptions={};let r=new URL(e);r.protocol;let n,i,s,o;var a;t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,i=t.httpHeaders,s=t.fetchMiddleware,o=t.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=n||function(e){let t=new URL(e);const r="https:"===t.protocol;return t.protocol=r?"wss:":"ws:",t.host="",""!==t.port&&(t.port=String(Number(t.port)+1)),t.toString()}(e),this._rpcClient=function(e,t,r,n,i){let s;return n&&(s=(e,t)=>new Promise(((r,i)=>{n(e,t,(async(e,t)=>{try{r(await Tr(e,t))}catch(n){i(n)}}))}))),new(g())((async(t,n)=>{const o={method:"POST",body:t,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{})};try{let t,r=5,a=500;for(;t=s?await s(e,o):await Tr(e,o),429===t.status&&!0!==i&&(r-=1,0!==r);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${a}ms delay...`),await fr(a),a*=2;const u=await t.text();t.ok?n(null,u):n(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(a){a instanceof Error&&n(a)}}),{})}(r.toString(),0,i,s,o),this._rpcRequest=(a=this._rpcClient,(e,t)=>new Promise(((r,n)=>{a.request(e,t,((e,t)=>{e?n(e):r(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((r,n)=>{0===t.length&&r([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?n(e):r(t)}))}))}(this._rpcClient),this._rpcWebSocket=new f.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}async getBalanceAndContext(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getBalance",r),i=(0,h.Ue)(n,Wr((0,h.Rx)()));if("error"in i)throw new Error("failed to get balance for "+e.toBase58()+": "+i.error.message);return i.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=(0,h.Ue)(t,Cr((0,h.AG)((0,h.Rx)())));if("error"in r)throw new Error("failed to get block time for slot "+e+": "+r.error.message);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,h.Ue)(e,Cr((0,h.Rx)()));if("error"in t)throw new Error("failed to get minimum ledger slot: "+t.error.message);return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,h.Ue)(e,tn);if("error"in t)throw new Error("failed to get first available block: "+t.error.message);return t.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),n=(0,h.Ue)(r,rn);if("error"in n)throw new Error("failed to get supply: "+n.error.message);return n.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenSupply",r),i=(0,h.Ue)(n,Wr(nn));if("error"in i)throw new Error("failed to get token supply: "+i.error.message);return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenAccountBalance",r),i=(0,h.Ue)(n,Wr(nn));if("error"in i)throw new Error("failed to get token account balance: "+i.error.message);return i.result}async getTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"base64"),s=await this._rpcRequest("getTokenAccountsByOwner",i),o=(0,h.Ue)(s,on);if("error"in o)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+o.error.message);return o.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",i),o=(0,h.Ue)(s,un);if("error"in o)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+o.error.message);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=await this._rpcRequest("getLargestAccounts",r),i=(0,h.Ue)(n,cn);if("error"in i)throw new Error("failed to get largest accounts: "+i.error.message);return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenLargestAccounts",r),i=(0,h.Ue)(n,sn);if("error"in i)throw new Error("failed to get token largest accounts: "+i.error.message);return i.result}async getAccountInfoAndContext(e,t){const r=this._buildArgs([e.toBase58()],t,"base64"),n=await this._rpcRequest("getAccountInfo",r),i=(0,h.Ue)(n,Wr((0,h.AG)(dn)));if("error"in i)throw new Error("failed to get info about account "+e.toBase58()+": "+i.error.message);return i.result}async getParsedAccountInfo(e,t){const r=this._buildArgs([e.toBase58()],t,"jsonParsed"),n=await this._rpcRequest("getAccountInfo",r),i=(0,h.Ue)(n,Wr((0,h.AG)(fn)));if("error"in i)throw new Error("failed to get info about account "+e.toBase58()+": "+i.error.message);return i.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleAccountsInfo(e,t){const r=e.map((e=>e.toBase58())),n=this._buildArgs([r],t,"base64"),i=await this._rpcRequest("getMultipleAccounts",n),s=(0,h.Ue)(i,Wr((0,h.IX)((0,h.AG)(dn))));if("error"in s)throw new Error("failed to get info for accounts "+r+": "+s.error.message);return s.result.value}async getStakeActivation(e,t,r){const n=this._buildArgs([e.toBase58()],t,void 0,void 0!==r?{epoch:r}:void 0),i=await this._rpcRequest("getStakeActivation",n),s=(0,h.Ue)(i,Cr(gn));if("error"in s)throw new Error(`failed to get Stake Activation ${e.toBase58()}: ${s.error.message}`);return s.result}async getProgramAccounts(e,t){const r={};let n,i;t&&("string"===typeof t?n=t:(n=t.commitment,i=t.encoding,t.dataSlice&&(r.dataSlice=t.dataSlice),t.filters&&(r.filters=t.filters)));const s=this._buildArgs([e.toBase58()],n,i||"base64",r),o=await this._rpcRequest("getProgramAccounts",s),a=(0,h.Ue)(o,Cr((0,h.IX)(ln)));if("error"in a)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+a.error.message);return a.result}async getParsedProgramAccounts(e,t){const r={};let n;t&&("string"===typeof t?n=t:(n=t.commitment,t.filters&&(r.filters=t.filters)));const i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),s=await this._rpcRequest("getProgramAccounts",i),o=(0,h.Ue)(s,Cr((0,h.IX)(pn)));if("error"in o)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+o.error.message);return o.result}async confirmTransaction(e,t){let r;try{r=c().decode(e)}catch(d){throw new Error("signature must be base58 encoded: "+e)}tr(64===r.length,"signature has invalid length");const n=Date.now(),i=t||this.commitment;let s,o=null;const a=new Promise(((t,r)=>{try{s=this.onSignature(e,((e,r)=>{s=void 0,o={context:r,value:e},t(null)}),i)}catch(d){r(d)}}));let u=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":u=this._confirmTransactionInitialTimeout||3e4}try{await function(e,t){let r;const n=new Promise((e=>{r=setTimeout((()=>e(null)),t)}));return Promise.race([e,n]).then((e=>(clearTimeout(r),e)))}(a,u)}finally{s&&this.removeSignatureListener(s)}if(null===o){const t=(Date.now()-n)/1e3;throw new Error(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`)}return o}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,h.Ue)(e,Cr((0,h.IX)(xn)));if("error"in t)throw new Error("failed to get cluster nodes: "+t.error.message);return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),n=(0,h.Ue)(r,Pn);if("error"in n)throw new Error("failed to get vote accounts: "+n.error.message);return n.result}async getSlot(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getSlot",t),n=(0,h.Ue)(r,Cr((0,h.Rx)()));if("error"in n)throw new Error("failed to get slot: "+n.error.message);return n.result}async getSlotLeader(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getSlotLeader",t),n=(0,h.Ue)(r,Cr((0,h.Z_)()));if("error"in n)throw new Error("failed to get slot leader: "+n.error.message);return n.result}async getSlotLeaders(e,t){const r=[e,t],n=await this._rpcRequest("getSlotLeaders",r),i=(0,h.Ue)(n,Cr((0,h.IX)(Or)));if("error"in i)throw new Error("failed to get slot leaders: "+i.error.message);return i.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);tr(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=await this._rpcRequest("getSignatureStatuses",r),i=(0,h.Ue)(n,On);if("error"in i)throw new Error("failed to get signature status: "+i.error.message);return i.result}async getTransactionCount(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getTransactionCount",t),n=(0,h.Ue)(r,Cr((0,h.Rx)()));if("error"in n)throw new Error("failed to get transaction count: "+n.error.message);return n.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),n=(0,h.Ue)(r,Qr);if("error"in n)throw new Error("failed to get inflation: "+n.error.message);return n.result}async getInflationReward(e,t,r){const n=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,{epoch:t}),i=await this._rpcRequest("getInflationReward",n),s=(0,h.Ue)(i,Fr);if("error"in s)throw new Error("failed to get inflation reward: "+s.error.message);return s.result}async getEpochInfo(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getEpochInfo",t),n=(0,h.Ue)(r,$r);if("error"in n)throw new Error("failed to get epoch info: "+n.error.message);return n.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,h.Ue)(e,Yr);if("error"in t)throw new Error("failed to get epoch schedule: "+t.error.message);const r=t.result;return new Rr(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,h.Ue)(e,en);if("error"in t)throw new Error("failed to get leader schedule: "+t.error.message);return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=(0,h.Ue)(n,Mn);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),n=(0,h.Ue)(r,Hn);if("error"in n)throw new Error("failed to get recent blockhash: "+n.error.message);return n.result}async getRecentPerformanceSamples(e){const t=this._buildArgs(e?[e]:[]),r=await this._rpcRequest("getRecentPerformanceSamples",t),n=(0,h.Ue)(r,Jn);if("error"in n)throw new Error("failed to get recent performance samples: "+n.error.message);return n.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=(0,h.Ue)(n,Qn);if("error"in i)throw new Error("failed to get fee calculator: "+i.error.message);const{context:s,value:o}=i.result;return{context:s,value:null!==o?o.feeCalculator:null}}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,h.Ue)(e,Cr(Xr));if("error"in t)throw new Error("failed to get version: "+t.error.message);return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,h.Ue)(e,Cr((0,h.Z_)()));if("error"in t)throw new Error("failed to get genesis hash: "+t.error.message);return t.result}async getBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,h.Ue)(n,Vn);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const s=i.result;return s?{...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new er(t.message);return{meta:r,transaction:{...t,message:n}}}))}:s}async getTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,h.Ue)(n,jn);if("error"in i)throw new Error("failed to get confirmed transaction: "+i.error.message);const s=i.result;return s?{...s,transaction:{...s.transaction,message:new er(s.transaction.message)}}:s}async getConfirmedBlock(e,t){const r=await this.getBlock(e,{commitment:t});if(!r)throw new Error("Confirmed block "+e+" not found");return{...r,transactions:r.transactions.map((e=>{let{transaction:t,meta:r}=e;return{meta:r,transaction:sr.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=await this._rpcRequest("getConfirmedBlocks",n),s=(0,h.Ue)(i,Cr((0,h.IX)((0,h.Rx)())));if("error"in s)throw new Error("failed to get blocks: "+s.error.message);return s.result}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,h.Ue)(n,qn);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,t){const r=await this.getTransaction(e,{commitment:t});if(!r)return r;const{message:n,signatures:i}=r.transaction;return{...r,transaction:sr.populate(n,i)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,h.Ue)(n,Zn);if("error"in i)throw new Error("failed to get confirmed transaction: "+i.error.message);return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,h.Ue)(e,Zn);if("error"in t)throw new Error("failed to get confirmed transactions: "+t.error.message);return t.result}))}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}let s=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>s);)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}return(await this.getConfirmedSignaturesForAddress2(e,n)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),s=(0,h.Ue)(i,mn);if("error"in s)throw new Error("failed to get confirmed signatures for address: "+s.error.message);return s.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",n),s=(0,h.Ue)(i,yn);if("error"in s)throw new Error("failed to get signatures for address: "+s.error.message);return s.result}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=wr.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),n=(0,h.Ue)(r,$n);if("error"in n)throw new Error("airdrop to "+e.toBase58()+" failed: "+n.error.message);return n.result}async _recentBlockhash(e){if(!e){for(;this._pollingBlockhash;)await fr(100);const e=Date.now()-this._blockhashInfo.lastFetch>=zr;if(null!==this._blockhashInfo.recentBlockhash&&!e)return this._blockhashInfo.recentBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now();for(let t=0;t<50;t++){const{blockhash:e}=await this.getRecentBlockhash("finalized");if(this._blockhashInfo.recentBlockhash!=e)return this._blockhashInfo={recentBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await fr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async simulateTransaction(e,t,r){let n;if(n=e instanceof sr?e:sr.populate(e),n.nonceInfo&&t)n.sign(...t);else{let e=this._disableBlockhashCaching;for(;n.recentBlockhash=await this._recentBlockhash(e),t;){if(n.sign(...t),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}e=!0}}const i=n._compile(),s=i.serialize(),o=n._serialize(s).toString("base64"),a={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:i.nonProgramIds()).map((e=>e.toBase58()));a.accounts={encoding:"base64",addresses:e}}t&&(a.sigVerify=!0);const u=[o,a],c=await this._rpcRequest("simulateTransaction",u),d=(0,h.Ue)(c,Jr);if("error"in d){let e;if("data"in d.error&&(e=d.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(d.error.message,r)}throw new Br("failed to simulate transaction: "+d.error.message,e)}return d.result}async sendTransaction(e,t,r){if(e.nonceInfo)e.sign(...t);else{let r=this._disableBlockhashCaching;for(;;){if(e.recentBlockhash=await this._recentBlockhash(r),e.sign(...t),!e.signature)throw new Error("!signature");const n=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.transactionSignatures.push(n);break}r=!0}}const n=e.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(e,t){const r=k(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const s=[e,r],o=await this._rpcRequest("sendTransaction",s),a=(0,h.Ue)(o,Yn);if("error"in a){let e;if("data"in a.error&&(e=a.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(a.error.message,r)}throw new Br("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?this._resetSubscriptions():this._updateSubscriptions()}async _subscribe(e,t,r){if(null==e.subscriptionId){e.subscriptionId="subscribing";try{const n=await this._rpcWebSocket.call(t,r);"number"===typeof n&&"subscribing"===e.subscriptionId&&(e.subscriptionId=n)}catch(n){"subscribing"===e.subscriptionId&&(e.subscriptionId=null),n instanceof Error&&console.error(`${t} error for argument`,r,n.message)}}}async _unsubscribe(e,t){const r=e.subscriptionId;if(null!=r&&"string"!=typeof r){const e=r;try{await this._rpcWebSocket.call(t,[e])}catch(n){n instanceof Error&&console.error(`${t} error:`,n.message)}}}_resetSubscriptions(){Object.values(this._accountChangeSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._programAccountChangeSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._rootSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._signatureSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._slotSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._slotUpdateSubscriptions).forEach((e=>e.subscriptionId=null))}_updateSubscriptions(){const e=Object.keys(this._accountChangeSubscriptions).map(Number),t=Object.keys(this._programAccountChangeSubscriptions).map(Number),r=Object.keys(this._slotSubscriptions).map(Number),n=Object.keys(this._slotUpdateSubscriptions).map(Number),i=Object.keys(this._signatureSubscriptions).map(Number),s=Object.keys(this._rootSubscriptions).map(Number),o=Object.keys(this._logsSubscriptions).map(Number);if(0!==e.length||0!==t.length||0!==r.length||0!==n.length||0!==i.length||0!==s.length||0!==o.length)if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),this._rpcWebSocketConnected){for(let t of e){const e=this._accountChangeSubscriptions[t];this._subscribe(e,"accountSubscribe",this._buildArgs([e.publicKey],e.commitment,"base64"))}for(let e of t){const t=this._programAccountChangeSubscriptions[e];this._subscribe(t,"programSubscribe",this._buildArgs([t.programId],t.commitment,"base64",{filters:t.filters}))}for(let e of r){const t=this._slotSubscriptions[e];this._subscribe(t,"slotSubscribe",[])}for(let e of n){const t=this._slotUpdateSubscriptions[e];this._subscribe(t,"slotsUpdatesSubscribe",[])}for(let e of i){const t=this._signatureSubscriptions[e],r=[t.signature];t.options&&r.push(t.options),this._subscribe(t,"signatureSubscribe",r)}for(let e of s){const t=this._rootSubscriptions[e];this._subscribe(t,"rootSubscribe",[])}for(let e of o){const t=this._logsSubscriptions[e];let r;r="object"===typeof t.filter?{mentions:[t.filter.toString()]}:t.filter,this._subscribe(t,"logsSubscribe",this._buildArgs([r],t.commitment))}}else this._rpcWebSocket.connect();else this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null,this._rpcWebSocket.close()}),500))}_wsOnAccountNotification(e){const t=(0,h.Ue)(e,bn);for(const r of Object.values(this._accountChangeSubscriptions))if(r.subscriptionId===t.subscription)return void r.callback(t.result.value,t.result.context)}onAccountChange(e,t,r){const n=++this._accountChangeSubscriptionCounter;return this._accountChangeSubscriptions[n]={publicKey:e.toBase58(),callback:t,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}async removeAccountChangeListener(e){if(!this._accountChangeSubscriptions[e])throw new Error(`Unknown account change id: ${e}`);{const t=this._accountChangeSubscriptions[e];delete this._accountChangeSubscriptions[e],await this._unsubscribe(t,"accountUnsubscribe"),this._updateSubscriptions()}}_wsOnProgramAccountNotification(e){const t=(0,h.Ue)(e,kn);for(const r of Object.values(this._programAccountChangeSubscriptions))if(r.subscriptionId===t.subscription){const{value:e,context:n}=t.result;return void r.callback({accountId:e.pubkey,accountInfo:e.account},n)}}onProgramAccountChange(e,t,r,n){const i=++this._programAccountChangeSubscriptionCounter;return this._programAccountChangeSubscriptions[i]={programId:e.toBase58(),callback:t,commitment:r,subscriptionId:null,filters:n},this._updateSubscriptions(),i}async removeProgramAccountChangeListener(e){if(!this._programAccountChangeSubscriptions[e])throw new Error(`Unknown program account change id: ${e}`);{const t=this._programAccountChangeSubscriptions[e];delete this._programAccountChangeSubscriptions[e],await this._unsubscribe(t,"programUnsubscribe"),this._updateSubscriptions()}}onLogs(e,t,r){const n=++this._logsSubscriptionCounter;return this._logsSubscriptions[n]={filter:e,callback:t,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}async removeOnLogsListener(e){if(!this._logsSubscriptions[e])throw new Error(`Unknown logs id: ${e}`);const t=this._logsSubscriptions[e];delete this._logsSubscriptions[e],await this._unsubscribe(t,"logsUnsubscribe"),this._updateSubscriptions()}_wsOnLogsNotification(e){const t=(0,h.Ue)(e,ti),r=Object.keys(this._logsSubscriptions).map(Number);for(let n of r){const e=this._logsSubscriptions[n];if(e.subscriptionId===t.subscription)return void e.callback(t.result.value,t.result.context)}}_wsOnSlotNotification(e){const t=(0,h.Ue)(e,Sn);for(const r of Object.values(this._slotSubscriptions))if(r.subscriptionId===t.subscription)return void r.callback(t.result)}onSlotChange(e){const t=++this._slotSubscriptionCounter;return this._slotSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeSlotChangeListener(e){if(!this._slotSubscriptions[e])throw new Error(`Unknown slot change id: ${e}`);{const t=this._slotSubscriptions[e];delete this._slotSubscriptions[e],await this._unsubscribe(t,"slotUnsubscribe"),this._updateSubscriptions()}}_wsOnSlotUpdatesNotification(e){const t=(0,h.Ue)(e,_n);for(const r of Object.values(this._slotUpdateSubscriptions))if(r.subscriptionId===t.subscription)return void r.callback(t.result)}onSlotUpdate(e){const t=++this._slotUpdateSubscriptionCounter;return this._slotUpdateSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeSlotUpdateListener(e){if(!this._slotUpdateSubscriptions[e])throw new Error(`Unknown slot update id: ${e}`);{const t=this._slotUpdateSubscriptions[e];delete this._slotUpdateSubscriptions[e],await this._unsubscribe(t,"slotsUpdatesUnsubscribe"),this._updateSubscriptions()}}_buildArgs(e,t,r,n){const i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const t=(0,h.Ue)(e,vn);for(const[r,n]of Object.entries(this._signatureSubscriptions))if(n.subscriptionId===t.subscription)return void("receivedSignature"===t.result.value?n.callback({type:"received"},t.result.context):(delete this._signatureSubscriptions[Number(r)],this._updateSubscriptions(),n.callback({type:"status",result:t.result.value},t.result.context)))}onSignature(e,t,r){const n=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[n]={signature:e,callback:(e,r)=>{"status"===e.type&&t(e.result,r)},options:{commitment:r},subscriptionId:null},this._updateSubscriptions(),n}onSignatureWithOptions(e,t,r){const n=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[n]={signature:e,callback:t,options:r,subscriptionId:null},this._updateSubscriptions(),n}async removeSignatureListener(e){if(!this._signatureSubscriptions[e])throw new Error(`Unknown signature result id: ${e}`);{const t=this._signatureSubscriptions[e];delete this._signatureSubscriptions[e],await this._unsubscribe(t,"signatureUnsubscribe"),this._updateSubscriptions()}}_wsOnRootNotification(e){const t=(0,h.Ue)(e,En);for(const r of Object.values(this._rootSubscriptions))if(r.subscriptionId===t.subscription)return void r.callback(t.result)}onRootChange(e){const t=++this._rootSubscriptionCounter;return this._rootSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeRootChangeListener(e){if(!this._rootSubscriptions[e])throw new Error(`Unknown root change id: ${e}`);{const t=this._rootSubscriptions[e];delete this._rootSubscriptions[e],await this._unsubscribe(t,"rootUnsubscribe"),this._updateSubscriptions()}}}class ni{constructor(e){this._keypair=void 0,this._keypair=e||i().sign.keyPair()}static generate(){return new ni(i().sign.keyPair())}static fromSecretKey(e,t){const r=i().sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("@solana/web3.js-validation-v1"),t=i().sign.detached(e,r.secretKey);if(!i().sign.detached.verify(e,t,r.publicKey))throw new Error("provided secretKey is invalid")}return new ni(r)}static fromSeed(e){return new ni(i().sign.keyPair.fromSeed(e))}get publicKey(){return new Ft(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const ii=l.struct([l.u8("numSignatures"),l.u8("padding"),l.u16("signatureOffset"),l.u16("signatureInstructionIndex"),l.u16("publicKeyOffset"),l.u16("publicKeyInstructionIndex"),l.u16("messageDataOffset"),l.u16("messageDataSize"),l.u16("messageInstructionIndex")]);class si{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;tr(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),tr(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const o=ii.span,a=o+t.length,u=a+n.length,c=s.Buffer.alloc(u+r.length);return ii.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:i,publicKeyOffset:o,publicKeyInstructionIndex:i,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:i},c),c.fill(t,o),c.fill(n,a),c.fill(r,u),new ir({keys:[],programId:si.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;tr(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=ni.fromSecretKey(t),s=e.publicKey.toBytes(),o=i().sign.detached(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:o,instructionIndex:n})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}si.programId=new Ft("Ed25519SigVerify111111111111111111111111111");const oi=new Ft("StakeConfig11111111111111111111111111111111");class ai{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class ui{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}ui.default=new ui(0,0,Ft.default);class ci{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=l.u32("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(di))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=gr(di.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new ai(new Ft(t.staker),new Ft(t.withdrawer)),lockup:new ui(r.unixTimestamp,r.epoch,new Ft(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),gr(di.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=gr(di.Authorize,e.data),n={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ft(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(n.custodianPubkey=e.keys[3].pubkey),n}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=gr(di.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:n,authorityOwner:new Ft(i),newAuthorizedPubkey:new Ft(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=gr(di.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),gr(di.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=gr(di.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),gr(di.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(hi.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const di=Object.freeze({Initialize:{index:0,layout:l.struct([l.u32("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return l.struct([Jt("staker"),Jt("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return l.struct([l.ns64("unixTimestamp"),l.ns64("epoch"),Jt("custodian")],e)}()])},Authorize:{index:1,layout:l.struct([l.u32("instruction"),Jt("newAuthorized"),l.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:l.struct([l.u32("instruction")])},Split:{index:3,layout:l.struct([l.u32("instruction"),l.ns64("lamports")])},Withdraw:{index:4,layout:l.struct([l.u32("instruction"),l.ns64("lamports")])},Deactivate:{index:5,layout:l.struct([l.u32("instruction")])},Merge:{index:7,layout:l.struct([l.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:l.struct([l.u32("instruction"),Jt("newAuthorized"),l.u32("stakeAuthorizationType"),Qt("authoritySeed"),Jt("authorityOwner")])}}),li=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class hi{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||ui.default,s=pr(di.Initialize,{authorized:{staker:k(r.staker.toBuffer()),withdrawer:k(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:k(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new ir(o)}static createAccountWithSeed(e){const t=new sr;t.add(Sr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new sr;t.add(Sr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=pr(di.Delegate);return(new sr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:oi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,o=pr(di.Authorize,{newAuthorized:k(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new sr).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,u=pr(di.AuthorizeWithSeed,{newAuthorized:k(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:k(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:or,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!1,isWritable:!1}),(new sr).add({keys:c,programId:this.programId,data:u})}static split(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=new sr;s.add(Sr.createAccount({fromPubkey:r,newAccountPubkey:n,lamports:0,space:this.space,programId:this.programId}));const o=pr(di.Split,{lamports:i});return s.add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=pr(di.Merge);return(new sr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,o=pr(di.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new sr).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=pr(di.Deactivate);return(new sr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}hi.programId=new Ft("Stake11111111111111111111111111111111111111"),hi.space=200;const{publicKeyCreate:fi,ecdsaSign:pi}=y(),gi=l.struct([l.u8("numSignatures"),l.u16("signatureOffset"),l.u8("signatureInstructionIndex"),l.u16("ethAddressOffset"),l.u8("ethAddressInstructionIndex"),l.u16("messageDataOffset"),l.u16("messageDataSize"),l.u8("messageInstructionIndex"),l.blob(20,"ethAddress"),l.blob(64,"signature"),l.u8("recoveryId")]);class mi{constructor(){}static publicKeyToEthAddress(e){tr(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return s.Buffer.from(w().keccak_256.update(k(e)).digest()).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return mi.createInstructionWithEthAddress({ethAddress:mi.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:o=0}=e;let a;a="string"===typeof t?t.startsWith("0x")?s.Buffer.from(t.substr(2),"hex"):s.Buffer.from(t,"hex"):t,tr(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const u=12+a.length,c=u+n.length+1,d=s.Buffer.alloc(gi.span+r.length);return gi.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:o,signature:k(n),ethAddress:k(a),recoveryId:i},d),d.fill(k(r),gi.span),new ir({keys:[],programId:mi.programId,data:d})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;tr(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=k(t),i=fi(e,!1).slice(1),o=s.Buffer.from(w().keccak_256.update(k(r)).digest()),{signature:a,recid:u}=pi(o,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:a,recoveryId:u,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}mi.programId=new Ft("KeccakSecp256k11111111111111111111111111111");const yi=new Ft("Va1idator1nfo111111111111111111111111111111"),bi=(0,h.dt)({name:(0,h.Z_)(),website:(0,h.jt)((0,h.Z_)()),details:(0,h.jt)((0,h.Z_)()),keybaseUsername:(0,h.jt)((0,h.Z_)())});class wi{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==$t(t))return null;const r=[];for(let n=0;n<2;n++){const e=new Ft(t.slice(0,32));t=t.slice(32);const n=1===t.slice(0,1)[0];t=t.slice(1),r.push({publicKey:e,isSigner:n})}if(r[0].publicKey.equals(yi)&&r[1].isSigner){const e=Qt().decode(s.Buffer.from(t)),n=JSON.parse(e);return(0,h.hu)(n,bi),new wi(r[1].publicKey,n)}return null}}const ki=new Ft("Vote111111111111111111111111111111111111111"),Ai=l.struct([Jt("nodePubkey"),Jt("authorizedVoterPubkey"),Jt("authorizedWithdrawerPubkey"),l.u8("commission"),l.nu64(),l.seq(l.struct([l.nu64("slot"),l.u32("confirmationCount")]),l.offset(l.u32(),-8),"votes"),l.u8("rootSlotValid"),l.nu64("rootSlot"),l.nu64("epoch"),l.nu64("credits"),l.nu64("lastEpochCredits"),l.nu64(),l.seq(l.struct([l.nu64("epoch"),l.nu64("credits"),l.nu64("prevCredits")]),l.offset(l.u32(),-8),"epochCredits")]);class Si{constructor(e){this.nodePubkey=void 0,this.authorizedVoterPubkey=void 0,this.authorizedWithdrawerPubkey=void 0,this.commission=void 0,this.votes=void 0,this.rootSlot=void 0,this.epoch=void 0,this.credits=void 0,this.lastEpochCredits=void 0,this.epochCredits=void 0,this.nodePubkey=e.nodePubkey,this.authorizedVoterPubkey=e.authorizedVoterPubkey,this.authorizedWithdrawerPubkey=e.authorizedWithdrawerPubkey,this.commission=e.commission,this.votes=e.votes,this.rootSlot=e.rootSlot,this.epoch=e.epoch,this.credits=e.credits,this.lastEpochCredits=e.lastEpochCredits,this.epochCredits=e.epochCredits}static fromAccountData(e){const t=Ai.decode(k(e),0);let r=t.rootSlot;return t.rootSlotValid||(r=null),new Si({nodePubkey:new Ft(t.nodePubkey),authorizedVoterPubkey:new Ft(t.authorizedVoterPubkey),authorizedWithdrawerPubkey:new Ft(t.authorizedWithdrawerPubkey),commission:t.commission,votes:t.votes,rootSlot:r,epoch:t.epoch,credits:t.credits,lastEpochCredits:t.lastEpochCredits,epochCredits:t.epochCredits})}}async function Ii(e,t,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},i=await e.sendRawTransaction(t,n),s=(await e.confirmTransaction(i,r&&r.commitment)).value;if(s.err)throw new Error(`Raw transaction ${i} failed (${JSON.stringify(s)})`);return i}const _i={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com"}};function vi(e,t){const r=!1===t?"http":"https";if(!e)return _i[r].devnet;const n=_i[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}const Ei=1e9},42296:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();t.__esModule=!0,t.s16=t.s8=t.nu64be=t.u48be=t.u40be=t.u32be=t.u24be=t.u16be=t.nu64=t.u48=t.u40=t.u32=t.u24=t.u16=t.u8=t.offset=t.greedy=t.Constant=t.UTF8=t.CString=t.Blob=t.Boolean=t.BitField=t.BitStructure=t.VariantLayout=t.Union=t.UnionLayoutDiscriminator=t.UnionDiscriminator=t.Structure=t.Sequence=t.DoubleBE=t.Double=t.FloatBE=t.Float=t.NearInt64BE=t.NearInt64=t.NearUInt64BE=t.NearUInt64=t.IntBE=t.Int=t.UIntBE=t.UInt=t.OffsetLayout=t.GreedyCount=t.ExternalLayout=t.bindConstructorLayout=t.nameWithProperty=t.Layout=t.uint8ArrayToBuffer=t.checkUint8Array=void 0,t.constant=t.utf8=t.cstr=t.blob=t.unionLayoutDiscriminator=t.union=t.seq=t.bits=t.struct=t.f64be=t.f64=t.f32be=t.f32=t.ns64be=t.s48be=t.s40be=t.s32be=t.s24be=t.s16be=t.ns64=t.s48=t.s40=t.s32=t.s24=void 0;var i=r(39598);function s(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(e){return s(e),i.Buffer.from(e.buffer,e.byteOffset,e.length)}t.checkUint8Array=s,t.uint8ArrayToBuffer=o;var a=function(){function e(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}return e.prototype.makeDestinationObject=function(){return{}},e.prototype.decode=function(e,t){throw new Error("Layout is abstract")},e.prototype.encode=function(e,t,r){throw new Error("Layout is abstract")},e.prototype.getSpan=function(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span},e.prototype.replicate=function(e){var t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t},e.prototype.fromArray=function(e){},e}();function u(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=a,t.nameWithProperty=u,t.bindConstructorLayout=function(e,t){if("function"!==typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof a))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=function(){return new e},Object.defineProperty(e.prototype,"encode",{value:function(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,r){return t.decode(e,r)},writable:!0})};var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.isCount=function(){throw new Error("ExternalLayout is abstract")},t}(a);t.ExternalLayout=c;var d=function(e){function t(t,r){var n=this;if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");return(n=e.call(this,-1,r)||this).elementSpan=t,n}return n(t,e),t.prototype.isCount=function(){return!0},t.prototype.decode=function(e,t){s(e),void 0===t&&(t=0);var r=e.length-t;return Math.floor(r/this.elementSpan)},t.prototype.encode=function(e,t,r){return 0},t}(c);t.GreedyCount=d;var l=function(e){function t(t,r,n){var i=this;if(!(t instanceof a))throw new TypeError("layout must be a Layout");if(void 0===r)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");return(i=e.call(this,t.span,n||t.property)||this).layout=t,i.offset=r,i}return n(t,e),t.prototype.isCount=function(){return this.layout instanceof h||this.layout instanceof f},t.prototype.decode=function(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)},t}(c);t.OffsetLayout=l;var h=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readUIntLE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeUIntLE(e,r,this.span),this.span},t}(a);t.UInt=h;var f=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readUIntBE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeUIntBE(e,r,this.span),this.span},t}(a);t.UIntBE=f;var p=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readIntLE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeIntLE(e,r,this.span),this.span},t}(a);t.Int=p;var g=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readIntBE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeIntBE(e,r,this.span),this.span},t}(a);t.IntBE=g;var m=Math.pow(2,32);function y(e){var t=Math.floor(e/m);return{hi32:t,lo32:e-t*m}}function b(e,t){return e*m+t}var w=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e),n=r.readUInt32LE(t);return b(r.readUInt32LE(t+4),n)},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=y(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8},t}(a);t.NearUInt64=w;var k=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e);return b(r.readUInt32BE(t),r.readUInt32BE(t+4))},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=y(e),i=o(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8},t}(a);t.NearUInt64BE=k;var A=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e),n=r.readUInt32LE(t);return b(r.readInt32LE(t+4),n)},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=y(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8},t}(a);t.NearInt64=A;var S=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e);return b(r.readInt32BE(t),r.readUInt32BE(t+4))},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=y(e),i=o(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8},t}(a);t.NearInt64BE=S;var I=function(e){function t(t){return e.call(this,4,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readFloatLE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeFloatLE(e,r),4},t}(a);t.Float=I;var _=function(e){function t(t){return e.call(this,4,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readFloatBE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeFloatBE(e,r),4},t}(a);t.FloatBE=_;var v=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readDoubleLE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeDoubleLE(e,r),8},t}(a);t.Double=v;var E=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readDoubleBE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeDoubleBE(e,r),8},t}(a);t.DoubleBE=E;var x=function(e){function t(t,r,n){var i=this;if(!(t instanceof a))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof c&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");var s=-1;return!(r instanceof c)&&0<t.span&&(s=r*t.span),(i=e.call(this,s,n)||this).elementLayout=t,i.count=r,i}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=0,n=this.count;if(n instanceof c&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else for(var i=0;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i;return r},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=[],n=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=this.elementLayout,i=e.reduce((function(e,i){return e+n.encode(i,t,r+e)}),0);return this.count instanceof c&&this.count.encode(e.length,t,r),i},t}(a);t.Sequence=x;var T=function(e){function t(t,r,n){var i=this;if(!Array.isArray(t)||!t.reduce((function(e,t){return e&&t instanceof a}),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof r&&void 0===n&&(n=r,r=void 0);for(var s=0,o=t;s<o.length;s++){var u=o[s];if(0>u.span&&void 0===u.property)throw new Error("fields cannot contain unnamed variable-length layout")}var c=-1;try{c=t.reduce((function(e,t){return e+t.getSpan()}),0)}catch(d){}return(i=e.call(this,c,r)||this).fields=t,i.decodePrefixes=!!n,i}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=0;try{r=this.fields.reduce((function(r,n){var i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(n){throw new RangeError("indeterminate span")}return r},t.prototype.decode=function(e,t){s(e),void 0===t&&(t=0);for(var r=this.makeDestinationObject(),n=0,i=this.fields;n<i.length;n++){var o=i[n];if(void 0!==o.property&&(r[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break}return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);for(var n=r,i=0,s=0,o=0,a=this.fields;o<a.length;o++){var u=a[o],c=u.span;if(s=0<c?c:0,void 0!==u.property){var d=e[u.property];void 0!==d&&(s=u.encode(d,t,r),0>c&&(c=u.getSpan(t,r)))}i=r,r+=c}return i+s-n},t.prototype.fromArray=function(e){for(var t=this.makeDestinationObject(),r=0,n=this.fields;r<n.length;r++){var i=n[r];void 0!==i.property&&0<e.length&&(t[i.property]=e.shift())}return t},t.prototype.layoutFor=function(e){if("string"!==typeof e)throw new TypeError("property must be string");for(var t=0,r=this.fields;t<r.length;t++){var n=r[t];if(n.property===e)return n}},t.prototype.offsetOf=function(e){if("string"!==typeof e)throw new TypeError("property must be string");for(var t=0,r=0,n=this.fields;r<n.length;r++){var i=n[r];if(i.property===e)return t;0>i.span?t=-1:0<=t&&(t+=i.span)}},t}(a);t.Structure=T;var P=function(){function e(e){this.property=e}return e.prototype.decode=function(e,t){throw new Error("UnionDiscriminator is abstract")},e.prototype.encode=function(e,t,r){throw new Error("UnionDiscriminator is abstract")},e}();t.UnionDiscriminator=P;var R=function(e){function t(t,r){var n=this;if(!(t instanceof c&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");return(n=e.call(this,r||t.property||"variant")||this).layout=t,n}return n(t,e),t.prototype.decode=function(e,t){return this.layout.decode(e,t)},t.prototype.encode=function(e,t,r){return this.layout.encode(e,t,r)},t}(P);t.UnionLayoutDiscriminator=R;var B=function(e){function t(t,r,n){var i,s=this,o=t instanceof h||t instanceof f;if(o)i=new R(new l(t));else if(t instanceof c&&t.isCount())i=new R(t);else{if(!(t instanceof P))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");i=t}if(void 0===r&&(r=null),!(null===r||r instanceof a))throw new TypeError("defaultLayout must be null or a Layout");if(null!==r){if(0>r.span)throw new Error("defaultLayout must have constant span");void 0===r.property&&(r=r.replicate("content"))}var u=-1;r&&0<=(u=r.span)&&o&&(u+=i.layout.span),(s=e.call(this,u,n)||this).discriminator=i,s.usesPrefixDiscriminator=o,s.defaultLayout=r,s.registry={};var d=s.defaultGetSourceVariant.bind(s);return s.getSourceVariant=function(e){return d(e)},s.configGetSourceVariant=function(e){d=e.bind(this)},s}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)},t.prototype.defaultGetSourceVariant=function(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;if((r=this.registry[e[this.discriminator.property]])&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(var t in this.registry){var r;if((r=this.registry[t]).property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")},t.prototype.decode=function(e,t){var r;void 0===t&&(t=0);var n=this.discriminator,i=n.decode(e,t),s=this.registry[i];if(void 0===s){var o=this.defaultLayout,a=0;this.usesPrefixDiscriminator&&(a=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[o.property]=o.decode(e,t+a)}else r=s.decode(e,t);return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=this.getSourceVariant(e);if(void 0===n){var i=this.discriminator,s=this.defaultLayout,o=0;return this.usesPrefixDiscriminator&&(o=i.layout.span),i.encode(e[i.property],t,r),o+s.encode(e[s.property],t,r+o)}return n.encode(e,t,r)},t.prototype.addVariant=function(e,t,r){var n=new O(this,e,t,r);return this.registry[e]=n,n},t.prototype.getVariant=function(e,t){var r;return e instanceof Uint8Array?(void 0===t&&(t=0),r=this.discriminator.decode(e,t)):r=e,this.registry[r]},t}(a);t.Union=B;var O=function(e){function t(t,r,n,i){var s=this;if(!(t instanceof B))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===i&&(i=n,n=null),n){if(!(n instanceof a))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof i)throw new TypeError("variant must have a String property")}var o=t.span;return 0>t.span&&0<=(o=n?n.span:0)&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span),(s=e.call(this,o,i)||this).union=t,s.variant=r,s.layout=n||null,s}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);var n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n},t.prototype.decode=function(e,t){var r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var i=this.property;return this.layout?r[i]=this.layout.decode(e,t+n):i?r[i]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var i=this.property;if(this.layout&&!Object.prototype.hasOwnProperty.call(e,i))throw new TypeError("variant lacks property "+i);this.union.discriminator.encode(this.variant,t,r);var s=n;if(this.layout&&(this.layout.encode(e[i],t,r+n),s+=this.layout.getSpan(t,r+n),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s},t.prototype.fromArray=function(e){if(this.layout)return this.layout.fromArray(e)},t}(a);function M(e){return 0>e&&(e+=4294967296),e}t.VariantLayout=O;var U=function(e){function t(t,r,n){var i=this;if(!(t instanceof h||t instanceof f))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof r&&void 0===n&&(n=r,r=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");(i=e.call(this,t.span,n)||this).word=t,i.msb=!!r,i.fields=[];var s=0;return i._packedSetValue=function(e){return s=M(e),this},i._packedGetValue=function(){return s},i}return n(t,e),t.prototype.decode=function(e,t){var r=this.makeDestinationObject();void 0===t&&(t=0);var n=this.word.decode(e,t);this._packedSetValue(n);for(var i=0,s=this.fields;i<s.length;i++){var o=s[i];void 0!==o.property&&(r[o.property]=o.decode(n))}return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=this.word.decode(t,r);this._packedSetValue(n);for(var i=0,s=this.fields;i<s.length;i++){var o=s[i];if(void 0!==o.property){var a=e[o.property];void 0!==a&&o.encode(a)}}return this.word.encode(this._packedGetValue(),t,r)},t.prototype.addField=function(e,t){var r=new z(this,e,t);return this.fields.push(r),r},t.prototype.addBoolean=function(e){var t=new L(this,e);return this.fields.push(t),t},t.prototype.fieldFor=function(e){if("string"!==typeof e)throw new TypeError("property must be string");for(var t=0,r=this.fields;t<r.length;t++){var n=r[t];if(n.property===e)return n}},t}(a);t.BitStructure=U;var z=function(){function e(e,t,r){if(!(e instanceof U))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");var n=8*e.span,i=e.fields.reduce((function(e,t){return e+t.bits}),0);if(t+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=M(this.valueMask<<this.start),this.property=r}return e.prototype.decode=function(e,t){return M(this.container._packedGetValue()&this.wordMask)>>>this.start},e.prototype.encode=function(e){if(!Number.isInteger(e)||e!==M(e&this.valueMask))throw new TypeError(u("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);var t=this.container._packedGetValue(),r=M(e<<this.start);this.container._packedSetValue(M(t&~this.wordMask)|r)},e}();t.BitField=z;var L=function(e){function t(t,r){return e.call(this,t,1,r)||this}return n(t,e),t.prototype.decode=function(e,t){return!!z.prototype.decode.call(this,e,t)},t.prototype.encode=function(e){return"boolean"===typeof e&&(e=+e),z.prototype.encode.call(this,e)},t}(z);t.Boolean=L;var N=function(e){function t(t,r){var n=this;if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");var i=-1;return t instanceof c||(i=t),(n=e.call(this,i,r)||this).length=t,n}return n(t,e),t.prototype.getSpan=function(e,t){var r=this.span;return 0>r&&(r=this.length.decode(e,t)),r},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=this.span;return 0>r&&(r=this.length.decode(e,t)),o(e).slice(t,t+r)},t.prototype.encode=function(e,t,r){var n=this.length;if(this.length instanceof c&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(u("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");var i=o(e);return o(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof c&&this.length.encode(n,t,r),n},t}(a);t.Blob=N;var C=function(e){function t(t){return e.call(this,-1,t)||this}return n(t,e),t.prototype.getSpan=function(e,t){s(e),void 0===t&&(t=0);for(var r=t;r<e.length&&0!==e[r];)r+=1;return 1+r-t},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=this.getSpan(e,t);return o(e).slice(t,t+r-1).toString("utf-8")},t.prototype.encode=function(e,t,r){void 0===r&&(r=0),"string"!==typeof e&&(e=e.toString());var n=i.Buffer.from(e,"utf8"),s=n.length;if(r+s>t.length)throw new RangeError("encoding overruns Buffer");var a=o(t);return n.copy(a,r),a[r+s]=0,s+1},t}(a);t.CString=C;var W=function(e){function t(t,r){var n=this;if("string"===typeof t&&void 0===r&&(r=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");return(n=e.call(this,-1,r)||this).maxSpan=t,n}return n(t,e),t.prototype.getSpan=function(e,t){return s(e),void 0===t&&(t=0),e.length-t},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return o(e).slice(t,t+r).toString("utf-8")},t.prototype.encode=function(e,t,r){void 0===r&&(r=0),"string"!==typeof e&&(e=e.toString());var n=i.Buffer.from(e,"utf8"),s=n.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(o(t),r),s},t}(a);t.UTF8=W;var D=function(e){function t(t,r){var n=e.call(this,0,r)||this;return n.value=t,n}return n(t,e),t.prototype.decode=function(e,t){return this.value},t.prototype.encode=function(e,t,r){return 0},t}(a);t.Constant=D,t.greedy=function(e,t){return new d(e,t)},t.offset=function(e,t,r){return new l(e,t,r)},t.u8=function(e){return new h(1,e)},t.u16=function(e){return new h(2,e)},t.u24=function(e){return new h(3,e)},t.u32=function(e){return new h(4,e)},t.u40=function(e){return new h(5,e)},t.u48=function(e){return new h(6,e)},t.nu64=function(e){return new w(e)},t.u16be=function(e){return new f(2,e)},t.u24be=function(e){return new f(3,e)},t.u32be=function(e){return new f(4,e)},t.u40be=function(e){return new f(5,e)},t.u48be=function(e){return new f(6,e)},t.nu64be=function(e){return new k(e)},t.s8=function(e){return new p(1,e)},t.s16=function(e){return new p(2,e)},t.s24=function(e){return new p(3,e)},t.s32=function(e){return new p(4,e)},t.s40=function(e){return new p(5,e)},t.s48=function(e){return new p(6,e)},t.ns64=function(e){return new A(e)},t.s16be=function(e){return new g(2,e)},t.s24be=function(e){return new g(3,e)},t.s32be=function(e){return new g(4,e)},t.s40be=function(e){return new g(5,e)},t.s48be=function(e){return new g(6,e)},t.ns64be=function(e){return new S(e)},t.f32=function(e){return new I(e)},t.f32be=function(e){return new _(e)},t.f64=function(e){return new v(e)},t.f64be=function(e){return new E(e)},t.struct=function(e,t,r){return new T(e,t,r)},t.bits=function(e,t,r){return new U(e,t,r)},t.seq=function(e,t,r){return new x(e,t,r)},t.union=function(e,t,r){return new B(e,t,r)},t.unionLayoutDiscriminator=function(e,t){return new R(e,t)},t.blob=function(e,t){return new N(e,t)},t.cstr=function(e){return new C(e)},t.utf8=function(e,t){return new W(e,t)},t.constant=function(e,t){return new D(e,t)}},39598:(e,t,r)=>{"use strict";const n=r(12009),i=r(45889),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return d(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return v(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function k(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function A(e,t,r,n){return H(j(t,e.length-r),e,r,n)}function S(e,t,r,n){return H(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return H(Z(t),e,r,n)}function _(e,t,r,n){return H(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function v(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return d(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(n,i),d=e.slice(t,r);for(let u=0;u<a;++u)if(c[u]!==d[u]){s=c[u],o=d[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=Q[e[s]];return i}function B(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function O(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function z(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function L(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=u.isBuffer(e)?e:u.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const W={};function D(e,t,r){W[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function K(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,s)}function G(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw G(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=K(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=K(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function j(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function $(e){return"undefined"===typeof BigInt?Y:e}function Y(){throw new Error("BigInt not supported")}},69314:(e,t,r)=>{"use strict";const n=r(12009),i=r(45889),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function d(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return d(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return v(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function k(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function A(e,t,r,n){return H(j(t,e.length-r),e,r,n)}function S(e,t,r,n){return H(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return H(Z(t),e,r,n)}function _(e,t,r,n){return H(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function v(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return d(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(n,i),d=e.slice(t,r);for(let u=0;u<a;++u)if(c[u]!==d[u]){s=c[u],o=d[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return A(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=Q[e[s]];return i}function B(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function O(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,r,n,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function z(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function L(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=$((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){M(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);M(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=$((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=u.isBuffer(e)?e:u.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const W={};function D(e,t,r){W[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function K(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,s)}function G(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw G(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=K(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=K(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function j(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function $(e){return"undefined"===typeof BigInt?Y:e}function Y(){throw new Error("BigInt not supported")}},84466:(e,t)=>{t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!==typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!==typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},71633:e=>{"use strict";function t(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,s=-1,o=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(s===a-1||1===o);else if(s!==a-1&&2===o){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){-1===u?(n="",i=0):i=(n=n.slice(0,u)).length-1-n.lastIndexOf("/"),s=a,o=0;continue}}else if(2===n.length||1===n.length){n="",i=0,s=a,o=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),i=a-s-1;s=a,o=0}else 46===r&&-1!==o?++o:o=-1}return n}var n={resolve:function(){for(var e,n="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var o;s>=0?o=arguments[s]:(void 0===e&&(e=process.cwd()),o=e),t(o),0!==o.length&&(n=o+"/"+n,i=47===o.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var s=e.length,o=s-i,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var u=r.length-a,c=o<u?o:u,d=-1,l=0;l<=c;++l){if(l===c){if(u>c){if(47===r.charCodeAt(a+l))return r.slice(a+l+1);if(0===l)return r.slice(a+l)}else o>c&&(47===e.charCodeAt(i+l)?d=l:0===l&&(d=0));break}var h=e.charCodeAt(i+l);if(h!==r.charCodeAt(a+l))break;47===h&&(d=l)}var f="";for(l=i+d+1;l<=s;++l)l!==s&&47!==e.charCodeAt(l)||(0===f.length?f+="..":f+="/..");return f.length>0?f+r.slice(a+d):(a+=d,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,s=!0,o=e.length-1;o>=1;--o)if(47===(r=e.charCodeAt(o))){if(!s){i=o;break}}else s=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!==typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,s=-1,o=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,u=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!o){i=n+1;break}}else-1===u&&(o=!1,u=n+1),a>=0&&(c===r.charCodeAt(a)?-1===--a&&(s=n):(a=-1,s=u))}return i===s?s=u:-1===s&&(s=e.length),e.slice(i,s)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){i=n+1;break}}else-1===s&&(o=!1,s=n+1);return-1===s?"":e.slice(i,s)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,s=!0,o=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47!==u)-1===i&&(s=!1,i=a+1),46===u?-1===r?r=a:1!==o&&(o=1):-1!==r&&(o=-1);else if(!s){n=a+1;break}}return-1===r||-1===i||0===o||1===o&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}("/",e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),s=47===i;s?(r.root="/",n=1):n=0;for(var o=-1,a=0,u=-1,c=!0,d=e.length-1,l=0;d>=n;--d)if(47!==(i=e.charCodeAt(d)))-1===u&&(c=!1,u=d+1),46===i?-1===o?o=d:1!==l&&(l=1):-1!==o&&(l=-1);else if(!c){a=d+1;break}return-1===o||-1===u||0===l||1===l&&o===u-1&&o===a+1?-1!==u&&(r.base=r.name=0===a&&s?e.slice(1,u):e.slice(a,u)):(0===a&&s?(r.name=e.slice(1,o),r.base=e.slice(1,u)):(r.name=e.slice(a,o),r.base=e.slice(a,u)),r.ext=e.slice(o,u)),a>0?r.dir=e.slice(0,a-1):s&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},26477:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,u=[],c=!1,d=-1;function l(){c&&a&&(c=!1,a.length?u=a.concat(u):d=-1,u.length&&h())}function h(){if(!c){var e=o(l);c=!0;for(var t=u.length;t;){for(a=u,u=[];++d<t;)a&&a[d].run();d=-1,t=u.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new f(e,t)),1!==u.length||c||o(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},60266:(e,t,r)=>{var n=r(28076),i=r(54640);e.exports={parse:function(e){var t=n.parse(e.toString());return i.compile(t)}}},54640:e=>{"use strict";e.exports={compile:function(e){var t=[],r=[],n="",i=Object.create(null),s=i;return function(e){for(var t,r=0;r<e.length;r++)switch((t=e[r]).type){case"Assign":a(t);break;case"ObjectPath":l(t);break;case"ArrayPath":h(t)}return i}(e);function o(e,t,r){var n=new Error(e);throw n.line=t,n.column=r,n}function a(e){var i,a=e.key,d=e.value,l=e.line,h=e.column;i=n?n+"."+a:a,"undefined"!==typeof s[a]&&o("Cannot redefine existing key '"+i+"'.",l,h),s[a]=c(d),u(i)||(t.push(i),r.push(i))}function u(e){return-1!==t.indexOf(e)}function c(e){return"Array"===e.type?function(e){for(var t=null,r=0;r<e.length;r++){var n=e[r];null===t?t=n.type:n.type!==t&&o("Cannot add value of type "+n.type+" to array of type "+t+".",n.line,n.column)}return e.map(c)}(e.value):"InlineTable"===e.type?d(e.value):e.value}function d(e){for(var t=Object.create(null),r=0;r<e.length;r++){var n=e[r];"InlineTable"===n.value.type?t[n.key]=d(n.value.value):"InlineTableValue"===n.type&&(t[n.key]=c(n.value))}return t}function l(e){var r=e.value,a=r.map(p).join("."),c=e.line,d=e.column;u(a)&&o("Cannot redefine existing key '"+r+"'.",c,d),t.push(a),s=f(i,r,Object.create(null),c,d),n=r}function h(e){var r=e.value,a=r.map(p).join("."),c=e.line,d=e.column;if(u(a)||t.push(a),(t=t.filter((function(e){return 0!==e.indexOf(a)}))).push(a),s=f(i,r,[],c,d),n=a,s instanceof Array){var l=Object.create(null);s.push(l),s=l}else o("Cannot redefine existing key '"+r+"'.",c,d)}function f(e,t,n,i,s){for(var a=[],u="",c=(t.join("."),e),d=0;d<t.length;d++){var l=t[d];a.push(l),u=a.join("."),"undefined"===typeof c[l]?d===t.length-1?c[l]=n:c[l]=Object.create(null):d!==t.length-1&&r.indexOf(u)>-1&&o("Cannot redefine existing key '"+u+"'.",i,s),(c=c[l])instanceof Array&&c.length&&d<t.length-1&&(c=c[c.length-1])}return c}function p(e){return e.indexOf(".")>-1?'"'+e+'"':e}}}},28076:e=>{e.exports=function(){function e(e,t,r,n,i,s){this.message=e,this.expected=t,this.found=r,this.offset=n,this.line=i,this.column=s,this.name="SyntaxError"}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),{SyntaxError:e,parse:function(t){var r,n=arguments.length>1?arguments[1]:{},i={},s={start:Ut},o=Ut,a=function(){return Pr},u=i,c="#",d={type:"literal",value:"#",description:'"#"'},l=void 0,h={type:"any",description:"any character"},f="[",p={type:"literal",value:"[",description:'"["'},g="]",m={type:"literal",value:"]",description:'"]"'},y=function(e){Br(Or("ObjectPath",e,Pt,Rt))},b=function(e){Br(Or("ArrayPath",e,Pt,Rt))},w=function(e,t){return e.concat(t)},k=function(e){return[e]},A=function(e){return e},S=".",I={type:"literal",value:".",description:'"."'},_="=",v={type:"literal",value:"=",description:'"="'},E=function(e,t){Br(Or("Assign",t,Pt,Rt,e))},x=function(e){return e.join("")},T=function(e){return e.value},P='"""',R={type:"literal",value:'"""',description:'"\\"\\"\\""'},B=null,O=function(e){return Or("String",e.join(""),Pt,Rt)},M='"',U={type:"literal",value:'"',description:'"\\""'},z="'''",L={type:"literal",value:"'''",description:"\"'''\""},N="'",C={type:"literal",value:"'",description:'"\'"'},W=function(e){return e},D=function(e){return e},K="\\",F={type:"literal",value:"\\",description:'"\\\\"'},G=function(){return""},V="e",q={type:"literal",value:"e",description:'"e"'},j="E",Z={type:"literal",value:"E",description:'"E"'},H=function(e,t){return Or("Float",parseFloat(e+"e"+t),Pt,Rt)},X=function(e){return Or("Float",parseFloat(e),Pt,Rt)},J="+",Q={type:"literal",value:"+",description:'"+"'},$=function(e){return e.join("")},Y="-",ee={type:"literal",value:"-",description:'"-"'},te=function(e){return"-"+e.join("")},re=function(e){return Or("Integer",parseInt(e,10),Pt,Rt)},ne="true",ie={type:"literal",value:"true",description:'"true"'},se=function(){return Or("Boolean",!0,Pt,Rt)},oe="false",ae={type:"literal",value:"false",description:'"false"'},ue=function(){return Or("Boolean",!1,Pt,Rt)},ce=function(){return Or("Array",[],Pt,Rt)},de=function(e){return Or("Array",e?[e]:[],Pt,Rt)},le=function(e){return Or("Array",e,Pt,Rt)},he=function(e,t){return Or("Array",e.concat(t),Pt,Rt)},fe=function(e){return e},pe=",",ge={type:"literal",value:",",description:'","'},me="{",ye={type:"literal",value:"{",description:'"{"'},be="}",we={type:"literal",value:"}",description:'"}"'},ke=function(e){return Or("InlineTable",e,Pt,Rt)},Ae=function(e,t){return Or("InlineTableValue",t,Pt,Rt,e)},Se=function(e){return"."+e},Ie=function(e){return e.join("")},_e=":",ve={type:"literal",value:":",description:'":"'},Ee=function(e){return e.join("")},xe="T",Te={type:"literal",value:"T",description:'"T"'},Pe="Z",Re={type:"literal",value:"Z",description:'"Z"'},Be=function(e,t){return Or("Date",new Date(e+"T"+t+"Z"),Pt,Rt)},Oe=function(e,t){return Or("Date",new Date(e+"T"+t),Pt,Rt)},Me=/^[ \t]/,Ue={type:"class",value:"[ \\t]",description:"[ \\t]"},ze="\n",Le={type:"literal",value:"\n",description:'"\\n"'},Ne="\r",Ce={type:"literal",value:"\r",description:'"\\r"'},We=/^[0-9a-f]/i,De={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Ke=/^[0-9]/,Fe={type:"class",value:"[0-9]",description:"[0-9]"},Ge="_",Ve={type:"literal",value:"_",description:'"_"'},qe=function(){return""},je=/^[A-Za-z0-9_\-]/,Ze={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},He=function(e){return e.join("")},Xe='\\"',Je={type:"literal",value:'\\"',description:'"\\\\\\""'},Qe=function(){return'"'},$e="\\\\",Ye={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},et=function(){return"\\"},tt="\\b",rt={type:"literal",value:"\\b",description:'"\\\\b"'},nt=function(){return"\b"},it="\\t",st={type:"literal",value:"\\t",description:'"\\\\t"'},ot=function(){return"\t"},at="\\n",ut={type:"literal",value:"\\n",description:'"\\\\n"'},ct=function(){return"\n"},dt="\\f",lt={type:"literal",value:"\\f",description:'"\\\\f"'},ht=function(){return"\f"},ft="\\r",pt={type:"literal",value:"\\r",description:'"\\\\r"'},gt=function(){return"\r"},mt="\\U",yt={type:"literal",value:"\\U",description:'"\\\\U"'},bt=function(e){return Mr(e.join(""))},wt="\\u",kt={type:"literal",value:"\\u",description:'"\\\\u"'},At=0,St=0,It=0,_t={line:1,column:1,seenCR:!1},vt=0,Et=[],xt=0,Tt={};if("startRule"in n){if(!(n.startRule in s))throw new Error("Can't start parsing from rule \""+n.startRule+'".');o=s[n.startRule]}function Pt(){return Bt(St).line}function Rt(){return Bt(St).column}function Bt(e){return It!==e&&(It>e&&(It=0,_t={line:1,column:1,seenCR:!1}),function(e,r,n){var i,s;for(i=r;i<n;i++)"\n"===(s=t.charAt(i))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(_t,It,e),It=e),_t}function Ot(e){At<vt||(At>vt&&(vt=At,Et=[]),Et.push(e))}function Mt(r,n,i){var s=Bt(i),o=i<t.length?t.charAt(i):null;return null!==n&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(n),new e(null!==r?r:function(e,t){var r,n=new Array(e.length);for(r=0;r<e.length;r++)n[r]=e[r].description;return"Expected "+(e.length>1?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0180-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1080-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(n,o),n,o,i,s.line,s.column)}function Ut(){var e,t,r,n=49*At+0,s=Tt[n];if(s)return At=s.nextPos,s.result;for(e=At,t=[],r=zt();r!==i;)t.push(r),r=zt();return t!==i&&(St=e,t=a()),e=t,Tt[n]={nextPos:At,result:e},e}function zt(){var e,t,r,n,s,o,a,c=49*At+1,d=Tt[c];if(d)return At=d.nextPos,d.result;for(e=At,t=[],r=wr();r!==i;)t.push(r),r=wr();if(t!==i)if((r=Lt())!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();if(n!==i){for(s=[],o=Nt();o!==i;)s.push(o),o=Nt();if(s!==i){if(o=[],(a=kr())!==i)for(;a!==i;)o.push(a),a=kr();else o=u;o===i&&(o=Sr()),o!==i?e=t=[t,r,n,s,o]:(At=e,e=u)}else At=e,e=u}else At=e,e=u}else At=e,e=u;else At=e,e=u;if(e===i){if(e=At,t=[],(r=wr())!==i)for(;r!==i;)t.push(r),r=wr();else t=u;if(t!==i){if(r=[],(n=kr())!==i)for(;n!==i;)r.push(n),n=kr();else r=u;r===i&&(r=Sr()),r!==i?e=t=[t,r]:(At=e,e=u)}else At=e,e=u;e===i&&(e=kr())}return Tt[c]={nextPos:At,result:e},e}function Lt(){var e,t=49*At+2,r=Tt[t];return r?(At=r.nextPos,r.result):((e=Nt())===i&&(e=Ct())===i&&(e=Wt())===i&&(e=Gt()),Tt[t]={nextPos:At,result:e},e)}function Nt(){var e,r,n,s,o,a,f=49*At+3,p=Tt[f];if(p)return At=p.nextPos,p.result;if(e=At,35===t.charCodeAt(At)?(r=c,At++):(r=i,0===xt&&Ot(d)),r!==i){for(n=[],s=At,o=At,xt++,(a=kr())===i&&(a=Sr()),xt--,a===i?o=l:(At=o,o=u),o!==i?(t.length>At?(a=t.charAt(At),At++):(a=i,0===xt&&Ot(h)),a!==i?s=o=[o,a]:(At=s,s=u)):(At=s,s=u);s!==i;)n.push(s),s=At,o=At,xt++,(a=kr())===i&&(a=Sr()),xt--,a===i?o=l:(At=o,o=u),o!==i?(t.length>At?(a=t.charAt(At),At++):(a=i,0===xt&&Ot(h)),a!==i?s=o=[o,a]:(At=s,s=u)):(At=s,s=u);n!==i?e=r=[r,n]:(At=e,e=u)}else At=e,e=u;return Tt[f]={nextPos:At,result:e},e}function Ct(){var e,r,n,s,o,a,c=49*At+4,d=Tt[c];if(d)return At=d.nextPos,d.result;if(e=At,91===t.charCodeAt(At)?(r=f,At++):(r=i,0===xt&&Ot(p)),r!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();if(n!==i)if((s=Dt())!==i){for(o=[],a=wr();a!==i;)o.push(a),a=wr();o!==i?(93===t.charCodeAt(At)?(a=g,At++):(a=i,0===xt&&Ot(m)),a!==i?(St=e,e=r=y(s)):(At=e,e=u)):(At=e,e=u)}else At=e,e=u;else At=e,e=u}else At=e,e=u;return Tt[c]={nextPos:At,result:e},e}function Wt(){var e,r,n,s,o,a,c,d,l=49*At+5,h=Tt[l];if(h)return At=h.nextPos,h.result;if(e=At,91===t.charCodeAt(At)?(r=f,At++):(r=i,0===xt&&Ot(p)),r!==i)if(91===t.charCodeAt(At)?(n=f,At++):(n=i,0===xt&&Ot(p)),n!==i){for(s=[],o=wr();o!==i;)s.push(o),o=wr();if(s!==i)if((o=Dt())!==i){for(a=[],c=wr();c!==i;)a.push(c),c=wr();a!==i?(93===t.charCodeAt(At)?(c=g,At++):(c=i,0===xt&&Ot(m)),c!==i?(93===t.charCodeAt(At)?(d=g,At++):(d=i,0===xt&&Ot(m)),d!==i?(St=e,e=r=b(o)):(At=e,e=u)):(At=e,e=u)):(At=e,e=u)}else At=e,e=u;else At=e,e=u}else At=e,e=u;else At=e,e=u;return Tt[l]={nextPos:At,result:e},e}function Dt(){var e,t,r,n=49*At+6,s=Tt[n];if(s)return At=s.nextPos,s.result;if(e=At,t=[],(r=Ft())!==i)for(;r!==i;)t.push(r),r=Ft();else t=u;return t!==i&&(r=Kt())!==i?(St=e,e=t=w(t,r)):(At=e,e=u),e===i&&(e=At,(t=Kt())!==i&&(St=e,t=k(t)),e=t),Tt[n]={nextPos:At,result:e},e}function Kt(){var e,t,r,n,s,o=49*At+7,a=Tt[o];if(a)return At=a.nextPos,a.result;for(e=At,t=[],r=wr();r!==i;)t.push(r),r=wr();if(t!==i)if((r=Vt())!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();n!==i?(St=e,e=t=A(r)):(At=e,e=u)}else At=e,e=u;else At=e,e=u;if(e===i){for(e=At,t=[],r=wr();r!==i;)t.push(r),r=wr();if(t!==i)if((r=qt())!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();n!==i?(St=e,e=t=A(r)):(At=e,e=u)}else At=e,e=u;else At=e,e=u}return Tt[o]={nextPos:At,result:e},e}function Ft(){var e,r,n,s,o,a,c,d=49*At+8,l=Tt[d];if(l)return At=l.nextPos,l.result;for(e=At,r=[],n=wr();n!==i;)r.push(n),n=wr();if(r!==i)if((n=Vt())!==i){for(s=[],o=wr();o!==i;)s.push(o),o=wr();if(s!==i)if(46===t.charCodeAt(At)?(o=S,At++):(o=i,0===xt&&Ot(I)),o!==i){for(a=[],c=wr();c!==i;)a.push(c),c=wr();a!==i?(St=e,e=r=A(n)):(At=e,e=u)}else At=e,e=u;else At=e,e=u}else At=e,e=u;else At=e,e=u;if(e===i){for(e=At,r=[],n=wr();n!==i;)r.push(n),n=wr();if(r!==i)if((n=qt())!==i){for(s=[],o=wr();o!==i;)s.push(o),o=wr();if(s!==i)if(46===t.charCodeAt(At)?(o=S,At++):(o=i,0===xt&&Ot(I)),o!==i){for(a=[],c=wr();c!==i;)a.push(c),c=wr();a!==i?(St=e,e=r=A(n)):(At=e,e=u)}else At=e,e=u;else At=e,e=u}else At=e,e=u;else At=e,e=u}return Tt[d]={nextPos:At,result:e},e}function Gt(){var e,r,n,s,o,a,c=49*At+9,d=Tt[c];if(d)return At=d.nextPos,d.result;if(e=At,(r=Vt())!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();if(n!==i)if(61===t.charCodeAt(At)?(s=_,At++):(s=i,0===xt&&Ot(v)),s!==i){for(o=[],a=wr();a!==i;)o.push(a),a=wr();o!==i&&(a=jt())!==i?(St=e,e=r=E(r,a)):(At=e,e=u)}else At=e,e=u;else At=e,e=u}else At=e,e=u;if(e===i)if(e=At,(r=qt())!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();if(n!==i)if(61===t.charCodeAt(At)?(s=_,At++):(s=i,0===xt&&Ot(v)),s!==i){for(o=[],a=wr();a!==i;)o.push(a),a=wr();o!==i&&(a=jt())!==i?(St=e,e=r=E(r,a)):(At=e,e=u)}else At=e,e=u;else At=e,e=u}else At=e,e=u;return Tt[c]={nextPos:At,result:e},e}function Vt(){var e,t,r,n=49*At+10,s=Tt[n];if(s)return At=s.nextPos,s.result;if(e=At,t=[],(r=vr())!==i)for(;r!==i;)t.push(r),r=vr();else t=u;return t!==i&&(St=e,t=x(t)),e=t,Tt[n]={nextPos:At,result:e},e}function qt(){var e,t,r=49*At+11,n=Tt[r];return n?(At=n.nextPos,n.result):(e=At,(t=Xt())!==i&&(St=e,t=T(t)),(e=t)===i&&(e=At,(t=Qt())!==i&&(St=e,t=T(t)),e=t),Tt[r]={nextPos:At,result:e},e)}function jt(){var e,t=49*At+12,r=Tt[t];return r?(At=r.nextPos,r.result):((e=Zt())===i&&(e=br())===i&&(e=nr())===i&&(e=sr())===i&&(e=ar())===i&&(e=ur())===i&&(e=hr()),Tt[t]={nextPos:At,result:e},e)}function Zt(){var e,t=49*At+13,r=Tt[t];return r?(At=r.nextPos,r.result):((e=Ht())===i&&(e=Xt())===i&&(e=Jt())===i&&(e=Qt()),Tt[t]={nextPos:At,result:e},e)}function Ht(){var e,r,n,s,o,a=49*At+14,c=Tt[a];if(c)return At=c.nextPos,c.result;if(e=At,t.substr(At,3)===P?(r=P,At+=3):(r=i,0===xt&&Ot(R)),r!==i)if((n=kr())===i&&(n=B),n!==i){for(s=[],o=er();o!==i;)s.push(o),o=er();s!==i?(t.substr(At,3)===P?(o=P,At+=3):(o=i,0===xt&&Ot(R)),o!==i?(St=e,e=r=O(s)):(At=e,e=u)):(At=e,e=u)}else At=e,e=u;else At=e,e=u;return Tt[a]={nextPos:At,result:e},e}function Xt(){var e,r,n,s,o=49*At+15,a=Tt[o];if(a)return At=a.nextPos,a.result;if(e=At,34===t.charCodeAt(At)?(r=M,At++):(r=i,0===xt&&Ot(U)),r!==i){for(n=[],s=$t();s!==i;)n.push(s),s=$t();n!==i?(34===t.charCodeAt(At)?(s=M,At++):(s=i,0===xt&&Ot(U)),s!==i?(St=e,e=r=O(n)):(At=e,e=u)):(At=e,e=u)}else At=e,e=u;return Tt[o]={nextPos:At,result:e},e}function Jt(){var e,r,n,s,o,a=49*At+16,c=Tt[a];if(c)return At=c.nextPos,c.result;if(e=At,t.substr(At,3)===z?(r=z,At+=3):(r=i,0===xt&&Ot(L)),r!==i)if((n=kr())===i&&(n=B),n!==i){for(s=[],o=rr();o!==i;)s.push(o),o=rr();s!==i?(t.substr(At,3)===z?(o=z,At+=3):(o=i,0===xt&&Ot(L)),o!==i?(St=e,e=r=O(s)):(At=e,e=u)):(At=e,e=u)}else At=e,e=u;else At=e,e=u;return Tt[a]={nextPos:At,result:e},e}function Qt(){var e,r,n,s,o=49*At+17,a=Tt[o];if(a)return At=a.nextPos,a.result;if(e=At,39===t.charCodeAt(At)?(r=N,At++):(r=i,0===xt&&Ot(C)),r!==i){for(n=[],s=Yt();s!==i;)n.push(s),s=Yt();n!==i?(39===t.charCodeAt(At)?(s=N,At++):(s=i,0===xt&&Ot(C)),s!==i?(St=e,e=r=O(n)):(At=e,e=u)):(At=e,e=u)}else At=e,e=u;return Tt[o]={nextPos:At,result:e},e}function $t(){var e,r,n,s=49*At+18,o=Tt[s];return o?(At=o.nextPos,o.result):((e=xr())===i&&(e=At,r=At,xt++,34===t.charCodeAt(At)?(n=M,At++):(n=i,0===xt&&Ot(U)),xt--,n===i?r=l:(At=r,r=u),r!==i?(t.length>At?(n=t.charAt(At),At++):(n=i,0===xt&&Ot(h)),n!==i?(St=e,e=r=W(n)):(At=e,e=u)):(At=e,e=u)),Tt[s]={nextPos:At,result:e},e)}function Yt(){var e,r,n,s=49*At+19,o=Tt[s];return o?(At=o.nextPos,o.result):(e=At,r=At,xt++,39===t.charCodeAt(At)?(n=N,At++):(n=i,0===xt&&Ot(C)),xt--,n===i?r=l:(At=r,r=u),r!==i?(t.length>At?(n=t.charAt(At),At++):(n=i,0===xt&&Ot(h)),n!==i?(St=e,e=r=W(n)):(At=e,e=u)):(At=e,e=u),Tt[s]={nextPos:At,result:e},e)}function er(){var e,r,n,s=49*At+20,o=Tt[s];return o?(At=o.nextPos,o.result):((e=xr())===i&&(e=tr())===i&&(e=At,r=At,xt++,t.substr(At,3)===P?(n=P,At+=3):(n=i,0===xt&&Ot(R)),xt--,n===i?r=l:(At=r,r=u),r!==i?(t.length>At?(n=t.charAt(At),At++):(n=i,0===xt&&Ot(h)),n!==i?(St=e,e=r=D(n)):(At=e,e=u)):(At=e,e=u)),Tt[s]={nextPos:At,result:e},e)}function tr(){var e,r,n,s,o=49*At+21,a=Tt[o];if(a)return At=a.nextPos,a.result;if(e=At,92===t.charCodeAt(At)?(r=K,At++):(r=i,0===xt&&Ot(F)),r!==i)if(kr()!==i){for(n=[],s=Ar();s!==i;)n.push(s),s=Ar();n!==i?(St=e,e=r=G()):(At=e,e=u)}else At=e,e=u;else At=e,e=u;return Tt[o]={nextPos:At,result:e},e}function rr(){var e,r,n,s=49*At+22,o=Tt[s];return o?(At=o.nextPos,o.result):(e=At,r=At,xt++,t.substr(At,3)===z?(n=z,At+=3):(n=i,0===xt&&Ot(L)),xt--,n===i?r=l:(At=r,r=u),r!==i?(t.length>At?(n=t.charAt(At),At++):(n=i,0===xt&&Ot(h)),n!==i?(St=e,e=r=W(n)):(At=e,e=u)):(At=e,e=u),Tt[s]={nextPos:At,result:e},e)}function nr(){var e,r,n,s,o=49*At+23,a=Tt[o];return a?(At=a.nextPos,a.result):(e=At,(r=ir())===i&&(r=or()),r!==i?(101===t.charCodeAt(At)?(n=V,At++):(n=i,0===xt&&Ot(q)),n===i&&(69===t.charCodeAt(At)?(n=j,At++):(n=i,0===xt&&Ot(Z))),n!==i&&(s=or())!==i?(St=e,e=r=H(r,s)):(At=e,e=u)):(At=e,e=u),e===i&&(e=At,(r=ir())!==i&&(St=e,r=X(r)),e=r),Tt[o]={nextPos:At,result:e},e)}function ir(){var e,r,n,s,o,a,c=49*At+24,d=Tt[c];return d?(At=d.nextPos,d.result):(e=At,43===t.charCodeAt(At)?(r=J,At++):(r=i,0===xt&&Ot(Q)),r===i&&(r=B),r!==i?(n=At,(s=Er())!==i?(46===t.charCodeAt(At)?(o=S,At++):(o=i,0===xt&&Ot(I)),o!==i&&(a=Er())!==i?n=s=[s,o,a]:(At=n,n=u)):(At=n,n=u),n!==i?(St=e,e=r=$(n)):(At=e,e=u)):(At=e,e=u),e===i&&(e=At,45===t.charCodeAt(At)?(r=Y,At++):(r=i,0===xt&&Ot(ee)),r!==i?(n=At,(s=Er())!==i?(46===t.charCodeAt(At)?(o=S,At++):(o=i,0===xt&&Ot(I)),o!==i&&(a=Er())!==i?n=s=[s,o,a]:(At=n,n=u)):(At=n,n=u),n!==i?(St=e,e=r=te(n)):(At=e,e=u)):(At=e,e=u)),Tt[c]={nextPos:At,result:e},e)}function sr(){var e,t,r=49*At+25,n=Tt[r];return n?(At=n.nextPos,n.result):(e=At,(t=or())!==i&&(St=e,t=re(t)),e=t,Tt[r]={nextPos:At,result:e},e)}function or(){var e,r,n,s,o,a=49*At+26,c=Tt[a];if(c)return At=c.nextPos,c.result;if(e=At,43===t.charCodeAt(At)?(r=J,At++):(r=i,0===xt&&Ot(Q)),r===i&&(r=B),r!==i){if(n=[],(s=_r())!==i)for(;s!==i;)n.push(s),s=_r();else n=u;n!==i?(s=At,xt++,46===t.charCodeAt(At)?(o=S,At++):(o=i,0===xt&&Ot(I)),xt--,o===i?s=l:(At=s,s=u),s!==i?(St=e,e=r=$(n)):(At=e,e=u)):(At=e,e=u)}else At=e,e=u;if(e===i)if(e=At,45===t.charCodeAt(At)?(r=Y,At++):(r=i,0===xt&&Ot(ee)),r!==i){if(n=[],(s=_r())!==i)for(;s!==i;)n.push(s),s=_r();else n=u;n!==i?(s=At,xt++,46===t.charCodeAt(At)?(o=S,At++):(o=i,0===xt&&Ot(I)),xt--,o===i?s=l:(At=s,s=u),s!==i?(St=e,e=r=te(n)):(At=e,e=u)):(At=e,e=u)}else At=e,e=u;return Tt[a]={nextPos:At,result:e},e}function ar(){var e,r,n=49*At+27,s=Tt[n];return s?(At=s.nextPos,s.result):(e=At,t.substr(At,4)===ne?(r=ne,At+=4):(r=i,0===xt&&Ot(ie)),r!==i&&(St=e,r=se()),(e=r)===i&&(e=At,t.substr(At,5)===oe?(r=oe,At+=5):(r=i,0===xt&&Ot(ae)),r!==i&&(St=e,r=ue()),e=r),Tt[n]={nextPos:At,result:e},e)}function ur(){var e,r,n,s,o,a=49*At+28,c=Tt[a];if(c)return At=c.nextPos,c.result;if(e=At,91===t.charCodeAt(At)?(r=f,At++):(r=i,0===xt&&Ot(p)),r!==i){for(n=[],s=lr();s!==i;)n.push(s),s=lr();n!==i?(93===t.charCodeAt(At)?(s=g,At++):(s=i,0===xt&&Ot(m)),s!==i?(St=e,e=r=ce()):(At=e,e=u)):(At=e,e=u)}else At=e,e=u;if(e===i&&(e=At,91===t.charCodeAt(At)?(r=f,At++):(r=i,0===xt&&Ot(p)),r!==i?((n=cr())===i&&(n=B),n!==i?(93===t.charCodeAt(At)?(s=g,At++):(s=i,0===xt&&Ot(m)),s!==i?(St=e,e=r=de(n)):(At=e,e=u)):(At=e,e=u)):(At=e,e=u),e===i)){if(e=At,91===t.charCodeAt(At)?(r=f,At++):(r=i,0===xt&&Ot(p)),r!==i){if(n=[],(s=dr())!==i)for(;s!==i;)n.push(s),s=dr();else n=u;n!==i?(93===t.charCodeAt(At)?(s=g,At++):(s=i,0===xt&&Ot(m)),s!==i?(St=e,e=r=le(n)):(At=e,e=u)):(At=e,e=u)}else At=e,e=u;if(e===i)if(e=At,91===t.charCodeAt(At)?(r=f,At++):(r=i,0===xt&&Ot(p)),r!==i){if(n=[],(s=dr())!==i)for(;s!==i;)n.push(s),s=dr();else n=u;n!==i&&(s=cr())!==i?(93===t.charCodeAt(At)?(o=g,At++):(o=i,0===xt&&Ot(m)),o!==i?(St=e,e=r=he(n,s)):(At=e,e=u)):(At=e,e=u)}else At=e,e=u}return Tt[a]={nextPos:At,result:e},e}function cr(){var e,t,r,n,s,o=49*At+29,a=Tt[o];if(a)return At=a.nextPos,a.result;for(e=At,t=[],r=lr();r!==i;)t.push(r),r=lr();if(t!==i)if((r=jt())!==i){for(n=[],s=lr();s!==i;)n.push(s),s=lr();n!==i?(St=e,e=t=fe(r)):(At=e,e=u)}else At=e,e=u;else At=e,e=u;return Tt[o]={nextPos:At,result:e},e}function dr(){var e,r,n,s,o,a,c,d=49*At+30,l=Tt[d];if(l)return At=l.nextPos,l.result;for(e=At,r=[],n=lr();n!==i;)r.push(n),n=lr();if(r!==i)if((n=jt())!==i){for(s=[],o=lr();o!==i;)s.push(o),o=lr();if(s!==i)if(44===t.charCodeAt(At)?(o=pe,At++):(o=i,0===xt&&Ot(ge)),o!==i){for(a=[],c=lr();c!==i;)a.push(c),c=lr();a!==i?(St=e,e=r=fe(n)):(At=e,e=u)}else At=e,e=u;else At=e,e=u}else At=e,e=u;else At=e,e=u;return Tt[d]={nextPos:At,result:e},e}function lr(){var e,t=49*At+31,r=Tt[t];return r?(At=r.nextPos,r.result):((e=wr())===i&&(e=kr())===i&&(e=Nt()),Tt[t]={nextPos:At,result:e},e)}function hr(){var e,r,n,s,o,a,c=49*At+32,d=Tt[c];if(d)return At=d.nextPos,d.result;if(e=At,123===t.charCodeAt(At)?(r=me,At++):(r=i,0===xt&&Ot(ye)),r!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();if(n!==i){for(s=[],o=fr();o!==i;)s.push(o),o=fr();if(s!==i){for(o=[],a=wr();a!==i;)o.push(a),a=wr();o!==i?(125===t.charCodeAt(At)?(a=be,At++):(a=i,0===xt&&Ot(we)),a!==i?(St=e,e=r=ke(s)):(At=e,e=u)):(At=e,e=u)}else At=e,e=u}else At=e,e=u}else At=e,e=u;return Tt[c]={nextPos:At,result:e},e}function fr(){var e,r,n,s,o,a,c,d,l,h,f,p=49*At+33,g=Tt[p];if(g)return At=g.nextPos,g.result;for(e=At,r=[],n=wr();n!==i;)r.push(n),n=wr();if(r!==i)if((n=Vt())!==i){for(s=[],o=wr();o!==i;)s.push(o),o=wr();if(s!==i)if(61===t.charCodeAt(At)?(o=_,At++):(o=i,0===xt&&Ot(v)),o!==i){for(a=[],c=wr();c!==i;)a.push(c),c=wr();if(a!==i)if((c=jt())!==i){for(d=[],l=wr();l!==i;)d.push(l),l=wr();if(d!==i)if(44===t.charCodeAt(At)?(l=pe,At++):(l=i,0===xt&&Ot(ge)),l!==i){for(h=[],f=wr();f!==i;)h.push(f),f=wr();h!==i?(St=e,e=r=Ae(n,c)):(At=e,e=u)}else At=e,e=u;else At=e,e=u}else At=e,e=u;else At=e,e=u}else At=e,e=u;else At=e,e=u}else At=e,e=u;else At=e,e=u;if(e===i){for(e=At,r=[],n=wr();n!==i;)r.push(n),n=wr();if(r!==i)if((n=Vt())!==i){for(s=[],o=wr();o!==i;)s.push(o),o=wr();if(s!==i)if(61===t.charCodeAt(At)?(o=_,At++):(o=i,0===xt&&Ot(v)),o!==i){for(a=[],c=wr();c!==i;)a.push(c),c=wr();a!==i&&(c=jt())!==i?(St=e,e=r=Ae(n,c)):(At=e,e=u)}else At=e,e=u;else At=e,e=u}else At=e,e=u;else At=e,e=u}return Tt[p]={nextPos:At,result:e},e}function pr(){var e,r,n,s=49*At+34,o=Tt[s];return o?(At=o.nextPos,o.result):(e=At,46===t.charCodeAt(At)?(r=S,At++):(r=i,0===xt&&Ot(I)),r!==i&&(n=Er())!==i?(St=e,e=r=Se(n)):(At=e,e=u),Tt[s]={nextPos:At,result:e},e)}function gr(){var e,r,n,s,o,a,c,d,l,h,f,p,g=49*At+35,m=Tt[g];return m?(At=m.nextPos,m.result):(e=At,r=At,(n=_r())!==i&&(s=_r())!==i&&(o=_r())!==i&&(a=_r())!==i?(45===t.charCodeAt(At)?(c=Y,At++):(c=i,0===xt&&Ot(ee)),c!==i&&(d=_r())!==i&&(l=_r())!==i?(45===t.charCodeAt(At)?(h=Y,At++):(h=i,0===xt&&Ot(ee)),h!==i&&(f=_r())!==i&&(p=_r())!==i?r=n=[n,s,o,a,c,d,l,h,f,p]:(At=r,r=u)):(At=r,r=u)):(At=r,r=u),r!==i&&(St=e,r=Ie(r)),e=r,Tt[g]={nextPos:At,result:e},e)}function mr(){var e,r,n,s,o,a,c,d,l,h,f,p=49*At+36,g=Tt[p];return g?(At=g.nextPos,g.result):(e=At,r=At,(n=_r())!==i&&(s=_r())!==i?(58===t.charCodeAt(At)?(o=_e,At++):(o=i,0===xt&&Ot(ve)),o!==i&&(a=_r())!==i&&(c=_r())!==i?(58===t.charCodeAt(At)?(d=_e,At++):(d=i,0===xt&&Ot(ve)),d!==i&&(l=_r())!==i&&(h=_r())!==i?((f=pr())===i&&(f=B),f!==i?r=n=[n,s,o,a,c,d,l,h,f]:(At=r,r=u)):(At=r,r=u)):(At=r,r=u)):(At=r,r=u),r!==i&&(St=e,r=Ee(r)),e=r,Tt[p]={nextPos:At,result:e},e)}function yr(){var e,r,n,s,o,a,c,d,l,h,f,p,g,m,y,b,w,k=49*At+37,A=Tt[k];return A?(At=A.nextPos,A.result):(e=At,r=At,(n=_r())!==i&&(s=_r())!==i?(58===t.charCodeAt(At)?(o=_e,At++):(o=i,0===xt&&Ot(ve)),o!==i&&(a=_r())!==i&&(c=_r())!==i?(58===t.charCodeAt(At)?(d=_e,At++):(d=i,0===xt&&Ot(ve)),d!==i&&(l=_r())!==i&&(h=_r())!==i?((f=pr())===i&&(f=B),f!==i?(45===t.charCodeAt(At)?(p=Y,At++):(p=i,0===xt&&Ot(ee)),p===i&&(43===t.charCodeAt(At)?(p=J,At++):(p=i,0===xt&&Ot(Q))),p!==i&&(g=_r())!==i&&(m=_r())!==i?(58===t.charCodeAt(At)?(y=_e,At++):(y=i,0===xt&&Ot(ve)),y!==i&&(b=_r())!==i&&(w=_r())!==i?r=n=[n,s,o,a,c,d,l,h,f,p,g,m,y,b,w]:(At=r,r=u)):(At=r,r=u)):(At=r,r=u)):(At=r,r=u)):(At=r,r=u)):(At=r,r=u),r!==i&&(St=e,r=Ee(r)),e=r,Tt[k]={nextPos:At,result:e},e)}function br(){var e,r,n,s,o,a=49*At+38,c=Tt[a];return c?(At=c.nextPos,c.result):(e=At,(r=gr())!==i?(84===t.charCodeAt(At)?(n=xe,At++):(n=i,0===xt&&Ot(Te)),n!==i&&(s=mr())!==i?(90===t.charCodeAt(At)?(o=Pe,At++):(o=i,0===xt&&Ot(Re)),o!==i?(St=e,e=r=Be(r,s)):(At=e,e=u)):(At=e,e=u)):(At=e,e=u),e===i&&(e=At,(r=gr())!==i?(84===t.charCodeAt(At)?(n=xe,At++):(n=i,0===xt&&Ot(Te)),n!==i&&(s=yr())!==i?(St=e,e=r=Oe(r,s)):(At=e,e=u)):(At=e,e=u)),Tt[a]={nextPos:At,result:e},e)}function wr(){var e,r=49*At+39,n=Tt[r];return n?(At=n.nextPos,n.result):(Me.test(t.charAt(At))?(e=t.charAt(At),At++):(e=i,0===xt&&Ot(Ue)),Tt[r]={nextPos:At,result:e},e)}function kr(){var e,r,n,s=49*At+40,o=Tt[s];return o?(At=o.nextPos,o.result):(10===t.charCodeAt(At)?(e=ze,At++):(e=i,0===xt&&Ot(Le)),e===i&&(e=At,13===t.charCodeAt(At)?(r=Ne,At++):(r=i,0===xt&&Ot(Ce)),r!==i?(10===t.charCodeAt(At)?(n=ze,At++):(n=i,0===xt&&Ot(Le)),n!==i?e=r=[r,n]:(At=e,e=u)):(At=e,e=u)),Tt[s]={nextPos:At,result:e},e)}function Ar(){var e,t=49*At+41,r=Tt[t];return r?(At=r.nextPos,r.result):((e=kr())===i&&(e=wr()),Tt[t]={nextPos:At,result:e},e)}function Sr(){var e,r,n=49*At+42,s=Tt[n];return s?(At=s.nextPos,s.result):(e=At,xt++,t.length>At?(r=t.charAt(At),At++):(r=i,0===xt&&Ot(h)),xt--,r===i?e=l:(At=e,e=u),Tt[n]={nextPos:At,result:e},e)}function Ir(){var e,r=49*At+43,n=Tt[r];return n?(At=n.nextPos,n.result):(We.test(t.charAt(At))?(e=t.charAt(At),At++):(e=i,0===xt&&Ot(De)),Tt[r]={nextPos:At,result:e},e)}function _r(){var e,r,n=49*At+44,s=Tt[n];return s?(At=s.nextPos,s.result):(Ke.test(t.charAt(At))?(e=t.charAt(At),At++):(e=i,0===xt&&Ot(Fe)),e===i&&(e=At,95===t.charCodeAt(At)?(r=Ge,At++):(r=i,0===xt&&Ot(Ve)),r!==i&&(St=e,r=qe()),e=r),Tt[n]={nextPos:At,result:e},e)}function vr(){var e,r=49*At+45,n=Tt[r];return n?(At=n.nextPos,n.result):(je.test(t.charAt(At))?(e=t.charAt(At),At++):(e=i,0===xt&&Ot(Ze)),Tt[r]={nextPos:At,result:e},e)}function Er(){var e,t,r,n=49*At+46,s=Tt[n];if(s)return At=s.nextPos,s.result;if(e=At,t=[],(r=_r())!==i)for(;r!==i;)t.push(r),r=_r();else t=u;return t!==i&&(St=e,t=He(t)),e=t,Tt[n]={nextPos:At,result:e},e}function xr(){var e,r,n=49*At+47,s=Tt[n];return s?(At=s.nextPos,s.result):(e=At,t.substr(At,2)===Xe?(r=Xe,At+=2):(r=i,0===xt&&Ot(Je)),r!==i&&(St=e,r=Qe()),(e=r)===i&&(e=At,t.substr(At,2)===$e?(r=$e,At+=2):(r=i,0===xt&&Ot(Ye)),r!==i&&(St=e,r=et()),(e=r)===i&&(e=At,t.substr(At,2)===tt?(r=tt,At+=2):(r=i,0===xt&&Ot(rt)),r!==i&&(St=e,r=nt()),(e=r)===i&&(e=At,t.substr(At,2)===it?(r=it,At+=2):(r=i,0===xt&&Ot(st)),r!==i&&(St=e,r=ot()),(e=r)===i&&(e=At,t.substr(At,2)===at?(r=at,At+=2):(r=i,0===xt&&Ot(ut)),r!==i&&(St=e,r=ct()),(e=r)===i&&(e=At,t.substr(At,2)===dt?(r=dt,At+=2):(r=i,0===xt&&Ot(lt)),r!==i&&(St=e,r=ht()),(e=r)===i&&(e=At,t.substr(At,2)===ft?(r=ft,At+=2):(r=i,0===xt&&Ot(pt)),r!==i&&(St=e,r=gt()),(e=r)===i&&(e=Tr()))))))),Tt[n]={nextPos:At,result:e},e)}function Tr(){var e,r,n,s,o,a,c,d,l,h,f,p=49*At+48,g=Tt[p];return g?(At=g.nextPos,g.result):(e=At,t.substr(At,2)===mt?(r=mt,At+=2):(r=i,0===xt&&Ot(yt)),r!==i?(n=At,(s=Ir())!==i&&(o=Ir())!==i&&(a=Ir())!==i&&(c=Ir())!==i&&(d=Ir())!==i&&(l=Ir())!==i&&(h=Ir())!==i&&(f=Ir())!==i?n=s=[s,o,a,c,d,l,h,f]:(At=n,n=u),n!==i?(St=e,e=r=bt(n)):(At=e,e=u)):(At=e,e=u),e===i&&(e=At,t.substr(At,2)===wt?(r=wt,At+=2):(r=i,0===xt&&Ot(kt)),r!==i?(n=At,(s=Ir())!==i&&(o=Ir())!==i&&(a=Ir())!==i&&(c=Ir())!==i?n=s=[s,o,a,c]:(At=n,n=u),n!==i?(St=e,e=r=bt(n)):(At=e,e=u)):(At=e,e=u)),Tt[p]={nextPos:At,result:e},e)}var Pr=[];function Rr(e,t,r){var n=new Error(e);throw n.line=t,n.column=r,n}function Br(e){Pr.push(e)}function Or(e,t,r,n,i){var s={type:e,value:t,line:r(),column:n()};return i&&(s.key=i),s}function Mr(e,t,r){var n=parseInt("0x"+e);if(!(!isFinite(n)||Math.floor(n)!=n||n<0||n>1114111||n>55295&&n<57344))return Ur(n);Rr("Invalid Unicode escape code: "+e,t,r)}function Ur(){var e,t,r=16384,n=[],i=-1,s=arguments.length;if(!s)return"";for(var o="";++i<s;){var a=Number(arguments[i]);a<=65535?n.push(a):(e=55296+((a-=65536)>>10),t=a%1024+56320,n.push(e,t)),(i+1==s||n.length>r)&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o}if((r=o())!==i&&At===t.length)return r;throw r!==i&&At<t.length&&Ot({type:"end",description:"end of input"}),Mt(null,Et,vt)}}}()},80104:e=>{"use strict";e.exports=JSON.parse('[{"address":"B37pZmwrwXHjpgvd9hHDAx1yeDsNevTnbbrN9W12BoGK","deprecated":true,"name":"ALEPH/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"CAgAeMD7quTdnr6RPa7JySQpjf3irAmefYNdTb6anemq","deprecated":true,"name":"BTC/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"ASKiV944nKg1W9vsf7hf3fTsjawK6DwLwrnB2LH9n61c","deprecated":true,"name":"ETH/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Cdp72gDcYMCLLk3aDkPxjeiirKoFqK38ECm8Ywvk94Wi","deprecated":true,"name":"SOL/WUSDC","programId":"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{"address":"68J6nkWToik6oM9rTatKSR5ibVSykAtzftBUEAvpRsys","deprecated":true,"name":"SRM/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8Jzed8Fafu1RU1CQDWdiETSrqAJy1ukZ5JL6Pma3p3a2","deprecated":true,"name":"SRM/SOL","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9wDmxsfwaDb2ysmZpBLzxKzoWrF1zHzBN7PV5EmJe19R","deprecated":true,"name":"SUSHI/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"GbQSffne1NcJbS4jsewZEpRGYVR4RNnuVUN8Ht6vAGb6","deprecated":true,"name":"SXP/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"7kgkDyW7dmyMeP8KFXzbcUZz1R2WHsovDZ7n3ihZuNDS","deprecated":true,"name":"MSRM/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FZqrBXz7ADGsmDf1TM9YgysPUfvtG8rJiNUrqDpHc9Au","deprecated":true,"name":"FTT/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FJg9FUtbN3fg3YFbMCFiZKjGh5Bn4gtzxZmtxFzmz9kT","deprecated":true,"name":"YFI/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"7GZ59DMgJ7D6dfoJTpszPayTRyua9jwcaGJXaRMMF1my","deprecated":true,"name":"LINK/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"uPNcBgFhrLW3FtvyYYbBUi53BBEQf9e4NPgwxaLu5Hn","deprecated":true,"name":"HGET/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"3puWJFZyCso14EdxhywjD7xqyTarpsULx483mzvqxQRW","deprecated":true,"name":"CREAM/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8Ae7Uhigx8k4fKdJG7irdPCVDZLvWsJfeTH2t5fr3TVD","deprecated":true,"name":"UBXT/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Hze5AUX4Qp1cTujiJ4CsAMRGn4g6ZpgXsmptFn3xxhWg","deprecated":true,"name":"HNT/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FJq4HX3bUSgF3yQZ8ADALtJYfAyr9fz36SNG18hc3dgF","deprecated":true,"name":"FRONT/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"BZMuoQ2i2noNUXMdrRDivc7MwjGspNJTCfZkdHMwK18T","deprecated":true,"name":"ALEPH/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5LgJphS6D5zXwUVPU7eCryDBkyta3AidrJ5vjNU6BcGW","deprecated":true,"name":"BTC/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DmEDKZPXXkWgaYiKgWws2ZXWWKCh41eryDPRVD4zKnD9","deprecated":true,"name":"ETH/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EBFTQNg2QjyxV7WDDenoLbfLLXLcbSz6w1YrdTCGPWT5","deprecated":true,"name":"SOL/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8YmQZRXGizZXYPCDmxgjwB8X8XN4PZG7MMwNg76iAmPZ","deprecated":true,"name":"SRM/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9vFuX2BizwinWjkZLQTmThDcNMFEcY3wVXYuqnRQtcD","deprecated":true,"name":"SUSHI/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"C5NReXAeQhfjiDCGPFj1UUmDxDqF8v2CUVKoYuQqb4eW","deprecated":true,"name":"SXP/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"58H7ZRmiyWtsrz2sQGz1qQCMW6n7447xhNNehUSQGPj5","deprecated":true,"name":"MSRM/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"ES8skmkEeyH1BYFThd2FtyaFKhkqtwH7XWp8mXptv3vg","deprecated":true,"name":"FTT/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"Gw78CYLLFbgmmn4rps9KoPAnNtBQ2S1foL2Mn6Z5ZHYB","deprecated":true,"name":"YFI/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"WjfsTPyrvUUrhGJ9hVQFubMnKDcnQS8VxSXU7L2gLcA","deprecated":true,"name":"LINK/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2ZmB255T4FVUugpeXTFxD6Yz5GE47yTByYvqSTDUbk3G","deprecated":true,"name":"HGET/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FGJtCDXoHLHjagP5Ht6xcUFt2rW3z8MJPe87rFKP2ZW6","deprecated":true,"name":"CREAM/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7K6MPog6LskZmyaYwqtLvRUuedoiE68nirbQ9tK3LasE","deprecated":true,"name":"UBXT/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9RyozJe3bkAFfH3jmoiKHjkWCoLTxn7aBQSi6YfaV6ab","deprecated":true,"name":"HNT/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AGtBbGuJZiv3Ko3dfT4v6g4kCqnNc9DXfoGLe5HpjmWx","deprecated":true,"name":"FRONT/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AA1HSrsMcRNzjaQfRMTNarHR9B7e4U79LJ2319UtiqPF","deprecated":true,"name":"AKRO/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AUAobJdffexcoJBMeyLorpShu3ZtG9VvPEPjoeTN4u5Z","deprecated":true,"name":"HXRO/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GpdYLFbKHeSeDGqsnQ4jnP7D1294iBpQcsN1VPwhoaFS","deprecated":true,"name":"UNI/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"sxS9EdTx1UPe4j2c6Au9f1GKZXrFj5pTgNKgjGGtGdY","deprecated":true,"name":"KEEP/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CfnnU38ACScF6pcurxSB3FLXeZmfFYunVKExeUyosu5P","deprecated":true,"name":"MATH/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7NR5GDouQYkkfppVkNhpa4HfJ2LwqUQymE3b4CYQiYHa","deprecated":true,"name":"ALEPH/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CVfYa8RGXnuDBeGmniCcdkBwoLqVxh92xB1JqgRQx3F","deprecated":true,"name":"BTC/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H5uzEytiByuXt964KampmuNCurNDwkVVypkym75J2DQW","deprecated":true,"name":"ETH/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7xMDbYTCqQEcK2aM9LbetGtNFJpzKdfXzLL5juaLh4GJ","deprecated":true,"name":"SOL/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CDdR97S8y96v3To93aKvi3nCnjUrbuVSuumw8FLvbVeg","deprecated":true,"name":"SRM/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7LVJtqSrF6RudMaz5rKGTmR3F3V5TKoDcN6bnk68biYZ","deprecated":true,"name":"SUSHI/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"13vjJ8pxDMmzen26bQ5UrouX8dkXYPW1p3VLVDjxXrKR","deprecated":true,"name":"SXP/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AwvPwwSprfDZ86beBJDNH5vocFvuw4ZbVQ6upJDbSCXZ","deprecated":true,"name":"MSRM/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FfDb3QZUdMW2R2aqJQgzeieys4ETb3rPrFFfPSemzq7R","deprecated":true,"name":"FTT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"4QL5AQvXdMSCVZmnKXiuMMU83Kq3LCwVfU8CyznqZELG","deprecated":true,"name":"YFI/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7JCG9TsCx3AErSV3pvhxiW4AbkKRcJ6ZAveRmJwrgQ16","deprecated":true,"name":"LINK/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"3otQFkeQ7GNUKT3i2p3aGTQKS2SAw6NLYPE5qxh3PoqZ","deprecated":true,"name":"HGET/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2M8EBxFbLANnCoHydypL1jupnRHG782RofnvkatuKyLL","deprecated":true,"name":"CREAM/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"3UqXdFtNBZsFrFtRGAWGvy9R8H6GJR2hAyGRdYT9BgG3","deprecated":true,"name":"UBXT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9jiasgdYGGh34fAbBQSwkKe1dYSapXbjy2sLsYpetqFp","deprecated":true,"name":"HNT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7oKqJhnz9b8af8Mw47dieTiuxeaHnRYYGBiqCrRpzTRD","deprecated":true,"name":"FRONT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"F1rxD8Ns5w4WzVcTRdaJ96LG7YKaA5a25BBmM32yFP4b","deprecated":true,"name":"AKRO/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"6ToedDwjRCvrcKX7fnHSTA9uABQe1dcLK6YgS5B9M3wo","deprecated":true,"name":"HXRO/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FURvCsDUiuUaxZ13pZqQbbfktFGWmQVTHz7tL992LQVZ","deprecated":true,"name":"UNI/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EcfDRMrEJ3yW4SgrRyyxTPoKqAZDNSBV8EerigT7BNSS","deprecated":true,"name":"KEEP/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2bPsJ6bZ9KDLfJ8QgSN1Eb4mRsbAiaGyHN6cJkoVLpwd","deprecated":true,"name":"MATH/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"B1GypajMh7S8zJVp6M1xMfu6zGsMgvYrt3cSn9wG7Dd6","deprecated":true,"name":"TOMO/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"rPTGvVrNFYzBeTEcYnHiaWGNnkSXsWNNjUgk771LkwJ","deprecated":true,"name":"LUA/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FrDavxi4QawYnQY259PVfYUjUvuyPNfqSXbLBqMnbfWJ","deprecated":true,"name":"FIDA/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CVn1nJ5Utuseyy2qqwrpYoJz9Y7jjYonVL4UYvcCepDH","deprecated":true,"name":"KIN/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"BqjGW7ousAizgs8VrHo5SR1LxTksAQPtb8cKZZiNvX5D","deprecated":true,"name":"MAPS/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GcoKtAmTy5QyuijXSmJKBtFdt99e6Buza18Js7j9AJ6e","deprecated":false,"name":"ALEPH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"A8YFbxQYFVqKZaoYJLLUVcQiWP7G2MeEgW5wsAQgMvFw","deprecated":false,"name":"BTC/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4tSvZvnbyzHXLMTiFonMyxZoHmFqau1XArcRCVHLZ5gX","deprecated":false,"name":"ETH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"ByRys5tuUWDgL73G8JBAEfkdFf8JWBzPBDHsBVQ5vbQA","deprecated":false,"name":"SRM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"A1Q9iJDVVS8Wsswr9ajeZugmj64bQVCYLZQLra2TMBMo","deprecated":false,"name":"SUSHI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4LUro5jaPaTurXK737QAxgJywdhABnFAMQkXX4ZyqqaZ","deprecated":false,"name":"SXP/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4VKLSYdvrQ5ngQrt1d2VS8o4ewvb2MMUZLiejbnGPV33","deprecated":false,"name":"MSRM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2Pbh1CvRVku1TgewMfycemghf6sU9EyuFDcNXqvRmSxc","deprecated":false,"name":"FTT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7qcCo8jqepnjjvB5swP4Afsr3keVBs6gNpBTNubd1Kr2","deprecated":false,"name":"YFI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3hwH1txjJVS8qv588tWrjHfRxdqNjBykM1kMcit484up","deprecated":false,"name":"LINK/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"88vztw7RTN6yJQchVvxrs6oXUDryvpv9iJaFa1EEmg87","deprecated":false,"name":"HGET/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7nZP6feE94eAz9jmfakNJWPwEKaeezuKKC5D1vrnqyo2","deprecated":false,"name":"CREAM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2wr3Ab29KNwGhtzr5HaPCyfU1qGJzTUAN4amCLZWaD1H","deprecated":false,"name":"UBXT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CnUV42ZykoKUnMDdyefv5kP6nDSJf7jFd7WXAecC6LYr","deprecated":false,"name":"HNT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"9Zx1CvxSVdroKMMWf2z8RwrnrLiQZ9VkQ7Ex3syQqdSH","deprecated":false,"name":"FRONT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5CZXTTgVZKSzgSA3AFMN5a2f3hmwmmJ6hU8BHTEJ3PX8","deprecated":false,"name":"AKRO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6Pn1cSiRos3qhBf54uBP9ZQg8x3JTardm1dL3n4p29tA","deprecated":false,"name":"HXRO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6JYHjaQBx6AtKSSsizDMwozAEDEZ5KBsSUzH7kRjGJon","deprecated":false,"name":"UNI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"J7cPYBrXVy8Qeki2crZkZavcojf2sMRyQU7nx438Mf8t","deprecated":false,"name":"MATH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"8BdpjpSD5n3nk8DQLqPUyTZvVqFu6kcff5bzUX5dqDpy","deprecated":false,"name":"TOMO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4xyWjQ74Eifq17vbue5Ut9xfFNfuVB116tZLEpiZuAn8","deprecated":false,"name":"LUA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"jyei9Fpj2GtHLDDGgcuhDacxYLLiSyxU4TY7KxB2xai","deprecated":false,"name":"SRM/SOL","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT","deprecated":false,"name":"SOL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"E14BKBhDWD4EuTkWj1ooZezesGxMW8LPCps4W5PuzZJo","deprecated":false,"name":"FIDA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Bn6NPyr6UzrFAwC4WmvPvDr2Vm8XSUnFykM2aQroedgn","deprecated":false,"name":"KIN/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3A8XQRWXC7BjLpgLDDBhQJLT5yPCzS16cGYRKHkKxvYo","deprecated":false,"name":"MAPS/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3rgacody9SvM88QR83GHaNdEEx4Fe2V2ed5GJp2oeKDr","deprecated":false,"name":"KEEP/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"EmCzMQfXMgNHcnRoFwAdPe1i2SuiSzMj1mx6wu3KN2uA","deprecated":true,"name":"ALEPH/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8AcVjMG2LTbpkjNoyq8RwysokqZunkjy3d5JDzxC6BJa","deprecated":true,"name":"BTC/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"HfCZdJ1wfsWKfYP2qyWdXTT5PWAGWFctzFjLH48U1Hsd","deprecated":true,"name":"ETH/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8mDuvJJSgoodovMRYArtVVYBbixWYdGzR47GPrRT65YJ","deprecated":true,"name":"SOL/WUSDT","programId":"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{"address":"HARFLhSq8nECZk4DVFKvzqXMNMA9a3hjvridGMFizeLa","deprecated":true,"name":"SRM/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"DzFjazak6EKHnaB2w6qSsArnj28CV1TKd2Smcj9fqtHW","deprecated":true,"name":"SUSHI/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"GuvWMATdEV6DExWnXncPYEzn4ePWYkvGdC8pu8gsn7m7","deprecated":true,"name":"SXP/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"H4snTKK9adiU15gP22ErfZYtro3aqR9BTMXiH3AwiUTQ","deprecated":true,"name":"MSRM/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"DHDdghmkBhEpReno3tbzBPtsxCt6P3KrMzZvxavTktJt","deprecated":true,"name":"FTT/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"5zu5bTZZvqESAAgFsr12CUMxdQvMrvU9CgvC1GW8vJdf","deprecated":true,"name":"YFI/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"F5xschQBMpu1gD2q1babYEAVJHR1buj1YazLiXyQNqSW","deprecated":true,"name":"LINK/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"BAbc9baz4hV1hnYjWSJ6cZDRjfvziWbYGQu9UFkcdUmx","deprecated":true,"name":"HGET/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"EBxJWA2nLV57ZntbjizxH527ZjPNLT5cpUHMnY5k3oq","deprecated":true,"name":"CREAM/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"46VdEkj4MJwZinwVb3Y7DUDpVXLNb9YW7P2waKU3vCqr","deprecated":true,"name":"UBXT/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Hc22rHKrhbrZBaQMmhJvPTkp1yDr31PDusU8wKoqFSZV","deprecated":true,"name":"HNT/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"HFoca5HKwiTPpw9iUY5iXWqzkXdu88dS7YrpSvt2uhyF","deprecated":true,"name":"FRONT/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"5xnYnWca2bFwC6cPufpdsCbDJhMjYCC59YgwoZHEfiee","deprecated":true,"name":"ALEPH/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EXnGBBSamqzd3uxEdRLUiYzjJkTwQyorAaFXdfteuGXe","deprecated":true,"name":"BTC/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5abZGhrELnUnfM9ZUnvK6XJPoBU5eShZwfFPkdhAC7o","deprecated":true,"name":"ETH/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7xLk17EQQ5KLDLDe44wCmupJKJjTGd8hs3eSVVhCx932","deprecated":true,"name":"SOL/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H3APNWA8bZW2gLMSq5sRL41JSMmEJ648AqoEdDgLcdvB","deprecated":true,"name":"SRM/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"4uZTPc72sCDcVRfKKii67dTPm2Xe4ri3TYnGcUQrtnU9","deprecated":true,"name":"SUSHI/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"33GHmwG9woY95JuWNi74Aa8uKvysSXxif9P1EwwkrCRz","deprecated":true,"name":"SXP/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FUaF58sDrgbqakHTR8RUwRLauSofRTjqyCsqThFPh6YM","deprecated":true,"name":"MSRM/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5NqjQVXLuLSDnsnQMfWp3rF9gbWDusWG4B1Xwtk3rZ5S","deprecated":true,"name":"FTT/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"97NiXHUNkpYd1eb2HthSDGhaPfepuqMAV3QsZhAgb1wm","deprecated":true,"name":"YFI/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"hBswhpNyz4m5nt4KwtCA7jYXvh7VmyZ4TuuPmpaKQb1","deprecated":true,"name":"LINK/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GaeUpY7CT8rjoeVGjY1t3mJJDd1bdXxYWtrGSpsVFors","deprecated":true,"name":"HGET/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7qq9BABQvTWKZuJ5fX2PeTKX6XVtduEs9zW9WS21fSzN","deprecated":true,"name":"CREAM/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DCHvVahuLTNWBGUtEzF5GrTdx5FRpxqEJiS6Ru1hrDfD","deprecated":true,"name":"UBXT/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DWjJ8VHdGYBxDQYdrRBVDWkHswrgjuBFEv5pBhiRoPBz","deprecated":true,"name":"HNT/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"56eqxJYzPigm4FkigiBdsfebjMgAbKNh24E7oiKLBtye","deprecated":true,"name":"FRONT/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FQbCNSVH3RgosCPB4CJRstkLh5hXkvuXzAjQzT11oMYo","deprecated":true,"name":"AKRO/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"Fs5xtGUmJTYo8Ao75M3R3m3mVX53KMUhzfXCmyRLnp2P","deprecated":true,"name":"HXRO/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"ChKV7mxecPqFPGYJjhzowPHDiLKFWXXVujUiE3EWxFcg","deprecated":true,"name":"UNI/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"6N3oU7ALvn2RPwdpYVzPBgQJ8njT29inBbS2tSrwx8fh","deprecated":true,"name":"KEEP/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5P6dJbyKySFXMYNWiEcNQu8xPRYsehYzCeVpae9Ueqrg","deprecated":true,"name":"MATH/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H7c8FcQPJ2E5tJmpWBPSi7xCAbk8immdtUxKFRUyE4Ro","deprecated":true,"name":"TOMO/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7PSeX1AEtBY9KvgegF5rUh452VemMh7oDzFtJgH7sxMG","deprecated":true,"name":"LUA/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AF2oQQaLtcrTnQyVs3EPTdyw57TPaK6njKYDq2Qw7LqP","deprecated":true,"name":"SWAG/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9TE15E5h61zJ5VmQAAHkGrAuQdFTth33aBbKdcrppZBp","deprecated":true,"name":"FIDA/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8HEaA1vSA5mGQoHcvRPNibnuZvnUpSjJJru9HJNH3SqM","deprecated":true,"name":"KIN/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8EuuEwULFM7n7zthPjC7kA64LPRzYkpAyuLFiLuVg7D4","deprecated":true,"name":"WUSDT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8grUs4WZoTs4KJ8LfRNUBs6SNkMTp5BnVRzJgQ2ranDT","deprecated":true,"name":"MAPS/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FoCuWt4KboucUg2PwmQ3dbkvLqYPLnAo1Rsm8p7QPyf","deprecated":true,"name":"ALEPH/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5r8FfnbNYcQbS1m4CYmoHYGjBtu6bxfo6UJHNRfzPiYH","deprecated":true,"name":"BTC/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"71CtEComq2XdhGNbXBuYPmosAjMCPSedcgbNi5jDaGbR","deprecated":true,"name":"ETH/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"EZyQ9zyqQsw3QcsLksoWyd1UFVjHZkzRx8N4ZMnZQrS2","deprecated":true,"name":"SRM/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6ERBjj692XHLWwWSRAUpiKenXshcwmPqhMy7RMapeoKa","deprecated":true,"name":"SUSHI/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CQ3kAGxPmpBbak2RSHWyMeRhyLYbH6oVZHJxgjzDLpLW","deprecated":true,"name":"SXP/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2Hqn46jhwaQMQ3zEnHtxrWxQZom6qwLXAgdsFJM1Srwh","deprecated":true,"name":"MSRM/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"G5jqZNo2UVCTnJxgEhKCYvqFRs3MxsnH8Bervq3rfLoL","deprecated":true,"name":"FTT/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CbwtTHEpfTnCyLw4GoTbKk7WyrXkuATLfLadY2odBSsY","deprecated":true,"name":"YFI/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5GjhBAYx8pYeCeUQt7rt93KQZnoQFuDq9Jx4iqq97Mip","deprecated":true,"name":"LINK/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"9jMPV9E23pTirMjC7vz5suRNkd25311G3Httg7jTib8R","deprecated":true,"name":"CREAM/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"DsSz9KWT97T4RewRTqTNDpNFQyxMPcuYNAJw2xHAzSiZ","deprecated":true,"name":"UBXT/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3k1sURztjxhjYczjyioQ7y2UkMB6K5Ksi3SWvLeLx6Ex","deprecated":true,"name":"HNT/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"B791G8UCahfmABVcR2wPAMK6LJnuqxSAqiG6wX3mmVVM","deprecated":true,"name":"FRONT/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"95f7fxfUh8WqUTrdjorHRXm6rTfkWqr23ioGMmKMjedP","deprecated":true,"name":"AKRO/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"H4RxtmQ4P3TYPt78G3DuHgaGzyFct6MfaeYneLB5PyeG","deprecated":true,"name":"HXRO/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7myaZEGZf9m72T1Mqm8GTx5MnmSFS5NCXSwRP18W4EA3","deprecated":true,"name":"UNI/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7cRKzNoqjF9VtzvdnP129VYP3izivk9iY3jMJBMzREVT","deprecated":true,"name":"HGET/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"GV9fYzdwipoaagXFxe5tzDMPcmSVQati5CUvBPsEZThH","deprecated":true,"name":"MATH/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"AaMLXcwYYi5fA41JNCB2ukAmQyKHitYx5NnpsiWWev6R","deprecated":true,"name":"TOMO/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5ZeNLrduGi3WkH9CPwv2Zpbkh38MH8v63aSi2aBUW23g","deprecated":true,"name":"LUA/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Ec1aq54XKH9o5fe169cU2sCcxxTP54eeQCe77SpizKuc","deprecated":true,"name":"WUSDT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"G3uhFg2rBFunHUXtCera13vyQ5KCS8Hx3d4HohLoZbT5","deprecated":true,"name":"SOL/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2NMTG7tFZidRpQk9Sf4dgQyJb9HxKCyXjQdiuXww3sKm","deprecated":true,"name":"SWAG/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7QpJAiwGmqY1SiucjfPXvgeWwCobyV6hZSgzMysZX6Ww","deprecated":true,"name":"FIDA/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CmLhvXARncLncE1949XBfQWeJh6Zvw3FE5A3Z5ecPYQH","deprecated":true,"name":"KIN/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"FhP3X2ptdi7L1RtWK9Vfow5dyzD92gfXiA57e8eqxvka","deprecated":true,"name":"MAPS/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"DE7xJE2EkaV81wLabDMuhBzUwFhhwfURLdz1aXBBQZQ1","deprecated":true,"name":"KEEP/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5nLJ22h1DUfeCfwbFxPYK8zbfbri7nA9bXoDcR8AcJjs","deprecated":false,"name":"MSRM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7dLVkUfBVfCGkFhSXDCq1ukM9usathSgS716t643iFGF","deprecated":false,"name":"ETH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"8afKwzHR3wJE7W7Y5hvQkngXh6iTepSZuutRMMy96MjR","deprecated":false,"name":"SXP/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"cgani53cMZgYfRMgSrNekJTMaLmccRfspsfTbXWRg7u","deprecated":false,"name":"CEL/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Gyp1UGRgbrb6z8t7fpssxEKQgEmcJ4pVnWW3ds2p6ZPY","deprecated":false,"name":"ALEPH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4ztJEvQyryoYagj2uieep3dyPwG2pyEwb2dKXTwmXe82","deprecated":false,"name":"CREAM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HEGnaVL5i48ubPBqWAhodnZo8VsSLzEM3Gfc451DnFj9","deprecated":false,"name":"KEEP/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"8FpuMGLtMZ7Wt9ZvyTGuTVwTwwzLYfS5NZWcHxbP1Wuh","deprecated":false,"name":"HNT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5GAPymgnnWieGcRrcghZdA3aanefqa4cZx1ZSE8UTyMV","deprecated":false,"name":"MAPS/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"AADohBGxvf7bvixs2HKC3dG2RuU3xpZDwaTzYFJThM8U","deprecated":false,"name":"TRYB/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"EbV7pPpEvheLizuYX3gUCvWM8iySbSRAhu2mQ5Vz2Mxf","deprecated":false,"name":"FIDA/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"FcPet5fz9NLdbXwVM6kw2WTHzRAD7mT78UjwTpawd7hJ","deprecated":false,"name":"RSR/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"AtNnsY1AyRERWJ8xCskfz38YdvruWVJQUVXgScC1iPb","deprecated":false,"name":"SRM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"teE55QrL4a4QSfydR9dnHF97jgCfptpuigbb53Lo95g","deprecated":false,"name":"RAY/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"C1EuT9VokAKLiW7i2ASnZUvxDoKuKkCpDDeNxAptuNe4","deprecated":false,"name":"BTC/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Hr3wzG8mZXNHV7TuL6YqtgfVUesCqMxGYCEyP3otywZE","deprecated":false,"name":"FTT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HLvRdctRB48F9yLnu9E24LUTRt89D48Z35yi1HcxayDf","deprecated":false,"name":"AKRO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2SSnWNrc83otLpfRo792P6P3PESZpdr8cu2r8zCE6bMD","deprecated":false,"name":"UNI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"F1T7b6pnR8Pge3qmfNUfW6ZipRDiGpMww6TKTrRU4NiL","deprecated":false,"name":"UBXT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1","deprecated":false,"name":"SOL/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"35tV8UsHH8FnSAi3YFRrgCu4K9tb883wKnAXpnihot5r","deprecated":false,"name":"LUA/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6DgQRTpJTnAYBSShngAVZZDq7j9ogRN1GfSQ3cq9tubW","deprecated":false,"name":"SUSHI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2WghiBkDL2yRhHdvm8CpprrkmfguuQGJTCDfPSudKBAZ","deprecated":false,"name":"MATH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"ErQXxiNfJgd4fqQ58PuEw5xY35TZG84tHT6FXf5s4UxY","deprecated":false,"name":"HGET/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CGC4UgWwqA9PET6Tfx6o6dLv94EK2coVkPtxgNHuBtxj","deprecated":false,"name":"FRONT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"GnKPri4thaGipzTbp8hhSGSrHgG4F8MFiZVrbRn16iG2","deprecated":false,"name":"TOMO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6bxuB5N3bt3qW8UnPNLgMMzDq5sEH8pFmYJYGgzvE11V","deprecated":false,"name":"AAVE/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7cknqHAuGpfVXPtFoJpFvUjJ8wkmyEfbFusmwMfNy3FE","deprecated":false,"name":"MAPS/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4absuMsgemvdjfkgdLQq1zKEjw3dHBoCWkzKoctndyqd","deprecated":false,"name":"HXRO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4nCFQr8sahhhL4XJ7kngGFBmpkmyf3xLzemuMhn6mWTm","deprecated":false,"name":"KIN/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3Xg9Q4VtZhD4bVYJbTfgGWFV5zjE3U7ztSHa938zizte","deprecated":false,"name":"YFI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3yEZ9ZpXSQapmKjLAGKZEzUNA1rcupJtsDp5mPBWmGZR","deprecated":false,"name":"LINK/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"J2XSt77XWim5HwtUM8RUwQvmRXNZsbMKpp5GTKpHafvf","deprecated":false,"name":"SWAG/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"77quYg4MGneUdjgXCunt9GgM1usmrxKY31twEy3WHwcS","deprecated":false,"name":"USDT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"GKLev6UHeX1KSDCyo2bzyG6wqhByEzDBkmYTxEdmYJgB","deprecated":false,"name":"OXY/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HdBhZrnrxpje39ggXnTb6WuTWVvj5YKcSHwYGQCRsVj","deprecated":false,"name":"OXY/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"OXY/USDC","address":"GZ3WBFsqntmERPwumFEYgrX2B7J7G11MzNZAy7Hje27X","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"xCOPE/USDC","address":"7MpMwArporUHEGW7quUpkPZp5L5cHPs9eKUfKCdaPHq2","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"COPE/USDC","address":"6fc7v3PmjZG9Lk2XTot6BywGyYLkBQuzuFKd4FpCsPxk","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"MER/USDC","address":"HhvDWug3ftYNx5148ZmrQxzvEmohN2pKVNiRT4TVoekF","deprecated":true,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"MER/USDT","address":"6HwcY27nbeb933UkEcxqJejtjWLfNQFWkGCjAVNes6g7","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"MER/USDC","address":"G4LcexdCzzJUKZfqyVDQFzpkjhB1JoCNL8Kooxi9nJz5","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"SNY/USDC","address":"DPfj2jYwPaezkCmUNm5SSYfkrkz8WFqwGLcxDDUsN3gA","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"SLRS/USDC","address":"2Gx3UfV831BAh8uQv1FKSPKS9yajfeeD8GJ4ZNb2o2YP","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"ETHV/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HrgkuJryyKRserkoz7LBFYkASzhXHWp9XA6fRYCA6PHb"},{"name":"IETHV/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5aoLj1bySDhhWjo7cLfT3pF2gqNGd63uEJ9HMSfASESL"},{"name":"SBR/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HXBi8YBwbh4TXF6PjVw81m8Z3Cc4WBofvauj5SBFdgUs"}]')},7458:e=>{"use strict";e.exports=JSON.parse('[{"address":"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E","name":"BTC"},{"address":"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk","name":"ETH"},{"address":"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3","name":"FTT"},{"address":"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB","name":"YFI"},{"address":"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG","name":"LINK"},{"address":"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8","name":"XRP"},{"address":"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB","name":"USDT"},{"address":"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4","name":"WUSDT"},{"address":"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW","name":"WUSDC"},{"address":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","name":"USDC"},{"address":"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L","name":"MSRM"},{"address":"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt","name":"SRM"},{"address":"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy","name":"SUSHI"},{"address":"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX","name":"SXP"},{"address":"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K","name":"ALEPH"},{"address":"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN","name":"HGET"},{"address":"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv","name":"CREAM"},{"address":"873KLxCbz7s9Kc4ZzgYRtNmhfkQrhfyWGZJBmyCbC3ei","name":"UBXT"},{"address":"HqB7uswoVg4suaQiDP3wjxob1G5WdZ144zhdStwMCq7e","name":"HNT"},{"address":"9S4t2NEAiJVMvPdRYKVrfJpBafPBLtvbvyS3DecojQHw","name":"FRONT"},{"address":"6WNVCuxCGJzNjmMZoKyhZJwvJ5tYpsLyAtagzYASqBoF","name":"AKRO"},{"address":"DJafV9qemGp7mLMEn5wrfqaFwxsbLgUsGVS16zKRk9kc","name":"HXRO"},{"address":"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw","name":"UNI"},{"address":"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht","name":"KEEP"},{"address":"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza","name":"MATH"},{"address":"So11111111111111111111111111111111111111112","name":"SOL"},{"address":"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd","name":"TOMO"},{"address":"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX","name":"LUA"},{"address":"9F9fNTT6qwjsu4X4yWYKZpsbw5qT7o6yR2i57JF2jagy","name":"SWAG"},{"address":"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp","name":"FIDA"},{"address":"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6","name":"KIN"},{"address":"MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb","name":"MAPS"},{"address":"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M","name":"OXY"},{"address":"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R","name":"RAY"},{"address":"3K6rftdAaQYMPunrtNRHgnK2UAtjm2JwyT2oCiTDouYE","name":"xCOPE"},{"address":"dK83wTVypEpa1pqiBbHY3MNuUnT3ADUZM4wk9VZXZEc","name":"AAVE"},{"address":"DgHK9mfhMtUwwv54GChRrU54T2Em5cuszq2uMuen1ZVE","name":"CEL"},{"address":"7ncCLJpP3MNww17LW8bRvx8odQQnubNtfNZBL5BgAEHW","name":"RSR"},{"address":"6ry4WBDvAwAnrYJVv6MCog4J8zx6S3cPgSqnTsDZ73AR","name":"TRYB"},{"address":"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh","name":"COPE"},{"address":"MERt85fc5boKw3BW1eYdxonEuJNvXbiMbs6hvheau5K","name":"MER"},{"address":"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y","name":"SNY"},{"address":"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr","name":"SLRS"}]')},79137:e=>{"use strict";e.exports=JSON.parse('{"version":"0.1.0","name":"zeta","instructions":[{"name":"initializeZetaGroup","accounts":[{"name":"state","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"underlyingMint","isMut":false,"isSigner":false},{"name":"zetaProgram","isMut":false,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"underlying","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"insuranceVault","isMut":true,"isSigner":false},{"name":"socializedLossAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"usdcMint","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"InitializeZetaGroupArgs"}}]},{"name":"overrideExpiry","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"zetaGroup","isMut":true,"isSigner":false}],"args":[{"name":"args","type":{"defined":"OverrideExpiryArgs"}}]},{"name":"initializeMarginAccount","accounts":[{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"zetaProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false}],"args":[]},{"name":"initializeSpreadAccount","accounts":[{"name":"spreadAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"zetaProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false}],"args":[]},{"name":"closeMarginAccount","accounts":[{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"zetaGroup","isMut":false,"isSigner":false}],"args":[]},{"name":"closeSpreadAccount","accounts":[{"name":"spreadAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"zetaGroup","isMut":false,"isSigner":false}],"args":[]},{"name":"initializeMarketIndexes","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"marketIndexes","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false}],"args":[{"name":"nonce","type":"u8"}]},{"name":"initializeMarketNode","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marketNode","isMut":true,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"InitializeMarketNodeArgs"}}]},{"name":"haltZetaGroup","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[]},{"name":"unhaltZetaGroup","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[]},{"name":"updateHaltState","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"HaltZetaGroupArgs"}}]},{"name":"updateVolatility","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"UpdateVolatilityArgs"}}]},{"name":"updateInterestRate","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"UpdateInterestRateArgs"}}]},{"name":"addMarketIndexes","accounts":[{"name":"marketIndexes","isMut":true,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false}],"args":[]},{"name":"initializeZetaState","accounts":[{"name":"state","isMut":true,"isSigner":false},{"name":"mintAuthority","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true}],"args":[{"name":"args","type":{"defined":"InitializeStateArgs"}}]},{"name":"updateAdmin","accounts":[{"name":"state","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"newAdmin","isMut":true,"isSigner":true}],"args":[]},{"name":"updateZetaState","accounts":[{"name":"state","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"UpdateStateArgs"}}]},{"name":"updatePricingParameters","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"UpdatePricingParametersArgs"}}]},{"name":"updateMarginParameters","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"UpdateMarginParametersArgs"}}]},{"name":"cleanZetaMarkets","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false}],"args":[]},{"name":"cleanZetaMarketsHalted","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false}],"args":[]},{"name":"settlePositions","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"settlementAccount","isMut":false,"isSigner":false}],"args":[{"name":"expiryTs","type":"u64"},{"name":"settlementNonce","type":"u8"}]},{"name":"settlePositionsHalted","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[]},{"name":"settleSpreadPositions","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"settlementAccount","isMut":false,"isSigner":false}],"args":[{"name":"expiryTs","type":"u64"},{"name":"settlementNonce","type":"u8"}]},{"name":"settleSpreadPositionsHalted","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[]},{"name":"initializeMarketStrikes","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false}],"args":[]},{"name":"expireSeriesOverride","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"settlementAccount","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false}],"args":[{"name":"args","type":{"defined":"ExpireSeriesOverrideArgs"}}]},{"name":"expireSeries","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false},{"name":"settlementAccount","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false}],"args":[{"name":"settlementNonce","type":"u8"}]},{"name":"initializeZetaMarket","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"marketIndexes","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"market","isMut":true,"isSigner":false},{"name":"requestQueue","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"baseMint","isMut":true,"isSigner":false},{"name":"quoteMint","isMut":true,"isSigner":false},{"name":"zetaBaseVault","isMut":true,"isSigner":false},{"name":"zetaQuoteVault","isMut":true,"isSigner":false},{"name":"dexBaseVault","isMut":true,"isSigner":false},{"name":"dexQuoteVault","isMut":true,"isSigner":false},{"name":"vaultOwner","isMut":false,"isSigner":false},{"name":"mintAuthority","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"InitializeMarketArgs"}}]},{"name":"retreatMarketNodes","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false}],"args":[{"name":"expiryIndex","type":"u8"}]},{"name":"cleanMarketNodes","accounts":[{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false}],"args":[{"name":"expiryIndex","type":"u8"}]},{"name":"updateVolatilityNodes","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"nodes","type":{"array":["u64",5]}}]},{"name":"updatePricing","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false}],"args":[{"name":"expiryIndex","type":"u8"}]},{"name":"updatePricingHalted","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"expiryIndex","type":"u8"}]},{"name":"deposit","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"socializedLossAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"depositInsuranceVault","accounts":[{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"insuranceVault","isMut":true,"isSigner":false},{"name":"insuranceDepositAccount","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"zetaVault","isMut":true,"isSigner":false},{"name":"socializedLossAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"withdraw","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"greeks","isMut":false,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false},{"name":"socializedLossAccount","isMut":true,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"withdrawInsuranceVault","accounts":[{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"insuranceVault","isMut":true,"isSigner":false},{"name":"insuranceDepositAccount","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"percentageAmount","type":"u64"}]},{"name":"initializeOpenOrders","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"market","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrdersMap","isMut":true,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[]},{"name":"closeOpenOrders","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"market","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrdersMap","isMut":true,"isSigner":false}],"args":[{"name":"mapNonce","type":"u8"}]},{"name":"initializeWhitelistDepositAccount","accounts":[{"name":"whitelistDepositAccount","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"user","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false}],"args":[{"name":"nonce","type":"u8"}]},{"name":"initializeWhitelistInsuranceAccount","accounts":[{"name":"whitelistInsuranceAccount","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"user","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false}],"args":[{"name":"nonce","type":"u8"}]},{"name":"initializeWhitelistTradingFeesAccount","accounts":[{"name":"whitelistTradingFeesAccount","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"user","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false}],"args":[{"name":"nonce","type":"u8"}]},{"name":"initializeInsuranceDepositAccount","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"insuranceDepositAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"whitelistInsuranceAccount","isMut":false,"isSigner":false}],"args":[{"name":"nonce","type":"u8"}]},{"name":"placeOrder","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"marketAccounts","accounts":[{"name":"market","isMut":true,"isSigner":false},{"name":"requestQueue","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"orderPayerTokenAccount","isMut":true,"isSigner":false},{"name":"coinVault","isMut":true,"isSigner":false},{"name":"pcVault","isMut":true,"isSigner":false},{"name":"coinWallet","isMut":true,"isSigner":false},{"name":"pcWallet","isMut":true,"isSigner":false}]},{"name":"oracle","isMut":false,"isSigner":false},{"name":"marketNode","isMut":true,"isSigner":false},{"name":"marketMint","isMut":true,"isSigner":false},{"name":"mintAuthority","isMut":false,"isSigner":false}],"args":[{"name":"price","type":"u64"},{"name":"size","type":"u64"},{"name":"side","type":{"defined":"Side"}},{"name":"clientOrderId","type":{"option":"u64"}}]},{"name":"placeOrderV2","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"marketAccounts","accounts":[{"name":"market","isMut":true,"isSigner":false},{"name":"requestQueue","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"orderPayerTokenAccount","isMut":true,"isSigner":false},{"name":"coinVault","isMut":true,"isSigner":false},{"name":"pcVault","isMut":true,"isSigner":false},{"name":"coinWallet","isMut":true,"isSigner":false},{"name":"pcWallet","isMut":true,"isSigner":false}]},{"name":"oracle","isMut":false,"isSigner":false},{"name":"marketNode","isMut":true,"isSigner":false},{"name":"marketMint","isMut":true,"isSigner":false},{"name":"mintAuthority","isMut":false,"isSigner":false}],"args":[{"name":"price","type":"u64"},{"name":"size","type":"u64"},{"name":"side","type":{"defined":"Side"}},{"name":"orderType","type":{"defined":"OrderType"}},{"name":"clientOrderId","type":{"option":"u64"}}]},{"name":"placeOrderV3","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"marketAccounts","accounts":[{"name":"market","isMut":true,"isSigner":false},{"name":"requestQueue","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"orderPayerTokenAccount","isMut":true,"isSigner":false},{"name":"coinVault","isMut":true,"isSigner":false},{"name":"pcVault","isMut":true,"isSigner":false},{"name":"coinWallet","isMut":true,"isSigner":false},{"name":"pcWallet","isMut":true,"isSigner":false}]},{"name":"oracle","isMut":false,"isSigner":false},{"name":"marketNode","isMut":true,"isSigner":false},{"name":"marketMint","isMut":true,"isSigner":false},{"name":"mintAuthority","isMut":false,"isSigner":false}],"args":[{"name":"price","type":"u64"},{"name":"size","type":"u64"},{"name":"side","type":{"defined":"Side"}},{"name":"orderType","type":{"defined":"OrderType"}},{"name":"clientOrderId","type":{"option":"u64"}},{"name":"tag","type":{"option":"string"}}]},{"name":"cancelOrder","accounts":[{"name":"authority","isMut":false,"isSigner":true},{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[{"name":"side","type":{"defined":"Side"}},{"name":"orderId","type":"u128"}]},{"name":"cancelOrderNoError","accounts":[{"name":"authority","isMut":false,"isSigner":true},{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[{"name":"side","type":{"defined":"Side"}},{"name":"orderId","type":"u128"}]},{"name":"cancelOrderHalted","accounts":[{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[{"name":"side","type":{"defined":"Side"}},{"name":"orderId","type":"u128"}]},{"name":"cancelOrderByClientOrderId","accounts":[{"name":"authority","isMut":false,"isSigner":true},{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[{"name":"clientOrderId","type":"u64"}]},{"name":"cancelOrderByClientOrderIdNoError","accounts":[{"name":"authority","isMut":false,"isSigner":true},{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[{"name":"clientOrderId","type":"u64"}]},{"name":"cancelExpiredOrder","accounts":[{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[{"name":"side","type":{"defined":"Side"}},{"name":"orderId","type":"u128"}]},{"name":"forceCancelOrders","accounts":[{"name":"greeks","isMut":false,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false},{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[]},{"name":"crankEventQueue","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false}],"args":[]},{"name":"rebalanceInsuranceVault","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"zetaVault","isMut":true,"isSigner":false},{"name":"insuranceVault","isMut":true,"isSigner":false},{"name":"socializedLossAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"liquidate","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"liquidator","isMut":false,"isSigner":true},{"name":"liquidatorMarginAccount","isMut":true,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false},{"name":"market","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"liquidatedMarginAccount","isMut":true,"isSigner":false}],"args":[{"name":"size","type":"u64"}]},{"name":"burnVaultTokens","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"mint","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"settleDexFunds","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"zetaBaseVault","isMut":true,"isSigner":false},{"name":"zetaQuoteVault","isMut":true,"isSigner":false},{"name":"dexBaseVault","isMut":true,"isSigner":false},{"name":"dexQuoteVault","isMut":true,"isSigner":false},{"name":"vaultOwner","isMut":false,"isSigner":false},{"name":"mintAuthority","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"positionMovement","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"spreadAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"greeks","isMut":false,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false}],"args":[{"name":"movementType","type":{"defined":"MovementType"}},{"name":"movements","type":{"vec":{"defined":"PositionMovementArg"}}}]},{"name":"transferExcessSpreadBalance","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"spreadAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[]},{"name":"toggleMarketMaker","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"marginAccount","isMut":true,"isSigner":false}],"args":[{"name":"isMarketMaker","type":"bool"}]},{"name":"initializeReferrerAccount","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"referrer","isMut":false,"isSigner":false},{"name":"referrerAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"referUser","accounts":[{"name":"user","isMut":true,"isSigner":true},{"name":"referrerAccount","isMut":false,"isSigner":false},{"name":"referralAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]}],"accounts":[{"name":"Greeks","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"markPrices","type":{"array":["u64",46]}},{"name":"markPricesPadding","type":{"array":["u64",92]}},{"name":"productGreeks","type":{"array":[{"defined":"ProductGreeks"},22]}},{"name":"productGreeksPadding","type":{"array":[{"defined":"ProductGreeks"},44]}},{"name":"updateTimestamp","type":{"array":["u64",2]}},{"name":"updateTimestampPadding","type":{"array":["u64",4]}},{"name":"retreatExpirationTimestamp","type":{"array":["u64",2]}},{"name":"retreatExpirationTimestampPadding","type":{"array":["u64",4]}},{"name":"interestRate","type":{"array":["i64",2]}},{"name":"interestRatePadding","type":{"array":["i64",4]}},{"name":"nodes","type":{"array":["u64",5]}},{"name":"volatility","type":{"array":["u64",10]}},{"name":"volatilityPadding","type":{"array":["u64",20]}},{"name":"nodeKeys","type":{"array":["publicKey",138]}},{"name":"haltForcePricing","type":{"array":["bool",6]}},{"name":"padding","type":{"array":["u8",1641]}}]}},{"name":"MarketIndexes","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"initialized","type":"bool"},{"name":"indexes","type":{"array":["u8",138]}}]}},{"name":"OpenOrdersMap","type":{"kind":"struct","fields":[{"name":"userKey","type":"publicKey"}]}},{"name":"State","type":{"kind":"struct","fields":[{"name":"admin","type":"publicKey"},{"name":"stateNonce","type":"u8"},{"name":"serumNonce","type":"u8"},{"name":"mintAuthNonce","type":"u8"},{"name":"numUnderlyings","type":"u8"},{"name":"expiryIntervalSeconds","type":"u32"},{"name":"newExpiryThresholdSeconds","type":"u32"},{"name":"strikeInitializationThresholdSeconds","type":"u32"},{"name":"pricingFrequencySeconds","type":"u32"},{"name":"liquidatorLiquidationPercentage","type":"u32"},{"name":"insuranceVaultLiquidationPercentage","type":"u32"},{"name":"nativeTradeFeePercentage","type":"u64"},{"name":"nativeUnderlyingFeePercentage","type":"u64"},{"name":"nativeWhitelistUnderlyingFeePercentage","type":"u64"},{"name":"nativeDepositLimit","type":"u64"},{"name":"expirationThresholdSeconds","type":"u32"},{"name":"positionMovementFeeBps","type":"u8"},{"name":"marginConcessionPercentage","type":"u8"},{"name":"padding","type":{"array":["u8",157]}}]}},{"name":"Underlying","type":{"kind":"struct","fields":[{"name":"mint","type":"publicKey"}]}},{"name":"SettlementAccount","type":{"kind":"struct","fields":[{"name":"settlementPrice","type":"u64"},{"name":"strikes","type":{"array":["u64",23]}}]}},{"name":"ZetaGroup","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"vaultNonce","type":"u8"},{"name":"insuranceVaultNonce","type":"u8"},{"name":"frontExpiryIndex","type":"u8"},{"name":"haltState","type":{"defined":"HaltState"}},{"name":"underlyingMint","type":"publicKey"},{"name":"oracle","type":"publicKey"},{"name":"greeks","type":"publicKey"},{"name":"pricingParameters","type":{"defined":"PricingParameters"}},{"name":"marginParameters","type":{"defined":"MarginParameters"}},{"name":"products","type":{"array":[{"defined":"Product"},46]}},{"name":"productsPadding","type":{"array":[{"defined":"Product"},92]}},{"name":"expirySeries","type":{"array":[{"defined":"ExpirySeries"},2]}},{"name":"expirySeriesPadding","type":{"array":[{"defined":"ExpirySeries"},4]}},{"name":"totalInsuranceVaultDeposits","type":"u64"},{"name":"asset","type":{"defined":"Asset"}},{"name":"padding","type":{"array":["u8",1062]}}]}},{"name":"MarketNode","type":{"kind":"struct","fields":[{"name":"index","type":"u8"},{"name":"nonce","type":"u8"},{"name":"nodeUpdates","type":{"array":["i64",5]}},{"name":"interestUpdate","type":"i64"}]}},{"name":"SpreadAccount","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"nonce","type":"u8"},{"name":"balance","type":"u64"},{"name":"seriesExpiry","type":{"array":["u64",6]}},{"name":"positions","type":{"array":[{"defined":"Position"},46]}},{"name":"positionsPadding","type":{"array":[{"defined":"Position"},92]}},{"name":"asset","type":{"defined":"Asset"}},{"name":"padding","type":{"array":["u8",262]}}]}},{"name":"MarginAccount","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"nonce","type":"u8"},{"name":"balance","type":"u64"},{"name":"forceCancelFlag","type":"bool"},{"name":"openOrdersNonce","type":{"array":["u8",138]}},{"name":"seriesExpiry","type":{"array":["u64",6]}},{"name":"productLedgers","type":{"array":[{"defined":"ProductLedger"},46]}},{"name":"productLedgersPadding","type":{"array":[{"defined":"ProductLedger"},92]}},{"name":"rebalanceAmount","type":"i64"},{"name":"asset","type":{"defined":"Asset"}},{"name":"accountType","type":{"defined":"MarginAccountType"}},{"name":"padding","type":{"array":["u8",386]}}]}},{"name":"SocializedLossAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"overbankruptAmount","type":"u64"}]}},{"name":"WhitelistDepositAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"userKey","type":"publicKey"}]}},{"name":"WhitelistInsuranceAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"userKey","type":"publicKey"}]}},{"name":"InsuranceDepositAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"amount","type":"u64"}]}},{"name":"WhitelistTradingFeesAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"userKey","type":"publicKey"}]}},{"name":"ReferrerAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"referrer","type":"publicKey"},{"name":"pendingRewards","type":"u64"},{"name":"claimedRewards","type":"u64"}]}},{"name":"ReferralAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"referrer","type":"publicKey"},{"name":"user","type":"publicKey"},{"name":"timestamp","type":"u64"},{"name":"pendingRewards","type":"u64"},{"name":"claimedRewards","type":"u64"}]}}],"types":[{"name":"ProductGreeks","type":{"kind":"struct","fields":[{"name":"delta","type":"u64"},{"name":"vega","type":{"defined":"AnchorDecimal"}},{"name":"volatility","type":{"defined":"AnchorDecimal"}}]}},{"name":"AnchorDecimal","type":{"kind":"struct","fields":[{"name":"flags","type":"u32"},{"name":"hi","type":"u32"},{"name":"lo","type":"u32"},{"name":"mid","type":"u32"}]}},{"name":"HaltState","type":{"kind":"struct","fields":[{"name":"halted","type":"bool"},{"name":"spotPrice","type":"u64"},{"name":"timestamp","type":"u64"},{"name":"markPricesSet","type":{"array":["bool",2]}},{"name":"markPricesSetPadding","type":{"array":["bool",4]}},{"name":"marketNodesCleaned","type":{"array":["bool",2]}},{"name":"marketNodesCleanedPadding","type":{"array":["bool",4]}},{"name":"marketCleaned","type":{"array":["bool",46]}},{"name":"marketCleanedPadding","type":{"array":["bool",92]}}]}},{"name":"PricingParameters","type":{"kind":"struct","fields":[{"name":"optionTradeNormalizer","type":{"defined":"AnchorDecimal"}},{"name":"futureTradeNormalizer","type":{"defined":"AnchorDecimal"}},{"name":"maxVolatilityRetreat","type":{"defined":"AnchorDecimal"}},{"name":"maxInterestRetreat","type":{"defined":"AnchorDecimal"}},{"name":"maxDelta","type":"u64"},{"name":"minDelta","type":"u64"},{"name":"minVolatility","type":"u64"},{"name":"maxVolatility","type":"u64"},{"name":"minInterestRate","type":"i64"},{"name":"maxInterestRate","type":"i64"}]}},{"name":"MarginParameters","type":{"kind":"struct","fields":[{"name":"futureMarginInitial","type":"u64"},{"name":"futureMarginMaintenance","type":"u64"},{"name":"optionMarkPercentageLongInitial","type":"u64"},{"name":"optionSpotPercentageLongInitial","type":"u64"},{"name":"optionSpotPercentageShortInitial","type":"u64"},{"name":"optionDynamicPercentageShortInitial","type":"u64"},{"name":"optionMarkPercentageLongMaintenance","type":"u64"},{"name":"optionSpotPercentageLongMaintenance","type":"u64"},{"name":"optionSpotPercentageShortMaintenance","type":"u64"},{"name":"optionDynamicPercentageShortMaintenance","type":"u64"},{"name":"optionShortPutCapPercentage","type":"u64"},{"name":"padding","type":{"array":["u8",32]}}]}},{"name":"ExpirySeries","type":{"kind":"struct","fields":[{"name":"activeTs","type":"u64"},{"name":"expiryTs","type":"u64"},{"name":"dirty","type":"bool"},{"name":"padding","type":{"array":["u8",15]}}]}},{"name":"Strike","type":{"kind":"struct","fields":[{"name":"isSet","type":"bool"},{"name":"value","type":"u64"}]}},{"name":"Product","type":{"kind":"struct","fields":[{"name":"market","type":"publicKey"},{"name":"strike","type":{"defined":"Strike"}},{"name":"dirty","type":"bool"},{"name":"kind","type":{"defined":"Kind"}}]}},{"name":"Position","type":{"kind":"struct","fields":[{"name":"size","type":"i64"},{"name":"costOfTrades","type":"u64"}]}},{"name":"OrderState","type":{"kind":"struct","fields":[{"name":"closingOrders","type":"u64"},{"name":"openingOrders","type":{"array":["u64",2]}}]}},{"name":"ProductLedger","type":{"kind":"struct","fields":[{"name":"position","type":{"defined":"Position"}},{"name":"orderState","type":{"defined":"OrderState"}}]}},{"name":"HaltZetaGroupArgs","type":{"kind":"struct","fields":[{"name":"spotPrice","type":"u64"},{"name":"timestamp","type":"u64"}]}},{"name":"UpdateVolatilityArgs","type":{"kind":"struct","fields":[{"name":"expiryIndex","type":"u8"},{"name":"volatility","type":{"array":["u64",5]}}]}},{"name":"UpdateInterestRateArgs","type":{"kind":"struct","fields":[{"name":"expiryIndex","type":"u8"},{"name":"interestRate","type":"i64"}]}},{"name":"ExpireSeriesOverrideArgs","type":{"kind":"struct","fields":[{"name":"settlementNonce","type":"u8"},{"name":"settlementPrice","type":"u64"}]}},{"name":"InitializeMarketArgs","type":{"kind":"struct","fields":[{"name":"index","type":"u8"},{"name":"marketNonce","type":"u8"},{"name":"baseMintNonce","type":"u8"},{"name":"quoteMintNonce","type":"u8"},{"name":"zetaBaseVaultNonce","type":"u8"},{"name":"zetaQuoteVaultNonce","type":"u8"},{"name":"dexBaseVaultNonce","type":"u8"},{"name":"dexQuoteVaultNonce","type":"u8"},{"name":"vaultSignerNonce","type":"u64"}]}},{"name":"InitializeStateArgs","type":{"kind":"struct","fields":[{"name":"stateNonce","type":"u8"},{"name":"serumNonce","type":"u8"},{"name":"mintAuthNonce","type":"u8"},{"name":"expiryIntervalSeconds","type":"u32"},{"name":"newExpiryThresholdSeconds","type":"u32"},{"name":"strikeInitializationThresholdSeconds","type":"u32"},{"name":"pricingFrequencySeconds","type":"u32"},{"name":"liquidatorLiquidationPercentage","type":"u32"},{"name":"insuranceVaultLiquidationPercentage","type":"u32"},{"name":"nativeTradeFeePercentage","type":"u64"},{"name":"nativeUnderlyingFeePercentage","type":"u64"},{"name":"nativeWhitelistUnderlyingFeePercentage","type":"u64"},{"name":"nativeDepositLimit","type":"u64"},{"name":"expirationThresholdSeconds","type":"u32"},{"name":"positionMovementFeeBps","type":"u8"},{"name":"marginConcessionPercentage","type":"u8"}]}},{"name":"InitializeMarketNodeArgs","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"index","type":"u8"}]}},{"name":"OverrideExpiryArgs","type":{"kind":"struct","fields":[{"name":"expiryIndex","type":"u8"},{"name":"activeTs","type":"u64"},{"name":"expiryTs","type":"u64"}]}},{"name":"UpdateStateArgs","type":{"kind":"struct","fields":[{"name":"expiryIntervalSeconds","type":"u32"},{"name":"newExpiryThresholdSeconds","type":"u32"},{"name":"strikeInitializationThresholdSeconds","type":"u32"},{"name":"pricingFrequencySeconds","type":"u32"},{"name":"liquidatorLiquidationPercentage","type":"u32"},{"name":"insuranceVaultLiquidationPercentage","type":"u32"},{"name":"nativeTradeFeePercentage","type":"u64"},{"name":"nativeUnderlyingFeePercentage","type":"u64"},{"name":"nativeWhitelistUnderlyingFeePercentage","type":"u64"},{"name":"nativeDepositLimit","type":"u64"},{"name":"expirationThresholdSeconds","type":"u32"},{"name":"positionMovementFeeBps","type":"u8"},{"name":"marginConcessionPercentage","type":"u8"}]}},{"name":"UpdatePricingParametersArgs","type":{"kind":"struct","fields":[{"name":"optionTradeNormalizer","type":"u64"},{"name":"futureTradeNormalizer","type":"u64"},{"name":"maxVolatilityRetreat","type":"u64"},{"name":"maxInterestRetreat","type":"u64"},{"name":"minDelta","type":"u64"},{"name":"maxDelta","type":"u64"},{"name":"minInterestRate","type":"i64"},{"name":"maxInterestRate","type":"i64"},{"name":"minVolatility","type":"u64"},{"name":"maxVolatility","type":"u64"}]}},{"name":"UpdateMarginParametersArgs","type":{"kind":"struct","fields":[{"name":"futureMarginInitial","type":"u64"},{"name":"futureMarginMaintenance","type":"u64"},{"name":"optionMarkPercentageLongInitial","type":"u64"},{"name":"optionSpotPercentageLongInitial","type":"u64"},{"name":"optionSpotPercentageShortInitial","type":"u64"},{"name":"optionDynamicPercentageShortInitial","type":"u64"},{"name":"optionMarkPercentageLongMaintenance","type":"u64"},{"name":"optionSpotPercentageLongMaintenance","type":"u64"},{"name":"optionSpotPercentageShortMaintenance","type":"u64"},{"name":"optionDynamicPercentageShortMaintenance","type":"u64"},{"name":"optionShortPutCapPercentage","type":"u64"}]}},{"name":"InitializeZetaGroupArgs","type":{"kind":"struct","fields":[{"name":"zetaGroupNonce","type":"u8"},{"name":"underlyingNonce","type":"u8"},{"name":"greeksNonce","type":"u8"},{"name":"vaultNonce","type":"u8"},{"name":"insuranceVaultNonce","type":"u8"},{"name":"socializedLossAccountNonce","type":"u8"},{"name":"interestRate","type":"i64"},{"name":"volatility","type":{"array":["u64",5]}},{"name":"optionTradeNormalizer","type":"u64"},{"name":"futureTradeNormalizer","type":"u64"},{"name":"maxVolatilityRetreat","type":"u64"},{"name":"maxInterestRetreat","type":"u64"},{"name":"maxDelta","type":"u64"},{"name":"minDelta","type":"u64"},{"name":"minInterestRate","type":"i64"},{"name":"maxInterestRate","type":"i64"},{"name":"minVolatility","type":"u64"},{"name":"maxVolatility","type":"u64"},{"name":"futureMarginInitial","type":"u64"},{"name":"futureMarginMaintenance","type":"u64"},{"name":"optionMarkPercentageLongInitial","type":"u64"},{"name":"optionSpotPercentageLongInitial","type":"u64"},{"name":"optionSpotPercentageShortInitial","type":"u64"},{"name":"optionDynamicPercentageShortInitial","type":"u64"},{"name":"optionMarkPercentageLongMaintenance","type":"u64"},{"name":"optionSpotPercentageLongMaintenance","type":"u64"},{"name":"optionSpotPercentageShortMaintenance","type":"u64"},{"name":"optionDynamicPercentageShortMaintenance","type":"u64"},{"name":"optionShortPutCapPercentage","type":"u64"}]}},{"name":"UpdateGreeksArgs","type":{"kind":"struct","fields":[{"name":"index","type":"u8"},{"name":"theo","type":"u64"},{"name":"delta","type":"u32"},{"name":"gamma","type":"u32"},{"name":"volatility","type":"u32"}]}},{"name":"PositionMovementArg","type":{"kind":"struct","fields":[{"name":"index","type":"u8"},{"name":"size","type":"i64"}]}},{"name":"ExpirySeriesStatus","type":{"kind":"enum","variants":[{"name":"Uninitialized"},{"name":"Initialized"},{"name":"Live"},{"name":"Expired"},{"name":"ExpiredDirty"}]}},{"name":"Kind","type":{"kind":"enum","variants":[{"name":"Uninitialized"},{"name":"Call"},{"name":"Put"},{"name":"Future"}]}},{"name":"OrderType","type":{"kind":"enum","variants":[{"name":"Limit"},{"name":"PostOnly"},{"name":"FillOrKill"}]}},{"name":"Side","type":{"kind":"enum","variants":[{"name":"Uninitialized"},{"name":"Bid"},{"name":"Ask"}]}},{"name":"Asset","type":{"kind":"enum","variants":[{"name":"SOL"},{"name":"BTC"},{"name":"ETH"},{"name":"UNDEFINED"}]}},{"name":"MovementType","type":{"kind":"enum","variants":[{"name":"Undefined"},{"name":"Lock"},{"name":"Unlock"}]}},{"name":"MarginRequirement","type":{"kind":"enum","variants":[{"name":"Initial"},{"name":"Maintenance"},{"name":"MaintenanceIncludingOrders"},{"name":"MarketMakerConcession"}]}},{"name":"MarginAccountType","type":{"kind":"enum","variants":[{"name":"Normal"},{"name":"MarketMaker"}]}}],"events":[{"name":"TradeEvent","fields":[{"name":"marginAccount","type":"publicKey","index":false},{"name":"index","type":"u8","index":false},{"name":"size","type":"u64","index":false},{"name":"costOfTrades","type":"u64","index":false},{"name":"isBid","type":"bool","index":false},{"name":"clientOrderId","type":"u64","index":false},{"name":"orderId","type":"u128","index":false}]},{"name":"PositionMovementEvent","fields":[{"name":"netBalanceTransfer","type":"i64","index":false},{"name":"marginAccountBalance","type":"u64","index":false},{"name":"spreadAccountBalance","type":"u64","index":false},{"name":"movementFees","type":"u64","index":false}]},{"name":"PlaceOrderEvent","fields":[{"name":"fee","type":"u64","index":false},{"name":"oraclePrice","type":"u64","index":false},{"name":"orderId","type":"u128","index":false}]},{"name":"LiquidationEvent","fields":[{"name":"liquidatorReward","type":"u64","index":false},{"name":"insuranceReward","type":"u64","index":false},{"name":"costOfTrades","type":"u64","index":false},{"name":"size","type":"u64","index":false},{"name":"remainingLiquidateeBalance","type":"u64","index":false},{"name":"remainingLiquidatorBalance","type":"u64","index":false},{"name":"markPrice","type":"u64","index":false},{"name":"underlyingPrice","type":"u64","index":false}]},{"name":"CancelEvent","fields":[{"name":"marginAccount","type":"publicKey","index":false},{"name":"user","type":"publicKey","index":false},{"name":"asset","type":{"defined":"Asset"},"index":false},{"name":"marketIndex","type":"u8","index":false},{"name":"side","type":{"defined":"Side"},"index":false},{"name":"size","type":"u64","index":false},{"name":"orderId","type":"u128","index":false},{"name":"clientOrderId","type":"u64","index":false}]}],"errors":[{"code":6000,"name":"DepositOverflow","msg":"Deposit overflow"},{"code":6001,"name":"Unreachable","msg":"Unreachable"},{"code":6002,"name":"FailedInitialMarginRequirement","msg":"Failed initial margin requirement"},{"code":6003,"name":"LiquidatorFailedMarginRequirement","msg":"Liquidator failed margin requirement"},{"code":6004,"name":"CannotLiquidateOwnAccount","msg":"Cannot liquidate own account"},{"code":6005,"name":"CrankInvalidRemainingAccounts","msg":"Invalid cranking remaining accounts"},{"code":6006,"name":"IncorrectTickSize","msg":"Incorrect tick size"},{"code":6007,"name":"ZeroPrice","msg":"ZeroPrice"},{"code":6008,"name":"ZeroSize","msg":"ZeroSize"},{"code":6009,"name":"ZeroWithdrawableBalance","msg":"Zero withdrawable balance"},{"code":6010,"name":"DepositAmountExceeded","msg":"Deposit amount exceeds limit and user is not whitelisted"},{"code":6011,"name":"WithdrawalAmountExceedsWithdrawableBalance","msg":"Withdrawal amount exceeds withdrawable balance"},{"code":6012,"name":"AccountHasSufficientMarginPostCancels","msg":"Account has sufficient margin post cancels"},{"code":6013,"name":"OverBankrupt","msg":"Over bankrupt"},{"code":6014,"name":"AccountHasSufficientMargin","msg":"Account has sufficient margin"},{"code":6015,"name":"UserHasNoActiveOrders","msg":"User has no active orders"},{"code":6016,"name":"InvalidExpirationInterval","msg":"Invalid expiration interval"},{"code":6017,"name":"ProductMarketsAlreadyInitialized","msg":"Product markets already initialized"},{"code":6018,"name":"InvalidProductMarketKey","msg":"Invalid product market key"},{"code":6019,"name":"MarketNotLive","msg":"Market not live"},{"code":6020,"name":"MarketPricingNotReady","msg":"Market pricing not ready"},{"code":6021,"name":"UserHasRemainingOrdersOnExpiredMarket","msg":"User has remaining orders on expired market"},{"code":6022,"name":"InvalidSeriesExpiration","msg":"Invalid series expiration"},{"code":6023,"name":"InvalidExpiredOrderCancel","msg":"Invalid expired order cancel"},{"code":6024,"name":"NoMarketsToAdd","msg":"No markets to add"},{"code":6025,"name":"UserHasUnsettledPositions","msg":"User has unsettled positions"},{"code":6026,"name":"NoMarginAccountsToSettle","msg":"No margin accounts to settle"},{"code":6027,"name":"CannotSettleUserWithActiveOrders","msg":"Cannot settle users with active orders"},{"code":6028,"name":"OrderbookNotEmpty","msg":"Orderbook not empty"},{"code":6029,"name":"InvalidNumberOfAccounts","msg":"Invalid number of accounts"},{"code":6030,"name":"InvalidMarketAccounts","msg":"Bids or Asks don\'t match the Market"},{"code":6031,"name":"ProductStrikeUninitialized","msg":"Product strike uninitialized"},{"code":6032,"name":"PricingNotUpToDate","msg":"Pricing not up to date"},{"code":6033,"name":"RetreatsAreStale","msg":"Retreats are stale"},{"code":6034,"name":"ProductDirty","msg":"Product dirty"},{"code":6035,"name":"ProductStrikesInitialized","msg":"Product strikes initialized"},{"code":6036,"name":"StrikeInitializationNotReady","msg":"Strike initialization not ready"},{"code":6037,"name":"UnsupportedKind","msg":"Unsupported kind"},{"code":6038,"name":"InvalidZetaGroup","msg":"Invalid zeta group"},{"code":6039,"name":"InvalidMarginAccount","msg":"Invalid margin account"},{"code":6040,"name":"InvalidGreeksAccount","msg":"Invalid greeks account"},{"code":6041,"name":"InvalidSettlementAccount","msg":"Invalid settlement account"},{"code":6042,"name":"InvalidCancelAuthority","msg":"Invalid cancel authority"},{"code":6043,"name":"CannotUpdatePricingAfterExpiry","msg":"Cannot update pricing after expiry"},{"code":6044,"name":"LoadAccountDiscriminatorAlreadySet","msg":"Account discriminator already set"},{"code":6045,"name":"AccountAlreadyInitialized","msg":"Account already initialized"},{"code":6046,"name":"GreeksAccountSeedsMismatch","msg":"Greeks account seeds mismatch"},{"code":6047,"name":"ZetaGroupAccountSeedsMismatch","msg":"Zeta group account seeds mismatch"},{"code":6048,"name":"MarginAccountSeedsMismatch","msg":"Margin account seeds mismatch"},{"code":6049,"name":"OpenOrdersAccountSeedsMismatch","msg":"Open orders account seeds mismatch"},{"code":6050,"name":"MarketNodeAccountSeedsMismatch","msg":"Market node seeds mismatch"},{"code":6051,"name":"UserTradingFeeWhitelistAccountSeedsMismatch","msg":"User trading fee whitelist account seeds mismatch"},{"code":6052,"name":"UserDepositWhitelistAccountSeedsMismatch","msg":"User deposit whitelist account seeds mismatch"},{"code":6053,"name":"MarketIndexesUninitialized","msg":"Market indexes uninitialized"},{"code":6054,"name":"MarketIndexesAlreadyInitialized","msg":"Market indexes already initialized"},{"code":6055,"name":"CannotGetUnsetStrike","msg":"Cannot get unset strike"},{"code":6056,"name":"CannotSetInitializedStrike","msg":"Cannot set initialized strike"},{"code":6057,"name":"CannotResetUninitializedStrike","msg":"Cannot set initialized strike"},{"code":6058,"name":"CrankMarginAccountNotMutable","msg":"CrankMarginAccountNotMutable"},{"code":6059,"name":"InvalidAdminSigner","msg":"InvalidAdminSigner"},{"code":6060,"name":"UserHasActiveOrders","msg":"User still has active orders"},{"code":6061,"name":"UserForceCancelInProgress","msg":"User has a force cancel in progress"},{"code":6062,"name":"FailedPriceBandCheck","msg":"Failed price band check"},{"code":6063,"name":"UnsortedOpenOrdersAccounts","msg":"Unsorted open orders accounts"},{"code":6064,"name":"AccountNotMutable","msg":"Account not mutable"},{"code":6065,"name":"AccountDiscriminatorMismatch","msg":"Account discriminator mismatch"},{"code":6066,"name":"InvalidMarketNodeIndex","msg":"Invalid market node index"},{"code":6067,"name":"InvalidMarketNode","msg":"Invalid market node"},{"code":6068,"name":"LUTOutOfBounds","msg":"Lut out of bounds"},{"code":6069,"name":"RebalanceInsuranceInvalidRemainingAccounts","msg":"Rebalance insurance vault with no margin accounts"},{"code":6070,"name":"InvalidMintDecimals","msg":"Invalid mint decimals"},{"code":6071,"name":"InvalidZetaGroupOracle","msg":"Invalid oracle for this zeta group"},{"code":6072,"name":"InvalidZetaGroupDepositMint","msg":"Invalid zeta group deposit mint"},{"code":6073,"name":"InvalidZetaGroupRebalanceMint","msg":"Invalid zeta group rebalance insurance vault mint"},{"code":6074,"name":"InvalidDepositAmount","msg":"Invalid deposit amount"},{"code":6075,"name":"InvalidTokenAccountOwner","msg":"Invalid token account owner"},{"code":6076,"name":"InvalidWithdrawAmount","msg":"Invalid withdraw amount"},{"code":6077,"name":"InvalidDepositRemainingAccounts","msg":"Invalid number of remaining accounts in deposit"},{"code":6078,"name":"InvalidPlaceOrderRemainingAccounts","msg":"Invalid number of remaining accounts in place order"},{"code":6079,"name":"ClientOrderIdCannotBeZero","msg":"ClientOrderIdCannotBeZero"},{"code":6080,"name":"ZetaGroupHalted","msg":"Zeta group halted"},{"code":6081,"name":"ZetaGroupNotHalted","msg":"Zeta group not halted"},{"code":6082,"name":"HaltMarkPriceNotSet","msg":"Halt mark price not set"},{"code":6083,"name":"HaltMarketsNotCleaned","msg":"Halt markets not cleaned"},{"code":6084,"name":"HaltMarketNodesNotCleaned","msg":"Halt market nodes not cleaned"},{"code":6085,"name":"CannotExpireOptionsAfterExpirationThreshold","msg":"Cannot expire options after expiration threshold"},{"code":6086,"name":"PostOnlyInCross","msg":"Post only order in cross"},{"code":6087,"name":"FillOrKillNotFullSize","msg":"Fill or kill order was not filled for full size"},{"code":6088,"name":"InvalidOpenOrdersMapOwner","msg":"Invalid open orders map owner"},{"code":6089,"name":"AccountDidNotSerialize","msg":"Failed to serialize the account"},{"code":6090,"name":"OpenOrdersWithNonEmptyPositions","msg":"Cannot close open orders account with non empty positions"},{"code":6091,"name":"CannotCloseNonEmptyMarginAccount","msg":"Cannot close margin account that is not empty"},{"code":6092,"name":"InvalidTagLength","msg":"Invalid tag length"},{"code":6093,"name":"NakedShortCallIsNotAllowed","msg":"Naked short call is not allowed"},{"code":6094,"name":"InvalidSpreadAccount","msg":"Invalid spread account"},{"code":6095,"name":"CannotCloseNonEmptySpreadAccount","msg":"Cannot close non empty spread account"},{"code":6096,"name":"SpreadAccountSeedsMismatch","msg":"Spread account seeds mismatch"},{"code":6097,"name":"SpreadAccountHasUnsettledPositions","msg":"Spread account seeds mismatch"},{"code":6098,"name":"SpreadAccountInvalidExpirySeriesState","msg":"Spread account invalid expiry series state"},{"code":6099,"name":"InsufficientFundsToCollateralizeSpreadAccount","msg":"Insufficient funds to collateralize spread account"},{"code":6100,"name":"FailedMaintenanceMarginRequirement","msg":"Failed maintenance margin requirement"},{"code":6101,"name":"InvalidMovement","msg":"Invalid movement"},{"code":6102,"name":"MovementOnExpiredSeries","msg":"Movement on expired series"},{"code":6103,"name":"InvalidMovementSize","msg":"Invalid movement size"},{"code":6104,"name":"ExceededMaxPositionMovements","msg":"Exceeded max position movements"},{"code":6105,"name":"ExceededMaxSpreadAccountContracts","msg":"Exceeded max spread account contracts"},{"code":6106,"name":"OraclePriceIsInvalid","msg":"Fetched oracle price is invalid"}]}')}}]);
//# sourceMappingURL=vendors-node_modules_zetamarkets_sdk_dist_index_js.7461d3ba.chunk.js.map