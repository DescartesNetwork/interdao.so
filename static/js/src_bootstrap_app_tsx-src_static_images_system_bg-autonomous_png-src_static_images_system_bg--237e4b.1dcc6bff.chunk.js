(globalThis.webpackChunkinterdao=globalThis.webpackChunkinterdao||[]).push([["src_bootstrap_app_tsx-src_static_images_system_bg-autonomous_png-src_static_images_system_bg--237e4b","_18f2-_0b7d-_25ed-_8131-_3fc0-_e4dd-_7bec-_ec71-_df0e-_887c-_c738-_9820-_7d1a-_b254-_ed1b-_d1-147343"],{98463:(e,s,t)=>{"use strict";t.r(s),t.d(s,{ReactComponent:()=>m,default:()=>x});var a,A,o,r,n,l,i,c,d,u,p=t(92950);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var t=arguments[s];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},h.apply(this,arguments)}function g(e,s){let{title:t,titleId:g,...m}=e;return p.createElement("svg",h({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:s,"aria-labelledby":g},m),t?p.createElement("title",{id:g},t):null,a||(a=p.createElement("path",{d:"M23.9183 4.85506L23.3679 5.05527L20.2655 6.20646L16.8629 7.48279C16.6627 7.55787 16.4626 7.35766 16.5376 7.15746L17.8136 3.75391L18.9645 0.675704L19.1647 0.12513C18.7894 0.0500521 18.4141 0 18.0138 0H6.00459C5.60429 0 5.229 0.0500521 4.85371 0.100104L5.05386 0.650678L6.20474 3.75391L7.48072 7.18248C7.55578 7.38269 7.35562 7.5829 7.15547 7.50782L3.75287 6.20646L0.675517 5.05527L0.125096 4.85506C0.0250191 5.23045 0 5.60584 0 6.00626V18.0188C0 18.4192 0.0250191 18.7946 0.100077 19.17L0.650497 18.9698L3.75287 17.8186L7.15547 16.5422C7.35562 16.4672 7.55578 16.6674 7.48072 16.8676L6.20474 20.2711L5.05386 23.3493L4.85371 23.8999C5.229 23.975 5.60429 24 6.00459 24H18.0138C18.4141 24 18.7894 23.9499 19.1647 23.8999L18.9645 23.3493L17.8136 20.2711L16.5376 16.8676C16.4626 16.6674 16.6627 16.4672 16.8629 16.5422L20.2655 17.8186L23.3428 18.9698L23.8933 19.17C23.9683 18.7946 23.9933 18.4192 23.9933 18.0188V6.00626C24.0184 5.60584 23.9683 5.23045 23.9183 4.85506ZM14.336 14.0396C14.1358 13.9645 13.9357 14.1648 14.0107 14.365L15.9122 19.4953C14.8864 18.5693 13.5103 18.0188 12.0092 18.0188C10.508 18.0188 9.13198 18.5693 8.08118 19.4703L9.98263 14.3399C10.0577 14.1397 9.85754 13.9395 9.65738 14.0146L4.52846 15.9166C5.45417 14.8905 6.00459 13.5141 6.00459 12.0125C6.00459 10.5109 5.45417 9.13451 4.52846 8.08342L9.65738 10.0104C9.85754 10.0855 10.0577 9.8853 9.98263 9.68509L8.08118 4.55474C9.13198 5.45568 10.508 6.00626 12.0092 6.00626C13.5103 6.00626 14.8864 5.45568 15.9372 4.52972L14.0357 9.66006C13.9607 9.86027 14.1608 10.0605 14.361 9.9854L19.4899 8.05839C18.5642 9.13452 18.0138 10.5109 18.0138 12.0125C18.0138 13.5141 18.5642 14.8905 19.4899 15.9416L14.336 14.0396Z",fill:"#F9DEB0"})),A||(A=p.createElement("path",{d:"M23.4429 3.45417L20.2655 4.65542L19.3648 5.00579C19.1647 5.08086 18.9645 4.88066 19.0396 4.68045L19.3898 3.75448L20.5908 0.576172C21.8417 1.15177 22.8675 2.20287 23.4429 3.45417Z",fill:"#F9DEB0"})),o||(o=p.createElement("path",{d:"M4.65429 4.98076L3.7536 4.65542L0.576172 3.45417C1.15161 2.20287 2.20242 1.15177 3.45337 0.576172L4.65429 3.75448L5.00456 4.68045C5.0546 4.88066 4.87946 5.05584 4.65429 4.98076Z",fill:"#F9DEB0"})),r||(r=p.createElement("path",{d:"M4.97819 19.3707L4.65294 20.2716L3.45202 23.475C2.17605 22.8743 1.15026 21.8483 0.549805 20.5719L3.75225 19.3707L4.65294 19.0203C4.87811 18.9703 5.05325 19.1454 4.97819 19.3707Z",fill:"#F9DEB0"})),n||(n=p.createElement("path",{d:"M23.4426 20.5701C22.8421 21.8464 21.8163 22.8725 20.5403 23.4731L19.3644 20.2698L19.0142 19.3688C18.9391 19.1686 19.1393 18.9684 19.3394 19.0435L20.2401 19.3938L23.4426 20.5701Z",fill:"#F9DEB0"})),l||(l=p.createElement("path",{d:"M14.0346 14.3665L15.9361 19.4968C14.8853 18.5709 13.5092 18.0203 12.0081 18.0203C10.5069 18.0203 9.13086 18.5709 8.08006 19.4718L9.98151 14.3415C10.0566 14.1413 9.85642 13.9411 9.65626 14.0161L4.52734 15.9181C5.45305 14.892 6.00347 13.5156 6.00347 12.014C6.00347 10.5125 5.45305 9.13605 4.52734 8.08495L9.65626 10.012C9.85642 10.087 10.0566 9.88683 9.98151 9.68662L8.08006 4.55628C9.13086 5.45721 10.5069 6.00779 12.0081 6.00779C13.5092 6.00779 14.8853 5.45721 15.9361 4.53125L14.0346 9.66159C13.9596 9.8618 14.1597 10.062 14.3599 9.98693L19.4888 8.05993C18.5631 9.13605 18.0127 10.5125 18.0127 12.014C18.0127 13.5156 18.5631 14.892 19.4888 15.9431L14.3599 14.0412C14.1347 13.9661 13.9596 14.1413 14.0346 14.3665Z",fill:"#1A1311"})),i||(i=p.createElement("path",{d:"M23.9173 4.85688L23.3669 5.05709L20.2645 6.20829L16.8619 7.48462C16.6617 7.5597 16.4616 7.35949 16.5366 7.15928L17.8126 3.75573L18.9635 0.677527L19.1637 0.126953C19.664 0.227057 20.1144 0.377214 20.5647 0.577422L19.3638 3.75573L19.0135 4.6817C18.9385 4.88191 19.1386 5.08211 19.3388 5.00704L20.2395 4.65667L23.4169 3.45542C23.6671 3.90589 23.8172 4.38138 23.9173 4.85688Z",fill:"#1A1311"})),c||(c=p.createElement("path",{d:"M7.1544 7.48462L3.7518 6.20829L0.674444 5.05709L0.124023 4.85688C0.2241 4.35636 0.374215 3.90589 0.574368 3.45542L3.7518 4.65667L4.65249 5.00704C4.85264 5.08211 5.05279 4.88191 4.97773 4.6817L4.65249 3.75573L3.45157 0.577422C3.90191 0.377214 4.35226 0.227057 4.85264 0.126953L5.05279 0.677527L6.20367 3.75573L7.47965 7.1843C7.55471 7.38451 7.37957 7.5597 7.1544 7.48462Z",fill:"#1A1311"})),d||(d=p.createElement("path",{d:"M7.47965 16.8684L6.20367 20.2719L5.05279 23.3501L4.85264 23.9007C4.35226 23.8006 3.90191 23.6504 3.45157 23.4502L4.65249 20.2719L5.00275 19.371C5.07781 19.1708 4.87766 18.9706 4.67751 19.0456L3.7518 19.371L0.574368 20.5722C0.374215 20.1218 0.2241 19.6713 0.124023 19.1708L0.674444 18.9706L3.7518 17.8194L7.1544 16.543C7.37957 16.4679 7.55471 16.6431 7.47965 16.8684Z",fill:"#1A1311"})),u||(u=p.createElement("path",{d:"M19.0386 19.3714L19.3888 20.2724L20.5897 23.4507C20.1394 23.6509 19.6891 23.8261 19.1887 23.9011L18.9885 23.3506L17.8126 20.2724L16.5366 16.8688C16.4616 16.6686 16.6617 16.4684 16.8619 16.5435L20.2645 17.8198L23.3418 18.971L23.8923 19.1712C23.7922 19.6717 23.6421 20.1222 23.4419 20.5727L20.2645 19.3714L19.3638 19.0211C19.1386 18.971 18.9635 19.1462 19.0386 19.3714Z",fill:"#1A1311"})))}const m=p.forwardRef(g),x=t.p+"static/media/logo.b14551bd17f53fea785636a049f9dae9.svg"},45597:(e,s,t)=>{"use strict";Object.defineProperty(s,"X$",{value:!0}),Object.defineProperty(s,"jY",{enumerable:!0,get:function(){return r.default}}),s.h0=void 0,Object.defineProperty(s,"ng",{enumerable:!0,get:function(){return n.default}});var a=l(t(70854)),A=l(t(27803)),o=l(t(85468)),r=l(t(98463)),n=l(t(83272));function l(e){return e&&e.__esModule?e:{default:e}}const i=[a.default,A.default,o.default];s.h0=i},58657:(e,s,t)=>{"use strict";t.r(s),t.d(s,{Page:()=>mo,__esModule:()=>ho.X$,logo:()=>ho.jY,panels:()=>ho.h0,readme:()=>ho.ng});var a=t(55754),A=t(58879),o=t(92950),r=t(45055),n=t(94751),l=t(69716),i=t(45263);const c=()=>(0,i.jsxs)(n.Row,{gutter:[16,16],justify:"center",children:[(0,i.jsx)(n.Col,{children:(0,i.jsxs)(n.Space,{direction:"vertical",size:0,children:[(0,i.jsx)(n.Typography.Title,{level:1,style:{fontSize:72,textAlign:"center"},children:"Let\u2019s build"}),(0,i.jsx)(n.Typography.Title,{level:1,style:{fontSize:72,textAlign:"center"},className:"title-underline",children:"YOUR OWN DAO."})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Paragraph,{type:"secondary",style:{fontSize:20,textAlign:"center"},children:"Customize the DAO to your purpose - No coding needed."})})]}),d=e=>{let{icon:s,title:t,value:a}=e;return(0,i.jsx)(n.Card,{bordered:!1,style:{background:"transparent",borderLeft:"1px solid",borderRadius:"unset"},bodyStyle:{padding:"0 24px"},children:(0,i.jsxs)(n.Row,{gutter:[5,5],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{children:[s,(0,i.jsx)(n.Typography.Text,{type:"secondary",children:t})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:4,children:a})})]})})},u=()=>{const e=(0,a.useSelector)((e=>e.daos)),s=(0,a.useSelector)((e=>e.proposal)),t=(0,o.useMemo)((()=>{let e=0;for(const t in s){const{executed:a}=s[t];a&&e++}return e}),[s]);return(0,i.jsx)(n.Row,{className:"interdao-banner",justify:"center",children:(0,i.jsx)(n.Col,{xs:24,lg:18,children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(c,{})}),(0,i.jsx)(n.Col,{xs:24,sm:12,lg:8,children:(0,i.jsx)(d,{icon:(0,i.jsx)(l.Z,{name:"earth-outline"}),title:"Total DAOs",value:A.util.numeric(Object.keys(e).length).format("0,0")})}),(0,i.jsx)(n.Col,{xs:24,sm:12,lg:8,children:(0,i.jsx)(d,{icon:(0,i.jsx)(l.Z,{name:"pencil-outline"}),title:"Total Proposals",value:A.util.numeric(Object.keys(s).length).format("0,0")})}),(0,i.jsx)(n.Col,{xs:24,sm:12,lg:8,children:(0,i.jsx)(d,{icon:(0,i.jsx)(l.Z,{name:"thumbs-up-outline"}),title:"Total Executed Proposals",value:A.util.numeric(t).format("0,0")})})]})})})};var p=t(58421);const h=e=>{let{title:s,value:t}=e;return(0,i.jsxs)(n.Space,{direction:"vertical",children:[(0,i.jsx)(n.Typography.Text,{className:"caption",type:"secondary",children:s}),["number","string"].includes(typeof t)?(0,i.jsx)(n.Typography.Text,{children:t}):t]})};var g=t(40401),m=t(21111),x=t.n(m);const C=e=>{let{regime:s,special:t}=e;const a=(0,o.useMemo)((()=>x()(s,g.DaoRegimes.Dictatorial)?"Dictatorial":x()(s,g.DaoRegimes.Democratic)?"Democratic":x()(s,g.DaoRegimes.Autonomous)?"Autonomous":"DAO Regime"),[s]),A=t?"regime-tag dao-tag":"dao-tag";return(0,i.jsx)(n.Tag,{className:A,style:{margin:0},children:a})};var y=t(95418),f=t(21995),j=t.n(f),b=t(38073),w=t(42224);const{metadata:{Metadata:I,MetadataData:v}}=b.programs,S=new w.PublicKey("metaqbxxUerdq28cj1RbAWkYQm3ybzjb6a8bt518x1s"),B=new b.Connection(A.rpc),E=async e=>await I.findDataByOwner(B,e),T=async e=>await I.findByMint(B,e),k=e=>{const[s,t]=(0,o.useState)(),[a,r]=(0,o.useState)(),[n,l]=(0,o.useState)(!1),i=(0,o.useCallback)((async()=>{if(!y.account.isAddress(e))return t(void 0),r(void 0);l(!0);try{const s=await A.DataLoader.load("getNftMetadata"+e,(()=>T(e)),{cache:{ttl:99999999}});t(s);const a=s.data.data.uri,o=await A.DataLoader.load("getNftMetadataUrl"+e,(()=>j().get(a)),{cache:{ttl:99999999}});r(o.data)}catch(s){t(void 0),r(void 0)}finally{l(!1)}}),[e]);return(0,o.useEffect)((()=>{i()}),[i]),{metadata:s,nftInfo:a,loading:n}},D=t.p+"static/media/nft.ee2194bbdc0a4d0de283.jpeg",F=e=>{let{mintAddress:s,size:t=24,icon:a=(0,i.jsx)(l.Z,{name:"diamond-outline"})}=e;const{nftInfo:A}=k(s);return(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Avatar,{shape:"square",size:t,src:(null===A||void 0===A?void 0:A.image)||D,children:a}),(0,i.jsxs)(n.Typography.Text,{style:{fontSize:t>24?38:void 0},children:[" ","NFT"]})]})};var R=t(42201),G=t(48744),M=t.n(G);const N=JSON.parse('[{"name":"Omolon","colors":["#091E3A","#2F80ED","#2D9EE0"]},{"name":"Farhan","colors":["#9400D3","#4B0082"]},{"name":"Purple","colors":["#c84e89","#F15F79"]},{"name":"Ibtesam","colors":["#00F5A0","#00D9F5"]},{"name":"Radioactive Heat","colors":["#F7941E","#72C6EF","#00A651"]},{"name":"The Sky And The Sea","colors":["#F7941E","#004E8F"]},{"name":"From Ice To Fire","colors":["#72C6EF","#004E8F"]},{"name":"Blue & Orange","colors":["#FD8112","#0085CA"]},{"name":"Purple Dream","colors":["#bf5ae0","#a811da"]},{"name":"Blu","colors":["#00416A","#E4E5E6"]},{"name":"Summer Breeze","colors":["#fbed96","#abecd6"]},{"name":"Ver","colors":["#FFE000","#799F0C"]},{"name":"Ver Black","colors":["#F7F8F8","#ACBB78"]},{"name":"Combi","colors":["#00416A","#799F0C","#FFE000"]},{"name":"Anwar","colors":["#334d50","#cbcaa5"]},{"name":"Bluelagoo","colors":["#0052D4","#4364F7","#6FB1FC"]},{"name":"Lunada","colors":["#5433FF","#20BDFF","#A5FECB"]},{"name":"Reaqua","colors":["#799F0C","#ACBB78"]},{"name":"Mango","colors":["#ffe259","#ffa751"]},{"name":"Bupe","colors":["#00416A","#E4E5E6"]},{"name":"Rea","colors":["#FFE000","#799F0C"]},{"name":"Windy","colors":["#acb6e5","#86fde8"]},{"name":"Royal Blue","colors":["#536976","#292E49"]},{"name":"Royal Blue + Petrol","colors":["#BBD2C5","#536976","#292E49"]},{"name":"Copper","colors":["#B79891","#94716B"]},{"name":"Anamnisar","colors":["#9796f0","#fbc7d4"]},{"name":"Petrol","colors":["#BBD2C5","#536976"]},{"name":"Sky","colors":["#076585","#fff"]},{"name":"Sel","colors":["#00467F","#A5CC82"]},{"name":"Afternoon","colors":["#000C40","#607D8B"]},{"name":"Skyline","colors":["#1488CC","#2B32B2"]},{"name":"DIMIGO","colors":["#ec008c","#fc6767"]},{"name":"Purple Love","colors":["#cc2b5e","#753a88"]},{"name":"Sexy Blue","colors":["#2193b0","#6dd5ed"]},{"name":"Blooker20","colors":["#e65c00","#F9D423"]},{"name":"Sea Blue","colors":["#2b5876","#4e4376"]},{"name":"Nimvelo","colors":["#314755","#26a0da"]},{"name":"Hazel","colors":["#77A1D3","#79CBCA","#E684AE"]},{"name":"Noon to Dusk","colors":["#ff6e7f","#bfe9ff"]},{"name":"YouTube","colors":["#e52d27","#b31217"]},{"name":"Cool Brown","colors":["#603813","#b29f94"]},{"name":"Harmonic Energy","colors":["#16A085","#F4D03F"]},{"name":"Playing with Reds","colors":["#D31027","#EA384D"]},{"name":"Sunny Days","colors":["#EDE574","#E1F5C4"]},{"name":"Green Beach","colors":["#02AAB0","#00CDAC"]},{"name":"Intuitive Purple","colors":["#DA22FF","#9733EE"]},{"name":"Emerald Water","colors":["#348F50","#56B4D3"]},{"name":"Lemon Twist","colors":["#3CA55C","#B5AC49"]},{"name":"Monte Carlo","colors":["#CC95C0","#DBD4B4","#7AA1D2"]},{"name":"Horizon","colors":["#003973","#E5E5BE"]},{"name":"Rose Water","colors":["#E55D87","#5FC3E4"]},{"name":"Frozen","colors":["#403B4A","#E7E9BB"]},{"name":"Mango Pulp","colors":["#F09819","#EDDE5D"]},{"name":"Bloody Mary","colors":["#FF512F","#DD2476"]},{"name":"Aubergine","colors":["#AA076B","#61045F"]},{"name":"Aqua Marine","colors":["#1A2980","#26D0CE"]},{"name":"Sunrise","colors":["#FF512F","#F09819"]},{"name":"Purple Paradise","colors":["#1D2B64","#F8CDDA"]},{"name":"Stripe","colors":["#1FA2FF","#12D8FA","#A6FFCB"]},{"name":"Sea Weed","colors":["#4CB8C4","#3CD3AD"]},{"name":"Pinky","colors":["#DD5E89","#F7BB97"]},{"name":"Cherry","colors":["#EB3349","#F45C43"]},{"name":"Mojito","colors":["#1D976C","#93F9B9"]},{"name":"Juicy Orange","colors":["#FF8008","#FFC837"]},{"name":"Mirage","colors":["#16222A","#3A6073"]},{"name":"Steel Gray","colors":["#1F1C2C","#928DAB"]},{"name":"Kashmir","colors":["#614385","#516395"]},{"name":"Electric Violet","colors":["#4776E6","#8E54E9"]},{"name":"Venice Blue","colors":["#085078","#85D8CE"]},{"name":"Bora Bora","colors":["#2BC0E4","#EAECC6"]},{"name":"Moss","colors":["#134E5E","#71B280"]},{"name":"Shroom Haze","colors":["#5C258D","#4389A2"]},{"name":"Mystic","colors":["#757F9A","#D7DDE8"]},{"name":"Midnight City","colors":["#232526","#414345"]},{"name":"Sea Blizz","colors":["#1CD8D2","#93EDC7"]},{"name":"Opa","colors":["#3D7EAA","#FFE47A"]},{"name":"Titanium","colors":["#283048","#859398"]},{"name":"Mantle","colors":["#24C6DC","#514A9D"]},{"name":"Dracula","colors":["#DC2424","#4A569D"]},{"name":"Peach","colors":["#ED4264","#FFEDBC"]},{"name":"Moonrise","colors":["#DAE2F8","#D6A4A4"]},{"name":"Clouds","colors":["#ECE9E6","#FFFFFF"]},{"name":"Stellar","colors":["#7474BF","#348AC7"]},{"name":"Bourbon","colors":["#EC6F66","#F3A183"]},{"name":"Calm Darya","colors":["#5f2c82","#49a09d"]},{"name":"Influenza","colors":["#C04848","#480048"]},{"name":"Shrimpy","colors":["#e43a15","#e65245"]},{"name":"Army","colors":["#414d0b","#727a17"]},{"name":"Miaka","colors":["#FC354C","#0ABFBC"]},{"name":"Pinot Noir","colors":["#4b6cb7","#182848"]},{"name":"Day Tripper","colors":["#f857a6","#ff5858"]},{"name":"Namn","colors":["#a73737","#7a2828"]},{"name":"Blurry Beach","colors":["#d53369","#cbad6d"]},{"name":"Vasily","colors":["#e9d362","#333333"]},{"name":"A Lost Memory","colors":["#DE6262","#FFB88C"]},{"name":"Petrichor","colors":["#666600","#999966"]},{"name":"Jonquil","colors":["#FFEEEE","#DDEFBB"]},{"name":"Sirius Tamed","colors":["#EFEFBB","#D4D3DD"]},{"name":"Kyoto","colors":["#c21500","#ffc500"]},{"name":"Misty Meadow","colors":["#215f00","#e4e4d9"]},{"name":"Aqualicious","colors":["#50C9C3","#96DEDA"]},{"name":"Moor","colors":["#616161","#9bc5c3"]},{"name":"Almost","colors":["#ddd6f3","#faaca8"]},{"name":"Forever Lost","colors":["#5D4157","#A8CABA"]},{"name":"Winter","colors":["#E6DADA","#274046"]},{"name":"Nelson","colors":["#f2709c","#ff9472"]},{"name":"Autumn","colors":["#DAD299","#B0DAB9"]},{"name":"Candy","colors":["#D3959B","#BFE6BA"]},{"name":"Reef","colors":["#00d2ff","#3a7bd5"]},{"name":"The Strain","colors":["#870000","#190A05"]},{"name":"Dirty Fog","colors":["#B993D6","#8CA6DB"]},{"name":"Earthly","colors":["#649173","#DBD5A4"]},{"name":"Virgin","colors":["#C9FFBF","#FFAFBD"]},{"name":"Ash","colors":["#606c88","#3f4c6b"]},{"name":"Cherryblossoms","colors":["#FBD3E9","#BB377D"]},{"name":"Parklife","colors":["#ADD100","#7B920A"]},{"name":"Dance To Forget","colors":["#FF4E50","#F9D423"]},{"name":"Starfall","colors":["#F0C27B","#4B1248"]},{"name":"Red Mist","colors":["#000000","#e74c3c"]},{"name":"Teal Love","colors":["#AAFFA9","#11FFBD"]},{"name":"Neon Life","colors":["#B3FFAB","#12FFF7"]},{"name":"Man of Steel","colors":["#780206","#061161"]},{"name":"Amethyst","colors":["#9D50BB","#6E48AA"]},{"name":"Cheer Up Emo Kid","colors":["#556270","#FF6B6B"]},{"name":"Shore","colors":["#70e1f5","#ffd194"]},{"name":"Facebook Messenger","colors":["#00c6ff","#0072ff"]},{"name":"SoundCloud","colors":["#fe8c00","#f83600"]},{"name":"Behongo","colors":["#52c234","#061700"]},{"name":"ServQuick","colors":["#485563","#29323c"]},{"name":"Friday","colors":["#83a4d4","#b6fbff"]},{"name":"Martini","colors":["#FDFC47","#24FE41"]},{"name":"Metallic Toad","colors":["#abbaab","#ffffff"]},{"name":"Between The Clouds","colors":["#73C8A9","#373B44"]},{"name":"Crazy Orange I","colors":["#D38312","#A83279"]},{"name":"Hersheys","colors":["#1e130c","#9a8478"]},{"name":"Talking To Mice Elf","colors":["#948E99","#2E1437"]},{"name":"Purple Bliss","colors":["#360033","#0b8793"]},{"name":"Predawn","colors":["#FFA17F","#00223E"]},{"name":"Endless River","colors":["#43cea2","#185a9d"]},{"name":"Pastel Orange at the Sun","colors":["#ffb347","#ffcc33"]},{"name":"Twitch","colors":["#6441A5","#2a0845"]},{"name":"Atlas","colors":["#FEAC5E","#C779D0","#4BC0C8"]},{"name":"Instagram","colors":["#833ab4","#fd1d1d","#fcb045"]},{"name":"Flickr","colors":["#ff0084","#33001b"]},{"name":"Vine","colors":["#00bf8f","#001510"]},{"name":"Turquoise flow","colors":["#136a8a","#267871"]},{"name":"Portrait","colors":["#8e9eab","#eef2f3"]},{"name":"Virgin America","colors":["#7b4397","#dc2430"]},{"name":"Koko Caramel","colors":["#D1913C","#FFD194"]},{"name":"Fresh Turboscent","colors":["#F1F2B5","#135058"]},{"name":"Green to dark","colors":["#6A9113","#141517"]},{"name":"Ukraine","colors":["#004FF9","#FFF94C"]},{"name":"Curiosity blue","colors":["#525252","#3d72b4"]},{"name":"Dark Knight","colors":["#BA8B02","#181818"]},{"name":"Piglet","colors":["#ee9ca7","#ffdde1"]},{"name":"Lizard","colors":["#304352","#d7d2cc"]},{"name":"Sage Persuasion","colors":["#CCCCB2","#757519"]},{"name":"Between Night and Day","colors":["#2c3e50","#3498db"]},{"name":"Timber","colors":["#fc00ff","#00dbde"]},{"name":"Passion","colors":["#e53935","#e35d5b"]},{"name":"Clear Sky","colors":["#005C97","#363795"]},{"name":"Master Card","colors":["#f46b45","#eea849"]},{"name":"Back To Earth","colors":["#00C9FF","#92FE9D"]},{"name":"Deep Purple","colors":["#673AB7","#512DA8"]},{"name":"Little Leaf","colors":["#76b852","#8DC26F"]},{"name":"Netflix","colors":["#8E0E00","#1F1C18"]},{"name":"Light Orange","colors":["#FFB75E","#ED8F03"]},{"name":"Green and Blue","colors":["#c2e59c","#64b3f4"]},{"name":"Poncho","colors":["#403A3E","#BE5869"]},{"name":"Back to the Future","colors":["#C02425","#F0CB35"]},{"name":"Blush","colors":["#B24592","#F15F79"]},{"name":"Inbox","colors":["#457fca","#5691c8"]},{"name":"Purplin","colors":["#6a3093","#a044ff"]},{"name":"Pale Wood","colors":["#eacda3","#d6ae7b"]},{"name":"Haikus","colors":["#fd746c","#ff9068"]},{"name":"Pizelex","colors":["#114357","#F29492"]},{"name":"Joomla","colors":["#1e3c72","#2a5298"]},{"name":"Christmas","colors":["#2F7336","#AA3A38"]},{"name":"Minnesota Vikings","colors":["#5614B0","#DBD65C"]},{"name":"Miami Dolphins","colors":["#4DA0B0","#D39D38"]},{"name":"Forest","colors":["#5A3F37","#2C7744"]},{"name":"Nighthawk","colors":["#2980b9","#2c3e50"]},{"name":"Superman","colors":["#0099F7","#F11712"]},{"name":"Suzy","colors":["#834d9b","#d04ed6"]},{"name":"Dark Skies","colors":["#4B79A1","#283E51"]},{"name":"Deep Space","colors":["#000000","#434343"]},{"name":"Decent","colors":["#4CA1AF","#C4E0E5"]},{"name":"Colors Of Sky","colors":["#E0EAFC","#CFDEF3"]},{"name":"Purple White","colors":["#BA5370","#F4E2D8"]},{"name":"Ali","colors":["#ff4b1f","#1fddff"]},{"name":"Alihossein","colors":["#f7ff00","#db36a4"]},{"name":"Shahabi","colors":["#a80077","#66ff00"]},{"name":"Red Ocean","colors":["#1D4350","#A43931"]},{"name":"Tranquil","colors":["#EECDA3","#EF629F"]},{"name":"Transfile","colors":["#16BFFD","#CB3066"]},{"name":"Sylvia","colors":["#ff4b1f","#ff9068"]},{"name":"Sweet Morning","colors":["#FF5F6D","#FFC371"]},{"name":"Politics","colors":["#2196f3","#f44336"]},{"name":"Bright Vault","colors":["#00d2ff","#928DAB"]},{"name":"Solid Vault","colors":["#3a7bd5","#3a6073"]},{"name":"Sunset","colors":["#0B486B","#F56217"]},{"name":"Grapefruit Sunset","colors":["#e96443","#904e95"]},{"name":"Deep Sea Space","colors":["#2C3E50","#4CA1AF"]},{"name":"Dusk","colors":["#2C3E50","#FD746C"]},{"name":"Minimal Red","colors":["#F00000","#DC281E"]},{"name":"Royal","colors":["#141E30","#243B55"]},{"name":"Mauve","colors":["#42275a","#734b6d"]},{"name":"Frost","colors":["#000428","#004e92"]},{"name":"Lush","colors":["#56ab2f","#a8e063"]},{"name":"Firewatch","colors":["#cb2d3e","#ef473a"]},{"name":"Sherbert","colors":["#f79d00","#64f38c"]},{"name":"Blood Red","colors":["#f85032","#e73827"]},{"name":"Sun on the Horizon","colors":["#fceabb","#f8b500"]},{"name":"IIIT Delhi","colors":["#808080","#3fada8"]},{"name":"Jupiter","colors":["#ffd89b","#19547b"]},{"name":"50 Shades of Grey","colors":["#bdc3c7","#2c3e50"]},{"name":"Dania","colors":["#BE93C5","#7BC6CC"]},{"name":"Limeade","colors":["#A1FFCE","#FAFFD1"]},{"name":"Disco","colors":["#4ECDC4","#556270"]},{"name":"Love Couple","colors":["#3a6186","#89253e"]},{"name":"Azure Pop","colors":["#ef32d9","#89fffd"]},{"name":"Nepal","colors":["#de6161","#2657eb"]},{"name":"Cosmic Fusion","colors":["#ff00cc","#333399"]},{"name":"Snapchat","colors":["#fffc00","#ffffff"]},{"name":"Ed\'s Sunset Gradient","colors":["#ff7e5f","#feb47b"]},{"name":"Brady Brady Fun Fun","colors":["#00c3ff","#ffff1c"]},{"name":"Black Ros\xe9","colors":["#f4c4f3","#fc67fa"]},{"name":"80\'s Purple","colors":["#41295a","#2F0743"]},{"name":"Radar","colors":["#A770EF","#CF8BF3","#FDB99B"]},{"name":"Ibiza Sunset","colors":["#ee0979","#ff6a00"]},{"name":"Dawn","colors":["#F3904F","#3B4371"]},{"name":"Mild","colors":["#67B26F","#4ca2cd"]},{"name":"Vice City","colors":["#3494E6","#EC6EAD"]},{"name":"Jaipur","colors":["#DBE6F6","#C5796D"]},{"name":"Jodhpur","colors":["#9CECFB","#65C7F7","#0052D4"]},{"name":"Cocoaa Ice","colors":["#c0c0aa","#1cefff"]},{"name":"EasyMed","colors":["#DCE35B","#45B649"]},{"name":"Rose Colored Lenses","colors":["#E8CBC0","#636FA4"]},{"name":"What lies Beyond","colors":["#F0F2F0","#000C40"]},{"name":"Roseanna","colors":["#FFAFBD","#ffc3a0"]},{"name":"Honey Dew","colors":["#43C6AC","#F8FFAE"]},{"name":"Under the Lake","colors":["#093028","#237A57"]},{"name":"The Blue Lagoon","colors":["#43C6AC","#191654"]},{"name":"Can You Feel The Love Tonight","colors":["#4568DC","#B06AB3"]},{"name":"Very Blue","colors":["#0575E6","#021B79"]},{"name":"Love and Liberty","colors":["#200122","#6f0000"]},{"name":"Orca","colors":["#44A08D","#093637"]},{"name":"Venice","colors":["#6190E8","#A7BFE8"]},{"name":"Pacific Dream","colors":["#34e89e","#0f3443"]},{"name":"Learning and Leading","colors":["#F7971E","#FFD200"]},{"name":"Celestial","colors":["#C33764","#1D2671"]},{"name":"Purplepine","colors":["#20002c","#cbb4d4"]},{"name":"Sha la la","colors":["#D66D75","#E29587"]},{"name":"Mini","colors":["#30E8BF","#FF8235"]},{"name":"Maldives","colors":["#B2FEFA","#0ED2F7"]},{"name":"Cinnamint","colors":["#4AC29A","#BDFFF3"]},{"name":"Html","colors":["#E44D26","#F16529"]},{"name":"Coal","colors":["#EB5757","#000000"]},{"name":"Sunkist","colors":["#F2994A","#F2C94C"]},{"name":"Blue Skies","colors":["#56CCF2","#2F80ED"]},{"name":"Chitty Chitty Bang Bang","colors":["#007991","#78ffd6"]},{"name":"Visions of Grandeur","colors":["#000046","#1CB5E0"]},{"name":"Crystal Clear","colors":["#159957","#155799"]},{"name":"Mello","colors":["#c0392b","#8e44ad"]},{"name":"Compare Now","colors":["#EF3B36","#FFFFFF"]},{"name":"Meridian","colors":["#283c86","#45a247"]},{"name":"Relay","colors":["#3A1C71","#D76D77","#FFAF7B"]},{"name":"Alive","colors":["#CB356B","#BD3F32"]},{"name":"Scooter","colors":["#36D1DC","#5B86E5"]},{"name":"Terminal","colors":["#000000","#0f9b0f"]},{"name":"Telegram","colors":["#1c92d2","#f2fcfe"]},{"name":"Crimson Tide","colors":["#642B73","#C6426E"]},{"name":"Socialive","colors":["#06beb6","#48b1bf"]},{"name":"Subu","colors":["#0cebeb","#20e3b2","#29ffc6"]},{"name":"Broken Hearts","colors":["#d9a7c7","#fffcdc"]},{"name":"Kimoby Is The New Blue","colors":["#396afc","#2948ff"]},{"name":"Dull","colors":["#C9D6FF","#E2E2E2"]},{"name":"Purpink","colors":["#7F00FF","#E100FF"]},{"name":"Orange Coral","colors":["#ff9966","#ff5e62"]},{"name":"Summer","colors":["#22c1c3","#fdbb2d"]},{"name":"King Yna","colors":["#1a2a6c","#b21f1f","#fdbb2d"]},{"name":"Velvet Sun","colors":["#e1eec3","#f05053"]},{"name":"Zinc","colors":["#ADA996","#F2F2F2","#DBDBDB","#EAEAEA"]},{"name":"Hydrogen","colors":["#667db6","#0082c8","#0082c8","#667db6"]},{"name":"Argon","colors":["#03001e","#7303c0","#ec38bc","#fdeff9"]},{"name":"Lithium","colors":["#6D6027","#D3CBB8"]},{"name":"Digital Water","colors":["#74ebd5","#ACB6E5"]},{"name":"Orange Fun","colors":["#fc4a1a","#f7b733"]},{"name":"Rainbow Blue","colors":["#00F260","#0575E6"]},{"name":"Pink Flavour","colors":["#800080","#ffc0cb"]},{"name":"Sulphur","colors":["#CAC531","#F3F9A7"]},{"name":"Selenium","colors":["#3C3B3F","#605C3C"]},{"name":"Delicate","colors":["#D3CCE3","#E9E4F0"]},{"name":"Ohhappiness","colors":["#00b09b","#96c93d"]},{"name":"Lawrencium","colors":["#0f0c29","#302b63","#24243e"]},{"name":"Relaxing red","colors":["#fffbd5","#b20a2c"]},{"name":"Taran Tado","colors":["#23074d","#cc5333"]},{"name":"Bighead","colors":["#c94b4b","#4b134f"]},{"name":"Sublime Vivid","colors":["#FC466B","#3F5EFB"]},{"name":"Sublime Light","colors":["#FC5C7D","#6A82FB"]},{"name":"Pun Yeta","colors":["#108dc7","#ef8e38"]},{"name":"Quepal","colors":["#11998e","#38ef7d"]},{"name":"Sand to Blue","colors":["#3E5151","#DECBA4"]},{"name":"Wedding Day Blues","colors":["#40E0D0","#FF8C00","#FF0080"]},{"name":"Shifter","colors":["#bc4e9c","#f80759"]},{"name":"Red Sunset","colors":["#355C7D","#6C5B7B","#C06C84"]},{"name":"Moon Purple","colors":["#4e54c8","#8f94fb"]},{"name":"Pure Lust","colors":["#333333","#dd1818"]},{"name":"Slight Ocean View","colors":["#a8c0ff","#3f2b96"]},{"name":"eXpresso","colors":["#ad5389","#3c1053"]},{"name":"Shifty","colors":["#636363","#a2ab58"]},{"name":"Vanusa","colors":["#DA4453","#89216B"]},{"name":"Evening Night","colors":["#005AA7","#FFFDE4"]},{"name":"Magic","colors":["#59C173","#a17fe0","#5D26C1"]},{"name":"Margo","colors":["#FFEFBA","#FFFFFF"]},{"name":"Blue Raspberry","colors":["#00B4DB","#0083B0"]},{"name":"Citrus Peel","colors":["#FDC830","#F37335"]},{"name":"Sin City Red","colors":["#ED213A","#93291E"]},{"name":"Rastafari","colors":["#1E9600","#FFF200","#FF0000"]},{"name":"Summer Dog","colors":["#a8ff78","#78ffd6"]},{"name":"Wiretap","colors":["#8A2387","#E94057","#F27121"]},{"name":"Burning Orange","colors":["#FF416C","#FF4B2B"]},{"name":"Ultra Voilet","colors":["#654ea3","#eaafc8"]},{"name":"By Design","colors":["#009FFF","#ec2F4B"]},{"name":"Kyoo Tah","colors":["#544a7d","#ffd452"]},{"name":"Kye Meh","colors":["#8360c3","#2ebf91"]},{"name":"Kyoo Pal","colors":["#dd3e54","#6be585"]},{"name":"Metapolis","colors":["#659999","#f4791f"]},{"name":"Flare","colors":["#f12711","#f5af19"]},{"name":"Witching Hour","colors":["#c31432","#240b36"]},{"name":"Azur Lane","colors":["#7F7FD5","#86A8E7","#91EAE4"]},{"name":"Neuromancer","colors":["#f953c6","#b91d73"]},{"name":"Harvey","colors":["#1f4037","#99f2c8"]},{"name":"Amin","colors":["#8E2DE2","#4A00E0"]},{"name":"Memariani","colors":["#aa4b6b","#6b6b83","#3b8d99"]},{"name":"Yoda","colors":["#FF0099","#493240"]},{"name":"Cool Sky","colors":["#2980B9","#6DD5FA","#FFFFFF"]},{"name":"Dark Ocean","colors":["#373B44","#4286f4"]},{"name":"Evening Sunshine","colors":["#b92b27","#1565C0"]},{"name":"JShine","colors":["#12c2e9","#c471ed","#f64f59"]},{"name":"Moonlit Asteroid","colors":["#0F2027","#203A43","#2C5364"]},{"name":"MegaTron","colors":["#C6FFDD","#FBD786","#f7797d"]},{"name":"Cool Blues","colors":["#2193b0","#6dd5ed"]},{"name":"Piggy Pink","colors":["#ee9ca7","#ffdde1"]},{"name":"Grade Grey","colors":["#bdc3c7","#2c3e50"]},{"name":"Telko","colors":["#F36222","#5CB644","#007FC3"]},{"name":"Zenta","colors":["#2A2D3E","#FECB6E"]},{"name":"Electric Peacock","colors":["#8a2be2","#0000cd","#228b22","#ccff00"]},{"name":"Under Blue Green","colors":["#051937","#004d7a","#008793","#00bf72","#a8eb12"]},{"name":"Lensod","colors":["#6025F5","#FF5555"]},{"name":"Newspaper","colors":["#8a2be2","#ffa500","#f8f8ff"]},{"name":"Dark Blue Gradient","colors":["#2774ae","#002E5D","#002E5D"]},{"name":"Dark Blu Two","colors":["#004680","#4484BA"]},{"name":"Lemon Lime","colors":["#7ec6bc","#ebe717"]},{"name":"Beleko","colors":["#ff1e56","#f9c942","#1e90ff"]},{"name":"Mango Papaya","colors":["#de8a41","#2ada53"]},{"name":"Unicorn Rainbow","colors":["#f7f0ac","#acf7f0","#f0acf7"]},{"name":"Flame","colors":["#ff0000","#fdcf58"]},{"name":"Blue Red","colors":["#36B1C7","#960B33"]},{"name":"Twitter","colors":["#1DA1F2","#009ffc"]},{"name":"Blooze","colors":["#6da6be","#4b859e","#6da6be"]},{"name":"Blue Slate","colors":["#B5B9FF","#2B2C49"]},{"name":"Space Light Green","colors":["#9FA0A8","#5C7852"]},{"name":"Flower","colors":["#DCFFBD","#CC86D1"]},{"name":"Elate The Euge","colors":["#8BDEDA","#43ADD0","#998EE0","#E17DC2","#EF9393"]},{"name":"Peach Sea","colors":["#E6AE8C","#A8CECF"]},{"name":"Abbas","colors":["#00fff0","#0083fe"]},{"name":"Winter Woods","colors":["#333333","#a2ab58","#A43931"]},{"name":"Ameena","colors":["#0c0c6d","#de512b","#98d0c1","#5bb226","#023c0d"]},{"name":"Emerald Sea","colors":["#05386b","#5cdb95"]},{"name":"Bleem","colors":["#4284DB","#29EAC4"]},{"name":"Coffee Gold","colors":["#554023","#c99846"]},{"name":"Compass","colors":["#516b8b","#056b3b"]},{"name":"Andreuzza\'s","colors":["#D70652","#FF025E"]},{"name":"Moonwalker","colors":["#152331","#000000"]},{"name":"Whinehouse","colors":["#f7f7f7","#b9a0a0","#794747","#4e2020","#111111"]},{"name":"Hyper Blue","colors":["#59CDE9","#0A2A88"]},{"name":"Racker","colors":["#EB0000","#95008A","#3300FC"]},{"name":"After the Rain","colors":["#ff75c3","#ffa647","#ffe83f","#9fff5b","#70e2ff","#cd93ff"]},{"name":"Neon Green","colors":["#81ff8a","#64965e"]},{"name":"Dusty Grass","colors":["#d4fc79","#96e6a1"]},{"name":"Visual Blue","colors":["#003d4d","#00c996"]}]');var P=t(97429).Buffer;const Z=(e,s)=>{const t=P.from(e),a=new(M())(t).mod(new(M())(s));return Number(a)},O=e=>{let{seed:s=Math.random().toString(),avatarProps:t={}}=e;const a=Z(s,360),{name:A,colors:o}=N[Z(s,N.length)];return(0,i.jsx)(n.Avatar,{style:{background:`linear-gradient(${a}deg, ${o.join(", ")})`},alt:A,...t})};var L=t(80972),V=t(27906);const z=e=>{const[s,t]=(0,o.useState)(),[a,r]=(0,o.useState)(),{accounts:n}=(0,A.useAccount)(),l=(0,o.useCallback)((async()=>{if(!e)return t(void 0);const s=await A.DataLoader.load("fetchYourOwnerNTFs"+e,(()=>E(e)));t(s)}),[e]);(0,o.useEffect)((()=>{l()}),[l]);const i=(0,o.useCallback)((async()=>{if(!s)return r(void 0);let t=[];return await Promise.all(s.map((async s=>{const a=await V.utils.token.associatedAddress({mint:new V.web3.PublicKey(s.mint),owner:new V.web3.PublicKey(e)});let A=n[a.toBase58()];new V.BN(null===A||void 0===A?void 0:A.amount.toString()).eq(new V.BN(1))&&t.push(s)}))),r(t)}),[n,s,e]);return(0,o.useEffect)((()=>{i()}),[i]),{nfts:a}};var Q=t(19102);const Y=e=>{const[s,t]=(0,o.useState)(!1),[a,r]=(0,o.useState)(!0),{accounts:n}=(0,A.useAccount)(),l=(0,Q.K)(e),{metaData:i}=(0,L.Z)(e),{wallet:{address:c}}=(0,A.useWallet)(),{nfts:d}=z(c),u=(0,o.useMemo)((()=>{if(!d||null===l||void 0===l||!l.mint)return!1;for(const s of d){var e;if((null===(e=s.collection)||void 0===e?void 0:e.key)===l.mint.toBase58())return!0}return!1}),[null===l||void 0===l?void 0:l.mint,d]),p=(0,o.useMemo)((()=>{if(null===l||void 0===l||!l.mint)return!1;const e=[];for(const{mint:s}of Object.values(n))e.push(s);return e.includes(null===l||void 0===l?void 0:l.mint.toBase58())}),[null===l||void 0===l?void 0:l.mint,n]),h=(0,o.useMemo)((()=>{if(!i)return!1;const{members:e}=i;let s=!1;for(const{walletAddress:t}of e)if(t===c){s=!0;break}return s}),[i,c]),g=(0,o.useCallback)((()=>{if(!i||null===l||void 0===l||!l.mint)return r(!0);const{daoType:e}=i;let s=!1;"flexible-dao"===e&&null!==l&&void 0!==l&&l.isNft&&(s=u),"flexible-dao"!==e||null!==l&&void 0!==l&&l.isNft||(s=p),"multisig-dao"===e&&(s=h),t(s),r(!1)}),[null===l||void 0===l?void 0:l.isNft,null===l||void 0===l?void 0:l.mint,h,u,p,i]);return(0,o.useEffect)((()=>{g()}),[g]),{validMember:s,checking:a}};var U=t(51845);const W=t.p+"static/media/bg-autonomous.4bdc5f8d71be9e7c25a1.png",H=t.p+"static/media/bg-democratic.ff82ee54c8a9b2fcae9a.png",J=t.p+"static/media/bg-dictatorial.7c0cb9d397f1639d2aab.png";var K=t(22734);const X=e=>{let{daoAddress:s}=e;const t=(0,K.s)(s),{metaData:a}=(0,L.Z)(s),r="multisig-dao"===(null===a||void 0===a?void 0:a.daoType),l=(0,o.useMemo)((()=>{if(!r)return t;const{members:e}=a;return e.length}),[r,t,a]);return(0,i.jsx)(n.Spin,{spinning:!l,size:"small",children:(0,i.jsx)("span",{children:A.util.numeric(l).format("0,0")})})};var q=t(85731);const _={autonomous:W,democratic:H,dictatorial:J},$=1.777777,ee=e=>{var s,t;let{daoAddress:c}=e;const d=(0,r.useHistory)(),{regime:u,nonce:p,mint:g,isPublic:m,isNft:x}=(0,a.useSelector)((e=>e.daos[c])),{ui:{width:y}}=(0,A.useUI)(),{daoNameUrl:f}=(0,q.Z)(c),{metaData:j,loading:b}=(0,L.Z)(c),{validMember:w}=Y(c),I=null===(s=Object.keys(u))||void 0===s?void 0:s[0],v=(0,o.useMemo)((()=>y<768?$:y<1200?3.555554:3*$),[y]),S=y<768,B=y>992?y/1.3333333333333333:y;return(0,i.jsxs)(n.Row,{gutter:[0,0],className:"dao-card-wrapper",onClick:async()=>b?window.notify({type:"warning",description:"Data is loading"}):w||m?void d.push(`dao/${c}/${f}`):window.notify({type:"warning",description:"You are not a member of this DAO"}),children:[(0,i.jsx)(n.Col,{span:24,className:"dao-card-img",style:{height:S?(y-24)/v:(B-48)/v},children:(0,i.jsx)(n.Image,{preview:!1,src:_[I]})}),(0,i.jsx)(n.Col,{className:"regime-tag-wrapper",children:(0,i.jsx)(C,{regime:u,special:!0})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Spin,{spinning:b,tip:"Loading...",children:(0,i.jsx)(n.Card,{bordered:!1,children:(0,i.jsxs)(n.Row,{gutter:[20,20],children:[(0,i.jsx)(n.Col,{span:24,style:{minHeight:88},children:(0,i.jsxs)(n.Row,{gutter:[16,16],wrap:!1,align:"top",children:[(0,i.jsx)(n.Col,{children:null!==j&&void 0!==j&&j.image?(0,i.jsx)(n.Avatar,{shape:"square",size:68,src:null===j||void 0===j?void 0:j.image}):(0,i.jsx)(O,{seed:c,avatarProps:{shape:"square",size:68}})}),(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsxs)(n.Space,{direction:"vertical",size:0,children:[(0,i.jsx)(n.Tooltip,{title:null!==j&&void 0!==j&&j.daoName?j.daoName:c,children:(0,i.jsx)(n.Typography.Title,{style:{marginTop:-6},level:4,ellipsis:{rows:2},children:null!==j&&void 0!==j&&j.daoName?j.daoName:A.util.shortenAddress(c)})}),(0,i.jsx)(n.Tag,{className:"dao-tag",style:{margin:0},children:m?"Public":"Member Only"}),(0,i.jsx)(n.Space,{size:2,style:{marginLeft:-3},children:null===j||void 0===j||null===(t=j.optionals)||void 0===t?void 0:t.map(((e,s)=>(0,U.b3)(e)&&(0,i.jsx)(n.Button,{size:"small",type:"text",onClick:()=>window.open(e,"_blank"),icon:(0,i.jsx)(l.Z,{name:(0,U.q7)(e)})},s)))})]})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:8,children:(0,i.jsx)(h,{title:"Vote By",value:x?(0,i.jsx)(F,{mintAddress:g.toBase58()}):(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(R.gj,{mintAddress:g.toBase58()}),(0,i.jsx)(R.Z$,{mintAddress:g.toBase58()})]})})}),(0,i.jsx)(n.Col,{span:8,children:(0,i.jsx)(h,{title:"Proposals",value:A.util.numeric(Number(p)).format("0,0")})}),(0,i.jsx)(n.Col,{span:8,children:(0,i.jsx)(h,{title:"Members",value:(0,i.jsx)(X,{daoAddress:c})})})]})}),(0,i.jsx)(n.Col,{span:24,style:{minHeight:44},children:(0,i.jsx)(n.Typography.Paragraph,{style:{margin:0},type:"secondary",ellipsis:{rows:2},children:null===j||void 0===j?void 0:j.description})})]})})})})]})};var se=t(87408);const te=e=>{let{onSearch:s,loading:t=!1}=e;return(0,i.jsx)(n.Input,{prefix:(0,i.jsx)(n.Button,{type:"text",size:"small",icon:t?(0,i.jsx)(n.Spin,{indicator:(0,i.jsx)(se.Z,{style:{fontSize:14}})}):(0,i.jsx)(l.Z,{name:"search-outline"})}),placeholder:"Search by name, address",style:{width:"100%"},onChange:e=>s(e.target.value)})},ae={autonomous:W,democratic:H,dictatorial:J},Ae=e=>{let{regime:s,onChange:t=(()=>{}),active:a=!0}=e;return(0,i.jsxs)(n.Card,{bordered:!1,style:{overflow:"hidden",cursor:"pointer"},bodyStyle:{padding:0},onClick:()=>t(s),className:"card-regime "+(a?"active":""),children:[(0,i.jsx)(n.Image,{src:ae[Object.keys(s)[0]],preview:!1}),(0,i.jsx)(n.Typography.Text,{style:{position:"absolute",bottom:0,left:0,textAlign:"center",width:"100%",padding:4,backdropFilter:"blur(4px)",color:"#fff",textTransform:"capitalize",fontWeight:400},children:Object.keys(s)[0]})]})},oe=[g.DaoRegimes.Dictatorial,g.DaoRegimes.Democratic,g.DaoRegimes.Autonomous],re=e=>{let{value:s,onChangeRegime:t}=e;return(0,i.jsxs)(n.Row,{gutter:[8,8],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Typography.Text,{children:"DAO Regime"}),(0,i.jsx)(n.Popover,{overlayStyle:{maxWidth:300},trigger:"click",content:(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:5,children:"What is DAO Regime?"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",children:[(0,i.jsxs)(n.Typography.Text,{children:[(0,i.jsx)("strong",{children:"Dictatorial:"})," Only DAO owner can create and execute proposals."]}),(0,i.jsxs)(n.Typography.Text,{children:[(0,i.jsx)("strong",{children:"Democratic:"})," Community can create proposals, DAO owner execute proposals."]}),(0,i.jsxs)(n.Typography.Text,{children:[(0,i.jsx)("strong",{children:"Autonomous:"})," Community can create and execute proposals."]})]})})]}),children:(0,i.jsx)(n.Button,{type:"text",size:"small",icon:(0,i.jsx)(l.Z,{name:"information-circle-outline"})})})]})}),oe.map(((e,a)=>(0,i.jsx)(n.Col,{xs:24,md:8,children:(0,i.jsx)(Ae,{regime:e,onChange:t,active:x()(s,e)})},a)))]})},ne=e=>{let{onSort:s,value:t}=e;return(0,i.jsxs)(n.Select,{value:t,style:{textTransform:"capitalize",width:"100%"},onChange:s,children:[(0,i.jsx)(n.Select.Option,{value:"all",children:"All mechanisms"}),oe.map(((e,s)=>{const t=Object.keys(e)[0];return(0,i.jsx)(n.Select.Option,{value:t,style:{textTransform:"capitalize"},children:t},s)}))]})},le=e=>{let{value:s,setType:t}=e;return(0,i.jsxs)(n.Select,{value:s,style:{width:"100%"},onChange:t,children:[(0,i.jsx)(n.Select.Option,{value:"all",children:"All Type of DAO"}),(0,i.jsx)(n.Select.Option,{value:"flexible-dao",children:"Flexible DAO"}),(0,i.jsx)(n.Select.Option,{value:"multisig-dao",children:"Multisig DAO"})]})};var ie=t(94757),ce=t.n(ie);const de=class{constructor(e){var s=this;this.daoMap=void 0,this.engine=void 0,this.register=void 0,this._setDaoMap=async()=>(Object.keys(this.register).forEach((e=>this.daoMap.set(e,this.register[e]))),[this.daoMap]),this.all=async()=>{const[e]=await this._setDaoMap();return Array.from(e.values())},this.findByAddress=async e=>{const[s]=await this._setDaoMap();if(s.has(e))return[e]},this.find=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[a]=await s._setDaoMap(),A=s.engine;if(!A)return;let o=[];if(!e)return;const r=e+"~1";A.search(r).forEach((e=>{let{ref:s}=e;if(o.findIndex((e=>{let{daoAddress:t}=e;return t===s}))<0){const e=a.get(s);e&&o.push(e)}}));const n=[];return o.slice(0,t).forEach((e=>{let{daoAddress:s}=e;s&&n.push(s)})),n},this.register=e,this.daoMap=new Map,this.engine=ce()((function(){this.ref("daoAddress"),this.field("daoAddress"),this.field("daoName"),this.field("description"),Object.keys(e).forEach((s=>{const t=e[s];t&&this.add(t)}))})),this._setDaoMap()}};var ue=t(58039);const pe=(e,s)=>{const[t,a]=(0,o.useState)(),[A,r]=(0,o.useState)(),[n,l]=(0,o.useState)(!1),i=(0,ue.Z)(),c=(0,o.useCallback)((async()=>{const e={};for(const t of s){const s=await i.getItem(t);s&&(e[t]={...s,daoAddress:t})}return a(e)}),[s,i]),d=(0,o.useCallback)((async()=>{if(!e||e.length<3||"all-regime"===e||!t)return r(void 0);try{const s=new de(t);if(y.account.isAddress(e)){const t=await s.findByAddress(e);return r(t)}const a=await s.find(e);return r(a)}catch(s){r(void 0)}}),[e,t]);return(0,o.useEffect)((()=>{c()}),[c]),(0,o.useEffect)((()=>{e&&e.length>=3&&l(!0);const s=setTimeout((async()=>{await d(),l(!1)}),500);return()=>clearTimeout(s)}),[e,d]),{searchData:A,loading:n}},he=(e,s)=>{const t=(0,a.useSelector)((e=>e.daos)),[A,r]=(0,o.useState)({}),n=(0,ue.Z)(),l=(0,o.useCallback)((async()=>{const a={};for(const A in t){const o=t[A],{isPublic:r,regime:l}=o;if(r){if("all"!==e){const s=await n.getItem(A);if((null===s||void 0===s?void 0:s.daoType)!==e)continue}if("all"!==s){if(Object.keys(l)[0]!==s)continue}a[A]=o}}return r(a)}),[e,t,s,n]);return(0,o.useEffect)((()=>{l()}),[l]),A},ge=()=>{const[e,s]=(0,o.useState)("all"),[t,a]=(0,o.useState)(""),[A,r]=(0,o.useState)("all"),l=he(A,e),c=(0,o.useMemo)((()=>Object.keys(l)),[l]),{searchData:d,loading:u}=pe(t,c);return(0,i.jsxs)(n.Row,{gutter:[24,16],children:[(0,i.jsx)(n.Col,{xs:24,md:16,children:(0,i.jsxs)(n.Row,{gutter:[12,12],children:[(0,i.jsx)(n.Col,{xs:12,md:6,children:(0,i.jsx)(le,{value:A,setType:r})}),(0,i.jsx)(n.Col,{xs:12,md:6,children:(0,i.jsx)(ne,{onSort:s,value:e})}),(0,i.jsx)(n.Col,{xs:24,md:12,children:(0,i.jsx)(te,{onSearch:a,loading:u})})]})}),(0,i.jsx)(n.Col,{span:24}),!(t.length>=3)||d&&d.length?(d||Object.keys(l)).map((e=>(0,i.jsx)(n.Col,{xs:24,md:12,xl:8,children:(0,i.jsx)(p.ZP,{height:479.75,offset:2,children:(0,i.jsx)(ee,{daoAddress:e})})},e))):(0,i.jsx)(n.Col,{span:24,style:{textAlign:"center"},children:(0,i.jsx)(n.Empty,{})})]})};var me=t(71276);const{manifest:{appId:xe}}=me.Z,Ce=()=>{const{wallet:{address:e}}=(0,A.useWallet)(),s=(0,a.useSelector)((e=>e.daos)),t=(0,r.useHistory)(),l=(0,o.useMemo)((()=>Object.keys(s).filter((t=>{const{authority:a}=s[t]||{},A=a.toBase58();return y.account.isAddress(A)&&A===e}))),[s,e]);return l.length?(0,i.jsx)(n.Row,{gutter:[24,24],children:l.map((e=>(0,i.jsx)(n.Col,{xs:24,md:12,xl:8,children:(0,i.jsx)(p.ZP,{height:191.5,children:(0,i.jsx)(ee,{daoAddress:e})})},e)))}):(0,i.jsx)(n.Row,{gutter:[24,24],children:(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Card,{bordered:!1,bodyStyle:{padding:45,textAlign:"center"},children:(0,i.jsxs)(n.Space,{direction:"vertical",align:"center",children:[(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"You have no DAO yet!"}),(0,i.jsx)(n.Button,{onClick:()=>t.push(`/app/${xe}/dao/create-dao`),children:"Build your DAO"})]})})})})},ye=()=>{const e=(0,a.useSelector)((e=>e.daos)),[s,t]=(0,o.useState)(),{accounts:r}=(0,A.useAccount)(),{wallet:n}=(0,A.useWallet)(),{nfts:l}=z(n.address),i=(0,ue.Z)(),c=(0,o.useCallback)((async()=>{if(!l)return t(void 0);const s=[];try{for(const t in e){const a=e[t],{mint:A,isNft:o}=a;let c=!0;const{daoType:d,members:u}=await i.getItem(t);if("multisig-dao"===d){u.map((e=>{let{walletAddress:s}=e;return s})).includes(n.address)||(c=!1)}if("flexible-dao"===d&&!o){const e=await V.utils.token.associatedAddress({mint:A,owner:new V.web3.PublicKey(n.address)});r[e.toBase58()]||(c=!1)}if("flexible-dao"===d&&o){const e=null===l||void 0===l?void 0:l.map((e=>{var s;return null===(s=e.collection)||void 0===s?void 0:s.key}));e&&e.includes(A.toBase58())||(c=!1)}c&&s.push(t)}}catch(a){}return t(s)}),[r,e,l,i,n.address]);return(0,o.useEffect)((()=>{c()}),[c]),s},fe=()=>{const e=ye();return 0===(null===e||void 0===e?void 0:e.length)?(0,i.jsx)(n.Empty,{description:"No available DAOs"}):(0,i.jsx)(n.Spin,{spinning:void 0===e,tip:"Loading...",children:(0,i.jsx)(n.Row,{gutter:[24,24],children:null===e||void 0===e?void 0:e.map((e=>(0,i.jsx)(n.Col,{xs:24,md:12,xl:8,children:(0,i.jsx)(p.ZP,{height:191.5,children:(0,i.jsx)(ee,{daoAddress:e})})},e)))})})};var je=t(22423);const be=e=>{let{proposalAddress:s}=e;const t=(0,a.useSelector)((e=>e.proposal)),{metaData:A}=(0,je.Z)(s),{metaData:o}=(0,L.Z)(t[s].dao.toBase58());return(0,i.jsxs)(n.Space,{size:8,style:{width:"100%"},children:[null!==o&&void 0!==o&&o.image?(0,i.jsx)(n.Avatar,{shape:"square",size:49,src:null===o||void 0===o?void 0:o.image}):(0,i.jsx)(O,{seed:t[s].dao.toBase58(),avatarProps:{shape:"square",size:49}}),(0,i.jsxs)(n.Space,{size:4,direction:"vertical",children:[(0,i.jsx)(n.Typography.Title,{level:5,children:null===A||void 0===A?void 0:A.title}),(0,i.jsx)(n.Typography.Text,{style:{color:"#A08D70"},children:null===A||void 0===A?void 0:A.description})]})]})},we=()=>{const e=(0,a.useSelector)((e=>e.receipt)),s=(0,a.useSelector)((e=>e.proposal)),[t,r]=(0,o.useState)({}),[n,l]=(0,o.useState)([]),{wallet:{address:i}}=(0,A.useWallet)(),c=(0,o.useCallback)((async()=>{let t=[],a={};for(const A in e){const o=e[A].proposal.toBase58();if(e[A].authority.toBase58()===i&&Number(s[o].endDate)<Date.now()/1e3&&s[o]&&e[A].amount.toNumber()>0){t.push({...e[A],address:A});const o=e[A].proposal.toBase58();a[o]||(a[o]=s[o])}}r(a),l(t)}),[s,e,i]);return(0,o.useEffect)((()=>{c()}),[c]),{withdrawableReceipts:n,withdrawableProposals:t}},Ie=t.p+"static/media/bg-join-dao.3d592df6b487d75d869b.png",{sol:{interDao:ve}}=me.Z,Se=()=>{const e=(0,a.useSelector)((e=>e.proposal)),s=(0,a.useSelector)((e=>e.daos)),[t,r]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),{withdrawableReceipts:u,withdrawableProposals:p}=we();(0,o.useEffect)((()=>{if(u.length>0)return r(!0);r(!1)}),[u]);return(0,i.jsxs)(n.Modal,{visible:t,onCancel:()=>{r(!1)},closeIcon:(0,i.jsx)(l.Z,{name:"close-outline"}),footer:null,bodyStyle:{padding:"72px 24px 24px 24px"},className:"join-dao",children:[(0,i.jsx)(n.Image,{preview:!1,src:Ie}),(0,i.jsxs)(n.Row,{gutter:[32,32],className:"join-dao_content",children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",size:12,align:"center",style:{width:"100%"},children:[(0,i.jsx)(n.Typography.Title,{className:"join-dao_title",level:2,children:"Voting is over!"}),(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Your tokens and NFTs can be withdrawn from the proposals below."})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Row,{gutter:[24,24],children:Object.keys(p).map((e=>(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(be,{proposalAddress:e})},e)))})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Button,{type:"primary",block:!0,onClick:async()=>{if(u.length){d(!0);try{for(const t of u){let a;const{isNft:o}=s[e[t.proposal.toBase58()].dao.toBase58()];a=o?await ve.closeNftVoting(t.address):await ve.close(t.address),window.notify({type:"success",description:"Successful withdrawal. Click to view details!",onClick:()=>window.open(A.util.explorer(a.txId),"_blank")})}}catch(t){window.notify({type:"error",description:t.message})}finally{d(!1),r(!1)}}},loading:c,style:{height:40},children:"Withdraw"})})]})]})},{manifest:{appId:Be}}=me.Z,Ee=()=>{const e=(0,r.useHistory)();return(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(u,{})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Row,{justify:"center",children:(0,i.jsx)(n.Col,{xs:24,lg:18,children:(0,i.jsxs)(n.Tabs,{style:{overflow:"visible"},className:"dao-tabs",tabBarExtraContent:(0,i.jsx)(n.Button,{type:"primary",onClick:()=>e.push(`/app/${Be}/dao/create-dao`),icon:(0,i.jsx)(l.Z,{name:"add-outline"}),children:"Create a DAO"}),children:[(0,i.jsx)(n.Tabs.TabPane,{tab:"Public DAOs",children:(0,i.jsx)(ge,{})},"public-daos"),(0,i.jsx)(n.Tabs.TabPane,{tab:"Available DAOs",children:(0,i.jsx)(fe,{})},"available-daos"),(0,i.jsx)(n.Tabs.TabPane,{tab:"Your DAOs",children:(0,i.jsx)(Ce,{})},"your-daos")]})})})}),(0,i.jsx)(Se,{})]})};const Te=t.p+"static/media/solana.6db9bd9600699ad1fc2b302acd0731be.svg",ke=e=>{const[s,t]=(0,o.useState)(),{metaData:a,loading:A}=(0,je.Z)(e),r=(0,o.useCallback)((()=>t(!a||A?void 0:a.templateName)),[A,a]);return(0,o.useEffect)((()=>{r()}),[r]),s},De=e=>{let{name:s,daoAddress:a}=e;const A=(0,o.lazy)((()=>t(37314)(`./${s}/create`)));return(0,i.jsx)(Ge,{children:(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)("div",{}),children:(0,i.jsx)(A,{daoAddress:a})})})},Fe=e=>{let{proposalAddress:s}=e;const a=ke(s),A=(0,o.lazy)((()=>t(48229)(`./${a}/proposal`)));return(0,i.jsx)(Ge,{children:(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)("div",{}),children:(0,i.jsx)(A,{proposalAddress:s})})})},Re=e=>{let{proposalAddress:s}=e;const a=ke(s),A=(0,o.lazy)((()=>t(3844)(`./${a}/info`)));return(0,i.jsx)(Ge,{children:(0,i.jsx)(o.Suspense,{fallback:(0,i.jsx)("div",{}),children:(0,i.jsx)(A,{proposalAddress:s})})})};class Ge extends o.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,s){console.error("Uncaught error:",e,s)}render(){return this.state.hasError?(0,i.jsx)("h1",{children:"Sorry.. there was an error"}):this.props.children}}var Me=t(54121);const Ne=e=>{let{label:s,description:t,icon:a}=e;return(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Typography.Title,{level:5,children:s})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(l.Z,{style:{fontSize:24},name:a})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Text,{type:"secondary",children:t})})]})},Pe=e=>{let{daoAddress:s}=e;const[t,a]=(0,o.useState)(Me.sR.SplTransfer);return(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{xs:24,md:16,className:"wrap-spl-info",children:(0,i.jsxs)(n.Row,{gutter:[16,16],className:"spl-info",children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{size:24,children:[(0,i.jsx)(n.Image,{preview:!1,src:Te}),(0,i.jsxs)(n.Space,{size:0,direction:"vertical",children:[(0,i.jsx)(n.Typography.Text,{children:"Solana Program Library"}),(0,i.jsxs)(n.Space,{size:2,style:{marginLeft:-8},children:[(0,i.jsx)(n.Button,{type:"text",icon:(0,i.jsx)(l.Z,{name:"logo-discord"}),onClick:()=>{window.open("https://discord.com/invite/pquxPsq","blank")}}),(0,i.jsx)(n.Button,{type:"text",icon:(0,i.jsx)(l.Z,{name:"logo-twitter"}),onClick:()=>{window.open("https://twitter.com/solana","blank")}}),(0,i.jsx)(n.Button,{type:"text",icon:(0,i.jsx)(l.Z,{name:"logo-telegram"}),onClick:()=>{window.open("https://t.me/solana","blank")}})]})]})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Paragraph,{type:"secondary",ellipsis:{rows:3,expandable:!0,symbol:"View more"},children:"The Solana Program Library (SPL) is a collection of on-chain programs targeting the Sealevel parallel runtime. These programs are tested against Solana's implementation of Sealevel, solana-runtime, and deployed to its mainnet. As others implement Sealevel, we will graciously accept patches to ensure the programs here are portable across all implementations."})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsx)(n.Typography.Text,{children:"Templates"}),(0,i.jsx)(n.Radio.Group,{value:t,style:{width:"100%"},className:"select-spl-option",onChange:e=>a(e.target.value),children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{xs:24,sm:12,md:12,lg:12,children:(0,i.jsx)(n.Radio.Button,{value:Me.sR.SplTransfer,children:(0,i.jsx)(Ne,{label:"Transfer",description:"Transfer token to another wallet address",icon:"paper-plane-outline"})})}),(0,i.jsx)(n.Col,{xs:24,sm:12,md:12,lg:12,children:(0,i.jsx)(n.Radio.Button,{value:Me.sR.SplApprove,children:(0,i.jsx)(Ne,{label:"Approve",description:"Allow this wallet to use money in another wallet.",icon:"thumbs-up-outline"})})})]})})]})})]})}),(0,i.jsx)(n.Col,{xs:24,md:8,className:"spl-option-transfer",children:(0,i.jsx)(De,{name:t,daoAddress:s})})]})};const Ze=t.p+"static/media/sentre_logo.dcb32c96bb5ed68090fdb2ec32c50aa3.svg",Oe=e=>{let{daoAddress:s}=e;return(0,i.jsx)(n.Row,{children:(0,i.jsx)(n.Col,{span:24,className:"wrap-spl-info",children:(0,i.jsxs)(n.Row,{gutter:[16,16],className:"spl-info",children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{size:24,children:[(0,i.jsx)(n.Image,{preview:!1,src:Ze}),(0,i.jsxs)(n.Space,{size:0,direction:"vertical",children:[(0,i.jsx)(n.Typography.Text,{children:"The Blank Template"}),(0,i.jsxs)(n.Space,{size:2,style:{marginLeft:-8},children:[(0,i.jsx)(n.Button,{type:"text",icon:(0,i.jsx)(l.Z,{name:"logo-discord"}),onClick:()=>{window.open("https://discord.com/invite/VD7UBAp2HN","blank")}}),(0,i.jsx)(n.Button,{type:"text",icon:(0,i.jsx)(l.Z,{name:"logo-twitter"}),onClick:()=>{window.open("https://twitter.com/SentreProtocol","blank")}}),(0,i.jsx)(n.Button,{type:"text",icon:(0,i.jsx)(l.Z,{name:"logo-telegram"}),onClick:()=>{window.open("https://t.me/Sentre","blank")}})]})]})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Paragraph,{type:"secondary",ellipsis:{rows:3,expandable:!0,symbol:"View more"},children:"Create a proposal with a blank template without making a transaction."})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(De,{name:Me.sR.BlankTemplate,daoAddress:s})})]})})})};var Le=t(62919);const Ve=e=>{let{daoAddress:s}=e;const t=(0,a.useSelector)((e=>e.template.visible)),A=(0,a.useDispatch)();return(0,i.jsx)(n.Modal,{visible:t,footer:!1,closeIcon:(0,i.jsx)(l.Z,{name:"close-outline"}),className:"template-card template-modal",onCancel:()=>A((0,Le.JJ)()),children:(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{span:24,className:"template-header",children:(0,i.jsx)(n.Typography.Title,{level:4,children:"Choose a template"})}),(0,i.jsx)(n.Col,{className:"template-body",span:24,children:(0,i.jsxs)(n.Tabs,{children:[(0,i.jsx)(n.Tabs.TabPane,{tab:"Blank",children:(0,i.jsx)(Oe,{daoAddress:s})},"blank"),(0,i.jsx)(n.Tabs.TabPane,{tab:"SPL",children:(0,i.jsx)(Pe,{daoAddress:s})},"spl"),(0,i.jsx)(n.Tabs.TabPane,{tab:"Atrix",disabled:!0},"atrix"),(0,i.jsx)(n.Tabs.TabPane,{tab:"Quarry",disabled:!0},"quarry"),(0,i.jsx)(n.Tabs.TabPane,{tab:"Advanced",disabled:!0},"advanced")]})})]})})},ze=Math.floor(Number(new Date)/1e3),Qe=e=>{let{daoAddress:s}=e;const[t,r]=(0,o.useState)("all-status"),c=(0,a.useSelector)((e=>e.daos)),d=(0,a.useSelector)((e=>e.proposal)),u=(0,a.useDispatch)(),{wallet:{address:h}}=(0,A.useWallet)(),{ui:{width:m}}=(0,A.useUI)(),{regime:C,authority:y}=c[s]||{regime:g.DaoRegimes.Dictatorial,authority:w.SystemProgram.programId},f=m<768,j=(0,o.useCallback)(((e,s,t)=>!(s<=0)&&("half"===e&&s>=t/2||("oneThird"===e&&s>=t/3||"twoThird"===e&&s>=2*t/3))),[]),b=(0,o.useMemo)((()=>!!x()(C,g.DaoRegimes.Autonomous)||(!!x()(C,g.DaoRegimes.Democratic)||y.toBase58()===h)),[C,y,h]),I=(0,o.useMemo)((()=>Object.keys(d).map((e=>({address:e,...d[e]}))).filter((e=>{let{dao:t}=e;return t.toBase58()===s})).map((e=>{let{address:s}=e;return s}))),[d,s]),v=(0,o.useMemo)((()=>{if(!I.length)return[];const e=[];for(const s of I){let a=!1;const{endDate:A,startDate:o,executed:r,supply:n,votingForPower:l,consensusQuorum:i,consensusMechanism:c,votingAgainstPower:u}=d[s]||{},p=i?Object.keys(i)[0]:"",h=Number(l)-Number(u),g=Number(n)||0,m=Number(n)*(Number(A)-Number(o)),x="StakedTokenCounter"===(c?Object.keys(c)[0]:"")?g:m;switch(t){case"preparing":a=ze<Number(o);break;case"voting":a=ze<=Number(A)&&ze>=Number(o);break;case"executed":a=r;break;case"succeeded":a=j(p,h,x)&&!r&&ze>Number(A);break;case"failed":a=!j(p,h,x)&&ze>Number(A);break;default:a=!0}a&&e.push(s)}return e}),[j,d,I,t]);return(0,o.useEffect)((()=>{window.scrollTo(0,0)}),[]),(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[16,16],align:"bottom",children:[(0,i.jsx)(n.Col,{span:f?24:void 0,flex:f?void 0:"auto",children:(0,i.jsx)(n.Typography.Title,{level:4,children:"Proposals"})}),(0,i.jsx)(n.Col,{span:f?12:void 0,children:(0,i.jsxs)(n.Select,{className:"select-filter-proposal",defaultValue:"all-status",onChange:r,style:{width:"100%",minWidth:150},children:[(0,i.jsx)(n.Select.Option,{value:"all-status",children:"All Status"}),(0,i.jsx)(n.Select.Option,{value:"preparing",children:"Preparing"}),(0,i.jsx)(n.Select.Option,{value:"voting",children:"Voting"}),(0,i.jsx)(n.Select.Option,{value:"succeeded",children:"Succeeded"}),(0,i.jsx)(n.Select.Option,{value:"executed",children:"Executed"}),(0,i.jsx)(n.Select.Option,{value:"failed",children:"Failed"})]})}),(0,i.jsx)(n.Col,{span:f?12:void 0,children:(0,i.jsx)(n.Button,{type:"primary",icon:(0,i.jsx)(l.Z,{name:"add-outline"}),onClick:()=>u((0,Le.yx)(!0)),disabled:!b,block:!0,children:"New Proposal"})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Row,{children:v.length?v.map((e=>(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(p.ZP,{height:176,children:(0,i.jsx)(Fe,{proposalAddress:e})})},e))):(0,i.jsx)(n.Col,{span:24,style:{textAlign:"center"},children:(0,i.jsx)(n.Empty,{description:"No Proposals"})})})}),(0,i.jsx)(Ve,{daoAddress:s})]})};var Ye=t(51518),Ue=t.n(Ye);const We=e=>{let{daoAddress:s}=e;const[t,a]=(0,o.useState)("address"),{metaData:r}=(0,L.Z)(s);return(0,i.jsx)(n.Row,{gutter:[8,8],children:null===r||void 0===r?void 0:r.members.map(((e,s)=>{let{name:o,walletAddress:r}=e;return(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Typography.Text,{className:"t-16",children:o},s)}),(0,i.jsx)(n.Col,{children:(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Typography.Text,{type:"secondary",children:A.util.shortenAddress(r)}),(0,i.jsx)(n.Tooltip,{title:"Copied",visible:t===r,children:(0,i.jsx)(Ue(),{text:r,onCopy:()=>(async e=>{a(e),await A.util.asyncWait(1500),a("address")})(r),children:(0,i.jsx)(n.Typography.Text,{style:{cursor:"pointer"},type:"secondary",children:(0,i.jsx)(l.Z,{name:"copy-outline"})})})})]})})]})},r+s)}))})},He=e=>{let{daoAddress:s}=e;const{metaData:t}=(0,L.Z)(s),a="multisig-dao"===(null===t||void 0===t?void 0:t.daoType);return(0,i.jsxs)(n.Row,{gutter:[8,8],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{align:"baseline",children:[(0,i.jsx)(n.Typography.Text,{className:"caption",type:"secondary",children:"Members"}),a&&(0,i.jsx)(n.Tooltip,{placement:"bottomLeft",overlayClassName:"info-member",title:(0,i.jsx)(We,{daoAddress:s}),children:(0,i.jsx)(l.Z,{style:{cursor:"pointer"},name:"information-circle-outline"})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(X,{daoAddress:s})})]})},{manifest:{appId:Je}}=me.Z,Ke=e=>{let{daoAddress:s}=e;const t=(0,r.useHistory)(),{metaData:a,loading:o}=(0,L.Z)(s),c=(0,K.K)(s),{ui:{width:d}}=(0,A.useUI)(),{wallet:{address:u}}=(0,A.useWallet)(),{regime:p,nonce:g,mint:m,authority:x,isNft:y}=c||{regime:{},nonce:new(M())(0),mint:w.SystemProgram.programId},f=d<768;return(0,i.jsx)(n.Card,{bordered:!1,style:{height:"100%"},children:(0,i.jsx)(n.Spin,{spinning:o,tip:"Loading...",children:(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{justify:"space-between",wrap:!1,children:[(0,i.jsx)(n.Col,{children:(0,i.jsxs)(n.Row,{gutter:[16,16],wrap:!1,children:[(0,i.jsx)(n.Col,{children:null!==a&&void 0!==a&&a.image?(0,i.jsx)(n.Avatar,{shape:"square",size:56,src:null===a||void 0===a?void 0:a.image}):(0,i.jsx)(O,{seed:s,avatarProps:{shape:"square",size:56}})}),(0,i.jsx)(n.Col,{flex:f?"auto":void 0,children:(0,i.jsxs)(n.Space,{direction:"vertical",size:0,children:[(0,i.jsx)(n.Typography.Title,{level:4,children:null!==a&&void 0!==a&&a.daoName?a.daoName:A.util.shortenAddress(s)}),(0,i.jsx)(n.Space,{size:0,style:{marginLeft:-3},children:((null===a||void 0===a?void 0:a.optionals)||[]).map(((e,s)=>(0,U.b3)(e)&&(0,i.jsx)(n.Button,{size:"small",type:"text",onClick:()=>window.open(e,"_blank"),icon:(0,i.jsx)(l.Z,{name:(0,U.q7)(e)})},s)))})]})})]})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{type:"text",size:"large",onClick:()=>t.push(`/app/${Je}/dao/${s}/edit`),disabled:x&&u!==x.toBase58(),style:{marginRight:-10,marginTop:-20},icon:(0,i.jsx)(l.Z,{name:"settings-outline"}),children:"Settings"})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[36,16],children:[(0,i.jsx)(n.Col,{xs:12,sm:6,children:(0,i.jsx)(h,{title:"Proposals",value:A.util.numeric(Number(g)).format("0,0")})}),(0,i.jsx)(n.Col,{xs:12,sm:6,children:(0,i.jsx)(He,{daoAddress:s})}),(0,i.jsx)(n.Col,{xs:12,sm:6,children:(0,i.jsx)(h,{title:"Vote By",value:y?(0,i.jsx)(F,{mintAddress:m.toBase58()}):(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(R.gj,{mintAddress:m.toBase58()}),(0,i.jsx)(R.Z$,{mintAddress:m.toBase58()})]})})}),(0,i.jsx)(n.Col,{xs:12,sm:6,children:(0,i.jsx)(h,{title:"Regime",value:(0,i.jsx)(C,{regime:p})})})]})}),(0,i.jsx)(n.Col,{span:24,className:"scrollbar",style:{height:66},children:(0,i.jsx)(n.Typography.Paragraph,{type:"secondary",ellipsis:{rows:3,expandable:!0,symbol:"View more"},style:{margin:0},children:null===a||void 0===a?void 0:a.description})})]})})})};var Xe=t(97425),qe=t(63637),_e=t(50847),$e=t(97429).Buffer;const{sol:{utility:es}}=me.Z,ss=new qe.Z,ts=Number(new Date)+1296e6;const as=class{constructor(){this.getTreeData=e=>{const s=e.map(((e,s)=>({authority:e,amount:new V.BN(1),startedAt:new V.BN(0),salt:Xe.MerkleDistributor.salt(s.toString())})));return new Xe.MerkleDistributor(s).toBuffer()},this.createDistributor=async(e,s)=>{const t=this.getTreeData(e),a=Xe.MerkleDistributor.fromBuffer(t),A=await ss.set(t.toJSON().data),{multihash:{digest:o}}=_e.k0.parse(A),r=$e.from(o),{distributorAddress:n}=await es.initializeDistributor({tokenAddress:s,total:a.getTotal(),merkleRoot:a.deriveMerkleRoot(),metadata:r,endedAt:ts/1e3});return n},this.createDistributorInstruction=async(e,s,t)=>{const a=this.getTreeData(s),A=Xe.MerkleDistributor.fromBuffer(a),o=await ss.set(a.toJSON().data),{multihash:{digest:r}}=_e.k0.parse(o),n=new w.PublicKey(e),l=new w.PublicKey(t),i=$e.from(r),c=V.web3.Keypair.generate(),d=await V.utils.token.associatedAddress({mint:l,owner:n}),u=await es.deriveTreasurerAddress(c.publicKey.toBase58()),p=await V.utils.token.associatedAddress({mint:l,owner:new w.PublicKey(u)});return es.program.methods.initializeDistributor(Array.from(A.deriveMerkleRoot()),A.getTotal(),new V.BN(ts/1e3),Array.from(i),new V.BN(0)).accounts({authority:new w.PublicKey(e),distributor:c.publicKey,src:d,treasurer:u,treasury:p,feeCollector:new w.PublicKey(e),mint:l,tokenProgram:V.utils.token.TOKEN_PROGRAM_ID,associatedTokenProgram:V.utils.token.ASSOCIATED_PROGRAM_ID,systemProgram:V.web3.SystemProgram.programId,rent:V.web3.SYSVAR_RENT_PUBKEY}).instruction()},this.getMintAddress=async e=>(await es.program.account.distributor.fetch(e)).mint.toBase58(),this.getMerkleDistributor=async e=>{const s=await es.program.account.distributor.fetch(e),t=await(0,U.al)(s.metadata),a=await ss.get(t);return Xe.MerkleDistributor.fromBuffer($e.from(a))},this.getRecipientData=async(e,s)=>{const t=await this.getMerkleDistributor(s);for(const a of t.receipients){if(e===a.authority.toBase58())return a}},this.getReceiptData=async(e,s)=>{const t=await this.getRecipientData(e,s);if(!t)return!1;const{salt:a}=t,A=await es.deriveReceiptAddress(a,s);return await es.getReceiptData(A)},this.claimToken=async(e,s)=>{const t=await this.getRecipientData(e,s);if(!t)throw new Error("You not on the list");const a=(await this.getMerkleDistributor(s)).deriveProof(t),{txId:A}=await es.claim({distributorAddress:s,proof:a,data:t});return A}}},As=e=>{let{daoAddress:s}=e;const[t,a]=(0,o.useState)(!1),[r,c]=(0,o.useState)(!1),{wallet:{address:d}}=(0,A.useWallet)(),{metaData:u}=(0,L.Z)(s),{accounts:p}=(0,A.useAccount)(),h=(0,o.useMemo)((()=>{const e=[];for(const s in p)e.push(p[s].mint);return e}),[p]),g=(0,o.useCallback)((async()=>{try{if(!u||!u.distributorAddress)return a(!1);const{distributorAddress:e,members:s}=u,t=new as,A=await t.getMintAddress(e);if(s.map((e=>e.walletAddress)).includes(d)&&!h.includes(A))return a(!0);if(!await t.getRecipientData(d,e))return a(!1);await t.getReceiptData(d,e);return a(!1)}catch(e){return a(!0)}}),[h,u,d]);return(0,o.useEffect)((()=>{g()}),[g]),(0,i.jsxs)(n.Modal,{visible:t,onCancel:()=>a(!1),closeIcon:(0,i.jsx)(l.Z,{name:"close-outline"}),footer:null,className:"join-dao",bodyStyle:{padding:"72px 24px 24px 24px"},children:[(0,i.jsx)(n.Image,{preview:!1,src:Ie}),(0,i.jsxs)(n.Row,{className:"join-dao_content",gutter:[48,48],style:{textAlign:"center"},children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[12,12],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{style:{fontSize:32},className:"join-dao_title",level:2,children:"Welcome to the DAO"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Typography.Text,{style:{fontSize:16},children:["Click the button below to become ",(0,i.jsx)("br",{})," an official member of DAO"]})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Button,{block:!0,size:"large",loading:r,onClick:async()=>{if(!u||!u.distributorAddress)return;const{distributorAddress:e}=u;try{c(!0);const s=new as;if(!await s.getRecipientData(d,e))return;const t=await s.claimToken(d,e);return window.notify({type:"success",description:"Join the DAO successfully. Click here to view details.",onClick:()=>window.open(A.util.explorer(t),"_blank")})}catch(s){return window.notify({type:"success",description:s.message})}finally{c(!1),a(!1)}},type:"primary",children:"Get started"})})]})]})},os=e=>{let{daoAddress:s}=e;const[t,a]=(0,o.useState)(),A=(0,K.K)(s),r=(0,o.useCallback)((async()=>{if(null===A||void 0===A||!A.master)return a(void 0);const e=await E(A.master.toBase58());return a(e)}),[null===A||void 0===A?void 0:A.master]);return(0,o.useEffect)((()=>{r()}),[r]),(0,i.jsx)(n.Spin,{spinning:!t,tip:"Loading...",children:(0,i.jsxs)(n.Row,{gutter:[8,8],style:{height:160},children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{align:"middle",children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Space,{align:"baseline",children:(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Total NFTs"})})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Typography.Title,{level:4,children:(null===t||void 0===t?void 0:t.length)||0})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Row,{gutter:[8,8],className:"scrollbar",children:0!==(null===t||void 0===t?void 0:t.length)?null===t||void 0===t?void 0:t.map((e=>(0,i.jsx)(n.Col,{xs:8,md:8,children:(0,i.jsx)(p.ZP,{height:87,children:(0,i.jsx)(rs,{mintAddress:e.mint})})},e.mint))):(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Empty,{description:"No NFTs"})})})})]})})},rs=e=>{let{mintAddress:s}=e;const[t,a]=(0,o.useState)(""),[A,r]=(0,o.useState)(!1),{metadata:l}=k(s),c=(0,o.useCallback)((async()=>{if(!l)return a(D);try{r(!0);const e=l.data.data.uri;if(!e)return a(D);const s=(await j().get(e)).data.image;return a(s)}catch(e){return window.notify({type:"error",description:e.message})}finally{r(!1)}}),[l]);return(0,o.useEffect)((()=>{c()}),[c]),(0,i.jsx)(n.Card,{bordered:!1,style:{cursor:"pointer"},bodyStyle:{padding:8},loading:A,children:(0,i.jsx)(n.Row,{gutter:[8,8],children:(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Image,{src:t,preview:!1,style:{borderRadius:4},width:87,height:87})})})})};var ns=t(63030);const ls={address:"",icon:"",name:"TOKEN",price:0,priceChange:0,rank:0,symbol:"TOKEN",totalVolume:0},is=async(e,s,t,a,o)=>{const r=await(async(e,s)=>{try{var t;const a=await e.findByAddress(s),o=null===a||void 0===a||null===(t=a.extensions)||void 0===t?void 0:t.coingeckoId;return await A.util.fetchCGK(o)}catch(a){return ls}})(s,t);let n=Number(y.utils.undecimalize(o,a));return e&&(n=Number(n)*r.price),n},cs=e=>{let{inUSD:s=!0,accounts:t}=e;const{tokenProvider:a,getDecimals:r}=(0,A.useMint)(),[n,l]=(0,o.useState)(0),i=(0,o.useCallback)((async()=>{if(!t)return l(0);let e=0;for(const A of t){const{mint:t,amount:o}=A,n=await r(t);e+=await is(s,a,t,n,o)}return l(e)}),[t,r,a,s]);return(0,o.useEffect)((()=>{i()}),[i]),n},ds=e=>{const[s,t]=(0,o.useState)(void 0),{getDecimals:a}=(0,A.useMint)(),r=(0,o.useCallback)((async()=>{try{const s=await a(e);return t(s)}catch(s){return t(void 0)}}),[e,a]);return(0,o.useEffect)((()=>{r()}),[r]),s},us=e=>{let{account:s}=e;const[t,a]=(0,o.useState)(0),[r,l]=(0,o.useState)(0),{mint:c,amount:d}=s,{tokenProvider:u}=(0,A.useMint)(),p=ds(c)||0,h=(0,o.useCallback)((async()=>{const e=await is(!1,u,c,p,d),s=await is(!0,u,c,p,d);l(e),a(s)}),[d,p,c,u]);return(0,o.useEffect)((()=>{h()}),[h]),(0,i.jsxs)(n.Row,{align:"middle",children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(R.gj,{mintAddress:c}),(0,i.jsxs)(n.Space,{size:4,children:[A.util.numeric(r).format("0,0.[000]"),(0,i.jsx)(n.Typography.Text,{type:"secondary",children:(0,i.jsx)(R.Z$,{mintAddress:c})})]})]})}),(0,i.jsx)(n.Col,{children:(0,i.jsxs)(n.Typography.Text,{type:"secondary",children:["$",A.util.numeric(t).format("0,0.[000]")]})})]})},ps=e=>{let{daoAddress:s}=e;const[t,a]=(0,o.useState)(),r=(0,K.K)(s),l=cs({accounts:t||[]}),c=(0,o.useMemo)((()=>null===r||void 0===r?void 0:r.master.toBase58()),[null===r||void 0===r?void 0:r.master]),d=(0,o.useCallback)((async()=>{if(!c||null===r||void 0===r||!r.master)return;const{splt:{connection:e,spltProgramId:s,parseAccountData:t,parseMintData:A}}=window.sentre,{value:o}=await e.getTokenAccountsByOwner(r.master,{programId:s}),n=o.map((e=>{let{account:s}=e;return t(s.data)})),l=await(0,ns.getMultipleAccounts)(e,n.map((e=>new w.PublicKey(e.mint)))),i=n.filter(((e,s)=>{const t=l[s];if(!t)return!1;const a=A(t.account.data);return!(0===a.decimals&&1===Number(a.supply.toString()))}));return a(i)}),[null===r||void 0===r?void 0:r.master,c]);return(0,o.useEffect)((()=>{d()}),[d]),(0,i.jsx)(n.Spin,{spinning:!t,tip:"Loading...",children:(0,i.jsxs)(n.Row,{gutter:[8,8],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{align:"middle",children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Space,{align:"baseline",children:(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Treasury Balance"})})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Typography.Title,{level:4,children:A.util.numeric(l).format("$0,0.[000]")})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Row,{gutter:[24,24],className:"scrollbar",style:{height:124},children:0!==(null===t||void 0===t?void 0:t.length)?null===t||void 0===t?void 0:t.map((e=>(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(us,{account:e})},e.mint))):(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Empty,{description:"No Tokens"})})})})]})})};var hs=t(17134),gs=t(48302);const ms=e=>{let{daoAddress:s}=e;const[t,a]=(0,o.useState)(!1);return(0,i.jsxs)(n.Row,{justify:"center",gutter:[16,16],style:{padding:12},children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{size:8,children:[(0,i.jsx)(l.Z,{name:"information-circle-outline",style:{color:"#f9deb0"}}),(0,i.jsx)(n.Typography.Text,{children:"You can deposit to this address"})]})}),(0,i.jsx)(n.Col,{style:{background:"#f4f4f5",paddingTop:8},children:(0,i.jsx)(hs.ZP,{value:s,size:110,bgColor:"#ffffff",fgColor:"#1f1f1f"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(gs.Z,{label:"DAO Master Address:",value:(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Typography.Text,{className:"t-16",children:A.util.shortenAddress(s)}),(0,i.jsx)(n.Tooltip,{title:"Copied",visible:t,children:(0,i.jsx)(Ue(),{text:s,onCopy:async()=>{a(!0),await A.util.asyncWait(1500),a(!1)},children:(0,i.jsx)(n.Typography.Text,{style:{cursor:"pointer"},className:"t-16",children:(0,i.jsx)(l.Z,{name:"copy-outline"})})})})]})})})]})},xs=e=>{let{daoAddress:s}=e;const t=(0,a.useSelector)((e=>e.daos)),A=(0,o.useMemo)((()=>{const{master:e}=t[s]||{};return(null===e||void 0===e?void 0:e.toBase58())||""}),[t,s]);return(0,i.jsx)(n.Card,{bordered:!1,style:{height:"100%"},children:(0,i.jsxs)(n.Tabs,{className:"dao-assets",tabBarExtraContent:(0,i.jsx)(n.Tooltip,{placement:"bottomLeft",overlayClassName:"info-member treasury-addr",title:(0,i.jsx)(ms,{daoAddress:A}),children:(0,i.jsx)(n.Button,{size:"small",children:"Master Wallet"})}),children:[(0,i.jsx)(n.Tabs.TabPane,{tab:"Treasury",children:(0,i.jsx)(ps,{daoAddress:s})},"treasury"),(0,i.jsx)(n.Tabs.TabPane,{tab:"NFTs",children:(0,i.jsx)(os,{daoAddress:s})},"nft")]})})},{manifest:{appId:Cs}}=me.Z,ys=e=>{let{daoAddress:s}=e;const t=(0,a.useSelector)((e=>e.daos)),A=(0,r.useHistory)(),{daoName:l}=(0,r.useParams)(),{daoNameUrl:c}=(0,q.Z)(s),d=(0,o.useCallback)((()=>{if(void 0!==c)return t[s]&&l===c?void 0:(console.log("checkValidDaoAddress"),A.push(`/app/${Cs}/page-not-found`))}),[s,l,c,t,A]);return(0,o.useEffect)((()=>{d()}),[d]),(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{xs:24,md:16,children:(0,i.jsx)(Ke,{daoAddress:s})}),(0,i.jsx)(n.Col,{xs:24,md:8,children:(0,i.jsx)(xs,{daoAddress:s})}),(0,i.jsx)(As,{daoAddress:s})]})},{manifest:{appId:fs}}=me.Z,js=()=>{const e=(0,r.useHistory)(),{daoAddress:s}=(0,r.useParams)(),t=(0,a.useSelector)((e=>e.daos[s])),{isPublic:A}=t||{},{validMember:c,checking:d}=Y(s);return(0,o.useEffect)((()=>{if(!d)return c||A?void 0:(window.notify({type:"warning",description:"You are not a member of this DAO"}),e.push(`/app/${fs}/dao`))}),[d,s,e,A,c]),(0,i.jsxs)(n.Row,{gutter:[24,24],justify:"center",align:"middle",children:[(0,i.jsx)(n.Col,{xs:24,lg:18,children:(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Button,{icon:(0,i.jsx)(l.Z,{name:"arrow-back-outline"}),type:"text",onClick:()=>e.push(`/app/${fs}/dao`),style:{marginLeft:-8},children:"Back"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(ys,{daoAddress:s})})]})}),(0,i.jsx)(n.Col,{xs:24,lg:18,children:(0,i.jsx)(Qe,{daoAddress:s})})]})},bs=e=>{let{value:s=g.ConsensusMechanisms.StakedTokenCounter,onChange:t=(()=>{})}=e;const{ui:{infix:a}}=(0,A.useUI)(),o="xs"===a?12:void 0;return(0,i.jsxs)(n.Row,{gutter:[8,8],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Typography.Text,{children:"Voting Mechanism"}),(0,i.jsx)(n.Popover,{overlayStyle:{maxWidth:300},trigger:"click",content:(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:5,children:"What are Voting Mechanisms?"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",children:[(0,i.jsxs)(n.Typography.Text,{children:[(0,i.jsx)("strong",{children:"Stake (Token) to Vote:"})," The power of a vote is only counted based on the number of staked tokens."]}),(0,i.jsxs)(n.Typography.Text,{children:[(0,i.jsx)("strong",{children:"Lock (Token) to Vote:"})," The power of a vote is the product of the number of staked tokens and the lock time in seconds."]})]})})]}),children:(0,i.jsx)(n.Button,{type:"text",size:"small",icon:(0,i.jsx)(l.Z,{name:"information-circle-outline"})})})]})}),(0,i.jsx)(n.Col,{span:o,children:(0,i.jsx)(n.Button,{className:x()(s,g.ConsensusMechanisms.StakedTokenCounter)?"":"btn-unselect",onClick:()=>t(g.ConsensusMechanisms.StakedTokenCounter),block:!0,children:"Stake to Vote"})}),(0,i.jsx)(n.Col,{span:o,children:(0,i.jsx)(n.Button,{className:x()(s,g.ConsensusMechanisms.LockedTokenCounter)?"":"btn-unselect",onClick:()=>t(g.ConsensusMechanisms.LockedTokenCounter),block:!0,children:"Lock to Vote"})})]})},ws=e=>{let{value:s=g.ConsensusQuorums.Half,onChange:t=(()=>{})}=e;const{ui:{infix:a}}=(0,A.useUI)(),o="xs"===a?8:void 0;return(0,i.jsxs)(n.Row,{gutter:[12,12],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Text,{children:"Consensus Quorum"})}),(0,i.jsx)(n.Col,{span:o,children:(0,i.jsx)(n.Button,{className:x()(s,g.ConsensusQuorums.OneThird)?"":"btn-unselect",onClick:()=>t(g.ConsensusQuorums.OneThird),block:!0,children:"1/3"})}),(0,i.jsx)(n.Col,{span:o,children:(0,i.jsx)(n.Button,{className:x()(s,g.ConsensusQuorums.Half)?"":"btn-unselect",onClick:()=>t(g.ConsensusQuorums.Half),block:!0,children:"1/2"})}),(0,i.jsx)(n.Col,{span:o,children:(0,i.jsx)(n.Button,{className:x()(s,g.ConsensusQuorums.TwoThird)?"":"btn-unselect",onClick:()=>t(g.ConsensusQuorums.TwoThird),block:!0,children:"2/3"})})]})};var Is=t(4550),vs=t.n(Is);const Ss=e=>{let{value:s,onChange:t}=e;return(0,i.jsxs)(n.Row,{gutter:[8,8],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Text,{children:"Proposal Duration"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[12,12],children:[(0,i.jsx)(n.Col,{span:12,children:(0,i.jsx)(n.DatePicker,{placeholder:"Start Date",value:vs()(s[0]),onChange:e=>t([(null===e||void 0===e?void 0:e.valueOf())||s[0],s[1]]),showTime:!0,style:{width:"100%"}})}),(0,i.jsx)(n.Col,{span:12,children:(0,i.jsx)(n.DatePicker,{placeholder:"End Date",value:vs()(s[1]),onChange:e=>t([s[0],(null===e||void 0===e?void 0:e.valueOf())||s[1]]),showTime:!0,style:{width:"100%"}})})]})})]})},Bs=e=>{let{daoAddress:s}=e;const t=(0,a.useSelector)((e=>e.daos)),{regime:o,mint:r,isNft:l}=t[s]||{regime:{},mint:w.SystemProgram.programId};return(0,i.jsxs)(n.Row,{gutter:[36,16],children:[(0,i.jsx)(n.Col,{xs:12,md:5,children:(0,i.jsx)(h,{title:"DAO Address",value:A.util.shortenAddress(s)})}),(0,i.jsx)(n.Col,{xs:12,md:5,children:(0,i.jsx)(h,{title:"Vote By",value:l?(0,i.jsx)(F,{mintAddress:r.toBase58()}):(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(R.gj,{mintAddress:r.toBase58()}),(0,i.jsx)(R.Z$,{mintAddress:r.toBase58()})]})})}),(0,i.jsx)(n.Col,{xs:12,md:5,children:(0,i.jsx)(h,{title:"Members",value:(0,i.jsx)(X,{daoAddress:s})})}),(0,i.jsx)(n.Col,{xs:12,md:5,children:(0,i.jsx)(h,{title:"Regime",value:(0,i.jsx)(C,{regime:o})})})]})};var Es=t(97429).Buffer;const{sol:{interDao:Ts,taxman:ks,fee:Ds},manifest:{appId:Fs}}=me.Z,Rs=Number(new Date),Gs=864e5,Ms=[Rs+Gs,Rs+1296e6],Ns=()=>{const e=(0,r.useHistory)(),s=(0,a.useDispatch)(),{daoAddress:t}=(0,r.useParams)(),l=(0,a.useSelector)((e=>e.daos)),c=(0,a.useSelector)((e=>e.template)),[d,u]=(0,o.useState)(g.ConsensusMechanisms.StakedTokenCounter),[p,h]=(0,o.useState)(g.ConsensusQuorums.Half),[m,x]=(0,o.useState)([...Ms]),[C,y]=(0,o.useState)(""),[f,j]=(0,o.useState)(""),[b,w]=(0,o.useState)(!1),{metaData:I}=(0,L.Z)(t),v=!C||!f,S="multisig-dao"===(null===I||void 0===I?void 0:I.daoType),B=(0,o.useMemo)((()=>({title:C,description:f,templateName:c.templateName||"",templateData:c.data})),[f,c,C]),E=(0,o.useCallback)((async()=>{const e=new qe.Z,s=await e.set(B),{multihash:{digest:t}}=_e.k0.parse(s);return t}),[B]),T=(0,o.useCallback)((async()=>{const{authority:a}=l[t];if(c.tx)try{w(!0);const o=await E(),r=Es.from(o),{programId:n,data:l,accounts:i}=c.tx,u=Object.values(i),{txId:h,proposalAddress:g}=await Ts.initializeProposal(t,n.toBase58(),l,u.map((e=>{let{pubkey:s}=e;return s})),u.map((e=>{let{isSigner:s}=e;return s})),u.map((e=>{let{isWritable:s}=e;return s})),u.map((e=>{let{isMaster:s}=e;return s})),Math.floor(m[0]/1e3),Math.floor(m[1]/1e3),r,d,p,{revenue:new(M())(Ds),revenuemanAddress:a.toBase58(),tax:new(M())(Ds),taxmanAddress:ks});return window.notify({type:"success",description:"Create a new proposal successfully. Click here to view details.",onClick:()=>window.open(A.util.explorer(h),"_blank")}),s((0,Le.$D)()),e.push(`/app/${Fs}/dao/${t}/proposal/${g}`)}catch(o){return window.notify({type:"error",description:o.message})}finally{return w(!1)}}),[d,p,t,l,s,m,e,c.tx,E]);return(0,o.useEffect)((()=>{if(!c.tx)return e.push(`/app/${Fs}/dao/${t}`)}),[t,e,c.tx]),(0,i.jsx)(n.Row,{gutter:[24,24],justify:"center",children:(0,i.jsx)(n.Col,{xs:24,md:14,children:(0,i.jsx)(n.Card,{bordered:!1,children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:1,children:"Input Proposal Information"})}),(0,i.jsx)(n.Col,{span:24}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Bs,{daoAddress:t})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Divider,{className:"proposal-initialize"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsx)(n.Typography.Text,{children:"Title"}),(0,i.jsx)(n.Input,{value:C,placeholder:"A short summary of your proposal.",className:"border-less",onChange:e=>y(e.target.value)})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsx)(n.Typography.Text,{children:"Description"}),(0,i.jsx)(n.Input.TextArea,{placeholder:"More detail about your proposal...",name:"description",className:"border-less",value:f,onChange:e=>j(e.target.value)})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Ss,{value:m,onChange:x})}),!S&&(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(bs,{value:d,onChange:u})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(ws,{value:p,onChange:h})}),(0,i.jsx)(n.Col,{span:24}),(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Button,{type:"text",onClick:()=>e.push(`/app/${Fs}/dao/${t}`),size:"large",children:"Cancel"})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{onClick:T,loading:b,type:"primary",size:"large",disabled:v,children:"Add New Proposal"})})]})})})})},Ps=["Choose Type of DAO","Input DAO Information","Set The Rule","Review"],Zs=e=>{let{step:s}=e;return(0,i.jsxs)(n.Space,{direction:"vertical",size:12,children:[(0,i.jsx)(n.Typography.Title,{level:1,children:Ps[s]}),(0,i.jsx)(n.Progress,{className:"create-progress",percent:25*s+25,steps:4,showInfo:!1})]})};var Os=t(19289);const Ls={daoName:"",description:"",image:"",optionals:[],daoType:"flexible-dao",members:[],distributorAddress:""},Vs={mintAddress:"",supply:new(M())(0),metadata:Ls,dao:void 0,regime:g.DaoRegimes.Dictatorial,isPublic:!0,isNft:!1};let zs;!function(e){e[e.ChooseType=0]="ChooseType",e[e.InputDetails=1]="InputDetails",e[e.SetRule=2]="SetRule",e[e.Review=3]="Review"}(zs||(zs={}));const Qs="createDao",Ys={step:zs.ChooseType,data:{...Vs}},Us=(0,Os.createAsyncThunk)(`${Qs}/submitStepChooseType`,(async(e,s)=>{let{daoType:t}=e,{getState:a}=s;const{createDao:A}=a(),{metadata:o}=A.data;return{step:zs.InputDetails,data:{...A.data,metadata:{...o,daoType:t}}}})),Ws=(0,Os.createAsyncThunk)(`${Qs}/submitStepDaoDetail`,(async(e,s)=>{let{metadata:t}=e,{getState:a}=s;const{createDao:A}=a();return{step:zs.SetRule,data:{...A.data,metadata:t}}})),Hs=(0,Os.createAsyncThunk)(`${Qs}/submitStepSetRule`,(async(e,s)=>{let{rule:t}=e,{getState:a}=s;const{createDao:A}=a();if(!t)return A;return{step:zs.Review,data:{...A.data,...t}}})),Js=(0,Os.createAsyncThunk)(`${Qs}/prevStep`,(async(e,s)=>{let{getState:t}=s;const{createDao:a}=t();let A=a.step;switch(A){case zs.Review:A=zs.SetRule;break;case zs.SetRule:A=zs.InputDetails;break;case zs.InputDetails:default:A=zs.ChooseType}return{step:A,data:{...a.data}}})),Ks=(0,Os.createAsyncThunk)(`${Qs}/clearCreateDao`,(async()=>({step:zs.ChooseType,data:{...Vs}}))),Xs=(0,Os.createSlice)({name:Qs,initialState:Ys,reducers:{},extraReducers:e=>{e.addCase(Us.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(Ws.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(Hs.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(Js.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(Ks.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)}))}}).reducer,qs=[{key:"flexible-dao",label:"Flexible DAO",description:"The Flexible DAO has 3 regimes that allow you to create a DAO customized for your individual requirements, community structure, and governance token setup."},{key:"multisig-dao",label:"MultiSig DAO (Coming Soon)",description:"The Multisig DAO allows you to create an organization for your team members with Autonomous regime and jointly own, manage shared assets such as treasury accounts, NFTs or mints.",disabled:!0}],{manifest:{appId:_s}}=me.Z,$s=()=>{const[e,s]=(0,o.useState)("flexible-dao"),t=(0,r.useHistory)(),A=(0,a.useDispatch)(),l=s=>e!==s?{borderColor:"transparent"}:{};return(0,i.jsxs)(n.Row,{gutter:[32,32],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Radio.Group,{defaultValue:e,onChange:e=>s(e.target.value),className:"btn-radio-card",children:(0,i.jsx)(n.Row,{gutter:[24,24],children:qs.map((s=>{let{key:t,label:a,description:A,disabled:o}=s;return(0,i.jsx)(n.Col,{xs:24,md:12,children:(0,i.jsx)(n.Radio.Button,{value:t,style:{border:"none"},disabled:o,children:(0,i.jsx)(n.Card,{style:{...l(t)},className:`group-btn-card ${t} ${e===t?"active":""}`,bordered:!1,children:(0,i.jsxs)(n.Row,{gutter:[12,12],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:4,children:a})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Text,{type:"secondary",children:A})})]})})})},t)}))})})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Button,{type:"text",onClick:()=>t.push(`/app/${_s}/dao`),size:"large",children:"Cancel"})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{type:"primary",onClick:()=>A(Us({daoType:e})),size:"large",children:"Continue"})})]})})]})},et=e=>{var s;let{metadata:t,setMetadata:a}=e;const A=async e=>{const s={...t,image:e};return a(s)},o=e=>a({...t,[e.target.name]:e.target.value});return(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsx)(n.Typography.Text,{children:"DAO Name"}),(0,i.jsx)(n.Input,{placeholder:"Input DAO name",onChange:o,name:"daoName",className:"border-less",value:t.daoName})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsx)(n.Typography.Text,{children:"DAO Description"}),(0,i.jsx)(n.Input.TextArea,{placeholder:"Input DAO description",name:"description",onChange:o,className:"border-less",value:t.description})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",children:[(0,i.jsx)(n.Typography.Text,{children:"Avatar"}),t.image?(0,i.jsxs)(n.Card,{className:"img-card-preview-upload",bodyStyle:{padding:0,position:"relative",height:"100%"},children:[(0,i.jsx)(n.Image,{src:(null===(s=t.image)||void 0===s?void 0:s.toString())||"",preview:!1}),(0,i.jsx)(l.Z,{className:"ico-action-upload",name:"trash-outline",onClick:()=>a({...t,image:""})})]}):(0,i.jsx)(n.Upload,{className:"interdao-upload-metadata "+(t.image?"uploaded":""),accept:"image/png,image/jpg,image/webp",name:"avatar",listType:"picture-card",maxCount:1,onChange:e=>{const{fileList:s}=e,t=s[0].originFileObj;(0,U.sT)(t,A)},onRemove:()=>(a({...t,image:""}),!0),children:(0,i.jsxs)(n.Space,{direction:"vertical",size:0,children:[(0,i.jsx)(n.Typography.Text,{style:{fontSize:24},children:(0,i.jsx)(l.Z,{name:"cloud-upload-outline"})}),(0,i.jsx)(n.Typography.Text,{type:"secondary",style:{fontSize:10},children:"Support JPG, PNG"})]})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsx)(n.Typography.Text,{children:"Social Media (Optional)"}),(0,i.jsxs)(n.Row,{gutter:[8,8],children:[t.optionals.map(((e,s)=>(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[12,12],children:[(0,i.jsx)(n.Col,{span:22,children:(0,i.jsx)(n.Input,{placeholder:"Input link",onChange:e=>((e,s)=>{const A=[...t.optionals];return A[s]=e.target.value,a({...t,optionals:A})})(e,s),className:"border-less",value:e})}),(0,i.jsx)(n.Col,{span:2,children:(0,i.jsx)(n.Button,{type:"text",icon:(0,i.jsx)(l.Z,{name:"trash-outline"}),onClick:()=>(e=>{const s=[...t.optionals];return s.splice(e,1),a({...t,optionals:s})})(s)})})]})},s))),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Button,{type:"dashed",icon:(0,i.jsx)(l.Z,{name:"add-outline"}),onClick:()=>{const e=[...t.optionals];return e.push(""),a({...t,optionals:e})},children:"Add"})})]})]})})]})},st=()=>{const e=(0,a.useSelector)((e=>e.createDao.data.metadata)),[s,t]=(0,o.useState)(e),A=(0,a.useDispatch)(),r=(0,o.useMemo)((()=>{const{optionals:e}=s;if(!e.length)return!0;for(const s of e)if(!(0,U.b3)(s))return!1;return!0}),[s]),l=(0,o.useMemo)((()=>{const{daoName:e,description:t,image:a}=s;return!e||!t||!a||!r}),[s,r]);return(0,i.jsxs)(n.Row,{gutter:[32,32],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(et,{metadata:s,setMetadata:t})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Button,{type:"text",size:"large",onClick:()=>A(Js()),children:"Back"})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{type:"primary",size:"large",disabled:l,onClick:()=>A(Ws({metadata:s})),children:"Continue"})})]})})]})},tt=()=>{const e=(0,a.useSelector)((e=>e.createDao.data.regime)),s=(0,a.useSelector)((e=>e.createDao.data.isNft)),t=(0,a.useSelector)((e=>e.createDao.data.mintAddress)),o=(0,a.useSelector)((e=>e.createDao.data.supply)),r=(0,a.useSelector)((e=>e.createDao.data.metadata.daoName)),l=(0,a.useSelector)((e=>e.createDao.data.metadata.description)),c=(0,a.useSelector)((e=>e.createDao.data.metadata.image)),{ui:{width:d}}=(0,A.useUI)(),u=d<768?"100%":((d>992?d/1.5:d)-6-96)/1.777777/2+3;return(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{xs:24,md:12,children:(0,i.jsxs)(n.Space,{direction:"vertical",size:24,style:{width:"100%"},children:[(0,i.jsxs)(n.Space,{direction:"vertical",children:[(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Name of DAO"}),(0,i.jsx)(n.Typography.Title,{level:1,children:r})]}),(0,i.jsxs)(n.Space,{direction:"vertical",style:{width:"100%"},children:[(0,i.jsx)(n.Typography.Text,{children:"DAO Regime"}),(0,i.jsx)(Ae,{regime:e})]})]})}),(0,i.jsx)(n.Col,{xs:24,md:12,children:(0,i.jsxs)(n.Space,{direction:"vertical",size:24,children:[(0,i.jsxs)(n.Space,{direction:"vertical",children:[(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Vote By"}),s?(0,i.jsx)(F,{mintAddress:t,size:48}):(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(R.gj,{mintAddress:t,size:48}),(0,i.jsx)(n.Typography.Title,{level:1,children:(0,i.jsx)(R.Z$,{mintAddress:t})})]})]}),(0,i.jsxs)(n.Space,{direction:"vertical",className:"dao-logo-img",children:[(0,i.jsx)(n.Typography.Text,{children:"DAO Logo"}),(0,i.jsx)(n.Image,{style:{width:u,height:u},src:null===c||void 0===c?void 0:c.toString(),preview:!1})]})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",children:[(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Total Power"}),(0,i.jsxs)(n.Space,{direction:"horizontal",children:[(0,i.jsx)(n.Typography.Title,{level:1,children:A.util.numeric(null===o||void 0===o?void 0:o.toString()).format("0,0.[00]")}),(0,i.jsx)(n.Typography.Title,{level:1,children:(0,i.jsx)(R.Z$,{mintAddress:t})})]})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{direction:"vertical",children:[(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Description"}),(0,i.jsx)(n.Typography.Text,{children:l})]})})]})};var at=t(29863);const At=()=>{const e=(0,a.useSelector)((e=>e.createDao.data.regime)),s=(0,a.useSelector)((e=>e.createDao.data.isPublic)),t=(0,a.useSelector)((e=>e.createDao.data.metadata.daoName)),o=(0,a.useSelector)((e=>e.createDao.data.metadata.description)),r=(0,a.useSelector)((e=>e.createDao.data.metadata.image)),l=(0,a.useSelector)((e=>e.createDao.data.metadata.members)),{ui:{width:c}}=(0,A.useUI)(),d=c<768?"100%":((c>992?c/1.5:c)-6-96)/1.777777/2+3;return(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{justify:"space-between",children:[(0,i.jsx)(n.Col,{children:(0,i.jsx)(at.Z,{label:"Name of DAO",value:(0,i.jsx)(n.Typography.Title,{level:1,children:t})})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(at.Z,{label:"DAO Privacy",value:(0,i.jsx)(n.Typography.Title,{level:1,children:s?"Public":"Member"})})})]})}),(0,i.jsx)(n.Col,{xs:24,md:12,children:(0,i.jsx)(at.Z,{label:"DAO Regime",value:(0,i.jsx)(Ae,{regime:e})})}),(0,i.jsx)(n.Col,{xs:24,md:12,children:(0,i.jsx)(at.Z,{label:"DAO Regime",value:(0,i.jsx)(n.Image,{style:{width:d,height:d},src:null===r||void 0===r?void 0:r.toString(),preview:!1})})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[8,8],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Typography.Text,{type:"secondary",children:[l.length," members"]})}),l.map((e=>{let{walletAddress:s,name:t}=e;return(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Typography.Title,{level:4,children:t}),(0,i.jsx)(n.Typography.Title,{level:4,type:"secondary",children:s})]})},s)}))]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(at.Z,{label:"Description",value:(0,i.jsx)(n.Typography.Paragraph,{style:{margin:0},children:o})})})]})};var ot=t(97429).Buffer;const{sol:{interDao:rt},manifest:{appId:nt}}=me.Z,lt=()=>{const[e,s]=(0,o.useState)(!1),t=(0,a.useSelector)((e=>e.createDao.data)),{mintAddress:n}=t,l=ds(n)||0,i=(0,ue.Z)(),c=(0,r.useHistory)(),d=(0,o.useCallback)((async()=>{try{s(!0);const{mintAddress:e,supply:a,regime:o,isPublic:r,isNft:n,metadata:d}=t,u=new qe.Z,p=await u.set(d),{multihash:{digest:h}}=_e.k0.parse(p),g=ot.from(h),m=a.mul(new(M())(10).pow(new(M())(l))),{txId:x,daoAddress:C}=await rt.initializeDao(e,m,g,void 0,o,n,r),y={...d,cid:p};return await i.setItem(C,y),window.notify({type:"success",description:"A new DAO is created. Click here to view details.",onClick:()=>window.open(A.util.explorer(x),"_blank")}),c.push(`/app/${nt}/dao/${C}`)}catch(e){window.notify({type:"error",description:e.message})}finally{s(!1)}}),[t,l,i,c]);return{createFlexDAO:d,loading:e}};var it=t(46029);const{sol:{utility:ct}}=me.Z;const dt=class{constructor(e){this._mint=void 0,this.getProvider=async()=>{const e=window.sentre.wallet,s=await e.getAddress();return(0,it.getAnchorProvider)(A.rpc,s,e)},this.createNewTokenAndMintTo=async e=>{const s=new V.web3.Keypair,t=await this.getProvider();return await(0,it.createMintAndMintTo)(t,{mint:s,amount:new V.BN(e),decimals:0}),this._mint=s.publicKey,s.publicKey},this.isValidMint=()=>this._mint.toBase58()!==y.DEFAULT_EMPTY_ADDRESS,this.mintToAccount=async(e,s)=>{if(!this.isValidMint())throw new Error("Please create mint first!");await ct.safeMintTo({amount:new V.BN(s),tokenAddress:this._mint.toBase58(),dstWalletAddress:e})},this.getMintAddress=()=>this.isValidMint()?this._mint.toBase58():"",this._mint=new w.PublicKey(e)}};var ut=t(97429).Buffer;const{sol:{interDao:pt},manifest:{appId:ht}}=me.Z,gt=()=>{const[e,s]=(0,o.useState)(!1),t=(0,a.useSelector)((e=>e.createDao.data)),n=(0,a.useSelector)((e=>e.createDao.data.metadata)),l=(0,ue.Z)(),i=(0,r.useHistory)(),{wallet:{address:c}}=(0,A.useWallet)(),d=(0,o.useCallback)((async()=>{const{members:e}=n,s=new dt(y.DEFAULT_EMPTY_ADDRESS);return(await s.createNewTokenAndMintTo(e.length)).toBase58()}),[n]),u=(0,o.useCallback)((async e=>{const{members:s,daoType:t}=n;if("flexible-dao"===t)return"";const a=new as,A=s.filter((e=>{let{walletAddress:s}=e;return s!==c})).map((e=>{let{walletAddress:s}=e;return y.account.fromAddress(s)}));return await a.createDistributor(A,e)}),[n,c]),p=(0,o.useCallback)((async()=>{try{s(!0);const{regime:e,isPublic:a,isNft:o}=t,r=await d(),c=await u(r),p=new qe.Z,h=await p.set({...n,distributorAddress:c}),{multihash:{digest:g}}=_e.k0.parse(h),m=ut.from(g),{members:x}=n,C=new(M())(x.length),{txId:y,daoAddress:f}=await pt.initializeDao(r,C,m,void 0,e,o,a);return await l.setItem(f,{...n,distributorAddress:c,cid:h}),window.notify({type:"success",description:"A new DAO is created. Click here to view details.",onClick:()=>window.open(A.util.explorer(y),"_blank")}),i.push(`/app/${ht}/dao/${f}`)}catch(e){window.notify({type:"error",description:e.message})}finally{s(!1)}}),[t,d,u,n,l,i]);return{createMultisigDao:p,loading:e}},mt=()=>{const{createFlexDAO:e,loading:s}=lt();return(0,i.jsx)(n.Button,{onClick:e,type:"primary",size:"large",loading:s,children:"Confirm"})},xt=()=>{const{createMultisigDao:e,loading:s}=gt();return(0,i.jsx)(n.Button,{onClick:e,type:"primary",size:"large",loading:s,children:"Confirm"})},Ct=()=>"flexible-dao"===(0,a.useSelector)((e=>e.createDao.data.metadata.daoType))?(0,i.jsx)(mt,{}):(0,i.jsx)(xt,{}),yt=()=>{const e=(0,a.useSelector)((e=>e.createDao.data.metadata.daoType)),s=(0,a.useDispatch)();return(0,i.jsxs)(n.Row,{gutter:[32,32],children:[(0,i.jsx)(n.Col,{span:24,children:"flexible-dao"===e?(0,i.jsx)(tt,{}):(0,i.jsx)(At,{})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Button,{type:"text",size:"large",onClick:()=>s(Js()),children:"Back"})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(Ct,{})})]})})]})},ft=e=>{let{mintAddress:s,onSelect:t,isSelected:a}=e;const{ui:{width:r}}=(0,A.useUI)(),c=(0,o.useMemo)((()=>r<768?150:198),[r]),{nftInfo:d,loading:u}=k(s);return(0,i.jsx)(n.Card,{bordered:!1,style:{cursor:"pointer",textAlign:"center"},bodyStyle:{padding:0},loading:u,onClick:()=>t(s),children:(0,i.jsxs)(n.Row,{children:[a&&(0,i.jsx)(l.Z,{name:"checkbox",style:{position:"absolute",top:-1,right:-1,fontSize:20,zIndex:1}}),(0,i.jsx)(n.Col,{span:24,style:{textAlign:"center",width:c},children:(0,i.jsx)(n.Image,{src:(null===d||void 0===d?void 0:d.image)||D,preview:!1,style:{borderRadius:4},width:c,height:c})}),(0,i.jsx)(n.Col,{span:24,style:{textAlign:"center",paddingTop:"8px"},children:(0,i.jsx)(n.Typography.Text,{children:null===d||void 0===d?void 0:d.name})})]})})},jt=e=>{let{onSearch:s,loading:t=!1}=e;return(0,i.jsx)(n.Input,{prefix:(0,i.jsx)(n.Button,{type:"text",size:"small",icon:t?(0,i.jsx)(n.Spin,{indicator:(0,i.jsx)(se.Z,{style:{fontSize:14}})}):(0,i.jsx)(l.Z,{name:"search-outline"})}),placeholder:"Search by collection address",style:{width:"100%"},onChange:e=>s(e.target.value)})},bt=e=>{let{mintAddress:s,openNftModal:t}=e;const{nftInfo:a,loading:A}=k(s);return(0,i.jsx)(n.Card,{bordered:!1,bodyStyle:{padding:0},loading:A,className:"card-nft-image-only",onClick:()=>t(!0),children:(0,i.jsx)(n.Image,{src:(null===a||void 0===a?void 0:a.image)||D,preview:!1,style:{borderRadius:4},width:88,height:88,className:"nft-image"})})},wt=e=>{let{onSelect:s,mintAddress:t}=e;const[a,r]=(0,o.useState)(!1),[l,c]=(0,o.useState)(),[d,u]=(0,o.useState)(""),[p,h]=(0,o.useState)(!1),{wallet:{address:g}}=(0,A.useWallet)(),m=(0,o.useCallback)((async()=>{let e={};if(!y.account.isAddress(d))return e;let s=await T(d);return s.data?e[s.data.mint]=[s.data]:e={},e}),[d]),x=e=>{s(e),C()},C=()=>{u(""),r(!1)},f=(0,o.useCallback)((async()=>{h(!0);let e={};try{e=d.length>0?await m():await(async e=>{const s=e,t=await I.findDataByOwner(B,s);let a={};return t.forEach((e=>{e.collection&&(a[e.collection.key]=a[e.collection.key]?[...a[e.collection.key],e]:[e])})),a})(g)}catch(s){return window.notify({type:"error",description:s.message})}finally{h(!1)}return c(e)}),[m,d,g]);return(0,o.useEffect)((()=>{f()}),[f]),(0,i.jsxs)(o.Fragment,{children:[t?(0,i.jsx)(bt,{openNftModal:r,mintAddress:t}):(0,i.jsx)(n.Card,{className:"btn-select-nft",style:{background:"url(data:image/png;base64,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)"},bodyStyle:{padding:10},onClick:()=>r(!0),children:(0,i.jsxs)(n.Space,{direction:"vertical",style:{width:"100%"},align:"center",children:[(0,i.jsx)(n.Typography.Text,{style:{color:"#f9deb0"},children:"Select"}),(0,i.jsx)(n.Typography.Text,{style:{color:"#f9deb0"},children:"a NFT"}),(0,i.jsx)(n.Typography.Text,{style:{color:"#f9deb0"},children:"collection"})]})}),(0,i.jsx)(n.Modal,{className:"modal-nft-selection",visible:a,footer:!1,onCancel:C,children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:4,children:"Select a NFT collection"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(jt,{loading:p,searchText:d,onSearch:e=>u(e)})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Row,{gutter:[24,24],className:"scrollbar",style:{height:500},children:l&&Object.keys(l).length>0?Object.keys(l).map((e=>(0,i.jsx)(n.Col,{xs:12,md:8,children:(0,i.jsx)(ft,{mintAddress:e,onSelect:x})},e))):(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Empty,{})})})})]})})]})},It=e=>{let{address:s}=e;const[t,a]=(0,o.useState)(!1);return(0,i.jsxs)(n.Space,{children:[(0,i.jsxs)(n.Typography.Text,{className:"t-16",children:["NFT collection address: ",A.util.shortenAddress(s)]}),(0,i.jsx)(n.Tooltip,{title:"Copied",visible:t,children:(0,i.jsx)(Ue(),{text:s,onCopy:async()=>{a(!0),await A.util.asyncWait(1500),a(!1)},children:(0,i.jsx)(n.Typography.Text,{style:{cursor:"pointer"},className:"t-16",children:(0,i.jsx)(l.Z,{name:"copy-outline"})})})})]})},vt=e=>{let{mintAddress:s,onMintAddressChange:t}=e;return(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{children:(0,i.jsx)(wt,{mintAddress:s,onSelect:t})}),(0,i.jsx)(n.Col,{flex:1,children:(0,i.jsx)(n.Row,{align:"bottom",style:{height:"100%"},children:(0,i.jsx)(n.Col,{span:24,children:s&&(0,i.jsx)(It,{address:s})})})})]})},St=e=>{let{mintAddress:s,onMintAddressChange:t}=e;return(0,i.jsx)(n.Col,{flex:1,children:(0,i.jsx)(n.Row,{gutter:[24,24],children:(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Input,{size:"large",placeholder:"Input Token Address",value:s,className:"border-less",onChange:e=>t(e.target.value),suffix:(0,i.jsx)(R.Qc,{value:s,onChange:t,style:{marginRight:-7}}),autoFocus:!0})})})})},Bt=e=>{let{isNft:s,mintAddress:t,onMintAddressChange:a}=e;return s?(0,i.jsx)(vt,{mintAddress:t,onMintAddressChange:a}):(0,i.jsx)(St,{mintAddress:t,onMintAddressChange:a})},Et=e=>{let{isNft:s,onNftChange:t,mintAddress:a,onMintAddressChange:A}=e;return(0,i.jsxs)(n.Row,{gutter:[8,8],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{size:32,children:[(0,i.jsx)(n.Typography.Text,{children:"Vote By"}),(0,i.jsxs)(n.Space,{size:12,children:[(0,i.jsx)(n.Button,{onClick:()=>t(!1),className:x()(s,!1)?"":"btn-unselect",size:"small",children:"Token"}),(0,i.jsx)(n.Button,{onClick:()=>t(!0),className:x()(s,!0)?"":"btn-unselect",size:"small",children:"NFT"})]})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Bt,{isNft:s,mintAddress:a,onMintAddressChange:A})})]})},Tt=e=>{let{isPublic:s,setIsPublic:t}=e;return(0,i.jsxs)(n.Row,{gutter:[12,12],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Text,{children:"DAO Privacy"})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{onClick:()=>t(!1),className:x()(s,!1)?"":"btn-unselect",block:!0,children:"Member Only"})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{onClick:()=>t(!0),className:x()(s,!0)?"":"btn-unselect",block:!0,children:"Public"})})]})};var kt=t(33968);const Dt=e=>{const[s,t]=(0,o.useState)(void 0),{getMint:a}=(0,A.useMint)(),r=(0,o.useCallback)((async()=>{try{const{[e]:{supply:s}}=await a({address:e});return t(new(M())(s.toString()))}catch(s){return t(void 0)}}),[e,a]);return(0,o.useEffect)((()=>{r()}),[r]),s},Ft=e=>{let{mintAddress:s="",value:t,onChange:a}=e;const o=ds(s)||0,r=Dt(s),c=String((null===r||void 0===r?void 0:r.div(new(M())(10**o)))||new(M())(0));return(0,i.jsxs)(n.Row,{gutter:[8,8],justify:"end",children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Text,{children:"Total DAO Power"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(kt.Z,{value:t,onValue:a,className:"border-less",size:"large",placeholder:"Input Total DAO Power",suffix:(0,i.jsx)(n.Button,{type:"text",onClick:()=>a(c),icon:(0,i.jsx)(l.Z,{name:"copy-outline"}),style:{marginRight:-7},children:"By Suggestion"})})}),(0,i.jsx)(n.Col,{children:(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Suggestion Token Supply:"}),(0,i.jsx)(n.Typography.Text,{children:A.util.numeric(c).format("0,0")})]})})]})},Rt=e=>{let{mintAddress:s="",value:t,onChange:a}=e;const[r,c]=(0,o.useState)(""),[d,u]=(0,o.useState)(!1),p=(0,o.useCallback)((async()=>{if(!y.account.isAddress(s))return c("");u(!0);try{let e=await(async e=>await B.getProgramAccounts(S,{commitment:"confirmed",filters:[{dataSize:679},{memcmp:{offset:368,bytes:e}}]}))(s);c(e.length.toString())}catch(e){window.notify({type:"error",description:e.message})}finally{u(!1)}}),[s]);return(0,o.useEffect)((()=>{p()}),[p]),(0,i.jsxs)(n.Row,{gutter:[8,8],justify:"end",children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Text,{children:"Total DAO Power"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(kt.Z,{value:t,onValue:a,className:"border-less",size:"large",placeholder:"Input Total DAO Power",suffix:(0,i.jsx)(n.Button,{type:"text",onClick:()=>a(r),icon:(0,i.jsx)(l.Z,{name:"copy-outline"}),style:{marginRight:-7},children:"By Suggestion"})})}),(0,i.jsx)(n.Col,{children:(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Suggestion NFT collection supply:"}),d?(0,i.jsx)(n.Spin,{spinning:d,indicator:(0,i.jsx)(se.Z,{style:{fontSize:24}})}):(0,i.jsx)(n.Typography.Text,{children:A.util.numeric(r).format("0,0")})]})})]})},Gt=e=>{let{isNft:s,mintAddress:t,supply:a,onChangeSupply:A}=e;return s?(0,i.jsx)(Rt,{mintAddress:t,value:a,onChange:A}):(0,i.jsx)(Ft,{mintAddress:t,value:a,onChange:A})},Mt=()=>{const{isNft:e,isPublic:s,mintAddress:t,supply:A,regime:r}=(0,a.useSelector)((e=>e.createDao.data)),[l,c]=(0,o.useState)(e),[d,u]=(0,o.useState)(r),[p,h]=(0,o.useState)(t),[g,m]=(0,o.useState)(A.toString()),[x,C]=(0,o.useState)(s),y=(0,a.useDispatch)(),f=!p||!d;return(0,i.jsxs)(n.Row,{gutter:[32,32],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(re,{value:d,onChangeRegime:u})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Et,{onMintAddressChange:h,mintAddress:p,isNft:l,onNftChange:e=>(h(""),c(e))})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Gt,{isNft:l,mintAddress:p,supply:g,onChangeSupply:m})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Tt,{isPublic:x,setIsPublic:C})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Button,{type:"text",size:"large",onClick:()=>y(Js()),children:"Back"})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{type:"primary",size:"large",disabled:f,onClick:()=>y(Hs({rule:{isNft:l,regime:d,supply:new(M())(g),isPublic:x,mintAddress:p}})),children:"Continue"})})]})})]})},Nt=e=>{let{regime:s}=e;return(0,i.jsxs)(n.Row,{gutter:[8,8],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Text,{children:"DAO Regime"})}),(0,i.jsx)(n.Col,{xs:24,md:8,children:(0,i.jsx)(Ae,{regime:s})})]})},Pt=e=>{let{name:s="",walletAddress:t="",onChange:a,disabledRemove:A=!1,disabledWalletInput:o=!1,disabledName:r=!1,remove:c=(()=>{})}=e;return(0,i.jsxs)(n.Row,{gutter:[12,12],children:[(0,i.jsx)(n.Col,{span:4,children:(0,i.jsx)(n.Input,{className:"border-less",onChange:a,value:s,placeholder:"Name",name:"name",disabled:r})}),(0,i.jsx)(n.Col,{span:18,children:(0,i.jsx)(n.Input,{className:"border-less",value:t,placeholder:"Input wallet address",disabled:o,name:"walletAddress",onChange:a})}),(0,i.jsx)(n.Col,{span:2,children:(0,i.jsx)(n.Button,{disabled:A,type:"text",icon:(0,i.jsx)(l.Z,{name:"trash-outline"}),onClick:c})})]})},Zt=e=>{let{members:s,setMember:t}=e;const{wallet:{address:a}}=(0,A.useWallet)();return(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:4,children:"People who'll be part of your team."})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[12,12],children:[s.map(((e,A)=>{let{name:o,walletAddress:r}=e;const l=r===a;return(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Pt,{name:o,walletAddress:r,onChange:e=>((e,a)=>{for(const{walletAddress:t}of s)if(x()(t,e.target.value))return window.notify({type:"warning",description:"This wallet address already exists"});const A=[...s];return A[a]={...A[a],[e.target.name]:e.target.value},t(A)})(e,A),remove:()=>(e=>{const a=[...s];return a.splice(e,1),t(a)})(A),disabledRemove:l,disabledWalletInput:l})},A)})),(0,i.jsx)(n.Col,{span:4,children:(0,i.jsx)(n.Button,{block:!0,type:"dashed",icon:(0,i.jsx)(l.Z,{name:"add-outline"}),onClick:()=>{const e=[...s];return e.push({name:"",walletAddress:""}),t(e)},children:"Add"})})]})})]})},Ot=()=>{const e=(0,a.useDispatch)(),s=(0,a.useSelector)((e=>e.createDao.data.metadata)),[t,r]=(0,o.useState)([]),[l,c]=(0,o.useState)(!1),{address:d}=(0,A.useWallet)().wallet,u=(0,o.useCallback)((()=>{if(t.length)return;if(s.members.length)return r(s.members);return r([{name:"",walletAddress:d}])}),[t.length,s.members,d]),p=(0,o.useMemo)((()=>{for(const e of t){const{name:s,walletAddress:t}=e;if(!s||!y.account.isAddress(t))return!0}return!1}),[t]);return(0,o.useEffect)((()=>{u()}),[u]),(0,i.jsxs)(n.Row,{gutter:[32,32],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Nt,{regime:g.DaoRegimes.Autonomous})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Tt,{isPublic:l,setIsPublic:c})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Zt,{members:t,setMember:r})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Button,{type:"text",size:"large",onClick:()=>e(Js()),children:"Back"})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{type:"primary",size:"large",disabled:p,onClick:()=>{const a={...s,members:t};return e(Hs({rule:{isPublic:l,metadata:a,regime:g.DaoRegimes.Autonomous}}))},children:"Continue"})})]})})]})},Lt=()=>"flexible-dao"===(0,a.useSelector)((e=>e.createDao.data.metadata.daoType))?(0,i.jsx)(Mt,{}):(0,i.jsx)(Ot,{}),Vt=()=>{const e=(0,a.useSelector)((e=>e.createDao.step));return e===zs.ChooseType?(0,i.jsx)($s,{}):e===zs.InputDetails?(0,i.jsx)(st,{}):e===zs.SetRule?(0,i.jsx)(Lt,{}):(0,i.jsx)(yt,{})},zt=()=>{const e=(0,a.useSelector)((e=>e.createDao.step));return(0,i.jsx)(n.Row,{gutter:[24,24],justify:"center",children:(0,i.jsx)(n.Col,{xs:24,lg:16,children:(0,i.jsx)(n.Card,{bordered:!1,children:(0,i.jsxs)(n.Row,{gutter:[24,32],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Zs,{step:e})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Vt,{})})]})})})})};var Qt=t(48544),Yt=t(15799);const{sol:{interDao:Ut}}=me.Z,Wt=async e=>{if(!y.account.isAddress(e))throw new Error("Invalid address");const{provider:{connection:s},programId:t,account:{receipt:a}}=Ut.program,A=await s.getProgramAccounts(t,{filters:[{dataSize:a.size},{memcmp:{offset:48,bytes:e}}]});let o={};return A.forEach((e=>{let{pubkey:s,account:{data:t}}=e;const a=Ut.parseReceiptData(t);o[s.toBase58()]=a})),o},Ht=e=>{let{proposalAddress:s}=e;const[t,a]=(0,o.useState)({}),A=(0,o.useCallback)((async()=>{if(!y.account.isAddress(s))return a({});const e=await Wt(s);return a(e)}),[s]);return(0,o.useEffect)((()=>{A()}),[A]),{receipts:t}},{sol:{interDao:Jt}}=me.Z,Kt=e=>{let{proposalAddress:s}=e;const[t,a]=(0,o.useState)(!1),{status:r}=(0,Yt.Z)(s),{metaData:c}=(0,je.Z)(s),{receipts:d}=Ht({proposalAddress:s}),u=(0,o.useMemo)((()=>{if(!Object.values(d).length)return 0;const e=[];for(const s of Object.values(d)){const{authority:t}=s;e.includes(t.toBase58())||e.push(t.toBase58())}return e.length}),[d]),p=(0,o.useCallback)((async()=>{a(!0);try{const{txId:e}=await Jt.executeProposal(s);return window.notify({type:"success",description:"Execute successfully",onClick:()=>window.open(A.util.explorer(e),"_blank")})}catch(e){return window.notify({type:"error",description:e.message})}finally{a(!1)}}),[s]);return(0,i.jsx)(n.Card,{bordered:!1,children:(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[24,24],wrap:!1,children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsxs)(n.Space,{direction:"vertical",children:[(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Typography.Title,{level:3,style:{wordBreak:"break-all"},children:null!==c&&void 0!==c&&c.title?c.title:A.util.shortenAddress(s)}),(0,i.jsx)(Qt.Z,{status:r})]}),(0,i.jsx)(n.Space,{children:(0,i.jsx)(n.Row,{children:(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{size:5,children:[(0,i.jsx)(l.Z,{name:"people-outline"}),(0,i.jsxs)(n.Typography.Text,{children:["Voter(s): ",u]})]})})})})]})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{size:"large",type:"primary",onClick:p,loading:t,disabled:"Succeeded"!==r,children:"Execute"})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Paragraph,{type:"secondary",ellipsis:{rows:3,expandable:!0,symbol:"View more"},children:null===c||void 0===c?void 0:c.description})})]})})},{sol:{taxman:Xt,fee:qt}}=me.Z,_t=e=>{let{daoAddress:s}=e;const t=(0,K.K)(s);return(0,o.useMemo)((()=>{if(null===t||void 0===t||!t.regime||null===t||void 0===t||!t.authority)return;const e="democratic"===Object.keys(t.regime)[0]?new G.BN(0):new G.BN(qt);return{tax:new G.BN(qt),taxmanAddress:Xt,revenue:e,revenuemanAddress:t.authority.toBase58()}}),[t])};var $t=t(10119),ea=t(84760),sa=t.n(ea),ta=t(68532),aa=t.n(ta),Aa=t(97429).Buffer;const{sol:{interDao:oa}}=me.Z;let ra;!function(e){e.For="vote-for",e.Against="vote-against"}(ra||(ra={}));const na="comment",la=new qe.Z,ia=e=>{const s=`${e}`;return Aa.from($t.sha256.digest(`proposal:${sa()(s,{pascalCase:!0})}`)).slice(0,8)},ca=(0,Os.createAsyncThunk)("comment/getComments",(async e=>{const s=ia(e),t=await oa.program.account.ipfsol.all([{memcmp:{offset:40,bytes:aa().encode(s)}}]);let a={};return await Promise.all(t.map((async e=>{const s=(0,U.al)(e.account.cid),t=await la.get(s);a[e.account.authority.toBase58()]=t}))),{proposal:e,bulk:a}})),da=(0,Os.createAsyncThunk)("comment/upsetComment",(async e=>{let{proposal:s,wallet:t,cid:a}=e,A={};const o=(0,U.al)(a),r=await la.get(o);return A[t]=r,{proposal:s,bulk:A}})),ua=(0,Os.createSlice)({name:na,initialState:{},reducers:{},extraReducers:e=>{e.addCase(ca.fulfilled,((e,s)=>{let{payload:t}=s;return e[t.proposal]||(e[t.proposal]={}),Object.assign(e[t.proposal],t.bulk),e})).addCase(da.fulfilled,((e,s)=>{let{payload:t}=s;return Object.assign(e[t.proposal],t.bulk),e}))}}).reducer,{sol:{interDao:pa}}=me.Z,ha=new qe.Z,ga=()=>{const{wallet:e}=(0,A.useWallet)(),s=(0,o.useCallback)(((s,t,a)=>({authority:e.address,voteState:t,receipt:a,time:(new Date).toUTCString(),content:s})),[e.address]),t=(0,o.useCallback)((async t=>{const{proposal:a,content:A,voteState:o,receipt:r}=t,n=ia(a),l=await(async(e,s)=>{const[t]=await V.web3.PublicKey.findProgramAddress([Aa.from("ipfsol"),e,new V.web3.PublicKey(s).toBuffer()],me.Z.sol.interDao.program.programId);return t})(n,e.address),i=s(A,o,r),c=await(async(e,s)=>{let t=[];try{const s=await pa.program.account.ipfsol.fetch(e),a=(0,U.al)(s.cid);t=[...await ha.get(a)]}catch(a){}return t.push(s),t})(l,i),d=await ha.set(c),{multihash:{digest:u}}=_e.k0.parse(d),{tx:p}=await pa.initializeIpfsol(n,u,!1);return p}),[s,e.address]);return{initTxCommentProposal:t}},ma=()=>{const[e,s]=(0,o.useState)({}),{wallet:t}=(0,A.useWallet)();return(0,o.useEffect)((()=>{const e=(0,it.getAnchorProvider)(A.rpc,t.address,window.sentre.wallet);s(e)}),[t.address]),e},{sol:{interDao:xa}}=me.Z,Ca=e=>{let{visible:s,setVisible:t,collection:a,votingType:r,proposalAddress:l,daoAddress:c,comment:d,onClearComment:u=(()=>{})}=e;const[p,h]=(0,o.useState)(""),[g,m]=(0,o.useState)(!1),x=_t({daoAddress:c}),{initTxCommentProposal:C}=ga(),f=ma(),j=(0,o.useCallback)((async()=>{m(!0);try{if(!y.account.isAddress(l)||!p)return;const{tx:e}=await xa.voteNftFor(l,p,x,!1);if(d){const s=e.instructions[0].keys[7].pubkey.toString(),t=await C({content:d,proposal:l,voteState:r,receipt:s});e.add(t)}const s=await f.sendAndConfirm(e);return h(""),u(),window.notify({type:"success",description:"Voted successfully. Click to view details!",onClick:()=>window.open(A.util.explorer(s),"_blank")})}catch(e){return window.notify({type:"error",description:e.message})}finally{t(!1),m(!1)}}),[d,C,p,u,l,x,f,t,r]),b=(0,o.useCallback)((async()=>{m(!0);try{if(!y.account.isAddress(l)||!p)return;const{txId:e}=await xa.voteNftAgainst(l,p,x);return h(""),window.notify({type:"success",description:"Voted successfully. Click to view details!",onClick:()=>window.open(A.util.explorer(e),"_blank")})}catch(e){return window.notify({type:"error",description:e.message})}finally{m(!1),t(!1)}}),[p,l,x,t]);return(0,i.jsx)(n.Modal,{className:"modal-nft-selection",visible:s,footer:!1,onCancel:()=>t(!1),children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Typography.Title,{level:4,children:["Vote ",r]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Text,{children:"Choose NFT to vote"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Row,{gutter:[24,24],className:"scrollbar",style:{height:240},children:a.map((e=>(0,i.jsx)(n.Col,{xs:12,md:8,style:{textAlign:"center"},children:(0,i.jsx)(ft,{mintAddress:e.mint,isSelected:p===e.mint,onSelect:h})},e.mint)))})}),(0,i.jsx)(n.Col,{span:24,style:{textAlign:"right"},children:(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Button,{onClick:()=>t(!1),children:"Cancel"}),(0,i.jsx)(n.Button,{disabled:!p,type:"primary",loading:g,onClick:()=>{switch(r){case ra.For:j();break;case ra.Against:b()}},children:"Confirm"})]})})]})})},ya={dark:{default:"#312B29",for:"#698033",against:"#F9575E"},light:{default:"#F2EFE9",for:"#F9DEB0",against:"#F9575E"}},fa={"vote-for":{label:"Voted For",color:"#698033"},"vote-against":{label:"Voted Against",color:"#F9575E"}},ja={default:"DEFAULT",for:"VOTE FOR",against:"VOTE AGAINST"},ba=e=>{let{record:s}=e;const{ui:{theme:t}}=(0,A.useUI)(),a=(0,o.useMemo)((()=>{const e=Object.keys(s.action||{})[0];return"voteAgainst"===e?"against":"voteFor"===e?"for":"default"}),[s.action]);return(0,i.jsx)(n.Typography.Text,{style:{color:ya[t][a]},children:ja[a]})},wa=e=>{let{receipt:s}=e;const t=(0,a.useSelector)((e=>e.daos)),o=(0,a.useSelector)((e=>e.proposal)),{power:r,proposal:l}=s,{dao:c}=o[l.toBase58()]||{},{mint:d}=t[(null===c||void 0===c?void 0:c.toBase58())||""]||{},u=ds(null===d||void 0===d?void 0:d.toBase58())||0;return(0,i.jsx)(n.Typography.Text,{children:A.util.numeric(y.utils.undecimalize(BigInt(r.toString()),u)).format("0,0.[0000]a")})},{sol:{interDao:Ia}}=me.Z,va=e=>{let{daoAddress:s,proposalAddress:t}=e;const[r,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!1),[p,h]=(0,o.useState)([]),{receipts:g}=Ht({proposalAddress:t}),m=(0,a.useSelector)((e=>e.daos)),{isNft:x}=m[s]||{},{wallet:{address:C}}=(0,A.useWallet)(),y=[{title:"TIME",dataIndex:"lockedDate",render:e=>(0,i.jsx)(n.Typography.Text,{children:vs()(1e3*e.toNumber()).format("DD/MM/YYYY HH:mm")})},{title:"POWER",dataIndex:"power",render:(e,s)=>(0,i.jsx)(wa,{receipt:s})},{title:"TYPE",dataIndex:"authority",render:(e,s)=>(0,i.jsx)(ba,{record:s})},{title:"ACTION",dataIndex:"address",render:e=>(0,i.jsx)(n.Button,{type:"primary",onClick:()=>j(e),size:"small",children:"Withdraw"})}],f=(0,o.useCallback)((()=>{const e=Object.keys(g).map((e=>({address:e,...g[e]}))).filter((e=>e.authority.toBase58()===C&&e.amount.toNumber()>0));return h(e)}),[g,C]),j=(0,o.useCallback)((async e=>{if(e.length){u(!0);try{let s;s=x?await Ia.closeNftVoting(e):await Ia.close(e),window.notify({type:"success",description:"Successful withdrawal. Click to view details!",onClick:()=>window.open(A.util.explorer(s.txId),"_blank")}),h([...p].filter((s=>!e.includes(s.address))))}catch(s){window.notify({type:"error",description:s.message})}finally{u(!1)}}}),[x,p]);return(0,o.useEffect)((()=>{f()}),[f]),(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(n.Button,{type:"primary",onClick:()=>c(!0),block:!0,size:"large",disabled:!p.length,children:"Withdraw"}),(0,i.jsx)(n.Modal,{visible:r,footer:null,closeIcon:(0,i.jsx)(l.Z,{name:"close-outline"}),onCancel:()=>c(!1),children:(0,i.jsxs)(n.Row,{gutter:[32,32],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:4,children:"Withdraw"})}),(0,i.jsx)(n.Col,{span:24,style:{maxHeight:500},className:"scrollbar",children:(0,i.jsx)(n.Table,{columns:y,dataSource:p,pagination:!1,rowKey:e=>{let{index:s,lockedDate:t}=e;return s.toNumber()+t.toNumber()},loading:d})})]})})]})};var Sa=t(66549),Ba=t.n(Sa);function Ea(e,s){return Fa(s.diff(e,"seconds")%60%60,2)}function Ta(e,s){return Fa(s.diff(e,"minutes")%60,2)}function ka(e,s){return Fa(s.diff(e,"hours")%24,2)}function Da(e,s){return s.diff(e,"days").toString()}function Fa(e,s){const t=e.toString();return t.length>=s?t:"0".repeat(s-t.length)+t}var Ra=t(1220);const Ga=e=>{const s=(0,a.useDispatch)(),t=(0,a.useSelector)((e=>e.proposal)),A=(0,o.useMemo)((()=>t[e]||{}),[t,e]);return(0,o.useEffect)((()=>{!A&&y.account.isAddress(e)&&s((0,Ra.pU)({address:e}))}),[A,s,e]),{...A}},Ma={minutes:"00",hours:"00",days:"00",seconds:"00"},Na=e=>{let{proposalAddress:s,daoAddress:t}=e;const[r,c]=(0,o.useState)(Ma),{status:d}=(0,Yt.Z)(s),u=(0,a.useSelector)((e=>e.voteBid.amount)),{endDate:p,startDate:h}=Ga(s),g=(new Date).getTime(),m=1e3*Number(p),x=1e3*Number(h),C=g<m?m-g:0,y=Number(u)*C/1e3,f=(0,o.useCallback)(((e,s)=>c(function(e,s){const t=Ba()(e),a=s||Ba()();return t.isBefore(a)?{minutes:"00",hours:"00",days:"00",seconds:"00"}:{minutes:Ta(a,t),hours:ka(a,t),days:Da(a,t),seconds:Ea(a,t)}}(e,s))),[]);return(0,o.useEffect)((()=>{if("Preparing"===d)return f(m,x);const e=setInterval((()=>{f(m)}),1e3);return()=>clearInterval(e)}),[m,x,d,f]),(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsxs)(n.Space,{direction:"vertical",children:[(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Time remaining"}),(0,i.jsxs)(n.Typography.Title,{level:5,children:[r.days,"d : ",r.hours,"h :"," ",r.minutes,"m : ",r.seconds,"s"]})]})}),(0,i.jsx)(n.Col,{children:(0,i.jsxs)(n.Space,{direction:"vertical",children:[(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Tooltip,{title:"Your power will be equal to the token amount multiplied by the remaining time (by seconds)",children:(0,i.jsx)(l.Z,{style:{cursor:"pointer"},name:"information-circle-outline"})}),(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Power of your votes"})]}),(0,i.jsx)(n.Typography.Title,{level:5,style:{textAlign:"right"},children:A.util.numeric(y).format("0,0.[0000]")})]})})]})},Pa=e=>{const{nfts:s}=z(e),[t,a]=(0,o.useState)(),A=(0,o.useCallback)((async()=>{let e={};return null===s||void 0===s||s.forEach((s=>{s.collection&&(e[s.collection.key]=e[s.collection.key]?[...e[s.collection.key],s]:[s])})),a(e)}),[s]);return(0,o.useEffect)((()=>{A()}),[A]),{nfts:t}},Za=e=>{let{onChange:s,value:t,placeholder:a="Enter your comment..."}=e;return(0,i.jsx)(n.Card,{className:"numric-ip-card",bodyStyle:{padding:"8px 12px"},bordered:!1,children:(0,i.jsxs)(n.Row,{gutter:[8,8],children:[(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Add a comment (Optional)"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Input,{bordered:!1,style:{padding:0},placeholder:a,value:t,onChange:e=>s(e.target.value)})})]})})},Oa=e=>{let{proposalAddress:s,daoAddress:t}=e;const[r,c]=(0,o.useState)(""),[d,u]=(0,o.useState)(ra.For),[p,h]=(0,o.useState)(!1),g=(0,a.useSelector)((e=>e.daos)),{mint:m}=g[t]||{},{status:x}=(0,Yt.Z)(s),{consensusMechanism:C}=Ga(s),{wallet:{address:f}}=(0,A.useWallet)(),{nfts:j}=Pa(f),b=(null===j||void 0===j?void 0:j[m.toBase58()])||[],w="lockedTokenCounter"===Object.keys(C||[])[0],I=(0,o.useMemo)((()=>"Preparing"!==x&&"Voting"!==x),[x]),v="Voting"!==x||!y.account.isAddress(s)||!b.length;return(0,i.jsxs)(n.Card,{bordered:!1,children:[(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:5,children:"Cast Your Votes"})}),w&&(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Na,{proposalAddress:s,daoAddress:t})}),I?(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(va,{daoAddress:t,proposalAddress:s})}):(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Za,{value:r,onChange:c})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:12,children:(0,i.jsx)(n.Button,{onClick:()=>{h(!0),u(ra.For)},type:"primary",disabled:v,block:!0,size:"large",icon:(0,i.jsx)(l.Z,{name:"thumbs-up-outline"}),children:"Vote For"})}),(0,i.jsx)(n.Col,{span:12,children:(0,i.jsx)(n.Button,{onClick:()=>{h(!0),u(ra.Against)},type:"primary",disabled:v,block:!0,size:"large",icon:(0,i.jsx)(l.Z,{name:"thumbs-down-outline"}),children:"Vote Against"})})]})})]})]}),(0,i.jsx)(Ca,{visible:p,setVisible:h,collection:b,votingType:d,proposalAddress:s,daoAddress:t,comment:r,onClearComment:()=>c("")})]})},La=(e,s,t)=>y.account.isAddress(e)&&void 0!==s&&void 0!==t?{mintAddress:e,amount:s,decimals:t,balance:Number(y.utils.undecimalize(s,t))}:{amount:BigInt(0),decimals:0,balance:0},Va=e=>{const{wallet:{address:s,lamports:t}}=(0,A.useWallet)(),{accounts:a}=(0,A.useAccount)(),{amount:o,mint:r}=a[e]||{},n=ds(r)||0;return y.account.isAddress(s)&&y.account.isAddress(e)?e===s?La(y.DEFAULT_EMPTY_ADDRESS,t,9):La(r,o,n):La()},za=e=>{const[s,t]=(0,o.useState)(""),{wallet:{address:a}}=(0,A.useWallet)(),r=Va(s);return(0,o.useEffect)((()=>{(async()=>{if(!y.account.isAddress(a)||!y.account.isAddress(e))return t("");const{sentre:{splt:s}}=window;try{const A=await s.deriveAssociatedAddress(a,e);t(A)}catch(A){return t("")}})()})),r},Qa="voteBid",Ya=(0,Os.createAsyncThunk)("voteBid/setVoteBidAmount",(async e=>e?{amount:e}:{amount:""})),Ua=(0,Os.createSlice)({name:Qa,initialState:{amount:""},reducers:{},extraReducers:e=>{e.addCase(Ya.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)}))}}).reducer,{sol:{interDao:Wa}}=me.Z,Ha=e=>{var s;let{proposalAddress:t,daoAddress:A}=e;const[r,c]=(0,o.useState)(),[d,u]=(0,o.useState)(""),p=(0,a.useSelector)((e=>e.voteBid.amount)),h=(0,a.useDispatch)(),g=(0,K.K)(A),{metaData:m}=(0,L.Z)(A),{balance:x,decimals:C}=za((null===g||void 0===g||null===(s=g.mint)||void 0===s?void 0:s.toBase58())||""),{status:f}=(0,Yt.Z)(t),j=_t({daoAddress:A}),{initTxCommentProposal:b}=ga(),w=ma(),I="multisig-dao"===(null===m||void 0===m?void 0:m.daoType),v=(0,o.useMemo)((()=>!!r||(I?"Voting"!==f||x<=0:"Voting"!==f||!p||!y.account.isAddress(t))),[p,x,I,t,f,r]),S=async e=>{c(e);try{const{tx:s}=await(async e=>{const s=I?1:p,a=it.utilsBN.decimalize(s,C);switch(e){case ra.For:return Wa.voteFor(t,a,j,!1);case ra.Against:return Wa.voteAgainst(t,a,j,!1);default:throw new Error("Invalid vote type")}})(e);if(d){const a=s.instructions[0].keys[7].pubkey.toString(),A=await b({proposal:t,content:d,voteState:e,receipt:a});s.add(A)}const a=await w.sendAndConfirm(s);h(Ya("")),u(""),(0,U.t5)("Voted",a)}catch(s){(0,U.cB)(s)}finally{c(void 0)}};return(0,i.jsx)(o.Fragment,{children:(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Za,{value:d,onChange:u})}),(0,i.jsx)(n.Col,{span:I?24:12,children:(0,i.jsx)(n.Button,{onClick:()=>S(ra.For),type:"primary",disabled:v,loading:r===ra.For,block:!0,size:"large",icon:(0,i.jsx)(l.Z,{name:"thumbs-up-outline"}),children:"Vote For"})}),(0,i.jsx)(n.Col,{span:I?24:12,children:(0,i.jsx)(n.Button,{onClick:()=>S(ra.Against),type:"primary",disabled:v,loading:r===ra.Against,block:!0,size:"large",icon:(0,i.jsx)(l.Z,{name:"thumbs-down-outline"}),children:"Vote Against"})})]})})},Ja=e=>{let{proposalAddress:s,daoAddress:t}=e;const r=(0,a.useSelector)((e=>e.daos)),l=(0,a.useSelector)((e=>e.voteBid.amount)),c=(0,a.useDispatch)(),{mint:d}=r[t]||{},{balance:u}=za(null===d||void 0===d?void 0:d.toBase58()),{status:p}=(0,Yt.Z)(s),{metaData:h}=(0,L.Z)(t),{consensusMechanism:g}=Ga(s),m="multisig-dao"===(null===h||void 0===h?void 0:h.daoType),x="lockedTokenCounter"===Object.keys(g||[])[0],C=(0,o.useMemo)((()=>"Preparing"!==p&&"Voting"!==p),[p]),y=e=>{c(Ya(e))};return(0,i.jsx)(n.Card,{bordered:!1,children:(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:5,children:"Cast Your Votes"})}),!m&&!C&&(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Card,{className:"numric-ip-card",bodyStyle:{padding:"8px 12px"},bordered:!1,children:(0,i.jsxs)(n.Row,{gutter:[8,8],children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Amount Votes"})}),(0,i.jsxs)(n.Col,{children:[(0,i.jsxs)(n.Typography.Text,{children:["Available: ",A.util.numeric(u).format("0,0.[00]")]})," ",(0,i.jsx)(R.Z$,{mintAddress:null===d||void 0===d?void 0:d.toBase58()})]}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(kt.Z,{bordered:!1,style:{padding:0},placeholder:"0",value:l,onValue:y,suffix:(0,i.jsx)(n.Typography.Text,{style:{cursor:"pointer"},onClick:()=>y(u.toString()),children:"MAX"})})})]})})}),x&&(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Na,{proposalAddress:s,daoAddress:t})}),(0,i.jsx)(n.Col,{span:24,children:C?(0,i.jsx)(va,{proposalAddress:s,daoAddress:t}):(0,i.jsx)(Ha,{proposalAddress:s,daoAddress:t})})]})})},Ka=e=>{let{proposalAddress:s,daoAddress:t}=e;const A=(0,a.useSelector)((e=>e.daos)),{isNft:o}=(null===A||void 0===A?void 0:A[t])||{};return o?(0,i.jsx)(Oa,{proposalAddress:s,daoAddress:t}):(0,i.jsx)(Ja,{proposalAddress:s,daoAddress:t})},Xa=e=>{let{proposalAddress:s,visible:t,setVisible:a}=e;return(0,i.jsx)(n.Modal,{className:"template-card template-info",visible:t,footer:!1,onCancel:()=>a(!1),children:(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{className:"template-info-header",span:24,style:{textAlign:"left"},children:(0,i.jsx)(n.Typography.Title,{level:4,children:"Template information"})}),(0,i.jsx)(n.Col,{span:24,className:"template-info-body",children:(0,i.jsx)(Re,{proposalAddress:s})})]})})},qa=e=>(0,o.useMemo)((()=>{if(!e)return"-";const s=Object.keys(e)[0];return"half"===s?"1/2":"oneThird"===s?"1/3":"twoThird"===s?"2/3":void 0}),[e]),_a=e=>{let{proposalAddress:s,daoAddress:t}=e;const[a,r]=(0,o.useState)(!1),[c,d]=(0,o.useState)(!1),{consensusQuorum:u,startDate:p,endDate:h,consensusMechanism:g,creator:m}=Ga(s),x=(null===m||void 0===m?void 0:m.toBase58())||"",C=qa(u),y=async()=>{r(!0),await A.util.asyncWait(1500),r(!1)},f=(0,o.useMemo)((()=>{if(!g)return"-";const e=Object.keys(g)[0];return"stakedTokenCounter"===e?"Staked counter":"lockedTokenCounter"===e?"Locked counter":void 0}),[g]);return(0,i.jsxs)(n.Card,{bordered:!1,children:[(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{align:"middle",children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Typography.Title,{level:5,children:"Information"})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{type:"text",icon:(0,i.jsx)(l.Z,{name:"information-circle-outline"}),style:{marginRight:-10},onClick:()=>d(!0)})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{style:{width:"100%"},direction:"vertical",children:[(0,i.jsx)(gs.Z,{label:"Proposal ID",value:A.util.shortenAddress(s,3)}),(0,i.jsx)(gs.Z,{label:"Start Time",value:vs()(1e3*(null===p||void 0===p?void 0:p.toNumber())).format("MMM DD,yyyy HH:mm")}),(0,i.jsx)(gs.Z,{label:"End Time",value:vs()(1e3*(null===h||void 0===h?void 0:h.toNumber())).format("MMM DD,yyyy HH:mm")}),(0,i.jsx)(gs.Z,{label:"Author",value:(0,i.jsxs)(n.Space,{size:10,children:[(0,i.jsx)(n.Typography.Text,{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>window.open(A.util.explorer(x),"_blank"),children:A.util.shortenAddress(x,3)}),(0,i.jsx)(n.Tooltip,{title:"Copied",visible:a,children:(0,i.jsx)(Ue(),{text:x,onCopy:y,children:(0,i.jsx)(l.Z,{style:{cursor:"pointer"},name:"copy-outline",onClick:y})})})]})}),(0,i.jsx)(gs.Z,{label:"Quorum",value:C}),(0,i.jsx)(gs.Z,{label:"Vote Method",value:f})]})})]}),(0,i.jsx)(Xa,{setVisible:d,visible:c,proposalAddress:s})]})},$a=e=>{let{proposalAddress:s,daoAddress:t}=e;const[r,l]=(0,o.useState)(""),[c,d]=(0,o.useState)(""),u=(0,a.useSelector)((e=>e.daos)),{votingAgainstPower:p,votingForPower:h,consensusQuorum:g}=Ga(s),{mint:m}=u[t]||{},x=ds(null===m||void 0===m?void 0:m.toBase58())||0,{status:C,actualSupply:f}=(0,Yt.Z)(s),{ui:{theme:j}}=(0,A.useUI)(),b=Number(p)||0,w=Number(h)||0,I=w+b,v=w/I*100,S=b/I*100,B=(0,o.useMemo)((()=>new(M())(y.utils.decimalize(1,x).toString())),[x]),E=(0,o.useMemo)((()=>{if(!g)return new(M())(0);const e=h.sub(p),s=Object.keys(g)[0];if("half"===s){const s=f.div(new(M())(2)).add(B);return e.mul(new(M())(100)).divRound(s)}if("oneThird"===s){const s=f.div(new(M())(3)).add(B);return e.mul(new(M())(100)).divRound(s)}if("twoThird"===s){const s=f.mul(new(M())(2)).div(new(M())(3)).add(B);return e.mul(new(M())(100)).divRound(s)}return new(M())(0)}),[f,g,B,p,h]),T=(0,o.useMemo)((()=>{if(!g||!f||E.gte(new(M())(100)))return new(M())(0);const e=h.sub(p),s=Object.keys(g)[0];return"half"===s?f.div(new(M())(2)).sub(e).add(B):"oneThird"===s?f.div(new(M())(3)).sub(e).add(B):"twoThird"===s?f.mul(new(M())(2)).div(new(M())(3)).add(B).sub(e):new(M())(0)}),[f,g,E,B,p,h]),k=(0,o.useMemo)((()=>v||(S?100-S:0)),[S,v]),D=(0,o.useCallback)((()=>S||v?!S&&v?d(ya[j].for):S&&!v?l(ya[j].against):(l(ya[j].against),d(ya[j].for)):l(ya[j].default)),[S,v,j]),F=(0,o.useMemo)((()=>{switch(C){case"Failed":return"The proposal has been failed";case"Succeeded":return"The proposal has been approved";default:return`${A.util.numeric(y.utils.undecimalize(BigInt(T.toString()),x)).format("0,0.[0000]")} more Vote For required`}}),[x,T,C]);return(0,o.useEffect)((()=>{D()}),[D]),(0,i.jsx)(n.Card,{bordered:!1,children:(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:5,children:"Current Results"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{size:0,style:{width:"100%"},direction:"vertical",children:[(0,i.jsx)(n.Typography.Text,{type:"secondary",children:"Quorum"}),(0,i.jsx)(n.Typography.Text,{children:F}),(0,i.jsx)(n.Progress,{percent:100,strokeColor:ya[j].default,success:{percent:E.toNumber(),strokeColor:ya[j].for},showInfo:!1})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[4,4],children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(at.Z,{label:"Voted For",size:0,value:(0,i.jsx)(n.Typography.Title,{level:4,children:A.util.numeric(y.utils.undecimalize(BigInt(w),x)).format("0,0.[0000]")})})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(at.Z,{label:"Voted Against",size:0,align:"end",value:(0,i.jsx)(n.Typography.Title,{level:4,children:A.util.numeric(y.utils.undecimalize(BigInt(b),x)).format("0,0.[0000]")})})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Progress,{style:{width:"100%"},percent:100,strokeColor:r,success:{percent:k,strokeColor:c},showInfo:!1})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsxs)(n.Typography.Text,{type:"secondary",children:[A.util.numeric(v).format("0,0.[00]"),"%"]})}),(0,i.jsx)(n.Col,{children:(0,i.jsxs)(n.Typography.Text,{type:"secondary",children:[A.util.numeric(S).format("0,0.[00]"),"%"]})})]})})]})})]})})},eA=e=>{let{authority:s,proposalAddress:t}=e;const{proposal:A}=(0,a.useSelector)((e=>e)),{dao:r}=null===A||void 0===A?void 0:A[t],{metaData:l}=(0,L.Z)(r.toBase58()),c=(0,o.useMemo)((()=>{const e=(null===l||void 0===l?void 0:l.members)||[];for(const{walletAddress:t,name:a}of e)if(t===s)return a;return"--"}),[s,l]);return(0,i.jsx)(n.Typography.Text,{className:"t-16",children:c})},sA=[{title:"WALLET ADDRESS",dataIndex:"authority",render:e=>(0,i.jsx)(n.Typography,{children:A.util.shortenAddress(e.toBase58())})},{title:"TYPE",dataIndex:"authority",render:(e,s)=>(0,i.jsx)(ba,{record:s})},{title:"POWER",dataIndex:"power",render:(e,s)=>(0,i.jsx)(wa,{receipt:s})}],tA=[{title:"NAME",dataIndex:"authority",render:(e,s)=>(0,i.jsx)(eA,{proposalAddress:s.proposal.toBase58(),authority:e.toBase58()})},{title:"WALLET ADDRESS",dataIndex:"authority",render:e=>(0,i.jsx)(n.Typography,{children:A.util.shortenAddress(e.toBase58())})},{title:"TYPE",dataIndex:"authority",render:(e,s)=>(0,i.jsx)(ba,{record:s})}],aA=e=>{let{proposalAddress:s,daoAddress:t}=e;const[a,A]=(0,o.useState)(5),[r,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)([]),{metaData:p}=(0,L.Z)(t),h="multisig-dao"===(null===p||void 0===p?void 0:p.daoType)?tA:sA,g=(0,o.useCallback)((async()=>{c(!0);const e=await Wt(s),t=[];return Object.values(e).forEach((e=>{const{authority:s,power:a,action:A}=e,o=Object.keys(A||{})[0],r=s.toBase58(),n=t.find((e=>{const{action:s,authority:t}=e,a=Object.keys(s||{})[0];return t.toBase58()===r&&o===a}));if(!n)return t.push(e);const{power:l}=n,i=t.findIndex((e=>e===n));return-1!==i?t[i]={...t[i],power:l.add(a)}:void 0})),c(!1),u(t)}),[s]);return(0,o.useEffect)((()=>{g()}),[g]),(0,i.jsx)(n.Card,{bordered:!1,children:(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Typography.Title,{level:5,children:" Votes"})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{onClick:g,children:"Refresh"})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Table,{columns:h,dataSource:d.slice(0,a),pagination:!1,loading:r,rowKey:e=>{let{index:s,lockedDate:t}=e;return s.toNumber()+t.toNumber()}})}),(0,i.jsx)(n.Col,{span:24,style:{textAlign:"center"},children:(0,i.jsx)(n.Button,{disabled:d.length<=a,onClick:()=>A(a+5),icon:(0,i.jsx)(l.Z,{name:"chevron-down-outline"}),children:"View more"})})]})})},AA=e=>{let{children:s,tagColor:t,style:a}=e;if(!s)return(0,i.jsx)(o.Fragment,{});const A=t?{color:t,background:`${t}1a`}:{};return(0,i.jsx)(n.Tag,{style:{...A,border:"none",...a},children:s})},oA=e=>{let{comment:s}=e;const{authority:t,content:a,time:o,voteState:r}=s,c=r&&fa[r];return(0,i.jsx)(n.Card,{style:{borderWidth:"0 0 1px 0",borderRadius:0,background:"transparent"},bodyStyle:{paddingLeft:0,paddingRight:0},children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Avatar,{size:48,children:t&&t.substring(0,2)})}),(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsxs)(n.Space,{direction:"vertical",children:[(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Typography.Text,{children:A.util.shortenAddress(t||"")}),(0,i.jsx)(n.Button,{type:"text",icon:(0,i.jsx)(l.Z,{name:"open-outline"}),onClick:()=>window.open(A.util.explorer(t),"_blank"),disabled:!y.account.isAddress(t)})]}),(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(AA,{tagColor:null===c||void 0===c?void 0:c.color,children:null===c||void 0===c?void 0:c.label}),(0,i.jsx)(n.Typography.Text,{type:"secondary",children:vs()(o).fromNow()})]})]})})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Text,{children:a})})]})})},rA=e=>{let{comments:s}=e;return s.length?(0,i.jsx)(o.Fragment,{children:s.map(((e,s)=>(0,i.jsx)(oA,{comment:e},s)))}):(0,i.jsx)(n.Empty,{})},nA=e=>{let{title:s,children:t}=e;return(0,i.jsxs)(n.Row,{align:"middle",gutter:[24,24],children:[(0,i.jsx)(n.Col,{flex:"auto",children:s}),(0,i.jsx)(n.Col,{children:t})]})},lA=()=>{const[e,s]=(0,o.useState)(!1),[t,a]=(0,o.useState)(!1),[A,c]=(0,o.useState)(""),{initTxCommentProposal:d}=ga(),u=ma(),{proposalAddress:p}=(0,r.useParams)(),h=(0,o.useCallback)((async()=>{try{if(!A||!y.account.isAddress(p))throw new Error("Invalid comments.");s(!0);const e=await d({proposal:p,content:A}),t=await u.sendAndConfirm(e);a(!1),(0,U.t5)("comment",t)}catch(e){(0,U.cB)(e)}finally{s(!1)}}),[d,p,u,A]);return(0,i.jsxs)(o.Fragment,{children:[(0,i.jsx)(n.Button,{icon:(0,i.jsx)(l.Z,{name:"add-outline"}),onClick:()=>a(!0),children:"Add a comment only"}),(0,i.jsx)(n.Modal,{footer:!1,visible:t,onCancel:()=>a(!1),closeIcon:(0,i.jsx)(l.Z,{name:"close-outline"}),children:(0,i.jsxs)(n.Row,{gutter:[32,32],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:5,children:"Add a comment only"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[24,24],justify:"end",children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Input.TextArea,{placeholder:"Your throughts",value:A,onChange:e=>c(e.target.value)})}),(0,i.jsx)(n.Col,{children:(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Button,{onClick:()=>a(!1),children:"Cancel"}),(0,i.jsx)(n.Button,{type:"primary",onClick:h,loading:e,children:"Add"})]})})]})})]})})]})};var iA=t(97429).Buffer;const{sol:{interDao:cA}}=me.Z;let dA=0;const uA=e=>{let{loading:s}=e;return s?(0,i.jsx)(n.Card,{style:{borderWidth:"0 0 1px 0",borderRadius:0,background:"transparent"},bodyStyle:{padding:"0 0 24px 0"},children:(0,i.jsx)(n.Skeleton,{loading:!0,active:!0,avatar:!0,children:(0,i.jsx)(n.List.Item.Meta,{avatar:(0,i.jsx)(n.Avatar,{}),title:"",description:""})})}):(0,i.jsx)(o.Fragment,{})},pA=e=>{let{total:s}=e;return(0,i.jsxs)(n.Space,{children:[(0,i.jsx)(n.Typography.Title,{level:5,children:"Discussion"}),(0,i.jsx)(n.Tag,{children:s})]})},hA=e=>{let{proposalAddress:s}=e;const[t,A]=(0,o.useState)(4),r=(0,a.useSelector)((e=>e.comments[s])),c=(0,a.useDispatch)(),{loading:d}=(e=>{const[s,t]=(0,o.useState)(!1),A=(0,a.useDispatch)(),r=(0,o.useCallback)((async()=>{const s=ia(e);var a;dA=cA.program.provider.connection.onProgramAccountChange(cA.program.programId,(async s=>{try{const a=cA.parseIpfsolData(s.accountInfo.data);t(!0),await A(da({proposal:e,wallet:a.authority.toBase58(),cid:a.cid})).unwrap()}catch(a){(0,U.cB)(a)}finally{t(!1)}}),"confirmed",[{memcmp:{offset:0,bytes:aa().encode((a="ipfsol",iA.from($t.sha256.digest(`account:${sa()(a,{pascalCase:!0})}`)).slice(0,8)))}},{memcmp:{offset:40,bytes:aa().encode(s)}}]),dA||setTimeout((()=>r()),500)}),[A,e]);return(0,o.useEffect)((()=>(r(),()=>{(async()=>{await cA.removeListener(dA)})()})),[r]),{loading:s}})(s),u=(0,o.useCallback)((async()=>{await c(ca(s)).unwrap()}),[c,s]);(0,o.useEffect)((()=>{u()}),[u]);const p=e=>Date.parse(e),h=(0,o.useMemo)((()=>{if(!r||!Object.keys(r).length)return[];let e=[];for(const s of Object.values(r))e.push(...s);return e.sort(((e,s)=>p(s.time)-p(e.time))),e}),[r]);return(0,i.jsx)(n.Card,{bordered:!1,children:(0,i.jsxs)(n.Row,{gutter:[24,24],justify:"center",children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(nA,{title:(0,i.jsx)(pA,{total:h.length}),children:(0,i.jsx)(lA,{})})}),(0,i.jsxs)(n.Col,{span:24,children:[(0,i.jsx)(uA,{loading:d}),(0,i.jsx)(rA,{comments:h.slice(0,t)})]}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{type:"text",icon:(0,i.jsx)(l.Z,{name:"chevron-down-outline"}),onClick:()=>A(t+4),disabled:(null===h||void 0===h?void 0:h.length)<4,children:"View more"})})]})})},{manifest:{appId:gA}}=me.Z,mA=()=>{const e=(0,r.useHistory)(),{proposalAddress:s,daoAddress:t}=(0,r.useParams)(),{loading:A}=(0,je.Z)(s),c=(0,a.useSelector)((e=>e.proposal)),d=(0,o.useCallback)((()=>{if(!c[s])return e.push(`/app/${gA}/page-not-found`)}),[s,c,e]);return(0,o.useEffect)((()=>{d()}),[d]),(0,i.jsx)(n.Spin,{spinning:A,tip:"Loading Proposal Data...",children:(0,i.jsx)(n.Row,{justify:"center",children:(0,i.jsx)(n.Col,{xs:24,lg:18,children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Button,{type:"text",icon:(0,i.jsx)(l.Z,{name:"arrow-back-outline"}),onClick:()=>e.push(`/app/${gA}/dao/${t}`),children:"Back"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{xs:24,md:16,children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Kt,{proposalAddress:s,daoAddress:t})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Ka,{proposalAddress:s,daoAddress:t})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(hA,{proposalAddress:s})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(aA,{proposalAddress:s,daoAddress:t})})]})}),(0,i.jsx)(n.Col,{xs:24,md:8,children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(_a,{proposalAddress:s,daoAddress:t})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)($a,{proposalAddress:s,daoAddress:t})})]})})]})})]})})})})},{manifest:{appId:xA}}=me.Z,CA=e=>{let{daoAddress:s,onSave:t,...a}=e;const A=(0,r.useHistory)();return(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{flex:"auto",children:(0,i.jsx)(n.Button,{size:"large",onClick:async()=>{A.push(`/app/${xA}/dao/${s}`)},type:"text",children:"Cancel"})}),(0,i.jsx)(n.Col,{children:(0,i.jsx)(n.Button,{size:"large",...a,onClick:t,type:"primary",children:"Save"})})]})};var yA=t(97429).Buffer;const{sol:{interDao:fA}}=me.Z,jA=e=>{let{daoAddress:s}=e;const[t,a]=(0,o.useState)(!1),{metaData:r}=(0,L.Z)(s),[l,c]=(0,o.useState)(r),d=(0,ue.Z)(),u=(0,o.useMemo)((()=>{if(!l)return;const{optionals:e}=l;if(!e.length)return!0;for(const s of e)if(!(0,U.b3)(s))return!1;return!0}),[l]);return(0,o.useEffect)((()=>{!l&&r&&c(r)}),[r,l]),(0,i.jsxs)(n.Row,{gutter:[32,32],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(et,{metadata:l||Ls,setMetadata:c})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(CA,{onSave:async()=>{if(l)try{a(!0);const e=new qe.Z,t=await e.set(l),{multihash:{digest:o}}=_e.k0.parse(t),r=yA.from(o),{txId:n}=await fA.updateDaoMetadata(r,s);window.notify({type:"success",description:"Update information successfully. Click here to view details",onClick:()=>window.open(A.util.explorer(n),"_blank")});const i={...l,cid:t};return d.setItem(s,i)}catch(e){return window.notify({type:"error",description:e.message})}finally{a(!1)}},daoAddress:s,loading:t,disabled:!u})})]})},bA=e=>{let{members:s,setMember:t}=e;const[a,A]=(0,o.useState)([]),r=(0,o.useCallback)((()=>{if(a.length)return;const e=[];for(const{walletAddress:t}of s)e.push(t);return A(e)}),[s,a]);return(0,o.useEffect)((()=>{r()}),[r]),(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{level:4,children:"People who'll be part of your team."})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Row,{gutter:[12,12],children:[s.length&&s.map(((e,A)=>{let{name:o,walletAddress:r}=e;return(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Pt,{name:o,walletAddress:r,onChange:e=>((e,a)=>{const A=[...s];for(const{walletAddress:t}of s)if(x()(t,e.target.value))return window.notify({type:"warning",description:"This wallet address already exists"});return A[a]={...A[a],[e.target.name]:e.target.value},t(A)})(e,A),remove:()=>(e=>{const a=[...s];return a.splice(e,1),t(a)})(A),disabledRemove:a.includes(r),disabledWalletInput:a.includes(r),disabledName:a.includes(r)})},A)})),(0,i.jsx)(n.Col,{span:4,children:(0,i.jsx)(n.Button,{block:!0,type:"dashed",icon:(0,i.jsx)(l.Z,{name:"add-outline"}),onClick:()=>{const e=[...s];return e.push({name:"",walletAddress:""}),t(e)},children:"Add"})})]})})]})};var wA=t(97429).Buffer;const{sol:{interDao:IA}}=me.Z,vA=e=>{let{daoAddress:s}=e;const[t,r]=(0,o.useState)(!1),{metaData:l}=(0,L.Z)(s),[c,d]=(0,o.useState)(),u=(0,a.useSelector)((e=>e.daos)),p=(0,ue.Z)(),h=(0,o.useMemo)((()=>{if(!c)return!0;for(const{walletAddress:e}of c.members)if(!y.account.isAddress(e))return!0;return!1}),[c]),m=async(e,s)=>{try{const{splt:t}=window.sentre,a=await t.deriveAssociatedAddress(e,s);if(await t.getAccountData(a))return!1}catch(t){return!0}};return(0,o.useEffect)((()=>{!c&&l&&d(l)}),[l,c]),(0,i.jsxs)(n.Row,{gutter:[32,32],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Nt,{regime:g.DaoRegimes.Autonomous})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(bA,{members:(null===c||void 0===c?void 0:c.members)||[],setMember:e=>{c&&d({...c,members:e})}})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(CA,{loading:t,onSave:async()=>{if(!c)return;const{mint:e}=null===u||void 0===u?void 0:u[s],t=e.toBase58();try{r(!0);const e=new qe.Z,a=await e.set(c),{multihash:{digest:o}}=_e.k0.parse(a),n=wA.from(o),{txId:l}=await IA.updateDaoMetadata(n,s),i=new dt(t);for(const{walletAddress:s}of c.members){await m(s,t)&&await i.mintToAccount(s,1)}window.notify({type:"success",description:"Update members successfully. Click here to view details",onClick:()=>window.open(A.util.explorer(l),"_blank")});const d={...c,cid:a};return p.setItem(s,d)}catch(a){window.notify({type:"error",description:a.message})}finally{r(!1)}},daoAddress:s,disabled:h})})]})},{sol:{interDao:SA}}=me.Z,BA=e=>{let{daoAddress:s}=e;const{regime:t}=(0,a.useSelector)((e=>e.daos[s])),[r,l]=(0,o.useState)(t),[c,d]=(0,o.useState)(!1);return(0,i.jsxs)(n.Row,{gutter:[32,32],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(re,{value:r,onChangeRegime:l})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(CA,{loading:c,onSave:async()=>{if(r&&!x()(r,t))try{d(!0);const{txId:e}=await SA.updateDaoRegime(r,s);return window.notify({type:"success",description:"Update regime successfully. Click here to view details",onClick:()=>window.open(A.util.explorer(e),"_blank")})}catch(e){window.notify({type:"error",description:e.message})}finally{d(!1)}},daoAddress:s,disabled:!r||x()(r,t)})})]})},EA=e=>{let{daoAddress:s}=e;const{metaData:t}=(0,L.Z)(s);return"multisig-dao"===(null===t||void 0===t?void 0:t.daoType)?(0,i.jsx)(vA,{daoAddress:s}):(0,i.jsx)(BA,{daoAddress:s})},{sol:{interDao:TA}}=me.Z,kA=e=>{let{daoAddress:s}=e;const[t,a]=(0,o.useState)(""),[r,c]=(0,o.useState)(!1);return(0,i.jsxs)(n.Row,{gutter:[16,16],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(n.Space,{size:12,children:[(0,i.jsx)(l.Z,{name:"alert-circle-outline"}),(0,i.jsx)(n.Typography.Text,{type:"secondary",className:"caption",children:"Your current account will lose the DAO control when you transfer authority."})]})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(at.Z,{style:{width:"100%"},label:"Transfer to author",value:(0,i.jsx)(n.Input,{placeholder:"E.g. Agt8...",onChange:e=>a(e.target.value),className:"border-less"})})}),(0,i.jsx)(n.Col,{span:24}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(CA,{loading:r,daoAddress:s,onSave:async()=>{if(y.account.isAddress(t))try{c(!0);const{txId:e}=await TA.transferAuthority(t,s);return window.notify({type:"success",description:"Transfer authority successfully. Click here to view details",onClick:()=>window.open(A.util.explorer(e),"_blank")})}catch(e){return window.notify({type:"error",description:e.message})}finally{c(!1)}}})})]})};var DA=t(40106);const{sol:{interDao:FA}}=me.Z,RA=e=>{let{daoAddress:s}=e;const[t,r]=(0,o.useState)("0"),[l,c]=(0,o.useState)(!1),{isNft:d,mint:u,supply:p}=(0,a.useSelector)((e=>e.daos[s])),h=ds(u.toBase58())||0,g=(0,o.useMemo)((()=>{if(!t)return!1;const e=DA.default.decimalize(t,h).toString();return!x()(new(M())(e),p)}),[h,t,p]);return(0,o.useEffect)((()=>{const e=p.div(new(M())(10**h));e&&r(e.toString())}),[h,p]),(0,i.jsxs)(n.Row,{gutter:[32,32],children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(Gt,{isNft:d,mintAddress:u.toBase58(),supply:t,onChangeSupply:r})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(CA,{loading:l,onSave:async()=>{try{c(!0);const e=DA.default.decimalize(t,h).toString(),{txId:a}=await FA.updateDaoSupply(new(M())(e),s);return window.notify({type:"success",description:"Update supply successfully. Click here to view details",onClick:()=>window.open(A.util.explorer(a),"_blank")})}catch(e){window.notify({type:"error",description:e.message})}finally{c(!1)}},daoAddress:s,disabled:!g})})]})},GA=()=>{const{daoAddress:e}=(0,r.useParams)();return(0,i.jsx)(n.Row,{gutter:[24,24],justify:"center",children:(0,i.jsx)(n.Col,{xs:24,lg:16,children:(0,i.jsx)(n.Card,{bodyStyle:{padding:0},bordered:!1,className:"edit-dao",children:(0,i.jsxs)(n.Row,{children:[(0,i.jsx)(n.Col,{span:24,className:"edit-dao_header",children:(0,i.jsx)(n.Typography.Title,{level:4,children:"Settings DAO "})}),(0,i.jsx)(n.Col,{span:24,className:"edit-dao_body",children:(0,i.jsxs)(n.Tabs,{children:[(0,i.jsx)(n.Tabs.TabPane,{tab:"Information",children:(0,i.jsx)(jA,{daoAddress:e})},"information"),(0,i.jsx)(n.Tabs.TabPane,{tab:"Regime",children:(0,i.jsx)(EA,{daoAddress:e})},"regime"),(0,i.jsx)(n.Tabs.TabPane,{tab:"Supply",children:(0,i.jsx)(RA,{daoAddress:e})},"supply"),(0,i.jsx)(n.Tabs.TabPane,{tab:"Transfer Authority",children:(0,i.jsx)(kA,{daoAddress:e})},"transfer-authority")]})})]})})})})},MA=e=>{let{children:s}=e;const t=(0,a.useSelector)((e=>e.loading)),A=(0,o.useMemo)((()=>Object.values(t).find((e=>!0===e.loading))),[t]);return null!==A&&void 0!==A&&A.message||!Object.values(t).length?(0,i.jsx)("div",{className:"loading-screen",style:{display:"block"},children:(0,i.jsxs)(n.Row,{gutter:[24,24],children:[(0,i.jsx)(n.Col,{span:24,style:{height:256}}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Row,{gutter:[24,24],justify:"center",children:(0,i.jsx)(n.Col,{children:(0,i.jsxs)(n.Space,{direction:"vertical",align:"center",size:32,children:[(0,i.jsx)(n.Spin,{size:"large"}),(0,i.jsx)(n.Typography.Title,{level:5,children:null===A||void 0===A?void 0:A.message})]})})})})]})}):(0,i.jsx)(o.Fragment,{children:s})},NA=t.p+"static/media/not-found.334de0791f036b45aea1.png",PA=()=>{const e=(0,r.useHistory)();return(0,i.jsxs)(n.Row,{justify:"center",children:[(0,i.jsx)(n.Col,{span:24,style:{height:156}}),(0,i.jsx)(n.Col,{xs:24,md:12,xl:10,children:(0,i.jsxs)(n.Card,{className:"page-not-found",bodyStyle:{padding:"72px 48px"},children:[(0,i.jsx)(n.Image,{preview:!1,src:NA}),(0,i.jsxs)(n.Row,{gutter:[16,16],justify:"center",style:{textAlign:"center"},children:[(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Title,{children:"Page Not Found"})}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Typography.Text,{style:{fontSize:20},children:"Check your spelling in the address bar. Or, try opening this site's home page to search or browse for the content."})}),(0,i.jsx)(n.Col,{span:24}),(0,i.jsx)(n.Col,{span:24,children:(0,i.jsx)(n.Button,{onClick:()=>e.push("/"),type:"primary",children:"Go to the homepage"})})]})]})})]})};var ZA=t(59828);const OA="voteBid",LA=(0,Os.createAsyncThunk)("voteBid/addLoading",(async e=>{let{id:s,message:t}=e;return{[s]:{loading:!0,message:t}}})),VA=(0,Os.createAsyncThunk)("voteBid/clearLoading",(async e=>({[e]:{loading:!1,message:""}}))),zA=(0,Os.createSlice)({name:OA,initialState:{},reducers:{},extraReducers:e=>{e.addCase(LA.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(VA.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)}))}}).reducer,{sol:{interDao:QA}}=me.Z,YA=["InitializeDAOEvent","UpdateDaoRegimeEvent","UpdateSupplyEvent","TransferAuthorityEvent","UpdateDaoMetadataEvent","InitializeProposalEvent","ExecuteProposalEvent","VoteForEvent","VoteAgainstEvent","CloseEvent"],UA={},WA=(e,s)=>{const t=UA[e].callbacks;for(const a of t)a(s)},HA=(e,s)=>{for(const t of e)UA[t]||(UA[t]={id:0,interval:void 0,callbacks:[]}),s&&UA[t].callbacks.push(s)},JA=()=>{const e=(0,o.useCallback)((async()=>{for(const e of YA){const s=UA[e]||{id:0,interval:void 0,callbacks:[]};s.interval||s.id||(s.interval=setInterval((async()=>{if(s.id)return clearInterval(s.interval);s.id=await QA.addListener(e,(s=>WA(e,s)))}),500))}}),[]);return(0,o.useEffect)((()=>(e(),()=>{(async()=>{for(const s of YA){const t=UA[s];try{await QA.removeListener(t.id)}catch(e){console.warn(e.message)}finally{t.id=0}}})()})),[e]),(0,i.jsx)(o.Fragment,{})},KA=()=>{const{wallet:{address:e}}=(0,A.useWallet)(),s=(0,a.useDispatch)(),t=(0,o.useCallback)((e=>{let{dao:t}=e;const a=t.toBase58();return s((0,ZA.E1)({address:a,force:!0}))}),[s]),r=(0,o.useCallback)((async()=>{s(LA({id:"fetch-daos",message:"Welcome to InterDAO. The application is loading..."}));try{if(!y.account.isAddress(e))return;await s((0,ZA.cq)()).unwrap()}catch(t){return window.notify({type:"error",description:"Cannot fetch data of DAOs"})}finally{setTimeout((()=>{s(VA("fetch-daos"))}),2e3)}}),[s,e]),n=(0,o.useCallback)((async()=>{HA(["InitializeDAOEvent","UpdateDaoRegimeEvent","UpdateSupplyEvent","TransferAuthorityEvent","UpdateDaoMetadataEvent"],t)}),[t]);return(0,o.useEffect)((()=>{r(),n()}),[r,n]),(0,i.jsx)(o.Fragment,{})},XA=()=>{const e=(0,a.useDispatch)(),s=(0,o.useCallback)((s=>{let{proposal:t}=s;const a=t.toBase58();return e((0,Ra.pU)({address:a,force:!0}))}),[e]),t=(0,o.useCallback)((async()=>{try{e(LA({id:"fetch-proposals",message:"Welcome to InterDAO. Loading proposal..."})),e((0,Ra.Bp)())}catch(s){return window.notify({type:"error",description:"Cannot fetch data of DAOs"})}finally{setTimeout((()=>{e(VA("fetch-proposals"))}),2e3)}}),[e]),A=(0,o.useCallback)((async()=>{HA(["InitializeProposalEvent","VoteForEvent","VoteAgainstEvent","ExecuteProposalEvent"],s)}),[s]);return(0,o.useEffect)((()=>{t(),A()}),[e,t,A]),(0,i.jsx)(o.Fragment,{})},{sol:{interDao:qA}}=me.Z,_A="receipt",$A=(0,Os.createAsyncThunk)("receipt/getReceipts",(async e=>{let{authorityAddress:s}=e;if(!y.account.isAddress(s))throw new Error("Invalid address");const{provider:{connection:t},programId:a,account:{receipt:A}}=qA.program,o=await t.getProgramAccounts(a,{filters:[{dataSize:A.size},{memcmp:{offset:0,bytes:g.RECEIPT_DISCRIMINATOR}},{memcmp:{offset:16,bytes:s}}]});let r={};return o.forEach((e=>{let{pubkey:s,account:{data:t}}=e;const a=s.toBase58(),A=qA.parseReceiptData(t);r[a]=A})),r})),eo=(0,Os.createAsyncThunk)("receipt/getReceipt",(async(e,s)=>{let{address:t,force:a}=e,{getState:A}=s;if(!y.account.isAddress(t))throw new Error("Invalid address");const{receipt:{[t]:o}}=A();if(o&&!a)return{[t]:o};return{[t]:await qA.getReceiptData(t)}})),so=(0,Os.createAsyncThunk)("receipt/upsetReceipt",(async e=>{let{address:s,data:t}=e;if(!y.account.isAddress(s))throw new Error("Invalid address");if(!t)throw new Error("Data is empty");return{[s]:t}})),to=(0,Os.createAsyncThunk)("receipt/deleteReceipt",(async e=>{let{address:s}=e;if(!y.account.isAddress(s))throw new Error("Invalid address");return{address:s}})),ao=(0,Os.createSlice)({name:_A,initialState:{},reducers:{},extraReducers:e=>{e.addCase($A.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(eo.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(so.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(to.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)}))}}).reducer,Ao=()=>{const{wallet:{address:e}}=(0,A.useWallet)(),s=(0,a.useDispatch)(),t=(0,o.useCallback)((e=>{let{receipt:t,proposal:a}=e;const A=t.toBase58();if(a){const e=a.toBase58();s((0,Ra.pU)({address:e,force:!0}))}return s(eo({address:A,force:!0})).unwrap()}),[s]),r=(0,o.useCallback)((async()=>{try{if(s(LA({id:"fetch-receipt",message:"Welcome to InterDAO. Loading Receipts..."})),!y.account.isAddress(e))return;await s($A({authorityAddress:e})).unwrap()}catch(t){return window.notify({type:"error",description:"Cannot fetch data of receipts"})}finally{s(VA("fetch-receipt"))}}),[s,e]),n=(0,o.useCallback)((async()=>{HA(["VoteForEvent","VoteAgainstEvent","CloseEvent"],t)}),[t]);return(0,o.useEffect)((()=>{r(),n()}),[r,n]),(0,i.jsx)(o.Fragment,{})},oo=new qe.Z,ro=()=>{const e=(0,a.useSelector)((e=>e.daos)),s=(0,ue.Z)(),t=(0,o.useCallback)((async()=>{Object.keys(e).map((async t=>{const a=await s.getItem(t),{metadata:A}=e[t],o=(0,U.al)(A);if(a&&a.cid===o)return;const r=await oo.get(o);if(!r)return;const n={...r,cid:o};await s.setItem(t,n)}))}),[e,s]);return(0,o.useEffect)((()=>{t()}),[t]),(0,i.jsx)(o.Fragment,{})},{manifest:{appId:no}}=me.Z,lo=()=>{const{setBackground:e}=(0,A.useUI)();return(0,o.useEffect)((()=>{e({light:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABaAAAAOEAQMAAABtgwSRAAAAA1BMVEXy7+kRCi+bAAAAzklEQVR42uzBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGD24EAAAAAAAMj/tRFUVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVaU9OCQAAAAAEPT/tS9MAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIsAfHIAAWlDygYAAAAASUVORK5CYII=",dark:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABaAAAAOECAYAAABXTZbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABtfSURBVHgB7dhBEYAwEACxAwcMv/r32Zro/hIZedb/7QEAAAAAgMveAQAAAACAgIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgKaAQAAAAAoCGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAhIAGAAAAACAhoAEAAAAASAhoAAAAAAASAhoAAAAAgISABgAAAAAgIaABAAAAAEgIaAAAAAAAEgIaAAAAAICEgAYAAAAAICGgAQAAAABICGgAAAAAABICGgAAAACAxAF5GQhFQL8xwgAAAABJRU5ErkJggg=="})}),[e]),(0,i.jsxs)(n.Row,{gutter:[24,24],justify:"center",children:[(0,i.jsx)(MA,{children:(0,i.jsx)(n.Col,{span:24,children:(0,i.jsxs)(r.Switch,{children:[(0,i.jsx)(r.Route,{exact:!0,path:`/app/${no}/dao`,component:Ee}),(0,i.jsx)(r.Route,{exact:!0,path:`/app/${no}/dao/create-dao`,component:zt}),(0,i.jsx)(r.Route,{exact:!0,path:`/app/${no}/dao/:daoAddress/:daoName`,component:js}),(0,i.jsx)(r.Route,{exact:!0,path:`/app/${no}/dao/:daoAddress/edit`,component:GA}),(0,i.jsx)(r.Route,{exact:!0,path:`/app/${no}/dao/:daoAddress/new-proposal`,component:Ns}),(0,i.jsx)(r.Route,{exact:!0,path:`/app/${no}/dao/:daoAddress/:daoName/proposal/:proposalAddress`,component:mA}),(0,i.jsx)(r.Route,{exact:!0,path:`/app/${no}/page-not-found`,component:PA}),(0,i.jsx)(r.Redirect,{from:"*",to:`/app/${no}/dao`})]})})}),(0,i.jsx)(n.Col,{span:24}),(0,i.jsx)(KA,{}),(0,i.jsx)(XA,{}),(0,i.jsx)(Ao,{}),(0,i.jsx)(JA,{}),(0,i.jsx)(ro,{})]})};var io=t(97429).Buffer;BigInt.prototype.toJSON=function(){return this.toString()};const co={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const s=Object.getPrototypeOf(e);return null!==s&&null===Object.getPrototypeOf(s)})(e)||"bigint"===typeof e||e instanceof w.PublicKey||e instanceof M()||io.isBuffer(e)}};var uo=t(32449);const po=(0,Os.configureStore)({middleware:e=>e(co),devTools:!1,reducer:{createDao:Xs,daos:ZA.ZP,tokenHolder:uo.Z,proposal:Ra.ZP,receipt:ao,voteBid:Ua,template:Le.ZP,loading:zA,comments:ua}});var ho=t(45597);const{manifest:{appId:go}}=me.Z,mo=()=>(0,i.jsx)(A.UIProvider,{appId:go,antd:{prefixCls:go},children:(0,i.jsx)(A.WalletProvider,{children:(0,i.jsx)(A.AccountProvider,{children:(0,i.jsx)(A.PoolProvider,{children:(0,i.jsx)(A.MintProvider,{children:(0,i.jsx)(a.Provider,{store:po,children:(0,i.jsx)(lo,{})})})})})})})},48544:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});var a=t(94751),A=t(45263);const o={Succeeded:"#0CA1BF",Failed:"#F9575E",Preparing:"#D4B106",Executed:"#03A326",Voting:"#40A9FF",Loading:"#1a1311"},r=e=>{let{status:s}=e;return(0,A.jsx)(a.Tag,{style:{color:o[s],border:"solid",margin:0},color:"transparent",children:s})}},48302:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var a=t(94751),A=t(45263);const o=e=>{let{label:s="",value:t=""}=e;return(0,A.jsxs)(a.Row,{align:"middle",gutter:[24,24],children:[(0,A.jsx)(a.Col,{flex:"auto",children:(0,A.jsx)(a.Typography.Text,{type:"secondary",children:s})}),(0,A.jsx)(a.Col,{children:t})]})}},29863:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var a=t(94751),A=t(45263);const o=e=>{let{label:s="",value:t,...o}=e;return(0,A.jsxs)(a.Space,{...o,direction:"vertical",children:[(0,A.jsx)(a.Typography.Text,{type:"secondary",children:s}),t]})}},71276:(e,s,t)=>{"use strict";t.d(s,{Z:()=>d});var a=t(58879);const A={appId:"interdao",url:"https://descartesnetwork.github.io/interdao.so/index.js"},o={development:{...A},staging:{...A},production:{...A}};var r=t(40401),n=t.n(r),l=t(97425),i=t(11439);const c={devnet:{interDao:new(n())(new i.Z,a.rpc,"BND6UZZG2rLGtaYLioBtXFnrBtvtp5g6YXWKEc4LLqrJ"),utility:new l.Utility(new i.Z,a.rpc),fee:1e6,taxman:"8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D"},testnet:{interDao:new(n())(new i.Z,a.rpc),utility:new l.Utility(new i.Z,a.rpc),fee:1e6,taxman:"8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D"},mainnet:{interDao:new(n())(new i.Z,a.rpc,"Cf9aesANCGv35NsqtGpJ4d3M7wKrcPLiGDLUxYPtaEab"),utility:new l.Utility(new i.Z,a.rpc),fee:1e6,taxman:"8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D"}},d={manifest:o[a.env],sol:c[a.net]}},51845:(e,s,t)=>{"use strict";t.d(s,{al:()=>n,b3:()=>l,cB:()=>d,q7:()=>i,sT:()=>r,t5:()=>c});var a=t(58879),A=t(50847);const o={t:"logo-telegram",twitter:"logo-twitter",facebook:"logo-facebook",discord:"logo-discord",global:"globe",medium:"logo-medium"},r=(e,s)=>{const t=new FileReader;t.readAsDataURL(e),t.onload=async()=>{t.result&&s(t.result)}},n=e=>{const s=new Uint8Array([18,32]),t=new Uint8Array(s.length+(null===e||void 0===e?void 0:e.length));t.set(s),t.set(e,s.length);return A.k0.decode(t).toString()},l=e=>/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e),i=e=>{if(!l(e))return"";let s="";const t=new URL(e).hostname.replace("www.","");for(const A of t){if("."===A)break;s+=A}const a=o[s.toLowerCase()];return a||o.global},c=(e,s)=>window.notify({type:"success",description:`${e} successfully. Click to view details.`,onClick:()=>window.open(a.util.explorer(s),"_blank")}),d=e=>(console.log("er",e),window.notify({type:"error",description:e.message}))},63637:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var a=t(76026),A=t(58879);const o=class{constructor(){this.provider=void 0,this.set=async e=>{const s=new File([JSON.stringify(e)],"file",{type:"application/json"});return await this.provider.put([s])},this.get=async e=>A.DataLoader.load(`ipfs^${e}`,(async()=>{const s=await this.provider.get(e),t=(await(null===s||void 0===s?void 0:s.files())||[])[0],a=new FileReader;return new Promise(((e,s)=>{try{if(!t)throw new Error("Cannot read empty file");a.onload=()=>{var s;const t=null===(s=a.result)||void 0===s?void 0:s.toString();if(!t)throw new Error("Cannot read empty file");return e(JSON.parse(t))},a.readAsText(t)}catch(A){return s(A.message)}}))})),this.provider=new a.xk({token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkaWQ6ZXRocjoweDg4MzdCZUI2ODM5MTcwODZjQUI3OTU0MzI3ZTgwOWU1ZTlCZTc2NTEiLCJpc3MiOiJ3ZWIzLXN0b3JhZ2UiLCJpYXQiOjE2NTU0NTU5NzI5MjAsIm5hbWUiOiJTZW50cmUifQ.Jf7oQOKMrBxp5morvs7DR_As4EU9Y5WybyuvY1teFN8"})}}},11439:(e,s,t)=>{"use strict";t.d(s,{Z:()=>A});var a=t(42224);const A=class{constructor(){this._publicKey=new a.PublicKey("GuestAccount11111111111111111111111111111111"),this._init=async()=>{var e;const s=await(null===(e=this._wallet)||void 0===e?void 0:e.getAddress());s&&(this._publicKey=new a.PublicKey(s))},this.signTransaction=async e=>this._wallet.signTransaction(e),this.signAllTransactions=async e=>{let s=[];for(const t of e){const e=await this.signTransaction(t);s.push(e)}return s},this._init()}get _wallet(){var e;return null===(e=window.sentre)||void 0===e?void 0:e.wallet}get publicKey(){return console.warn("This is an async getter for interface consistency. Please do not fully rely on this function."),this._publicKey}}},22734:(e,s,t)=>{"use strict";t.d(s,{K:()=>a.K,s:()=>n});var a=t(19102),A=t(92950),o=t(55754),r=t(32449);const n=e=>{const s=(0,o.useDispatch)(),t=(0,a.K)(e),[n,l]=(0,A.useState)(0),i=(0,A.useCallback)((async()=>{const t=(await s((0,r.g)({daoAddress:e})).unwrap())[e]||0;l(t)}),[e,s]);return(0,A.useEffect)((()=>{t&&i()}),[t,i]),n}},19102:(e,s,t)=>{"use strict";t.d(s,{K:()=>r});var a=t(55754),A=t(92950),o=t(59828);const r=e=>{const s=(0,a.useDispatch)(),t=(0,a.useSelector)((s=>s.daos[e]));return(0,A.useEffect)((()=>{if(!t)try{s((0,o.E1)({address:e})).unwrap()}catch(a){return window.notify({type:"error",description:a.message})}}),[e,t,s]),t}},85731:(e,s,t)=>{"use strict";t.d(s,{Z:()=>o});var a=t(92950),A=t(80972);const o=e=>{const{metaData:s}=(0,A.Z)(e),[t,o]=(0,a.useState)(),r=(0,a.useCallback)((()=>{if(null===s||void 0===s||!s.daoName)return;const e=s.daoName.replace(/ /g,"-").toLocaleLowerCase();return o(e)}),[null===s||void 0===s?void 0:s.daoName]);return(0,a.useEffect)((()=>{r()}),[r]),{daoNameUrl:t}}},22423:(e,s,t)=>{"use strict";t.d(s,{Z:()=>i});var a=t(92950),A=t(55754),o=t(51845),r=t(63637),n=t(1220),l=t(58879);const i=e=>{const s=(0,A.useDispatch)(),[t,i]=(0,a.useState)(),[c,d]=(0,a.useState)(!0),u=(0,a.useCallback)((async()=>{try{d(!0);const{[e]:{metadata:t}}=await l.DataLoader.load(`getProposal:${e}`,(()=>s((0,n.pU)({address:e})).unwrap()));if(!t)return i(void 0);const a=(0,o.al)(t),A=new r.Z,c=await A.get(a);return i(c)}catch(t){return window.notify({type:"error",description:t.message})}finally{d(!1)}}),[s,e]);return(0,a.useEffect)((()=>{u()}),[u]),{metaData:t,loading:c}}},15799:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(92950),A=t(55754),o=t(48744),r=t.n(o);const n=Math.floor(Number(new Date)/1e3),l=e=>{const s=(0,A.useSelector)((e=>e.proposal)),{startDate:t,endDate:o,executed:l,supply:i,votingAgainstPower:c,votingForPower:d,consensusQuorum:u,consensusMechanism:p}=s[e]||{},h=(0,a.useMemo)((()=>{if(!i)return new(r())(0);return"stakedTokenCounter"===(p?Object.keys(p)[0]:"")?i:i.mul(o.sub(t))}),[p,o,t,i]),g=(0,a.useMemo)((()=>{const e=u?Object.keys(u)[0]:"";if(!c||!c)return!1;const s=d.sub(c);return!s.lte(new(r())(0))&&("half"===e&&1===s.cmp(h.div(new(r())(2)))||("oneThird"===e&&1===s.cmp(h.div(new(r())(3)))||"twoThird"===e&&1===s.cmp(h.mul(new(r())(2)).div(new(r())(3)))))}),[h,u,c,d]);return{status:(0,a.useMemo)((()=>s?n<Number(t)?"Preparing":n<Number(o)?"Voting":l?"Executed":g?"Succeeded":"Failed":"Loading"),[o,l,g,s,t]),isSuccess:g,actualSupply:h}}},80972:(e,s,t)=>{"use strict";t.d(s,{Z:()=>c});var a=t(92950),A=t(55754),o=t(95418),r=t(58039),n=t(63637),l=t(51845);const i=new n.Z,c=e=>{const[s,t]=(0,a.useState)(),[n,c]=(0,a.useState)(!1),d=(0,A.useSelector)((e=>e.daos)),u=(0,r.Z)(),p=(0,a.useCallback)((async()=>{if(!o.account.isAddress(e))return t(void 0);c(!0);const s=await u.getItem(e),{metadata:a}=d[e]||{};if(!a)return c(!1);const A=(0,l.al)(a);if(s&&A===s.cid)return t(s),c(!1);const r=await i.get(A);if(!r)return c(!1);const n={...r,cid:A};return await u.setItem(e,n),t(r),c(!1)}),[e,d,u]);return(0,a.useEffect)((()=>{p()}),[p]),{metaData:s,loading:n}}},58039:(e,s,t)=>{"use strict";t.d(s,{Z:()=>n});var a=t(92950),A=t(58879),o=t(71276);const{manifest:{appId:r}}=o.Z,n=()=>{const{wallet:{address:e}}=(0,A.useWallet)();return(0,a.useMemo)((()=>new A.PDB(e).createInstance(r)),[e])}},59828:(e,s,t)=>{"use strict";t.d(s,{E1:()=>c,ZP:()=>u,cq:()=>i});var a=t(19289),A=t(95418),o=t(40401),r=t(71276);const{sol:{interDao:n}}=r.Z,l="dao",i=(0,a.createAsyncThunk)("dao/getDaos",(async()=>{const e=await n.program.account.dao.all([{memcmp:{offset:0,bytes:o.DAO_DISCRIMINATOR}}]);let s={};return e.forEach((e=>{let{publicKey:t,account:a}=e;const A=t.toBase58();s[A]=a})),s})),c=(0,a.createAsyncThunk)("dao/getDao",(async(e,s)=>{let{address:t,force:a}=e,{getState:o}=s;if(!A.account.isAddress(t))throw new Error("Invalid address");const{daos:{[t]:r}}=o();if(r&&!a)return{[t]:r};return{[t]:await n.getDaoData(t)}})),d=(0,a.createAsyncThunk)("dao/upsetDao",(async e=>{let{address:s,data:t}=e;if(!A.account.isAddress(s))throw new Error("Invalid address");if(!t)throw new Error("Data is empty");return{[s]:{...t}}})),u=(0,a.createSlice)({name:l,initialState:{},reducers:{},extraReducers:e=>{e.addCase(i.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(c.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(d.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)}))}}).reducer},1220:(e,s,t)=>{"use strict";t.d(s,{Bp:()=>l,ZP:()=>u,pU:()=>i});var a=t(19289),A=t(95418),o=t(71276);const{sol:{interDao:r}}=o.Z,n="proposal",l=(0,a.createAsyncThunk)(`${n}/getProposals`,(async()=>{const{account:e}=r.program;let s={};const t=await e.proposal.all();for(const{publicKey:a,account:A}of t){s[a.toBase58()]=A}return s})),i=(0,a.createAsyncThunk)(`${n}/getProposal`,(async(e,s)=>{let{address:t,force:a}=e,{getState:o}=s;if(!A.account.isAddress(t))throw new Error("Invalid address");const{proposal:{[t]:n}}=o();if(n&&!a)return{[t]:n};return{[t]:await r.getProposalData(t)}})),c=(0,a.createAsyncThunk)(`${n}/upsetProposal`,(async e=>{let{address:s,data:t}=e;if(!A.account.isAddress(s))throw new Error("Invalid address");if(!t)throw new Error("Data is empty");return{[s]:t}})),d=(0,a.createAsyncThunk)(`${n}/deleteProposal`,(async e=>{let{address:s}=e;if(!A.account.isAddress(s))throw new Error("Invalid address");return{address:s}})),u=(0,a.createSlice)({name:n,initialState:{},reducers:{},extraReducers:e=>{e.addCase(l.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(i.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(c.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(d.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)}))}}).reducer},62919:(e,s,t)=>{"use strict";t.d(s,{$D:()=>l,JJ:()=>d,Rm:()=>n,St:()=>i,ZP:()=>u,mS:()=>c,yx:()=>r});var a=t(19289);const A="template",o={visible:!1,tx:void 0,templateName:void 0,data:{}},r=(0,a.createAsyncThunk)(`${A}/setVisible`,(async e=>({visible:e}))),n=(0,a.createAsyncThunk)(`${A}/setTx`,(async e=>({tx:e}))),l=(0,a.createAsyncThunk)(`${A}/clearTx`,(async()=>({tx:void 0}))),i=(0,a.createAsyncThunk)(`${A}/setTemplateName`,(async e=>({templateName:e}))),c=(0,a.createAsyncThunk)(`${A}/setTemplateData`,(async e=>e)),d=(0,a.createAsyncThunk)(`${A}/clearTemplate`,(async()=>({visible:!1,tx:void 0,templateName:void 0,data:{}}))),u=(0,a.createSlice)({name:A,initialState:o,reducers:{},extraReducers:e=>{e.addCase(c.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e.data,t)})).addCase(r.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(n.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(i.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(l.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)})).addCase(d.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)}))}}).reducer},32449:(e,s,t)=>{"use strict";t.d(s,{Z:()=>d,g:()=>c});var a=t(19289),A=t(95418),o=t(27906),r=t(71276),n=t(58879);const{sol:{interDao:l}}=r.Z,i="tokenHolder",c=(0,a.createAsyncThunk)(`${i}/getTokenHolders`,(async(e,s)=>{let{daoAddress:t,force:a}=e,{getState:r}=s;if(!A.account.isAddress(t))throw new Error("Invalid address");const{daos:{[t]:{mint:i}},tokenHolder:{[t]:c}}=r(),d=i.toBase58();if(!A.account.isAddress(d))return{};if(c&&!a)return{[t]:c};const{provider:{connection:u}}=l.program;return{[t]:(await n.DataLoader.load("getTokenHolders"+d,(()=>u.getProgramAccounts(o.utils.token.TOKEN_PROGRAM_ID,{filters:[{dataSize:165},{memcmp:{bytes:d,offset:0}}]})))).length}})),d=(0,a.createSlice)({name:i,initialState:{},reducers:{},extraReducers:e=>{e.addCase(c.fulfilled,((e,s)=>{let{payload:t}=s;Object.assign(e,t)}))}}).reducer},42201:(e,s,t)=>{"use strict";t.d(s,{gj:()=>c,RM:()=>u,Qc:()=>D,Z$:()=>h});var a=t(92950),A=t(95418),o=t(58879),r=t(94751),n=t(69716),l=t(45263);const i=[void 0],c=e=>{let{mintAddress:s,size:t=24,icon:c=(0,l.jsx)(n.Z,{name:"diamond-outline"}),reversed:d=!1,...u}=e;const[p,h]=(0,a.useState)(i),{tokenProvider:g}=(0,o.useMint)(),{pools:m}=(0,o.usePool)(),x=(0,a.useCallback)((async e=>{const s=await g.findByAddress(e);if(null!==s&&void 0!==s&&s.logoURI)return s.logoURI}),[g]),C=(0,a.useCallback)((async()=>{if(!A.account.isAddress(s))return h(i);const e=Object.values(m||{}).find((e=>{let{mint_lpt:t}=e;return t===s}));if(e){const{mint_a:s,mint_b:t}=e,a=await Promise.all([s,t].map(x));return d&&a.reverse(),h(a)}const t=await x(s);return h([t])}),[s,d,x,m]);return(0,a.useEffect)((()=>{C()}),[C]),1===p.length?(0,l.jsx)(r.Avatar,{src:p[0],size:t,style:{backgroundColor:"#2D3355",border:"none"},...u,children:c}):(0,l.jsx)(r.Avatar.Group,{style:{display:"block",whiteSpace:"nowrap"},...u,children:p.map(((e,s)=>(0,l.jsx)(r.Avatar,{src:e,size:t,style:{backgroundColor:"#2D3355",border:"none"},children:c},s)))})},d="Unknown Token",u=e=>{let{mintAddress:s,separator:t=" \u2022 ",reversed:r=!1}=e;const[n,i]=(0,a.useState)(d),{tokenProvider:c}=(0,o.useMint)(),{pools:u}=(0,o.usePool)(),p=(0,a.useCallback)((async e=>{const s=await c.findByAddress(e);return null!==s&&void 0!==s&&s.name?s.name:d}),[c]),h=(0,a.useCallback)((async()=>{if(!A.account.isAddress(s))return i(d);const e=Object.values(u||{}).find((e=>{let{mint_lpt:t}=e;return t===s}));if(e){const{mint_a:s,mint_b:a}=e,A=await Promise.all([s,a].map(p));return r&&A.reverse(),i(`${A.join(t)} LP`)}const a=await p(s);return i(a)}),[s,r,p,u,t]);return(0,a.useEffect)((()=>{h()}),[h]),(0,l.jsx)("span",{children:n})},p="TOKN",h=e=>{let{mintAddress:s,separator:t=" \u2022 ",reversed:r=!1}=e;const[n,i]=(0,a.useState)(p),{tokenProvider:c}=(0,o.useMint)(),{pools:d}=(0,o.usePool)(),u=(0,a.useCallback)((async e=>{const s=await c.findByAddress(e);return null!==s&&void 0!==s&&s.symbol?s.symbol:e.substring(0,4)}),[c]),h=(0,a.useCallback)((async()=>{if(!A.account.isAddress(s))return i(p);const e=Object.values(d||{}).find((e=>{let{mint_lpt:t}=e;return t===s}));if(e){const{mint_a:s,mint_b:a}=e,A=await Promise.all([s,a].map(u));return r&&A.reverse(),i(A.join(t))}const a=await u(s);return i(a)}),[s,r,u,d,t]);return(0,a.useEffect)((()=>{h()}),[h]),(0,l.jsx)("span",{children:n})};var g=t(58421);const m=e=>{let{mintAddress:s,onClick:t=(()=>{}),active:a=!1}=e;return(0,l.jsx)(r.Card,{bodyStyle:{padding:8,cursor:"pointer"},style:{borderRadius:8,backgroundColor:o.util.randomColor(s,.2)},className:"mint-tag",bordered:Boolean(a),onClick:()=>t(s),children:(0,l.jsxs)(r.Space,{size:8,style:{width:"100%",justifyContent:"center"},children:[(0,l.jsx)(c,{mintAddress:s}),(0,l.jsx)(r.Typography.Text,{ellipsis:!0,style:{color:o.util.randomColor(s)},children:(0,l.jsx)(h,{mintAddress:s})}),a&&(0,l.jsx)(n.Z,{name:"checkmark-outline"})]})})};var x=t(7726);const C={devnet:"https://api.jup.ag/api/tokens/devnet",testnet:"https://api.jup.ag/api/markets/devnet",mainnet:"https://cache.jup.ag/tokens"},y=async()=>{const e=await fetch(C[o.net]).then((e=>e.json())),s=new Map;for(const t of e)s.set(t.address,!0);return{verify:e=>s.has(e)}},f=()=>{const{data:e}=(0,x.Z)("fetchJptTokens",y);return e},j=()=>(0,l.jsx)(r.Tooltip,{title:"Safe to Go",children:(0,l.jsx)(n.Z,{name:"checkmark-circle",style:{color:"#18A0FB",backgroundColor:"#fafafa",borderRadius:6,fontSize:12}})}),b=e=>{let{mintAddress:s,onClick:t=(()=>{})}=e;const a=f();return(0,l.jsx)(r.Card,{bodyStyle:{padding:8},style:{boxShadow:"unset",cursor:"pointer"},bordered:!1,onClick:()=>t(s),children:(0,l.jsxs)(r.Row,{gutter:[16,16],align:"middle",children:[(0,l.jsx)(r.Col,{children:(0,l.jsx)(c,{mintAddress:s,size:36})}),(0,l.jsx)(r.Col,{children:(0,l.jsxs)(r.Space,{direction:"vertical",size:0,children:[(0,l.jsxs)(r.Space,{children:[(0,l.jsx)(r.Typography.Text,{children:(0,l.jsx)(h,{mintAddress:s})}),(null===a||void 0===a?void 0:a.verify(s))&&(0,l.jsx)(j,{})]}),(0,l.jsx)(r.Typography.Text,{type:"secondary",className:"caption",children:(0,l.jsx)(u,{mintAddress:s})})]})})]})})},w=e=>{let{callback:s}=e;return(0,a.useEffect)((()=>{s()}),[s]),(0,l.jsx)(a.Fragment,{})},I=e=>(0,l.jsx)(g.ZP,{overflow:!0,children:(0,l.jsx)(w,{...e})}),v=e=>{const[s,t]=(0,a.useState)([]),{accounts:A}=(0,o.useAccount)(),r=(0,a.useMemo)((()=>{const e=new Map;for(const s of Object.values(A))e.set(s.mint,Number(s.amount.toString()));return e}),[A]),n=(0,a.useCallback)((async e=>{if(!r.size)return t([]);const s=e.sort(((e,s)=>{let t=r.get(e)||-1;return(r.get(s)||-1)-t}));return t(s)}),[r]);return(0,a.useEffect)((()=>{n(e)}),[e,n]),{sortedMints:s,sortMints:n}},S=()=>{const[e,s]=(0,a.useState)([]),{accounts:t}=(0,o.useAccount)(),A=(0,a.useCallback)((async()=>{const e=Object.values(t).map((e=>e.mint));return s(e)}),[t]);return(0,a.useEffect)((()=>{A()}),[A]),e},B=`${o.net}:selected_mints`;let E;let T;const k=e=>{let{value:s="",onChange:t=(()=>{}),visible:A}=e;const[i,c]=(0,a.useState)(""),[d,u]=(0,a.useState)(30),{recommendedMints:p,addRecommendMint:h}=(()=>{const[e,s]=(0,a.useState)([]),t=S(),{sortedMints:A}=v(t),r=(0,a.useCallback)((async()=>{let e=o.storage.get(B)||[];for(const s of A){if(e.length>=8)break;e.includes(s)||e.push(s)}return s(e.slice(0,8))}),[A]),n=(0,a.useCallback)((async e=>{let t=o.storage.get(B)||[];t=t.filter((s=>s!==e));const a=[e,...t].slice(0,8);return o.storage.set(B,a),s(a)}),[]);return(0,a.useEffect)((()=>{r()}),[r]),{recommendedMints:e,addRecommendMint:n}})(),{searchedMints:x,loading:C}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const[s,t]=(0,a.useState)(!1),[A,r]=(0,a.useState)([]),{tokenProvider:n}=(0,o.useMint)(),l=f(),i=S(),{sortedMints:c}=v(i),d=(0,a.useCallback)((async()=>{let e=new Set;for(const t of c)await n.findByAddress(t)&&e.add(t);const s=await n.all();for(const t of s)e.add(t.address);return Array.from(e)}),[c,n]),u=(0,a.useCallback)((async()=>{t(!0),E&&clearTimeout(E),E=setTimeout((async()=>{try{if(!e){const e=await d();return r(e)}const s=await n.find(e,0),a=[],A=[];for(const e of s)(null===l||void 0===l?void 0:l.verify(e.address))?a.push(e.address):A.push(e.address);let o=a.concat(A);return o.length||(o=i.filter((s=>s===e))),r(o)}catch(s){}finally{t(!1)}}),e?500:0)}),[d,l,e,i,n]);return(0,a.useEffect)((()=>{u()}),[u]),{searchedMints:A,loading:s}}(i),y=(0,a.useCallback)((e=>{t(e),h(e)}),[t,h]);return(0,a.useEffect)((()=>{u(30);const e=document.getElementById("sentre-token-selection-list");e&&(e.scrollTop=0)}),[i,A]),(0,l.jsxs)(r.Row,{gutter:[32,32],children:[(0,l.jsx)(r.Col,{span:24,children:(0,l.jsx)(r.Input,{placeholder:"Search token symbol, name, address, ...",suffix:(0,l.jsx)(r.Button,{type:"text",style:{marginRight:-7},icon:(0,l.jsx)(n.Z,{name:i?"close-outline":"search-outline"}),onClick:i?()=>c(""):()=>{},loading:C}),value:i,onChange:e=>c(e.target.value||"")})}),!i.length&&(0,l.jsx)(r.Col,{span:24,children:(0,l.jsx)(r.Row,{gutter:[8,8],children:p.map((e=>(0,l.jsx)(r.Col,{xs:12,sm:8,md:6,children:(0,l.jsx)(m,{mintAddress:e,onClick:y,active:e===s})},e)))})}),(0,l.jsx)(r.Col,{span:24,children:(0,l.jsx)(r.Spin,{spinning:C,tip:i.length?"Searching...":"Loading...",children:(0,l.jsx)(r.Row,{gutter:[8,8],style:{maxHeight:360,paddingRight:4,minHeight:50},className:"scrollbar",id:"sentre-token-selection-list",justify:"center",children:x.length||C?x.slice(0,d).map(((e,s)=>(0,l.jsxs)(r.Col,{span:24,children:[(0,l.jsx)(g.ZP,{height:60,overflow:!0,throttle:300,children:(0,l.jsx)(b,{mintAddress:e,onClick:y})}),s===d-5&&(0,l.jsx)(I,{callback:()=>{T&&clearTimeout(T),T=setTimeout((()=>u(d+30)),250)}})]},e+s))):(0,l.jsx)(r.Col,{children:(0,l.jsx)(r.Empty,{style:{padding:40}})})})})})]})},D=e=>{let{value:s="",onChange:t=(()=>{}),style:A={},disabled:o=!1}=e;const[i,d]=(0,a.useState)(!1),u=(0,a.useCallback)((e=>{t(e),d(!1)}),[t]);return(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(r.Button,{type:"text",onClick:()=>d(!0),style:{padding:4,...A},disabled:o,children:(0,l.jsxs)(r.Space,{children:[(0,l.jsx)(c,{mintAddress:s}),(0,l.jsx)(h,{mintAddress:s}),(0,l.jsx)(n.Z,{name:"chevron-down-outline"})]})}),(0,l.jsx)(r.Modal,{visible:i,onCancel:()=>d(!1),footer:null,closable:!1,centered:!0,className:"mint-select-modal",destroyOnClose:!0,children:(0,l.jsx)(k,{onChange:u})})]})}},33968:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var a=t(92950),A=t(94751),o=t(69716),r=t(45263);let n;const l=(0,a.forwardRef)(((e,s)=>{var t;let{max:l,onValue:i=(()=>{}),onChange:c=(()=>{}),...d}=e;const[u,p]=(0,a.useState)(""),[h,g]=(0,a.useState)(null),m=(0,a.useRef)(s),x=(0,a.useCallback)((e=>{const s=e=>{n&&(clearTimeout(n),n=void 0),p(e),n=setTimeout((()=>p("")),500)};return/^\d*(\.\d*)?$/.test(e)?l&&parseFloat(e)>parseFloat(l.toString())?s("Not enough balance"):i(e):s("Invalid character")}),[l,i]);return null!==h&&(null===m||void 0===m||null===(t=m.current)||void 0===t||t.setSelectionRange(h,h)),(0,r.jsx)(A.Tooltip,{title:(0,r.jsxs)(A.Space,{children:[(0,r.jsx)(o.Z,{name:"warning"}),u]}),visible:!!u,children:(0,r.jsx)(A.Input,{...d,onChange:e=>{c(e),g(e.target.selectionStart),x(e.target.value||"")},ref:m})})}))},54121:(e,s,t)=>{"use strict";let a;t.d(s,{ny:()=>o,sR:()=>a,tq:()=>A}),function(e){e.SplTransfer="spl-transfer",e.SplApprove="spl-approve",e.BlankTemplate="blank"}(a||(a={}));const A=e=>void 0!==e.rule,o=e=>void 0!==e.rule},37314:(e,s,t)=>{var a={"./blank/create":[23632,"src_templates_blank_create_tsx"],"./spl-approve/create":[66620,"src_templates_spl-approve_create_tsx"],"./spl-transfer/create":[37311,"src_templates_spl-transfer_create_tsx"]};function A(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}));var s=a[e],A=s[0];return t.e(s[1]).then((()=>t(A)))}A.keys=()=>Object.keys(a),A.id=37314,e.exports=A},3844:(e,s,t)=>{var a={"./blank/info":[73062,"src_templates_blank_info_tsx"],"./spl-approve/info":[90125,"src_templates_spl-approve_info_tsx"],"./spl-transfer/info":[63348,"src_templates_spl-transfer_info_tsx"],"./undefined/info":[86617,"src_templates_undefined_info_tsx"]};function A(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}));var s=a[e],A=s[0];return t.e(s[1]).then((()=>t(A)))}A.keys=()=>Object.keys(a),A.id=3844,e.exports=A},48229:(e,s,t)=>{var a={"./blank/proposal":[88496,"src_templates_blank_proposal_tsx"],"./spl-approve/proposal":[96862,"src_templates_spl-approve_proposal_tsx"],"./spl-transfer/proposal":[36436,"src_templates_spl-transfer_proposal_tsx"],"./undefined/proposal":[47068,"src_templates_undefined_proposal_tsx"]};function A(e){if(!t.o(a,e))return Promise.resolve().then((()=>{var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}));var s=a[e],A=s[0];return t.e(s[1]).then((()=>t(A)))}A.keys=()=>Object.keys(a),A.id=48229,e.exports=A},83272:(e,s,t)=>{"use strict";e.exports=t.p+"static/media/README.cc06a5f56da5ba785b81.md"},70854:(e,s,t)=>{"use strict";e.exports=t.p+"static/media/panel.e298385237037103815e.png"},27803:(e,s,t)=>{"use strict";e.exports=t.p+"static/media/panel1.9db8a32c5cc32daea6be.png"},85468:(e,s,t)=>{"use strict";e.exports=t.p+"static/media/panel2.522e7a52eff20c97fecc.png"},43094:()=>{},69159:()=>{},35883:()=>{},46601:()=>{},89214:()=>{},5696:()=>{},85568:()=>{},64009:()=>{},42611:()=>{},89408:()=>{},47956:()=>{},21724:()=>{},62678:()=>{},25819:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=src_bootstrap_app_tsx-src_static_images_system_bg-autonomous_png-src_static_images_system_bg--237e4b.1dcc6bff.chunk.js.map