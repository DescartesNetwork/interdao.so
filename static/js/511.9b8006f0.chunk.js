/*! For license information please see 511.9b8006f0.chunk.js.LICENSE.txt */
(globalThis.webpackChunkinterdao=globalThis.webpackChunkinterdao||[]).push([[511,995,895],{65967:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.NOISE=void 0;const i=n(28705);o(n(28705),t),t.NOISE=new i.Noise},87777:(e,t,n)=>{"use strict";n.d(t,{LB:()=>De,y9:()=>Ue,g4:()=>he,MA:()=>xe,LO:()=>Ae,ey:()=>$,L6:()=>B,Xo:()=>q,Cj:()=>Le,O1:()=>je,Zj:()=>Be,VT:()=>ce,Dy:()=>le});var r=n(92950),o=n.n(r),i=n(12181),s=n(41883);const a={display:"none"};function c(e){let{id:t,value:n}=e;return o().createElement("div",{id:t,style:a},n)}const l={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};function u(e){let{id:t,announcement:n}=e;return o().createElement("div",{id:t,style:l,role:"status","aria-live":"assertive","aria-atomic":!0},n)}const d={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},p={onDragStart:e=>`Picked up draggable item ${e}.`,onDragOver:(e,t)=>t?`Draggable item ${e} was moved over droppable area ${t}.`:`Draggable item ${e} is no longer over a droppable area.`,onDragEnd:(e,t)=>t?`Draggable item ${e} was dropped over droppable area ${t}`:`Draggable item ${e} was dropped.`,onDragCancel:e=>`Dragging was cancelled. Draggable item ${e} was dropped.`};var h;function f(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(h||(h={}));class g extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter((e=>{let{disabled:t}=e;return!t}))}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const y=(0,r.createContext)({activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,activeNodeClientRect:null,activators:[],ariaDescribedById:{draggable:""},containerNodeRect:null,dispatch:f,draggableNodes:{},droppableRects:new Map,droppableContainers:new g,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:f},scrollableAncestors:[],scrollableAncestorRects:[],recomputeLayouts:f,windowRect:null,willRecomputeLayouts:!1});function m(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:{},translate:{x:0,y:0}},droppable:{containers:new g}}}function b(e,t){switch(t.type){case h.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case h.DragMove:return e.draggable.active?{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}}:e;case h.DragEnd:case h.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case h.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new g(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case h.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const s=new g(e.droppable.containers);return s.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:s}}}case h.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new g(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}const v=(0,r.createContext)({type:null,event:null});function w(e){let{announcements:t=p,hiddenTextDescribedById:n,screenReaderInstructions:a}=e;const{announce:l,announcement:d}=function(){const[e,t]=(0,r.useState)("");return{announce:(0,r.useCallback)((e=>{null!=e&&t(e)}),[]),announcement:e}}(),f=(0,s.Ld)("DndLiveRegion"),[g,y]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{y(!0)}),[]),function(e){let{onDragStart:t,onDragMove:n,onDragOver:o,onDragEnd:i,onDragCancel:s}=e;const a=(0,r.useContext)(v),c=(0,r.useRef)(a);(0,r.useEffect)((()=>{if(a!==c.current){const{type:e,event:r}=a;switch(e){case h.DragStart:null==t||t(r);break;case h.DragMove:null==n||n(r);break;case h.DragOver:null==o||o(r);break;case h.DragCancel:null==s||s(r);break;case h.DragEnd:null==i||i(r)}c.current=a}}),[a,t,n,o,i,s])}((0,r.useMemo)((()=>({onDragStart(e){let{active:n}=e;l(t.onDragStart(n.id))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&l(t.onDragMove(n.id,null==r?void 0:r.id))},onDragOver(e){let{active:n,over:r}=e;l(t.onDragOver(n.id,null==r?void 0:r.id))},onDragEnd(e){let{active:n,over:r}=e;l(t.onDragEnd(n.id,null==r?void 0:r.id))},onDragCancel(e){let{active:n}=e;l(t.onDragCancel(n.id))}})),[l,t])),g?(0,i.createPortal)(o().createElement(o().Fragment,null,o().createElement(c,{id:n,value:a.draggable}),o().createElement(u,{id:f,announcement:d})),document.body):null}const k=Object.freeze({x:0,y:0});function _(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function E(e,t){if((0,s.vd)(e))return"0 0";const n=(0,s.DC)(e);return`${(n.x-t.left)/t.width*100}% ${(n.y-t.top)/t.height*100}%`}function S(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x,offsetLeft:t.offsetLeft+e*n.x,offsetTop:t.offsetTop+e*n.y})),{...t})}}const C=S(1);function x(e){const t=[];return e?function e(n){if(!n)return t;if((0,s.qk)(n)&&null!=n.scrollingElement&&!t.includes(n.scrollingElement))return t.push(n.scrollingElement),t;if(!(0,s.Re)(n)||(0,s.vZ)(n))return t;if(t.includes(n))return t;const r=window.getComputedStyle(n);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.getComputedStyle(e);const n=/(auto|scroll|overlay)/;return null!=["overflow","overflowX","overflowY"].find((e=>{const r=t[e];return"string"===typeof r&&n.test(r)}))}(n,r)&&t.push(n),function(e){return"fixed"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.getComputedStyle(e)).position}(n,r)?t:e(n.parentNode)}(e.parentNode):t}function I(e){return s.Nq&&e?(0,s.FJ)(e)?e:(0,s.UG)(e)?(0,s.qk)(e)||e===(0,s.r3)(e).scrollingElement?window:(0,s.Re)(e)?e:null:null:null}function A(e){return(0,s.FJ)(e)?{x:e.scrollX,y:e.scrollY}:{x:e.scrollLeft,y:e.scrollTop}}var P;function R(e){const t={x:0,y:0},n={x:e.scrollWidth-e.clientWidth,y:e.scrollHeight-e.clientHeight};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}function O(e){return!(!s.Nq||!e)&&e===document.scrollingElement}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(P||(P={}));const T={x:.2,y:.2};function D(e,t,n){let{top:r,left:o,right:i,bottom:s}=n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:T;const{clientHeight:l,clientWidth:u}=e,d=O(e)?{top:0,left:0,right:u,bottom:l,width:u,height:l}:t,{isTop:p,isBottom:h,isLeft:f,isRight:g}=R(e),y={x:0,y:0},m={x:0,y:0},b={height:d.height*c.y,width:d.width*c.x};return!p&&r<=d.top+b.height?(y.y=P.Backward,m.y=a*Math.abs((d.top+b.height-r)/b.height)):!h&&s>=d.bottom-b.height&&(y.y=P.Forward,m.y=a*Math.abs((d.bottom-b.height-s)/b.height)),!g&&i>=d.right-b.width?(y.x=P.Forward,m.x=a*Math.abs((d.right-b.width-i)/b.width)):!f&&o<=d.left+b.width&&(y.x=P.Backward,m.x=a*Math.abs((d.left+b.width-o)/b.width)),{direction:y,speed:m}}function M(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function N(e){return e.reduce(((e,t)=>(0,s.IH)(e,A(t))),k)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k;if(!e||!(0,s.Re)(e))return n;const r={x:n.x+e.offsetLeft,y:n.y+e.offsetTop};return e.offsetParent===t?r:j(e.offsetParent,t,r)}function L(e){const{offsetWidth:t,offsetHeight:n}=e,{x:r,y:o}=j(e,null);return{width:t,height:n,offsetTop:o,offsetLeft:r}}function B(e){if((0,s.FJ)(e)){const e=window.innerWidth,t=window.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t,offsetTop:0,offsetLeft:0}}const{offsetTop:t,offsetLeft:n}=L(e),{width:r,height:o,top:i,bottom:a,left:c,right:l}=e.getBoundingClientRect();return{width:r,height:o,top:i,bottom:a,right:l,left:c,offsetTop:t,offsetLeft:n}}function z(e){const{width:t,height:n,offsetTop:r,offsetLeft:o}=L(e),i=N(x(e)),s=r-i.y,a=o-i.x;return{width:t,height:n,top:s,bottom:s+n,right:a+t,left:a,offsetTop:r,offsetLeft:o}}function F(e){return"top"in e}function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.offsetLeft,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.offsetTop;return[{x:t,y:n},{x:t+e.width,y:n},{x:t,y:n+e.height},{x:t+e.width,y:n+e.height}]}const $=e=>{let{collisionRect:t,droppableContainers:n}=e,r=1/0,o=null;const i=U(t,t.left,t.top);for(const s of n){const{rect:{current:e}}=s;if(e){const t=U(e,F(e)?e.left:void 0,F(e)?e.top:void 0),n=i.reduce(((e,n,r)=>e+_(t[r],n)),0),a=Number((n/4).toFixed(4));a<r&&(r=a,o=s.id)}}return o};function W(e,t){const n=Math.max(t.top,e.offsetTop),r=Math.max(t.left,e.offsetLeft),o=Math.min(t.left+t.width,e.offsetLeft+e.width),i=Math.min(t.top+t.height,e.offsetTop+e.height),s=o-r,a=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=s*a;return Number((o/(n+r-o)).toFixed(4))}return 0}const q=e=>{let{collisionRect:t,droppableContainers:n}=e,r=0,o=null;for(const i of n){const{rect:{current:e}}=i;if(e){const n=W(e,t);n>r&&(r=n,o=i.id)}}return o};var H,K,G,V;function X(e){const t=(0,r.useRef)(e);return(0,s.LI)((()=>{t.current!==e&&(t.current=e)}),[e]),t}!function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(H||(H={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(K||(K={})),function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(G||(G={})),function(e){e.Optimized="optimized"}(V||(V={}));const Y=new Map,Z={measure:L,strategy:G.WhileDragging,frequency:V.Optimized};function J(e,t){let{dragging:n,dependencies:o,config:i}=t;const[a,c]=(0,r.useState)(!1),{frequency:l,measure:u,strategy:d}={...Z,...i},p=(0,r.useRef)(e),h=(0,r.useCallback)((()=>c(!0)),[]),f=(0,r.useRef)(null),g=function(){switch(d){case G.Always:return!1;case G.BeforeDragging:return n;default:return!n}}(),y=(0,s.Gj)((t=>{if(g&&!n)return Y;if(!t||t===Y||p.current!==e||a){for(let t of e)t&&(t.rect.current=t.node.current?u(t.node.current):null);return function(e){const t=new Map;if(e)for(const n of e){if(!n)continue;const{id:e,rect:r}=n;null!=r.current&&t.set(e,r.current)}return t}(e)}return t}),[e,n,g,u,a]);return(0,r.useEffect)((()=>{p.current=e}),[e]),(0,r.useEffect)((()=>{a&&c(!1)}),[a]),(0,r.useEffect)((function(){g||requestAnimationFrame(h)}),[n,g]),(0,r.useEffect)((function(){g||"number"!==typeof l||null!==f.current||(f.current=setTimeout((()=>{h(),f.current=null}),l))}),[l,g,h,...o]),{layoutRectMap:y,recomputeLayouts:h,willRecomputeLayouts:a}}const Q=[];const ee=re(B),te=oe(B);function ne(e,t,n){const o=(0,r.useRef)(e);return(0,s.Gj)((r=>e?n||!r&&e||e!==o.current?(0,s.Re)(e)&&null==e.parentNode?null:t(e):null!=r?r:null:null),[e,n,t])}function re(e){return(t,n)=>ne(t,e,n)}function oe(e){const t=[];return function(n,o){const i=(0,r.useRef)(n);return(0,s.Gj)((r=>n.length?o||!r&&n.length||n!==i.current?n.map((t=>e(t))):null!=r?r:t:t),[n,o])}}function ie(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return(0,s.Re)(t)?t:e}function se(e){const{width:t,height:n,offsetLeft:r,offsetTop:o}=L(e);return{top:o,bottom:o+n,left:r,right:r+t,width:t,height:n,offsetTop:o,offsetLeft:r}}const ae=re(se);function ce(e,t){return(0,r.useMemo)((()=>({sensor:e,options:null!=t?t:{}})),[e,t])}function le(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)((()=>[...t].filter((e=>null!=e))),[...t])}class ue{constructor(e){this.target=e,this.listeners=[],this.removeAll=()=>{this.listeners.forEach((e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)}))}}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function de(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"===typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var pe,he;function fe(e){e.preventDefault()}function ge(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(pe||(pe={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter"}(he||(he={}));const ye={start:[he.Space,he.Enter],cancel:[he.Esc],end:[he.Space,he.Enter]},me=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case he.Right:return{...n,x:n.x+25};case he.Left:return{...n,x:n.x-25};case he.Down:return{...n,y:n.y+25};case he.Up:return{...n,y:n.y-25}}};class be{constructor(e){this.props=e,this.autoScrollEnabled=!1,this.coordinates=k;const{event:{target:t}}=e;this.props=e,this.listeners=new ue((0,s.r3)(t)),this.windowListeners=new ue((0,s.Jj)(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(pe.Resize,this.handleCancel),this.windowListeners.add(pe.VisibilityChange,this.handleCancel),setTimeout((()=>this.listeners.add(pe.Keydown,this.handleKeyDown)))}handleStart(){const{activeNode:e,onStart:t}=this.props;if(!e.node.current)throw new Error("Active draggable node is undefined");const n=B(e.node.current),r={x:n.left,y:n.top};this.coordinates=r,t(r)}handleKeyDown(e){if((0,s.vd)(e)){const{coordinates:t}=this,{active:n,context:r,options:o}=this.props,{keyboardCodes:i=ye,coordinateGetter:a=me,scrollBehavior:c="smooth"}=o,{code:l}=e;if(i.end.includes(l))return void this.handleEnd(e);if(i.cancel.includes(l))return void this.handleCancel(e);const u=a(e,{active:n,context:r.current,currentCoordinates:t});if(u){const n={x:0,y:0},{scrollableAncestors:o}=r.current;for(const r of o){const o=e.code,i=(0,s.$X)(u,t),{isTop:a,isRight:l,isLeft:d,isBottom:p,maxScroll:h,minScroll:f}=R(r),g=M(r),y={x:Math.min(o===he.Right?g.right-g.width/2:g.right,Math.max(o===he.Right?g.left:g.left+g.width/2,u.x)),y:Math.min(o===he.Down?g.bottom-g.height/2:g.bottom,Math.max(o===he.Down?g.top:g.top+g.height/2,u.y))},m=o===he.Right&&!l||o===he.Left&&!d,b=o===he.Down&&!p||o===he.Up&&!a;if(m&&y.x!==u.x){if(o===he.Right&&r.scrollLeft+i.x<=h.x||o===he.Left&&r.scrollLeft+i.x>=f.x)return void r.scrollBy({left:i.x,behavior:c});n.x=o===he.Right?r.scrollLeft-h.x:r.scrollLeft-f.x,r.scrollBy({left:-n.x,behavior:c});break}if(b&&y.y!==u.y){if(o===he.Down&&r.scrollTop+i.y<=h.y||o===he.Up&&r.scrollTop+i.y>=f.y)return void r.scrollBy({top:i.y,behavior:c});n.y=o===he.Down?r.scrollTop-h.y:r.scrollTop-f.y,r.scrollBy({top:-n.y,behavior:c});break}}this.handleMove(e,(0,s.IH)(u,n))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t),this.coordinates=t}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function ve(e){return Boolean(e&&"distance"in e)}function we(e){return Boolean(e&&"delay"in e)}be.activators=[{eventName:"onKeyDown",handler:(e,t)=>{let{keyboardCodes:n=ye,onActivation:r}=t;const{code:o}=e.nativeEvent;return!!n.start.includes(o)&&(e.preventDefault(),null==r||r({event:e.nativeEvent}),!0)}}];class ke{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){const{EventTarget:t}=(0,s.Jj)(e);return e instanceof t?e:(0,s.r3)(e)}(e.event.target);this.props=e,this.events=t,this.autoScrollEnabled=!0,this.activated=!1,this.timeoutId=null;const{event:r}=e,{target:o}=r;this.props=e,this.events=t,this.document=(0,s.r3)(o),this.documentListeners=new ue(this.document),this.listeners=new ue(n),this.windowListeners=new ue((0,s.Jj)(o)),this.initialCoordinates=(0,s.DC)(r),this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),this.windowListeners.add(pe.Resize,this.handleCancel),this.windowListeners.add(pe.DragStart,fe),this.windowListeners.add(pe.VisibilityChange,this.handleCancel),this.windowListeners.add(pe.ContextMenu,fe),this.documentListeners.add(pe.Keydown,this.handleKeydown),t){if(ve(t))return;if(we(t))return void(this.timeoutId=setTimeout(this.handleStart,t.delay))}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(pe.Click,ge,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(pe.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){const{activated:t,initialCoordinates:n,props:r}=this,{onMove:o,options:{activationConstraint:i}}=r;if(!n)return;const a=(0,s.DC)(e),c=(0,s.$X)(n,a);if(!t&&i){if(we(i))return de(c,i.tolerance)?this.handleCancel():void 0;if(ve(i))return null!=i.tolerance&&de(c,i.tolerance)?this.handleCancel():de(c,i.distance)?this.handleStart():void 0}e.cancelable&&e.preventDefault(),o(a)}handleEnd(){const{onEnd:e}=this.props;this.detach(),e()}handleCancel(){const{onCancel:e}=this.props;this.detach(),e()}handleKeydown(e){e.code===he.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const _e={move:{name:"pointermove"},end:{name:"pointerup"}};class Ee extends ke{constructor(e){const{event:t}=e,n=(0,s.r3)(t.target);super(e,_e,n)}}Ee.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button)&&(null==r||r({event:n}),!0)}}];const Se={move:{name:"mousemove"},end:{name:"mouseup"}};var Ce;!function(e){e[e.RightClick=2]="RightClick"}(Ce||(Ce={}));class xe extends ke{constructor(e){super(e,Se,(0,s.r3)(e.event.target))}}xe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==Ce.RightClick&&(null==r||r({event:n}),!0)}}];const Ie={move:{name:"touchmove"},end:{name:"touchend"}};class Ae extends ke{constructor(e){super(e,Ie)}static setup(){return window.addEventListener(Ie.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ie.move.name,e)};function e(){}}}function Pe(e,t){let{transform:n,...r}=t;return(null==e?void 0:e.length)?e.reduce(((e,t)=>t({transform:e,...r})),n):n}Ae.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return!(o.length>1)&&(null==r||r({event:n}),!0)}}];const Re=[{sensor:Ee,options:{}},{sensor:be,options:{}}],Oe={current:{}},Te=(0,r.createContext)({...k,scaleX:1,scaleY:1}),De=(0,r.memo)((function(e){let{id:t,autoScroll:n=!0,announcements:a,children:c,sensors:l=Re,collisionDetection:u=q,measuring:p,modifiers:f,screenReaderInstructions:g=d,..._}=e;var E,S,P,R,O;const T=(0,r.useReducer)(b,void 0,m),[M,j]=T,[L,B]=(0,r.useState)((()=>({type:null,event:null}))),[F,U]=(0,r.useState)(!1),{draggable:{active:$,nodes:W,translate:G},droppable:{containers:V}}=M,X=$?W[$]:null,Y=(0,r.useRef)({initial:null,translated:null}),Z=(0,r.useMemo)((()=>{var e;return null!=$?{id:$,data:null!=(e=null==X?void 0:X.data)?e:Oe,rect:Y}:null}),[$,X]),re=(0,r.useRef)(null),[oe,se]=(0,r.useState)(null),[ce,le]=(0,r.useState)(null),ue=(0,r.useRef)(_),de=(0,s.Ld)("DndDescribedBy",t),pe=(0,r.useMemo)((()=>V.getEnabled()),[V]),{layoutRectMap:he,recomputeLayouts:fe,willRecomputeLayouts:ge}=J(pe,{dragging:F,dependencies:[G.x,G.y],config:null==p?void 0:p.droppable}),ye=function(e,t){const n=null!==t?e[t]:void 0,r=n?n.node.current:null;return(0,s.Gj)((e=>{var n;return null===t?null:null!=(n=null!=r?r:e)?n:null}),[r,t])}(W,$),me=ce?(0,s.DC)(ce):null,be=ne(ye,null!=(E=null==p||null==(S=p.draggable)?void 0:S.measure)?E:z),ve=ee(ye),we=(0,r.useRef)(null),ke=we.current,_e=(0,r.useRef)({active:null,activeNode:ye,collisionRect:null,droppableRects:he,draggableNodes:W,draggingNodeRect:null,droppableContainers:V,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null,translatedRect:null}),Ee=V.getNodeFor(null==(P=_e.current.over)?void 0:P.id),Se=ee(ye?ye.ownerDocument.defaultView:null),Ce=ee(ye?ye.parentElement:null),xe=function(e){const t=(0,r.useRef)(e),n=(0,s.Gj)((n=>e?n&&e&&t.current&&e.parentNode===t.current.parentNode?n:x(e):Q),[e]);return(0,r.useEffect)((()=>{t.current=e}),[e]),n}($?null!=Ee?Ee:ye:null),Ie=te(xe),Ae=function(e){let{disabled:t,forceRecompute:n}=e;const[o,i]=(0,s.wm)(),a=ae(t?null:ie(o.current),n);return(0,r.useMemo)((()=>({nodeRef:o,rect:a,setRef:i})),[a,o,i])}({disabled:null==$,forceRecompute:ge}),De=null!=(R=Ae.rect)?R:be,Me=De===be?(je=ke,(Ne=be)&&je?{x:Ne.left-je.left,y:Ne.top-je.top}:k):k;var Ne,je;const Le=Pe(f,{transform:{x:G.x-Me.x,y:G.y-Me.y,scaleX:1,scaleY:1},activatorEvent:ce,active:Z,activeNodeRect:ve,containerNodeRect:Ce,draggingNodeRect:De,over:_e.current.over,overlayNodeRect:Ae.rect,scrollableAncestors:xe,scrollableAncestorRects:Ie,windowRect:Se}),Be=me?(0,s.IH)(me,G):null,ze=function(e){const[t,n]=(0,r.useState)(null),o=(0,r.useRef)(e),i=(0,r.useCallback)((e=>{const t=I(e.target);t&&n((e=>e?(e.set(t,A(t)),new Map(e)):null))}),[]);return(0,r.useEffect)((()=>{const t=o.current;if(e!==t){r(t);const s=e.map((e=>{const t=I(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,A(t)]):null})).filter((e=>null!=e));n(s.length?new Map(s):null),o.current=e}return()=>{r(e),r(t)};function r(e){e.forEach((e=>{const t=I(e);null==t||t.removeEventListener("scroll",i)}))}}),[i,e]),(0,r.useMemo)((()=>e.length?t?Array.from(t.values()).reduce(((e,t)=>(0,s.IH)(e,t)),k):N(e):k),[e,t])}(xe),Fe=(0,s.IH)(Le,ze),Ue=De?C(De,Le):null,$e=Ue?C(Ue,ze):null,We=Z&&$e?u({active:Z,collisionRect:$e,droppableContainers:pe}):null,[qe,He]=(0,r.useState)(null),Ke=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(Le,null!=(O=null==qe?void 0:qe.rect)?O:null,be),Ge=(0,r.useCallback)(((e,t)=>{let{sensor:n,options:r}=t;if(!re.current)return;const o=W[re.current];if(!o)return;const s=new n({active:re.current,activeNode:o,event:e.nativeEvent,options:r,context:_e,onStart(e){const t=re.current;if(!t)return;const n=W[t];if(!n)return;const{onDragStart:r}=ue.current,o={active:{id:t,data:n.data,rect:Y}};(0,i.unstable_batchedUpdates)((()=>{j({type:h.DragStart,initialCoordinates:e,active:t}),B({type:h.DragStart,event:o})})),null==r||r(o)},onMove(e){j({type:h.DragMove,coordinates:e})},onEnd:a(h.DragEnd),onCancel:a(h.DragCancel)});function a(e){return async function(){const{active:t,over:n,scrollAdjustedTranslate:r}=_e.current;let o=null;if(t&&r){const{cancelDrop:i}=ue.current;if(o={active:t,delta:r,over:n},e===h.DragEnd&&"function"===typeof i){await Promise.resolve(i(o))&&(e=h.DragCancel)}}if(re.current=null,(0,i.unstable_batchedUpdates)((()=>{j({type:e}),He(null),U(!1),se(null),le(null),o&&B({type:e,event:o})})),o){const{onDragCancel:t,onDragEnd:n}=ue.current,r=e===h.DragEnd?n:t;null==r||r(o)}}}(0,i.unstable_batchedUpdates)((()=>{se(s),le(e.nativeEvent)}))}),[j,W]),Ve=(0,r.useCallback)(((e,t)=>(n,r)=>{const o=n.nativeEvent;null!==re.current||o.dndKit||o.defaultPrevented||!0===e(n,t.options)&&(o.dndKit={capturedBy:t.sensor},re.current=r,Ge(n,t))}),[Ge]),Xe=function(e,t){return(0,r.useMemo)((()=>e.reduce(((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map((e=>({eventName:e.eventName,handler:t(e.handler,n)})))]}),[])),[e,t])}(l,Ve);!function(e){(0,r.useEffect)((()=>{if(!s.Nq)return;const t=e.map((e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()}));return()=>{for(const e of t)null==e||e()}}),e.map((e=>{let{sensor:t}=e;return t})))}(l),(0,s.LI)((()=>{ue.current=_}),Object.values(_)),(0,r.useEffect)((()=>{null!=$&&U(!0)}),[$]),(0,r.useEffect)((()=>{Z||(we.current=null),Z&&be&&!we.current&&(we.current=be)}),[be,Z]),(0,r.useEffect)((()=>{const{onDragMove:e}=ue.current,{active:t,over:n}=_e.current;if(!t)return;const r={active:t,delta:{x:Fe.x,y:Fe.y},over:n};B({type:h.DragMove,event:r}),null==e||e(r)}),[Fe.x,Fe.y]),(0,r.useEffect)((()=>{const{active:e,droppableContainers:t,scrollAdjustedTranslate:n}=_e.current;if(!e||!re.current||!n)return;const{onDragOver:r}=ue.current,o=t.get(We),s=o&&o.rect.current?{id:o.id,rect:o.rect.current,data:o.data,disabled:o.disabled}:null,a={active:e,delta:{x:n.x,y:n.y},over:s};(0,i.unstable_batchedUpdates)((()=>{He(s),B({type:h.DragOver,event:a}),null==r||r(a)}))}),[We]),(0,s.LI)((()=>{_e.current={active:Z,activeNode:ye,collisionRect:$e,droppableRects:he,draggableNodes:W,draggingNodeRect:De,droppableContainers:V,over:qe,scrollableAncestors:xe,scrollAdjustedTranslate:Fe,translatedRect:Ue},Y.current={initial:De,translated:Ue}}),[Z,ye,$e,W,De,he,V,qe,xe,Fe,Ue]),function(e){let{acceleration:t,activator:n=H.Pointer,canScroll:o,draggingRect:i,enabled:a,interval:c=5,order:l=K.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:p,threshold:h}=e;const[f,g]=(0,s.Yz)(),y=(0,r.useRef)({x:1,y:1}),m=(0,r.useMemo)((()=>{switch(n){case H.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case H.DraggableRect:return i}return null}),[n,i,u]),b=(0,r.useRef)(k),v=(0,r.useRef)(null),w=(0,r.useCallback)((()=>{const e=v.current;if(!e)return;const t=y.current.x*b.current.x,n=y.current.y*b.current.y;e.scrollBy(t,n)}),[]),_=(0,r.useMemo)((()=>l===K.TreeOrder?[...d].reverse():d),[l,d]);(0,r.useEffect)((()=>{if(a&&d.length&&m){for(const e of _){if(!1===(null==o?void 0:o(e)))continue;const n=d.indexOf(e),r=p[n];if(!r)continue;const{direction:i,speed:s}=D(e,r,m,t,h);if(s.x>0||s.y>0)return g(),v.current=e,f(w,c),y.current=s,void(b.current=i)}y.current={x:0,y:0},b.current={x:0,y:0},g()}else g()}),[t,w,o,g,a,c,JSON.stringify(m),f,d,_,p,JSON.stringify(h)])}({...function(){const e=!1===(null==oe?void 0:oe.autoScrollEnabled),t="object"===typeof n?!1===n.enabled:!1===n,r=!e&&!t;if("object"===typeof n)return{...n,enabled:r};return{enabled:r}}(),draggingRect:Ue,pointerCoordinates:Be,scrollableAncestors:xe,scrollableAncestorRects:Ie});const Ye=(0,r.useMemo)((()=>({active:Z,activeNode:ye,activeNodeRect:be,activeNodeClientRect:ve,activatorEvent:ce,activators:Xe,ariaDescribedById:{draggable:de},containerNodeRect:Ce,dispatch:j,dragOverlay:Ae,draggableNodes:W,droppableContainers:V,droppableRects:he,over:qe,recomputeLayouts:fe,scrollableAncestors:xe,scrollableAncestorRects:Ie,willRecomputeLayouts:ge,windowRect:Se})),[Z,ye,ve,be,ce,Xe,Ce,Ae,j,W,de,V,he,qe,fe,xe,Ie,ge,Se]);return o().createElement(v.Provider,{value:L},o().createElement(y.Provider,{value:Ye},o().createElement(Te.Provider,{value:Ke},c)),o().createElement(w,{announcements:a,hiddenTextDescribedById:de,screenReaderInstructions:g}))})),Me=(0,r.createContext)(null),Ne="button";function je(e){let{id:t,data:n,disabled:o=!1,attributes:i}=e;const a=(0,s.Ld)("Droppable"),{active:c,activeNodeRect:l,activatorEvent:u,ariaDescribedById:d,draggableNodes:p,droppableRects:h,activators:f,over:g}=(0,r.useContext)(y),{role:m=Ne,roleDescription:b="draggable",tabIndex:v=0}=null!=i?i:{},w=(null==c?void 0:c.id)===t,k=(0,r.useContext)(w?Te:Me),[_,E]=(0,s.wm)(),S=function(e,t){return(0,r.useMemo)((()=>e.reduce(((e,n)=>{let{eventName:r,handler:o}=n;return e[r]=e=>{o(e,t)},e}),{})),[e,t])}(f,t),C=X(n);(0,r.useEffect)((()=>(p[t]={id:t,key:a,node:_,data:C},()=>{const e=p[t];e&&e.key===a&&delete p[t]})),[p,t]);return{active:c,activeNodeRect:l,activatorEvent:u,attributes:(0,r.useMemo)((()=>({role:m,tabIndex:v,"aria-pressed":!(!w||m!==Ne)||void 0,"aria-roledescription":b,"aria-describedby":d.draggable})),[m,v,w,b,d.draggable]),droppableRects:h,isDragging:w,listeners:o?void 0:S,node:_,over:g,setNodeRef:E,transform:k}}function Le(){return(0,r.useContext)(y)}function Be(e){let{data:t,disabled:n=!1,id:o}=e;const i=(0,s.Ld)("Droppable"),{active:a,dispatch:c,over:l}=(0,r.useContext)(y),u=(0,r.useRef)(null),[d,p]=(0,s.wm)(),f=X(t);return(0,s.LI)((()=>(c({type:h.RegisterDroppable,element:{id:o,key:i,disabled:n,node:d,rect:u,data:f}}),()=>c({type:h.UnregisterDroppable,key:i,id:o}))),[o]),(0,r.useEffect)((()=>{c({type:h.SetDroppableDisabled,id:o,key:i,disabled:n})}),[n]),{active:a,rect:u,isOver:(null==l?void 0:l.id)===o,node:d,over:l,setNodeRef:p}}const ze=e=>(0,s.vd)(e)?"transform 250ms ease":void 0,Fe={duration:250,easing:"ease",dragSourceOpacity:0},Ue=o().memo((e=>{let{adjustScale:t=!1,children:n,dropAnimation:i=Fe,style:a,transition:c=ze,modifiers:l,wrapperElement:u="div",className:d,zIndex:p=999}=e;var h,f;const{active:g,activeNodeRect:y,activeNodeClientRect:m,containerNodeRect:b,draggableNodes:v,activatorEvent:w,over:k,dragOverlay:_,scrollableAncestors:S,scrollableAncestorRects:C,windowRect:x}=Le(),I=(0,r.useContext)(Te),A=Pe(l,{activatorEvent:w,active:g,activeNodeRect:m,containerNodeRect:b,draggingNodeRect:_.rect,over:k,overlayNodeRect:_.rect,scrollableAncestors:S,scrollableAncestorRects:C,transform:I,windowRect:x}),P=null!==g,R=t?A:{...A,scaleX:1,scaleY:1},O=(0,s.Gj)((e=>P?null!=e?e:y:null),[P,y]),T=O?{position:"fixed",width:O.width,height:O.height,top:O.top,left:O.left,zIndex:p,transform:s.ux.Transform.toString(R),touchAction:"none",transformOrigin:t&&w?E(w,O):void 0,transition:"function"===typeof c?c(w):c,...a}:void 0,D=P?{style:T,children:n,className:d,transform:R}:void 0,M=(0,r.useRef)(D),N=null!=D?D:M.current,{children:j,transform:L,...B}=null!=N?N:{},F=(0,r.useRef)(null!=(h=null==g?void 0:g.id)?h:null),U=function(e){let{animate:t,adjustScale:n,activeId:o,draggableNodes:i,duration:a,easing:c,dragSourceOpacity:l,node:u,transform:d}=e;const[p,h]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{t&&o&&c&&a?requestAnimationFrame((()=>{var e;const t=null==(e=i[o])?void 0:e.node.current;if(d&&u&&t&&null!==t.parentNode){const e=ie(u);if(e){const r=e.getBoundingClientRect(),o=z(t),i={x:r.left-o.left,y:r.top-o.top};if(Math.abs(i.x)||Math.abs(i.y)){const e={scaleX:n?o.width*d.scaleX/r.width:1,scaleY:n?o.height*d.scaleY/r.height:1},p=s.ux.Transform.toString({x:d.x-i.x,y:d.y-i.y,...e}),f=t.style.opacity;return null!=l&&(t.style.opacity=`${l}`),void(u.animate([{transform:s.ux.Transform.toString(d)},{transform:p}],{easing:c,duration:a}).onfinish=()=>{u.style.display="none",h(!0),t&&null!=l&&(t.style.opacity=f)})}}}h(!0)})):t&&h(!0)}),[t,o,n,i,a,c,l,u,d]),(0,s.LI)((()=>{p&&h(!1)}),[p]),p}({animate:Boolean(i&&F.current&&!g),adjustScale:t,activeId:F.current,draggableNodes:v,duration:null==i?void 0:i.duration,easing:null==i?void 0:i.easing,dragSourceOpacity:null==i?void 0:i.dragSourceOpacity,node:_.nodeRef.current,transform:null==(f=M.current)?void 0:f.transform}),$=Boolean(j&&(n||i&&!U));return(0,r.useEffect)((()=>{var e;(null==g?void 0:g.id)!==F.current&&(F.current=null!=(e=null==g?void 0:g.id)?e:null);g&&M.current!==D&&(M.current=D)}),[g,D]),(0,r.useEffect)((()=>{U&&(M.current=void 0)}),[U]),$?o().createElement(u,{...B,ref:_.setRef},j):null}))},91336:(e,t,n)=>{"use strict";n.d(t,{Fo:()=>p,Rp:()=>a,nB:()=>v});var r=n(92950),o=n.n(r),i=n(87777),s=n(41883);function a(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function c(e){return null!==e&&e>=0}const l=e=>{let{layoutRects:t,activeIndex:n,overIndex:r,index:o}=e;const i=a(t,r,n),s=t[o],c=i[o];return c&&s?{x:c.offsetLeft-s.offsetLeft,y:c.offsetTop-s.offsetTop,scaleX:c.width/s.width,scaleY:c.height/s.height}:null};const u="Sortable",d=o().createContext({activeIndex:-1,containerId:u,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:l,wasDragging:{current:!1}});function p(e){let{children:t,id:n,items:a,strategy:c=l}=e;const{active:p,dragOverlay:h,droppableRects:f,over:g,recomputeLayouts:y,willRecomputeLayouts:m}=(0,i.Cj)(),b=(0,s.Ld)(u,n),v=Boolean(null!==h.rect),w=(0,r.useMemo)((()=>a.map((e=>"string"===typeof e?e:e.id))),[a]),k=null!=p,_=(0,r.useRef)(!1),E=p?w.indexOf(p.id):-1,S=-1!==E,C=g?w.indexOf(g.id):-1,x=(0,r.useRef)(w),I=function(e,t){return e.reduce(((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e}),Array(e.length))}(w,f),A=(P=w,R=x.current,!(P.join()===R.join()));var P,R;const O=-1!==C&&-1===E||A;(0,s.LI)((()=>{A&&S&&!m&&y()}),[A,S,y,m]),(0,r.useEffect)((()=>{x.current=w}),[w]),(0,r.useEffect)((()=>{const e=setTimeout((()=>{_.current=k}),100);return()=>clearTimeout(e)}),[k]);const T=(0,r.useMemo)((()=>({activeIndex:E,containerId:b,disableTransforms:O,items:w,overIndex:C,useDragOverlay:v,sortedRects:I,strategy:c,wasDragging:_})),[E,b,O,w,C,I,v,c,_]);return o().createElement(d.Provider,{value:T},t)}const h=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return a(n,r,o).indexOf(t)},f=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:s,previousItems:a,previousContainerId:c,transition:l}=e;return!(!l||!r)&&((a===i||o!==s)&&(!!n||s!==o&&t===c))},g={duration:200,easing:"ease"},y="transform",m=s.ux.Transition.toString({property:y,duration:0,easing:"linear"}),b={roleDescription:"sortable"};function v(e){let{animateLayoutChanges:t=f,attributes:n,disabled:o,data:a,getNewIndex:l=h,id:u,strategy:p,transition:v=g}=e;const{items:w,containerId:k,activeIndex:_,disableTransforms:E,sortedRects:S,overIndex:C,useDragOverlay:x,strategy:I,wasDragging:A}=(0,r.useContext)(d),P=w.indexOf(u),R=(0,r.useMemo)((()=>({sortable:{containerId:k,index:P,items:w},...a})),[k,a,P,w]),{rect:O,node:T,setNodeRef:D}=(0,i.Zj)({id:u,data:R}),{active:M,activeNodeRect:N,activatorEvent:j,attributes:L,setNodeRef:B,listeners:z,isDragging:F,over:U,transform:$}=(0,i.O1)({id:u,data:R,attributes:{...b,...n},disabled:o}),W=(0,s.HB)(D,B),q=Boolean(M),H=q&&A.current&&!E&&c(_)&&c(C),K=!x&&F,G=K&&H?$:null,V=H?null!=G?G:(null!=p?p:I)({layoutRects:S,activeNodeRect:N,activeIndex:_,overIndex:C,index:P}):null,X=c(_)&&c(C)?l({id:u,items:w,activeIndex:_,overIndex:C}):P,Y=(0,r.useRef)(w),Z=w!==Y.current,J=(0,r.useRef)(X),Q=(0,r.useRef)(k),ee=t({active:M,containerId:k,isDragging:F,isSorting:q,id:u,index:P,items:w,newIndex:J.current,previousItems:Y.current,previousContainerId:Q.current,transition:v,wasDragging:A.current}),te=function(e){let{disabled:t,index:n,node:o,rect:a}=e;const[c,l]=(0,r.useState)(null),u=(0,r.useRef)(n);return(0,s.LI)((()=>{if(!t&&n!==u.current&&o.current){const e=a.current;if(e){const t=(0,i.L6)(o.current),n={x:e.offsetLeft-t.offsetLeft,y:e.offsetTop-t.offsetTop,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&l(n)}}n!==u.current&&(u.current=n)}),[t,n,o,a]),(0,r.useEffect)((()=>{c&&requestAnimationFrame((()=>{l(null)}))}),[c]),c}({disabled:!ee,index:P,node:T,rect:O});return(0,r.useEffect)((()=>{q&&J.current!==X&&(J.current=X),k!==Q.current&&(Q.current=k),w!==Y.current&&(Y.current=w)}),[q,X,k,w]),{active:M,attributes:L,activatorEvent:j,rect:O,index:P,isSorting:q,isDragging:F,listeners:z,node:T,overIndex:C,over:U,setNodeRef:W,setDroppableNodeRef:D,setDraggableNodeRef:B,transform:null!=te?te:V,transition:function(){if(te||Z&&J.current===P)return m;if(K||!v)return;if(q||ee)return s.ux.Transition.toString({...v,property:y});return}()}}i.g4.Down,i.g4.Right,i.g4.Up,i.g4.Left},41883:(e,t,n)=>{"use strict";n.d(t,{$X:()=>k,DC:()=>E,FJ:()=>s,Gj:()=>g,HB:()=>o,IH:()=>w,Jj:()=>c,LI:()=>h,Ld:()=>b,Nq:()=>i,Re:()=>u,UG:()=>a,Yz:()=>f,qk:()=>l,r3:()=>p,ux:()=>S,vZ:()=>d,vd:()=>_,wm:()=>y});var r=n(92950);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)((()=>e=>{t.forEach((t=>t(e)))}),t)}const i="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function s(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function a(e){return"nodeType"in e}function c(e){var t,n;return e?s(e)?e:a(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function l(e){const{Document:t}=c(e);return e instanceof t}function u(e){return!s(e)&&e instanceof c(e).HTMLElement}function d(e){return e instanceof c(e).SVGElement}function p(e){return e?s(e)?e.document:a(e)?l(e)?e:u(e)?e.ownerDocument:document:document:document}const h=i?r.useLayoutEffect:r.useEffect;function f(){const e=(0,r.useRef)(null);return[(0,r.useCallback)(((t,n)=>{e.current=setInterval(t,n)}),[]),(0,r.useCallback)((()=>{null!==e.current&&(clearInterval(e.current),e.current=null)}),[])]}function g(e,t){const n=(0,r.useRef)();return(0,r.useMemo)((()=>{const t=e(n.current);return n.current=t,t}),[...t])}function y(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[e];const n=(0,r.useRef)(e);return h((()=>{n.current!==e&&(n.current=e)}),t),n}(e),n=(0,r.useRef)(null),o=(0,r.useCallback)((e=>{e!==n.current&&(null==t.current||t.current(e,n.current)),n.current=e}),[]);return[n,o]}let m={};function b(e,t){return(0,r.useMemo)((()=>{if(t)return t;const n=null==m[e]?0:m[e]+1;return m[e]=n,`${e}-${n}`}),[e,t])}function v(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce(((t,n)=>{const r=Object.entries(n);for(const[o,i]of r){const n=t[o];null!=n&&(t[o]=n+e*i)}return t}),{...t})}}const w=v(1),k=v(-1);function _(e){if(!e)return!1;const{KeyboardEvent:t}=c(e.target);return t&&e instanceof t}function E(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=c(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const S=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return`translate3d(${t?Math.round(t):0}px, ${n?Math.round(n):0}px, 0)`}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return`scaleX(${t}) scaleY(${n})`}},Transform:{toString(e){if(e)return[S.Translate.toString(e),S.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return`${t} ${n}ms ${r}`}}})},12053:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(48449),o=n.n(r),i=n(71256),s=n(68532),a=n.n(s),c=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};class l extends(o()){constructor(e,t){if(super(),this._network=t,this._publicKey=null,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._autoApprove=!1,this._responsePromises=new Map,this.handleMessage=e=>{var t;if(this._injectedProvider&&e.source===window||e.origin===(null===(t=this._providerUrl)||void 0===t?void 0:t.origin)&&e.source===this._popup)if("connected"===e.data.method){const t=new i.PublicKey(e.data.params.publicKey);this._publicKey&&this._publicKey.equals(t)||(this._publicKey&&!this._publicKey.equals(t)&&this.handleDisconnect(),this._publicKey=t,this._autoApprove=!!e.data.params.autoApprove,this.emit("connect",this._publicKey))}else if("disconnected"===e.data.method)this.handleDisconnect();else if(e.data.result||e.data.error){const t=this._responsePromises.get(e.data.id);if(t){const[n,r]=t;e.data.result?n(e.data.result):r(new Error(e.data.error))}}},this._beforeUnload=()=>{this.disconnect()},function(e){return"object"===typeof e&&null!==e}(n=e)&&"postMessage"in n&&"function"===typeof n.postMessage)this._injectedProvider=e;else{if(!function(e){return"string"===typeof e}(e))throw new Error("provider parameter must be an injected provider or a URL string.");this._providerUrl=new URL(e),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:this._network}).toString()}var n}handleConnect(){var e;return this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this.handleMessage),window.addEventListener("beforeunload",this._beforeUnload)),this._injectedProvider?new Promise((e=>{this.sendRequest("connect",{}),e()})):(window.name="parent",this._popup=window.open(null===(e=this._providerUrl)||void 0===e?void 0:e.toString(),"_blank","location,resizable,width=460,height=675"),new Promise((e=>{this.once("connect",e)})))}handleDisconnect(){this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this.handleMessage),window.removeEventListener("beforeunload",this._beforeUnload)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(((e,t)=>{let[,n]=e;this._responsePromises.delete(t),n(new Error("Wallet disconnected"))}))}sendRequest(e,t){return c(this,void 0,void 0,(function*(){if("connect"!==e&&!this.connected)throw new Error("Wallet not connected");const n=this._nextRequestId;return++this._nextRequestId,new Promise(((r,o)=>{var i,s,a,c;this._responsePromises.set(n,[r,o]),this._injectedProvider?this._injectedProvider.postMessage({jsonrpc:"2.0",id:n,method:e,params:Object.assign({network:this._network},t)}):(null===(i=this._popup)||void 0===i||i.postMessage({jsonrpc:"2.0",id:n,method:e,params:t},null!==(a=null===(s=this._providerUrl)||void 0===s?void 0:s.origin)&&void 0!==a?a:""),this.autoApprove||null===(c=this._popup)||void 0===c||c.focus())}))}))}get publicKey(){return this._publicKey}get connected(){return null!==this._publicKey}get autoApprove(){return this._autoApprove}connect(){return c(this,void 0,void 0,(function*(){this._popup&&this._popup.close(),yield this.handleConnect()}))}disconnect(){return c(this,void 0,void 0,(function*(){this._injectedProvider&&(yield this.sendRequest("disconnect",{})),this._popup&&this._popup.close(),this.handleDisconnect()}))}sign(e,t){return c(this,void 0,void 0,(function*(){if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const n=yield this.sendRequest("sign",{data:e,display:t});return{signature:a().decode(n.signature),publicKey:new i.PublicKey(n.publicKey)}}))}signTransaction(e){return c(this,void 0,void 0,(function*(){const t=yield this.sendRequest("signTransaction",{message:a().encode(e.serializeMessage())}),n=a().decode(t.signature),r=new i.PublicKey(t.publicKey);return e.addSignature(r,n),e}))}signAllTransactions(e){return c(this,void 0,void 0,(function*(){const t=yield this.sendRequest("signAllTransactions",{messages:e.map((e=>a().encode(e.serializeMessage())))}),n=t.signatures.map((e=>a().decode(e))),r=new i.PublicKey(t.publicKey);return e=e.map(((e,t)=>(e.addSignature(r,n[t]),e)))}))}diffieHellman(e){return c(this,void 0,void 0,(function*(){if(!(e instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return yield this.sendRequest("diffieHellman",{publicKey:e})}))}}},71256:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Account:()=>Xt,Authorized:()=>Ao,BLOCKHASH_CACHE_TIMEOUT_MS:()=>Qn,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Yt,BPF_LOADER_PROGRAM_ID:()=>jn,BpfLoader:()=>Ln,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>zn,ComputeBudgetInstruction:()=>Bn,ComputeBudgetProgram:()=>Fn,Connection:()=>Eo,Ed25519Program:()=>xo,Enum:()=>Ft,EpochSchedule:()=>Vn,FeeCalculatorLayout:()=>In,Keypair:()=>So,LAMPORTS_PER_SOL:()=>ti,Loader:()=>Nn,Lockup:()=>Po,MAX_SEED_LENGTH:()=>$t,Message:()=>rn,NONCE_ACCOUNT_LENGTH:()=>Pn,NonceAccount:()=>Rn,PACKET_DATA_SIZE:()=>Zt,PublicKey:()=>Wt,SIGNATURE_LENGTH_IN_BYTES:()=>Jt,SOLANA_SCHEMA:()=>Ut,STAKE_CONFIG_ID:()=>Io,STAKE_INSTRUCTION_LAYOUTS:()=>Oo,SYSTEM_INSTRUCTION_LAYOUTS:()=>Tn,SYSVAR_CLOCK_PUBKEY:()=>ln,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>un,SYSVAR_INSTRUCTIONS_PUBKEY:()=>dn,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>pn,SYSVAR_RENT_PUBKEY:()=>hn,SYSVAR_REWARDS_PUBKEY:()=>fn,SYSVAR_SLOT_HASHES_PUBKEY:()=>gn,SYSVAR_SLOT_HISTORY_PUBKEY:()=>yn,SYSVAR_STAKE_HISTORY_PUBKEY:()=>mn,Secp256k1Program:()=>Lo,SendTransactionError:()=>Xn,StakeAuthorizationLayout:()=>To,StakeInstruction:()=>Ro,StakeProgram:()=>Do,Struct:()=>zt,SystemInstruction:()=>On,SystemProgram:()=>Dn,Transaction:()=>cn,TransactionInstruction:()=>an,VALIDATOR_INFO_KEY:()=>Bo,VOTE_PROGRAM_ID:()=>Uo,ValidatorInfo:()=>Fo,VoteAccount:()=>Wo,VoteAuthorizationLayout:()=>Yo,VoteInit:()=>Go,VoteInstruction:()=>Vo,VoteProgram:()=>Zo,clusterApiUrl:()=>ei,sendAndConfirmRawTransaction:()=>Jo,sendAndConfirmTransaction:()=>bn});var r=n(44967),o=n.n(r),i=n(97429),s=n(48744),a=n.n(s),c=n(68532),l=n.n(c),u=n(21215),d=n(25047),p=n(54338),h=n(85606),f=n(32908),g=n.n(f),y=n(91747),m=n.n(y),b=n(16348),v=n.n(b),w=n(97429).Buffer;const k=e=>i.Buffer.isBuffer(e)?e:e instanceof Uint8Array?i.Buffer.from(e.buffer,e.byteOffset,e.byteLength):i.Buffer.from(e);var _="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};function E(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var S={},C={},x=I;function I(e,t){if(!e)throw new Error(t||"Assertion failed")}I.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)};var A={exports:{}};"function"===typeof Object.create?A.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:A.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var P=x,R=A.exports;function O(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function T(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function D(e){return 1===e.length?"0"+e:e}function M(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}C.inherits=R,C.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),o=0;o<e.length;o+=2)n.push(parseInt(e[o]+e[o+1],16))}else for(var r=0,o=0;o<e.length;o++){var i=e.charCodeAt(o);i<128?n[r++]=i:i<2048?(n[r++]=i>>6|192,n[r++]=63&i|128):O(e,o)?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++o)),n[r++]=i>>18|240,n[r++]=i>>12&63|128,n[r++]=i>>6&63|128,n[r++]=63&i|128):(n[r++]=i>>12|224,n[r++]=i>>6&63|128,n[r++]=63&i|128)}else for(o=0;o<e.length;o++)n[o]=0|e[o];return n},C.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=D(e[n].toString(16));return t},C.htonl=T,C.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var o=e[r];"little"===t&&(o=T(o)),n+=M(o.toString(16))}return n},C.zero2=D,C.zero8=M,C.join32=function(e,t,n,r){var o=n-t;P(o%4===0);for(var i=new Array(o/4),s=0,a=t;s<i.length;s++,a+=4){var c;c="big"===r?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],i[s]=c>>>0}return i},C.split32=function(e,t){for(var n=new Array(4*e.length),r=0,o=0;r<e.length;r++,o+=4){var i=e[r];"big"===t?(n[o]=i>>>24,n[o+1]=i>>>16&255,n[o+2]=i>>>8&255,n[o+3]=255&i):(n[o+3]=i>>>24,n[o+2]=i>>>16&255,n[o+1]=i>>>8&255,n[o]=255&i)}return n},C.rotr32=function(e,t){return e>>>t|e<<32-t},C.rotl32=function(e,t){return e<<t|e>>>32-t},C.sum32=function(e,t){return e+t>>>0},C.sum32_3=function(e,t,n){return e+t+n>>>0},C.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},C.sum32_5=function(e,t,n,r,o){return e+t+n+r+o>>>0},C.sum64=function(e,t,n,r){var o=e[t],i=r+e[t+1]>>>0,s=(i<r?1:0)+n+o;e[t]=s>>>0,e[t+1]=i},C.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},C.sum64_lo=function(e,t,n,r){return t+r>>>0},C.sum64_4_hi=function(e,t,n,r,o,i,s,a){var c=0,l=t;return c+=(l=l+r>>>0)<t?1:0,c+=(l=l+i>>>0)<i?1:0,e+n+o+s+(c+=(l=l+a>>>0)<a?1:0)>>>0},C.sum64_4_lo=function(e,t,n,r,o,i,s,a){return t+r+i+a>>>0},C.sum64_5_hi=function(e,t,n,r,o,i,s,a,c,l){var u=0,d=t;return u+=(d=d+r>>>0)<t?1:0,u+=(d=d+i>>>0)<i?1:0,u+=(d=d+a>>>0)<a?1:0,e+n+o+s+c+(u+=(d=d+l>>>0)<l?1:0)>>>0},C.sum64_5_lo=function(e,t,n,r,o,i,s,a,c,l){return t+r+i+a+l>>>0},C.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},C.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},C.shr64_hi=function(e,t,n){return e>>>n},C.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0};var N={},j=C,L=x;function B(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}N.BlockHash=B,B.prototype.update=function(e,t){if(e=j.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=j.join32(e,0,e.length-n,this.endian);for(var r=0;r<e.length;r+=this._delta32)this._update(e,r,r+this._delta32)}return this},B.prototype.digest=function(e){return this.update(this._pad()),L(null===this.pending),this._digest(e)},B.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var o=1;o<n;o++)r[o]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)r[o++]=0;r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=e>>>24&255,r[o++]=e>>>16&255,r[o++]=e>>>8&255,r[o++]=255&e}else for(r[o++]=255&e,r[o++]=e>>>8&255,r[o++]=e>>>16&255,r[o++]=e>>>24&255,r[o++]=0,r[o++]=0,r[o++]=0,r[o++]=0,i=8;i<this.padLength;i++)r[o++]=0;return r};var z={},F={},U=C.rotr32;function $(e,t,n){return e&t^~e&n}function W(e,t,n){return e&t^e&n^t&n}function q(e,t,n){return e^t^n}F.ft_1=function(e,t,n,r){return 0===e?$(t,n,r):1===e||3===e?q(t,n,r):2===e?W(t,n,r):void 0},F.ch32=$,F.maj32=W,F.p32=q,F.s0_256=function(e){return U(e,2)^U(e,13)^U(e,22)},F.s1_256=function(e){return U(e,6)^U(e,11)^U(e,25)},F.g0_256=function(e){return U(e,7)^U(e,18)^e>>>3},F.g1_256=function(e){return U(e,17)^U(e,19)^e>>>10};var H=C,K=N,G=F,V=H.rotl32,X=H.sum32,Y=H.sum32_5,Z=G.ft_1,J=K.BlockHash,Q=[1518500249,1859775393,2400959708,3395469782];function ee(){if(!(this instanceof ee))return new ee;J.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}H.inherits(ee,J);var te=ee;ee.blockSize=512,ee.outSize=160,ee.hmacStrength=80,ee.padLength=64,ee.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=V(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4];for(r=0;r<n.length;r++){var l=~~(r/20),u=Y(V(o,5),Z(l,i,s,a),c,n[r],Q[l]);c=a,a=s,s=V(i,30),i=o,o=u}this.h[0]=X(this.h[0],o),this.h[1]=X(this.h[1],i),this.h[2]=X(this.h[2],s),this.h[3]=X(this.h[3],a),this.h[4]=X(this.h[4],c)},ee.prototype._digest=function(e){return"hex"===e?H.toHex32(this.h,"big"):H.split32(this.h,"big")};var ne=C,re=N,oe=F,ie=x,se=ne.sum32,ae=ne.sum32_4,ce=ne.sum32_5,le=oe.ch32,ue=oe.maj32,de=oe.s0_256,pe=oe.s1_256,he=oe.g0_256,fe=oe.g1_256,ge=re.BlockHash,ye=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function me(){if(!(this instanceof me))return new me;ge.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ye,this.W=new Array(64)}ne.inherits(me,ge);var be=me;me.blockSize=512,me.outSize=256,me.hmacStrength=192,me.padLength=64,me.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=ae(fe(n[r-2]),n[r-7],he(n[r-15]),n[r-16]);var o=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],u=this.h[6],d=this.h[7];for(ie(this.k.length===n.length),r=0;r<n.length;r++){var p=ce(d,pe(c),le(c,l,u),this.k[r],n[r]),h=se(de(o),ue(o,i,s));d=u,u=l,l=c,c=se(a,p),a=s,s=i,i=o,o=se(p,h)}this.h[0]=se(this.h[0],o),this.h[1]=se(this.h[1],i),this.h[2]=se(this.h[2],s),this.h[3]=se(this.h[3],a),this.h[4]=se(this.h[4],c),this.h[5]=se(this.h[5],l),this.h[6]=se(this.h[6],u),this.h[7]=se(this.h[7],d)},me.prototype._digest=function(e){return"hex"===e?ne.toHex32(this.h,"big"):ne.split32(this.h,"big")};var ve=C,we=be;function ke(){if(!(this instanceof ke))return new ke;we.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ve.inherits(ke,we);var _e=ke;ke.blockSize=512,ke.outSize=224,ke.hmacStrength=192,ke.padLength=64,ke.prototype._digest=function(e){return"hex"===e?ve.toHex32(this.h.slice(0,7),"big"):ve.split32(this.h.slice(0,7),"big")};var Ee=C,Se=N,Ce=x,xe=Ee.rotr64_hi,Ie=Ee.rotr64_lo,Ae=Ee.shr64_hi,Pe=Ee.shr64_lo,Re=Ee.sum64,Oe=Ee.sum64_hi,Te=Ee.sum64_lo,De=Ee.sum64_4_hi,Me=Ee.sum64_4_lo,Ne=Ee.sum64_5_hi,je=Ee.sum64_5_lo,Le=Se.BlockHash,Be=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ze(){if(!(this instanceof ze))return new ze;Le.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Be,this.W=new Array(160)}Ee.inherits(ze,Le);var Fe=ze;function Ue(e,t,n,r,o){var i=e&n^~e&o;return i<0&&(i+=4294967296),i}function $e(e,t,n,r,o,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function We(e,t,n,r,o){var i=e&n^e&o^n&o;return i<0&&(i+=4294967296),i}function qe(e,t,n,r,o,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function He(e,t){var n=xe(e,t,28)^xe(t,e,2)^xe(t,e,7);return n<0&&(n+=4294967296),n}function Ke(e,t){var n=Ie(e,t,28)^Ie(t,e,2)^Ie(t,e,7);return n<0&&(n+=4294967296),n}function Ge(e,t){var n=xe(e,t,14)^xe(e,t,18)^xe(t,e,9);return n<0&&(n+=4294967296),n}function Ve(e,t){var n=Ie(e,t,14)^Ie(e,t,18)^Ie(t,e,9);return n<0&&(n+=4294967296),n}function Xe(e,t){var n=xe(e,t,1)^xe(e,t,8)^Ae(e,t,7);return n<0&&(n+=4294967296),n}function Ye(e,t){var n=Ie(e,t,1)^Ie(e,t,8)^Pe(e,t,7);return n<0&&(n+=4294967296),n}function Ze(e,t){var n=xe(e,t,19)^xe(t,e,29)^Ae(e,t,6);return n<0&&(n+=4294967296),n}function Je(e,t){var n=Ie(e,t,19)^Ie(t,e,29)^Pe(e,t,6);return n<0&&(n+=4294967296),n}ze.blockSize=1024,ze.outSize=512,ze.hmacStrength=192,ze.padLength=128,ze.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var o=Ze(n[r-4],n[r-3]),i=Je(n[r-4],n[r-3]),s=n[r-14],a=n[r-13],c=Xe(n[r-30],n[r-29]),l=Ye(n[r-30],n[r-29]),u=n[r-32],d=n[r-31];n[r]=De(o,i,s,a,c,l,u,d),n[r+1]=Me(o,i,s,a,c,l,u,d)}},ze.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],o=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],c=this.h[5],l=this.h[6],u=this.h[7],d=this.h[8],p=this.h[9],h=this.h[10],f=this.h[11],g=this.h[12],y=this.h[13],m=this.h[14],b=this.h[15];Ce(this.k.length===n.length);for(var v=0;v<n.length;v+=2){var w=m,k=b,_=Ge(d,p),E=Ve(d,p),S=Ue(d,p,h,f,g),C=$e(d,p,h,f,g,y),x=this.k[v],I=this.k[v+1],A=n[v],P=n[v+1],R=Ne(w,k,_,E,S,C,x,I,A,P),O=je(w,k,_,E,S,C,x,I,A,P);w=He(r,o),k=Ke(r,o),_=We(r,o,i,s,a),E=qe(r,o,i,s,a,c);var T=Oe(w,k,_,E),D=Te(w,k,_,E);m=g,b=y,g=h,y=f,h=d,f=p,d=Oe(l,u,R,O),p=Te(u,u,R,O),l=a,u=c,a=i,c=s,i=r,s=o,r=Oe(R,O,T,D),o=Te(R,O,T,D)}Re(this.h,0,r,o),Re(this.h,2,i,s),Re(this.h,4,a,c),Re(this.h,6,l,u),Re(this.h,8,d,p),Re(this.h,10,h,f),Re(this.h,12,g,y),Re(this.h,14,m,b)},ze.prototype._digest=function(e){return"hex"===e?Ee.toHex32(this.h,"big"):Ee.split32(this.h,"big")};var Qe=C,et=Fe;function tt(){if(!(this instanceof tt))return new tt;et.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Qe.inherits(tt,et);var nt=tt;tt.blockSize=1024,tt.outSize=384,tt.hmacStrength=192,tt.padLength=128,tt.prototype._digest=function(e){return"hex"===e?Qe.toHex32(this.h.slice(0,12),"big"):Qe.split32(this.h.slice(0,12),"big")},z.sha1=te,z.sha224=_e,z.sha256=be,z.sha384=nt,z.sha512=Fe;var rt={},ot=C,it=N,st=ot.rotl32,at=ot.sum32,ct=ot.sum32_3,lt=ot.sum32_4,ut=it.BlockHash;function dt(){if(!(this instanceof dt))return new dt;ut.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function pt(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function ht(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function ft(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}ot.inherits(dt,ut),rt.ripemd160=dt,dt.blockSize=512,dt.outSize=160,dt.hmacStrength=192,dt.padLength=64,dt.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],o=this.h[2],i=this.h[3],s=this.h[4],a=n,c=r,l=o,u=i,d=s,p=0;p<80;p++){var h=at(st(lt(n,pt(p,r,o,i),e[gt[p]+t],ht(p)),mt[p]),s);n=s,s=i,i=st(o,10),o=r,r=h,h=at(st(lt(a,pt(79-p,c,l,u),e[yt[p]+t],ft(p)),bt[p]),d),a=d,d=u,u=st(l,10),l=c,c=h}h=ct(this.h[1],o,u),this.h[1]=ct(this.h[2],i,d),this.h[2]=ct(this.h[3],s,a),this.h[3]=ct(this.h[4],n,c),this.h[4]=ct(this.h[0],r,l),this.h[0]=h},dt.prototype._digest=function(e){return"hex"===e?ot.toHex32(this.h,"little"):ot.split32(this.h,"little")};var gt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],yt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],mt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],bt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],vt=C,wt=x;function kt(e,t,n){if(!(this instanceof kt))return new kt(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(vt.toArray(t,n))}var _t=kt;kt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),wt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},kt.prototype.update=function(e,t){return this.inner.update(e,t),this},kt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=C,t.common=N,t.sha=z,t.ripemd=rt,t.hmac=_t,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(S);var Et=S;let St=!1,Ct=!1;const xt={debug:1,default:2,info:2,warning:3,error:4,off:5};let It=xt.default,At=null;const Pt=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(n){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Rt,Ot;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Rt||(Rt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Ot||(Ot={}));const Tt="0123456789abcdef";class Dt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const n=e.toLowerCase();null==xt[n]&&this.throwArgumentError("invalid log level name","logLevel",e),It>xt[n]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(Dt.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(Dt.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._log(Dt.levels.WARNING,t)}makeError(e,t,n){if(Ct)return this.makeError("censored error",t,{});t||(t=Dt.errors.UNKNOWN_ERROR),n||(n={});const r=[];Object.keys(n).forEach((e=>{const t=n[e];try{if(t instanceof Uint8Array){let n="";for(let e=0;e<t.length;e++)n+=Tt[t[e]>>4],n+=Tt[15&t[e]];r.push(e+"=Uint8Array(0x"+n+")")}else r.push(e+"="+JSON.stringify(t))}catch(s){r.push(e+"="+JSON.stringify(n[e].toString()))}})),r.push(`code=${t}`),r.push(`version=${this.version}`);const o=e;let i="";switch(t){case Ot.NUMERIC_FAULT:{i="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":i+="-"+t;break;case"negative-power":case"negative-width":i+="-unsupported";break;case"unbound-bitwise-result":i+="-unbound-result"}break}case Ot.CALL_EXCEPTION:case Ot.INSUFFICIENT_FUNDS:case Ot.MISSING_NEW:case Ot.NONCE_EXPIRED:case Ot.REPLACEMENT_UNDERPRICED:case Ot.TRANSACTION_REPLACED:case Ot.UNPREDICTABLE_GAS_LIMIT:i=t}i&&(e+=" [ See: https://links.ethers.org/v5-errors-"+i+" ]"),r.length&&(e+=" ("+r.join(", ")+")");const s=new Error(e);return s.reason=o,s.code=t,Object.keys(n).forEach((function(e){s[e]=n[e]})),s}throwError(e,t,n){throw this.makeError(e,t,n)}throwArgumentError(e,t,n){return this.throwError(e,Dt.errors.INVALID_ARGUMENT,{argument:t,value:n})}assert(e,t,n,r){e||this.throwError(t,n,r)}assertArgument(e,t,n,r){e||this.throwArgumentError(t,n,r)}checkNormalize(e){Pt&&this.throwError("platform missing String.prototype.normalize",Dt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Pt})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Dt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Dt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,n){n=n?": "+n:"",e<t&&this.throwError("missing argument"+n,Dt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+n,Dt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Dt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Dt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Dt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return At||(At=new Dt("logger/5.6.0")),At}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Dt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),St){if(!e)return;this.globalLogger().throwError("error censorship permanent",Dt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ct=!!e,St=!!t}static setLogLevel(e){const t=xt[e.toLowerCase()];null!=t?It=t:Dt.globalLogger().warn("invalid log level - "+e)}static from(e){return new Dt(e)}}Dt.errors=Ot,Dt.levels=Rt;const Mt=new Dt("bytes/5.6.0");function Nt(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Nt(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function jt(e){return"number"===typeof e&&e==e&&e%1===0}function Lt(e,t){if(t||(t={}),"number"===typeof e){Mt.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Nt(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){let n=e.substring(2);n.length%2&&("left"===t.hexPad?n="0x0"+n.substring(2):"right"===t.hexPad?n+="0":Mt.throwArgumentError("hex data is odd-length","value",e));const r=[];for(let e=0;e<n.length;e+=2)r.push(parseInt(n.substring(e,e+2),16));return Nt(new Uint8Array(r))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!jt(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const n=e[t];if(!jt(n)||n<0||n>=256)return!1}return!0}(e)?Nt(new Uint8Array(e)):Mt.throwArgumentError("invalid arrayify value","value",e)}function Bt(e){return"0x"+Et.sha256().update(Lt(e)).digest("hex")}new Dt("sha2/5.6.0");class zt{constructor(e){Object.assign(this,e)}encode(){return i.Buffer.from((0,u.serialize)(Ut,this))}static decode(e){return(0,u.deserialize)(Ut,this,e)}static decodeUnchecked(e){return(0,u.deserializeUnchecked)(Ut,this,e)}}class Ft extends zt{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const Ut=new Map,$t=32;class Wt extends zt{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=l().decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new(a())(t)}else this._bn=new(a())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return l().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(i.Buffer);if(32===e.length)return e;const t=i.Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,n){const r=i.Buffer.concat([e.toBuffer(),i.Buffer.from(t),n.toBuffer()]),o=Bt(new Uint8Array(r)).slice(2);return new Wt(i.Buffer.from(o,"hex"))}static createProgramAddressSync(e,t){let n=i.Buffer.alloc(0);e.forEach((function(e){if(e.length>$t)throw new TypeError("Max seed length exceeded");n=i.Buffer.concat([n,k(e)])})),n=i.Buffer.concat([n,t.toBuffer(),i.Buffer.from("ProgramDerivedAddress")]);let r=Bt(new Uint8Array(n)).slice(2),o=new(a())(r,16).toArray(void 0,32);if(Ht(o))throw new Error("Invalid seeds, address must fall off the curve");return new Wt(o)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let n,r=255;for(;0!=r;){try{const o=e.concat(i.Buffer.from([r]));n=this.createProgramAddressSync(o,t)}catch(o){if(o instanceof TypeError)throw o;r--;continue}return[n,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return 1==Ht(new Wt(e).toBytes())}}Wt.default=new Wt("11111111111111111111111111111111"),Ut.set(Wt,{kind:"struct",fields:[["_bn","u256"]]});let qt=o().lowlevel;function Ht(e){var t=[qt.gf(),qt.gf(),qt.gf(),qt.gf()],n=qt.gf(),r=qt.gf(),o=qt.gf(),i=qt.gf(),s=qt.gf(),a=qt.gf(),c=qt.gf();return qt.set25519(t[2],Kt),qt.unpack25519(t[1],e),qt.S(o,t[1]),qt.M(i,o,qt.D),qt.Z(o,o,t[2]),qt.A(i,t[2],i),qt.S(s,i),qt.S(a,s),qt.M(c,a,s),qt.M(n,c,o),qt.M(n,n,i),qt.pow2523(n,n),qt.M(n,n,o),qt.M(n,n,i),qt.M(n,n,i),qt.M(t[0],n,i),qt.S(r,t[0]),qt.M(r,r,i),Vt(r,o)&&qt.M(t[0],t[0],Gt),qt.S(r,t[0]),qt.M(r,r,i),Vt(r,o)?0:1}let Kt=qt.gf([1]),Gt=qt.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Vt(e,t){var n=new Uint8Array(32),r=new Uint8Array(32);return qt.pack25519(n,e),qt.pack25519(r,t),qt.crypto_verify_32(n,0,r,0)}class Xt{constructor(e){this._keypair=void 0,this._keypair=e?o().sign.keyPair.fromSecretKey(k(e)):o().sign.keyPair()}get publicKey(){return new Wt(this._keypair.publicKey)}get secretKey(){return k(this._keypair.secretKey)}}const Yt=new Wt("BPFLoader1111111111111111111111111111111111"),Zt=1232,Jt=64,Qt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return d.Ik(32,e)},en=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=d.n_([d.Jq("length"),d.Jq("lengthPadding"),d.Ik(d.cv(d.Jq(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),o=t;return o.decode=(e,t)=>n(e,t).chars.toString(),o.encode=(e,t,n)=>{const o={chars:i.Buffer.from(e,"utf8")};return r(o,t,n)},o.alloc=e=>d.Jq().span+d.Jq().span+i.Buffer.from(e,"utf8").length,o};function tn(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(127&r)<<7*n,n+=1,0===(128&r))break}return t}function nn(e,t){let n=t;for(;;){let t=127&n;if(n>>=7,0==n){e.push(t);break}t|=128,e.push(t)}}class rn{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Wt(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];nn(t,e);const n=this.instructions.map((e=>{const{accounts:t,programIdIndex:n}=e,r=Array.from(l().decode(e.data));let o=[];nn(o,t.length);let s=[];return nn(s,r.length),{programIdIndex:n,keyIndicesCount:i.Buffer.from(o),keyIndices:t,dataLength:i.Buffer.from(s),data:r}}));let r=[];nn(r,n.length);let o=i.Buffer.alloc(Zt);i.Buffer.from(r).copy(o);let s=r.length;n.forEach((e=>{const t=d.n_([d.u8("programIdIndex"),d.Ik(e.keyIndicesCount.length,"keyIndicesCount"),d.A9(d.u8("keyIndex"),e.keyIndices.length,"keyIndices"),d.Ik(e.dataLength.length,"dataLength"),d.A9(d.u8("userdatum"),e.data.length,"data")]).encode(e,o,s);s+=t})),o=o.slice(0,s);const a=d.n_([d.Ik(1,"numRequiredSignatures"),d.Ik(1,"numReadonlySignedAccounts"),d.Ik(1,"numReadonlyUnsignedAccounts"),d.Ik(t.length,"keyCount"),d.A9(Qt("key"),e,"keys"),Qt("recentBlockhash")]),c={numRequiredSignatures:i.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:i.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:i.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:i.Buffer.from(t),keys:this.accountKeys.map((e=>k(e.toBytes()))),recentBlockhash:l().decode(this.recentBlockhash)};let u=i.Buffer.alloc(2048);const p=a.encode(c,u);return o.copy(u,p),u.slice(0,p+o.length)}static from(e){let t=[...e];const n=t.shift(),r=t.shift(),o=t.shift(),s=tn(t);let a=[];for(let h=0;h<s;h++){const e=t.slice(0,32);t=t.slice(32),a.push(l().encode(i.Buffer.from(e)))}const c=t.slice(0,32);t=t.slice(32);const u=tn(t);let d=[];for(let h=0;h<u;h++){const e=t.shift(),n=tn(t),r=t.slice(0,n);t=t.slice(n);const o=tn(t),s=t.slice(0,o),a=l().encode(i.Buffer.from(s));t=t.slice(o),d.push({programIdIndex:e,accounts:r,data:a})}const p={header:{numRequiredSignatures:n,numReadonlySignedAccounts:r,numReadonlyUnsignedAccounts:o},recentBlockhash:l().encode(i.Buffer.from(c)),accountKeys:a,instructions:d};return new rn(p)}}function on(e,t){if(!e)throw new Error(t||"Assertion failed")}const sn=i.Buffer.alloc(Jt).fill(0);class an{constructor(e){this.keys=void 0,this.programId=void 0,this.data=i.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;return{pubkey:t.toJSON(),isSigner:n,isWritable:r}})),programId:this.programId.toJSON(),data:[...this.data]}}}class cn{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,e&&Object.assign(this,e)}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new an(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;const{nonceInfo:e}=this;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:t}=this;if(!t)throw new Error("Transaction recentBlockhash required");let n;if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)n=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");n=this.signatures[0].publicKey}for(let l=0;l<this.instructions.length;l++)if(void 0===this.instructions[l].programId)throw new Error(`Transaction instruction index ${l} has undefined program id`);const r=[],o=[];this.instructions.forEach((e=>{e.keys.forEach((e=>{o.push({...e})}));const t=e.programId.toString();r.includes(t)||r.push(t)})),r.forEach((e=>{o.push({pubkey:new Wt(e),isSigner:!1,isWritable:!1})})),o.sort((function(e,t){const n=e.pubkey.toBase58().localeCompare(t.pubkey.toBase58()),r=e.isSigner===t.isSigner?0:e.isSigner?-1:1,o=e.isWritable===t.isWritable?n:e.isWritable?-1:1;return r||o}));const i=[];o.forEach((e=>{const t=e.pubkey.toString(),n=i.findIndex((e=>e.pubkey.toString()===t));n>-1?i[n].isWritable=i[n].isWritable||e.isWritable:i.push(e)}));const s=i.findIndex((e=>e.pubkey.equals(n)));if(s>-1){const[e]=i.splice(s,1);e.isSigner=!0,e.isWritable=!0,i.unshift(e)}else i.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const l of this.signatures){const e=i.findIndex((e=>e.pubkey.equals(l.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${l.publicKey.toString()}`);i[e].isSigner||(i[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,c=0,u=0;const d=[],p=[];i.forEach((e=>{let{pubkey:t,isSigner:n,isWritable:r}=e;n?(d.push(t.toString()),a+=1,r||(c+=1)):(p.push(t.toString()),r||(u+=1))}));const h=d.concat(p),f=this.instructions.map((e=>{const{data:t,programId:n}=e;return{programIdIndex:h.indexOf(n.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:l().encode(t)}}));return f.forEach((e=>{on(e.programIdIndex>=0),e.accounts.forEach((e=>on(e>=0)))})),new rn({header:{numRequiredSignatures:a,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:u},accountKeys:h,recentBlockhash:t,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,n)=>t[n].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!r.has(t)&&(r.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,o=[];for(const s of t){const e=s.publicKey.toString();r.has(e)||(r.add(e),o.push(s))}this.signatures=o.map((e=>({signature:null,publicKey:e.publicKey})));const i=this._compile();this._partialSign(i,...o),this._verifySignatures(i.serialize(),!0)}partialSign(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new Error("No signers");const r=new Set,o=[];for(const s of t){const e=s.publicKey.toString();r.has(e)||(r.add(e),o.push(s))}const i=this._compile();this._partialSign(i,...o)}_partialSign(e){const t=e.serialize();for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.forEach((e=>{const n=o().sign.detached(t,e.secretKey);this._addSignature(e.publicKey,k(n))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){on(64===t.length);const n=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=i.Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:n,publicKey:r}of this.signatures)if(null===n){if(t)return!1}else if(!o().sign.detached.verify(e,n,r.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),r=this.serializeMessage();if(n&&!this._verifySignatures(r,t))throw new Error("Signature verification failed");return this._serialize(r)}_serialize(e){const{signatures:t}=this,n=[];nn(n,t.length);const r=n.length+64*t.length+e.length,o=i.Buffer.alloc(r);return on(t.length<256),i.Buffer.from(n).copy(o,0),t.forEach(((e,t)=>{let{signature:r}=e;null!==r&&(on(64===r.length,"signature has invalid length"),i.Buffer.from(r).copy(o,n.length+64*t))})),e.copy(o,n.length+64*t.length),on(o.length<=Zt,`Transaction too large: ${o.length} > ${Zt}`),o}get keys(){return on(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return on(1===this.instructions.length),this.instructions[0].programId}get data(){return on(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const n=tn(t);let r=[];for(let o=0;o<n;o++){const e=t.slice(0,Jt);t=t.slice(Jt),r.push(l().encode(i.Buffer.from(e)))}return cn.populate(rn.from(t),r)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=new cn;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),t.forEach(((t,r)=>{const o={signature:t==l().encode(sn)?null:l().decode(t),publicKey:e.accountKeys[r]};n.signatures.push(o)})),e.instructions.forEach((t=>{const r=t.accounts.map((t=>{const r=e.accountKeys[t];return{pubkey:r,isSigner:n.signatures.some((e=>e.publicKey.toString()===r.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));n.instructions.push(new an({keys:r,programId:e.accountKeys[t.programIdIndex],data:l().decode(t.data)}))})),n._message=e,n._json=n.toJSON(),n}}const ln=new Wt("SysvarC1ock11111111111111111111111111111111"),un=new Wt("SysvarEpochSchedu1e111111111111111111111111"),dn=new Wt("Sysvar1nstructions1111111111111111111111111"),pn=new Wt("SysvarRecentB1ockHashes11111111111111111111"),hn=new Wt("SysvarRent111111111111111111111111111111111"),fn=new Wt("SysvarRewards111111111111111111111111111111"),gn=new Wt("SysvarS1otHashes111111111111111111111111111"),yn=new Wt("SysvarS1otHistory11111111111111111111111111"),mn=new Wt("SysvarStakeHistory1111111111111111111111111");async function bn(e,t,n,r){const o=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment,maxRetries:r.maxRetries},i=await e.sendTransaction(t,n,o),s=(await e.confirmTransaction(i,r&&r.commitment)).value;if(s.err)throw new Error(`Transaction ${i} failed (${JSON.stringify(s)})`);return i}function vn(e){return new Promise((t=>setTimeout(t,e)))}var wn={};Object.defineProperty(wn,"__esModule",{value:!0});var kn=wn.toBigIntLE=function(e){{const t=w.from(e);t.reverse();const n=t.toString("hex");return 0===n.length?BigInt(0):BigInt(`0x${n}`)}};wn.toBigIntBE=function(e){{const t=e.toString("hex");return 0===t.length?BigInt(0):BigInt(`0x${t}`)}};var _n=wn.toBufferLE=function(e,t){{const n=e.toString(16),r=w.from(n.padStart(2*t,"0").slice(0,2*t),"hex");return r.reverse(),r}};wn.toBufferBE=function(e,t){{const n=e.toString(16);return w.from(n.padStart(2*t,"0").slice(0,2*t),"hex")}};const En=(Sn=8,e=>{const t=(0,d.Ik)(Sn,e),{encode:n,decode:r}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),o=t;return o.decode=(e,t)=>{const n=r(e,t);return kn(w.from(n))},o.encode=(e,t,r)=>{const o=_n(e,Sn);return n(o,t,r)},o});var Sn;function Cn(e,t){const n=e.layout.span>=0?e.layout.span:function(e,t){let n=0;return e.layout.fields.forEach((e=>{e.span>=0?n+=e.span:"function"===typeof e.alloc&&(n+=e.alloc(t[e.property]))})),n}(e,t),r=i.Buffer.alloc(n),o=Object.assign({instruction:e.index},t);return e.layout.encode(o,r),r}function xn(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${n.instruction} != ${e.index}`);return n}const In=d._O("lamportsPerSignature"),An=d.n_([d.Jq("version"),d.Jq("state"),Qt("authorizedPubkey"),Qt("nonce"),d.n_([In],"feeCalculator")]),Pn=An.span;class Rn{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=An.decode(k(e),0);return new Rn({authorizedPubkey:new Wt(t.authorizedPubkey),nonce:new Wt(t.nonce).toString(),feeCalculator:t.feeCalculator})}}class On{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let n;for(const[r,o]of Object.entries(Tn))if(o.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a SystemInstruction");return n}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:n,programId:r}=xn(Tn.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:n,programId:new Wt(r)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=xn(Tn.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:n,programId:r}=xn(Tn.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:n,programId:new Wt(r)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=xn(Tn.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,space:r,programId:o}=xn(Tn.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Wt(t),seed:n,space:r,programId:new Wt(o)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=xn(Tn.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Wt(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:n,programId:r}=xn(Tn.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Wt(t),seed:n,programId:new Wt(r)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:n,lamports:r,space:o,programId:i}=xn(Tn.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Wt(t),seed:n,lamports:r,space:o,programId:new Wt(i)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=xn(Tn.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Wt(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),xn(Tn.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=xn(Tn.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=xn(Tn.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Wt(t)}}static checkProgramId(e){if(!e.equals(Dn.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Tn=Object.freeze({Create:{index:0,layout:d.n_([d.Jq("instruction"),d.gM("lamports"),d.gM("space"),Qt("programId")])},Assign:{index:1,layout:d.n_([d.Jq("instruction"),Qt("programId")])},Transfer:{index:2,layout:d.n_([d.Jq("instruction"),En("lamports")])},CreateWithSeed:{index:3,layout:d.n_([d.Jq("instruction"),Qt("base"),en("seed"),d.gM("lamports"),d.gM("space"),Qt("programId")])},AdvanceNonceAccount:{index:4,layout:d.n_([d.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},InitializeNonceAccount:{index:6,layout:d.n_([d.Jq("instruction"),Qt("authorized")])},AuthorizeNonceAccount:{index:7,layout:d.n_([d.Jq("instruction"),Qt("authorized")])},Allocate:{index:8,layout:d.n_([d.Jq("instruction"),d.gM("space")])},AllocateWithSeed:{index:9,layout:d.n_([d.Jq("instruction"),Qt("base"),en("seed"),d.gM("space"),Qt("programId")])},AssignWithSeed:{index:10,layout:d.n_([d.Jq("instruction"),Qt("base"),en("seed"),Qt("programId")])},TransferWithSeed:{index:11,layout:d.n_([d.Jq("instruction"),En("lamports"),en("seed"),Qt("programId")])}});class Dn{constructor(){}static createAccount(e){const t=Cn(Tn.Create,{lamports:e.lamports,space:e.space,programId:k(e.programId.toBuffer())});return new an({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,n;if("basePubkey"in e){t=Cn(Tn.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:k(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=Cn(Tn.Transfer,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new an({keys:n,programId:this.programId,data:t})}static assign(e){let t,n;if("basePubkey"in e){t=Cn(Tn.AssignWithSeed,{base:k(e.basePubkey.toBuffer()),seed:e.seed,programId:k(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Cn(Tn.Assign,{programId:k(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new an({keys:n,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Cn(Tn.CreateWithSeed,{base:k(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:k(e.programId.toBuffer())});let n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&n.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new an({keys:n,programId:this.programId,data:t})}static createNonceAccount(e){const t=new cn;"basePubkey"in e&&"seed"in e?t.add(Dn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Pn,programId:this.programId})):t.add(Dn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Pn,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(n)),t}static nonceInitialize(e){const t=Cn(Tn.InitializeNonceAccount,{authorized:k(e.authorizedPubkey.toBuffer())}),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:pn,isSigner:!1,isWritable:!1},{pubkey:hn,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new an(n)}static nonceAdvance(e){const t=Cn(Tn.AdvanceNonceAccount),n={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:pn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new an(n)}static nonceWithdraw(e){const t=Cn(Tn.WithdrawNonceAccount,{lamports:e.lamports});return new an({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:pn,isSigner:!1,isWritable:!1},{pubkey:hn,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=Cn(Tn.AuthorizeNonceAccount,{authorized:k(e.newAuthorizedPubkey.toBuffer())});return new an({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,n;if("basePubkey"in e){t=Cn(Tn.AllocateWithSeed,{base:k(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:k(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Cn(Tn.Allocate,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new an({keys:n,programId:this.programId,data:t})}}Dn.programId=new Wt("11111111111111111111111111111111");const Mn=Zt-300;class Nn{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Nn.chunkSize)+1+1)}static async load(e,t,n,r,o){{const i=await e.getMinimumBalanceForRentExemption(o.length),s=await e.getAccountInfo(n.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==o.length&&(a=a||new cn,a.add(Dn.allocate({accountPubkey:n.publicKey,space:o.length}))),s.owner.equals(r)||(a=a||new cn,a.add(Dn.assign({accountPubkey:n.publicKey,programId:r}))),s.lamports<i&&(a=a||new cn,a.add(Dn.transfer({fromPubkey:t.publicKey,toPubkey:n.publicKey,lamports:i-s.lamports})))}else a=(new cn).add(Dn.createAccount({fromPubkey:t.publicKey,newAccountPubkey:n.publicKey,lamports:i>0?i:1,space:o.length,programId:r}));null!==a&&await bn(e,a,[t,n],{commitment:"confirmed"})}const s=d.n_([d.Jq("instruction"),d.Jq("offset"),d.Jq("bytesLength"),d.Jq("bytesLengthPadding"),d.A9(d.u8("byte"),d.cv(d.Jq(),-8),"bytes")]),a=Nn.chunkSize;let c=0,l=o,u=[];for(;l.length>0;){const o=l.slice(0,a),d=i.Buffer.alloc(a+16);s.encode({instruction:0,offset:c,bytes:o,bytesLength:0,bytesLengthPadding:0},d);const p=(new cn).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:r,data:d});if(u.push(bn(e,p,[t,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await vn(1e3/e)}c+=a,l=l.slice(a)}await Promise.all(u);{const o=d.n_([d.Jq("instruction")]),s=i.Buffer.alloc(o.span);o.encode({instruction:1},s);const a=(new cn).add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:hn,isSigner:!1,isWritable:!1}],programId:r,data:s});await bn(e,a,[t,n],{commitment:"confirmed"})}return!0}}Nn.chunkSize=Mn;const jn=new Wt("BPFLoader2111111111111111111111111111111111");class Ln{static getMinNumSignatures(e){return Nn.getMinNumSignatures(e)}static load(e,t,n,r,o){return Nn.load(e,t,n,o,r)}}class Bn{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.u8("instruction").decode(e.data);let n;for(const[r,o]of Object.entries(zn))if(o.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return n}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:n}=xn(zn.RequestUnits,e.data);return{units:t,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=xn(zn.RequestHeapFrame,e.data);return{bytes:t}}static checkProgramId(e){if(!e.equals(Fn.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const zn=Object.freeze({RequestUnits:{index:0,layout:d.n_([d.u8("instruction"),d.Jq("units"),d.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:d.n_([d.u8("instruction"),d.Jq("bytes")])}});class Fn{constructor(){}static requestUnits(e){const t=Cn(zn.RequestUnits,e);return new an({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=Cn(zn.RequestHeapFrame,e);return new an({keys:[],programId:this.programId,data:t})}}Fn.programId=new Wt("ComputeBudget111111111111111111111111111111");var Un={exports:{}};!function(e,t){var n="undefined"!==typeof self?self:_,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,o="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),i="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],c=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function l(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function g(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:i&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||c(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},i&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=l(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[l(e)]},p.prototype.get=function(e){return e=l(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(l(e))},p.prototype.set=function(e,t){this.map[l(e)]=u(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){var n=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}})),t}function k(e){var t=new p;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();t.append(r,o)}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var E=[301,302,303,307,308];_.redirect=function(e,t){if(-1===E.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(C){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function S(e,n){return new Promise((function(r,i){var s=new v(e,n);if(s.signal&&s.signal.aborted)return i(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function c(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:k(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new _(t,e))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.onabort=function(){i(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&o&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",c),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",c)}),a.send("undefined"===typeof s._bodyInit?null:s._bodyInit)}))}S.polyfill=!0,e.fetch||(e.fetch=S,e.Headers=p,e.Request=v,e.Response=_),t.Headers=p,t.Request=v,t.Response=_,t.fetch=S,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var o=r;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t}(Un,Un.exports);var $n=E(Un.exports),Wn=Object.prototype.toString,qn=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};function Hn(e,t){var n,r,o,i,s,a,c;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"===typeof e.toJSON)return Hn(e.toJSON(),t);if("[object Array]"===(c=Wn.call(e))){for(o="[",r=e.length-1,n=0;n<r;n++)o+=Hn(e[n],!0)+",";return r>-1&&(o+=Hn(e[n],!0)),o+"]"}if("[object Object]"===c){for(r=(i=qn(e).sort()).length,o="",n=0;n<r;)void 0!==(a=Hn(e[s=i[n]],!1))&&(o&&(o+=","),o+=JSON.stringify(s)+":"+a),n++;return"{"+o+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var Kn=function(e){var t=Hn(e,!1);if(void 0!==t)return""+t};function Gn(e){let t=0;for(;e>1;)e/=2,t++;return t}class Vn{constructor(e,t,n,r,o){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=n,this.firstNormalEpoch=r,this.firstNormalSlot=o}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const n=Gn(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Gn(32)-1;return[n,e-(this.getSlotsInEpoch(n)-32)]}{const t=e-this.firstNormalSlot,n=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+n,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Gn(32)):this.slotsPerEpoch}}class Xn extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const Yn=(0,p.oQ)((0,p.eE)(Wt),(0,p.Z_)(),(e=>new Wt(e))),Zn=(0,p.bc)([(0,p.Z_)(),(0,p.i0)("base64")]),Jn=(0,p.oQ)((0,p.eE)(i.Buffer),Zn,(e=>i.Buffer.from(e[0],"base64"))),Qn=3e4;function er(e){return(0,p.G0)([(0,p.dt)({jsonrpc:(0,p.i0)("2.0"),id:(0,p.Z_)(),result:e}),(0,p.dt)({jsonrpc:(0,p.i0)("2.0"),id:(0,p.Z_)(),error:(0,p.dt)({code:(0,p._4)(),message:(0,p.Z_)(),data:(0,p.jt)((0,p.Yj)())})})])}const tr=er((0,p._4)());function nr(e){return(0,p.oQ)(er(e),tr,(t=>"error"in t?t:{...t,result:(0,p.Ue)(t.result,e)}))}function rr(e){return nr((0,p.dt)({context:(0,p.dt)({slot:(0,p.Rx)()}),value:e}))}function or(e){return(0,p.dt)({context:(0,p.dt)({slot:(0,p.Rx)()}),value:e})}const ir=(0,p.dt)({foundation:(0,p.Rx)(),foundationTerm:(0,p.Rx)(),initial:(0,p.Rx)(),taper:(0,p.Rx)(),terminal:(0,p.Rx)()}),sr=nr((0,p.IX)((0,p.AG)((0,p.dt)({epoch:(0,p.Rx)(),effectiveSlot:(0,p.Rx)(),amount:(0,p.Rx)(),postBalance:(0,p.Rx)()})))),ar=(0,p.dt)({epoch:(0,p.Rx)(),slotIndex:(0,p.Rx)(),slotsInEpoch:(0,p.Rx)(),absoluteSlot:(0,p.Rx)(),blockHeight:(0,p.jt)((0,p.Rx)()),transactionCount:(0,p.jt)((0,p.Rx)())}),cr=(0,p.dt)({slotsPerEpoch:(0,p.Rx)(),leaderScheduleSlotOffset:(0,p.Rx)(),warmup:(0,p.O7)(),firstNormalEpoch:(0,p.Rx)(),firstNormalSlot:(0,p.Rx)()}),lr=(0,p.IM)((0,p.Z_)(),(0,p.IX)((0,p.Rx)())),ur=(0,p.AG)((0,p.G0)([(0,p.dt)({}),(0,p.Z_)()])),dr=(0,p.dt)({err:ur}),pr=(0,p.i0)("receivedSignature"),hr=(0,p.dt)({"solana-core":(0,p.Z_)(),"feature-set":(0,p.jt)((0,p.Rx)())}),fr=rr((0,p.dt)({err:(0,p.AG)((0,p.G0)([(0,p.dt)({}),(0,p.Z_)()])),logs:(0,p.AG)((0,p.IX)((0,p.Z_)())),accounts:(0,p.jt)((0,p.AG)((0,p.IX)((0,p.AG)((0,p.dt)({executable:(0,p.O7)(),owner:(0,p.Z_)(),lamports:(0,p.Rx)(),data:(0,p.IX)((0,p.Z_)()),rentEpoch:(0,p.jt)((0,p.Rx)())}))))),unitsConsumed:(0,p.jt)((0,p.Rx)())})),gr=rr((0,p.dt)({byIdentity:(0,p.IM)((0,p.Z_)(),(0,p.IX)((0,p.Rx)())),range:(0,p.dt)({firstSlot:(0,p.Rx)(),lastSlot:(0,p.Rx)()})}));const yr=nr(ir),mr=nr(ar),br=nr(cr),vr=nr(lr),wr=nr((0,p.Rx)()),kr=rr((0,p.dt)({total:(0,p.Rx)(),circulating:(0,p.Rx)(),nonCirculating:(0,p.Rx)(),nonCirculatingAccounts:(0,p.IX)(Yn)})),_r=(0,p.dt)({amount:(0,p.Z_)(),uiAmount:(0,p.AG)((0,p.Rx)()),decimals:(0,p.Rx)(),uiAmountString:(0,p.jt)((0,p.Z_)())}),Er=rr((0,p.IX)((0,p.dt)({address:Yn,amount:(0,p.Z_)(),uiAmount:(0,p.AG)((0,p.Rx)()),decimals:(0,p.Rx)(),uiAmountString:(0,p.jt)((0,p.Z_)())}))),Sr=rr((0,p.IX)((0,p.dt)({pubkey:Yn,account:(0,p.dt)({executable:(0,p.O7)(),owner:Yn,lamports:(0,p.Rx)(),data:Jn,rentEpoch:(0,p.Rx)()})}))),Cr=(0,p.dt)({program:(0,p.Z_)(),parsed:(0,p._4)(),space:(0,p.Rx)()}),xr=rr((0,p.IX)((0,p.dt)({pubkey:Yn,account:(0,p.dt)({executable:(0,p.O7)(),owner:Yn,lamports:(0,p.Rx)(),data:Cr,rentEpoch:(0,p.Rx)()})}))),Ir=rr((0,p.IX)((0,p.dt)({lamports:(0,p.Rx)(),address:Yn}))),Ar=(0,p.dt)({executable:(0,p.O7)(),owner:Yn,lamports:(0,p.Rx)(),data:Jn,rentEpoch:(0,p.Rx)()}),Pr=(0,p.dt)({pubkey:Yn,account:Ar}),Rr=(0,p.oQ)((0,p.G0)([(0,p.eE)(i.Buffer),Cr]),(0,p.G0)([Zn,Cr]),(e=>Array.isArray(e)?(0,p.Ue)(e,Jn):e)),Or=(0,p.dt)({executable:(0,p.O7)(),owner:Yn,lamports:(0,p.Rx)(),data:Rr,rentEpoch:(0,p.Rx)()}),Tr=(0,p.dt)({pubkey:Yn,account:Or}),Dr=(0,p.dt)({state:(0,p.G0)([(0,p.i0)("active"),(0,p.i0)("inactive"),(0,p.i0)("activating"),(0,p.i0)("deactivating")]),active:(0,p.Rx)(),inactive:(0,p.Rx)()}),Mr=nr((0,p.IX)((0,p.dt)({signature:(0,p.Z_)(),slot:(0,p.Rx)(),err:ur,memo:(0,p.AG)((0,p.Z_)()),blockTime:(0,p.jt)((0,p.AG)((0,p.Rx)()))}))),Nr=nr((0,p.IX)((0,p.dt)({signature:(0,p.Z_)(),slot:(0,p.Rx)(),err:ur,memo:(0,p.AG)((0,p.Z_)()),blockTime:(0,p.jt)((0,p.AG)((0,p.Rx)()))}))),jr=(0,p.dt)({subscription:(0,p.Rx)(),result:or(Ar)}),Lr=(0,p.dt)({pubkey:Yn,account:Ar}),Br=(0,p.dt)({subscription:(0,p.Rx)(),result:or(Lr)}),zr=(0,p.dt)({parent:(0,p.Rx)(),slot:(0,p.Rx)(),root:(0,p.Rx)()}),Fr=(0,p.dt)({subscription:(0,p.Rx)(),result:zr}),Ur=(0,p.G0)([(0,p.dt)({type:(0,p.G0)([(0,p.i0)("firstShredReceived"),(0,p.i0)("completed"),(0,p.i0)("optimisticConfirmation"),(0,p.i0)("root")]),slot:(0,p.Rx)(),timestamp:(0,p.Rx)()}),(0,p.dt)({type:(0,p.i0)("createdBank"),parent:(0,p.Rx)(),slot:(0,p.Rx)(),timestamp:(0,p.Rx)()}),(0,p.dt)({type:(0,p.i0)("frozen"),slot:(0,p.Rx)(),timestamp:(0,p.Rx)(),stats:(0,p.dt)({numTransactionEntries:(0,p.Rx)(),numSuccessfulTransactions:(0,p.Rx)(),numFailedTransactions:(0,p.Rx)(),maxTransactionsPerEntry:(0,p.Rx)()})}),(0,p.dt)({type:(0,p.i0)("dead"),slot:(0,p.Rx)(),timestamp:(0,p.Rx)(),err:(0,p.Z_)()})]),$r=(0,p.dt)({subscription:(0,p.Rx)(),result:Ur}),Wr=(0,p.dt)({subscription:(0,p.Rx)(),result:or((0,p.G0)([dr,pr]))}),qr=(0,p.dt)({subscription:(0,p.Rx)(),result:(0,p.Rx)()}),Hr=(0,p.dt)({pubkey:(0,p.Z_)(),gossip:(0,p.AG)((0,p.Z_)()),tpu:(0,p.AG)((0,p.Z_)()),rpc:(0,p.AG)((0,p.Z_)()),version:(0,p.AG)((0,p.Z_)())}),Kr=(0,p.dt)({votePubkey:(0,p.Z_)(),nodePubkey:(0,p.Z_)(),activatedStake:(0,p.Rx)(),epochVoteAccount:(0,p.O7)(),epochCredits:(0,p.IX)((0,p.bc)([(0,p.Rx)(),(0,p.Rx)(),(0,p.Rx)()])),commission:(0,p.Rx)(),lastVote:(0,p.Rx)(),rootSlot:(0,p.AG)((0,p.Rx)())}),Gr=nr((0,p.dt)({current:(0,p.IX)(Kr),delinquent:(0,p.IX)(Kr)})),Vr=(0,p.G0)([(0,p.i0)("processed"),(0,p.i0)("confirmed"),(0,p.i0)("finalized")]),Xr=(0,p.dt)({slot:(0,p.Rx)(),confirmations:(0,p.AG)((0,p.Rx)()),err:ur,confirmationStatus:(0,p.jt)(Vr)}),Yr=rr((0,p.IX)((0,p.AG)(Xr))),Zr=nr((0,p.Rx)()),Jr=(0,p.dt)({signatures:(0,p.IX)((0,p.Z_)()),message:(0,p.dt)({accountKeys:(0,p.IX)((0,p.Z_)()),header:(0,p.dt)({numRequiredSignatures:(0,p.Rx)(),numReadonlySignedAccounts:(0,p.Rx)(),numReadonlyUnsignedAccounts:(0,p.Rx)()}),instructions:(0,p.IX)((0,p.dt)({accounts:(0,p.IX)((0,p.Rx)()),data:(0,p.Z_)(),programIdIndex:(0,p.Rx)()})),recentBlockhash:(0,p.Z_)()})}),Qr=(0,p.dt)({parsed:(0,p._4)(),program:(0,p.Z_)(),programId:Yn}),eo=(0,p.dt)({accounts:(0,p.IX)(Yn),data:(0,p.Z_)(),programId:Yn}),to=(0,p.G0)([eo,Qr]),no=(0,p.G0)([(0,p.dt)({parsed:(0,p._4)(),program:(0,p.Z_)(),programId:(0,p.Z_)()}),(0,p.dt)({accounts:(0,p.IX)((0,p.Z_)()),data:(0,p.Z_)(),programId:(0,p.Z_)()})]),ro=(0,p.oQ)(to,no,(e=>"accounts"in e?(0,p.Ue)(e,eo):(0,p.Ue)(e,Qr))),oo=(0,p.dt)({signatures:(0,p.IX)((0,p.Z_)()),message:(0,p.dt)({accountKeys:(0,p.IX)((0,p.dt)({pubkey:Yn,signer:(0,p.O7)(),writable:(0,p.O7)()})),instructions:(0,p.IX)(ro),recentBlockhash:(0,p.Z_)()})}),io=(0,p.dt)({accountIndex:(0,p.Rx)(),mint:(0,p.Z_)(),owner:(0,p.jt)((0,p.Z_)()),uiTokenAmount:_r}),so=(0,p.dt)({err:ur,fee:(0,p.Rx)(),innerInstructions:(0,p.jt)((0,p.AG)((0,p.IX)((0,p.dt)({index:(0,p.Rx)(),instructions:(0,p.IX)((0,p.dt)({accounts:(0,p.IX)((0,p.Rx)()),data:(0,p.Z_)(),programIdIndex:(0,p.Rx)()}))})))),preBalances:(0,p.IX)((0,p.Rx)()),postBalances:(0,p.IX)((0,p.Rx)()),logMessages:(0,p.jt)((0,p.AG)((0,p.IX)((0,p.Z_)()))),preTokenBalances:(0,p.jt)((0,p.AG)((0,p.IX)(io))),postTokenBalances:(0,p.jt)((0,p.AG)((0,p.IX)(io)))}),ao=(0,p.dt)({err:ur,fee:(0,p.Rx)(),innerInstructions:(0,p.jt)((0,p.AG)((0,p.IX)((0,p.dt)({index:(0,p.Rx)(),instructions:(0,p.IX)(ro)})))),preBalances:(0,p.IX)((0,p.Rx)()),postBalances:(0,p.IX)((0,p.Rx)()),logMessages:(0,p.jt)((0,p.AG)((0,p.IX)((0,p.Z_)()))),preTokenBalances:(0,p.jt)((0,p.AG)((0,p.IX)(io))),postTokenBalances:(0,p.jt)((0,p.AG)((0,p.IX)(io)))}),co=nr((0,p.AG)((0,p.dt)({blockhash:(0,p.Z_)(),previousBlockhash:(0,p.Z_)(),parentSlot:(0,p.Rx)(),transactions:(0,p.IX)((0,p.dt)({transaction:Jr,meta:(0,p.AG)(so)})),rewards:(0,p.jt)((0,p.IX)((0,p.dt)({pubkey:(0,p.Z_)(),lamports:(0,p.Rx)(),postBalance:(0,p.AG)((0,p.Rx)()),rewardType:(0,p.AG)((0,p.Z_)())}))),blockTime:(0,p.AG)((0,p.Rx)()),blockHeight:(0,p.AG)((0,p.Rx)())}))),lo=nr((0,p.AG)((0,p.dt)({blockhash:(0,p.Z_)(),previousBlockhash:(0,p.Z_)(),parentSlot:(0,p.Rx)(),transactions:(0,p.IX)((0,p.dt)({transaction:Jr,meta:(0,p.AG)(so)})),rewards:(0,p.jt)((0,p.IX)((0,p.dt)({pubkey:(0,p.Z_)(),lamports:(0,p.Rx)(),postBalance:(0,p.AG)((0,p.Rx)()),rewardType:(0,p.AG)((0,p.Z_)())}))),blockTime:(0,p.AG)((0,p.Rx)())}))),uo=nr((0,p.AG)((0,p.dt)({blockhash:(0,p.Z_)(),previousBlockhash:(0,p.Z_)(),parentSlot:(0,p.Rx)(),signatures:(0,p.IX)((0,p.Z_)()),blockTime:(0,p.AG)((0,p.Rx)())}))),po=nr((0,p.AG)((0,p.dt)({slot:(0,p.Rx)(),meta:so,blockTime:(0,p.jt)((0,p.AG)((0,p.Rx)())),transaction:Jr}))),ho=nr((0,p.AG)((0,p.dt)({slot:(0,p.Rx)(),transaction:oo,meta:(0,p.AG)(ao),blockTime:(0,p.jt)((0,p.AG)((0,p.Rx)()))}))),fo=rr((0,p.dt)({blockhash:(0,p.Z_)(),feeCalculator:(0,p.dt)({lamportsPerSignature:(0,p.Rx)()})})),go=rr((0,p.dt)({blockhash:(0,p.Z_)(),lastValidBlockHeight:(0,p.Rx)()})),yo=(0,p.dt)({slot:(0,p.Rx)(),numTransactions:(0,p.Rx)(),numSlots:(0,p.Rx)(),samplePeriodSecs:(0,p.Rx)()}),mo=nr((0,p.IX)(yo)),bo=rr((0,p.AG)((0,p.dt)({feeCalculator:(0,p.dt)({lamportsPerSignature:(0,p.Rx)()})}))),vo=nr((0,p.Z_)()),wo=nr((0,p.Z_)()),ko=(0,p.dt)({err:ur,logs:(0,p.IX)((0,p.Z_)()),signature:(0,p.Z_)()}),_o=(0,p.dt)({result:or(ko),subscription:(0,p.Rx)()});class Eo{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={recentBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let n=new URL(e);n.protocol;let r,o,i,s,a;var c;t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,o=t.httpHeaders,i=t.fetch,s=t.fetchMiddleware,a=t.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=r||function(e){let t=new URL(e);const n="https:"===t.protocol;return t.protocol=n?"wss:":"ws:",t.host="",""!==t.port&&(t.port=String(Number(t.port)+1)),t.toString()}(e),this._rpcClient=function(e,t,n,r,o,i){const s=r||$n;let a;return o&&(a=async(e,t)=>{const n=await new Promise(((n,r)=>{try{o(e,t,((e,t)=>n([e,t])))}catch(i){r(i)}}));return await s(...n)}),new(g())((async(t,r)=>{const o={method:"POST",body:t,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},n||{})};try{let t,n=5,c=500;for(;t=a?await a(e,o):await s(e,o),429===t.status&&!0!==i&&(n-=1,0!==n);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${c}ms delay...`),await vn(c),c*=2;const l=await t.text();t.ok?r(null,l):r(new Error(`${t.status} ${t.statusText}: ${l}`))}catch(c){c instanceof Error&&r(c)}}),{})}(n.toString(),0,o,i,s,a),this._rpcRequest=(c=this._rpcClient,(e,t)=>new Promise(((n,r)=>{c.request(e,t,((e,t)=>{e?r(e):n(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((n,r)=>{0===t.length&&n([]);const o=t.map((t=>e.request(t.methodName,t.args)));e.request(o,((e,t)=>{e?r(e):n(t)}))}))}(this._rpcClient),this._rpcWebSocket=new h.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getBalance",n),o=(0,p.Ue)(r,rr((0,p.Rx)()));if("error"in o)throw new Error("failed to get balance for "+e.toBase58()+": "+o.error.message);return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),n=(0,p.Ue)(t,nr((0,p.AG)((0,p.Rx)())));if("error"in n)throw new Error("failed to get block time for slot "+e+": "+n.error.message);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,p.Ue)(e,nr((0,p.Rx)()));if("error"in t)throw new Error("failed to get minimum ledger slot: "+t.error.message);return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,p.Ue)(e,wr);if("error"in t)throw new Error("failed to get first available block: "+t.error.message);return t.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const n=await this._rpcRequest("getSupply",[t]),r=(0,p.Ue)(n,kr);if("error"in r)throw new Error("failed to get supply: "+r.error.message);return r.result}async getTokenSupply(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenSupply",n),o=(0,p.Ue)(r,rr(_r));if("error"in o)throw new Error("failed to get token supply: "+o.error.message);return o.result}async getTokenAccountBalance(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenAccountBalance",n),o=(0,p.Ue)(r,rr(_r));if("error"in o)throw new Error("failed to get token account balance: "+o.error.message);return o.result}async getTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const o=this._buildArgs(r,n,"base64"),i=await this._rpcRequest("getTokenAccountsByOwner",o),s=(0,p.Ue)(i,Sr);if("error"in s)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+s.error.message);return s.result}async getParsedTokenAccountsByOwner(e,t,n){let r=[e.toBase58()];"mint"in t?r.push({mint:t.mint.toBase58()}):r.push({programId:t.programId.toBase58()});const o=this._buildArgs(r,n,"jsonParsed"),i=await this._rpcRequest("getTokenAccountsByOwner",o),s=(0,p.Ue)(i,xr);if("error"in s)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+s.error.message);return s.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},n=t.filter||t.commitment?[t]:[],r=await this._rpcRequest("getLargestAccounts",n),o=(0,p.Ue)(r,Ir);if("error"in o)throw new Error("failed to get largest accounts: "+o.error.message);return o.result}async getTokenLargestAccounts(e,t){const n=this._buildArgs([e.toBase58()],t),r=await this._rpcRequest("getTokenLargestAccounts",n),o=(0,p.Ue)(r,Er);if("error"in o)throw new Error("failed to get token largest accounts: "+o.error.message);return o.result}async getAccountInfoAndContext(e,t){const n=this._buildArgs([e.toBase58()],t,"base64"),r=await this._rpcRequest("getAccountInfo",n),o=(0,p.Ue)(r,rr((0,p.AG)(Ar)));if("error"in o)throw new Error("failed to get info about account "+e.toBase58()+": "+o.error.message);return o.result}async getParsedAccountInfo(e,t){const n=this._buildArgs([e.toBase58()],t,"jsonParsed"),r=await this._rpcRequest("getAccountInfo",n),o=(0,p.Ue)(r,rr((0,p.AG)(Or)));if("error"in o)throw new Error("failed to get info about account "+e.toBase58()+": "+o.error.message);return o.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleAccountsInfoAndContext(e,t){const n=e.map((e=>e.toBase58())),r=this._buildArgs([n],t,"base64"),o=await this._rpcRequest("getMultipleAccounts",r),i=(0,p.Ue)(o,rr((0,p.IX)((0,p.AG)(Ar))));if("error"in i)throw new Error("failed to get info for accounts "+n+": "+i.error.message);return i.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,n){const r=this._buildArgs([e.toBase58()],t,void 0,void 0!==n?{epoch:n}:void 0),o=await this._rpcRequest("getStakeActivation",r),i=(0,p.Ue)(o,nr(Dr));if("error"in i)throw new Error(`failed to get Stake Activation ${e.toBase58()}: ${i.error.message}`);return i.result}async getProgramAccounts(e,t){const n={};let r,o;t&&("string"===typeof t?r=t:(r=t.commitment,o=t.encoding,t.dataSlice&&(n.dataSlice=t.dataSlice),t.filters&&(n.filters=t.filters)));const i=this._buildArgs([e.toBase58()],r,o||"base64",n),s=await this._rpcRequest("getProgramAccounts",i),a=(0,p.Ue)(s,nr((0,p.IX)(Pr)));if("error"in a)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+a.error.message);return a.result}async getParsedProgramAccounts(e,t){const n={};let r;t&&("string"===typeof t?r=t:(r=t.commitment,t.filters&&(n.filters=t.filters)));const o=this._buildArgs([e.toBase58()],r,"jsonParsed",n),i=await this._rpcRequest("getProgramAccounts",o),s=(0,p.Ue)(i,nr((0,p.IX)(Tr)));if("error"in s)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+s.error.message);return s.result}async confirmTransaction(e,t){let n;try{n=l().decode(e)}catch(u){throw new Error("signature must be base58 encoded: "+e)}on(64===n.length,"signature has invalid length");const r=Date.now(),o=t||this.commitment;let i,s=null;const a=new Promise(((t,n)=>{try{i=this.onSignature(e,((e,n)=>{i=void 0,s={context:n,value:e},t(null)}),o)}catch(u){n(u)}}));let c=this._confirmTransactionInitialTimeout||6e4;switch(o){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":c=this._confirmTransactionInitialTimeout||3e4}try{await function(e,t){let n;const r=new Promise((e=>{n=setTimeout((()=>e(null)),t)}));return Promise.race([e,r]).then((e=>(clearTimeout(n),e)))}(a,c)}finally{i&&this.removeSignatureListener(i)}if(null===s){const t=(Date.now()-r)/1e3;throw new Error(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`)}return s}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,p.Ue)(e,nr((0,p.IX)(Hr)));if("error"in t)throw new Error("failed to get cluster nodes: "+t.error.message);return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",t),r=(0,p.Ue)(n,Gr);if("error"in r)throw new Error("failed to get vote accounts: "+r.error.message);return r.result}async getSlot(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getSlot",t),r=(0,p.Ue)(n,nr((0,p.Rx)()));if("error"in r)throw new Error("failed to get slot: "+r.error.message);return r.result}async getSlotLeader(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getSlotLeader",t),r=(0,p.Ue)(n,nr((0,p.Z_)()));if("error"in r)throw new Error("failed to get slot leader: "+r.error.message);return r.result}async getSlotLeaders(e,t){const n=[e,t],r=await this._rpcRequest("getSlotLeaders",n),o=(0,p.Ue)(r,nr((0,p.IX)(Yn)));if("error"in o)throw new Error("failed to get slot leaders: "+o.error.message);return o.result}async getSignatureStatus(e,t){const{context:n,value:r}=await this.getSignatureStatuses([e],t);on(1===r.length);return{context:n,value:r[0]}}async getSignatureStatuses(e,t){const n=[e];t&&n.push(t);const r=await this._rpcRequest("getSignatureStatuses",n),o=(0,p.Ue)(r,Yr);if("error"in o)throw new Error("failed to get signature status: "+o.error.message);return o.result}async getTransactionCount(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getTransactionCount",t),r=(0,p.Ue)(n,nr((0,p.Rx)()));if("error"in r)throw new Error("failed to get transaction count: "+r.error.message);return r.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",t),r=(0,p.Ue)(n,yr);if("error"in r)throw new Error("failed to get inflation: "+r.error.message);return r.result}async getInflationReward(e,t,n){const r=this._buildArgs([e.map((e=>e.toBase58()))],n,void 0,{epoch:t}),o=await this._rpcRequest("getInflationReward",r),i=(0,p.Ue)(o,sr);if("error"in i)throw new Error("failed to get inflation reward: "+i.error.message);return i.result}async getEpochInfo(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getEpochInfo",t),r=(0,p.Ue)(n,mr);if("error"in r)throw new Error("failed to get epoch info: "+r.error.message);return r.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,p.Ue)(e,br);if("error"in t)throw new Error("failed to get epoch schedule: "+t.error.message);const n=t.result;return new Vn(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,p.Ue)(e,vr);if("error"in t)throw new Error("failed to get leader schedule: "+t.error.message);return t.result}async getMinimumBalanceForRentExemption(e,t){const n=this._buildArgs([e],t),r=await this._rpcRequest("getMinimumBalanceForRentExemption",n),o=(0,p.Ue)(r,Zr);return"error"in o?(console.warn("Unable to fetch minimum balance for rent exemption"),0):o.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",t),r=(0,p.Ue)(n,fo);if("error"in r)throw new Error("failed to get recent blockhash: "+r.error.message);return r.result}async getRecentPerformanceSamples(e){const t=this._buildArgs(e?[e]:[]),n=await this._rpcRequest("getRecentPerformanceSamples",t),r=(0,p.Ue)(n,mo);if("error"in r)throw new Error("failed to get recent performance samples: "+r.error.message);return r.result}async getFeeCalculatorForBlockhash(e,t){const n=this._buildArgs([e],t),r=await this._rpcRequest("getFeeCalculatorForBlockhash",n),o=(0,p.Ue)(r,bo);if("error"in o)throw new Error("failed to get fee calculator: "+o.error.message);const{context:i,value:s}=o.result;return{context:i,value:null!==s?s.feeCalculator:null}}async getFeeForMessage(e,t){const n=e.serialize().toString("base64"),r=this._buildArgs([n],t),o=await this._rpcRequest("getFeeForMessage",r),i=(0,p.Ue)(o,rr((0,p.AG)((0,p.Rx)())));if("error"in i)throw new Error("failed to get slot: "+i.error.message);if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getLatestBlockhash",t),r=(0,p.Ue)(n,go);if("error"in r)throw new Error("failed to get latest blockhash: "+r.error.message);return r.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,p.Ue)(e,nr(hr));if("error"in t)throw new Error("failed to get version: "+t.error.message);return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,p.Ue)(e,nr((0,p.Z_)()));if("error"in t)throw new Error("failed to get genesis hash: "+t.error.message);return t.result}async getBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),r=await this._rpcRequest("getBlock",n),o=(0,p.Ue)(r,co);if("error"in o)throw new Error("failed to get confirmed block: "+o.error.message);const i=o.result;return i?{...i,transactions:i.transactions.map((e=>{let{transaction:t,meta:n}=e;const r=new rn(t.message);return{meta:n,transaction:{...t,message:r}}}))}:i}async getBlockHeight(e){const t=this._buildArgs([],e),n=await this._rpcRequest("getBlockHeight",t),r=(0,p.Ue)(n,nr((0,p.Rx)()));if("error"in r)throw new Error("failed to get block height information: "+r.error.message);return r.result}async getBlockProduction(e){let t,n;if("string"===typeof e)n=e;else if(e){const{commitment:r,...o}=e;n=r,t=o}const r=this._buildArgs([],n,"base64",t),o=await this._rpcRequest("getBlockProduction",r),i=(0,p.Ue)(o,gr);if("error"in i)throw new Error("failed to get block production information: "+i.error.message);return i.result}async getTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),r=await this._rpcRequest("getTransaction",n),o=(0,p.Ue)(r,po);if("error"in o)throw new Error("failed to get transaction: "+o.error.message);const i=o.result;return i?{...i,transaction:{...i.transaction,message:new rn(i.transaction.message)}}:i}async getParsedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=await this._rpcRequest("getTransaction",n),o=(0,p.Ue)(r,ho);if("error"in o)throw new Error("failed to get transaction: "+o.error.message);return o.result}async getParsedTransactions(e,t){const n=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const t=(0,p.Ue)(e,ho);if("error"in t)throw new Error("failed to get transactions: "+t.error.message);return t.result}))}async getTransactions(e,t){const n=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t)})));return(await this._rpcBatchRequest(n)).map((e=>{const t=(0,p.Ue)(e,po);if("error"in t)throw new Error("failed to get transactions: "+t.error.message);return t.result}))}async getConfirmedBlock(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=await this._rpcRequest("getConfirmedBlock",n),o=(0,p.Ue)(r,lo);if("error"in o)throw new Error("failed to get confirmed block: "+o.error.message);const i=o.result;if(!i)throw new Error("Confirmed block "+e+" not found");const s={...i,transactions:i.transactions.map((e=>{let{transaction:t,meta:n}=e;const r=new rn(t.message);return{meta:n,transaction:{...t,message:r}}}))};return{...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:n}=e;return{meta:n,transaction:cn.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,n){const r=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],n),o=await this._rpcRequest("getBlocks",r),i=(0,p.Ue)(o,nr((0,p.IX)((0,p.Rx)())));if("error"in i)throw new Error("failed to get blocks: "+i.error.message);return i.result}async getBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=await this._rpcRequest("getBlock",n),o=(0,p.Ue)(r,uo);if("error"in o)throw new Error("failed to get block: "+o.error.message);const i=o.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),r=await this._rpcRequest("getConfirmedBlock",n),o=(0,p.Ue)(r,uo);if("error"in o)throw new Error("failed to get confirmed block: "+o.error.message);const i=o.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t),r=await this._rpcRequest("getConfirmedTransaction",n),o=(0,p.Ue)(r,po);if("error"in o)throw new Error("failed to get transaction: "+o.error.message);const i=o.result;if(!i)return i;const s=new rn(i.transaction.message),a=i.transaction.signatures;return{...i,transaction:cn.populate(s,a)}}async getParsedConfirmedTransaction(e,t){const n=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),r=await this._rpcRequest("getConfirmedTransaction",n),o=(0,p.Ue)(r,ho);if("error"in o)throw new Error("failed to get confirmed transaction: "+o.error.message);return o.result}async getParsedConfirmedTransactions(e,t){const n=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(n)).map((e=>{const t=(0,p.Ue)(e,ho);if("error"in t)throw new Error("failed to get confirmed transactions: "+t.error.message);return t.result}))}async getConfirmedSignaturesForAddress(e,t,n){let r={},o=await this.getFirstAvailableBlock();for(;!("until"in r)&&!(--t<=0||t<o);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(r.until=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}let i=await this.getSlot("finalized");for(;!("before"in r)&&!(++n>i);)try{const e=await this.getConfirmedBlockSignatures(n);e.signatures.length>0&&(r.before=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}return(await this.getConfirmedSignaturesForAddress2(e,r)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),o=await this._rpcRequest("getConfirmedSignaturesForAddress2",r),i=(0,p.Ue)(o,Mr);if("error"in i)throw new Error("failed to get confirmed signatures for address: "+i.error.message);return i.result}async getSignaturesForAddress(e,t,n){const r=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,t),o=await this._rpcRequest("getSignaturesForAddress",r),i=(0,p.Ue)(o,Nr);if("error"in i)throw new Error("failed to get signatures for address: "+i.error.message);return i.result}async getNonceAndContext(e,t){const{context:n,value:r}=await this.getAccountInfoAndContext(e,t);let o=null;return null!==r&&(o=Rn.fromAccountData(r.data)),{context:n,value:o}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),r=(0,p.Ue)(n,vo);if("error"in r)throw new Error("airdrop to "+e.toBase58()+" failed: "+r.error.message);return r.result}async _recentBlockhash(e){if(!e){for(;this._pollingBlockhash;)await vn(100);const e=Date.now()-this._blockhashInfo.lastFetch>=Qn;if(null!==this._blockhashInfo.recentBlockhash&&!e)return this._blockhashInfo.recentBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now();for(let t=0;t<50;t++){const{blockhash:e}=await this.getRecentBlockhash("finalized");if(this._blockhashInfo.recentBlockhash!=e)return this._blockhashInfo={recentBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await vn(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async simulateTransaction(e,t,n){let r;if(e instanceof cn){let t=e;r=new cn({recentBlockhash:t.recentBlockhash,nonceInfo:t.nonceInfo,feePayer:t.feePayer,signatures:[...t.signatures]}),r.instructions=e.instructions}else r=cn.populate(e),r._message=r._json=void 0;if(r.nonceInfo&&t)r.sign(...t);else{let e=this._disableBlockhashCaching;for(;r.recentBlockhash=await this._recentBlockhash(e),t;){if(r.sign(...t),!r.signature)throw new Error("!signature");const n=r.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(n)&&!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.simulatedSignatures.push(n);break}e=!0}}const o=r._compile(),i=o.serialize(),s=r._serialize(i).toString("base64"),a={encoding:"base64",commitment:this.commitment};if(n){const e=(Array.isArray(n)?n:o.nonProgramIds()).map((e=>e.toBase58()));a.accounts={encoding:"base64",addresses:e}}t&&(a.sigVerify=!0);const c=[s,a],l=await this._rpcRequest("simulateTransaction",c),u=(0,p.Ue)(l,fr);if("error"in u){let e;if("data"in u.error&&(e=u.error.data.logs,e&&Array.isArray(e))){const t="\n    ",n=t+e.join(t);console.error(u.error.message,n)}throw new Xn("failed to simulate transaction: "+u.error.message,e)}return u.result}async sendTransaction(e,t,n){if(e.nonceInfo)e.sign(...t);else{let n=this._disableBlockhashCaching;for(;;){if(e.recentBlockhash=await this._recentBlockhash(n),e.sign(...t),!e.signature)throw new Error("!signature");const r=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.transactionSignatures.push(r);break}n=!0}}const r=e.serialize();return await this.sendRawTransaction(r,n)}async sendRawTransaction(e,t){const n=k(e).toString("base64");return await this.sendEncodedTransaction(n,t)}async sendEncodedTransaction(e,t){const n={encoding:"base64"},r=t&&t.skipPreflight,o=t&&t.preflightCommitment||this.commitment;t&&t.maxRetries&&(n.maxRetries=t.maxRetries),r&&(n.skipPreflight=r),o&&(n.preflightCommitment=o);const i=[e,n],s=await this._rpcRequest("sendTransaction",i),a=(0,p.Ue)(s,wo);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new Xn("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketGeneration++,this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((e=>{let[t,n]=e;this._subscriptionsByHash[t]={...n,state:"pending"}}))):this._updateSubscriptions()}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const n=this._subscriptionsByHash[e];if(void 0!==n)switch(n.state){case"pending":case"unsubscribed":if(0===n.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===n.state&&delete this._subscriptionCallbacksByServerSubscriptionId[n.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:r,method:o}=n;try{this._subscriptionsByHash[e]={...n,state:"subscribing"};const t=await this._rpcWebSocket.call(o,r);this._subscriptionsByHash[e]={...n,serverSubscriptionId:t,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[t]=n.callbacks,await this._updateSubscriptions()}catch(i){if(i instanceof Error&&console.error(`${o} error for argument`,r,i.message),!t())return;this._subscriptionsByHash[e]={...n,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":0===n.callbacks.size&&await(async()=>{const{serverSubscriptionId:r,unsubscribeMethod:o}=n;if(this._subscriptionsAutoDisposedByRpc.has(r))this._subscriptionsAutoDisposedByRpc.delete(r);else{this._subscriptionsByHash[e]={...n,state:"unsubscribing"};try{await this._rpcWebSocket.call(o,[r])}catch(i){if(i instanceof Error&&console.error(`${o} error:`,i.message),!t())return;return this._subscriptionsByHash[e]={...n,state:"subscribed"},void await this._updateSubscriptions()}}this._subscriptionsByHash[e]={...n,state:"unsubscribed"},await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const n=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==n&&n.forEach((e=>{try{e(...t)}catch(n){console.error(n)}}))}_wsOnAccountNotification(e){const{result:t,subscription:n}=(0,p.Ue)(e,jr);this._handleServerNotification(n,[t.value,t.context])}_makeSubscription(e,t){const n=this._nextClientSubscriptionId++,r=Kn([e.method,t],!0),o=this._subscriptionsByHash[r];return void 0===o?this._subscriptionsByHash[r]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:o.callbacks.add(e.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n];const t=this._subscriptionsByHash[r];on(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,t,n){const r=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},r)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:n}=(0,p.Ue)(e,Br);this._handleServerNotification(n,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,n,r){const o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",r?{filters:r}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},o)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,n){const r=this._buildArgs(["object"===typeof e?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},r)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:n}=(0,p.Ue)(e,_o);this._handleServerNotification(n,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:n}=(0,p.Ue)(e,Fr);this._handleServerNotification(n,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:n}=(0,p.Ue)(e,$r);this._handleServerNotification(n,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,n,r){const o=t||this._commitment;if(o||n||r){let t={};n&&(t.encoding=n),o&&(t.commitment=o),r&&(t=Object.assign(t,r)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,n,r){const o=t||this._commitment;if(o&&!["confirmed","finalized"].includes(o))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,n,r)}_wsOnSignatureNotification(e){const{result:t,subscription:n}=(0,p.Ue)(e,Wr);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,n){const r=this._buildArgs([e],n||this._commitment||"finalized"),o=this._makeSubscription({callback:(e,n)=>{if("status"===e.type){t(e.result,n);try{this.removeSignatureListener(o)}catch(r){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},r);return o}onSignatureWithOptions(e,t,n){const{commitment:r,...o}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},i=this._buildArgs([e],r,void 0,o),s=this._makeSubscription({callback:(e,n)=>{t(e,n);try{this.removeSignatureListener(s)}catch(r){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:n}=(0,p.Ue)(e,qr);this._handleServerNotification(n,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class So{constructor(e){this._keypair=void 0,this._keypair=e||o().sign.keyPair()}static generate(){return new So(o().sign.keyPair())}static fromSecretKey(e,t){const n=o().sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("@solana/web3.js-validation-v1"),t=o().sign.detached(e,n.secretKey);if(!o().sign.detached.verify(e,t,n.publicKey))throw new Error("provided secretKey is invalid")}return new So(n)}static fromSeed(e){return new So(o().sign.keyPair.fromSeed(e))}get publicKey(){return new Wt(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const Co=d.n_([d.u8("numSignatures"),d.u8("padding"),d.KB("signatureOffset"),d.KB("signatureInstructionIndex"),d.KB("publicKeyOffset"),d.KB("publicKeyInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.KB("messageInstructionIndex")]);class xo{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,instructionIndex:o}=e;on(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),on(64===r.length,`Signature must be 64 bytes but received ${r.length} bytes`);const s=Co.span,a=s+t.length,c=a+r.length,l=i.Buffer.alloc(c+n.length),u=null==o?65535:o;return Co.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:u,publicKeyOffset:s,publicKeyInstructionIndex:u,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:u},l),l.fill(t,s),l.fill(r,a),l.fill(n,c),new an({keys:[],programId:xo.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;on(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=So.fromSecretKey(t),i=e.publicKey.toBytes(),s=o().sign.detached(n,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:n,signature:s,instructionIndex:r})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}xo.programId=new Wt("Ed25519SigVerify111111111111111111111111111");const Io=new Wt("StakeConfig11111111111111111111111111111111");class Ao{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class Po{constructor(e,t,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=n}}Po.default=new Po(0,0,Wt.default);class Ro{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let n;for(const[r,o]of Object.entries(Oo))if(o.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a StakeInstruction");return n}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:n}=xn(Oo.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new Ao(new Wt(t.staker),new Wt(t.withdrawer)),lockup:new Po(n.unixTimestamp,n.epoch,new Wt(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),xn(Oo.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:n}=xn(Oo.Authorize,e.data),r={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Wt(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(r.custodianPubkey=e.keys[3].pubkey),r}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:n,authoritySeed:r,authorityOwner:o}=xn(Oo.AuthorizeWithSeed,e.data),i={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:r,authorityOwner:new Wt(o),newAuthorizedPubkey:new Wt(t),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=xn(Oo.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),xn(Oo.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=xn(Oo.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),xn(Oo.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Do.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Oo=Object.freeze({Initialize:{index:0,layout:d.n_([d.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return d.n_([Qt("staker"),Qt("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return d.n_([d.gM("unixTimestamp"),d.gM("epoch"),Qt("custodian")],e)}()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),Qt("newAuthorized"),d.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:d.n_([d.Jq("instruction")])},Split:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Withdraw:{index:4,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])},Deactivate:{index:5,layout:d.n_([d.Jq("instruction")])},Merge:{index:7,layout:d.n_([d.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:d.n_([d.Jq("instruction"),Qt("newAuthorized"),d.Jq("stakeAuthorizationType"),en("authoritySeed"),Qt("authorityOwner")])}}),To=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Do{constructor(){}static initialize(e){const{stakePubkey:t,authorized:n,lockup:r}=e,o=r||Po.default,i=Cn(Oo.Initialize,{authorized:{staker:k(n.staker.toBuffer()),withdrawer:k(n.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:k(o.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hn,isSigner:!1,isWritable:!1}],programId:this.programId,data:i};return new an(s)}static createAccountWithSeed(e){const t=new cn;t.add(Dn.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:o}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:o}))}static createAccount(e){const t=new cn;t.add(Dn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:r,lockup:o}=e;return t.add(this.initialize({stakePubkey:n,authorized:r,lockup:o}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:n,votePubkey:r}=e,o=Cn(Oo.Delegate);return(new cn).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:ln,isSigner:!1,isWritable:!1},{pubkey:mn,isSigner:!1,isWritable:!1},{pubkey:Io,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,stakeAuthorizationType:o,custodianPubkey:i}=e,s=Cn(Oo.Authorize,{newAuthorized:k(r.toBuffer()),stakeAuthorizationType:o.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ln,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return i&&a.push({pubkey:i,isSigner:!1,isWritable:!1}),(new cn).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:n,authoritySeed:r,authorityOwner:o,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:a}=e,c=Cn(Oo.AuthorizeWithSeed,{newAuthorized:k(i.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:r,authorityOwner:k(o.toBuffer())}),l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:ln,isSigner:!1,isWritable:!1}];return a&&l.push({pubkey:a,isSigner:!1,isWritable:!1}),(new cn).add({keys:l,programId:this.programId,data:c})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:o}=e,i=Cn(Oo.Split,{lamports:o});return new an({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static split(e){const t=new cn;return t.add(Dn.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,basePubkey:o,seed:i,lamports:s}=e,a=new cn;return a.add(Dn.allocate({accountPubkey:r,basePubkey:o,seed:i,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:n,splitStakePubkey:r,lamports:s}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:n,authorizedPubkey:r}=e,o=Cn(Oo.Merge);return(new cn).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ln,isSigner:!1,isWritable:!1},{pubkey:mn,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:n,toPubkey:r,lamports:o,custodianPubkey:i}=e,s=Cn(Oo.Withdraw,{lamports:o}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ln,isSigner:!1,isWritable:!1},{pubkey:mn,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return i&&a.push({pubkey:i,isSigner:!1,isWritable:!1}),(new cn).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:n}=e,r=Cn(Oo.Deactivate);return(new cn).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ln,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:r})}}Do.programId=new Wt("Stake11111111111111111111111111111111111111"),Do.space=200;const{publicKeyCreate:Mo,ecdsaSign:No}=m(),jo=d.n_([d.u8("numSignatures"),d.KB("signatureOffset"),d.u8("signatureInstructionIndex"),d.KB("ethAddressOffset"),d.u8("ethAddressInstructionIndex"),d.KB("messageDataOffset"),d.KB("messageDataSize"),d.u8("messageInstructionIndex"),d.Ik(20,"ethAddress"),d.Ik(64,"signature"),d.u8("recoveryId")]);class Lo{constructor(){}static publicKeyToEthAddress(e){on(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return i.Buffer.from(v().keccak_256.update(k(e)).digest()).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:n,signature:r,recoveryId:o,instructionIndex:i}=e;return Lo.createInstructionWithEthAddress({ethAddress:Lo.publicKeyToEthAddress(t),message:n,signature:r,recoveryId:o,instructionIndex:i})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:n,signature:r,recoveryId:o,instructionIndex:s=0}=e;let a;a="string"===typeof t?t.startsWith("0x")?i.Buffer.from(t.substr(2),"hex"):i.Buffer.from(t,"hex"):t,on(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const c=12+a.length,l=c+r.length+1,u=i.Buffer.alloc(jo.span+n.length);return jo.encode({numSignatures:1,signatureOffset:c,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:l,messageDataSize:n.length,messageInstructionIndex:s,signature:k(r),ethAddress:k(a),recoveryId:o},u),u.fill(k(n),jo.span),new an({keys:[],programId:Lo.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:n,instructionIndex:r}=e;on(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=k(t),o=Mo(e,!1).slice(1),s=i.Buffer.from(v().keccak_256.update(k(n)).digest()),{signature:a,recid:c}=No(s,e);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,recoveryId:c,instructionIndex:r})}catch(o){throw new Error(`Error creating instruction; ${o}`)}}}Lo.programId=new Wt("KeccakSecp256k11111111111111111111111111111");const Bo=new Wt("Va1idator1nfo111111111111111111111111111111"),zo=(0,p.dt)({name:(0,p.Z_)(),website:(0,p.jt)((0,p.Z_)()),details:(0,p.jt)((0,p.Z_)()),keybaseUsername:(0,p.jt)((0,p.Z_)())});class Fo{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==tn(t))return null;const n=[];for(let r=0;r<2;r++){const e=new Wt(t.slice(0,32));t=t.slice(32);const r=1===t.slice(0,1)[0];t=t.slice(1),n.push({publicKey:e,isSigner:r})}if(n[0].publicKey.equals(Bo)&&n[1].isSigner){const e=en().decode(i.Buffer.from(t)),r=JSON.parse(e);return(0,p.hu)(r,zo),new Fo(n[1].publicKey,r)}return null}}const Uo=new Wt("Vote111111111111111111111111111111111111111"),$o=d.n_([Qt("nodePubkey"),Qt("authorizedWithdrawer"),d.u8("commission"),d._O(),d.A9(d.n_([d._O("slot"),d.Jq("confirmationCount")]),d.cv(d.Jq(),-8),"votes"),d.u8("rootSlotValid"),d._O("rootSlot"),d._O(),d.A9(d.n_([d._O("epoch"),Qt("authorizedVoter")]),d.cv(d.Jq(),-8),"authorizedVoters"),d.n_([d.A9(d.n_([Qt("authorizedPubkey"),d._O("epochOfLastAuthorizedSwitch"),d._O("targetEpoch")]),32,"buf"),d._O("idx"),d.u8("isEmpty")],"priorVoters"),d._O(),d.A9(d.n_([d._O("epoch"),d._O("credits"),d._O("prevCredits")]),d.cv(d.Jq(),-8),"epochCredits"),d.n_([d._O("slot"),d._O("timestamp")],"lastTimestamp")]);class Wo{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=$o.decode(k(e),4);let n=t.rootSlot;return t.rootSlotValid||(n=null),new Wo({nodePubkey:new Wt(t.nodePubkey),authorizedWithdrawer:new Wt(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:n,authorizedVoters:t.authorizedVoters.map(qo),priorVoters:Ko(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function qo(e){let{authorizedVoter:t,epoch:n}=e;return{epoch:n,authorizedVoter:new Wt(t)}}function Ho(e){let{authorizedPubkey:t,epochOfLastAuthorizedSwitch:n,targetEpoch:r}=e;return{authorizedPubkey:new Wt(t),epochOfLastAuthorizedSwitch:n,targetEpoch:r}}function Ko(e){let{buf:t,idx:n,isEmpty:r}=e;return r?[]:[...t.slice(n+1).map(Ho),...t.slice(0,n).map(Ho)]}class Go{constructor(e,t,n,r){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=n,this.commission=r}}class Vo{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.Jq("instruction").decode(e.data);let n;for(const[r,o]of Object.entries(Xo))if(o.index==t){n=r;break}if(!n)throw new Error("Instruction type incorrect; not a VoteInstruction");return n}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=xn(Xo.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new Go(new Wt(t.nodePubkey),new Wt(t.authorizedVoter),new Wt(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:n}=xn(Xo.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Wt(t),voteAuthorizationType:{index:n}}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=xn(Xo.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Zo.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Xo=Object.freeze({InitializeAccount:{index:0,layout:d.n_([d.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return d.n_([Qt("nodePubkey"),Qt("authorizedVoter"),Qt("authorizedWithdrawer"),d.u8("commission")],e)}()])},Authorize:{index:1,layout:d.n_([d.Jq("instruction"),Qt("newAuthorized"),d.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:d.n_([d.Jq("instruction"),d.gM("lamports")])}}),Yo=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Zo{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:n,voteInit:r}=e,o=Cn(Xo.InitializeAccount,{voteInit:{nodePubkey:k(r.nodePubkey.toBuffer()),authorizedVoter:k(r.authorizedVoter.toBuffer()),authorizedWithdrawer:k(r.authorizedWithdrawer.toBuffer()),commission:r.commission}}),i={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:hn,isSigner:!1,isWritable:!1},{pubkey:ln,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new an(i)}static createAccount(e){const t=new cn;return t.add(Dn.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:n,newAuthorizedPubkey:r,voteAuthorizationType:o}=e,i=Cn(Xo.Authorize,{newAuthorized:k(r.toBuffer()),voteAuthorizationType:o.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ln,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return(new cn).add({keys:s,programId:this.programId,data:i})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:n,lamports:r,toPubkey:o}=e,i=Cn(Xo.Withdraw,{lamports:r}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return(new cn).add({keys:s,programId:this.programId,data:i})}}async function Jo(e,t,n){const r=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},o=await e.sendRawTransaction(t,r),i=(await e.confirmTransaction(o,n&&n.commitment)).value;if(i.err)throw new Error(`Raw transaction ${o} failed (${JSON.stringify(i)})`);return o}Zo.programId=new Wt("Vote111111111111111111111111111111111111111"),Zo.space=3731;const Qo={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function ei(e,t){const n=!1===t?"http":"https";if(!e)return Qo[n].devnet;const r=Qo[n][e];if(!r)throw new Error(`Unknown ${n} cluster: ${e}`);return r}const ti=1e9},40316:(e,t)=>{"use strict";const n=Math.exp;e.exports=function(e){if("number"!==typeof e)throw new Error("must provide a timespan to the moving average constructor");if(e<=0)throw new Error("must provide a timespan > 0 to the moving average constructor");let t,r,o=0,i=0,s=0,a={};return a.push=function(a,c){if(r){const l=1-n(-(a-r)/e),u=c-t;t=l*c+(1-l)*t,o=(1-l)*(o+u*(l*u)),i=Math.sqrt(o),s=t+l*u}else t=c;r=a},a.movingAverage=function(){return t},a.variance=function(){return o},a.deviation=function(){return i},a.forecast=function(){return s},a}},98691:e=>{function t(e){const t=new globalThis.AbortController;function n(){t.abort();for(const t of e)t&&t.removeEventListener&&t.removeEventListener("abort",n)}for(const r of e)if(r&&r.addEventListener){if(r.aborted){n();break}r.addEventListener("abort",n)}return t.signal}e.exports=t,e.exports.anySignal=t},76297:e=>{"use strict";e.exports=e=>{if(!Array.isArray(e))throw new TypeError("Expected an array, got "+typeof e);for(let t=(e=[...e]).length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}},12009:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=c(e),s=i[0],a=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),u=0,d=a>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===a&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===a&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=16383,a=0,c=r-o;a<c;a+=s)i.push(l(e,a,a+s>c?c:a+s));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=i.length;s<a;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},31156:(e,t,n)=>{"use strict";const r=n(55194);e.exports=function(e){return"function"===typeof e.stream?r(e.stream()):r(new Response(e).body)}},55194:e=>{"use strict";e.exports=async function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.getReader();try{for(;;){const e=await n.read();if(e.done)return;yield e.value}}finally{!0!==t.preventCancel&&n.cancel(),n.releaseLock()}}},77073:e=>{"use strict";e.exports=function(e,t){if("string"===typeof e)return s(e);if("number"===typeof e)return i(e,t);return null},e.exports.format=i,e.exports.parse=s;var t=/\B(?=(\d{3})+(?!\d))/g,n=/(?:\.0*|(\.[^0]+)0+)$/,r={b:1,kb:1024,mb:1<<20,gb:1<<30,tb:Math.pow(1024,4),pb:Math.pow(1024,5)},o=/^((-|\+)?(\d+(?:\.\d+)?)) *(kb|mb|gb|tb|pb)$/i;function i(e,o){if(!Number.isFinite(e))return null;var i=Math.abs(e),s=o&&o.thousandsSeparator||"",a=o&&o.unitSeparator||"",c=o&&void 0!==o.decimalPlaces?o.decimalPlaces:2,l=Boolean(o&&o.fixedDecimals),u=o&&o.unit||"";u&&r[u.toLowerCase()]||(u=i>=r.pb?"PB":i>=r.tb?"TB":i>=r.gb?"GB":i>=r.mb?"MB":i>=r.kb?"KB":"B");var d=(e/r[u.toLowerCase()]).toFixed(c);return l||(d=d.replace(n,"$1")),s&&(d=d.split(".").map((function(e,n){return 0===n?e.replace(t,s):e})).join(".")),d+a+u}function s(e){if("number"===typeof e&&!isNaN(e))return e;if("string"!==typeof e)return null;var t,n=o.exec(e),i="b";return n?(t=parseFloat(n[1]),i=n[4].toLowerCase()):(t=parseInt(e,10),i="b"),isNaN(t)?null:Math.floor(r[i]*t)}},29548:(e,t,n)=>{"use strict";var r=n(21533),o={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,i,s,a,c,l,u=!1;t||(t={}),n=t.debug||!1;try{if(s=r(),a=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=e,l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=o[t.format]||o.default;window.clipboardData.setData(i,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(l),a.selectNodeContents(l),c.addRange(a),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");u=!0}catch(d){n&&console.error("unable to copy using execCommand: ",d),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),u=!0}catch(d){n&&console.error("unable to copy using clipboardData: ",d),n&&console.error("falling back to prompt"),i=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(i,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(a):c.removeAllRanges()),l&&document.body.removeChild(l),s()}return u}},58735:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.toGeneral=t.code=t.name=void 0;const a=s(n(53692)),c=s(n(515)),l=i(n(86888));function u(e){return"payload"in e&&"string"===typeof e.payload&&"signatures"in e&&Array.isArray(e.signatures)}function d(e){return"ciphertext"in e&&"string"===typeof e.ciphertext&&"iv"in e&&"string"===typeof e.iv&&"protected"in e&&"string"===typeof e.protected&&"tag"in e&&"string"===typeof e.tag}function p(e){if("string"===typeof e){const t=e.split(".");if(3===t.length)return a.default.fromSplit(t);if(5===t.length)return c.default.fromSplit(t);throw new Error("Not a valid JOSE string")}if(u(e)||d(e))return e;throw new Error("Not a valid unencoded JOSE object")}t.name="dag-jose",t.code=133,t.toGeneral=p,t.encode=function(e){let t;if("string"===typeof e&&(e=p(e)),u(e))t=a.default.encode(e);else{if(!d(e))throw new Error("Not a valid JOSE object");t=c.default.encode(e)}return new Uint8Array(l.encode(t))},t.decode=function(e){let t;try{t=l.decode(e)}catch(r){throw new Error("Not a valid DAG-JOSE object")}if("payload"in(n=t)&&n.payload instanceof Uint8Array&&"signatures"in n&&Array.isArray(n.signatures))return a.default.decode(t);if(function(e){return"ciphertext"in e&&e.ciphertext instanceof Uint8Array&&"iv"in e&&e.iv instanceof Uint8Array&&"protected"in e&&e.protected instanceof Uint8Array&&"tag"in e&&e.tag instanceof Uint8Array}(t))return c.default.decode(t);throw new Error("Not a valid DAG-JOSE object");var n}},60720:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(n){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(n){}!e&&"undefined"!==typeof process&&"env"in process&&(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENV:"production",REACT_APP_ID:"interdao",REACT_APP_NAME:"InterDAO",REACT_APP_AUTHOR_NAME:"Descartes Network",REACT_APP_AUTHOR_EMAIL:"hello@descartes.network",REACT_APP_TAGS:"dapps,dao",REACT_APP_DESCRIPTION:"\ud83c\udf0f InterDAO is a universal DAO solution that projects on Solana can seamlessly construct their owned DAO.",REACT_APP_URL:"https://descartesnetwork.github.io/interdao.so/index.js"}.DEBUG);return e},t.useColors=function(){if("undefined"!==typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(87565)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},76341:function(e,t,n){var r;!function(o,i){var s=function(e){var t=["N","E","A","D"];function n(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function o(e,t,n){o.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function i(e,t){i.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function s(e,t){s.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function a(e,t,n){a.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function c(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function l(e){var t=typeof e;return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"===typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function u(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t}function d(e){var t=0,n=l(e);if("array"===n)return e.forEach((function(e){t+=d(e)})),t+u("[type: array, hash: "+t+"]");if("object"===n){for(var r in e)if(e.hasOwnProperty(r)){var o="[ type: object, key: "+r+", value hash: "+d(e[r])+"]";t+=u(o)}return t}return t+u("[ type: "+n+" ; value: "+e+"]")}function p(e,t,n,r,c,u,h,f){n=n||[],h=h||[];var g=(c=c||[]).slice(0);if("undefined"!==typeof u&&null!==u){if(r){if("function"===typeof r&&r(g,u))return;if("object"===typeof r){if(r.prefilter&&r.prefilter(g,u))return;if(r.normalize){var y=r.normalize(g,u,e,t);y&&(e=y[0],t=y[1])}}}g.push(u)}"regexp"===l(e)&&"regexp"===l(t)&&(e=e.toString(),t=t.toString());var m,b,v,w,k=typeof e,_=typeof t,E="undefined"!==k||h&&h.length>0&&h[h.length-1].lhs&&Object.getOwnPropertyDescriptor(h[h.length-1].lhs,u),S="undefined"!==_||h&&h.length>0&&h[h.length-1].rhs&&Object.getOwnPropertyDescriptor(h[h.length-1].rhs,u);if(!E&&S)n.push(new i(g,t));else if(!S&&E)n.push(new s(g,e));else if(l(e)!==l(t))n.push(new o(g,e,t));else if("date"===l(e)&&e-t!==0)n.push(new o(g,e,t));else if("object"===k&&null!==e&&null!==t){for(m=h.length-1;m>-1;--m)if(h[m].lhs===e){w=!0;break}if(w)e!==t&&n.push(new o(g,e,t));else{if(h.push({lhs:e,rhs:t}),Array.isArray(e)){for(f&&(e.sort((function(e,t){return d(e)-d(t)})),t.sort((function(e,t){return d(e)-d(t)}))),m=t.length-1,b=e.length-1;m>b;)n.push(new a(g,m,new i(void 0,t[m--])));for(;b>m;)n.push(new a(g,b,new s(void 0,e[b--])));for(;m>=0;--m)p(e[m],t[m],n,r,g,m,h,f)}else{var C=Object.keys(e),x=Object.keys(t);for(m=0;m<C.length;++m)v=C[m],(w=x.indexOf(v))>=0?(p(e[v],t[v],n,r,g,v,h,f),x[w]=null):p(e[v],void 0,n,r,g,v,h,f);for(m=0;m<x.length;++m)(v=x[m])&&p(void 0,t[v],n,r,g,v,h,f)}h.length=h.length-1}}else e!==t&&("number"===k&&isNaN(e)&&isNaN(t)||n.push(new o(g,e,t)))}function h(e,t,n,r,o){var i=[];if(p(e,t,i,r,null,null,null,o),n)for(var s=0;s<i.length;++s)n(i[s]);return i}function f(e,t,n,r,o,i,s){return p(e,t,n,r,o,i,s,!0)}function g(e,t,n,r){var o=h(e,t,r?function(e){e&&r.push(e)}:void 0,n);return r||(o.length?o:void 0)}function y(e,t,n,r){var o=h(e,t,r?function(e){e&&r.push(e)}:void 0,n,!0);return r||(o.length?o:void 0)}function m(e,t,n){if(n.path&&n.path.length){var r,o=e[t],i=n.path.length-1;for(r=0;r<i;r++)o=o[n.path[r]];switch(n.kind){case"A":m(o[n.path[r]],n.index,n.item);break;case"D":delete o[n.path[r]];break;case"E":case"N":o[n.path[r]]=n.rhs}}else switch(n.kind){case"A":m(e[t],n.index,n.item);break;case"D":e=c(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function b(e,n,r){if("undefined"===typeof r&&n&&~t.indexOf(n.kind)&&(r=n),e&&r&&r.kind){for(var o=e,i=-1,s=r.path?r.path.length-1:0;++i<s;)"undefined"===typeof o[r.path[i]]&&(o[r.path[i]]="undefined"!==typeof r.path[i+1]&&"number"===typeof r.path[i+1]?[]:{}),o=o[r.path[i]];switch(r.kind){case"A":r.path&&"undefined"===typeof o[r.path[i]]&&(o[r.path[i]]=[]),m(r.path?o[r.path[i]]:o,r.index,r.item);break;case"D":delete o[r.path[i]];break;case"E":case"N":o[r.path[i]]=r.rhs}}}function v(e,t,n){if(n.path&&n.path.length){var r,o=e[t],i=n.path.length-1;for(r=0;r<i;r++)o=o[n.path[r]];switch(n.kind){case"A":v(o[n.path[r]],n.index,n.item);break;case"D":case"E":o[n.path[r]]=n.lhs;break;case"N":delete o[n.path[r]]}}else switch(n.kind){case"A":v(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=c(e,t)}return e}function w(e,t,n){if(e&&t&&n&&n.kind){var r,o,i=e;for(o=n.path.length-1,r=0;r<o;r++)"undefined"===typeof i[n.path[r]]&&(i[n.path[r]]={}),i=i[n.path[r]];switch(n.kind){case"A":v(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}}function k(e,t,n){e&&t&&h(e,t,(function(r){n&&!n(e,t,r)||b(e,t,r)}))}n(o,r),n(i,r),n(s,r),n(a,r),Object.defineProperties(g,{diff:{value:g,enumerable:!0},orderIndependentDiff:{value:y,enumerable:!0},observableDiff:{value:h,enumerable:!0},orderIndependentObservableDiff:{value:f,enumerable:!0},orderIndepHash:{value:d,enumerable:!0},applyDiff:{value:k,enumerable:!0},applyChange:{value:b,enumerable:!0},revertChange:{value:w,enumerable:!0},isConflict:{value:function(){return"undefined"!==typeof $conflict},enumerable:!0}}),g.DeepDiff=g,e&&(e.DeepDiff=g);return g}(o);void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}(this)},99693:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?c((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function s(e,t){try{return t in e}catch(n){return!1}}function a(e,t,n){var o={};return n.isMergeableObject(e)&&i(e).forEach((function(t){o[t]=r(e[t],n)})),i(t).forEach((function(i){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(s(e,i)&&n.isMergeableObject(t[i])?o[i]=function(e,t){if(!t.customMerge)return c;var n=t.customMerge(e);return"function"===typeof n?n:c}(i,n)(e[i],t[i],n):o[i]=r(t[i],n))})),o}function c(e,n,i){(i=i||{}).arrayMerge=i.arrayMerge||o,i.isMergeableObject=i.isMergeableObject||t,i.cloneUnlessOtherwiseSpecified=r;var s=Array.isArray(n);return s===Array.isArray(e)?s?i.arrayMerge(e,n,i):a(e,n,i):r(n,i)}c.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return c(e,n,t)}),{})};var l=c;e.exports=l},21613:function(e){e.exports=function(e,t,n,r,o){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:o;return e===o?n:e}},15504:e=>{"use strict";function t(e,t){for(const n in t)Object.defineProperty(e,n,{value:t[n],enumerable:!0,configurable:!0});return e}e.exports=function(e,n,r){if(!e||"string"===typeof e)throw new TypeError("Please pass an Error to err-code");r||(r={}),"object"===typeof n&&(r=n,n=""),n&&(r.code=n);try{return t(e,r)}catch(o){r.message=e.message,r.stack=e.stack;const n=function(){};n.prototype=Object.create(Object.getPrototypeOf(e));return t(new n,r)}}},48449:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function i(e,t,r,i,s){if("function"!==typeof r)throw new TypeError("The listener must be a function");var a=new o(r,i||e,s),c=n?n+t:t;return e._events[c]?e._events[c].fn?e._events[c]=[e._events[c],a]:e._events[c].push(a):(e._events[c]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,r,o=[];if(0===this._eventsCount)return o;for(r in e=this._events)t.call(e,r)&&o.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,s=new Array(i);o<i;o++)s[o]=r[o].fn;return s},a.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},a.prototype.emit=function(e,t,r,o,i,s){var a=n?n+e:e;if(!this._events[a])return!1;var c,l,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,o),!0;case 5:return u.fn.call(u.context,t,r,o,i),!0;case 6:return u.fn.call(u.context,t,r,o,i,s),!0}for(l=1,c=new Array(d-1);l<d;l++)c[l-1]=arguments[l];u.fn.apply(u.context,c)}else{var p,h=u.length;for(l=0;l<h;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),d){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,r);break;case 4:u[l].fn.call(u[l].context,t,r,o);break;default:if(!c)for(p=1,c=new Array(d-1);p<d;p++)c[p-1]=arguments[p];u[l].fn.apply(u[l].context,c)}}return!0},a.prototype.on=function(e,t,n){return i(this,e,t,n,!1)},a.prototype.once=function(e,t,n){return i(this,e,t,n,!0)},a.prototype.removeListener=function(e,t,r,o){var i=n?n+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var a=this._events[i];if(a.fn)a.fn!==t||o&&!a.once||r&&a.context!==r||s(this,i);else{for(var c=0,l=[],u=a.length;c<u;c++)(a[c].fn!==t||o&&!a[c].once||r&&a[c].context!==r)&&l.push(a[c]);l.length?this._events[i]=1===l.length?l[0]:l:s(this,i)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a},36571:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!==e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"===typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}g(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&g(e,"error",t,n)}(e,o,{once:!0})}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var o,i,s,l;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"===typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=c(e))>0&&s.length>o&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=u.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"===typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):f(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=i[e];if(void 0===c)return!1;if("function"===typeof c)r(c,this,t);else{var l=c.length,u=f(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},i.prototype.addListener=function(e,t){return l(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return l(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return p(this,e,!0)},i.prototype.rawListeners=function(e){return p(this,e,!1)},i.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},14361:(e,t,n)=>{var r;!function(){"use strict";var o=!("undefined"===typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},87167:e=>{e.exports=function(e){if(!e)throw Error("hashlru must have a max value, of type number, greater than 0");var t=0,n=Object.create(null),r=Object.create(null);function o(o,i){n[o]=i,++t>=e&&(t=0,r=n,n=Object.create(null))}return{has:function(e){return void 0!==n[e]||void 0!==r[e]},remove:function(e){void 0!==n[e]&&(n[e]=void 0),void 0!==r[e]&&(r[e]=void 0)},get:function(e){var t=n[e];return void 0!==t?t:void 0!==(t=r[e])?(o(e,t),t):void 0},set:function(e,t){void 0!==n[e]?n[e]=t:o(e,t)},clear:function(){n=Object.create(null),r=Object.create(null)}}}},4813:(e,t,n)=>{"use strict";var r={};(0,n(11824).assign)(r,n(60961),n(11829),n(52168)),e.exports=r},41257:(e,t,n)=>{"use strict";const r=n(46861),o="object"===typeof window&&"object"===typeof document&&9===document.nodeType,i=r(),s=o&&!i,a=i&&!o,c=i&&o,l="undefined"!==typeof globalThis.process&&"undefined"!==typeof globalThis.process.release&&"node"===globalThis.process.release.name&&!i,u="function"===typeof importScripts&&"undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,d="undefined"!==typeof globalThis.process&&"undefined"!==typeof globalThis.process.env&&"test"===globalThis.process.env.NODE_ENV,p="undefined"!==typeof navigator&&"ReactNative"===navigator.product;e.exports={isTest:d,isElectron:i,isElectronMain:a,isElectronRenderer:c,isNode:l,isBrowser:s,isWebWorker:u,isEnvWithDom:o,isReactNative:p}},68170:(e,t,n)=>{"use strict";const{fetch:r,Request:o,Headers:i}=n(42453),{TimeoutError:s,HTTPError:a}=n(90140),c=n(47250).bind({ignoreUndefined:!0}),{URL:l,URLSearchParams:u}=n(41094),d=n(98691),p={throwHttpErrors:!0,credentials:"same-origin"};class h{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=c(p,e)}async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=c(this.opts,t),p=new i(n.headers);if("string"!==typeof e&&!(e instanceof l||e instanceof o))throw new TypeError("`resource` must be a string, URL, or Request");const h=new l(e.toString(),n.base),{searchParams:y,transformSearchParams:m,json:b}=n;y&&(h.search="function"===typeof m?m(new u(n.searchParams)):new u(n.searchParams)),b&&(n.body=JSON.stringify(n.json),p.set("content-type","application/json"));const v=new AbortController,w=d([v.signal,n.signal]),k=await((e,t,n)=>{if(void 0===t)return e;const r=Date.now(),o=()=>Date.now()-r>=t;return new Promise(((r,i)=>{const a=setTimeout((()=>{o()&&(i(new s),n.abort())}),t),c=e=>t=>{clearTimeout(a),o()?i(new s):e(t)};e.then(c(r),c(i))}))})(r(h.toString(),{...n,signal:w,timeout:void 0,headers:p}),n.timeout,v);if(!k.ok&&n.throwHttpErrors)throw n.handleError&&await n.handleError(k),new a(k);return k.iterator=function(){return g(k.body)},k.ndjson=async function*(){for await(const e of f(k.iterator()))t.transform?yield t.transform(e):yield e},k}post(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"POST"})}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"GET"})}put(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"PUT"})}delete(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"DELETE"})}options(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.fetch(e,{...t,method:"OPTIONS"})}}const f=async function*(e){const t=new TextDecoder;let n="";for await(const r of e){n+=t.decode(r,{stream:!0});const e=n.split(/\r?\n/);for(let t=0;t<e.length-1;t++){const n=e[t].trim();n.length>0&&(yield JSON.parse(n))}n=e[e.length-1]}n+=t.decode(),n=n.trim(),0!==n.length&&(yield JSON.parse(n))},g=e=>{if(b(e)){const t=e[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:t.next.bind(t),return:n=>(e.destroy(),"function"===typeof t.return?t.return():Promise.resolve({done:!0,value:n}))})}}if(m(e)){const t=e.getReader();return async function*(){try{for(;;){const{done:e,value:n}=await t.read();if(e)return;n&&(yield n)}}finally{t.releaseLock()}}()}if(y(e))return e;throw new TypeError("Body can't be converted to AsyncIterable")},y=e=>"object"===typeof e&&null!==e&&"function"===typeof e[Symbol.asyncIterator],m=e=>e&&"function"===typeof e.getReader,b=e=>Object.prototype.hasOwnProperty.call(e,"readable")&&Object.prototype.hasOwnProperty.call(e,"writable");h.HTTPError=a,h.TimeoutError=s,h.streamToAsyncIterator=g,h.post=(e,t)=>new h(t).post(e,t),h.get=(e,t)=>new h(t).get(e,t),h.put=(e,t)=>new h(t).put(e,t),h.delete=(e,t)=>new h(t).delete(e,t),h.options=(e,t)=>new h(t).options(e,t),e.exports=h},47937:e=>{"use strict";var t=/^(?:[a-z0-9](?:[a-z0-9\-]{0,61}[a-z0-9])?\.){0,126}(?:[a-z0-9](?:[a-z0-9\-]{0,61}[a-z0-9]))\.?$/i;e.exports=function(e,n){if(null==n&&(n=!1),e.length<2)return!1;if(e.length>255)return!1;var r=e[e.length-1];if(n){if("."!==r)return!1}else if("."===r)return!1;return t.test(e)}},21958:e=>{"use strict";e.exports=async e=>{const t=[];for await(const n of e)t.push(n);return t}},20838:e=>{"use strict";e.exports=async e=>{for await(const t of e);}},45454:e=>{"use strict";e.exports=async e=>{for await(const t of e)return t}},16586:e=>{"use strict";e.exports=async e=>{let t;for await(const n of e)t=n;return t}},7213:(e,t,n)=>{"use strict";t.encode=n(57158),t.decode=n(16811),t.varintEncode=n(16225),t.varintDecode=n(67369),t.int32BEEncode=n(9538),t.int32BEDecode=n(25012)},88411:(e,t,n)=>{"use strict";const r=n(19635);e.exports=async function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;for await(const n of r(e,t)){const e=n.map((e=>e().then((e=>({ok:!0,value:e})),(e=>({ok:!1,err:e})))));for(let t=0;t<e.length;t++){const n=await e[t];if(!n.ok)throw n.err;yield n.value}}}},1833:(e,t,n)=>{"use strict";const r=n(61135),o=n(36571).EventEmitter;e.exports=async function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.concurrency||1/0;n<1&&(n=1/0);const i=null!=t.ordered&&t.ordered,s=new o,a=[];let c,l=r(),u=r(),d=!1,p=!1;function h(){return i?Boolean(a[0]&&a[0].done):Boolean(a.find((e=>e.done)))}function*f(){for(;a.length&&a[0].done;){const e=a[0];if(a.shift(),!e.ok)throw p=!0,l.resolve(),e.err;yield e.value,l.resolve()}}function*g(){for(;h();)for(let e=0;e<a.length;e++)if(a[e].done){const t=a[e];if(a.splice(e,1),e--,!t.ok)throw p=!0,l.resolve(),t.err;yield t.value,l.resolve()}}for(s.on("task-complete",(()=>{u.resolve()})),Promise.resolve().then((async()=>{try{for await(const t of e){if(a.length===n&&(l=r(),await l.promise),p)break;const e={done:!1};a.push(e),t().then((t=>{e.done=!0,e.ok=!0,e.value=t,s.emit("task-complete")}),(t=>{e.done=!0,e.err=t,s.emit("task-complete")}))}d=!0,s.emit("task-complete")}catch(t){c=t,s.emit("task-complete")}}));;){if(h()||(u=r(),await u.promise),c)throw c;if(i?yield*f():yield*g(),d&&0===a.length)break}}},62469:e=>{"use strict";e.exports=function(e){const[t,n]=e[Symbol.asyncIterator]?[e[Symbol.asyncIterator](),Symbol.asyncIterator]:[e[Symbol.iterator](),Symbol.iterator],r=[];return{peek:()=>t.next(),push:e=>{r.push(e)},next:()=>r.length?{done:!1,value:r.shift()}:t.next(),[n](){return this}}}},31730:(e,t,n)=>{const r=n(39047);e.exports=e=>{let t;"function"===typeof(e=e||{})?(t=e,e={}):t=e.onEnd;let n,o,i,s=new r;const a=e=>o?o(e):(s.push(e),n),c=e=>i?n:a({done:!1,value:e}),l=e=>i?n:(i=!0,e?(e=>(s=new r,o?o({error:e}):(s.push({error:e}),n)))(e):a({done:!0}));if(n={[Symbol.asyncIterator](){return this},next:()=>{if(!s.isEmpty()){if(e.writev){let e;const t=[];for(;!s.isEmpty();){if(e=s.shift(),e.error)throw e.error;t.push(e.value)}return{done:e.done,value:t}}const t=s.shift();if(t.error)throw t.error;return t}return i?{done:!0}:new Promise(((t,r)=>{o=i=>(o=null,i.error?r(i.error):e.writev&&!i.done?t({done:i.done,value:[i.value]}):t(i),n)}))},return:()=>(s=new r,l(),{done:!0}),throw:e=>(l(e),{done:!0}),push:c,end:l},!t)return n;const u=n;return n={[Symbol.asyncIterator](){return this},next:()=>u.next(),throw:e=>(u.throw(e),t&&(t(e),t=null),{done:!0}),return:()=>(u.return(),t&&(t(),t=null),{done:!0}),push:c,end:e=>(u.end(e),t&&(t(e),t=null),n)},n}},91703:(e,t,n)=>{"use strict";const r=n(21958);e.exports=async function*(e,t){const n=await r(e);yield*n.sort(t)}},53659:(e,t,n)=>{n(89869),t.pack=n(56113)},56113:(e,t,n)=>{const{Buffer:r}=n(42618),o=n(74439),{S_IFMT:i,S_IFBLK:s,S_IFCHR:a,S_IFDIR:c,S_IFIFO:l,S_IFLNK:u}=n(24416),d=n(46905),p=n(95336),h=parseInt("755",8),f=parseInt("644",8),g=r.alloc(1024);function y(e){switch(e&i){case s:return"block-device";case a:return"character-device";case c:return"directory";case l:return"fifo";case u:return"symlink"}return"file"}function m(e){if(e&=511)return new o(g.slice(0,512-e))}function b(e){if(!e.pax){const t=p.encode(e);if(t)return t}return function(e){const t=p.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:t.length,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};return new o([p.encode(n),t,m(t.length),p.encode({...n,size:e.size,type:e.type})])}(e)}e.exports=()=>async function*(e){for await(let{header:t,body:n}of e){if(t.size&&"symlink"!==t.type||(t.size=0),t.type||(t.type=y(t.mode)),t.mode||(t.mode="directory"===t.type?h:f),t.uid||(t.uid=0),t.gid||(t.gid=0),t.mtime||(t.mtime=new Date),"string"===typeof n&&(n=r.from(n)),r.isBuffer(n)||o.isBufferList(n)){t.size=n.length,yield new o([b(t),n,m(t.size)]);continue}if("symlink"===t.type&&!t.linkname){t.linkname=(await d(n)).toString(),yield b(t);continue}if(yield b(t),"file"!==t.type&&"contiguous-file"!==t.type)continue;let e=0;for await(const t of n)e+=t.length,yield o.isBufferList(t)?t:new o(t);if(e!==t.size)throw new Error("size mismatch");const i=m(t.size);i&&(yield i)}yield new o(g)}},42407:(e,t,n)=>{"use strict";const{concat:r}=n(52769);e.exports=async function(e){let t=new Uint8Array(0);for await(const n of e)t=r([t,n],t.length+n.length);return t}},18268:e=>{e.exports=function(e,t,n,r){var o=new Blob("undefined"!==typeof r?[r,e]:[e],{type:n||"application/octet-stream"});if("undefined"!==typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(o,t);else{var i=window.URL&&window.URL.createObjectURL?window.URL.createObjectURL(o):window.webkitURL.createObjectURL(o),s=document.createElement("a");s.style.display="none",s.href=i,s.setAttribute("download",t),"undefined"===typeof s.download&&s.setAttribute("target","_blank"),document.body.appendChild(s),s.click(),setTimeout((function(){document.body.removeChild(s),window.URL.revokeObjectURL(i)}),200)}}},88898:e=>{e.exports=function(e,t,n){var r=null,o=null,i=function(){r&&(clearTimeout(r),o=null,r=null)},s=function(){if(!t)return e.apply(this,arguments);var s=this,a=arguments,c=n&&!r;return i(),o=function(){e.apply(s,a)},r=setTimeout((function(){if(r=null,!c){var e=o;return o=null,e()}}),t),c?o():void 0};return s.cancel=i,s.flush=function(){var e=o;i(),e&&e()},s}},2548:e=>{e.exports=function(e,t,n){if(!e)return n;var r,o;Array.isArray(t)&&(r=t.slice(0));"string"==typeof t&&(r=t.split("."));"symbol"==typeof t&&(r=[t]);if(!Array.isArray(r))throw new Error("props arg must be an array, a string or a symbol");for(;r.length;){if(o=r.shift(),!e)return n;if(void 0===(e=e[o]))return n}return e}},69201:e=>{function t(e){if("__proto__"===e||"constructor"===e||"prototype"===e)throw new Error("setting of prototype values not supported")}e.exports=function(e,n,r){var o,i,s;Array.isArray(n)&&(o=n.slice(0));"string"==typeof n&&(o=n.split("."));"symbol"==typeof n&&(o=[n]);if(!Array.isArray(o))throw new Error("props arg must be an array, a string or a symbol");if(!(i=o.pop()))return!1;t(i);for(;s=o.shift();)if(t(s),"undefined"==typeof e[s]&&(e[s]={}),!(e=e[s])||"object"!=typeof e)return!1;return e[i]=r,!0}},77420:(e,t,n)=>{e.exports=n(67469)(n(39850))},95067:(e,t,n)=>{"use strict";const r=n(91401),{Multiaddr:o}=n(10006),i=n(44021),{EventEmitter:s}=n(36571),a=n(60720),c=Object.assign(a("libp2p:bootstrap"),{error:a("libp2p:bootstrap:error")});(e.exports=class extends s{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{list:[]};if(!e.list||!e.list.length)throw new Error("Bootstrap requires a list of peer addresses");super(),this._list=e.list,this._interval=e.interval||1e4,this._timer=null}start(){this._timer||(this._timer=setInterval((()=>this._discoverBootstrapPeers()),this._interval),c("Starting bootstrap node discovery"),this._discoverBootstrapPeers())}_discoverBootstrapPeers(){this._timer&&this._list.forEach((e=>{if(!i.P2P.matches(e))return c.error("Invalid multiaddr");const t=new o(e),n=t.getPeerId();if(!n)return void c.error("Invalid bootstrap multiaddr without peer id");const s=r.createFromB58String(n);try{this.emit("peer",{id:s,multiaddrs:[t]})}catch(a){c.error("Invalid bootstrap peer id",a)}}))}stop(){this._timer&&clearInterval(this._timer),this._timer=null}}).tag="bootstrap"},8711:(e,t,n)=>{"use strict";const r=n(60720),o=n(91401),i=n(20838),{default:s}=n(60185),a=n(61135),c=r("libp2p-delegated-content-routing");c.error=r("libp2p-delegated-content-routing:error");e.exports=class{constructor(e,t){if(null==e)throw new Error("missing self peerId");if(null==t)throw new Error("missing ipfs http client");this._client=t,this.peerId=e;const n={concurrency:4};this._httpQueue=new s(n),this._httpQueueRefs=new s(Object.assign({},n,{concurrency:2}));const{protocol:r,host:o,port:i}=t.getEndpointConfig();c(`enabled DelegatedContentRouting via ${r}://${o}:${i}`)}async*findProviders(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c(`findProviders starts: ${e}`),t.timeout=t.timeout||3e4;let n=0;const r=a(),i=a();this._httpQueue.add((()=>(r.resolve(),i.promise)));try{await r.promise;for await(const{id:r,addrs:i}of this._client.dht.findProvs(e,{numProviders:t.numProviders,timeout:t.timeout}))yield{id:o.parse(r),multiaddrs:i},n++}catch(s){throw c.error("findProviders errored:",s),s}finally{i.resolve(),c(`findProviders finished: ${e} found ${n} providers`)}}async provide(e){c(`provide starts: ${e}`),await this._httpQueueRefs.add((async()=>{await this._client.block.stat(e),await i(this._client.dht.provide(e))})),c(`provide finished: ${e}`)}}},55585:(e,t,n)=>{"use strict";const r=n(91401),{base58btc:o}=n(43019),{default:i}=n(60185),s=n(61135),a=n(60720),c=a("libp2p-delegated-peer-routing");c.error=a("libp2p-delegated-peer-routing:error");e.exports=class{constructor(e){if(null==e)throw new Error("missing ipfs http client");this._client=e,this._httpQueue=new i({concurrency:4});const{protocol:t,host:n,port:r}=e.getEndpointConfig();c(`enabled DelegatedPeerRouting via ${t}://${n}:${r}`)}async findPeer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;r.isPeerId(n)&&(n=e.toB58String()),c("findPeer starts: "+e),t.timeout=t.timeout||3e4;try{return await this._httpQueue.add((async()=>{const{addrs:r}=await this._client.dht.findPeer(n,{timeout:t.timeout});return{id:e,multiaddrs:r}}))}catch(o){if(o.message.includes("not found"))return;throw o}finally{c("findPeer finished: "+e)}}async*getClosestPeers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=o.encode(e).substring(1);c("getClosestPeers starts:",n),t.timeout=t.timeout||3e4;const i=s(),a=s();this._httpQueue.add((()=>(i.resolve(),a.promise)));try{await i.promise;for await(const e of this._client.dht.query(n,{timeout:t.timeout}))if(1===e.type)for(const t of e.responses)yield{id:r.parse(t.id),multiaddrs:t.addrs};else c("getClosestPeers unhandled response",e)}catch(l){throw c.error("getClosestPeers errored:",l),l}finally{a.resolve(),c("getClosestPeers finished:",n)}}}},97153:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};const a=i(n(20008)),c=n(57904),l=n(19971),u=i(n(76371)),d=n(29519),p=n(22687),h=n(38071),f=n(97389),g=n(99375),y=n(53112),m=n(91401),b=n(50650),v=n(76371);class w extends a.default{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;const r=[u.GossipsubIDv11,u.GossipsubIDv10],o=Object.assign(Object.assign({gossipIncoming:!0,fallbackToFloodsub:!0,floodPublish:!0,doPX:!1,directPeers:[],D:u.GossipsubD,Dlo:u.GossipsubDlo,Dhi:u.GossipsubDhi,Dscore:u.GossipsubDscore,Dout:u.GossipsubDout,Dlazy:u.GossipsubDlazy,heartbeatInterval:u.GossipsubHeartbeatInterval,fanoutTTL:u.GossipsubFanoutTTL,mcacheLength:u.GossipsubHistoryLength,mcacheGossip:u.GossipsubHistoryGossip,seenTTL:u.GossipsubSeenTTL},t),{scoreParams:f.createPeerScoreParams(t.scoreParams),scoreThresholds:f.createPeerScoreThresholds(t.scoreThresholds)});o.fallbackToFloodsub&&r.push(u.FloodsubID),super(Object.assign({debugName:"libp2p:gossipsub",multicodecs:r,libp2p:e},o)),this._options=o,this.direct=new Set(o.directPeers.map((e=>e.id.toB58String()))),this.acceptFromWhitelist=new Map,o.directPeers.forEach((t=>{e.peerStore.addressBook.add(t.id,t.addrs)})),this.seenCache=new y.SimpleTimeCache({validityMs:o.seenTTL}),this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.messageCache=t.messageCache||new c.MessageCache(o.mcacheGossip,o.mcacheLength),this.getFastMsgIdStr=null!==(n=t.fastMsgIdFn)&&void 0!==n?n:void 0,this.fastMsgIdCache=t.fastMsgIdFn?new y.SimpleTimeCache({validityMs:o.seenTTL}):void 0,this.heartbeat=new d.Heartbeat(this),this.heartbeatTicks=0,this.gossipTracer=new g.IWantTracer,this._libp2p=e,this.score=new f.PeerScore(this._options.scoreParams,e.connectionManager)}_decodeRpc(e){return l.RPC.decode(e)}_encodeRpc(e){return l.RPC.encode(e).finish()}_addPeer(e,t){const n=super._addPeer(e,t);this.score.addPeer(e.toB58String());let r=!1;for(const o of this._libp2p.connectionManager.getAll(e))if("outbound"===o.stat.direction&&Array.from(o.registry.values()).some((e=>t===e.protocol))){r=!0;break}return this.outbound.set(n.id.toB58String(),r),n}_removePeer(e){const t=super._removePeer(e),n=e.toB58String();for(const r of this.mesh.values())r.delete(n);for(const r of this.fanout.values())r.delete(n);return this.gossip.delete(n),this.control.delete(n),this.outbound.delete(n),this.score.removePeer(n),this.acceptFromWhitelist.delete(n),t}_processRpc(e,t,n){const r=Object.create(null,{_processRpc:{get:()=>super._processRpc}});return s(this,void 0,void 0,(function*(){return!!(yield r._processRpc.call(this,e,t,n))&&(n.control&&(yield this._processRpcControlMessage(e,n.control)),!0)}))}_processRpcControlMessage(e,t){return s(this,void 0,void 0,(function*(){if(!t)return;const n=t.ihave?this._handleIHave(e,t.ihave):[],r=t.iwant?this._handleIWant(e,t.iwant):[],o=t.graft?yield this._handleGraft(e,t.graft):[];if(t.prune&&this._handlePrune(e,t.prune),!n.length&&!r.length&&!o.length)return;const i=h.createGossipRpc(r,{iwant:n,prune:o});this._sendRpc(e,i)}))}_processRpcMessage(e){const t=Object.create(null,{_processRpcMessage:{get:()=>super._processRpcMessage}});return s(this,void 0,void 0,(function*(){let n;if(this.getFastMsgIdStr&&this.fastMsgIdCache){const t=yield this.getFastMsgIdStr(e);if(n=this.fastMsgIdCache.get(t),void 0!==n)return void this.score.duplicateMessage(e,n);n=h.messageIdToString(yield this.getMsgId(e)),this.fastMsgIdCache.put(t,n)}else if(n=h.messageIdToString(yield this.getMsgId(e)),this.seenCache.has(n))return void this.score.duplicateMessage(e,n);this.seenCache.put(n),yield this.score.validateMessage(n),yield t._processRpcMessage.call(this,e)}))}_acceptFrom(e){if(this.direct.has(e))return!0;const t=Date.now(),n=this.acceptFromWhitelist.get(e);if(n&&n.messagesAccepted<v.ACCEPT_FROM_WHITELIST_MAX_MESSAGES&&n.acceptUntil>=t)return n.messagesAccepted+=1,!0;const r=this.score.score(e);return r>=v.ACCEPT_FROM_WHITELIST_THRESHOLD_SCORE?this.acceptFromWhitelist.set(e,{messagesAccepted:0,acceptUntil:t+v.ACCEPT_FROM_WHITELIST_DURATION_MS}):this.acceptFromWhitelist.delete(e),r>=this._options.scoreThresholds.graylistThreshold}validate(e){const t=Object.create(null,{validate:{get:()=>super.validate}});return s(this,void 0,void 0,(function*(){try{yield t.validate.call(this,e)}catch(n){const t=yield this.getCanonicalMsgIdStr(e);throw this.score.rejectMessage(e,t,n.code),this.gossipTracer.rejectMessage(t,n.code),n}}))}_handleIHave(e,t){if(!t.length)return[];const n=this.score.score(e);if(n<this._options.scoreThresholds.gossipThreshold)return this.log("IHAVE: ignoring peer %s with score below threshold [ score = %d ]",e,n),[];const r=(this.peerhave.get(e)||0)+1;if(this.peerhave.set(e,r),r>u.GossipsubMaxIHaveMessages)return this.log("IHAVE: peer %s has advertised too many times (%d) within this heartbeat interval; ignoring",e,r),[];const o=this.iasked.get(e)||0;if(o>=u.GossipsubMaxIHaveLength)return this.log("IHAVE: peer %s has already advertised too many messages (%d); ignoring",e,o),[];const i=new Map;if(t.forEach((e=>{let{topicID:t,messageIDs:n}=e;t&&n&&this.mesh.has(t)&&n.forEach((e=>{const t=h.messageIdToString(e);this.seenCache.has(t)||i.set(t,e)}))})),!i.size)return[];let s=i.size;s+o>u.GossipsubMaxIHaveLength&&(s=u.GossipsubMaxIHaveLength-o),this.log("IHAVE: Asking for %d out of %d messages from %s",s,i.size,e);let a=Array.from(i.values());return h.shuffle(a),a=a.slice(0,s),this.iasked.set(e,o+s),this.gossipTracer.addPromise(e,a),[{messageIDs:a}]}_handleIWant(e,t){if(!t.length)return[];const n=this.score.score(e);if(n<this._options.scoreThresholds.gossipThreshold)return this.log("IWANT: ignoring peer %s with score below threshold [score = %d]",e,n),[];const r=new Map;return t.forEach((t=>{let{messageIDs:n}=t;n&&n.forEach((t=>{const n=h.messageIdToString(t),[o,i]=this.messageCache.getForPeer(n,e);o&&(i>u.GossipsubGossipRetransmission?this.log("IWANT: Peer %s has asked for message %s too many times: ignoring request",e,t):r.set(n,o))}))})),r.size?(this.log("IWANT: Sending %d messages to %s",r.size,e),Array.from(r.values()).map(a.utils.normalizeOutRpcMessage)):[]}_handleGraft(e,t){return s(this,void 0,void 0,(function*(){const n=[],r=this.score.score(e),o=this._now();let i=this._options.doPX;return t.forEach((t=>{let{topicID:s}=t;var a;if(!s)return;const c=this.mesh.get(s);if(!c)return void(i=!1);if(c.has(e))return;if(this.direct.has(e))return this.log("GRAFT: ignoring request from direct peer %s",e),n.push(s),void(i=!1);const l=null===(a=this.backoff.get(s))||void 0===a?void 0:a.get(e);if("number"===typeof l&&o<l){this.log("GRAFT: ignoring backed off peer %s",e),this.score.addPenalty(e,1),i=!1;const t=l+u.GossipsubGraftFloodThreshold-u.GossipsubPruneBackoff;return o<t&&this.score.addPenalty(e,1),this._addBackoff(e,s),void n.push(s)}return r<0?(this.log("GRAFT: ignoring peer %s with negative score: score=%d, topic=%s",e,r,s),n.push(s),i=!1,void this._addBackoff(e,s)):c.size>=this._options.Dhi&&!this.outbound.get(e)?(n.push(s),void this._addBackoff(e,s)):(this.log("GRAFT: Add mesh link from %s in %s",e,s),this.score.graft(e,s),void c.add(e))})),n.length?Promise.all(n.map((t=>this._makePrune(e,t,i)))):[]}))}_handlePrune(e,t){const n=this.score.score(e);t.forEach((t=>{let{topicID:r,backoff:o,peers:i}=t;if(!r)return;const s=this.mesh.get(r);if(s&&(this.log("PRUNE: Remove mesh link to %s in %s",e,r),this.score.prune(e,r),s.delete(e),"number"===typeof o&&o>0?this._doAddBackoff(e,r,1e3*o):this._addBackoff(e,r),i&&i.length)){if(n<this._options.scoreThresholds.acceptPXThreshold)return void this.log("PRUNE: ignoring PX from peer %s with insufficient score [score = %d, topic = %s]",e,n,r);this._pxConnect(i)}}))}_addBackoff(e,t){this._doAddBackoff(e,t,u.GossipsubPruneBackoff)}_doAddBackoff(e,t,n){let r=this.backoff.get(t);r||(r=new Map,this.backoff.set(t,r));const o=this._now()+n;(r.get(e)||0)<o&&r.set(e,o)}_applyIwantPenalties(){this.gossipTracer.getBrokenPromises().forEach(((e,t)=>{this.log("peer %s didn't follow up in %d IWANT requests; adding penalty",t,e),this.score.addPenalty(t,e)}))}_clearBackoff(){if(this.heartbeatTicks%u.GossipsubPruneBackoffTicks!==0)return;const e=this._now();this.backoff.forEach(((t,n)=>{t.forEach(((n,r)=>{n<e&&t.delete(r)})),0===t.size&&this.backoff.delete(n)}))}_directConnect(){if(this.heartbeatTicks%u.GossipsubDirectConnectTicks!==0)return;const e=[];this.direct.forEach((t=>{const n=this.peers.get(t);n&&n.isWritable||e.push(t)})),e.length&&e.forEach((e=>{this._connect(e)}))}_pxConnect(e){return s(this,void 0,void 0,(function*(){e.length>u.GossipsubPrunePeers&&(h.shuffle(e),e=e.slice(0,u.GossipsubPrunePeers));const t=[];yield Promise.all(e.map((e=>s(this,void 0,void 0,(function*(){if(!e.peerID)return;const n=m.createFromBytes(e.peerID).toB58String();if(!this.peers.has(n))if(e.signedPeerRecord)try{const r=yield b.openAndCertify(e.signedPeerRecord,"libp2p-peer-record"),o=r.peerId.toB58String();if(n!==o)return void this.log("bogus peer record obtained through px: peer ID %s doesn't match expected peer %s",o,n);if(!this._libp2p.peerStore.addressBook.consumePeerRecord(r))return void this.log("bogus peer record obtained through px: could not add peer record to address book");t.push(n)}catch(r){this.log("bogus peer record obtained through px: invalid signature or not a peer record")}else t.push(n)}))))),t.length&&t.forEach((e=>this._connect(e)))}))}start(){const e=Object.create(null,{start:{get:()=>super.start}});return s(this,void 0,void 0,(function*(){yield e.start.call(this),this.heartbeat.start(),this.score.start(),this._directPeerInitial=setTimeout((()=>{this.direct.forEach((e=>{this._connect(e)}))}),u.GossipsubDirectConnectInitialDelay)}))}stop(){const e=Object.create(null,{stop:{get:()=>super.stop}});return s(this,void 0,void 0,(function*(){yield e.stop.call(this),this.heartbeat.stop(),this.score.stop(),this.mesh=new Map,this.fanout=new Map,this.lastpub=new Map,this.gossip=new Map,this.control=new Map,this.peerhave=new Map,this.iasked=new Map,this.backoff=new Map,this.outbound=new Map,this.gossipTracer.clear(),this.seenCache.clear(),this.fastMsgIdCache&&this.fastMsgIdCache.clear(),clearTimeout(this._directPeerInitial)}))}_connect(e){this.log("Initiating connection with %s",e),this._libp2p.dialProtocol(m.createFromB58String(e),this.multicodecs)}subscribe(e){super.subscribe(e),this.join(e)}unsubscribe(e){super.unsubscribe(e),this.leave(e)}join(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("JOIN %s",e);const t=this.fanout.get(e);if(t)t.forEach((e=>{this.score.score(e)<0&&t.delete(e)})),t.size<this._options.D&&p.getGossipPeers(this,e,this._options.D-t.size,(e=>!t.has(e)&&!this.direct.has(e)&&this.score.score(e)>=0)).forEach((e=>t.add(e))),this.mesh.set(e,t),this.fanout.delete(e),this.lastpub.delete(e);else{const t=p.getGossipPeers(this,e,this._options.D,(e=>!this.direct.has(e)&&this.score.score(e)>=0));this.mesh.set(e,t)}this.mesh.get(e).forEach((t=>{this.log("JOIN: Add mesh link to %s in %s",t,e),this._sendGraft(t,e)}))}leave(e){if(!this.started)throw new Error("Gossipsub has not started");this.log("LEAVE %s",e);const t=this.mesh.get(e);t&&(t.forEach((t=>{this.log("LEAVE: Remove mesh link to %s in %s",t,e),this._sendPrune(t,e)})),this.mesh.delete(e))}getCanonicalMsgIdStr(e){var t,n;return s(this,void 0,void 0,(function*(){return this.fastMsgIdCache&&this.getFastMsgIdStr&&null!==(n=null!==(t=this.getCachedMsgIdStr(e))&&void 0!==t?t:this.fastMsgIdCache.get(this.getFastMsgIdStr(e)))&&void 0!==n?n:h.messageIdToString(yield this.getMsgId(e))}))}getCachedMsgIdStr(e){}_publish(e){return s(this,void 0,void 0,(function*(){const t=yield this.getCanonicalMsgIdStr(e);e.receivedFrom!==this.peerId.toB58String()&&(this.score.deliverMessage(e,t),this.gossipTracer.deliverMessage(t)),this.seenCache.put(t),this.messageCache.put(e,t);const n=new Set;e.topicIDs.forEach((t=>{const r=this.topics.get(t);if(r)if(this._options.floodPublish&&e.from===this.peerId.toB58String())r.forEach((e=>{(this.direct.has(e)||this.score.score(e)>=this._options.scoreThresholds.publishThreshold)&&n.add(e)}));else{this.direct.forEach((e=>{n.add(e)})),r.forEach((e=>{const t=this.score.score(e),r=this.peers.get(e);r&&r.protocol===u.FloodsubID&&t>=this._options.scoreThresholds.publishThreshold&&n.add(e)}));let e=this.mesh.get(t);if(!e||!e.size){if(e=this.fanout.get(t),!e){const n=p.getGossipPeers(this,t,this._options.D,(e=>this.score.score(e)>=this._options.scoreThresholds.publishThreshold));n.size>0?(e=n,this.fanout.set(t,n)):e=new Set}this.lastpub.set(t,this._now())}e.forEach((e=>{n.add(e)}))}}));const r=h.createGossipRpc([a.utils.normalizeOutRpcMessage(e)]);n.forEach((t=>{t!==e.from&&this._sendRpc(t,r)}))}))}_sendGraft(e,t){const n=[{topicID:t}],r=h.createGossipRpc([],{graft:n});this._sendRpc(e,r)}_sendPrune(e,t){return s(this,void 0,void 0,(function*(){const n=[yield this._makePrune(e,t,this._options.doPX)],r=h.createGossipRpc([],{prune:n});this._sendRpc(e,r)}))}_sendRpc(e,t){const n=this.peers.get(e);if(!n||!n.isWritable)return;const r=this.control.get(e);r&&(this._piggybackControl(e,t,r),this.control.delete(e));const o=this.gossip.get(e);o&&(this._piggybackGossip(e,t,o),this.gossip.delete(e)),n.write(l.RPC.encode(t).finish())}_piggybackControl(e,t,n){const r=(n.graft||[]).filter((t=>{let{topicID:n}=t;return(n&&this.mesh.get(n)||new Set).has(e)})),o=(n.prune||[]).filter((t=>{let{topicID:n}=t;return!(n&&this.mesh.get(n)||new Set).has(e)}));(r.length||o.length)&&(t.control?(t.control.graft=t.control.graft&&t.control.graft.concat(r),t.control.prune=t.control.prune&&t.control.prune.concat(o)):t.control={ihave:[],iwant:[],graft:r,prune:o})}_piggybackGossip(e,t,n){t.control||(t.control={ihave:[],iwant:[],graft:[],prune:[]}),t.control.ihave=n}_sendGraftPrune(e,t,n){return s(this,void 0,void 0,(function*(){const r=this._options.doPX;for(const[o,i]of e){const e=i.map((e=>({topicID:e})));let s=[];const a=t.get(o);a&&(s=yield Promise.all(a.map((e=>this._makePrune(o,e,r&&!n.get(o))))),t.delete(o));const c=h.createGossipRpc([],{graft:e,prune:s});this._sendRpc(o,c)}for(const[e,o]of t){const t=yield Promise.all(o.map((t=>this._makePrune(e,t,r&&!n.get(e))))),i=h.createGossipRpc([],{prune:t});this._sendRpc(e,i)}}))}_emitGossip(e,t){const n=this.messageCache.getGossipIDs(e);if(!n.length)return;h.shuffle(n),n.length>u.GossipsubMaxIHaveLength&&this.log("too many messages for gossip; will truncate IHAVE list (%d messages)",n.length);const r=[],o=this.topics.get(e);if(!o)return;o.forEach((e=>{const n=this.peers.get(e);n&&!t.has(e)&&!this.direct.has(e)&&h.hasGossipProtocol(n.protocol)&&this.score.score(e)>=this._options.scoreThresholds.gossipThreshold&&r.push(e)}));let i=this._options.Dlazy;const s=u.GossipsubGossipFactor*r.length;s>i&&(i=s),i>r.length?i=r.length:h.shuffle(r),r.slice(0,i).forEach((t=>{let r=n;n.length>u.GossipsubMaxIHaveLength&&(r=h.shuffle(r.slice()).slice(0,u.GossipsubMaxIHaveLength)),this._pushGossip(t,{topicID:e,messageIDs:r})}))}_flush(){for(const[e,t]of this.gossip.entries()){this.gossip.delete(e);const n=h.createGossipRpc([],{ihave:t});this._sendRpc(e,n)}for(const[e,t]of this.control.entries()){this.control.delete(e);const n=h.createGossipRpc([],{graft:t.graft,prune:t.prune});this._sendRpc(e,n)}}_pushGossip(e,t){this.log("Add gossip to %s",e);const n=this.gossip.get(e)||[];this.gossip.set(e,n.concat(t))}_now(){return Date.now()}_makePrune(e,t,n){return s(this,void 0,void 0,(function*(){if(this.peers.get(e).protocol===u.GossipsubIDv10)return{topicID:t,peers:[]};const r=u.GossipsubPruneBackoff/1e3;if(!n)return{topicID:t,peers:[],backoff:r};const o=p.getGossipPeers(this,t,u.GossipsubPrunePeers,(t=>t!==e&&this.score.score(t)>=0)),i=yield Promise.all(Array.from(o).map((e=>s(this,void 0,void 0,(function*(){const t=m.createFromB58String(e);return{peerID:t.toBytes(),signedPeerRecord:yield this._libp2p.peerStore.addressBook.getRawEnvelope(t)}})))));return{topicID:t,peers:i,backoff:r}}))}}w.multicodec=u.GossipsubIDv11,e.exports=w},90983:(e,t,n)=>{"use strict";const r=n(37567),o=Symbol.for("@libp2p/js-interfaces/topology/multicodec-topology"),i=n(60720),s=Object.assign(i("libp2p:topology:multicodec-topology"),{error:i("libp2p:topology:multicodec-topology:error")});class a extends r{constructor(e){let{min:t,max:n,multicodecs:r,handlers:o}=e;if(super({min:t,max:n,handlers:o}),!r)throw new Error("one or more multicodec should be provided");if(!o)throw new Error("the handlers should be provided");if("function"!==typeof o.onConnect)throw new Error("the 'onConnect' handler must be provided");if("function"!==typeof o.onDisconnect)throw new Error("the 'onDisconnect' handler must be provided");this.multicodecs=Array.isArray(r)?r:[r],this._registrar=void 0,this._onProtocolChange=this._onProtocolChange.bind(this),this._onPeerConnect=this._onPeerConnect.bind(this)}get[Symbol.toStringTag](){return"Topology"}get[o](){return!0}static isMulticodecTopology(e){return Boolean(e&&e[o])}async setRegistrar(e){this._registrar=e,this._registrar.peerStore.on("change:protocols",this._onProtocolChange),this._registrar.connectionManager.on("peer:connect",this._onPeerConnect),await this._updatePeers(this._registrar.peerStore.getPeers())}async _updatePeers(e){for await(const{id:t,protocols:n}of e)if(this.multicodecs.filter((e=>n.includes(e))).length){this.peers.add(t.toB58String());const e=this._registrar.getConnection(t);e&&this._onConnect(t,e)}else this.peers.delete(t.toB58String())}async _onProtocolChange(e){let{peerId:t,protocols:n}=e;try{const e=this.peers.has(t.toB58String()),r=n.filter((e=>this.multicodecs.includes(e)));e&&0===r.length&&this._onDisconnect(t);for(const o of n)if(this.multicodecs.includes(o)){const e=await this._registrar.peerStore.get(t);return void await this._updatePeers([e])}}catch(r){s.error(r)}}async _onPeerConnect(e){try{const t=e.remotePeer,n=await this._registrar.peerStore.protoBook.get(t);if(!n)return;this.multicodecs.find((e=>n.includes(e)))&&(this.peers.add(t.toB58String()),this._onConnect(t,e))}catch(t){s.error(t)}}}e.exports=a},49616:(e,t,n)=>{"use strict";const{KadDHT:r}=n(58415),{DualKadDHT:o}=n(70022);e.exports={create:e=>new o(new r({...e,protocol:"/ipfs/kad/1.0.0",lan:!1}),new r({...e,protocol:"/ipfs/lan/kad/1.0.0",clientMode:!1,lan:!0}),e.libp2p)}},48402:(e,t,n)=>{"use strict";e.exports=n(64736)},64736:(e,t,n)=>{"use strict";const r=n(89962),o=n(31730),i=n(60720)("libp2p:mplex"),s=n(7155),a=n(14910),c=n(11999),{MessageTypes:l,MessageTypeNames:u}=n(88809),d=n(91126);class p{constructor(e){e="function"===typeof(e=e||{})?{onStream:e}:e,this._streamId=0,this._streams={initiators:new Map,receivers:new Map},this._options=e,this.sink=this._createSink(),this.source=this._createSource(),this.onStream=e.onStream,this.onStreamEnd=e.onStreamEnd}get streams(){const e=[];return this._streams.initiators.forEach((t=>{e.push(t)})),this._streams.receivers.forEach((t=>{e.push(t)})),e}newStream(e){const t=this._streamId++;e=null==e?t.toString():String(e);const n=this._streams.initiators;return this._newStream({id:t,name:e,type:"initiator",registry:n})}_newReceiverStream(e){let{id:t,name:n}=e;const r=this._streams.receivers;return this._newStream({id:t,name:n,type:"receiver",registry:r})}_newStream(e){let{id:t,name:n,type:r,registry:o}=e;if(o.has(t))throw new Error(`${r} stream ${t} already exists!`);i("new %s stream %s %s",r,t,n);const s=d({id:t,name:n,send:e=>(i.enabled&&i("%s stream %s %s send",r,t,n,{...e,type:u[e.type],data:e.data&&e.data.slice()}),this.source.push(e)),type:r,onEnd:()=>{i("%s stream %s %s ended",r,t,n),o.delete(t),this.onStreamEnd&&this.onStreamEnd(s)},maxMsgSize:this._options.maxMsgSize});return o.set(t,s),s}_createSink(){return async e=>{this._options.signal&&(e=s(e,this._options.signal));try{await r(e,a.decode,c(this._options.maxMsgSize),(async e=>{for await(const t of e)for(const e of t)this._handleIncoming(e)}))}catch(t){return i("error in sink",t),this.source.end(t)}this.source.end()}}_createSource(){const e=o({onEnd:e=>{const{initiators:t,receivers:n}=this._streams;for(const r of t.values())r.abort(e);for(const r of n.values())r.abort(e)},writev:!0});return Object.assign(a.encode(e),{push:e.push,end:e.end,return:e.return})}_handleIncoming(e){let{id:t,type:n,data:r}=e;if(i.enabled&&i("incoming message",{id:t,type:u[n],data:r.slice()}),n===l.NEW_STREAM&&this.onStream){const e=this._newReceiverStream({id:t,name:r.toString()});return this.onStream(e)}const o=(1&n?this._streams.initiators:this._streams.receivers).get(t);if(!o)return i("missing stream %s",t);switch(n){case l.MESSAGE_INITIATOR:case l.MESSAGE_RECEIVER:o.source.push(r);break;case l.CLOSE_INITIATOR:case l.CLOSE_RECEIVER:o.close();break;case l.RESET_INITIATOR:case l.RESET_RECEIVER:o.reset();break;default:i("unknown message type %s",n)}}}p.multicodec="/mplex/6.7.0",e.exports=p},16758:(e,t,n)=>{"use strict";e.exports={Record:n(91453),validator:n(36782),selection:n(55980)}},84856:(e,t,n)=>{"use strict";const r=n(60720),o=r("libp2p:webrtc-star");o.error=r("libp2p:webrtc-star:error");const{EventEmitter:i}=n(36571),s=n(15504),a=n(24177),{AbortError:c}=n(7155),l=n(33192),{supportsWebRTCDataChannels:u}=n(11747),{Multiaddr:d}=n(10006),p=n(44021),h=n(91401),{CODE_CIRCUIT:f}=n(85146),g=n(17931),y=n(92380),{cleanMultiaddr:m,cleanUrlSIO:b}=n(480);function v(){}e.exports=a(class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.upgrader)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=e.upgrader,this.sioOptions={transports:["websocket"],"force new connection":!0},e.wrtc&&(this.wrtc=e.wrtc),this.sigReferences=new Map,this.discovery=new i,this.discovery.tag="webRTCStar",this.discovery._isStarted=!1,this.discovery.start=()=>{this.discovery._isStarted=!0},this.discovery.stop=()=>{this.discovery._isStarted=!1},this._peerDiscovered=this._peerDiscovered.bind(this)}async dial(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await this._connect(e,t),r=y(n,{remoteAddr:e,signal:t.signal});o("new outbound connection %s",r.remoteAddr);const i=await this._upgrader.upgradeOutbound(r);return o("outbound connection %s upgraded",r.remoteAddr),i}_connect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.signal&&t.signal.aborted)throw new c;const n={initiator:!0,trickle:!1,...t.spOptions||{}};this.wrtc&&(n.wrtc=this.wrtc);const r=e.toOptions(),i=(~~(1e9*Math.random())).toString(36)+Date.now();return new Promise(((a,u)=>{const d=this.sigReferences.get(b(e));if(!d||!d.listener)return u(s(new Error("unknown signal server to use"),"ERR_UNKNOWN_SIGNAL_SERVER"));const p=d.listener.io,h=Date.now();let f;o("dialing %s:%s",r.host,r.port);const g=new l(n),y=e=>{if(!f){const t=`connection error ${r.host}:${r.port}: ${e.message}`;o.error(t),k(e)}},m=()=>{o("connnection timeout %s:%s",r.host,r.port);const e=s(new Error(`connection timeout after ${Date.now()-h}ms`),"ERR_CONNECT_TIMEOUT");g.emit("error",e)},v=()=>{f=!0,o("connection opened %s:%s",r.host,r.port),k(null)},w=()=>{o.error("connection aborted %s:%s",r.host,r.port),g.destroy(),k(new c)},k=e=>{g.removeListener("timeout",m),g.removeListener("connect",v),t.signal&&t.signal.removeEventListener("abort",w),e?u(e):a(g)};g.on("error",y),g.once("timeout",m),g.once("connect",v),g.on("close",(()=>{g.removeListener("error",y)})),t.signal&&t.signal.addEventListener("abort",w),g.on("signal",(t=>{p.emit("ss-handshake",{intentId:i,srcMultiaddr:d.signallingAddr.toString(),dstMultiaddr:e.toString(),signal:t})})),p.on("ws-handshake",(e=>{e.intentId===i&&e.err&&(g.destroy(),u(s(e.err instanceof Error?e.err:new Error(e.err),"ERR_SIGNALLING_FAILED"))),e.intentId===i&&e.answer&&!g.destroyed&&g.signal(e.signal)}))}))}createListener(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(!u&&!this.wrtc)throw s(new Error("no WebRTC support"),"ERR_NO_WEBRTC_SUPPORT");return"function"===typeof e&&(t=e,e={}),t=t||v,g({handler:t,upgrader:this._upgrader},this,e)}filter(e){return(e=Array.isArray(e)?e:[e]).filter((e=>!e.protoCodes().includes(f)&&p.WebRTCStar.matches(e)))}_peerDiscovered(e){if(!this.discovery._isStarted)return;o("Peer Discovered:",e),e=m(e);const t=new d(e),n=h.createFromB58String(t.getPeerId());this.discovery.emit("peer",{id:n,multiaddrs:[t]})}},{className:"WebRTCStar",symbolName:"@libp2p/js-libp2p-webrtc-star/webrtcstar"})},62162:(e,t,n)=>{"use strict";const r=n(8317),o=n(24177),i=n(36381),{AbortError:s}=n(7155),a=n(61135),c=n(60720),l=c("libp2p:websockets");l.error=c("libp2p:websockets:error");const u=n(41257),d=n(53779),p=n(63221),h=n(17946);e.exports=o(class{constructor(e){let{upgrader:t,filter:n}=e;if(!t)throw new Error("An upgrader must be provided. See https://github.com/libp2p/interface-transport#upgrader.");this._upgrader=t,this._filter=n}async dial(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};l("dialing %s",e);const n=await this._connect(e,t),r=p(n,{remoteAddr:e,signal:t.signal});l("new outbound connection %s",r.remoteAddr);const o=await this._upgrader.upgradeOutbound(r);return l("outbound connection %s upgraded",r.remoteAddr),o}async _connect(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.signal&&t.signal.aborted)throw new s;const n=e.toOptions();l("dialing %s:%s",n.host,n.port);const o=a(),c=e=>{const t=`connection error: ${e.message}`;l.error(t),o.reject(e)},u=r(i(e),Object.assign({binary:!0},t));if(u.socket.on?u.socket.on("error",c):u.socket.onerror=c,!t.signal)return await Promise.race([u.connected(),o.promise]),l("connected %s",e),u;let d;const p=new Promise(((e,n)=>{if(d=()=>{n(new s),setTimeout((()=>{u.close()}))},t.signal.aborted)return d();t.signal.addEventListener("abort",d)}));try{await Promise.race([p,o.promise,u.connected()])}finally{t.signal.removeEventListener("abort",d)}return l("connected %s",e),u}createListener(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"function"===typeof e&&(t=e,e={}),d({handler:t,upgrader:this._upgrader},e)}filter(e){return e=Array.isArray(e)?e:[e],this._filter?this._filter(e):u.isBrowser||u.isWebWorker?h.dnsWss(e):h.all(e)}},{className:"WebSockets",symbolName:"@libp2p/js-libp2p-websockets/websockets"})},60403:(e,t,n)=>{"use strict";const r=n(60720),o=Object.assign(r("libp2p"),{error:r("libp2p:err")}),{EventEmitter:i}=n(36571),s=n(15504),a=n(91401),{Multiaddr:c}=n(10006),{MemoryDatastore:l}=n(51854),u=n(41216),d=n(34646),p=n(95096),{validate:h}=n(22586),{codes:f,messages:g}=n(90707),y=n(41404),m=n(27069),b=n(27202),v=n(66537),w=n(12271),k=n(44546),_=n(71464),E=n(67340),S=n(69725),C=n(61704),x=n(28623),I=n(80796),A=n(30324),P=n(74166),R=n(55763),O=n(6944),T=n(80850),{updateSelfPeerRecord:D}=n(23055);class M extends i{static async create(e){if(e.peerId)return new M(e);const t=await a.create();return e.peerId=t,new M(e)}constructor(e){if(super(),this._options=h(e),this.peerId=this._options.peerId,this.datastore=this._options.datastore,this._options.metrics.enabled){const e=new E({...this._options.metrics});this.metrics=e}if(this.connectionGater={denyDialPeer:async()=>Promise.resolve(!1),denyDialMultiaddr:async()=>Promise.resolve(!1),denyInboundConnection:async()=>Promise.resolve(!1),denyOutboundConnection:async()=>Promise.resolve(!1),denyInboundEncryptedConnection:async()=>Promise.resolve(!1),denyOutboundEncryptedConnection:async()=>Promise.resolve(!1),denyInboundUpgradedConnection:async()=>Promise.resolve(!1),denyOutboundUpgradedConnection:async()=>Promise.resolve(!1),filterMultiaddrForPeer:async()=>Promise.resolve(!0),...this._options.connectionGater},this.peerStore=new x({peerId:this.peerId,datastore:this.datastore&&this._options.peerStore.persistence?this.datastore:new l,addressFilter:this.connectionGater.filterMultiaddrForPeer}),this.addresses=this._options.addresses,this.addressManager=new y(this.peerId,this._options.addresses),this.addressManager.on("change:addresses",(()=>{D(this).catch((e=>{o.error("Error updating self peer record",e)}))})),this._modules=this._options.modules,this._config=this._options.config,this._transport=[],this._discovery=new Map,this.connectionManager=new m(this,{...this._options.connectionManager}),this._autodialler=new b(this,{enabled:this._config.peerDiscovery.autoDial,minConnections:this._options.connectionManager.minConnections,autoDialInterval:this._options.connectionManager.autoDialInterval}),this._options.keychain&&this._options.keychain.datastore){o("creating keychain");const e=_.generateOptions();this.keychain=new _(this._options.keychain.datastore,{...e,...this._options.keychain}),o("keychain constructed")}if(this.upgrader=new C({connectionGater:this.connectionGater,localPeer:this.peerId,metrics:this.metrics,onConnection:e=>this.connectionManager.onConnect(e),onConnectionEnd:e=>this.connectionManager.onDisconnect(e)}),this.transportManager=new S({libp2p:this,upgrader:this.upgrader,faultTolerance:this._options.transportManager.faultTolerance}),this.natManager=new T({peerId:this.peerId,addressManager:this.addressManager,transportManager:this.transportManager,...this._options.config.nat}),this.registrar=new A({peerStore:this.peerStore,connectionManager:this.connectionManager}),this.handle=this.handle.bind(this),this.registrar.handle=this.handle,!this._modules.connEncryption||!this._modules.connEncryption.length)throw s(new Error(g.CONN_ENCRYPTION_REQUIRED),f.CONN_ENCRYPTION_REQUIRED);if(this._modules.connEncryption.forEach((e=>{this.upgrader.cryptos.set(e.protocol,e)})),this.dialer=new k({transportManager:this.transportManager,connectionGater:this.connectionGater,peerStore:this.peerStore,metrics:this.metrics,...this._options.dialer}),this._modules.transport.forEach((e=>{const t=e.prototype[Symbol.toStringTag],n=this._config.transport[t];this.transportManager.add(t,e,n)})),this._config.relay.enabled&&(this.transportManager.add(v.prototype[Symbol.toStringTag],v),this.relay=new w(this)),this._modules.streamMuxer){this._modules.streamMuxer.forEach((e=>{this.upgrader.muxers.set(e.multicodec,e)})),this.identifyService=new P({libp2p:this})}if(this._modules.connProtector)this.upgrader.protector=this._modules.connProtector;else if(void 0!==globalThis.process&&globalThis.process.env&&globalThis.process.env.LIBP2P_FORCE_PNET)throw new Error("Private network is enforced, but no protector was provided");if(this._modules.dht){const e=this._modules.dht;this._dht=e.create({libp2p:this,...this._config.dht})}if(this._modules.pubsub){const e=this._modules.pubsub;this.pubsub=I(e,this,this._config.pubsub)}this.peerRouting=new u(this),this.contentRouting=new d(this),this._onDiscoveryPeer=this._onDiscoveryPeer.bind(this),this.fetchService=new R(this),this.pingService=new O(this)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"error"!==e||this._events.error?super.emit(e,...n):(o.error(n),!1)}async start(){o("libp2p is starting"),this.identifyService&&await this.handle(Object.values(P.getProtocolStr(this)),this.identifyService.handleMessage),this.fetchService&&await this.handle(R.PROTOCOL,this.fetchService.handleMessage),this.pingService&&await this.handle(O.getProtocolStr(this),this.pingService.handleMessage);try{await this._onStarting(),await this._onDidStart(),o("libp2p has started")}catch(e){throw this.emit("error",e),o.error("An error occurred starting libp2p",e),await this.stop(),e}}async stop(){o("libp2p is stopping");try{this._isStarted=!1,this.identifyService&&await this.identifyService.stop(),this.relay&&this.relay.stop(),this.peerRouting.stop(),await this._autodialler.stop(),await(this._dht&&this._dht.stop());for(const e of this._discovery.values())e.removeListener("peer",this._onDiscoveryPeer);await Promise.all(Array.from(this._discovery.values(),(e=>e.stop()))),this._discovery=new Map,await this.connectionManager.stop(),await Promise.all([this.pubsub&&this.pubsub.stop(),this.metrics&&this.metrics.stop()]),await this.natManager.stop(),await this.transportManager.close(),await this.unhandle(R.PROTOCOL),await this.unhandle(O.getProtocolStr(this)),this.dialer.destroy()}catch(e){e&&(o.error(e),this.emit("error",e))}o("libp2p has stopped")}async loadKeychain(){if(this.keychain)try{await this.keychain.findKeyByName("self")}catch(e){await this.keychain.importPeer("self",this.peerId)}}isStarted(){return this._isStarted}get connections(){return this.connectionManager.connections}dial(e,t){return this._dial(e,t)}async dialProtocol(e,t,n){if(!t||!t.length)throw s(new Error("no protocols were provided to open a stream"),f.ERR_INVALID_PROTOCOLS_FOR_STREAM);return(await this._dial(e,n)).newStream(t)}async _dial(e,t){const{id:n,multiaddrs:r}=p(e);if(n.equals(this.peerId))throw s(new Error("Cannot dial self"),f.ERR_DIALED_SELF);let o=this.connectionManager.get(n);return o?r&&await this.peerStore.addressBook.add(n,r):o=await this.dialer.connectToPeer(e,t),o}get multiaddrs(){let e=this.addressManager.getAnnounceAddrs().map((e=>e.toString()));e.length||(e=this.transportManager.getAddrs().map((e=>e.toString()))),e=e.concat(this.addressManager.getObservedAddrs().map((e=>e.toString())));const t=this._options.addresses.announceFilter,n=new Set(e);return t(Array.from(n).map((e=>new c(e))))}async hangUp(e){const{id:t}=p(e),n=this.connectionManager.connections.get(t.toB58String());n&&await Promise.all(n.map((e=>e.close())))}fetch(e,t){return this.fetchService.fetch(e,t)}ping(e){const{id:t,multiaddrs:n}=p(e);return n?this.pingService.ping(n[0]):this.pingService.ping(t)}async handle(e,t){(e=Array.isArray(e)?e:[e]).forEach((e=>{this.upgrader.protocols.set(e,t)})),await this.peerStore.protoBook.add(this.peerId,e)}async unhandle(e){(e=Array.isArray(e)?e:[e]).forEach((e=>{this.upgrader.protocols.delete(e)})),await this.peerStore.protoBook.remove(this.peerId,e)}async _onStarting(){const e=this.addressManager.getListenAddrs();await this.transportManager.listen(e),this.natManager.start(),this._config.pubsub.enabled&&this.pubsub&&await this.pubsub.start(),this._config.dht.enabled&&(this._dht&&await this._dht.start(),this._dht.on("peer",this._onDiscoveryPeer)),this.metrics&&this.metrics.start(),this.identifyService&&await this.identifyService.start()}async _onDidStart(){this._isStarted=!0,this.peerStore.on("peer",(e=>{this.emit("peer:discovery",e),this._maybeConnect(e).catch((e=>{o.error(e)}))}));for await(const e of this.peerStore.getPeers())this.emit("peer:discovery",e.id);this.connectionManager.start(),await this._autodialler.start(),await this._setupPeerDiscovery(),this.relay&&this.relay.start(),this.peerRouting.start()}_onDiscoveryPeer(e){e.id.toB58String()!==this.peerId.toB58String()?(e.multiaddrs&&this.peerStore.addressBook.add(e.id,e.multiaddrs).catch((e=>o.error(e))),e.protocols&&this.peerStore.protoBook.set(e.id,e.protocols).catch((e=>o.error(e)))):o.error(new Error(f.ERR_DISCOVERED_SELF))}async _maybeConnect(e){if(!0===this._config.peerDiscovery.autoDial&&!this.connectionManager.get(e)){if((this._options.connectionManager.minConnections||0)>this.connectionManager.size){o("connecting to discovered peer %s",e.toB58String());try{await this.dialer.connectToPeer(e)}catch(t){o.error(`could not connect to discovered peer ${e.toB58String()} with ${t}`)}}}}async _setupPeerDiscovery(){const e=e=>{let t={enabled:!0};if(e.tag&&this._config.peerDiscovery&&this._config.peerDiscovery[e.tag]&&(t={...t,...this._config.peerDiscovery[e.tag]}),t.enabled&&!this._discovery.has(e.tag)){let n;n="function"===typeof e?new e(Object.assign({},t,{peerId:this.peerId,libp2p:this})):e,n.on("peer",this._onDiscoveryPeer),this._discovery.set(e.tag,n)}};for(const t of this._modules.peerDiscovery||[])e(t);for(const t of this.transportManager.getTransports())t.discovery&&e(t.discovery);await Promise.all(Array.from(this._discovery.values(),(e=>e.start())))}}e.exports=M},71038:e=>{"use strict";class t extends Map{constructor(e){super();const{system:t,component:n,metric:r,metrics:o}=e;this._system=t,this._component=n,this._metric=r,this._metrics=o,this._metrics.updateComponentMetric({system:this._system,component:this._component,metric:this._metric,value:this.size})}set(e,t){return super.set(e,t),this._metrics.updateComponentMetric({system:this._system,component:this._component,metric:this._metric,value:this.size}),this}delete(e){const t=super.delete(e);return this._metrics.updateComponentMetric({system:this._system,component:this._component,metric:this._metric,value:this.size}),t}clear(){super.clear(),this._metrics.updateComponentMetric({system:this._system,component:this._component,metric:this._metric,value:this.size})}}e.exports=e=>{let n,{system:r="libp2p",component:o,metric:i,metrics:s}=e;return n=s?new t({system:r,component:o,metric:i,metrics:s}):new Map,n}},44021:(e,t,n)=>{"use strict";const{Multiaddr:r}=n(10006),o=R("dns4"),i=R("dns6"),s=R("dnsaddr"),a=P(R("dns"),s,o,i),c=P(R("ip4"),R("ip6")),l=P(A(c,R("tcp")),A(a,R("tcp"))),u=A(c,R("udp")),d=A(u,R("utp")),p=A(u,R("quic")),h=P(A(l,R("ws")),A(a,R("ws"))),f=P(A(l,R("wss")),A(a,R("wss"))),g=P(A(l,R("http")),A(c,R("http")),A(a,R("http"))),y=P(A(l,R("https")),A(c,R("https")),A(a,R("https"))),m=P(A(h,R("p2p-webrtc-star"),R("p2p")),A(f,R("p2p-webrtc-star"),R("p2p")),A(h,R("p2p-webrtc-star")),A(f,R("p2p-webrtc-star"))),b=P(A(h,R("p2p-websocket-star"),R("p2p")),A(f,R("p2p-websocket-star"),R("p2p")),A(h,R("p2p-websocket-star")),A(f,R("p2p-websocket-star"))),v=P(A(g,R("p2p-webrtc-direct"),R("p2p")),A(y,R("p2p-webrtc-direct"),R("p2p")),A(g,R("p2p-webrtc-direct")),A(y,R("p2p-webrtc-direct"))),w=P(h,f,g,y,m,v,l,d,p,a),k=P(A(w,R("p2p-stardust"),R("p2p")),A(w,R("p2p-stardust"))),_=P(A(w,R("p2p")),m,v,R("p2p")),E=P(A(_,R("p2p-circuit"),_),A(_,R("p2p-circuit")),A(R("p2p-circuit"),_),A(w,R("p2p-circuit")),A(R("p2p-circuit"),w),R("p2p-circuit")),S=()=>P(A(E,S),E),C=S(),x=P(A(C,_,C),A(_,C),A(C,_),C,_);function I(e){return function(t){if(!r.isMultiaddr(t))try{t=new r(t)}catch(o){return!1}const n=e(t.protoNames());return null!==n&&(!0===n||!1===n?n:0===n.length)}}function A(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(e){if(e.length<t.length)return null;let n=e;return t.some((t=>(n="function"===typeof t?t().partialMatch(e):t.partialMatch(e),Array.isArray(n)&&(e=n),null===n))),n}return{toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:I(r),partialMatch:r}}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(e){let n=null;return t.some((t=>{const r="function"===typeof t?t().partialMatch(e):t.partialMatch(e);return!!r&&(n=r,!0)})),n}const o={toString:function(){return"{ "+t.join(" ")+" }"},input:t,matches:I(r),partialMatch:r};return o}function R(e){const t=e;return{toString:function(){return t},matches:function(e){let n;if("string"===typeof e||e instanceof Uint8Array)try{n=new r(e)}catch(i){return!1}else n=e;const o=n.protoNames();return 1===o.length&&o[0]===t},partialMatch:function(e){return 0===e.length?null:e[0]===t?e.slice(1):null}}}e.exports={DNS:a,DNS4:o,DNS6:i,DNSADDR:s,IP:c,TCP:l,UDP:u,QUIC:p,UTP:d,HTTP:g,HTTPS:y,WebSockets:h,WebSocketsSecure:f,WebSocketStar:b,WebRTCStar:m,WebRTCDirect:v,Reliable:w,Stardust:k,Circuit:C,P2P:x,IPFS:x}},26494:(e,t,n)=>{const r=n(46338),o=n(23432),{default:i}=n(60185),{timeout:s}=n(17474),a=n(548),c={};let l;function u(e,t){let n;const r=new Promise((e=>{n=e}));return e.add((()=>s(new Promise((e=>{n((()=>{e()}))})),t.timeout))),r}const d={concurrency:1/0,timeout:846e5,global:n.g,singleProcess:!1};e.exports=(e,t)=>(t||(t={}),"object"===typeof e&&(t=e,e="lock"),e||(e="lock"),t=Object.assign({},d,t),l||(l=r(t)||o(t),l.isWorker||(l.on("requestReadLock",((e,t)=>{c[e]&&c[e].readLock().then((e=>t().finally((()=>e()))))})),l.on("requestWriteLock",(async(e,t)=>{c[e]&&c[e].writeLock().then((e=>t().finally((()=>e()))))})))),c[e]||(c[e]=((e,t)=>{if(l.isWorker)return{readLock:l.readLock(e,t),writeLock:l.writeLock(e,t)};const n=new i({concurrency:1});let r=null;return{readLock:()=>{if(r)return u(r,t);r=new i({concurrency:t.concurrency,autoStart:!1});const e=r,o=u(r,t);return n.add((()=>(e.start(),e.onIdle().then((()=>{r===e&&(r=null)}))))),o},writeLock:()=>(r=null,u(n,t))}})(e,t)),c[e]),e.exports.Worker=function(e,t){let r;t=t||n.g.Worker;try{r=new t(e)}catch(o){o.message.includes("not a constructor")&&(r=t(e))}if(!r)throw new Error("Could not create Worker from",t);return a(r),r}},36381:(e,t,n)=>{const{Multiaddr:r}=n(10006),o=(e,t)=>t,i={ip4:o,ip6:(e,t,n,r)=>1===r.length&&"ip6"===r[0].protocol?t:`[${t}]`,tcp:(e,t,n,r,o)=>r.some((e=>["http","https","ws","wss"].includes(e.protocol)))?`${e}:${t}`:((e,t,n,r)=>{if(r&&!1===r.assumeHttp)return`tcp://${e}:${t}`;let o="tcp",i=`:${t}`;return"tcp"===n[n.length-1].protocol&&(o="443"===t?"https":"http",i="443"===t||"80"===t?"":i),`${o}://${e}${i}`})(e,t,r,o),udp:(e,t)=>`udp://${e}:${t}`,dnsaddr:o,dns4:o,dns6:o,ipfs:(e,t)=>`${e}/ipfs/${t}`,p2p:(e,t)=>`${e}/p2p/${t}`,http:e=>`http://${e}`,https:e=>`https://${e}`,ws:e=>`ws://${e}`,wss:e=>`wss://${e}`,"p2p-websocket-star":e=>`${e}/p2p-websocket-star`,"p2p-webrtc-star":e=>`${e}/p2p-webrtc-star`,"p2p-webrtc-direct":e=>`${e}/p2p-webrtc-direct`};e.exports=(e,t)=>{const n=new r(e),o=e.toString().split("/").slice(1);return n.tuples().map((e=>({protocol:o.shift(),content:e[1]?o.shift():null}))).reduce(((e,n,r,o)=>{const s=i[n.protocol];if(!s)throw new Error(`Unsupported protocol ${n.protocol}`);return s(e,n.content,r,o,t)}),"")}},578:(e,t,n)=>{"use strict";var r=n(61250);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},43091:(e,t,n)=>{e.exports=n(578)()},61250:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},17134:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>_});var r,o=n(92950),i=n.n(o),s=Object.defineProperty,a=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&u(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&u(e,n,t[n]);return e},p=(e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n};(e=>{const t=class{constructor(e,n,r,o){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw"Version value out of range";if(o<-1||o>7)throw"Mask value out of range";this.size=4*e+17;let s=[];for(let t=0;t<this.size;t++)s.push(!1);for(let t=0;t<this.size;t++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();const a=this.addEccAndInterleave(r);if(this.drawCodewords(a),-1==o){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const n=this.getPenaltyScore();n<e&&(o=t,e=n),this.applyMask(t)}}i(0<=o&&o<=7),this.mask=o,this.applyMask(o),this.drawFormatBits(o),this.isFunction=[]}static encodeText(n,r){const o=e.QrSegment.makeSegments(n);return t.encodeSegments(o,r)}static encodeBinary(n,r){const o=e.QrSegment.makeBytes(n);return t.encodeSegments([o],r)}static encodeSegments(e,n){let o,s,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:40,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,d=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(!(t.MIN_VERSION<=c&&c<=l&&l<=t.MAX_VERSION)||u<-1||u>7)throw"Invalid value";for(o=c;;o++){const r=8*t.getNumDataCodewords(o,n),i=a.getTotalBits(e,o);if(i<=r){s=i;break}if(o>=l)throw"Data too long"}for(const r of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])d&&s<=8*t.getNumDataCodewords(o,r)&&(n=r);let p=[];for(const t of e){r(t.mode.modeBits,4,p),r(t.numChars,t.mode.numCharCountBits(o),p);for(const e of t.getData())p.push(e)}i(p.length==s);const h=8*t.getNumDataCodewords(o,n);i(p.length<=h),r(0,Math.min(4,h-p.length),p),r(0,(8-p.length%8)%8,p),i(p.length%8==0);for(let t=236;p.length<h;t^=253)r(t,8,p);let f=[];for(;8*f.length<p.length;)f.push(0);return p.forEach(((e,t)=>f[t>>>3]|=e<<7-(7&t))),new t(o,n,f,u)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2==0),this.setFunctionModule(n,6,n%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)0==n&&0==r||0==n&&r==t-1||n==t-1&&0==r||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let n=t;for(let o=0;o<10;o++)n=n<<1^1335*(n>>>9);const r=21522^(t<<10|n);i(r>>>15==0);for(let i=0;i<=5;i++)this.setFunctionModule(8,i,o(r,i));this.setFunctionModule(8,7,o(r,6)),this.setFunctionModule(8,8,o(r,7)),this.setFunctionModule(7,8,o(r,8));for(let i=9;i<15;i++)this.setFunctionModule(14-i,8,o(r,i));for(let i=0;i<8;i++)this.setFunctionModule(this.size-1-i,8,o(r,i));for(let i=8;i<15;i++)this.setFunctionModule(8,this.size-15+i,o(r,i));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;i(t>>>18==0);for(let n=0;n<18;n++){const e=o(t,n),r=this.size-11+n%3,i=Math.floor(n/3);this.setFunctionModule(r,i,e),this.setFunctionModule(i,r,e)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const o=Math.max(Math.abs(r),Math.abs(n)),i=e+r,s=t+n;0<=i&&i<this.size&&0<=s&&s<this.size&&this.setFunctionModule(i,s,2!=o&&4!=o)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,1!=Math.max(Math.abs(r),Math.abs(n)))}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){const n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw"Invalid argument";const o=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],s=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],a=Math.floor(t.getNumRawDataModules(n)/8),c=o-a%o,l=Math.floor(a/o);let u=[];const d=t.reedSolomonComputeDivisor(s);for(let i=0,h=0;i<o;i++){let n=e.slice(h,h+l-s+(i<c?0:1));h+=n.length;const r=t.reedSolomonComputeRemainder(n,d);i<c&&n.push(0),u.push(n.concat(r))}let p=[];for(let t=0;t<u[0].length;t++)u.forEach(((e,n)=>{(t!=l-s||n>=c)&&p.push(e[t])}));return i(p.length==a),p}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw"Invalid argument";let n=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let r=0;r<this.size;r++)for(let i=0;i<2;i++){const s=t-i,a=0==(t+1&2)?this.size-1-r:r;!this.isFunction[a][s]&&n<8*e.length&&(this.modules[a][s]=o(e[n>>>3],7-(7&n)),n++)}}i(n==8*e.length)}applyMask(e){if(e<0||e>7)throw"Mask value out of range";for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw"Unreachable"}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let i=0;i<this.size;i++){let n=!1,r=0,o=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[i][s]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,o),n||(e+=this.finderPenaltyCountPatterns(o)*t.PENALTY_N3),n=this.modules[i][s],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,o)*t.PENALTY_N3}for(let i=0;i<this.size;i++){let n=!1,r=0,o=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[s][i]==n?(r++,5==r?e+=t.PENALTY_N1:r>5&&e++):(this.finderPenaltyAddHistory(r,o),n||(e+=this.finderPenaltyCountPatterns(o)*t.PENALTY_N3),n=this.modules[s][i],r=1);e+=this.finderPenaltyTerminateAndCount(n,r,o)*t.PENALTY_N3}for(let i=0;i<this.size-1;i++)for(let n=0;n<this.size-1;n++){const r=this.modules[i][n];r==this.modules[i][n+1]&&r==this.modules[i+1][n]&&r==this.modules[i+1][n+1]&&(e+=t.PENALTY_N2)}let n=0;for(const t of this.modules)n=t.reduce(((e,t)=>e+(t?1:0)),n);const r=this.size*this.size,o=Math.ceil(Math.abs(20*n-10*r)/r)-1;return i(0<=o&&o<=9),e+=o*t.PENALTY_N4,i(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw"Version number out of range";let n=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return i(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw"Degree out of range";let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let r=1;for(let o=0;o<e;o++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],r),e+1<n.length&&(n[e]^=n[e+1]);r=t.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(e,n){let r=n.map((e=>0));for(const o of e){const e=o^r.shift();r.push(0),n.forEach(((n,o)=>r[o]^=t.reedSolomonMultiply(n,e)))}return r}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw"Byte out of range";let n=0;for(let r=7;r>=0;r--)n=n<<1^285*(n>>>7),n^=(t>>>r&1)*e;return i(n>>>8==0),n}finderPenaltyCountPatterns(e){const t=e[1];i(t<=3*this.size);const n=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(n&&e[0]>=4*t&&e[6]>=t?1:0)+(n&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};let n=t;function r(e,t,n){if(t<0||t>31||e>>>t!=0)throw"Value out of range";for(let r=t-1;r>=0;r--)n.push(e>>>r&1)}function o(e,t){return 0!=(e>>>t&1)}function i(e){if(!e)throw"Assertion error"}n.MIN_VERSION=1,n.MAX_VERSION=40,n.PENALTY_N1=3,n.PENALTY_N2=3,n.PENALTY_N3=40,n.PENALTY_N4=10,n.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],n.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=n;const s=class{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw"Invalid argument";this.bitData=n.slice()}static makeBytes(e){let t=[];for(const n of e)r(n,8,t);return new s(s.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!s.isNumeric(e))throw"String contains non-numeric characters";let t=[];for(let n=0;n<e.length;){const o=Math.min(e.length-n,3);r(parseInt(e.substr(n,o),10),3*o+1,t),n+=o}return new s(s.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!s.isAlphanumeric(e))throw"String contains unencodable characters in alphanumeric mode";let t,n=[];for(t=0;t+2<=e.length;t+=2){let o=45*s.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));o+=s.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),r(o,11,n)}return t<e.length&&r(s.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,n),new s(s.Mode.ALPHANUMERIC,e.length,n)}static makeSegments(e){return""==e?[]:s.isNumeric(e)?[s.makeNumeric(e)]:s.isAlphanumeric(e)?[s.makeAlphanumeric(e)]:[s.makeBytes(s.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw"ECI assignment value out of range";if(e<128)r(e,8,t);else if(e<16384)r(2,2,t),r(e,14,t);else{if(!(e<1e6))throw"ECI assignment value out of range";r(6,3,t),r(e,21,t)}return new s(s.Mode.ECI,0,t)}static isNumeric(e){return s.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return s.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(const r of e){const e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;n+=4+e+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)"%"!=e.charAt(n)?t.push(e.charCodeAt(n)):(t.push(parseInt(e.substr(n+1,2),16)),n+=2);return t}};let a=s;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(r||(r={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};let n=t;n.LOW=new t(0,1),n.MEDIUM=new t(1,0),n.QUARTILE=new t(2,3),n.HIGH=new t(3,2),e.Ecc=n})(t=e.QrCode||(e.QrCode={}))})(r||(r={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};let n=t;n.NUMERIC=new t(1,[10,12,14]),n.ALPHANUMERIC=new t(2,[9,11,13]),n.BYTE=new t(4,[8,16,16]),n.KANJI=new t(8,[8,10,12]),n.ECI=new t(7,[0,0,0]),e.Mode=n})(t=e.QrSegment||(e.QrSegment={}))})(r||(r={}));var h=r,f={L:h.QrCode.Ecc.LOW,M:h.QrCode.Ecc.MEDIUM,Q:h.QrCode.Ecc.QUARTILE,H:h.QrCode.Ecc.HIGH},g={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1};function y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=[];return e.forEach((function(e,r){let o=null;e.forEach((function(i,s){if(!i&&null!==o)return n.push(`M${o+t} ${r+t}h${s-o}v1H${o+t}z`),void(o=null);if(s!==e.length-1)i&&null===o&&(o=s);else{if(!i)return;null===o?n.push(`M${s+t},${r+t} h1v1H${s+t}z`):n.push(`M${o+t},${r+t} h${s+1-o}v1H${o+t}z`)}}))})),n.join("")}function m(e,t){return e.slice().map(((e,n)=>n<t.y||n>=t.y+t.h?e:e.map(((e,n)=>(n<t.x||n>=t.x+t.w)&&e))))}function b(e,t){const{imageSettings:n,size:r,includeMargin:o}=e;if(null==n)return null;const i=o?4:0,s=t.length+2*i,a=Math.floor(.1*r),c=s/r,l=(n.width||a)*c,u=(n.height||a)*c,d=null==n.x?t.length/2-l/2:n.x*c,p=null==n.y?t.length/2-u/2:n.y*c;let h=null;if(n.excavate){let e=Math.floor(d),t=Math.floor(p);h={x:e,y:t,w:Math.ceil(l+d-e),h:Math.ceil(u+p-t)}}return{x:d,y:p,h:u,w:l,excavation:h}}var v=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}();function w(e){const t=(0,o.useRef)(null),n=(0,o.useRef)(null);function r(){const{value:r,size:o,level:i,bgColor:s,fgColor:a,includeMargin:c}=e;if(null!=t.current){const l=t.current,u=l.getContext("2d");if(!u)return;let d=h.QrCode.encodeText(r,f[i]).getModules();const p=c?4:0,g=d.length+2*p,w=b(e,d),k=n.current,_=null!=w&&null!==k&&k.complete&&0!==k.naturalHeight&&0!==k.naturalWidth;_&&null!=w.excavation&&(d=m(d,w.excavation));const E=window.devicePixelRatio||1;l.height=l.width=o*E;const S=o/g*E;u.scale(S,S),u.fillStyle=s,u.fillRect(0,0,g,g),u.fillStyle=a,v?u.fill(new Path2D(y(d,p))):d.forEach((function(e,t){e.forEach((function(e,n){e&&u.fillRect(n+p,t+p,1,1)}))})),_&&u.drawImage(k,w.x+p,w.y+p,w.w,w.h)}}(0,o.useEffect)((()=>{r()}));const s=e,{value:a,size:c,level:l,bgColor:u,fgColor:g,style:w,includeMargin:k,imageSettings:_}=s,E=p(s,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),S=d({height:c,width:c},w);let C=null,x=null==_?void 0:_.src;return null!=x&&(C=i().createElement("img",{src:x,key:x,style:{display:"none"},onLoad:()=>{r()},ref:n})),i().createElement(i().Fragment,null,i().createElement("canvas",d({style:S,height:c,width:c,ref:t},E)),C)}function k(e){const t=e,{value:n,size:r,level:o,bgColor:s,fgColor:a,includeMargin:c,imageSettings:l}=t,u=p(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let g=h.QrCode.encodeText(n,f[o]).getModules();const v=c?4:0,w=g.length+2*v,k=b(e,g);let _=null;null!=l&&null!=k&&(null!=k.excavation&&(g=m(g,k.excavation)),_=i().createElement("image",{xlinkHref:l.src,height:k.h,width:k.w,x:k.x+v,y:k.y+v,preserveAspectRatio:"none"}));const E=y(g,v);return i().createElement("svg",d({shapeRendering:"crispEdges",height:r,width:r,viewBox:`0 0 ${w} ${w}`},u),i().createElement("path",{fill:s,d:`M0,0 h${w}v${w}H0z`}),i().createElement("path",{fill:a,d:E}),_)}w.defaultProps=g,k.defaultProps=g;var _=e=>{const t=e,{renderAs:n}=t,r=p(t,["renderAs"]),o="svg"===n?k:w;return i().createElement(o,d({},r))};_.defaultProps=d({renderAs:"canvas"},g)},9517:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var o=a(n(92950)),i=a(n(29548)),s=["text","onCopy","options","children"];function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},h(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return y(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(c,e);var t,n,r,a=f(c);function c(){var e;d(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(y(e=a.call.apply(a,[this].concat(n))),"onClick",(function(t){var n=e.props,r=n.text,s=n.onCopy,a=n.children,c=n.options,l=o.default.Children.only(a),u=(0,i.default)(r,c);s&&s(r,u),l&&l.props&&"function"===typeof l.props.onClick&&l.props.onClick(t)})),e}return t=c,(n=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),n=u(e,s),r=o.default.Children.only(t);return o.default.cloneElement(r,l(l({},n),{},{onClick:this.onClick}))}}])&&p(t.prototype,n),r&&p(t,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.default.PureComponent);t.CopyToClipboard=v,b(v,"defaultProps",{onCopy:void 0,options:void 0})},51518:(e,t,n)=>{"use strict";var r=n(9517).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},98917:(e,t,n)=>{"use strict";n.d(t,{oR:()=>u});var r=n(15861),o=n(87757),i=n.n(o),s=(n(45263),function(e){var t=e.url,n=e.module;return[t,e.scope,n].join()}),a=function(e){var t=s(e),n=document.getElementById(t);if(n)return window[e.scope]?Promise.resolve(!0):new Promise((function(e){n.onload=function(t){e(!0)}}));var r=document.createElement("script");r.src=e.url,r.type="text/javascript",r.async=!0,r.id=t;var o=new Promise((function(e,t){r.onload=function(){return e(r)},r.onerror=function(e){t(e)}}));return document.head.appendChild(r),o},c=function(e,t,o){return(0,r.Z)(i().mark((function r(){var s,a,c,l;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,n.I("default");case 3:if((s=window[t]).isInitialized){r.next=8;break}return s.isInitialized=!0,r.next=8,s.init(n.S.default);case 8:return r.next=10,window[t].get(o);case 10:return a=r.sent,c=a(),r.abrupt("return",c);case 15:throw r.prev=15,r.t0=r.catch(0),(l=new Error("There was a problem loading the remote module. Please check the parameters (url: ".concat(e," scope: ").concat(t," module: ").concat(o,")"))).name="RemoteModuleLoadingError",l;case 20:case"end":return r.stop()}}),r,null,[[0,15]])})))},l=function(e){window.remoteObjectDictionary=window.remoteObjectDictionary||{};var t=s(e),n=window.remoteObjectDictionary[t];if(n)return n();var o=function(e){var t,n="pending",r=e.then((function(e){n="success",t=e}),(function(e){n="error",t=e}));return function(){switch(n){case"pending":throw r;case"error":throw t;default:return t}}}(function(e){window.remoteModuleDictionary=window.remoteModuleDictionary||{};var t=s(e);return window.remoteModuleDictionary[t]||(window.remoteModuleDictionary[t]=new Promise(function(){var t=(0,r.Z)(i().mark((function t(n,r){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a(e);case 3:return t.next=5,c(e.url,e.scope,e.module)();case 5:o=t.sent,n(o),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()),window.remoteModuleDictionary[t])}(e));return window.remoteObjectDictionary[t]=o,o()},u=function(e){return l(e)}},47159:e=>{"use strict";e.exports={set:function(e,t,n){if(e&&"object"==typeof e){if("string"==typeof t&&""!==t){var r=t.split(".");return r.reduce((function(e,t,o){const i=Number.isInteger(Number(r[o+1]));return e[t]=e[t]||(i?[]:{}),r.length==o+1&&(e[t]=n),e[t]}),e)}return"number"==typeof t?(e[t]=n,e[t]):e}return e},get:function(e,t){return e&&"object"==typeof e?"string"==typeof t&&""!==t?t.split(".").reduce((function(e,t){return e&&e[t]}),e):"number"==typeof t?e[t]:e:e},has:function(e,t,n){return n=n||{},!(!e||"object"!=typeof e)&&("string"==typeof t&&""!==t?t.split(".").reduce((function(e,t,r,o){return r==o.length-1?n.own?!(!e||!e.hasOwnProperty(t)):!(null===e||"object"!=typeof e||!(t in e)):e&&e[t]}),e):"number"==typeof t&&t in e)},hasOwn:function(e,t,n){return this.has(e,t,n||{own:!0})},isIn:function(e,t,n,r){if(r=r||{},e&&"object"==typeof e){if("string"==typeof t&&""!==t){var o,i=t.split("."),s=!1;return o=!!i.reduce((function(e,t){return s=s||e===n||!!e&&e[t]===n,e&&e[t]}),e),r.validPath?s&&o:s}return!1}return!1}}},4486:(e,t,n)=>{"use strict";var r=n(76341),o=n(47159);function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return"number"===typeof e}))}t.Z=function(e,t){if(!e||!t)throw new Error("Missing required parameters");return{changed:function(n){var i=o.get(e,n),s=o.get(t,n);return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(Array.isArray)}(i,s)||function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){if(!e)return!1;var t=Object.getPrototypeOf(e);return"Object"===Object.prototype.toString.call(e).slice(8,-1)&&(null===t||t===Object.getPrototypeOf({}))}))}(i,s)?!!r.diff(i,s):i!==s},changedFrom:function(n,r,i){if("undefined"===typeof n)throw new Error("Key parameter is required");var s="undefined"!==typeof r&&"undefined"!==typeof i,a=o.get(e,n),c=o.get(t,n),l=Array.isArray(r)?r.indexOf(a)>=0:a===r,u=Array.isArray(i)?i.indexOf(c)>=0:c===i;return l&&(s?u:!s)},changedTo:function(n,r){if("undefined"===typeof n)throw new Error("Key parameter is required");var i=o.get(e,n),s=o.get(t,n),a=Array.isArray(r)?r.indexOf(i)<0:i!==r,c=Array.isArray(r)?r.indexOf(s)>=0:s===r;return a&&c},increased:function(n){if("undefined"===typeof n)throw new Error("Key parameter is required");return i(o.get(e,n),o.get(t,n))&&o.get(e,n)<o.get(t,n)},decreased:function(n){if("undefined"===typeof n)throw new Error("Key parameter is required");return i(o.get(e,n),o.get(t,n))&&o.get(e,n)>o.get(t,n)}}}},33016:(e,t,n)=>{"use strict";n.d(t,{FP:()=>Vt,Q_:()=>Yt,ZP:()=>qn});var r=n(92950),o=n.n(r);function i(e){return function(t){return typeof t===e}}var s=i("function"),a=function(e){return"RegExp"===Object.prototype.toString.call(e).slice(8,-1)},c=function(e){return!l(e)&&!function(e){return null===e}(e)&&(s(e)||"object"===typeof e)},l=i("undefined"),u=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function d(e,t){if(e===t)return!0;if(e&&c(e)&&t&&c(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=n;0!==r--;)if(!d(e[r],t[r]))return!1;return!0}(e,t);if(e instanceof Map&&t instanceof Map)return function(e,t){var n,r,o,i;if(e.size!==t.size)return!1;try{for(var s=u(e.entries()),a=s.next();!a.done;a=s.next()){var c=a.value;if(!t.has(c[0]))return!1}}catch(h){n={error:h}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var l=u(e.entries()),p=l.next();!p.done;p=l.next())if(!d((c=p.value)[1],t.get(c[0])))return!1}catch(f){o={error:f}}finally{try{p&&!p.done&&(i=l.return)&&i.call(l)}finally{if(o)throw o.error}}return!0}(e,t);if(e instanceof Set&&t instanceof Set)return function(e,t){var n,r;if(e.size!==t.size)return!1;try{for(var o=u(e.entries()),i=o.next();!i.done;i=o.next()){var s=i.value;if(!t.has(s[0]))return!1}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0}(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e.buffer),r=new DataView(t.buffer),o=e.byteLength;o--;)if(n.getUint8(o)!==r.getUint8(o))return!1;return!0}(e,t);if(a(e)&&a(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=n.length;0!==o--;)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(o=n.length;0!==o--;){var i=n[o];if(("_owner"!==i||!e.$$typeof)&&!d(e[i],t[i]))return!1}return!0}return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t}var p=["innerHTML","ownerDocument","style","attributes","nodeValue"],h=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],f=["bigint","boolean","null","number","string","symbol","undefined"];function g(e){var t,n=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(n)?"HTMLElement":(t=n,h.includes(t)?n:void 0)}function y(e){return function(t){return g(t)===e}}function m(e){return function(t){return typeof t===e}}function b(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(b.array(e))return"Array";if(b.plainFunction(e))return"Function";var t=g(e);return t||"Object"}b.array=Array.isArray,b.arrayOf=function(e,t){return!(!b.array(e)&&!b.function(t))&&e.every((function(e){return t(e)}))},b.asyncGeneratorFunction=function(e){return"AsyncGeneratorFunction"===g(e)},b.asyncFunction=y("AsyncFunction"),b.bigint=m("bigint"),b.boolean=function(e){return!0===e||!1===e},b.date=y("Date"),b.defined=function(e){return!b.undefined(e)},b.domElement=function(e){return b.object(e)&&!b.plainObject(e)&&1===e.nodeType&&b.string(e.nodeName)&&p.every((function(t){return t in e}))},b.empty=function(e){return b.string(e)&&0===e.length||b.array(e)&&0===e.length||b.object(e)&&!b.map(e)&&!b.set(e)&&0===Object.keys(e).length||b.set(e)&&0===e.size||b.map(e)&&0===e.size},b.error=y("Error"),b.function=m("function"),b.generator=function(e){return b.iterable(e)&&b.function(e.next)&&b.function(e.throw)},b.generatorFunction=y("GeneratorFunction"),b.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},b.iterable=function(e){return!b.nullOrUndefined(e)&&b.function(e[Symbol.iterator])},b.map=y("Map"),b.nan=function(e){return Number.isNaN(e)},b.null=function(e){return null===e},b.nullOrUndefined=function(e){return b.null(e)||b.undefined(e)},b.number=function(e){return m("number")(e)&&!b.nan(e)},b.numericString=function(e){return b.string(e)&&e.length>0&&!Number.isNaN(Number(e))},b.object=function(e){return!b.nullOrUndefined(e)&&(b.function(e)||"object"===typeof e)},b.oneOf=function(e,t){return!!b.array(e)&&e.indexOf(t)>-1},b.plainFunction=y("Function"),b.plainObject=function(e){if("Object"!==g(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},b.primitive=function(e){return b.null(e)||(t=typeof e,f.includes(t));var t},b.promise=y("Promise"),b.propertyOf=function(e,t,n){if(!b.object(e)||!t)return!1;var r=e[t];return b.function(n)?n(r):b.defined(r)},b.regexp=y("RegExp"),b.set=y("Set"),b.string=m("string"),b.symbol=m("symbol"),b.undefined=m("undefined"),b.weakMap=y("WeakMap"),b.weakSet=y("WeakSet");const v=b;function w(e,t,n){var r=n.actual,o=n.key,i=n.previous,s=n.type,a=A(e,o),c=A(t,o),l=[a,c].every(v.number)&&("increased"===s?a<c:a>c);return v.undefined(r)||(l=l&&c===r),v.undefined(i)||(l=l&&a===i),l}function k(e,t,n){var r=n.key,o=n.type,i=n.value,s=A(e,r),a=A(t,r),c="added"===o?s:a,l="added"===o?a:s;return v.nullOrUndefined(i)?[s,a].every(v.array)?!l.every(x(c)):[s,a].every(v.plainObject)?function(e,t){return t.some((function(t){return!e.includes(t)}))}(Object.keys(c),Object.keys(l)):![s,a].every((function(e){return v.primitive(e)&&v.defined(e)}))&&("added"===o?!v.defined(s)&&v.defined(a):v.defined(s)&&!v.defined(a)):v.defined(c)?!(!v.array(c)&&!v.plainObject(c))&&function(e,t,n){return!!I(e,t)&&([e,t].every(v.array)?!e.some(S(n))&&t.some(S(n)):[e,t].every(v.plainObject)?!Object.entries(e).some(E(n))&&Object.entries(t).some(E(n)):t===n)}(c,l,i):d(l,i)}function _(e,t,n){var r=(void 0===n?{}:n).key,o=A(e,r),i=A(t,r);if(!I(o,i))throw new TypeError("Inputs have different types");if(!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return v.string(e)||v.array(e)||v.plainObject(e)}))}(o,i))throw new TypeError("Inputs don't have length");return[o,i].every(v.plainObject)&&(o=Object.keys(o),i=Object.keys(i)),[o,i]}function E(e){return function(t){var n=t[0],r=t[1];return v.array(e)?d(e,r)||e.some((function(e){return d(e,r)||v.array(r)&&x(r)(e)})):v.plainObject(e)&&e[n]?!!e[n]&&d(e[n],r):d(e,r)}}function S(e){return function(t){return v.array(e)?e.some((function(e){return d(e,t)||v.array(t)&&x(t)(e)})):d(e,t)}}function C(e,t){return v.array(e)?e.some((function(e){return d(e,t)})):d(e,t)}function x(e){return function(t){return e.some((function(e){return d(e,t)}))}}function I(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(v.array)||e.every(v.number)||e.every(v.plainObject)||e.every(v.string)}function A(e,t){return v.plainObject(e)||v.array(e)?v.string(t)?t.split(".").reduce((function(e,t){return e&&e[t]}),e):v.number(t)?e[t]:e:e}function P(e,t){if([e,t].some(v.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every((function(e){return v.plainObject(e)||v.array(e)})))throw new Error("Expected plain objects or array");var n=function(n,r,o){try{var i=A(e,n),s=A(t,n),a=v.defined(r),c=v.defined(o);if(a||c){var l=c?C(o,i):!C(r,i),u=C(r,s);return l&&u}return[i,s].every(v.array)||[i,s].every(v.plainObject)?!d(i,s):i!==s}catch(p){return!1}};return{added:function(n,r){try{return k(e,t,{key:n,type:"added",value:r})}catch(o){return!1}},changed:n,changedFrom:function(n,r,o){if(!v.defined(n))return!1;try{var i=A(e,n),s=A(t,n),a=v.defined(o);return C(r,i)&&(a?C(o,s):!a)}catch(c){return!1}},changedTo:function(e,t){return!!v.defined(e)&&n(e,t)},decreased:function(n,r,o){if(!v.defined(n))return!1;try{return w(e,t,{key:n,actual:r,previous:o,type:"decreased"})}catch(i){return!1}},emptied:function(n){try{var r=_(e,t,{key:n}),o=r[0],i=r[1];return!!o.length&&!i.length}catch(s){return!1}},filled:function(n){try{var r=_(e,t,{key:n}),o=r[0],i=r[1];return!o.length&&!!i.length}catch(s){return!1}},increased:function(n,r,o){if(!v.defined(n))return!1;try{return w(e,t,{key:n,actual:r,previous:o,type:"increased"})}catch(i){return!1}},removed:function(n,r){try{return k(e,t,{key:n,type:"removed",value:r})}catch(o){return!1}}}}var R=n(12181),O=n.n(R),T=n(14361),D=n.n(T),M=n(22232),N=n.n(M),j=n(88199),L=n.n(j),B=n(85547),z=n(99693),F=n.n(z),U=n(43091),$=n.n(U),W=n(94701),q="undefined"!==typeof window&&"undefined"!==typeof document&&"undefined"!==typeof navigator,H=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(q&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}();var K=q&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),H))}};function G(e){return e&&"[object Function]"==={}.toString.call(e)}function V(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function X(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function Y(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=V(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:Y(X(e))}function Z(e){return e&&e.referenceNode?e.referenceNode:e}var J=q&&!(!window.MSInputMethodContext||!document.documentMode),Q=q&&/MSIE 10/.test(navigator.userAgent);function ee(e){return 11===e?J:10===e?Q:J||Q}function te(e){if(!e)return document.documentElement;for(var t=ee(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===V(n,"position")?te(n):n:e?e.ownerDocument.documentElement:document.documentElement}function ne(e){return null!==e.parentNode?ne(e.parentNode):e}function re(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var s=i.commonAncestorContainer;if(e!==s&&t!==s||r.contains(o))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||te(e.firstElementChild)===e)}(s)?s:te(s);var a=ne(e);return a.host?re(a.host,t):re(e,ne(t).host)}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var o=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||o;return i[n]}return e[n]}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=oe(t,"top"),o=oe(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}function se(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function ae(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],ee(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function ce(e){var t=e.body,n=e.documentElement,r=ee(10)&&getComputedStyle(n);return{height:ae("Height",t,n,r),width:ae("Width",t,n,r)}}var le=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ue=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),de=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function he(e){return pe({},e,{right:e.left+e.width,bottom:e.top+e.height})}function fe(e){var t={};try{if(ee(10)){t=e.getBoundingClientRect();var n=oe(e,"top"),r=oe(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(d){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?ce(e.ownerDocument):{},s=i.width||e.clientWidth||o.width,a=i.height||e.clientHeight||o.height,c=e.offsetWidth-s,l=e.offsetHeight-a;if(c||l){var u=V(e);c-=se(u,"x"),l-=se(u,"y"),o.width-=c,o.height-=l}return he(o)}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ee(10),o="HTML"===t.nodeName,i=fe(e),s=fe(t),a=Y(e),c=V(t),l=parseFloat(c.borderTopWidth),u=parseFloat(c.borderLeftWidth);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=he({top:i.top-s.top-l,left:i.left-s.left-u,width:i.width,height:i.height});if(d.marginTop=0,d.marginLeft=0,!r&&o){var p=parseFloat(c.marginTop),h=parseFloat(c.marginLeft);d.top-=l-p,d.bottom-=l-p,d.left-=u-h,d.right-=u-h,d.marginTop=p,d.marginLeft=h}return(r&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(d=ie(d,t)),d}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=ge(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:oe(n),a=t?0:oe(n,"left"),c={top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:o,height:i};return he(c)}function me(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===V(e,"position"))return!0;var n=X(e);return!!n&&me(n)}function be(e){if(!e||!e.parentElement||ee())return document.documentElement;for(var t=e.parentElement;t&&"none"===V(t,"transform");)t=t.parentElement;return t||document.documentElement}function ve(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},s=o?be(e):re(e,Z(t));if("viewport"===r)i=ye(s,o);else{var a=void 0;"scrollParent"===r?"BODY"===(a=Y(X(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===r?e.ownerDocument.documentElement:r;var c=ge(a,s,o);if("HTML"!==a.nodeName||me(s))i=c;else{var l=ce(e.ownerDocument),u=l.height,d=l.width;i.top+=c.top-c.marginTop,i.bottom=u+c.top,i.left+=c.left-c.marginLeft,i.right=d+c.left}}var p="number"===typeof(n=n||0);return i.left+=p?n:n.left||0,i.top+=p?n:n.top||0,i.right-=p?n:n.right||0,i.bottom-=p?n:n.bottom||0,i}function we(e){return e.width*e.height}function ke(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=ve(n,r,i,o),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},c=Object.keys(a).map((function(e){return pe({key:e},a[e],{area:we(a[e])})})).sort((function(e,t){return t.area-e.area})),l=c.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=l.length>0?l[0].key:c[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function _e(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r?be(t):re(t,Z(n));return ge(n,o,r)}function Ee(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function Se(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function Ce(e,t,n){n=n.split("-")[0];var r=Ee(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),s=i?"top":"left",a=i?"left":"top",c=i?"height":"width",l=i?"width":"height";return o[s]=t[s]+t[c]/2-r[c]/2,o[a]=n===a?t[a]-r[l]:t[Se(a)],o}function xe(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function Ie(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=xe(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&G(n)&&(t.offsets.popper=he(t.offsets.popper),t.offsets.reference=he(t.offsets.reference),t=n(t,e))})),t}function Ae(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=_e(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=ke(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=Ce(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=Ie(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function Pe(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function Re(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if("undefined"!==typeof document.body.style[i])return i}return null}function Oe(){return this.state.isDestroyed=!0,Pe(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[Re("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function Te(e){var t=e.ownerDocument;return t?t.defaultView:window}function De(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||De(Y(i.parentNode),t,n,r),r.push(i)}function Me(e,t,n,r){n.updateBound=r,Te(e).addEventListener("resize",n.updateBound,{passive:!0});var o=Y(e);return De(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function Ne(){this.state.eventsEnabled||(this.state=Me(this.reference,this.options,this.state,this.scheduleUpdate))}function je(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,Te(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Le(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Be(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Le(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var ze=q&&/Firefox/i.test(navigator.userAgent);function Fe(e,t,n){var r=xe(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var Ue=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],$e=Ue.slice(3);function We(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=$e.indexOf(e),r=$e.slice(n+1).concat($e.slice(0,n));return t?r.reverse():r}var qe="flip",He="clockwise",Ke="counterclockwise";function Ge(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(xe(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==a?[s.slice(0,a).concat([s[a].split(c)[0]]),[s[a].split(c)[1]].concat(s.slice(a+1))]:[s];return l=l.map((function(e,r){var o=(1===r?!i:i)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],s=o[2];if(!i)return e;if(0===s.indexOf("%")){return he("%p"===s?n:r)[t]/100*i}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i;return i}(e,o,t,n)}))})),l.forEach((function(e,t){e.forEach((function(n,r){Le(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}var Ve={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,s=o.popper,a=-1!==["bottom","top"].indexOf(n),c=a?"left":"top",l=a?"width":"height",u={start:de({},c,i[c]),end:de({},c,i[c]+i[l]-s[l])};e.offsets.popper=pe({},s,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,o=e.offsets,i=o.popper,s=o.reference,a=r.split("-")[0],c=void 0;return c=Le(+n)?[+n,0]:Ge(n,i,s,a),"left"===a?(i.top+=c[0],i.left-=c[1]):"right"===a?(i.top+=c[0],i.left+=c[1]):"top"===a?(i.left+=c[0],i.top-=c[1]):"bottom"===a&&(i.left+=c[0],i.top+=c[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||te(e.instance.popper);e.instance.reference===n&&(n=te(n));var r=Re("transform"),o=e.instance.popper.style,i=o.top,s=o.left,a=o[r];o.top="",o.left="",o[r]="";var c=ve(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=s,o[r]=a,t.boundaries=c;var l=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<c[e]&&!t.escapeWithReference&&(n=Math.max(u[e],c[e])),de({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>c[e]&&!t.escapeWithReference&&(r=Math.min(u[n],c[e]-("right"===e?u.width:u.height))),de({},n,r)}};return l.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=pe({},u,d[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,s=-1!==["top","bottom"].indexOf(o),a=s?"right":"bottom",c=s?"left":"top",l=s?"width":"height";return n[a]<i(r[c])&&(e.offsets.popper[c]=i(r[c])-n[l]),n[c]>i(r[a])&&(e.offsets.popper[c]=i(r[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Fe(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"===typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,s=i.popper,a=i.reference,c=-1!==["left","right"].indexOf(o),l=c?"height":"width",u=c?"Top":"Left",d=u.toLowerCase(),p=c?"left":"top",h=c?"bottom":"right",f=Ee(r)[l];a[h]-f<s[d]&&(e.offsets.popper[d]-=s[d]-(a[h]-f)),a[d]+f>s[h]&&(e.offsets.popper[d]+=a[d]+f-s[h]),e.offsets.popper=he(e.offsets.popper);var g=a[d]+a[l]/2-f/2,y=V(e.instance.popper),m=parseFloat(y["margin"+u]),b=parseFloat(y["border"+u+"Width"]),v=g-e.offsets.popper[d]-m-b;return v=Math.max(Math.min(s[l]-f,v),0),e.arrowElement=r,e.offsets.arrow=(de(n={},d,Math.round(v)),de(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(Pe(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=ve(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=Se(r),i=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case qe:s=[r,o];break;case He:s=We(r);break;case Ke:s=We(r,!0);break;default:s=t.behavior}return s.forEach((function(a,c){if(r!==a||s.length===c+1)return e;r=e.placement.split("-")[0],o=Se(r);var l=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===r&&d(l.right)>d(u.left)||"right"===r&&d(l.left)<d(u.right)||"top"===r&&d(l.bottom)>d(u.top)||"bottom"===r&&d(l.top)<d(u.bottom),h=d(l.left)<d(n.left),f=d(l.right)>d(n.right),g=d(l.top)<d(n.top),y=d(l.bottom)>d(n.bottom),m="left"===r&&h||"right"===r&&f||"top"===r&&g||"bottom"===r&&y,b=-1!==["top","bottom"].indexOf(r),v=!!t.flipVariations&&(b&&"start"===i&&h||b&&"end"===i&&f||!b&&"start"===i&&g||!b&&"end"===i&&y),w=!!t.flipVariationsByContent&&(b&&"start"===i&&f||b&&"end"===i&&h||!b&&"start"===i&&y||!b&&"end"===i&&g),k=v||w;(p||m||k)&&(e.flipped=!0,(p||m)&&(r=s[c+1]),k&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=pe({},e.offsets.popper,Ce(e.instance.popper,e.offsets.reference,e.placement)),e=Ie(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return o[s?"left":"top"]=i[n]-(a?o[s?"width":"height"]:0),e.placement=Se(t),e.offsets.popper=he(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Fe(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=xe(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=xe(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==i?i:t.gpuAcceleration,a=te(e.instance.popper),c=fe(a),l={position:o.position},u=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,s=Math.floor,a=function(e){return e},c=i(o.width),l=i(r.width),u=-1!==["left","right"].indexOf(e.placement),d=-1!==e.placement.indexOf("-"),p=t?u||d||c%2===l%2?i:s:a,h=t?i:a;return{left:p(c%2===1&&l%2===1&&!d&&t?r.left-1:r.left),top:h(r.top),bottom:h(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!ze),d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",h=Re("transform"),f=void 0,g=void 0;if(g="bottom"===d?"HTML"===a.nodeName?-a.clientHeight+u.bottom:-c.height+u.bottom:u.top,f="right"===p?"HTML"===a.nodeName?-a.clientWidth+u.right:-c.width+u.right:u.left,s&&h)l[h]="translate3d("+f+"px, "+g+"px, 0)",l[d]=0,l[p]=0,l.willChange="transform";else{var y="bottom"===d?-1:1,m="right"===p?-1:1;l[d]=g*y,l[p]=f*m,l.willChange=d+", "+p}var b={"x-placement":e.placement};return e.attributes=pe({},b,e.attributes),e.styles=pe({},l,e.styles),e.arrowStyles=pe({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Be(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Be(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=_e(o,t,e,n.positionFixed),s=ke(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),Be(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Xe={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Ve},Ye=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};le(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=K(this.update.bind(this)),this.options=pe({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(pe({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=pe({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return pe({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&G(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return ue(e,[{key:"update",value:function(){return Ae.call(this)}},{key:"destroy",value:function(){return Oe.call(this)}},{key:"enableEventListeners",value:function(){return Ne.call(this)}},{key:"disableEventListeners",value:function(){return je.call(this)}}]),e}();Ye.Utils=("undefined"!==typeof window?window:n.g).PopperUtils,Ye.placements=Ue,Ye.Defaults=Xe;const Ze=Ye;var Je=n(4486);function Qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t,n){return t&&nt(e.prototype,t),n&&nt(e,n),e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&at(e,t)}function st(e){return st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},st(e)}function at(e,t){return at=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},at(e,t)}function ct(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?lt(e):t}function dt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=st(e);if(t){var o=st(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ut(this,n)}}var pt={flip:{padding:20},preventOverflow:{padding:10}},ht={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing",ERROR:"error"},ft=D().canUseDOM,gt=void 0!==O().createPortal;function yt(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function mt(e){var t=e.title,n=e.data,r=e.warn,o=void 0!==r&&r,i=e.debug,s=void 0!==i&&i,a=o?console.warn||console.error:console.log;s&&t&&n&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach((function(e){v.plainObject(e)&&e.key?a.apply(console,[e.key,e.value]):a.apply(console,[e])})):a.apply(console,[n]),console.groupEnd())}function bt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,r)}function vt(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,r)}function wt(){}var kt=function(e){it(n,e);var t=dt(n);function n(e){var r;return tt(this,n),r=t.call(this,e),ft?(r.node=document.createElement("div"),e.id&&(r.node.id=e.id),e.zIndex&&(r.node.style.zIndex=e.zIndex),document.body.appendChild(r.node),r):ut(r)}return rt(n,[{key:"componentDidMount",value:function(){ft&&(gt||this.renderPortal())}},{key:"componentDidUpdate",value:function(){ft&&(gt||this.renderPortal())}},{key:"componentWillUnmount",value:function(){ft&&this.node&&(gt||O().unmountComponentAtNode(this.node),document.body.removeChild(this.node))}},{key:"renderPortal",value:function(){if(!ft)return null;var e=this.props,t=e.children,n=e.setRef;return gt?O().createPortal(t,this.node):(n(O().unstable_renderSubtreeIntoContainer(this,t.length>1?o().createElement("div",null,t):t[0],this.node)),null)}},{key:"renderReact16",value:function(){var e=this.props,t=e.hasChildren,n=e.placement,r=e.target;return t||r||"center"===n?this.renderPortal():null}},{key:"render",value:function(){return gt?this.renderReact16():null}}]),n}(o().Component);ot(kt,"propTypes",{children:$().oneOfType([$().element,$().array]),hasChildren:$().bool,id:$().oneOfType([$().string,$().number]),placement:$().string,setRef:$().func.isRequired,target:$().oneOfType([$().object,$().string]),zIndex:$().number});var _t=function(e){it(n,e);var t=dt(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"parentStyle",get:function(){var e=this.props,t=e.placement,n=e.styles.arrow.length,r={pointerEvents:"none",position:"absolute",width:"100%"};return t.startsWith("top")?(r.bottom=0,r.left=0,r.right=0,r.height=n):t.startsWith("bottom")?(r.left=0,r.right=0,r.top=0,r.height=n):t.startsWith("left")?(r.right=0,r.top=0,r.bottom=0):t.startsWith("right")&&(r.left=0,r.top=0),r}},{key:"render",value:function(){var e,t=this.props,n=t.placement,r=t.setArrowRef,i=t.styles.arrow,s=i.color,a=i.display,c=i.length,l=i.margin,u=i.position,d=i.spread,p={display:a,position:u},h=d,f=c;return n.startsWith("top")?(e="0,0 ".concat(h/2,",").concat(f," ").concat(h,",0"),p.bottom=0,p.marginLeft=l,p.marginRight=l):n.startsWith("bottom")?(e="".concat(h,",").concat(f," ").concat(h/2,",0 0,").concat(f),p.top=0,p.marginLeft=l,p.marginRight=l):n.startsWith("left")?(f=d,e="0,0 ".concat(h=c,",").concat(f/2," 0,").concat(f),p.right=0,p.marginTop=l,p.marginBottom=l):n.startsWith("right")&&(f=d,e="".concat(h=c,",").concat(f," ").concat(h,",0 0,").concat(f/2),p.left=0,p.marginTop=l,p.marginBottom=l),o().createElement("div",{className:"__floater__arrow",style:this.parentStyle},o().createElement("span",{ref:r,style:p},o().createElement("svg",{width:h,height:f,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o().createElement("polygon",{points:e,fill:s}))))}}]),n}(o().Component);ot(_t,"propTypes",{placement:$().string.isRequired,setArrowRef:$().func.isRequired,styles:$().object.isRequired});var Et=["color","height","width"],St=function(e){var t=e.handleClick,n=e.styles,r=n.color,i=n.height,s=n.width,a=ct(n,Et);return o().createElement("button",{"aria-label":"close",onClick:t,style:a,type:"button"},o().createElement("svg",{width:"".concat(s,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},o().createElement("g",null,o().createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))};St.propTypes={handleClick:$().func.isRequired,styles:$().object.isRequired};var Ct=function(e){var t=e.content,n=e.footer,r=e.handleClick,i=e.open,s=e.positionWrapper,a=e.showCloseButton,c=e.title,l=e.styles,u={content:o().isValidElement(t)?t:o().createElement("div",{className:"__floater__content",style:l.content},t)};return c&&(u.title=o().isValidElement(c)?c:o().createElement("div",{className:"__floater__title",style:l.title},c)),n&&(u.footer=o().isValidElement(n)?n:o().createElement("div",{className:"__floater__footer",style:l.footer},n)),!a&&!s||v.boolean(i)||(u.close=o().createElement(St,{styles:l.close,handleClick:r})),o().createElement("div",{className:"__floater__container",style:l.container},u.close,u.title,u.content,u.footer)};Ct.propTypes={content:$().node.isRequired,footer:$().node,handleClick:$().func.isRequired,open:$().bool,positionWrapper:$().bool.isRequired,showCloseButton:$().bool.isRequired,styles:$().object.isRequired,title:$().node};var xt=function(e){it(n,e);var t=dt(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"style",get:function(){var e=this.props,t=e.disableAnimation,n=e.component,r=e.placement,o=e.hideArrow,i=e.status,s=e.styles,a=s.arrow.length,c=s.floater,l=s.floaterCentered,u=s.floaterClosing,d=s.floaterOpening,p=s.floaterWithAnimation,h=s.floaterWithComponent,f={};return o||(r.startsWith("top")?f.padding="0 0 ".concat(a,"px"):r.startsWith("bottom")?f.padding="".concat(a,"px 0 0"):r.startsWith("left")?f.padding="0 ".concat(a,"px 0 0"):r.startsWith("right")&&(f.padding="0 0 0 ".concat(a,"px"))),-1!==[ht.OPENING,ht.OPEN].indexOf(i)&&(f=et(et({},f),d)),i===ht.CLOSING&&(f=et(et({},f),u)),i!==ht.OPEN||t||(f=et(et({},f),p)),"center"===r&&(f=et(et({},f),l)),n&&(f=et(et({},f),h)),et(et({},c),f)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.handleClick,r=e.hideArrow,i=e.setFloaterRef,s=e.status,a={},c=["__floater"];return a.content=t?o().isValidElement(t)?o().cloneElement(t,{closeFn:n}):t({closeFn:n}):o().createElement(Ct,this.props),s===ht.OPEN&&c.push("__floater__open"),r||(a.arrow=o().createElement(_t,this.props)),o().createElement("div",{ref:i,className:c.join(" "),style:this.style},o().createElement("div",{className:"__floater__body"},a.content,a.arrow))}}]),n}(o().Component);ot(xt,"propTypes",{component:$().oneOfType([$().func,$().element]),content:$().node,disableAnimation:$().bool.isRequired,footer:$().node,handleClick:$().func.isRequired,hideArrow:$().bool.isRequired,open:$().bool,placement:$().string.isRequired,positionWrapper:$().bool.isRequired,setArrowRef:$().func.isRequired,setFloaterRef:$().func.isRequired,showCloseButton:$().bool,status:$().string.isRequired,styles:$().object.isRequired,title:$().node});var It=function(e){it(n,e);var t=dt(n);function n(){return tt(this,n),t.apply(this,arguments)}return rt(n,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.handleClick,i=t.handleMouseEnter,s=t.handleMouseLeave,a=t.setChildRef,c=t.setWrapperRef,l=t.style,u=t.styles;if(n)if(1===o().Children.count(n))if(o().isValidElement(n)){var d=v.function(n.type)?"innerRef":"ref";e=o().cloneElement(o().Children.only(n),ot({},d,a))}else e=o().createElement("span",null,n);else e=n;return e?o().createElement("span",{ref:c,style:et(et({},u),l),onClick:r,onMouseEnter:i,onMouseLeave:s},e):null}}]),n}(o().Component);ot(It,"propTypes",{children:$().node,handleClick:$().func.isRequired,handleMouseEnter:$().func.isRequired,handleMouseLeave:$().func.isRequired,setChildRef:$().func.isRequired,setWrapperRef:$().func.isRequired,style:$().object,styles:$().object.isRequired});var At={zIndex:100};var Pt=["arrow","flip","offset"],Rt=["position","top","right","bottom","left"],Ot=function(e){it(r,e);var t=dt(r);function r(e){var n;return tt(this,r),ot(lt(n=t.call(this,e)),"setArrowRef",(function(e){n.arrowRef=e})),ot(lt(n),"setChildRef",(function(e){n.childRef=e})),ot(lt(n),"setFloaterRef",(function(e){n.floaterRef||(n.floaterRef=e)})),ot(lt(n),"setWrapperRef",(function(e){n.wrapperRef=e})),ot(lt(n),"handleTransitionEnd",(function(){var e=n.state.status,t=n.props.callback;n.wrapperPopper&&n.wrapperPopper.instance.update(),n.setState({status:e===ht.OPENING?ht.OPEN:ht.IDLE},(function(){var e=n.state.status;t(e===ht.OPEN?"open":"close",n.props)}))})),ot(lt(n),"handleClick",(function(){var e=n.props,t=e.event,r=e.open;if(!v.boolean(r)){var o=n.state,i=o.positionWrapper,s=o.status;("click"===n.event||"hover"===n.event&&i)&&(mt({title:"click",data:[{event:t,status:s===ht.OPEN?"closing":"opening"}],debug:n.debug}),n.toggle())}})),ot(lt(n),"handleMouseEnter",(function(){var e=n.props,t=e.event,r=e.open;if(!v.boolean(r)&&!yt()){var o=n.state.status;"hover"===n.event&&o===ht.IDLE&&(mt({title:"mouseEnter",data:[{key:"originalEvent",value:t}],debug:n.debug}),clearTimeout(n.eventDelayTimeout),n.toggle())}})),ot(lt(n),"handleMouseLeave",(function(){var e=n.props,t=e.event,r=e.eventDelay,o=e.open;if(!v.boolean(o)&&!yt()){var i=n.state,s=i.status,a=i.positionWrapper;"hover"===n.event&&(mt({title:"mouseLeave",data:[{key:"originalEvent",value:t}],debug:n.debug}),r?-1===[ht.OPENING,ht.OPEN].indexOf(s)||a||n.eventDelayTimeout||(n.eventDelayTimeout=setTimeout((function(){delete n.eventDelayTimeout,n.toggle()}),1e3*r)):n.toggle(ht.IDLE))}})),n.state={currentPlacement:e.placement,positionWrapper:e.wrapperOptions.position&&!!e.target,status:ht.INIT,statusWrapper:ht.INIT},n._isMounted=!1,ft&&window.addEventListener("load",(function(){n.popper&&n.popper.instance.update(),n.wrapperPopper&&n.wrapperPopper.instance.update()})),n}return rt(r,[{key:"componentDidMount",value:function(){if(ft){var e=this.state.positionWrapper,t=this.props,n=t.children,r=t.open,o=t.target;this._isMounted=!0,mt({title:"init",data:{hasChildren:!!n,hasTarget:!!o,isControlled:v.boolean(r),positionWrapper:e,target:this.target,floater:this.floaterRef},debug:this.debug}),this.initPopper(),!n&&o&&v.boolean(r)}}},{key:"componentDidUpdate",value:function(e,t){if(ft){var n,r=this.props,o=r.autoOpen,i=r.open,s=r.target,a=r.wrapperOptions,c=(0,Je.Z)(t,this.state),l=c.changedFrom,u=c.changedTo;if(e.open!==i)v.boolean(i)&&(n=i?ht.OPENING:ht.CLOSING),this.toggle(n);e.wrapperOptions.position===a.position&&e.target===s||this.changeWrapperPosition(this.props),(u("status",ht.IDLE)&&i||l("status",ht.INIT,ht.IDLE)&&o)&&this.toggle(ht.OPEN),this.popper&&u("status",ht.OPENING)&&this.popper.instance.update(),this.floaterRef&&(u("status",ht.OPENING)||u("status",ht.CLOSING))&&function(e,t,n){var r;bt(e,t,r=function(o){n(o),vt(e,t,r)},arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(this.floaterRef,"transitionend",this.handleTransitionEnd)}}},{key:"componentWillUnmount",value:function(){ft&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,n=this.state.positionWrapper,r=this.props,o=r.disableFlip,i=r.getPopper,s=r.hideArrow,a=r.offset,c=r.placement,l=r.wrapperOptions,u="top"===c||"bottom"===c?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if("center"===c)this.setState({status:ht.IDLE});else if(t&&this.floaterRef){var d=this.options,p=d.arrow,h=d.flip,f=d.offset,g=ct(d,Pt);new Ze(t,this.floaterRef,{placement:c,modifiers:et({arrow:et({enabled:!s,element:this.arrowRef},p),flip:et({enabled:!o,behavior:u},h),offset:et({offset:"0, ".concat(a,"px")},f)},g),onCreate:function(t){e.popper=t,i(t,"floater"),e._isMounted&&e.setState({currentPlacement:t.placement,status:ht.IDLE}),c!==t.placement&&setTimeout((function(){t.instance.update()}),1)},onUpdate:function(t){e.popper=t;var n=e.state.currentPlacement;e._isMounted&&t.placement!==n&&e.setState({currentPlacement:t.placement})}})}if(n){var y=v.undefined(l.offset)?0:l.offset;new Ze(this.target,this.wrapperRef,{placement:l.placement||c,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(y,"px")},flip:{enabled:!1}},onCreate:function(t){e.wrapperPopper=t,e._isMounted&&e.setState({statusWrapper:ht.IDLE}),i(t,"wrapper"),c!==t.placement&&setTimeout((function(){t.instance.update()}),1)}})}}},{key:"changeWrapperPosition",value:function(e){var t=e.target,n=e.wrapperOptions;this.setState({positionWrapper:n.position&&!!t})}},{key:"toggle",value:function(e){var t=this.state.status===ht.OPEN?ht.CLOSING:ht.OPENING;v.undefined(e)||(t=e),this.setState({status:t})}},{key:"debug",get:function(){return this.props.debug||!!n.g.ReactFloaterDebug}},{key:"event",get:function(){var e=this.props,t=e.disableHoverToClick,n=e.event;return"hover"===n&&yt()&&!t?"click":n}},{key:"options",get:function(){var e=this.props.options;return F()(pt,e||{})}},{key:"styles",get:function(){var e,t=this,n=this.state,r=n.status,o=n.positionWrapper,i=n.statusWrapper,s=this.props.styles,a=F()(function(e){var t=F()(At,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}(s),s);o&&(e=-1===[ht.IDLE].indexOf(r)||-1===[ht.IDLE].indexOf(i)?a.wrapperPosition:this.wrapperPopper.styles,a.wrapper=et(et({},a.wrapper),e));if(this.target){var c=window.getComputedStyle(this.target);this.wrapperStyles?a.wrapper=et(et({},a.wrapper),this.wrapperStyles):-1===["relative","static"].indexOf(c.position)&&(this.wrapperStyles={},o||(Rt.forEach((function(e){t.wrapperStyles[e]=c[e]})),a.wrapper=et(et({},a.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return a}},{key:"target",get:function(){if(!ft)return null;var e=this.props.target;return e?v.domElement(e)?e:document.querySelector(e):this.childRef||this.wrapperRef}},{key:"render",value:function(){var e=this.state,t=e.currentPlacement,n=e.positionWrapper,r=e.status,i=this.props,s=i.children,a=i.component,c=i.content,l=i.disableAnimation,u=i.footer,d=i.hideArrow,p=i.id,h=i.open,f=i.showCloseButton,g=i.style,y=i.target,m=i.title,b=o().createElement(It,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:g,styles:this.styles.wrapper},s),v={};return n?v.wrapperInPortal=b:v.wrapperAsChildren=b,o().createElement("span",null,o().createElement(kt,{hasChildren:!!s,id:p,placement:t,setRef:this.setFloaterRef,target:y,zIndex:this.styles.options.zIndex},o().createElement(xt,{component:a,content:c,disableAnimation:l,footer:u,handleClick:this.handleClick,hideArrow:d||"center"===t,open:h,placement:t,positionWrapper:n,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:f,status:r,styles:this.styles,title:m}),v.wrapperInPortal),v.wrapperAsChildren)}}]),r}(o().Component);ot(Ot,"propTypes",{autoOpen:$().bool,callback:$().func,children:$().node,component:(0,W.Z)($().oneOfType([$().func,$().element]),(function(e){return!e.content})),content:(0,W.Z)($().node,(function(e){return!e.component})),debug:$().bool,disableAnimation:$().bool,disableFlip:$().bool,disableHoverToClick:$().bool,event:$().oneOf(["hover","click"]),eventDelay:$().number,footer:$().node,getPopper:$().func,hideArrow:$().bool,id:$().oneOfType([$().string,$().number]),offset:$().number,open:$().bool,options:$().object,placement:$().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:$().bool,style:$().object,styles:$().object,target:$().oneOfType([$().object,$().string]),title:$().node,wrapperOptions:$().shape({offset:$().number,placement:$().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:$().bool})}),ot(Ot,"defaultProps",{autoOpen:!1,callback:wt,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:wt,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});const Tt=Ot;function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){Bt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lt(e,t,n){return t&&jt(e.prototype,t),n&&jt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(){return zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(this,arguments)}function Ft(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$t(e,t)}function Ut(e){return Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ut(e)}function $t(e,t){return $t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},$t(e,t)}function Wt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ht(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qt(e)}function Kt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ut(e);if(t){var o=Ut(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ht(this,n)}}var Gt={INIT:"init",START:"start",STOP:"stop",RESET:"reset",PREV:"prev",NEXT:"next",GO:"go",CLOSE:"close",SKIP:"skip",UPDATE:"update"},Vt={TOUR_START:"tour:start",STEP_BEFORE:"step:before",BEACON:"beacon",TOOLTIP:"tooltip",STEP_AFTER:"step:after",TOUR_END:"tour:end",TOUR_STATUS:"tour:status",TARGET_NOT_FOUND:"error:target_not_found",ERROR:"error"},Xt={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Yt={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished",ERROR:"error"},Zt=D().canUseDOM,Jt=void 0!==R.createPortal;function Qt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent,t=e;return"undefined"===typeof window?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":Boolean(window.opera)||e.indexOf(" OPR/")>=0?t="opera":"undefined"!==typeof window.InstallTrigger?t="firefox":window.chrome?t="chrome":/(Version\/([0-9._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function en(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function tn(e){var t=[];return function e(n){if("string"===typeof n||"number"===typeof n)t.push(n);else if(Array.isArray(n))n.forEach((function(t){return e(t)}));else if(n&&n.props){var r=n.props.children;Array.isArray(r)?r.forEach((function(t){return e(t)})):e(r)}}(e),t.join(" ").trim()}function nn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rn(e,t){return!(!v.plainObject(e)||!v.array(t))&&Object.keys(e).every((function(e){return-1!==t.indexOf(e)}))}function on(e){var t=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,r){return t+t+n+n+r+r})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function sn(e){return e.disableBeacon||"center"===e.placement}function an(e,t){var n,o=(0,r.isValidElement)(e)||(0,r.isValidElement)(t),i=v.undefined(e)||v.undefined(t);if(en(e)!==en(t)||o||i)return!1;if(v.domElement(e))return e.isSameNode(t);if(v.number(e))return e===t;if(v.function(e))return e.toString()===t.toString();for(var s in e)if(nn(e,s)){if("undefined"===typeof e[s]||"undefined"===typeof t[s])return!1;if(n=en(e[s]),-1!==["object","array"].indexOf(n)&&an(e[s],t[s]))continue;if("function"===n&&an(e[s],t[s]))continue;if(e[s]!==t[s])return!1}for(var a in t)if(nn(t,a)&&"undefined"===typeof e[a])return!1;return!0}function cn(){return!(-1!==["chrome","safari","firefox","opera"].indexOf(Qt()))}function ln(e){var t=e.title,n=e.data,r=e.warn,o=void 0!==r&&r,i=e.debug,s=void 0!==i&&i,a=o?console.warn||console.error:console.log;s&&(t&&n?(console.groupCollapsed("%creact-joyride: ".concat(t),"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach((function(e){v.plainObject(e)&&e.key?a.apply(console,[e.key,e.value]):a.apply(console,[e])})):a.apply(console,[n]),console.groupEnd()):console.error("Missing title or data props"))}var un={action:"",controlled:!1,index:0,lifecycle:Xt.INIT,size:0,status:Yt.IDLE},dn=["action","index","lifecycle","status"];function pn(e){var t=new Map,n=new Map,r=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=r.continuous,i=void 0!==o&&o,s=r.stepIndex,a=r.steps,c=void 0===a?[]:a;Nt(this,e),Bt(this,"listener",void 0),Bt(this,"setSteps",(function(e){var r=t.getState(),o=r.size,i=r.status,s={size:e.length,status:i};n.set("steps",e),i===Yt.WAITING&&!o&&e.length&&(s.status=Yt.RUNNING),t.setState(s)})),Bt(this,"addListener",(function(e){t.listener=e})),Bt(this,"update",(function(e){if(!rn(e,dn))throw new Error("State is not valid. Valid keys: ".concat(dn.join(", ")));t.setState(Mt({},t.getNextState(Mt(Mt(Mt({},t.getState()),e),{},{action:e.action||Gt.UPDATE}),!0)))})),Bt(this,"start",(function(e){var n=t.getState(),r=n.index,o=n.size;t.setState(Mt(Mt({},t.getNextState({action:Gt.START,index:v.number(e)?e:r},!0)),{},{status:o?Yt.RUNNING:Yt.WAITING}))})),Bt(this,"stop",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getState(),r=n.index,o=n.status;-1===[Yt.FINISHED,Yt.SKIPPED].indexOf(o)&&t.setState(Mt(Mt({},t.getNextState({action:Gt.STOP,index:r+(e?1:0)})),{},{status:Yt.PAUSED}))})),Bt(this,"close",(function(){var e=t.getState(),n=e.index;e.status===Yt.RUNNING&&t.setState(Mt({},t.getNextState({action:Gt.CLOSE,index:n+1})))})),Bt(this,"go",(function(e){var n=t.getState(),r=n.controlled,o=n.status;if(!r&&o===Yt.RUNNING){var i=t.getSteps()[e];t.setState(Mt(Mt({},t.getNextState({action:Gt.GO,index:e})),{},{status:i?o:Yt.FINISHED}))}})),Bt(this,"info",(function(){return t.getState()})),Bt(this,"next",(function(){var e=t.getState(),n=e.index;e.status===Yt.RUNNING&&t.setState(t.getNextState({action:Gt.NEXT,index:n+1}))})),Bt(this,"open",(function(){t.getState().status===Yt.RUNNING&&t.setState(Mt({},t.getNextState({action:Gt.UPDATE,lifecycle:Xt.TOOLTIP})))})),Bt(this,"prev",(function(){var e=t.getState(),n=e.index;e.status===Yt.RUNNING&&t.setState(Mt({},t.getNextState({action:Gt.PREV,index:n-1})))})),Bt(this,"reset",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=t.getState(),r=n.controlled;r||t.setState(Mt(Mt({},t.getNextState({action:Gt.RESET,index:0})),{},{status:e?Yt.RUNNING:Yt.READY}))})),Bt(this,"skip",(function(){t.getState().status===Yt.RUNNING&&t.setState({action:Gt.SKIP,lifecycle:Xt.INIT,status:Yt.SKIPPED})})),this.setState({action:Gt.INIT,controlled:v.number(s),continuous:i,index:v.number(s)?s:0,lifecycle:Xt.INIT,status:c.length?Yt.READY:Yt.IDLE},!0),this.setSteps(c)}return Lt(e,[{key:"setState",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.getState(),o=Mt(Mt({},r),e),i=o.action,s=o.index,a=o.lifecycle,c=o.size,l=o.status;t.set("action",i),t.set("index",s),t.set("lifecycle",a),t.set("size",c),t.set("status",l),n&&(t.set("controlled",e.controlled),t.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(r)&&this.listener(this.getState())}},{key:"getState",value:function(){return t.size?{action:t.get("action")||"",controlled:t.get("controlled")||!1,index:parseInt(t.get("index"),10),lifecycle:t.get("lifecycle")||"",size:t.get("size")||0,status:t.get("status")||""}:Mt({},un)}},{key:"getNextState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.getState(),r=n.action,o=n.controlled,i=n.index,s=n.size,a=n.status,c=v.number(e.index)?e.index:i,l=o&&!t?i:Math.min(Math.max(c,0),s);return{action:e.action||r,controlled:o,index:l,lifecycle:e.lifecycle||Xt.INIT,size:e.size||s,status:l===s?Yt.FINISHED:e.status||a}}},{key:"hasUpdatedState",value:function(e){return JSON.stringify(e)!==JSON.stringify(this.getState())}},{key:"getSteps",value:function(){var e=n.get("steps");return Array.isArray(e)?e:[]}},{key:"getHelpers",value:function(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}}]),e}();return new r(e)}function hn(){return document.scrollingElement||document.createElement("body")}function fn(e){return e?e.getBoundingClientRect():{}}function gn(){var e=document,t=e.body,n=e.documentElement;return t&&n?Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight):0}function yn(e){return"string"===typeof e?document.querySelector(e):e}function mn(e){return e&&1===e.nodeType?getComputedStyle(e):{}}function bn(e,t,n){var r=L()(e);return r.isSameNode(hn())?n?document:hn():r.scrollHeight>r.offsetHeight||t?r:(r.style.overflow="initial",hn())}function vn(e,t){return!!e&&!bn(e,t).isSameNode(hn())}function wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fixed";if(!e||!(e instanceof HTMLElement))return!1;var n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&(mn(e).position===t||wn(e.parentNode,t))}function kn(e){return e instanceof HTMLElement?e.offsetParent instanceof HTMLElement?kn(e.offsetParent)+e.offsetTop:e.offsetTop:0}function _n(e,t,n){if(!e)return 0;var r=L()(e),o=kn(e);return vn(e,n)&&!function(e){return e.offsetParent!==document.body}(e)&&(o-=kn(r)),Math.floor(o-t)}!function(e){function t(t,n,r,o,i,s){var a=o||"<<anonymous>>",c=s||r;if(null==n[r])return t?new Error("Required ".concat(i," `").concat(c,"` was not specified in `").concat(a,"`.")):null;for(var l=arguments.length,u=new Array(l>6?l-6:0),d=6;d<l;d++)u[d-6]=arguments[d];return e.apply(void 0,[n,r,a,i,c].concat(u))}var n=t.bind(null,!1);n.isRequired=t.bind(null,!0)}((function(e,t,n,r,i){var s=e[t],a=s;if(!o().isValidElement(s)&&(0,B.isValidElementType)(s)){var c={ref:function(){},step:{}};a=o().createElement(a,c)}if(v.string(s)||v.number(s)||!(0,B.isValidElementType)(s)||-1===[B.Element,B.ForwardRef].indexOf((0,B.typeOf)(a)))return new Error("Invalid ".concat(r," `").concat(i,"` supplied to `").concat(n,"`. Expected a React class or forwardRef."))}));var En={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",zIndex:100},Sn={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},Cn={borderRadius:4,position:"absolute"};var xn={floaterProps:{options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},locale:{back:"Back",close:"Close",last:"Last",next:"Next",open:"Open the dialog",skip:"Skip"},step:{event:"click",placement:"bottom",offset:10}};function In(e){var t=["beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent"];return Object.keys(e).filter((function(e){return-1!==t.indexOf(e)})).reduce((function(t,n){return t[n]=e[n],t}),{})}function An(e,t){if(!e)return null;var n=F().all([In(t),xn.step,e],{isMergeableObject:v.plainObject}),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=F()(En,e.options||{}),n=290;window.innerWidth>480&&(n=380),t.width&&(n=window.innerWidth<t.width?window.innerWidth-30:t.width);var r={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:t.zIndex},o={beacon:Mt(Mt({},Sn),{},{display:"inline-block",height:t.beaconSize,position:"relative",width:t.beaconSize,zIndex:t.zIndex}),beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:t.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:"rgba(".concat(on(t.primaryColor).join(","),", 0.2)"),border:"2px solid ".concat(t.primaryColor),borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:t.backgroundColor,borderRadius:5,boxSizing:"border-box",color:t.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:n},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:Mt(Mt({},Sn),{},{backgroundColor:t.primaryColor,borderRadius:4,color:"#fff"}),buttonBack:Mt(Mt({},Sn),{},{color:t.primaryColor,marginLeft:"auto",marginRight:5}),buttonClose:Mt(Mt({},Sn),{},{color:t.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14}),buttonSkip:Mt(Mt({},Sn),{},{color:t.textColor,fontSize:14}),overlay:Mt(Mt({},r),{},{backgroundColor:t.overlayColor,mixBlendMode:"hard-light"}),overlayLegacy:Mt({},r),overlayLegacyCenter:Mt(Mt({},r),{},{backgroundColor:t.overlayColor}),spotlight:Mt(Mt({},Cn),{},{backgroundColor:"gray"}),spotlightLegacy:Mt(Mt({},Cn),{},{boxShadow:"0 0 0 9999px ".concat(t.overlayColor,", ").concat(t.spotlightShadow)}),floaterStyles:{arrow:{color:t.arrowColor},options:{zIndex:t.zIndex}},options:t};return F()(o,e)}(F()(t.styles||{},e.styles||{})),o=vn(yn(e.target),n.disableScrollParentFix),i=F().all([t.floaterProps||{},xn.floaterProps,n.floaterProps||{}]);return i.offset=n.offset,i.styles=F()(i.styles||{},r.floaterStyles||{}),delete r.floaterStyles,i.offset+=t.spotlightPadding||e.spotlightPadding||0,e.placementBeacon&&(i.wrapperOptions.placement=e.placementBeacon),o&&(i.options.preventOverflow.boundariesElement="window"),Mt(Mt({},n),{},{locale:F().all([xn.locale,t.locale||{},n.locale||{}]),floaterProps:i,styles:r})}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v.plainObject(e)?!!e.target||(ln({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(ln({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function Rn(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return v.array(e)?e.every((function(e){return Pn(e,t)})):(ln({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var On=Lt((function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Nt(this,e),Bt(this,"element",void 0),Bt(this,"options",void 0),Bt(this,"canBeTabbed",(function(e){var t=e.tabIndex;return(null===t||t<0)&&(t=void 0),!isNaN(t)&&n.canHaveFocus(e)})),Bt(this,"canHaveFocus",(function(e){var t=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(t)&&!e.getAttribute("disabled")||"a"===t&&!!e.getAttribute("href"))&&n.isVisible(e)})),Bt(this,"findValidTabElements",(function(){return[].slice.call(n.element.querySelectorAll("*"),0).filter(n.canBeTabbed)})),Bt(this,"handleKeyDown",(function(e){var t=n.options.keyCode,r=void 0===t?9:t;e.keyCode===r&&n.interceptTab(e)})),Bt(this,"interceptTab",(function(e){var t=n.findValidTabElements();if(t.length){e.preventDefault();var r=e.shiftKey,o=t.indexOf(document.activeElement);-1===o||!r&&o+1===t.length?o=0:r&&0===o?o=t.length-1:o+=r?-1:1,t[o].focus()}})),Bt(this,"isHidden",(function(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0,n=window.getComputedStyle(e);return!(!t||e.innerHTML)||(t&&"visible"!==n.getPropertyValue("overflow")||"none"===n.getPropertyValue("display"))})),Bt(this,"isVisible",(function(e){for(var t=e;t;)if(t instanceof HTMLElement){if(t===document.body)break;if(n.isHidden(t))return!1;t=t.parentNode}return!0})),Bt(this,"removeScope",(function(){window.removeEventListener("keydown",n.handleKeyDown)})),Bt(this,"checkFocus",(function(e){document.activeElement!==e&&(e.focus(),window.requestAnimationFrame((function(){return n.checkFocus(e)})))})),Bt(this,"setFocus",(function(){var e=n.options.selector;if(e){var t=n.element.querySelector(e);t&&window.requestAnimationFrame((function(){return n.checkFocus(t)}))}})),!(t instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=t,this.options=r,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()})),Tn=function(e){Ft(n,e);var t=Kt(n);function n(e){var r;if(Nt(this,n),Bt(qt(r=t.call(this,e)),"setBeaconRef",(function(e){r.beacon=e})),!e.beaconComponent){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",i.id="joyride-beacon-animation",void 0!==e.nonce&&i.setAttribute("nonce",e.nonce),i.appendChild(document.createTextNode("\n        @keyframes joyride-beacon-inner {\n          20% {\n            opacity: 0.9;\n          }\n        \n          90% {\n            opacity: 0.7;\n          }\n        }\n        \n        @keyframes joyride-beacon-outer {\n          0% {\n            transform: scale(1);\n          }\n        \n          45% {\n            opacity: 0.7;\n            transform: scale(0.75);\n          }\n        \n          100% {\n            opacity: 0.9;\n            transform: scale(1);\n          }\n        }\n      ")),o.appendChild(i)}return r}return Lt(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.shouldFocus;setTimeout((function(){v.domElement(e.beacon)&&t&&e.beacon.focus()}),0)}},{key:"componentWillUnmount",value:function(){var e=document.getElementById("joyride-beacon-animation");e&&e.parentNode.removeChild(e)}},{key:"render",value:function(){var e,t=this.props,n=t.beaconComponent,r=t.locale,i=t.onClickOrHover,s=t.styles,a={"aria-label":r.open,onClick:i,onMouseEnter:i,ref:this.setBeaconRef,title:r.open};if(n){var c=n;e=o().createElement(c,a)}else e=o().createElement("button",zt({key:"JoyrideBeacon",className:"react-joyride__beacon",style:s.beacon,type:"button"},a),o().createElement("span",{style:s.beaconInner}),o().createElement("span",{style:s.beaconOuter}));return e}}]),n}(o().Component),Dn=function(e){var t=e.styles;return o().createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight",style:t})},Mn=["mixBlendMode","zIndex"],Nn=function(e){Ft(n,e);var t=Kt(n);function n(){var e;Nt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Bt(qt(e=t.call.apply(t,[this].concat(o))),"_isMounted",!1),Bt(qt(e),"state",{mouseOverSpotlight:!1,isScrolling:!1,showSpotlight:!0}),Bt(qt(e),"handleMouseMove",(function(t){var n=e.state.mouseOverSpotlight,r=e.spotlightStyles,o=r.height,i=r.left,s=r.position,a=r.top,c=r.width,l="fixed"===s?t.clientY:t.pageY,u="fixed"===s?t.clientX:t.pageX,d=u>=i&&u<=i+c&&(l>=a&&l<=a+o);d!==n&&e.updateState({mouseOverSpotlight:d})})),Bt(qt(e),"handleScroll",(function(){var t=yn(e.props.target);e.scrollParent!==document?(e.state.isScrolling||e.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout((function(){e.updateState({isScrolling:!1,showSpotlight:!0})}),50)):wn(t,"sticky")&&e.updateState({})})),Bt(qt(e),"handleResize",(function(){clearTimeout(e.resizeTimeout),e.resizeTimeout=setTimeout((function(){e._isMounted&&e.forceUpdate()}),100)})),e}return Lt(n,[{key:"componentDidMount",value:function(){var e=this.props;e.debug,e.disableScrolling;var t=e.disableScrollParentFix,n=yn(e.target);this.scrollParent=bn(n,t,!0),this._isMounted=!0,window.addEventListener("resize",this.handleResize)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.lifecycle,o=n.spotlightClicks,i=P(e,this.props).changed;i("lifecycle",Xt.TOOLTIP)&&(this.scrollParent.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout((function(){t.state.isScrolling||t.updateState({showSpotlight:!0})}),100)),(i("spotlightClicks")||i("disableOverlay")||i("lifecycle"))&&(o&&r===Xt.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Xt.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),this.scrollParent.removeEventListener("scroll",this.handleScroll)}},{key:"spotlightStyles",get:function(){var e=this.state.showSpotlight,t=this.props,n=t.disableScrollParentFix,r=t.spotlightClicks,o=t.spotlightPadding,i=t.styles,s=yn(t.target),a=fn(s),c=wn(s),l=function(e,t,n){var r=fn(e),o=bn(e,n),i=vn(e,n),s=0;o instanceof HTMLElement&&(s=o.scrollTop);var a=r.top+(i||wn(e)?0:s);return Math.floor(a-t)}(s,o,n);return Mt(Mt({},cn()?i.spotlightLegacy:i.spotlight),{},{height:Math.round(a.height+2*o),left:Math.round(a.left-o),opacity:e?1:0,pointerEvents:r?"none":"auto",position:c?"fixed":"absolute",top:l,transition:"opacity 0.2s",width:Math.round(a.width+2*o)})}},{key:"updateState",value:function(e){this._isMounted&&this.setState(e)}},{key:"render",value:function(){var e=this.state,t=e.mouseOverSpotlight,n=e.showSpotlight,r=this.props,i=r.disableOverlay,s=r.disableOverlayClose,a=r.lifecycle,c=r.onClickOverlay,l=r.placement,u=r.styles;if(i||a!==Xt.TOOLTIP)return null;var d=u.overlay;cn()&&(d="center"===l?u.overlayLegacyCenter:u.overlayLegacy);var p=Mt({cursor:s?"default":"pointer",height:gn(),pointerEvents:t?"none":"auto"},d),h="center"!==l&&n&&o().createElement(Dn,{styles:this.spotlightStyles});if("safari"===Qt()){p.mixBlendMode,p.zIndex;var f=Wt(p,Mn);h=o().createElement("div",{style:Mt({},f)},h),delete p.backgroundColor}return o().createElement("div",{className:"react-joyride__overlay",style:p,onClick:c},h)}}]),n}(o().Component),jn=["styles"],Ln=["color","height","width"],Bn=function(e){var t=e.styles,n=Wt(e,jn),r=t.color,i=t.height,s=t.width,a=Wt(t,Ln);return o().createElement("button",zt({style:a,type:"button"},n),o().createElement("svg",{width:"number"===typeof s?"".concat(s,"px"):s,height:"number"===typeof i?"".concat(i,"px"):i,viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},o().createElement("g",null,o().createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))},zn=function(e){Ft(n,e);var t=Kt(n);function n(){return Nt(this,n),t.apply(this,arguments)}return Lt(n,[{key:"render",value:function(){var e=this.props,t=e.backProps,n=e.closeProps,r=e.continuous,i=e.index,s=e.isLastStep,a=e.primaryProps,c=e.size,l=e.skipProps,u=e.step,d=e.tooltipProps,p=u.content,h=u.hideBackButton,f=u.hideCloseButton,g=u.hideFooter,y=u.showProgress,m=u.showSkipButton,b=u.title,v=u.styles,w=u.locale,k=w.back,_=w.close,E=w.last,S=w.next,C=w.skip,x={primary:_};return r&&(x.primary=s?E:S,y&&(x.primary=o().createElement("span",null,x.primary," (",i+1,"/",c,")"))),m&&!s&&(x.skip=o().createElement("button",zt({style:v.buttonSkip,type:"button","aria-live":"off"},l),C)),!h&&i>0&&(x.back=o().createElement("button",zt({style:v.buttonBack,type:"button"},t),k)),x.close=!f&&o().createElement(Bn,zt({styles:v.buttonClose},n)),o().createElement("div",zt({key:"JoyrideTooltip",className:"react-joyride__tooltip",style:v.tooltip},d),o().createElement("div",{style:v.tooltipContainer},b&&o().createElement("h4",{style:v.tooltipTitle,"aria-label":b},b),o().createElement("div",{style:v.tooltipContent},p)),!g&&o().createElement("div",{style:v.tooltipFooter},o().createElement("div",{style:v.tooltipFooterSpacer},x.skip),x.back,o().createElement("button",zt({style:v.buttonNext,type:"button"},a),x.primary)),x.close)}}]),n}(o().Component),Fn=["beaconComponent","tooltipComponent"],Un=function(e){Ft(n,e);var t=Kt(n);function n(){var e;Nt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Bt(qt(e=t.call.apply(t,[this].concat(o))),"handleClickBack",(function(t){t.preventDefault(),e.props.helpers.prev()})),Bt(qt(e),"handleClickClose",(function(t){t.preventDefault(),e.props.helpers.close()})),Bt(qt(e),"handleClickPrimary",(function(t){t.preventDefault();var n=e.props,r=n.continuous,o=n.helpers;r?o.next():o.close()})),Bt(qt(e),"handleClickSkip",(function(t){t.preventDefault(),e.props.helpers.skip()})),Bt(qt(e),"getElementsProps",(function(){var t=e.props,n=t.continuous,r=t.isLastStep,o=t.setTooltipRef,i=t.step,s=tn(i.locale.back),a=tn(i.locale.close),c=tn(i.locale.last),l=tn(i.locale.next),u=tn(i.locale.skip),d=n?l:a;return r&&(d=c),{backProps:{"aria-label":s,"data-action":"back",onClick:e.handleClickBack,role:"button",title:s},closeProps:{"aria-label":a,"data-action":"close",onClick:e.handleClickClose,role:"button",title:a},primaryProps:{"aria-label":d,"data-action":"primary",onClick:e.handleClickPrimary,role:"button",title:d},skipProps:{"aria-label":u,"data-action":"skip",onClick:e.handleClickSkip,role:"button",title:u},tooltipProps:{"aria-modal":!0,ref:o,role:"alertdialog"}}})),e}return Lt(n,[{key:"render",value:function(){var e=this.props,t=e.continuous,n=e.index,r=e.isLastStep,i=e.size,s=e.step;s.beaconComponent;var a,c=s.tooltipComponent,l=Wt(s,Fn);if(c){var u=Mt(Mt({},this.getElementsProps()),{},{continuous:t,index:n,isLastStep:r,size:i,step:l}),d=c;a=o().createElement(d,u)}else a=o().createElement(zn,zt({},this.getElementsProps(),{continuous:t,index:n,isLastStep:r,size:i,step:s}));return a}}]),n}(o().Component),$n=function(e){Ft(n,e);var t=Kt(n);function n(e){var r;return Nt(this,n),r=t.call(this,e),Zt?(r.node=document.createElement("div"),e.id&&(r.node.id=e.id),document.body.appendChild(r.node),r):Ht(r)}return Lt(n,[{key:"componentDidMount",value:function(){Zt&&(Jt||this.renderReact15())}},{key:"componentDidUpdate",value:function(){Zt&&(Jt||this.renderReact15())}},{key:"componentWillUnmount",value:function(){Zt&&this.node&&(Jt||O().unmountComponentAtNode(this.node),document.body.removeChild(this.node))}},{key:"renderReact15",value:function(){if(!Zt)return null;var e=this.props.children;return O().unstable_renderSubtreeIntoContainer(this,e,this.node),null}},{key:"renderReact16",value:function(){if(!Zt||!Jt)return null;var e=this.props.children;return O().createPortal(e,this.node)}},{key:"render",value:function(){return Jt?this.renderReact16():null}}]),n}(o().Component),Wn=function(e){Ft(n,e);var t=Kt(n);function n(){var e;Nt(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return Bt(qt(e=t.call.apply(t,[this].concat(o))),"scope",{removeScope:function(){}}),Bt(qt(e),"handleClickHoverBeacon",(function(t){var n=e.props,r=n.step,o=n.update;"mouseenter"===t.type&&"hover"!==r.event||o({lifecycle:Xt.TOOLTIP})})),Bt(qt(e),"handleClickOverlay",(function(){var t=e.props,n=t.helpers;t.step.disableOverlayClose||n.close()})),Bt(qt(e),"setTooltipRef",(function(t){e.tooltip=t})),Bt(qt(e),"setPopper",(function(t,n){var r=e.props,o=r.action,i=r.setPopper,s=r.update;"wrapper"===n?e.beaconPopper=t:e.tooltipPopper=t,i(t,n),e.beaconPopper&&e.tooltipPopper&&s({action:o===Gt.CLOSE?Gt.CLOSE:o,lifecycle:Xt.READY})})),e}return Lt(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.debug,n=e.index;ln({title:"step:".concat(n),data:[{key:"props",value:this.props}],debug:t})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.action,r=t.callback,o=t.continuous,i=t.controlled,s=t.debug,a=t.index,c=t.lifecycle,l=t.size,u=t.status,d=t.step,p=t.update,h=P(e,this.props),f=h.changed,g=h.changedFrom,y={action:n,controlled:i,index:a,lifecycle:c,size:l,status:u},m=o&&n!==Gt.CLOSE&&(a>0||n===Gt.PREV),b=f("action")||f("index")||f("lifecycle")||f("status"),v=g("lifecycle",[Xt.TOOLTIP,Xt.INIT],Xt.INIT);if(f("action",[Gt.NEXT,Gt.PREV,Gt.SKIP,Gt.CLOSE])&&(v||i)&&r(Mt(Mt({},y),{},{index:e.index,lifecycle:Xt.COMPLETE,step:e.step,type:Vt.STEP_AFTER})),f("index")&&a>0&&c===Xt.INIT&&u===Yt.RUNNING&&"center"===d.placement&&p({lifecycle:Xt.READY}),b&&d){var w=yn(d.target),k=!!w,_=k&&function(e){if(!e)return!1;for(var t=e;t&&t!==document.body;){if(t instanceof HTMLElement){var n=getComputedStyle(t),r=n.display,o=n.visibility;if("none"===r||"hidden"===o)return!1}t=t.parentNode}return!0}(w);_?(g("status",Yt.READY,Yt.RUNNING)||g("lifecycle",Xt.INIT,Xt.READY))&&r(Mt(Mt({},y),{},{step:d,type:Vt.STEP_BEFORE})):(console.warn(k?"Target not visible":"Target not mounted",d),r(Mt(Mt({},y),{},{type:Vt.TARGET_NOT_FOUND,step:d})),i||p({index:a+(-1!==[Gt.PREV].indexOf(n)?-1:1)}))}g("lifecycle",Xt.INIT,Xt.READY)&&p({lifecycle:sn(d)||m?Xt.TOOLTIP:Xt.BEACON}),f("index")&&ln({title:"step:".concat(c),data:[{key:"props",value:this.props}],debug:s}),f("lifecycle",Xt.BEACON)&&r(Mt(Mt({},y),{},{step:d,type:Vt.BEACON})),f("lifecycle",Xt.TOOLTIP)&&(r(Mt(Mt({},y),{},{step:d,type:Vt.TOOLTIP})),this.scope=new On(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus()),g("lifecycle",[Xt.TOOLTIP,Xt.INIT],Xt.INIT)&&(this.scope.removeScope(),delete this.beaconPopper,delete this.tooltipPopper)}},{key:"componentWillUnmount",value:function(){this.scope.removeScope()}},{key:"open",get:function(){var e=this.props,t=e.step,n=e.lifecycle;return!(!sn(t)&&n!==Xt.TOOLTIP)}},{key:"render",value:function(){var e=this.props,t=e.continuous,n=e.debug,r=e.helpers,i=e.index,s=e.lifecycle,a=e.nonce,c=e.shouldScroll,l=e.size,u=e.step,d=yn(u.target);return Pn(u)&&v.domElement(d)?o().createElement("div",{key:"JoyrideStep-".concat(i),className:"react-joyride__step"},o().createElement($n,{id:"react-joyride-portal"},o().createElement(Nn,zt({},u,{debug:n,lifecycle:s,onClickOverlay:this.handleClickOverlay}))),o().createElement(Tt,zt({component:o().createElement(Un,{continuous:t,helpers:r,index:i,isLastStep:i+1===l,setTooltipRef:this.setTooltipRef,size:l,step:u}),debug:n,getPopper:this.setPopper,id:"react-joyride-step-".concat(i),isPositioned:u.isFixed||wn(d),open:this.open,placement:u.placement,target:u.target},u.floaterProps),o().createElement(Tn,{beaconComponent:u.beaconComponent,locale:u.locale,nonce:a,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:c,styles:u.styles}))):null}}]),n}(o().Component),qn=function(e){Ft(n,e);var t=Kt(n);function n(e){var r;return Nt(this,n),Bt(qt(r=t.call(this,e)),"initStore",(function(){var e=r.props,t=e.debug,n=e.getHelpers,o=e.run,i=e.stepIndex;r.store=new pn(Mt(Mt({},r.props),{},{controlled:o&&v.number(i)})),r.helpers=r.store.getHelpers();var s=r.store.addListener;return ln({title:"init",data:[{key:"props",value:r.props},{key:"state",value:r.state}],debug:t}),s(r.syncState),n(r.helpers),r.store.getState()})),Bt(qt(r),"callback",(function(e){var t=r.props.callback;v.function(t)&&t(e)})),Bt(qt(r),"handleKeyboard",(function(e){var t=r.state,n=t.index,o=t.lifecycle,i=r.props.steps[n],s=window.Event?e.which:e.keyCode;o===Xt.TOOLTIP&&27===s&&i&&!i.disableCloseOnEsc&&r.store.close()})),Bt(qt(r),"syncState",(function(e){r.setState(e)})),Bt(qt(r),"setPopper",(function(e,t){"wrapper"===t?r.beaconPopper=e:r.tooltipPopper=e})),Bt(qt(r),"shouldScroll",(function(e,t,n,r,o,i,s){return!e&&(0!==t||n||r===Xt.TOOLTIP)&&"center"!==o.placement&&(!o.isFixed||!wn(i))&&s.lifecycle!==r&&-1!==[Xt.BEACON,Xt.TOOLTIP].indexOf(r)})),r.state=r.initStore(),r}return Lt(n,[{key:"componentDidMount",value:function(){if(Zt){var e=this.props,t=e.disableCloseOnEsc,n=e.debug,r=e.run,o=e.steps,i=this.store.start;Rn(o,n)&&r&&i(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}}},{key:"componentDidUpdate",value:function(e,t){if(Zt){var n=this.state,r=n.action,o=n.controlled,i=n.index,s=n.lifecycle,a=n.status,c=this.props,l=c.debug,u=c.run,d=c.stepIndex,p=c.steps,h=e.steps,f=e.stepIndex,g=this.store,y=g.reset,m=g.setSteps,b=g.start,w=g.stop,k=g.update,_=P(e,this.props).changed,E=P(t,this.state),S=E.changed,C=E.changedFrom,x=An(p[i],this.props),I=!an(h,p),A=v.number(d)&&_("stepIndex"),R=yn(null===x||void 0===x?void 0:x.target);if(I&&(Rn(p,l)?m(p):console.warn("Steps are not valid",p)),_("run")&&(u?b(d):w()),A){var O=f<d?Gt.NEXT:Gt.PREV;r===Gt.STOP&&(O=Gt.START),-1===[Yt.FINISHED,Yt.SKIPPED].indexOf(a)&&k({action:r===Gt.CLOSE?Gt.CLOSE:O,index:d,lifecycle:Xt.INIT})}o||a!==Yt.RUNNING||0!==i||R||(k({index:i+1}),this.callback(Mt(Mt({},this.state),{},{type:Vt.TARGET_NOT_FOUND,step:x})));var T=Mt(Mt({},this.state),{},{index:i,step:x});if(S("action",[Gt.NEXT,Gt.PREV,Gt.SKIP,Gt.CLOSE])&&S("status",Yt.PAUSED)){var D=An(p[t.index],this.props);this.callback(Mt(Mt({},T),{},{index:t.index,lifecycle:Xt.COMPLETE,step:D,type:Vt.STEP_AFTER}))}if(S("status",[Yt.FINISHED,Yt.SKIPPED])){var M=An(p[t.index],this.props);o||this.callback(Mt(Mt({},T),{},{index:t.index,lifecycle:Xt.COMPLETE,step:M,type:Vt.STEP_AFTER})),this.callback(Mt(Mt({},T),{},{index:t.index,step:M,type:Vt.TOUR_END})),y()}else C("status",[Yt.IDLE,Yt.READY],Yt.RUNNING)?this.callback(Mt(Mt({},T),{},{type:Vt.TOUR_START})):(S("status")||S("action",Gt.RESET))&&this.callback(Mt(Mt({},T),{},{type:Vt.TOUR_STATUS}));x&&(this.scrollToStep(t),r===Gt.START&&s===Xt.INIT&&a===Yt.RUNNING&&"center"===x.placement&&k({lifecycle:Xt.READY}))}}},{key:"componentWillUnmount",value:function(){this.props.disableCloseOnEsc||document.body.removeEventListener("keydown",this.handleKeyboard)}},{key:"scrollToStep",value:function(e){var t=this.state,n=t.index,r=t.lifecycle,o=t.status,i=this.props,s=i.debug,a=i.disableScrolling,c=i.disableScrollParentFix,l=i.scrollToFirstStep,u=i.scrollOffset,d=i.scrollDuration,p=An(i.steps[n],this.props);if(p){var h=yn(p.target),f=this.shouldScroll(a,n,l,r,p,h,e);if(o===Yt.RUNNING&&f){var g=vn(h,c),y=bn(h,c),m=Math.floor(_n(h,u,c))||0;if(ln({title:"scrollToStep",data:[{key:"index",value:n},{key:"lifecycle",value:r},{key:"status",value:o}],debug:s}),r===Xt.BEACON&&this.beaconPopper){var b=this.beaconPopper,v=b.placement,w=b.popper;-1!==["bottom"].indexOf(v)||g||(m=Math.floor(w.top-u))}else if(r===Xt.TOOLTIP&&this.tooltipPopper){var k=this.tooltipPopper,_=k.flipped,E=k.placement,S=k.popper;-1===["top","right","left"].indexOf(E)||_||g?m-=p.spotlightPadding:m=Math.floor(S.top-u)}m=m>=0?m:0,o===Yt.RUNNING&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hn(),n=arguments.length>2?arguments[2]:void 0;new Promise((function(r,o){var i=t.scrollTop,s=e>i?e-i:i-e;N().top(t,e,{duration:s<100?50:n},(function(e){return e&&"Element already at target scroll position"!==e.message?o(e):r()}))}))}(m,y,d)}}}},{key:"render",value:function(){if(!Zt)return null;var e,t=this.state,n=t.index,r=t.status,i=this.props,s=i.continuous,a=i.debug,c=i.nonce,l=i.scrollToFirstStep,u=An(i.steps[n],this.props);return r===Yt.RUNNING&&u&&(e=o().createElement(Wn,zt({},this.state,{callback:this.callback,continuous:s,debug:a,setPopper:this.setPopper,helpers:this.helpers,nonce:c,shouldScroll:!u.disableScrolling&&(0!==n||l),step:u,update:this.store.update}))),o().createElement("div",{className:"react-joyride"},e)}}]),n}(o().Component);Bt(qn,"defaultProps",{continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:function(){},hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]})},81726:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,i=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,v=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case i:case a:case s:case h:return e;default:switch(e=e&&e.$$typeof){case l:case p:case y:case g:case c:return e;default:return t}}case o:return t}}}function _(e){return k(e)===d}t.Element=r,t.ForwardRef=p,t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===d||e===a||e===s||e===h||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===g||e.$$typeof===c||e.$$typeof===l||e.$$typeof===p||e.$$typeof===b||e.$$typeof===v||e.$$typeof===w||e.$$typeof===m)},t.typeOf=k},85547:(e,t,n)=>{"use strict";e.exports=n(81726)},48741:function(e,t,n){var r;e.exports=(r=n(92950),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=48)}([function(e,t){e.exports=r},function(e,t){var n=e.exports={version:"2.6.12"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(26)("wks"),o=n(17),i=n(3).Symbol,s="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=s&&i[e]||(s?i:o)("Symbol."+e))}).store=r},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(8)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(7),o=n(16);e.exports=n(4)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(10),o=n(35),i=n(23),s=Object.defineProperty;t.f=n(4)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(40),o=n(22);e.exports=function(e){return r(o(e))}},function(e,t,n){var r=n(11);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t,n){var r=n(39),o=n(27);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){e.exports=!0},function(e,t,n){var r=n(3),o=n(1),i=n(53),s=n(6),a=n(5),c=function(e,t,n){var l,u,d,p=e&c.F,h=e&c.G,f=e&c.S,g=e&c.P,y=e&c.B,m=e&c.W,b=h?o:o[t]||(o[t]={}),v=b.prototype,w=h?r:f?r[t]:(r[t]||{}).prototype;for(l in h&&(n=t),n)(u=!p&&w&&void 0!==w[l])&&a(b,l)||(d=u?w[l]:n[l],b[l]=h&&"function"!=typeof w[l]?n[l]:y&&u?i(d,r):m&&w[l]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):g&&"function"==typeof d?i(Function.call,d):d,g&&((b.virtual||(b.virtual={}))[l]=d,e&c.R&&v&&!v[l]&&s(v,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(22);e.exports=function(e){return Object(r(e))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){"use strict";var r=n(52)(!0);n(34)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(11);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(26)("keys"),o=n(17);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(1),o=n(3),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(14)?"pure":"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(7).f,o=n(5),i=n(2)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){n(62);for(var r=n(3),o=n(6),i=n(12),s=n(2)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var l=a[c],u=r[l],d=u&&u.prototype;d&&!d[s]&&o(d,s,l),i[l]=i.Array}},function(e,t,n){t.f=n(2)},function(e,t,n){var r=n(3),o=n(1),i=n(14),s=n(30),a=n(7).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||a(t,e,{value:s.f(e)})}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){e.exports=function(e,t,n){return Math.min(Math.max(e,t),n)}},function(e,t,n){"use strict";var r=n(14),o=n(15),i=n(37),s=n(6),a=n(12),c=n(55),l=n(28),u=n(61),d=n(2)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,f,g,y,m){c(n,t,f);var b,v,w,k=function(e){if(!p&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},_=t+" Iterator",E="values"==g,S=!1,C=e.prototype,x=C[d]||C["@@iterator"]||g&&C[g],I=x||k(g),A=g?E?k("entries"):I:void 0,P="Array"==t&&C.entries||x;if(P&&(w=u(P.call(new e)))!==Object.prototype&&w.next&&(l(w,_,!0),r||"function"==typeof w[d]||s(w,d,h)),E&&x&&"values"!==x.name&&(S=!0,I=function(){return x.call(this)}),r&&!m||!p&&!S&&C[d]||s(C,d,I),a[t]=I,a[_]=h,g)if(b={values:E?I:k("values"),keys:y?I:k("keys"),entries:A},m)for(v in b)v in C||i(C,v,b[v]);else o(o.P+o.F*(p||S),t,b);return b}},function(e,t,n){e.exports=!n(4)&&!n(8)((function(){return 7!=Object.defineProperty(n(36)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(11),o=n(3).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){e.exports=n(6)},function(e,t,n){var r=n(10),o=n(56),i=n(27),s=n(25)("IE_PROTO"),a=function(){},c=function(){var e,t=n(36)("iframe"),r=i.length;for(t.style.display="none",n(60).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(a.prototype=r(e),n=new a,a.prototype=null,n[s]=e):n=c(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(5),o=n(9),i=n(57)(!1),s=n(25)("IE_PROTO");e.exports=function(e,t){var n,a=o(e),c=0,l=[];for(n in a)n!=s&&r(a,n)&&l.push(n);for(;t.length>c;)r(a,n=t[c++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){var r=n(24);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(39),o=n(27).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t,n){var r=n(24),o=n(2)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=/-?\d+(\.\d+)?%?/g;e.exports=function(e){return e.match(n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBase16Theme=t.createStyling=t.invertTheme=void 0;var r=h(n(49)),o=h(n(76)),i=h(n(81)),s=h(n(89)),a=h(n(93)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(94)),l=h(n(132)),u=h(n(133)),d=h(n(138)),p=n(139);function h(e){return e&&e.__esModule?e:{default:e}}var f=c.default,g=(0,s.default)(f),y=(0,d.default)(u.default,p.rgb2yuv,(function(e){var t,n=(0,i.default)(e,3);return[(t=n[0],t<.25?1:t<.5?.9-t:1.1-t),n[1],n[2]]}),p.yuv2rgb,l.default),m=function(e){return function(t){return{className:[t.className,e.className].filter(Boolean).join(" "),style:(0,o.default)({},t.style||{},e.style||{})}}},b=function(e,t){var n=(0,s.default)(t);for(var i in e)-1===n.indexOf(i)&&n.push(i);return n.reduce((function(n,i){return n[i]=function(e,t){if(void 0===e)return t;if(void 0===t)return e;var n=void 0===e?"undefined":(0,r.default)(e),i=void 0===t?"undefined":(0,r.default)(t);switch(n){case"string":switch(i){case"string":return[t,e].filter(Boolean).join(" ");case"object":return m({className:e,style:t});case"function":return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return m({className:e})(t.apply(void 0,[n].concat(o)))}}case"object":switch(i){case"string":return m({className:t,style:e});case"object":return(0,o.default)({},t,e);case"function":return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return m({style:e})(t.apply(void 0,[n].concat(o)))}}case"function":switch(i){case"string":return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.apply(void 0,[m(n)({className:t})].concat(o))};case"object":return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.apply(void 0,[m(n)({style:t})].concat(o))};case"function":return function(n){for(var r=arguments.length,o=Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];return e.apply(void 0,[t.apply(void 0,[n].concat(o))].concat(o))}}}}(e[i],t[i]),n}),{})},v=function(e,t){for(var n=arguments.length,i=Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(null===t)return e;Array.isArray(t)||(t=[t]);var c=t.map((function(t){return e[t]})).filter(Boolean).reduce((function(e,t){return"string"==typeof t?e.className=[e.className,t].filter(Boolean).join(" "):"object"===(void 0===t?"undefined":(0,r.default)(t))?e.style=(0,o.default)({},e.style,t):"function"==typeof t&&(e=(0,o.default)({},e,t.apply(void 0,[e].concat(i)))),e}),{className:"",style:{}});return c.className||delete c.className,0===(0,s.default)(c.style).length&&delete c.style,c},w=t.invertTheme=function(e){return(0,s.default)(e).reduce((function(t,n){return t[n]=/^base/.test(n)?y(e[n]):"scheme"===n?e[n]+":inverted":e[n],t}),{})},k=(t.createStyling=(0,a.default)((function(e){for(var t=arguments.length,n=Array(t>3?t-3:0),r=3;r<t;r++)n[r-3]=arguments[r];var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=i.defaultBase16,u=void 0===l?f:l,d=i.base16Themes,p=k(c,void 0===d?null:d);p&&(c=(0,o.default)({},p,c));var h=g.reduce((function(e,t){return e[t]=c[t]||u[t],e}),{}),y=(0,s.default)(c).reduce((function(e,t){return-1===g.indexOf(t)?(e[t]=c[t],e):e}),{}),m=e(h),w=b(y,m);return(0,a.default)(v,2).apply(void 0,[w].concat(n))}),3),t.getBase16Theme=function(e,t){if(e&&e.extend&&(e=e.extend),"string"==typeof e){var n=e.split(":"),r=(0,i.default)(n,2),o=r[0],s=r[1];e=(t||{})[o]||c[o],"inverted"===s&&(e=w(e))}return e&&e.hasOwnProperty("base00")?e:void 0})},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,r){function o(){void 0!==i&&e.removeListener("error",i),n([].slice.call(arguments))}var i;"error"!==t&&(i=function(n){e.removeListener(t,o),r(n)},e.once("error",i)),e.once(t,o)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,r){var o,i,s,a;if(l(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=u(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function p(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=p.bind(r);return o.listener=n,r.wrapFn=o,o}function f(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):y(o,o.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var l=c.length,u=y(c,l);for(n=0;n<l;++n)i(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,o,i,s;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return f(this,e,!0)},a.prototype.rawListeners=function(e){return f(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){e.exports.Dispatcher=n(140)},function(e,t,n){e.exports=n(142)},function(e,t,n){"use strict";t.__esModule=!0;var r=s(n(50)),o=s(n(65)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function s(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,n){e.exports={default:n(51),__esModule:!0}},function(e,t,n){n(20),n(29),e.exports=n(30).f("iterator")},function(e,t,n){var r=n(21),o=n(22);e.exports=function(e){return function(t,n){var i,s,a=String(o(t)),c=r(n),l=a.length;return c<0||c>=l?e?"":void 0:(i=a.charCodeAt(c))<55296||i>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):i:e?a.slice(c,c+2):s-56320+(i-55296<<10)+65536}}},function(e,t,n){var r=n(54);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){"use strict";var r=n(38),o=n(16),i=n(28),s={};n(6)(s,n(2)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(s,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(7),o=n(10),i=n(13);e.exports=n(4)?Object.defineProperties:function(e,t){o(e);for(var n,s=i(t),a=s.length,c=0;a>c;)r.f(e,n=s[c++],t[n]);return e}},function(e,t,n){var r=n(9),o=n(58),i=n(59);e.exports=function(e){return function(t,n,s){var a,c=r(t),l=o(c.length),u=i(s,l);if(e&&n!=n){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(21),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t,n){var r=n(21),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){var r=n(3).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(5),o=n(18),i=n(25)("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";var r=n(63),o=n(64),i=n(12),s=n(9);e.exports=n(34)(Array,"Array",(function(e,t){this._t=s(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(66),__esModule:!0}},function(e,t,n){n(67),n(73),n(74),n(75),e.exports=n(1).Symbol},function(e,t,n){"use strict";var r=n(3),o=n(5),i=n(4),s=n(15),a=n(37),c=n(68).KEY,l=n(8),u=n(26),d=n(28),p=n(17),h=n(2),f=n(30),g=n(31),y=n(69),m=n(70),b=n(10),v=n(11),w=n(18),k=n(9),_=n(23),E=n(16),S=n(38),C=n(71),x=n(72),I=n(32),A=n(7),P=n(13),R=x.f,O=A.f,T=C.f,D=r.Symbol,M=r.JSON,N=M&&M.stringify,j=h("_hidden"),L=h("toPrimitive"),B={}.propertyIsEnumerable,z=u("symbol-registry"),F=u("symbols"),U=u("op-symbols"),$=Object.prototype,W="function"==typeof D&&!!I.f,q=r.QObject,H=!q||!q.prototype||!q.prototype.findChild,K=i&&l((function(){return 7!=S(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=R($,t);r&&delete $[t],O(e,t,n),r&&e!==$&&O($,t,r)}:O,G=function(e){var t=F[e]=S(D.prototype);return t._k=e,t},V=W&&"symbol"==typeof D.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof D},X=function(e,t,n){return e===$&&X(U,t,n),b(e),t=_(t,!0),b(n),o(F,t)?(n.enumerable?(o(e,j)&&e[j][t]&&(e[j][t]=!1),n=S(n,{enumerable:E(0,!1)})):(o(e,j)||O(e,j,E(1,{})),e[j][t]=!0),K(e,t,n)):O(e,t,n)},Y=function(e,t){b(e);for(var n,r=y(t=k(t)),o=0,i=r.length;i>o;)X(e,n=r[o++],t[n]);return e},Z=function(e){var t=B.call(this,e=_(e,!0));return!(this===$&&o(F,e)&&!o(U,e))&&(!(t||!o(this,e)||!o(F,e)||o(this,j)&&this[j][e])||t)},J=function(e,t){if(e=k(e),t=_(t,!0),e!==$||!o(F,t)||o(U,t)){var n=R(e,t);return!n||!o(F,t)||o(e,j)&&e[j][t]||(n.enumerable=!0),n}},Q=function(e){for(var t,n=T(k(e)),r=[],i=0;n.length>i;)o(F,t=n[i++])||t==j||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===$,r=T(n?U:k(e)),i=[],s=0;r.length>s;)!o(F,t=r[s++])||n&&!o($,t)||i.push(F[t]);return i};W||(a((D=function(){if(this instanceof D)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===$&&t.call(U,n),o(this,j)&&o(this[j],e)&&(this[j][e]=!1),K(this,e,E(1,n))};return i&&H&&K($,e,{configurable:!0,set:t}),G(e)}).prototype,"toString",(function(){return this._k})),x.f=J,A.f=X,n(41).f=C.f=Q,n(19).f=Z,I.f=ee,i&&!n(14)&&a($,"propertyIsEnumerable",Z,!0),f.f=function(e){return G(h(e))}),s(s.G+s.W+s.F*!W,{Symbol:D});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)h(te[ne++]);for(var re=P(h.store),oe=0;re.length>oe;)g(re[oe++]);s(s.S+s.F*!W,"Symbol",{for:function(e){return o(z,e+="")?z[e]:z[e]=D(e)},keyFor:function(e){if(!V(e))throw TypeError(e+" is not a symbol!");for(var t in z)if(z[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),s(s.S+s.F*!W,"Object",{create:function(e,t){return void 0===t?S(e):Y(S(e),t)},defineProperty:X,defineProperties:Y,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});var ie=l((function(){I.f(1)}));s(s.S+s.F*ie,"Object",{getOwnPropertySymbols:function(e){return I.f(w(e))}}),M&&s(s.S+s.F*(!W||l((function(){var e=D();return"[null]"!=N([e])||"{}"!=N({a:e})||"{}"!=N(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(v(t)||void 0!==e)&&!V(e))return m(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!V(t))return t}),r[1]=t,N.apply(M,r)}}),D.prototype[L]||n(6)(D.prototype,L,D.prototype.valueOf),d(D,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(17)("meta"),o=n(11),i=n(5),s=n(7).f,a=0,c=Object.isExtensible||function(){return!0},l=!n(8)((function(){return c(Object.preventExtensions({}))})),u=function(e){s(e,r,{value:{i:"O"+ ++a,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!i(e,r)&&u(e),e}}},function(e,t,n){var r=n(13),o=n(32),i=n(19);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var s,a=n(e),c=i.f,l=0;a.length>l;)c.call(e,s=a[l++])&&t.push(s);return t}},function(e,t,n){var r=n(24);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(9),o=n(41).f,i={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return s&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return s.slice()}}(e):o(r(e))}},function(e,t,n){var r=n(19),o=n(16),i=n(9),s=n(23),a=n(5),c=n(35),l=Object.getOwnPropertyDescriptor;t.f=n(4)?l:function(e,t){if(e=i(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(a(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t){},function(e,t,n){n(31)("asyncIterator")},function(e,t,n){n(31)("observable")},function(e,t,n){"use strict";t.__esModule=!0;var r,o=(r=n(77))&&r.__esModule?r:{default:r};t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(78),__esModule:!0}},function(e,t,n){n(79),e.exports=n(1).Object.assign},function(e,t,n){var r=n(15);r(r.S+r.F,"Object",{assign:n(80)})},function(e,t,n){"use strict";var r=n(4),o=n(13),i=n(32),s=n(19),a=n(18),c=n(40),l=Object.assign;e.exports=!l||n(8)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r}))?function(e,t){for(var n=a(e),l=arguments.length,u=1,d=i.f,p=s.f;l>u;)for(var h,f=c(arguments[u++]),g=d?o(f).concat(d(f)):o(f),y=g.length,m=0;y>m;)h=g[m++],r&&!p.call(f,h)||(n[h]=f[h]);return n}:l},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(82)),o=i(n(85));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,i=!1,s=void 0;try{for(var a,c=(0,o.default)(e);!(r=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,s=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw s}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){e.exports={default:n(83),__esModule:!0}},function(e,t,n){n(29),n(20),e.exports=n(84)},function(e,t,n){var r=n(42),o=n(2)("iterator"),i=n(12);e.exports=n(1).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(86),__esModule:!0}},function(e,t,n){n(29),n(20),e.exports=n(87)},function(e,t,n){var r=n(10),o=n(88);e.exports=n(1).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(42),o=n(2)("iterator"),i=n(12);e.exports=n(1).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){e.exports={default:n(90),__esModule:!0}},function(e,t,n){n(91),e.exports=n(1).Object.keys},function(e,t,n){var r=n(18),o=n(13);n(92)("keys",(function(){return function(e){return o(r(e))}}))},function(e,t,n){var r=n(15),o=n(1),i=n(8);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],s={};s[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",s)}},function(e,t,n){(function(t){var n=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],r=/^\s+|\s+$/g,o=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,i=/\{\n\/\* \[wrapped with (.+)\] \*/,s=/,? & /,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^\[object .+?Constructor\]$/,u=/^0o[0-7]+$/i,d=/^(?:0|[1-9]\d*)$/,p=parseInt,h="object"==typeof t&&t&&t.Object===Object&&t,f="object"==typeof self&&self&&self.Object===Object&&self,g=h||f||Function("return this")();function y(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function m(e,t){return!(!e||!e.length)&&function(e,t,n){if(t!=t)return function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}(e,b,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function b(e){return e!=e}function v(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&r++;return r}function w(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var s=e[n];s!==t&&"__lodash_placeholder__"!==s||(e[n]="__lodash_placeholder__",i[o++]=n)}return i}var k,_,E,S=Function.prototype,C=Object.prototype,x=g["__core-js_shared__"],I=(k=/[^.]+$/.exec(x&&x.keys&&x.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",A=S.toString,P=C.hasOwnProperty,R=C.toString,O=RegExp("^"+A.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=Object.create,D=Math.max,M=Math.min,N=(_=H(Object,"defineProperty"),(E=H.name)&&E.length>2?_:void 0);function j(e){return Q(e)?T(e):{}}function L(e){return!(!Q(e)||function(e){return!!I&&I in e}(e))&&(function(e){var t=Q(e)?R.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?O:l).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function B(e,t,n,r){for(var o=-1,i=e.length,s=n.length,a=-1,c=t.length,l=D(i-s,0),u=Array(c+l),d=!r;++a<c;)u[a]=t[a];for(;++o<s;)(d||o<i)&&(u[n[o]]=e[o]);for(;l--;)u[a++]=e[o++];return u}function z(e,t,n,r){for(var o=-1,i=e.length,s=-1,a=n.length,c=-1,l=t.length,u=D(i-a,0),d=Array(u+l),p=!r;++o<u;)d[o]=e[o];for(var h=o;++c<l;)d[h+c]=t[c];for(;++s<a;)(p||o<i)&&(d[h+n[s]]=e[o++]);return d}function F(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=j(e.prototype),r=e.apply(n,t);return Q(r)?r:n}}function U(e,t,n,r,o,i,s,a,c,l){var u=128&t,d=1&t,p=2&t,h=24&t,f=512&t,y=p?void 0:F(e);return function m(){for(var b=arguments.length,k=Array(b),_=b;_--;)k[_]=arguments[_];if(h)var E=q(m),S=v(k,E);if(r&&(k=B(k,r,o,h)),i&&(k=z(k,i,s,h)),b-=S,h&&b<l){var C=w(k,E);return $(e,t,U,m.placeholder,n,k,C,a,c,l-b)}var x=d?n:this,I=p?x[e]:e;return b=k.length,a?k=X(k,a):f&&b>1&&k.reverse(),u&&c<b&&(k.length=c),this&&this!==g&&this instanceof m&&(I=y||F(I)),I.apply(x,k)}}function $(e,t,n,r,o,i,s,a,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=n(e,t,o,u?i:void 0,u?s:void 0,u?void 0:i,u?void 0:s,a,c,l);return d.placeholder=r,Y(d,e,t)}function W(e,t,n,r,o,i,s,a){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var l=r?r.length:0;if(l||(t&=-97,r=o=void 0),s=void 0===s?s:D(te(s),0),a=void 0===a?a:te(a),l-=o?o.length:0,64&t){var u=r,d=o;r=o=void 0}var p=[e,t,n,r,o,u,d,i,s,a];if(e=p[0],t=p[1],n=p[2],r=p[3],o=p[4],!(a=p[9]=null==p[9]?c?0:e.length:D(p[9]-l,0))&&24&t&&(t&=-25),t&&1!=t)h=8==t||16==t?function(e,t,n){var r=F(e);return function o(){for(var i=arguments.length,s=Array(i),a=i,c=q(o);a--;)s[a]=arguments[a];var l=i<3&&s[0]!==c&&s[i-1]!==c?[]:w(s,c);return(i-=l.length)<n?$(e,t,U,o.placeholder,void 0,s,l,void 0,void 0,n-i):y(this&&this!==g&&this instanceof o?r:e,this,s)}}(e,t,a):32!=t&&33!=t||o.length?U.apply(void 0,p):function(e,t,n,r){var o=1&t,i=F(e);return function t(){for(var s=-1,a=arguments.length,c=-1,l=r.length,u=Array(l+a),d=this&&this!==g&&this instanceof t?i:e;++c<l;)u[c]=r[c];for(;a--;)u[c++]=arguments[++s];return y(d,o?n:this,u)}}(e,t,n,r);else var h=function(e,t,n){var r=1&t,o=F(e);return function t(){return(this&&this!==g&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,n);return Y(h,e,t)}function q(e){return e.placeholder}function H(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return L(n)?n:void 0}function K(e){var t=e.match(i);return t?t[1].split(s):[]}function G(e,t){var n=t.length,r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(o,"{\n/* [wrapped with "+t+"] */\n")}function V(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||d.test(e))&&e>-1&&e%1==0&&e<t}function X(e,t){for(var n=e.length,r=M(t.length,n),o=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e);r--;){var i=t[r];e[r]=V(i,n)?o[i]:void 0}return e}var Y=N?function(e,t,n){var r,o=t+"";return N(e,"toString",{configurable:!0,enumerable:!1,value:(r=G(o,Z(K(o),n)),function(){return r})})}:function(e){return e};function Z(e,t){return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(n,(function(n){var r="_."+n[0];t&n[1]&&!m(e,r)&&e.push(r)})),e.sort()}function J(e,t,n){var r=W(e,8,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return r.placeholder=J.placeholder,r}function Q(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ee(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==R.call(e)}(e))return NaN;if(Q(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Q(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=c.test(e);return n||u.test(e)?p(e.slice(2),n?2:8):a.test(e)?NaN:+e}(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function te(e){var t=ee(e),n=t%1;return t==t?n?t-n:t:0}J.placeholder={},e.exports=J}).call(this,n(43))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var o=n(95);t.threezerotwofour=r(o);var i=n(96);t.apathy=r(i);var s=n(97);t.ashes=r(s);var a=n(98);t.atelierDune=r(a);var c=n(99);t.atelierForest=r(c);var l=n(100);t.atelierHeath=r(l);var u=n(101);t.atelierLakeside=r(u);var d=n(102);t.atelierSeaside=r(d);var p=n(103);t.bespin=r(p);var h=n(104);t.brewer=r(h);var f=n(105);t.bright=r(f);var g=n(106);t.chalk=r(g);var y=n(107);t.codeschool=r(y);var m=n(108);t.colors=r(m);var b=n(109);t.default=r(b);var v=n(110);t.eighties=r(v);var w=n(111);t.embers=r(w);var k=n(112);t.flat=r(k);var _=n(113);t.google=r(_);var E=n(114);t.grayscale=r(E);var S=n(115);t.greenscreen=r(S);var C=n(116);t.harmonic=r(C);var x=n(117);t.hopscotch=r(x);var I=n(118);t.isotope=r(I);var A=n(119);t.marrakesh=r(A);var P=n(120);t.mocha=r(P);var R=n(121);t.monokai=r(R);var O=n(122);t.ocean=r(O);var T=n(123);t.paraiso=r(T);var D=n(124);t.pop=r(D);var M=n(125);t.railscasts=r(M);var N=n(126);t.shapeshifter=r(N);var j=n(127);t.solarized=r(j);var L=n(128);t.summerfruit=r(L);var B=n(129);t.tomorrow=r(B);var z=n(130);t.tube=r(z);var F=n(131);t.twilight=r(F)},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"threezerotwofour",author:"jan t. sott (http://github.com/idleberg)",base00:"#090300",base01:"#3a3432",base02:"#4a4543",base03:"#5c5855",base04:"#807d7c",base05:"#a5a2a2",base06:"#d6d5d4",base07:"#f7f7f7",base08:"#db2d20",base09:"#e8bbd0",base0A:"#fded02",base0B:"#01a252",base0C:"#b5e4f4",base0D:"#01a0e4",base0E:"#a16a94",base0F:"#cdab53"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"apathy",author:"jannik siebert (https://github.com/janniks)",base00:"#031A16",base01:"#0B342D",base02:"#184E45",base03:"#2B685E",base04:"#5F9C92",base05:"#81B5AC",base06:"#A7CEC8",base07:"#D2E7E4",base08:"#3E9688",base09:"#3E7996",base0A:"#3E4C96",base0B:"#883E96",base0C:"#963E4C",base0D:"#96883E",base0E:"#4C963E",base0F:"#3E965B"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"ashes",author:"jannik siebert (https://github.com/janniks)",base00:"#1C2023",base01:"#393F45",base02:"#565E65",base03:"#747C84",base04:"#ADB3BA",base05:"#C7CCD1",base06:"#DFE2E5",base07:"#F3F4F5",base08:"#C7AE95",base09:"#C7C795",base0A:"#AEC795",base0B:"#95C7AE",base0C:"#95AEC7",base0D:"#AE95C7",base0E:"#C795AE",base0F:"#C79595"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier dune",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/dune)",base00:"#20201d",base01:"#292824",base02:"#6e6b5e",base03:"#7d7a68",base04:"#999580",base05:"#a6a28c",base06:"#e8e4cf",base07:"#fefbec",base08:"#d73737",base09:"#b65611",base0A:"#cfb017",base0B:"#60ac39",base0C:"#1fad83",base0D:"#6684e1",base0E:"#b854d4",base0F:"#d43552"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier forest",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/forest)",base00:"#1b1918",base01:"#2c2421",base02:"#68615e",base03:"#766e6b",base04:"#9c9491",base05:"#a8a19f",base06:"#e6e2e0",base07:"#f1efee",base08:"#f22c40",base09:"#df5320",base0A:"#d5911a",base0B:"#5ab738",base0C:"#00ad9c",base0D:"#407ee7",base0E:"#6666ea",base0F:"#c33ff3"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier heath",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/heath)",base00:"#1b181b",base01:"#292329",base02:"#695d69",base03:"#776977",base04:"#9e8f9e",base05:"#ab9bab",base06:"#d8cad8",base07:"#f7f3f7",base08:"#ca402b",base09:"#a65926",base0A:"#bb8a35",base0B:"#379a37",base0C:"#159393",base0D:"#516aec",base0E:"#7b59c0",base0F:"#cc33cc"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier lakeside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/lakeside/)",base00:"#161b1d",base01:"#1f292e",base02:"#516d7b",base03:"#5a7b8c",base04:"#7195a8",base05:"#7ea2b4",base06:"#c1e4f6",base07:"#ebf8ff",base08:"#d22d72",base09:"#935c25",base0A:"#8a8a0f",base0B:"#568c3b",base0C:"#2d8f6f",base0D:"#257fad",base0E:"#5d5db1",base0F:"#b72dd2"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"atelier seaside",author:"bram de haan (http://atelierbram.github.io/syntax-highlighting/atelier-schemes/seaside/)",base00:"#131513",base01:"#242924",base02:"#5e6e5e",base03:"#687d68",base04:"#809980",base05:"#8ca68c",base06:"#cfe8cf",base07:"#f0fff0",base08:"#e6193c",base09:"#87711d",base0A:"#c3c322",base0B:"#29a329",base0C:"#1999b3",base0D:"#3d62f5",base0E:"#ad2bee",base0F:"#e619c3"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"bespin",author:"jan t. sott",base00:"#28211c",base01:"#36312e",base02:"#5e5d5c",base03:"#666666",base04:"#797977",base05:"#8a8986",base06:"#9d9b97",base07:"#baae9e",base08:"#cf6a4c",base09:"#cf7d34",base0A:"#f9ee98",base0B:"#54be0d",base0C:"#afc4db",base0D:"#5ea6ea",base0E:"#9b859d",base0F:"#937121"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"brewer",author:"timoth\xe9e poisot (http://github.com/tpoisot)",base00:"#0c0d0e",base01:"#2e2f30",base02:"#515253",base03:"#737475",base04:"#959697",base05:"#b7b8b9",base06:"#dadbdc",base07:"#fcfdfe",base08:"#e31a1c",base09:"#e6550d",base0A:"#dca060",base0B:"#31a354",base0C:"#80b1d3",base0D:"#3182bd",base0E:"#756bb1",base0F:"#b15928"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"bright",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#303030",base02:"#505050",base03:"#b0b0b0",base04:"#d0d0d0",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ffffff",base08:"#fb0120",base09:"#fc6d24",base0A:"#fda331",base0B:"#a1c659",base0C:"#76c7b7",base0D:"#6fb3d2",base0E:"#d381c3",base0F:"#be643c"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"chalk",author:"chris kempson (http://chriskempson.com)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#f5f5f5",base08:"#fb9fb1",base09:"#eda987",base0A:"#ddb26f",base0B:"#acc267",base0C:"#12cfc0",base0D:"#6fc2ef",base0E:"#e1a3ee",base0F:"#deaf8f"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"codeschool",author:"brettof86",base00:"#232c31",base01:"#1c3657",base02:"#2a343a",base03:"#3f4944",base04:"#84898c",base05:"#9ea7a6",base06:"#a7cfa3",base07:"#b5d8f6",base08:"#2a5491",base09:"#43820d",base0A:"#a03b1e",base0B:"#237986",base0C:"#b02f30",base0D:"#484d79",base0E:"#c59820",base0F:"#c98344"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"colors",author:"mrmrs (http://clrs.cc)",base00:"#111111",base01:"#333333",base02:"#555555",base03:"#777777",base04:"#999999",base05:"#bbbbbb",base06:"#dddddd",base07:"#ffffff",base08:"#ff4136",base09:"#ff851b",base0A:"#ffdc00",base0B:"#2ecc40",base0C:"#7fdbff",base0D:"#0074d9",base0E:"#b10dc9",base0F:"#85144b"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"default",author:"chris kempson (http://chriskempson.com)",base00:"#181818",base01:"#282828",base02:"#383838",base03:"#585858",base04:"#b8b8b8",base05:"#d8d8d8",base06:"#e8e8e8",base07:"#f8f8f8",base08:"#ab4642",base09:"#dc9656",base0A:"#f7ca88",base0B:"#a1b56c",base0C:"#86c1b9",base0D:"#7cafc2",base0E:"#ba8baf",base0F:"#a16946"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"eighties",author:"chris kempson (http://chriskempson.com)",base00:"#2d2d2d",base01:"#393939",base02:"#515151",base03:"#747369",base04:"#a09f93",base05:"#d3d0c8",base06:"#e8e6df",base07:"#f2f0ec",base08:"#f2777a",base09:"#f99157",base0A:"#ffcc66",base0B:"#99cc99",base0C:"#66cccc",base0D:"#6699cc",base0E:"#cc99cc",base0F:"#d27b53"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"embers",author:"jannik siebert (https://github.com/janniks)",base00:"#16130F",base01:"#2C2620",base02:"#433B32",base03:"#5A5047",base04:"#8A8075",base05:"#A39A90",base06:"#BEB6AE",base07:"#DBD6D1",base08:"#826D57",base09:"#828257",base0A:"#6D8257",base0B:"#57826D",base0C:"#576D82",base0D:"#6D5782",base0E:"#82576D",base0F:"#825757"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"flat",author:"chris kempson (http://chriskempson.com)",base00:"#2C3E50",base01:"#34495E",base02:"#7F8C8D",base03:"#95A5A6",base04:"#BDC3C7",base05:"#e0e0e0",base06:"#f5f5f5",base07:"#ECF0F1",base08:"#E74C3C",base09:"#E67E22",base0A:"#F1C40F",base0B:"#2ECC71",base0C:"#1ABC9C",base0D:"#3498DB",base0E:"#9B59B6",base0F:"#be643c"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"google",author:"seth wright (http://sethawright.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#CC342B",base09:"#F96A38",base0A:"#FBA922",base0B:"#198844",base0C:"#3971ED",base0D:"#3971ED",base0E:"#A36AC7",base0F:"#3971ED"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"grayscale",author:"alexandre gavioli (https://github.com/alexx2/)",base00:"#101010",base01:"#252525",base02:"#464646",base03:"#525252",base04:"#ababab",base05:"#b9b9b9",base06:"#e3e3e3",base07:"#f7f7f7",base08:"#7c7c7c",base09:"#999999",base0A:"#a0a0a0",base0B:"#8e8e8e",base0C:"#868686",base0D:"#686868",base0E:"#747474",base0F:"#5e5e5e"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"green screen",author:"chris kempson (http://chriskempson.com)",base00:"#001100",base01:"#003300",base02:"#005500",base03:"#007700",base04:"#009900",base05:"#00bb00",base06:"#00dd00",base07:"#00ff00",base08:"#007700",base09:"#009900",base0A:"#007700",base0B:"#00bb00",base0C:"#005500",base0D:"#009900",base0E:"#00bb00",base0F:"#005500"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"harmonic16",author:"jannik siebert (https://github.com/janniks)",base00:"#0b1c2c",base01:"#223b54",base02:"#405c79",base03:"#627e99",base04:"#aabcce",base05:"#cbd6e2",base06:"#e5ebf1",base07:"#f7f9fb",base08:"#bf8b56",base09:"#bfbf56",base0A:"#8bbf56",base0B:"#56bf8b",base0C:"#568bbf",base0D:"#8b56bf",base0E:"#bf568b",base0F:"#bf5656"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"hopscotch",author:"jan t. sott",base00:"#322931",base01:"#433b42",base02:"#5c545b",base03:"#797379",base04:"#989498",base05:"#b9b5b8",base06:"#d5d3d5",base07:"#ffffff",base08:"#dd464c",base09:"#fd8b19",base0A:"#fdcc59",base0B:"#8fc13e",base0C:"#149b93",base0D:"#1290bf",base0E:"#c85e7c",base0F:"#b33508"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"isotope",author:"jan t. sott",base00:"#000000",base01:"#404040",base02:"#606060",base03:"#808080",base04:"#c0c0c0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#ff0000",base09:"#ff9900",base0A:"#ff0099",base0B:"#33ff00",base0C:"#00ffff",base0D:"#0066ff",base0E:"#cc00ff",base0F:"#3300ff"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"marrakesh",author:"alexandre gavioli (http://github.com/alexx2/)",base00:"#201602",base01:"#302e00",base02:"#5f5b17",base03:"#6c6823",base04:"#86813b",base05:"#948e48",base06:"#ccc37a",base07:"#faf0a5",base08:"#c35359",base09:"#b36144",base0A:"#a88339",base0B:"#18974e",base0C:"#75a738",base0D:"#477ca1",base0E:"#8868b3",base0F:"#b3588e"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"mocha",author:"chris kempson (http://chriskempson.com)",base00:"#3B3228",base01:"#534636",base02:"#645240",base03:"#7e705a",base04:"#b8afad",base05:"#d0c8c6",base06:"#e9e1dd",base07:"#f5eeeb",base08:"#cb6077",base09:"#d28b71",base0A:"#f4bc87",base0B:"#beb55b",base0C:"#7bbda4",base0D:"#8ab3b5",base0E:"#a89bb9",base0F:"#bb9584"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"monokai",author:"wimer hazenberg (http://www.monokai.nl)",base00:"#272822",base01:"#383830",base02:"#49483e",base03:"#75715e",base04:"#a59f85",base05:"#f8f8f2",base06:"#f5f4f1",base07:"#f9f8f5",base08:"#f92672",base09:"#fd971f",base0A:"#f4bf75",base0B:"#a6e22e",base0C:"#a1efe4",base0D:"#66d9ef",base0E:"#ae81ff",base0F:"#cc6633"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"ocean",author:"chris kempson (http://chriskempson.com)",base00:"#2b303b",base01:"#343d46",base02:"#4f5b66",base03:"#65737e",base04:"#a7adba",base05:"#c0c5ce",base06:"#dfe1e8",base07:"#eff1f5",base08:"#bf616a",base09:"#d08770",base0A:"#ebcb8b",base0B:"#a3be8c",base0C:"#96b5b4",base0D:"#8fa1b3",base0E:"#b48ead",base0F:"#ab7967"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"paraiso",author:"jan t. sott",base00:"#2f1e2e",base01:"#41323f",base02:"#4f424c",base03:"#776e71",base04:"#8d8687",base05:"#a39e9b",base06:"#b9b6b0",base07:"#e7e9db",base08:"#ef6155",base09:"#f99b15",base0A:"#fec418",base0B:"#48b685",base0C:"#5bc4bf",base0D:"#06b6ef",base0E:"#815ba4",base0F:"#e96ba8"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"pop",author:"chris kempson (http://chriskempson.com)",base00:"#000000",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#b0b0b0",base05:"#d0d0d0",base06:"#e0e0e0",base07:"#ffffff",base08:"#eb008a",base09:"#f29333",base0A:"#f8ca12",base0B:"#37b349",base0C:"#00aabb",base0D:"#0e5a94",base0E:"#b31e8d",base0F:"#7a2d00"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"railscasts",author:"ryan bates (http://railscasts.com)",base00:"#2b2b2b",base01:"#272935",base02:"#3a4055",base03:"#5a647e",base04:"#d4cfc9",base05:"#e6e1dc",base06:"#f4f1ed",base07:"#f9f7f3",base08:"#da4939",base09:"#cc7833",base0A:"#ffc66d",base0B:"#a5c261",base0C:"#519f50",base0D:"#6d9cbe",base0E:"#b6b3eb",base0F:"#bc9458"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"shapeshifter",author:"tyler benziger (http://tybenz.com)",base00:"#000000",base01:"#040404",base02:"#102015",base03:"#343434",base04:"#555555",base05:"#ababab",base06:"#e0e0e0",base07:"#f9f9f9",base08:"#e92f2f",base09:"#e09448",base0A:"#dddd13",base0B:"#0ed839",base0C:"#23edda",base0D:"#3b48e3",base0E:"#f996e2",base0F:"#69542d"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"solarized",author:"ethan schoonover (http://ethanschoonover.com/solarized)",base00:"#002b36",base01:"#073642",base02:"#586e75",base03:"#657b83",base04:"#839496",base05:"#93a1a1",base06:"#eee8d5",base07:"#fdf6e3",base08:"#dc322f",base09:"#cb4b16",base0A:"#b58900",base0B:"#859900",base0C:"#2aa198",base0D:"#268bd2",base0E:"#6c71c4",base0F:"#d33682"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"summerfruit",author:"christopher corley (http://cscorley.github.io/)",base00:"#151515",base01:"#202020",base02:"#303030",base03:"#505050",base04:"#B0B0B0",base05:"#D0D0D0",base06:"#E0E0E0",base07:"#FFFFFF",base08:"#FF0086",base09:"#FD8900",base0A:"#ABA800",base0B:"#00C918",base0C:"#1faaaa",base0D:"#3777E6",base0E:"#AD00A1",base0F:"#cc6633"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"tomorrow",author:"chris kempson (http://chriskempson.com)",base00:"#1d1f21",base01:"#282a2e",base02:"#373b41",base03:"#969896",base04:"#b4b7b4",base05:"#c5c8c6",base06:"#e0e0e0",base07:"#ffffff",base08:"#cc6666",base09:"#de935f",base0A:"#f0c674",base0B:"#b5bd68",base0C:"#8abeb7",base0D:"#81a2be",base0E:"#b294bb",base0F:"#a3685a"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"london tube",author:"jan t. sott",base00:"#231f20",base01:"#1c3f95",base02:"#5a5758",base03:"#737171",base04:"#959ca1",base05:"#d9d8d8",base06:"#e7e7e8",base07:"#ffffff",base08:"#ee2e24",base09:"#f386a1",base0A:"#ffd204",base0B:"#00853e",base0C:"#85cebc",base0D:"#009ddc",base0E:"#98005d",base0F:"#b06110"},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default={scheme:"twilight",author:"david hart (http://hart-dev.com)",base00:"#1e1e1e",base01:"#323537",base02:"#464b50",base03:"#5f5a60",base04:"#838184",base05:"#a7a7a7",base06:"#c3c3c3",base07:"#ffffff",base08:"#cf6a4c",base09:"#cda869",base0A:"#f9ee98",base0B:"#8f9d6a",base0C:"#afc4db",base0D:"#7587a6",base0E:"#9b859d",base0F:"#9b703f"},e.exports=t.default},function(e,t,n){var r=n(33);function o(e){var t=Math.round(r(e,0,255)).toString(16);return 1==t.length?"0"+t:t}e.exports=function(e){var t=4===e.length?o(255*e[3]):"";return"#"+o(e[0])+o(e[1])+o(e[2])+t}},function(e,t,n){var r=n(134),o=n(135),i=n(136),s=n(137),a={"#":o,hsl:function(e){var t=r(e),n=s(t);return 4===t.length&&n.push(t[3]),n},rgb:i};function c(e){for(var t in a)if(0===e.indexOf(t))return a[t](e)}c.rgb=i,c.hsl=r,c.hex=o,e.exports=c},function(e,t,n){var r=n(44),o=n(33);function i(e,t){switch(e=parseFloat(e),t){case 0:return o(e,0,360);case 1:case 2:return o(e,0,100);case 3:return o(e,0,1)}}e.exports=function(e){return r(e).map(i)}},function(e,t){e.exports=function(e){4!==e.length&&5!==e.length||(e=function(e){for(var t="#",n=1;n<e.length;n++){var r=e.charAt(n);t+=r+r}return t}(e));var t=[parseInt(e.substring(1,3),16),parseInt(e.substring(3,5),16),parseInt(e.substring(5,7),16)];if(9===e.length){var n=parseFloat((parseInt(e.substring(7,9),16)/255).toFixed(2));t.push(n)}return t}},function(e,t,n){var r=n(44),o=n(33);function i(e,t){return t<3?-1!=e.indexOf("%")?Math.round(255*o(parseInt(e,10),0,100)/100):o(parseInt(e,10),0,255):o(parseFloat(e),0,1)}e.exports=function(e){return r(e).map(i)}},function(e,t){e.exports=function(e){var t,n,r,o,i,s=e[0]/360,a=e[1]/100,c=e[2]/100;if(0==a)return[i=255*c,i,i];t=2*c-(n=c<.5?c*(1+a):c+a-c*a),o=[0,0,0];for(var l=0;l<3;l++)(r=s+1/3*-(l-1))<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[l]=255*i;return o}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,o=n||r||Function("return this")();function i(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function s(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}var a=Object.prototype,c=a.hasOwnProperty,l=a.toString,u=o.Symbol,d=a.propertyIsEnumerable,p=u?u.isConcatSpreadable:void 0,h=Math.max;function f(e){return b(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?l.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&c.call(e,"callee")&&(!d.call(e,"callee")||"[object Arguments]"==l.call(e))}(e)||!!(p&&e&&e[p])}var g,y,m,b=Array.isArray,v=(y=function(e){var t=(e=function e(t,n,r,o,i){var a=-1,c=t.length;for(r||(r=f),i||(i=[]);++a<c;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,o,i):s(i,l):o||(i[i.length]=l)}return i}(e,1)).length,n=t;for(g&&e.reverse();n--;)if("function"!=typeof e[n])throw new TypeError("Expected a function");return function(){for(var n=0,r=t?e[n].apply(this,arguments):arguments[0];++n<t;)r=e[n].call(this,r);return r}},m=h(void 0===m?y.length-1:m,0),function(){for(var e=arguments,t=-1,n=h(e.length-m,0),r=Array(n);++t<n;)r[t]=e[m+t];t=-1;for(var o=Array(m+1);++t<m;)o[t]=e[t];return o[m]=r,i(y,this,o)});e.exports=v}).call(this,n(43))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yuv2rgb=function(e){var t,n,r,o=e[0],i=e[1],s=e[2];return t=1*o+0*i+1.13983*s,n=1*o+-.39465*i+-.5806*s,r=1*o+2.02311*i+0*s,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]},t.rgb2yuv=function(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[.299*t+.587*n+.114*r,-.14713*t+-.28886*n+.436*r,.615*t+-.51499*n+-.10001*r]}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(141),i=function(){function e(){r(this,"_callbacks",void 0),r(this,"_isDispatching",void 0),r(this,"_isHandled",void 0),r(this,"_isPending",void 0),r(this,"_lastID",void 0),r(this,"_pendingPayload",void 0),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}var t=e.prototype;return t.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},t.unregister=function(e){this._callbacks[e]||o(!1),delete this._callbacks[e]},t.waitFor=function(e){this._isDispatching||o(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||o(!1):(this._callbacks[n]||o(!1),this._invokeCallback(n))}},t.dispatch=function(e){this._isDispatching&&o(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},t.isDispatching=function(){return this._isDispatching},t._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},t._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},t._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=i},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];if(r(t),!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(s=new Error(t.replace(/%s/g,(function(){return String(o[a++])})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?h(e):t}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}n.r(t);var y=n(0),m=n.n(y);function b(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function v(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function w(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function k(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,s="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=b,t.componentWillReceiveProps=v),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=w;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,r)}}return e}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function E(e){var t=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(e);return"number"===t&&(t=isNaN(e)?"nan":(0|e)!=e?"float":"integer"),t}b.__suppressDeprecationWarning=!0,v.__suppressDeprecationWarning=!0,w.__suppressDeprecationWarning=!0;var S={scheme:"rjv-default",author:"mac gainor",base00:"rgba(0, 0, 0, 0)",base01:"rgb(245, 245, 245)",base02:"rgb(235, 235, 235)",base03:"#93a1a1",base04:"rgba(0, 0, 0, 0.3)",base05:"#586e75",base06:"#073642",base07:"#002b36",base08:"#d33682",base09:"#cb4b16",base0A:"#dc322f",base0B:"#859900",base0C:"#6c71c4",base0D:"#586e75",base0E:"#2aa198",base0F:"#268bd2"},C={scheme:"rjv-grey",author:"mac gainor",base00:"rgba(1, 1, 1, 0)",base01:"rgba(1, 1, 1, 0.1)",base02:"rgba(0, 0, 0, 0.2)",base03:"rgba(1, 1, 1, 0.3)",base04:"rgba(0, 0, 0, 0.4)",base05:"rgba(1, 1, 1, 0.5)",base06:"rgba(1, 1, 1, 0.6)",base07:"rgba(1, 1, 1, 0.7)",base08:"rgba(1, 1, 1, 0.8)",base09:"rgba(1, 1, 1, 0.8)",base0A:"rgba(1, 1, 1, 0.8)",base0B:"rgba(1, 1, 1, 0.8)",base0C:"rgba(1, 1, 1, 0.8)",base0D:"rgba(1, 1, 1, 0.8)",base0E:"rgba(1, 1, 1, 0.8)",base0F:"rgba(1, 1, 1, 0.8)"},x={white:"#fff",black:"#000",transparent:"rgba(1, 1, 1, 0)",globalFontFamily:"monospace",globalCursor:"default",indentBlockWidth:"5px",braceFontWeight:"bold",braceCursor:"pointer",ellipsisFontSize:"18px",ellipsisLineHeight:"10px",ellipsisCursor:"pointer",keyMargin:"0px 5px",keyLetterSpacing:"0.5px",keyFontStyle:"none",keyBorderRadius:"3px",keyColonWeight:"bold",keyVerticalAlign:"top",keyOpacity:"0.85",keyOpacityHover:"1",keyValPaddingTop:"3px",keyValPaddingBottom:"3px",keyValPaddingRight:"5px",keyValBorderLeft:"1px solid",keyValBorderHover:"2px solid",keyValPaddingHover:"3px 5px 3px 4px",pushedContentMarginLeft:"6px",variableValuePaddingRight:"6px",nullFontSize:"11px",nullFontWeight:"bold",nullPadding:"1px 2px",nullBorderRadius:"3px",nanFontSize:"11px",nanFontWeight:"bold",nanPadding:"1px 2px",nanBorderRadius:"3px",undefinedFontSize:"11px",undefinedFontWeight:"bold",undefinedPadding:"1px 2px",undefinedBorderRadius:"3px",dataTypeFontSize:"11px",dataTypeMarginRight:"4px",datatypeOpacity:"0.8",objectSizeBorderRadius:"3px",objectSizeFontStyle:"italic",objectSizeMargin:"0px 6px 0px 0px",clipboardCursor:"pointer",clipboardCheckMarginLeft:"-12px",metaDataPadding:"0px 0px 0px 10px",arrayGroupMetaPadding:"0px 0px 0px 4px",iconContainerWidth:"17px",tooltipPadding:"4px",editInputMinWidth:"130px",editInputBorderRadius:"2px",editInputPadding:"5px",editInputMarginRight:"4px",editInputFontFamily:"monospace",iconCursor:"pointer",iconFontSize:"15px",iconPaddingRight:"1px",dateValueMarginLeft:"2px",iconMarginRight:"3px",detectedRowPaddingTop:"3px",addKeyCoverBackground:"rgba(255, 255, 255, 0.3)",addKeyCoverPosition:"absolute",addKeyCoverPositionPx:"0px",addKeyModalWidth:"200px",addKeyModalMargin:"auto",addKeyModalPadding:"10px",addKeyModalRadius:"3px"},I=n(45),A=function(e){var t=function(e){return{backgroundColor:e.base00,ellipsisColor:e.base09,braceColor:e.base07,expandedIcon:e.base0D,collapsedIcon:e.base0E,keyColor:e.base07,arrayKeyColor:e.base0C,objectSize:e.base04,copyToClipboard:e.base0F,copyToClipboardCheck:e.base0D,objectBorder:e.base02,dataTypes:{boolean:e.base0E,date:e.base0D,float:e.base0B,function:e.base0D,integer:e.base0F,string:e.base09,nan:e.base08,null:e.base0A,undefined:e.base05,regexp:e.base0A,background:e.base02},editVariable:{editIcon:e.base0E,cancelIcon:e.base09,removeIcon:e.base09,addIcon:e.base0E,checkIcon:e.base0E,background:e.base01,color:e.base0A,border:e.base07},addKeyModal:{background:e.base05,border:e.base04,color:e.base0A,labelColor:e.base01},validationFailure:{background:e.base09,iconColor:e.base01,fontColor:e.base01}}}(e);return{"app-container":{fontFamily:x.globalFontFamily,cursor:x.globalCursor,backgroundColor:t.backgroundColor,position:"relative"},ellipsis:{display:"inline-block",color:t.ellipsisColor,fontSize:x.ellipsisFontSize,lineHeight:x.ellipsisLineHeight,cursor:x.ellipsisCursor},"brace-row":{display:"inline-block",cursor:"pointer"},brace:{display:"inline-block",cursor:x.braceCursor,fontWeight:x.braceFontWeight,color:t.braceColor},"expanded-icon":{color:t.expandedIcon},"collapsed-icon":{color:t.collapsedIcon},colon:{display:"inline-block",margin:x.keyMargin,color:t.keyColor,verticalAlign:"top"},objectKeyVal:function(e,n){return{style:i({paddingTop:x.keyValPaddingTop,paddingRight:x.keyValPaddingRight,paddingBottom:x.keyValPaddingBottom,borderLeft:x.keyValBorderLeft+" "+t.objectBorder,":hover":{paddingLeft:n.paddingLeft-1+"px",borderLeft:x.keyValBorderHover+" "+t.objectBorder}},n)}},"object-key-val-no-border":{padding:x.keyValPadding},"pushed-content":{marginLeft:x.pushedContentMarginLeft},variableValue:function(e,t){return{style:i({display:"inline-block",paddingRight:x.variableValuePaddingRight,position:"relative"},t)}},"object-name":{display:"inline-block",color:t.keyColor,letterSpacing:x.keyLetterSpacing,fontStyle:x.keyFontStyle,verticalAlign:x.keyVerticalAlign,opacity:x.keyOpacity,":hover":{opacity:x.keyOpacityHover}},"array-key":{display:"inline-block",color:t.arrayKeyColor,letterSpacing:x.keyLetterSpacing,fontStyle:x.keyFontStyle,verticalAlign:x.keyVerticalAlign,opacity:x.keyOpacity,":hover":{opacity:x.keyOpacityHover}},"object-size":{color:t.objectSize,borderRadius:x.objectSizeBorderRadius,fontStyle:x.objectSizeFontStyle,margin:x.objectSizeMargin,cursor:"default"},"data-type-label":{fontSize:x.dataTypeFontSize,marginRight:x.dataTypeMarginRight,opacity:x.datatypeOpacity},boolean:{display:"inline-block",color:t.dataTypes.boolean},date:{display:"inline-block",color:t.dataTypes.date},"date-value":{marginLeft:x.dateValueMarginLeft},float:{display:"inline-block",color:t.dataTypes.float},function:{display:"inline-block",color:t.dataTypes.function,cursor:"pointer",whiteSpace:"pre-line"},"function-value":{fontStyle:"italic"},integer:{display:"inline-block",color:t.dataTypes.integer},string:{display:"inline-block",color:t.dataTypes.string},nan:{display:"inline-block",color:t.dataTypes.nan,fontSize:x.nanFontSize,fontWeight:x.nanFontWeight,backgroundColor:t.dataTypes.background,padding:x.nanPadding,borderRadius:x.nanBorderRadius},null:{display:"inline-block",color:t.dataTypes.null,fontSize:x.nullFontSize,fontWeight:x.nullFontWeight,backgroundColor:t.dataTypes.background,padding:x.nullPadding,borderRadius:x.nullBorderRadius},undefined:{display:"inline-block",color:t.dataTypes.undefined,fontSize:x.undefinedFontSize,padding:x.undefinedPadding,borderRadius:x.undefinedBorderRadius,backgroundColor:t.dataTypes.background},regexp:{display:"inline-block",color:t.dataTypes.regexp},"copy-to-clipboard":{cursor:x.clipboardCursor},"copy-icon":{color:t.copyToClipboard,fontSize:x.iconFontSize,marginRight:x.iconMarginRight,verticalAlign:"top"},"copy-icon-copied":{color:t.copyToClipboardCheck,marginLeft:x.clipboardCheckMarginLeft},"array-group-meta-data":{display:"inline-block",padding:x.arrayGroupMetaPadding},"object-meta-data":{display:"inline-block",padding:x.metaDataPadding},"icon-container":{display:"inline-block",width:x.iconContainerWidth},tooltip:{padding:x.tooltipPadding},removeVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.removeIcon,cursor:x.iconCursor,fontSize:x.iconFontSize,marginRight:x.iconMarginRight},addVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.addIcon,cursor:x.iconCursor,fontSize:x.iconFontSize,marginRight:x.iconMarginRight},editVarIcon:{verticalAlign:"top",display:"inline-block",color:t.editVariable.editIcon,cursor:x.iconCursor,fontSize:x.iconFontSize,marginRight:x.iconMarginRight},"edit-icon-container":{display:"inline-block",verticalAlign:"top"},"check-icon":{display:"inline-block",cursor:x.iconCursor,color:t.editVariable.checkIcon,fontSize:x.iconFontSize,paddingRight:x.iconPaddingRight},"cancel-icon":{display:"inline-block",cursor:x.iconCursor,color:t.editVariable.cancelIcon,fontSize:x.iconFontSize,paddingRight:x.iconPaddingRight},"edit-input":{display:"inline-block",minWidth:x.editInputMinWidth,borderRadius:x.editInputBorderRadius,backgroundColor:t.editVariable.background,color:t.editVariable.color,padding:x.editInputPadding,marginRight:x.editInputMarginRight,fontFamily:x.editInputFontFamily},"detected-row":{paddingTop:x.detectedRowPaddingTop},"key-modal-request":{position:x.addKeyCoverPosition,top:x.addKeyCoverPositionPx,left:x.addKeyCoverPositionPx,right:x.addKeyCoverPositionPx,bottom:x.addKeyCoverPositionPx,backgroundColor:x.addKeyCoverBackground},"key-modal":{width:x.addKeyModalWidth,backgroundColor:t.addKeyModal.background,marginLeft:x.addKeyModalMargin,marginRight:x.addKeyModalMargin,padding:x.addKeyModalPadding,borderRadius:x.addKeyModalRadius,marginTop:"15px",position:"relative"},"key-modal-label":{color:t.addKeyModal.labelColor,marginLeft:"2px",marginBottom:"5px",fontSize:"11px"},"key-modal-input-container":{overflow:"hidden"},"key-modal-input":{width:"100%",padding:"3px 6px",fontFamily:"monospace",color:t.addKeyModal.color,border:"none",boxSizing:"border-box",borderRadius:"2px"},"key-modal-cancel":{backgroundColor:t.editVariable.removeIcon,position:"absolute",top:"0px",right:"0px",borderRadius:"0px 3px 0px 3px",cursor:"pointer"},"key-modal-cancel-icon":{color:t.addKeyModal.labelColor,fontSize:x.iconFontSize,transform:"rotate(45deg)"},"key-modal-submit":{color:t.editVariable.addIcon,fontSize:x.iconFontSize,position:"absolute",right:"2px",top:"3px",cursor:"pointer"},"function-ellipsis":{display:"inline-block",color:t.ellipsisColor,fontSize:x.ellipsisFontSize,lineHeight:x.ellipsisLineHeight,cursor:x.ellipsisCursor},"validation-failure":{float:"right",padding:"3px 6px",borderRadius:"2px",cursor:"pointer",color:t.validationFailure.fontColor,backgroundColor:t.validationFailure.background},"validation-failure-label":{marginRight:"6px"},"validation-failure-clear":{position:"relative",verticalAlign:"top",cursor:"pointer",color:t.validationFailure.iconColor,fontSize:x.iconFontSize,transform:"rotate(45deg)"}}};function P(e,t,n){return e||console.error("theme has not been set"),function(e){var t=S;return!1!==e&&"none"!==e||(t=C),Object(I.createStyling)(A,{defaultBase16:t})(e)}(e)(t,n)}var R=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=(e.rjvId,e.type_name),n=e.displayDataTypes,r=e.theme;return n?m.a.createElement("span",Object.assign({className:"data-type-label"},P(r,"data-type-label")),t):null}}]),n}(m.a.PureComponent),O=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props;return m.a.createElement("div",P(e.theme,"boolean"),m.a.createElement(R,Object.assign({type_name:"bool"},e)),e.value?"true":"false")}}]),n}(m.a.PureComponent),T=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props;return m.a.createElement("div",P(e.theme,"date"),m.a.createElement(R,Object.assign({type_name:"date"},e)),m.a.createElement("span",Object.assign({className:"date-value"},P(e.theme,"date-value")),e.value.toLocaleTimeString("en-us",{weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})))}}]),n}(m.a.PureComponent),D=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props;return m.a.createElement("div",P(e.theme,"float"),m.a.createElement(R,Object.assign({type_name:"float"},e)),this.props.value)}}]),n}(m.a.PureComponent);function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function N(e,t){if(e){if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?M(e,t):void 0}}function j(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=N(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function L(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B=n(46),z=new(n(47).Dispatcher),F=new(function(e){u(n,e);var t=g(n);function n(){var e;s(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).objects={},e.set=function(t,n,r,o){void 0===e.objects[t]&&(e.objects[t]={}),void 0===e.objects[t][n]&&(e.objects[t][n]={}),e.objects[t][n][r]=o},e.get=function(t,n,r,o){return void 0===e.objects[t]||void 0===e.objects[t][n]||null==e.objects[t][n][r]?o:e.objects[t][n][r]},e.handleAction=function(t){var n=t.rjvId,r=t.data;switch(t.name){case"RESET":e.emit("reset-"+n);break;case"VARIABLE_UPDATED":t.data.updated_src=e.updateSrc(n,r),e.set(n,"action","variable-update",i(i({},r),{},{type:"variable-edited"})),e.emit("variable-update-"+n);break;case"VARIABLE_REMOVED":t.data.updated_src=e.updateSrc(n,r),e.set(n,"action","variable-update",i(i({},r),{},{type:"variable-removed"})),e.emit("variable-update-"+n);break;case"VARIABLE_ADDED":t.data.updated_src=e.updateSrc(n,r),e.set(n,"action","variable-update",i(i({},r),{},{type:"variable-added"})),e.emit("variable-update-"+n);break;case"ADD_VARIABLE_KEY_REQUEST":e.set(n,"action","new-key-request",r),e.emit("add-key-request-"+n)}},e.updateSrc=function(t,n){var r=n.name,o=n.namespace,i=n.new_value,s=(n.existing_value,n.variable_removed);o.shift();var a,c=e.get(t,"global","src"),l=e.deepCopy(c,L(o)),u=l,d=j(o);try{for(d.s();!(a=d.n()).done;)u=u[a.value]}catch(e){d.e(e)}finally{d.f()}return s?"array"==E(u)?u.splice(r,1):delete u[r]:null!==r?u[r]=i:l=i,e.set(t,"global","src",l),l},e.deepCopy=function(t,n){var r,o=E(t),s=n.shift();return"array"==o?r=L(t):"object"==o&&(r=i({},t)),void 0!==s&&(r[s]=e.deepCopy(t[s],n)),r},e}return n}(B.EventEmitter));z.register(F.handleAction.bind(F));var U=F,$=function(e){u(n,e);var t=g(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).toggleCollapsed=function(){r.setState({collapsed:!r.state.collapsed},(function(){U.set(r.props.rjvId,r.props.namespace,"collapsed",r.state.collapsed)}))},r.getFunctionDisplay=function(e){var t=h(r).props;return e?m.a.createElement("span",null,r.props.value.toString().slice(9,-1).replace(/\{[\s\S]+/,""),m.a.createElement("span",{className:"function-collapsed",style:{fontWeight:"bold"}},m.a.createElement("span",null,"{"),m.a.createElement("span",P(t.theme,"ellipsis"),"..."),m.a.createElement("span",null,"}"))):r.props.value.toString().slice(9,-1)},r.state={collapsed:U.get(e.rjvId,e.namespace,"collapsed",!0)},r}return c(n,[{key:"render",value:function(){var e=this.props,t=this.state.collapsed;return m.a.createElement("div",P(e.theme,"function"),m.a.createElement(R,Object.assign({type_name:"function"},e)),m.a.createElement("span",Object.assign({},P(e.theme,"function-value"),{className:"rjv-function-container",onClick:this.toggleCollapsed}),this.getFunctionDisplay(t)))}}]),n}(m.a.PureComponent),W=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){return m.a.createElement("div",P(this.props.theme,"nan"),"NaN")}}]),n}(m.a.PureComponent),q=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){return m.a.createElement("div",P(this.props.theme,"null"),"NULL")}}]),n}(m.a.PureComponent),H=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props;return m.a.createElement("div",P(e.theme,"integer"),m.a.createElement(R,Object.assign({type_name:"int"},e)),this.props.value)}}]),n}(m.a.PureComponent),K=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props;return m.a.createElement("div",P(e.theme,"regexp"),m.a.createElement(R,Object.assign({type_name:"regexp"},e)),this.props.value.toString())}}]),n}(m.a.PureComponent),G=function(e){u(n,e);var t=g(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).toggleCollapsed=function(){r.setState({collapsed:!r.state.collapsed},(function(){U.set(r.props.rjvId,r.props.namespace,"collapsed",r.state.collapsed)}))},r.state={collapsed:U.get(e.rjvId,e.namespace,"collapsed",!0)},r}return c(n,[{key:"render",value:function(){this.state.collapsed;var e=this.props,t=e.collapseStringsAfterLength,n=e.theme,r=e.value,o={style:{cursor:"default"}};return"integer"===E(t)&&r.length>t&&(o.style.cursor="pointer",this.state.collapsed&&(r=m.a.createElement("span",null,r.substring(0,t),m.a.createElement("span",P(n,"ellipsis")," ...")))),m.a.createElement("div",P(n,"string"),m.a.createElement(R,Object.assign({type_name:"string"},e)),m.a.createElement("span",Object.assign({className:"string-value"},o,{onClick:this.toggleCollapsed}),'"',r,'"'))}}]),n}(m.a.PureComponent),V=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){return m.a.createElement("div",P(this.props.theme,"undefined"),"undefined")}}]),n}(m.a.PureComponent);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Y=y.useLayoutEffect,Z=function(e){var t=Object(y.useRef)(e);return Y((function(){t.current=e})),t},J=function(e,t){"function"!=typeof e?e.current=t:e(t)},Q=function(e,t){var n=Object(y.useRef)();return Object(y.useCallback)((function(r){e.current=r,n.current&&J(n.current,null),n.current=t,t&&J(t,r)}),[t])},ee={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},te=function(e){Object.keys(ee).forEach((function(t){e.style.setProperty(t,ee[t],"important")}))},ne=null,re=function(){},oe=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],ie=!!document.documentElement.currentStyle,se=function(e,t){var n,r=e.cacheMeasurements,o=e.maxRows,i=e.minRows,s=e.onChange,a=void 0===s?re:s,c=e.onHeightChange,l=void 0===c?re:c,u=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"]),d=void 0!==u.value,p=Object(y.useRef)(null),h=Q(p,t),f=Object(y.useRef)(0),g=Object(y.useRef)(),m=function(){var e=p.current,t=r&&g.current?g.current:function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,oe.reduce((function(e,t){return e[t]=n[t],e}),{})),o=r.boxSizing;return""===o?null:(ie&&"border-box"===o&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})}(e);if(t){g.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),ne||((ne=document.createElement("textarea")).setAttribute("tab-index","-1"),ne.setAttribute("aria-hidden","true"),te(ne)),null===ne.parentNode&&document.body.appendChild(ne);var o=e.paddingSize,i=e.borderSize,s=e.sizingStyle,a=s.boxSizing;Object.keys(s).forEach((function(e){var t=e;ne.style[t]=s[t]})),te(ne),ne.value=t;var c=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize}(ne,e);ne.value="x";var l=ne.scrollHeight-o,u=l*n;"border-box"===a&&(u=u+o+i),c=Math.max(u,c);var d=l*r;return"border-box"===a&&(d=d+o+i),[c=Math.min(d,c),l]}(t,e.value||e.placeholder||"x",i,o),s=n[0],a=n[1];f.current!==s&&(f.current=s,e.style.setProperty("height",s+"px","important"),l(s,{rowHeight:a}))}};return Object(y.useLayoutEffect)(m),n=Z(m),Object(y.useLayoutEffect)((function(){var e=function(e){n.current(e)};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(y.createElement)("textarea",X({},u,{onChange:function(e){d||m(),a(e)},ref:h}))},ae=Object(y.forwardRef)(se);function ce(e){e=e.trim();try{if("["===(e=JSON.stringify(JSON.parse(e)))[0])return le("array",JSON.parse(e));if("{"===e[0])return le("object",JSON.parse(e));if(e.match(/\-?\d+\.\d+/)&&e.match(/\-?\d+\.\d+/)[0]===e)return le("float",parseFloat(e));if(e.match(/\-?\d+e-\d+/)&&e.match(/\-?\d+e-\d+/)[0]===e)return le("float",Number(e));if(e.match(/\-?\d+/)&&e.match(/\-?\d+/)[0]===e)return le("integer",parseInt(e));if(e.match(/\-?\d+e\+\d+/)&&e.match(/\-?\d+e\+\d+/)[0]===e)return le("integer",Number(e))}catch(e){}switch(e=e.toLowerCase()){case"undefined":return le("undefined",void 0);case"nan":return le("nan",NaN);case"null":return le("null",null);case"true":return le("boolean",!0);case"false":return le("boolean",!1);default:if(e=Date.parse(e))return le("date",new Date(e))}return le(!1,null)}function le(e,t){return{type:e,value:t}}var ue=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=_(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},_e(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M7,13H17V11H7"})))}}]),n}(m.a.PureComponent),de=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=_(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},_e(t),{viewBox:"0 0 24 24",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("path",{d:"M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M13,7H11V11H7V13H11V17H13V13H17V11H13V7Z"})))}}]),n}(m.a.PureComponent),pe=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=_(e,["style"]),r=_e(t).style;return m.a.createElement("span",n,m.a.createElement("svg",{fill:r.color,width:r.height,height:r.width,style:r,viewBox:"0 0 1792 1792"},m.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-832q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h832q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),n}(m.a.PureComponent),he=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=_(e,["style"]),r=_e(t).style;return m.a.createElement("span",n,m.a.createElement("svg",{fill:r.color,width:r.height,height:r.width,style:r,viewBox:"0 0 1792 1792"},m.a.createElement("path",{d:"M1344 800v64q0 14-9 23t-23 9h-352v352q0 14-9 23t-23 9h-64q-14 0-23-9t-9-23v-352h-352q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h352v-352q0-14 9-23t23-9h64q14 0 23 9t9 23v352h352q14 0 23 9t9 23zm128 448v-832q0-66-47-113t-113-47h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113zm128-832v832q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q119 0 203.5 84.5t84.5 203.5z"})))}}]),n}(m.a.PureComponent),fe=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=_(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",{style:i(i({},_e(t).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},m.a.createElement("path",{d:"M0 14l6-6-6-6z"})))}}]),n}(m.a.PureComponent),ge=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=_(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",{style:i(i({},_e(t).style),{},{paddingLeft:"2px",verticalAlign:"top"}),viewBox:"0 0 15 15",fill:"currentColor"},m.a.createElement("path",{d:"M0 5l6 6 6-6z"})))}}]),n}(m.a.PureComponent),ye=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=_(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},_e(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("g",null,m.a.createElement("path",{d:"m30 35h-25v-22.5h25v7.5h2.5v-12.5c0-1.4-1.1-2.5-2.5-2.5h-7.5c0-2.8-2.2-5-5-5s-5 2.2-5 5h-7.5c-1.4 0-2.5 1.1-2.5 2.5v27.5c0 1.4 1.1 2.5 2.5 2.5h25c1.4 0 2.5-1.1 2.5-2.5v-5h-2.5v5z m-20-27.5h2.5s2.5-1.1 2.5-2.5 1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5 1.3 2.5 2.5 2.5h2.5s2.5 1.1 2.5 2.5h-20c0-1.5 1.1-2.5 2.5-2.5z m-2.5 20h5v-2.5h-5v2.5z m17.5-5v-5l-10 7.5 10 7.5v-5h12.5v-5h-12.5z m-17.5 10h7.5v-2.5h-7.5v2.5z m12.5-17.5h-12.5v2.5h12.5v-2.5z m-7.5 5h-5v2.5h5v-2.5z"}))))}}]),n}(m.a.PureComponent),me=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=_(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},_e(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("g",null,m.a.createElement("path",{d:"m28.6 25q0-0.5-0.4-1l-4-4 4-4q0.4-0.5 0.4-1 0-0.6-0.4-1.1l-2-2q-0.4-0.4-1-0.4-0.6 0-1 0.4l-4.1 4.1-4-4.1q-0.4-0.4-1-0.4-0.6 0-1 0.4l-2 2q-0.5 0.5-0.5 1.1 0 0.5 0.5 1l4 4-4 4q-0.5 0.5-0.5 1 0 0.7 0.5 1.1l2 2q0.4 0.4 1 0.4 0.6 0 1-0.4l4-4.1 4.1 4.1q0.4 0.4 1 0.4 0.6 0 1-0.4l2-2q0.4-0.4 0.4-1z m8.7-5q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(m.a.PureComponent),be=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=_(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},_e(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("g",null,m.a.createElement("path",{d:"m30.1 21.4v-2.8q0-0.6-0.4-1t-1-0.5h-5.7v-5.7q0-0.6-0.4-1t-1-0.4h-2.9q-0.6 0-1 0.4t-0.4 1v5.7h-5.7q-0.6 0-1 0.5t-0.5 1v2.8q0 0.6 0.5 1t1 0.5h5.7v5.7q0 0.5 0.4 1t1 0.4h2.9q0.6 0 1-0.4t0.4-1v-5.7h5.7q0.6 0 1-0.5t0.4-1z m7.2-1.4q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(m.a.PureComponent),ve=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=_(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},_e(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("g",null,m.a.createElement("path",{d:"m31.6 21.6h-10v10h-3.2v-10h-10v-3.2h10v-10h3.2v10h10v3.2z"}))))}}]),n}(m.a.PureComponent),we=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=_(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},_e(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("g",null,m.a.createElement("path",{d:"m19.8 26.4l2.6-2.6-3.4-3.4-2.6 2.6v1.3h2.2v2.1h1.2z m9.8-16q-0.3-0.4-0.7 0l-7.8 7.8q-0.4 0.4 0 0.7t0.7 0l7.8-7.8q0.4-0.4 0-0.7z m1.8 13.2v4.3q0 2.6-1.9 4.5t-4.5 1.9h-18.6q-2.6 0-4.5-1.9t-1.9-4.5v-18.6q0-2.7 1.9-4.6t4.5-1.8h18.6q1.4 0 2.6 0.5 0.3 0.2 0.4 0.5 0.1 0.4-0.2 0.7l-1.1 1.1q-0.3 0.3-0.7 0.1-0.5-0.1-1-0.1h-18.6q-1.4 0-2.5 1.1t-1 2.5v18.6q0 1.4 1 2.5t2.5 1h18.6q1.5 0 2.5-1t1.1-2.5v-2.9q0-0.2 0.2-0.4l1.4-1.5q0.3-0.3 0.8-0.1t0.4 0.6z m-2.1-16.5l6.4 6.5-15 15h-6.4v-6.5z m9.9 3l-2.1 2-6.4-6.4 2.1-2q0.6-0.7 1.5-0.7t1.5 0.7l3.4 3.4q0.6 0.6 0.6 1.5t-0.6 1.5z"}))))}}]),n}(m.a.PureComponent),ke=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=_(e,["style"]);return m.a.createElement("span",n,m.a.createElement("svg",Object.assign({},_e(t),{viewBox:"0 0 40 40",fill:"currentColor",preserveAspectRatio:"xMidYMid meet"}),m.a.createElement("g",null,m.a.createElement("path",{d:"m31.7 16.4q0-0.6-0.4-1l-2.1-2.1q-0.4-0.4-1-0.4t-1 0.4l-9.1 9.1-5-5q-0.5-0.4-1-0.4t-1 0.4l-2.1 2q-0.4 0.4-0.4 1 0 0.6 0.4 1l8.1 8.1q0.4 0.4 1 0.4 0.6 0 1-0.4l12.2-12.1q0.4-0.4 0.4-1z m5.6 3.6q0 4.7-2.3 8.6t-6.3 6.2-8.6 2.3-8.6-2.3-6.2-6.2-2.3-8.6 2.3-8.6 6.2-6.2 8.6-2.3 8.6 2.3 6.3 6.2 2.3 8.6z"}))))}}]),n}(m.a.PureComponent);function _e(e){return e||(e={}),{style:i(i({verticalAlign:"middle"},e),{},{color:e.color?e.color:"#000000",height:"1em",width:"1em"})}}var Ee=function(e){u(n,e);var t=g(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).copiedTimer=null,r.handleCopy=function(){var e=document.createElement("textarea"),t=r.props,n=t.clickCallback,o=t.src,i=t.namespace;e.innerHTML=JSON.stringify(r.clipboardValue(o),null,"  "),document.body.appendChild(e),e.select(),document.execCommand("copy"),document.body.removeChild(e),r.copiedTimer=setTimeout((function(){r.setState({copied:!1})}),5500),r.setState({copied:!0},(function(){"function"==typeof n&&n({src:o,namespace:i,name:i[i.length-1]})}))},r.getClippyIcon=function(){var e=r.props.theme;return r.state.copied?m.a.createElement("span",null,m.a.createElement(ye,Object.assign({className:"copy-icon"},P(e,"copy-icon"))),m.a.createElement("span",P(e,"copy-icon-copied"),"\u2714")):m.a.createElement(ye,Object.assign({className:"copy-icon"},P(e,"copy-icon")))},r.clipboardValue=function(e){switch(E(e)){case"function":case"regexp":return e.toString();default:return e}},r.state={copied:!1},r}return c(n,[{key:"componentWillUnmount",value:function(){this.copiedTimer&&(clearTimeout(this.copiedTimer),this.copiedTimer=null)}},{key:"render",value:function(){var e=this.props,t=(e.src,e.theme),n=e.hidden,r=e.rowHovered,o=P(t,"copy-to-clipboard").style,s="inline";return n&&(s="none"),m.a.createElement("span",{className:"copy-to-clipboard-container",title:"Copy to clipboard",style:{verticalAlign:"top",display:r?"inline-block":"none"}},m.a.createElement("span",{style:i(i({},o),{},{display:s}),onClick:this.handleCopy},this.getClippyIcon()))}}]),n}(m.a.PureComponent),Se=function(e){u(n,e);var t=g(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).getEditIcon=function(){var e=r.props,t=e.variable,n=e.theme;return m.a.createElement("div",{className:"click-to-edit",style:{verticalAlign:"top",display:r.state.hovered?"inline-block":"none"}},m.a.createElement(we,Object.assign({className:"click-to-edit-icon"},P(n,"editVarIcon"),{onClick:function(){r.prepopInput(t)}})))},r.prepopInput=function(e){if(!1!==r.props.onEdit){var t=function(e){var t;switch(E(e)){case"undefined":t="undefined";break;case"nan":t="NaN";break;case"string":t=e;break;case"date":case"function":case"regexp":t=e.toString();break;default:try{t=JSON.stringify(e,null,"  ")}catch(e){t=""}}return t}(e.value),n=ce(t);r.setState({editMode:!0,editValue:t,parsedInput:{type:n.type,value:n.value}})}},r.getRemoveIcon=function(){var e=r.props,t=e.variable,n=e.namespace,o=e.theme,i=e.rjvId;return m.a.createElement("div",{className:"click-to-remove",style:{verticalAlign:"top",display:r.state.hovered?"inline-block":"none"}},m.a.createElement(me,Object.assign({className:"click-to-remove-icon"},P(o,"removeVarIcon"),{onClick:function(){z.dispatch({name:"VARIABLE_REMOVED",rjvId:i,data:{name:t.name,namespace:n,existing_value:t.value,variable_removed:!0}})}})))},r.getValue=function(e,t){var n=!t&&e.type,o=h(r).props;switch(n){case!1:return r.getEditInput();case"string":return m.a.createElement(G,Object.assign({value:e.value},o));case"integer":return m.a.createElement(H,Object.assign({value:e.value},o));case"float":return m.a.createElement(D,Object.assign({value:e.value},o));case"boolean":return m.a.createElement(O,Object.assign({value:e.value},o));case"function":return m.a.createElement($,Object.assign({value:e.value},o));case"null":return m.a.createElement(q,o);case"nan":return m.a.createElement(W,o);case"undefined":return m.a.createElement(V,o);case"date":return m.a.createElement(T,Object.assign({value:e.value},o));case"regexp":return m.a.createElement(K,Object.assign({value:e.value},o));default:return m.a.createElement("div",{className:"object-value"},JSON.stringify(e.value))}},r.getEditInput=function(){var e=r.props.theme,t=r.state.editValue;return m.a.createElement("div",null,m.a.createElement(ae,Object.assign({type:"text",inputRef:function(e){return e&&e.focus()},value:t,className:"variable-editor",onChange:function(e){var t=e.target.value,n=ce(t);r.setState({editValue:t,parsedInput:{type:n.type,value:n.value}})},onKeyDown:function(e){switch(e.key){case"Escape":r.setState({editMode:!1,editValue:""});break;case"Enter":(e.ctrlKey||e.metaKey)&&r.submitEdit(!0)}e.stopPropagation()},placeholder:"update this value",minRows:2},P(e,"edit-input"))),m.a.createElement("div",P(e,"edit-icon-container"),m.a.createElement(me,Object.assign({className:"edit-cancel"},P(e,"cancel-icon"),{onClick:function(){r.setState({editMode:!1,editValue:""})}})),m.a.createElement(ke,Object.assign({className:"edit-check string-value"},P(e,"check-icon"),{onClick:function(){r.submitEdit()}})),m.a.createElement("div",null,r.showDetected())))},r.submitEdit=function(e){var t=r.props,n=t.variable,o=t.namespace,i=t.rjvId,s=r.state,a=s.editValue,c=s.parsedInput,l=a;e&&c.type&&(l=c.value),r.setState({editMode:!1}),z.dispatch({name:"VARIABLE_UPDATED",rjvId:i,data:{name:n.name,namespace:o,existing_value:n.value,new_value:l,variable_removed:!1}})},r.showDetected=function(){var e=r.props,t=e.theme,n=(e.variable,e.namespace,e.rjvId,r.state.parsedInput),o=(n.type,n.value,r.getDetectedInput());if(o)return m.a.createElement("div",null,m.a.createElement("div",P(t,"detected-row"),o,m.a.createElement(ke,{className:"edit-check detected",style:i({verticalAlign:"top",paddingLeft:"3px"},P(t,"check-icon").style),onClick:function(){r.submitEdit(!0)}})))},r.getDetectedInput=function(){var e=r.state.parsedInput,t=e.type,n=e.value,o=h(r).props,s=o.theme;if(!1!==t)switch(t.toLowerCase()){case"object":return m.a.createElement("span",null,m.a.createElement("span",{style:i(i({},P(s,"brace").style),{},{cursor:"default"})},"{"),m.a.createElement("span",{style:i(i({},P(s,"ellipsis").style),{},{cursor:"default"})},"..."),m.a.createElement("span",{style:i(i({},P(s,"brace").style),{},{cursor:"default"})},"}"));case"array":return m.a.createElement("span",null,m.a.createElement("span",{style:i(i({},P(s,"brace").style),{},{cursor:"default"})},"["),m.a.createElement("span",{style:i(i({},P(s,"ellipsis").style),{},{cursor:"default"})},"..."),m.a.createElement("span",{style:i(i({},P(s,"brace").style),{},{cursor:"default"})},"]"));case"string":return m.a.createElement(G,Object.assign({value:n},o));case"integer":return m.a.createElement(H,Object.assign({value:n},o));case"float":return m.a.createElement(D,Object.assign({value:n},o));case"boolean":return m.a.createElement(O,Object.assign({value:n},o));case"function":return m.a.createElement($,Object.assign({value:n},o));case"null":return m.a.createElement(q,o);case"nan":return m.a.createElement(W,o);case"undefined":return m.a.createElement(V,o);case"date":return m.a.createElement(T,Object.assign({value:new Date(n)},o))}},r.state={editMode:!1,editValue:"",hovered:!1,renameKey:!1,parsedInput:{type:!1,value:null}},r}return c(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.variable,r=t.singleIndent,o=t.type,s=t.theme,a=t.namespace,c=t.indentWidth,l=t.enableClipboard,u=t.onEdit,d=t.onDelete,p=t.onSelect,h=t.displayArrayKey,f=t.quotesOnKeys,g=this.state.editMode;return m.a.createElement("div",Object.assign({},P(s,"objectKeyVal",{paddingLeft:c*r}),{onMouseEnter:function(){return e.setState(i(i({},e.state),{},{hovered:!0}))},onMouseLeave:function(){return e.setState(i(i({},e.state),{},{hovered:!1}))},className:"variable-row",key:n.name}),"array"==o?h?m.a.createElement("span",Object.assign({},P(s,"array-key"),{key:n.name+"_"+a}),n.name,m.a.createElement("div",P(s,"colon"),":")):null:m.a.createElement("span",null,m.a.createElement("span",Object.assign({},P(s,"object-name"),{className:"object-key",key:n.name+"_"+a}),!!f&&m.a.createElement("span",{style:{verticalAlign:"top"}},'"'),m.a.createElement("span",{style:{display:"inline-block"}},n.name),!!f&&m.a.createElement("span",{style:{verticalAlign:"top"}},'"')),m.a.createElement("span",P(s,"colon"),":")),m.a.createElement("div",Object.assign({className:"variable-value",onClick:!1===p&&!1===u?null:function(t){var r=L(a);(t.ctrlKey||t.metaKey)&&!1!==u?e.prepopInput(n):!1!==p&&(r.shift(),p(i(i({},n),{},{namespace:r})))}},P(s,"variableValue",{cursor:!1===p?"default":"pointer"})),this.getValue(n,g)),l?m.a.createElement(Ee,{rowHovered:this.state.hovered,hidden:g,src:n.value,clickCallback:l,theme:s,namespace:[].concat(L(a),[n.name])}):null,!1!==u&&0==g?this.getEditIcon():null,!1!==d&&0==g?this.getRemoveIcon():null)}}]),n}(m.a.PureComponent),Ce=function(e){u(n,e);var t=g(n);function n(){var e;s(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).getObjectSize=function(){var t=e.props,n=t.size,r=t.theme;if(t.displayObjectSize)return m.a.createElement("span",Object.assign({className:"object-size"},P(r,"object-size")),n," item",1===n?"":"s")},e.getAddAttribute=function(t){var n=e.props,r=n.theme,o=n.namespace,s=n.name,a=n.src,c=n.rjvId,l=n.depth;return m.a.createElement("span",{className:"click-to-add",style:{verticalAlign:"top",display:t?"inline-block":"none"}},m.a.createElement(be,Object.assign({className:"click-to-add-icon"},P(r,"addVarIcon"),{onClick:function(){var e={name:l>0?s:null,namespace:o.splice(0,o.length-1),existing_value:a,variable_removed:!1,key_name:null};"object"===E(a)?z.dispatch({name:"ADD_VARIABLE_KEY_REQUEST",rjvId:c,data:e}):z.dispatch({name:"VARIABLE_ADDED",rjvId:c,data:i(i({},e),{},{new_value:[].concat(L(a),[null])})})}})))},e.getRemoveObject=function(t){var n=e.props,r=n.theme,o=(n.hover,n.namespace),i=n.name,s=n.src,a=n.rjvId;if(1!==o.length)return m.a.createElement("span",{className:"click-to-remove",style:{display:t?"inline-block":"none"}},m.a.createElement(me,Object.assign({className:"click-to-remove-icon"},P(r,"removeVarIcon"),{onClick:function(){z.dispatch({name:"VARIABLE_REMOVED",rjvId:a,data:{name:i,namespace:o.splice(0,o.length-1),existing_value:s,variable_removed:!0}})}})))},e.render=function(){var t=e.props,n=t.theme,r=t.onDelete,o=t.onAdd,i=t.enableClipboard,s=t.src,a=t.namespace,c=t.rowHovered;return m.a.createElement("div",Object.assign({},P(n,"object-meta-data"),{className:"object-meta-data",onClick:function(e){e.stopPropagation()}}),e.getObjectSize(),i?m.a.createElement(Ee,{rowHovered:c,clickCallback:i,src:s,theme:n,namespace:a}):null,!1!==o?e.getAddAttribute(c):null,!1!==r?e.getRemoveObject(c):null)},e}return n}(m.a.PureComponent);function xe(e){var t=e.parent_type,n=e.namespace,r=e.quotesOnKeys,o=e.theme,i=e.jsvRoot,s=e.name,a=e.displayArrayKey,c=e.name?e.name:"";return!i||!1!==s&&null!==s?"array"==t?a?m.a.createElement("span",Object.assign({},P(o,"array-key"),{key:n}),m.a.createElement("span",{className:"array-key"},c),m.a.createElement("span",P(o,"colon"),":")):m.a.createElement("span",null):m.a.createElement("span",Object.assign({},P(o,"object-name"),{key:n}),m.a.createElement("span",{className:"object-key"},r&&m.a.createElement("span",{style:{verticalAlign:"top"}},'"'),m.a.createElement("span",null,c),r&&m.a.createElement("span",{style:{verticalAlign:"top"}},'"')),m.a.createElement("span",P(o,"colon"),":")):m.a.createElement("span",null)}function Ie(e){var t=e.theme;switch(e.iconStyle){case"triangle":return m.a.createElement(ge,Object.assign({},P(t,"expanded-icon"),{className:"expanded-icon"}));case"square":return m.a.createElement(pe,Object.assign({},P(t,"expanded-icon"),{className:"expanded-icon"}));default:return m.a.createElement(ue,Object.assign({},P(t,"expanded-icon"),{className:"expanded-icon"}))}}function Ae(e){var t=e.theme;switch(e.iconStyle){case"triangle":return m.a.createElement(fe,Object.assign({},P(t,"collapsed-icon"),{className:"collapsed-icon"}));case"square":return m.a.createElement(he,Object.assign({},P(t,"collapsed-icon"),{className:"collapsed-icon"}));default:return m.a.createElement(de,Object.assign({},P(t,"collapsed-icon"),{className:"collapsed-icon"}))}}var Pe=function(e){u(n,e);var t=g(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).toggleCollapsed=function(e){var t=[];for(var n in r.state.expanded)t.push(r.state.expanded[n]);t[e]=!t[e],r.setState({expanded:t})},r.state={expanded:[]},r}return c(n,[{key:"getExpandedIcon",value:function(e){var t=this.props,n=t.theme,r=t.iconStyle;return this.state.expanded[e]?m.a.createElement(Ie,{theme:n,iconStyle:r}):m.a.createElement(Ae,{theme:n,iconStyle:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.src,r=t.groupArraysAfterLength,o=(t.depth,t.name),i=t.theme,s=t.jsvRoot,a=t.namespace,c=(t.parent_type,_(t,["src","groupArraysAfterLength","depth","name","theme","jsvRoot","namespace","parent_type"])),l=0,u=5*this.props.indentWidth;s||(l=5*this.props.indentWidth);var d=r,p=Math.ceil(n.length/d);return m.a.createElement("div",Object.assign({className:"object-key-val"},P(i,s?"jsv-root":"objectKeyVal",{paddingLeft:l})),m.a.createElement(xe,this.props),m.a.createElement("span",null,m.a.createElement(Ce,Object.assign({size:n.length},this.props))),L(Array(p)).map((function(t,r){return m.a.createElement("div",Object.assign({key:r,className:"object-key-val array-group"},P(i,"objectKeyVal",{marginLeft:6,paddingLeft:u})),m.a.createElement("span",P(i,"brace-row"),m.a.createElement("div",Object.assign({className:"icon-container"},P(i,"icon-container"),{onClick:function(t){e.toggleCollapsed(r)}}),e.getExpandedIcon(r)),e.state.expanded[r]?m.a.createElement(Te,Object.assign({key:o+r,depth:0,name:!1,collapsed:!1,groupArraysAfterLength:d,index_offset:r*d,src:n.slice(r*d,r*d+d),namespace:a,type:"array",parent_type:"array_group",theme:i},c)):m.a.createElement("span",Object.assign({},P(i,"brace"),{onClick:function(t){e.toggleCollapsed(r)},className:"array-group-brace"}),"[",m.a.createElement("div",Object.assign({},P(i,"array-group-meta-data"),{className:"array-group-meta-data"}),m.a.createElement("span",Object.assign({className:"object-size"},P(i,"object-size")),r*d," - ",r*d+d>n.length?n.length:r*d+d)),"]")))})))}}]),n}(m.a.PureComponent),Re=function(e){u(n,e);var t=g(n);function n(e){var r;s(this,n),(r=t.call(this,e)).toggleCollapsed=function(){r.setState({expanded:!r.state.expanded},(function(){U.set(r.props.rjvId,r.props.namespace,"expanded",r.state.expanded)}))},r.getObjectContent=function(e,t,n){return m.a.createElement("div",{className:"pushed-content object-container"},m.a.createElement("div",Object.assign({className:"object-content"},P(r.props.theme,"pushed-content")),r.renderObjectContents(t,n)))},r.getEllipsis=function(){return 0===r.state.size?null:m.a.createElement("div",Object.assign({},P(r.props.theme,"ellipsis"),{className:"node-ellipsis",onClick:r.toggleCollapsed}),"...")},r.getObjectMetaData=function(e){var t=r.props,n=(t.rjvId,t.theme,r.state),o=n.size,i=n.hovered;return m.a.createElement(Ce,Object.assign({rowHovered:i,size:o},r.props))},r.renderObjectContents=function(e,t){var n,o=r.props,i=o.depth,s=o.parent_type,a=o.index_offset,c=o.groupArraysAfterLength,l=o.namespace,u=r.state.object_type,d=[],p=Object.keys(e||{});return r.props.sortKeys&&"array"!==u&&(p=p.sort()),p.forEach((function(o){if(n=new Oe(o,e[o]),"array_group"===s&&a&&(n.name=parseInt(n.name)+a),e.hasOwnProperty(o))if("object"===n.type)d.push(m.a.createElement(Te,Object.assign({key:n.name,depth:i+1,name:n.name,src:n.value,namespace:l.concat(n.name),parent_type:u},t)));else if("array"===n.type){var p=Te;c&&n.value.length>c&&(p=Pe),d.push(m.a.createElement(p,Object.assign({key:n.name,depth:i+1,name:n.name,src:n.value,namespace:l.concat(n.name),type:"array",parent_type:u},t)))}else d.push(m.a.createElement(Se,Object.assign({key:n.name+"_"+l,variable:n,singleIndent:5,namespace:l,type:r.props.type},t)))})),d};var o=n.getState(e);return r.state=i(i({},o),{},{prevProps:{}}),r}return c(n,[{key:"getBraceStart",value:function(e,t){var n=this,r=this.props,o=r.src,i=r.theme,s=r.iconStyle;if("array_group"===r.parent_type)return m.a.createElement("span",null,m.a.createElement("span",P(i,"brace"),"array"===e?"[":"{"),t?this.getObjectMetaData(o):null);var a=t?Ie:Ae;return m.a.createElement("span",null,m.a.createElement("span",Object.assign({onClick:function(e){n.toggleCollapsed()}},P(i,"brace-row")),m.a.createElement("div",Object.assign({className:"icon-container"},P(i,"icon-container")),m.a.createElement(a,{theme:i,iconStyle:s})),m.a.createElement(xe,this.props),m.a.createElement("span",P(i,"brace"),"array"===e?"[":"{")),t?this.getObjectMetaData(o):null)}},{key:"render",value:function(){var e=this,t=this.props,n=t.depth,r=t.src,o=(t.namespace,t.name,t.type,t.parent_type),s=t.theme,a=t.jsvRoot,c=t.iconStyle,l=_(t,["depth","src","namespace","name","type","parent_type","theme","jsvRoot","iconStyle"]),u=this.state,d=u.object_type,p=u.expanded,h={};return a||"array_group"===o?"array_group"===o&&(h.borderLeft=0,h.display="inline"):h.paddingLeft=5*this.props.indentWidth,m.a.createElement("div",Object.assign({className:"object-key-val",onMouseEnter:function(){return e.setState(i(i({},e.state),{},{hovered:!0}))},onMouseLeave:function(){return e.setState(i(i({},e.state),{},{hovered:!1}))}},P(s,a?"jsv-root":"objectKeyVal",h)),this.getBraceStart(d,p),p?this.getObjectContent(n,r,i({theme:s,iconStyle:c},l)):this.getEllipsis(),m.a.createElement("span",{className:"brace-row"},m.a.createElement("span",{style:i(i({},P(s,"brace").style),{},{paddingLeft:p?"3px":"0px"})},"array"===d?"]":"}"),p?null:this.getObjectMetaData(r)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var r=t.prevProps;return e.src!==r.src||e.collapsed!==r.collapsed||e.name!==r.name||e.namespace!==r.namespace||e.rjvId!==r.rjvId?i(i({},n.getState(e)),{},{prevProps:e}):null}}]),n}(m.a.PureComponent);Re.getState=function(e){var t=Object.keys(e.src).length,n=(!1===e.collapsed||!0!==e.collapsed&&e.collapsed>e.depth)&&(!e.shouldCollapse||!1===e.shouldCollapse({name:e.name,src:e.src,type:E(e.src),namespace:e.namespace}))&&0!==t;return{expanded:U.get(e.rjvId,e.namespace,"expanded",n),object_type:"array"===e.type?"array":"object",parent_type:"array"===e.type?"array":"object",size:t,hovered:!1}};var Oe=function e(t,n){s(this,e),this.name=t,this.value=n,this.type=E(n)};k(Re);var Te=Re,De=function(e){u(n,e);var t=g(n);function n(){var e;s(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).render=function(){var t=h(e).props,n=[t.name],r=Te;return Array.isArray(t.src)&&t.groupArraysAfterLength&&t.src.length>t.groupArraysAfterLength&&(r=Pe),m.a.createElement("div",{className:"pretty-json-container object-container"},m.a.createElement("div",{className:"object-content"},m.a.createElement(r,Object.assign({namespace:n,depth:0,jsvRoot:!0},t))))},e}return n}(m.a.PureComponent),Me=function(e){u(n,e);var t=g(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).closeModal=function(){z.dispatch({rjvId:r.props.rjvId,name:"RESET"})},r.submit=function(){r.props.submit(r.state.input)},r.state={input:e.input?e.input:""},r}return c(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.theme,r=t.rjvId,o=t.isValid,i=this.state.input,s=o(i);return m.a.createElement("div",Object.assign({className:"key-modal-request"},P(n,"key-modal-request"),{onClick:this.closeModal}),m.a.createElement("div",Object.assign({},P(n,"key-modal"),{onClick:function(e){e.stopPropagation()}}),m.a.createElement("div",P(n,"key-modal-label"),"Key Name:"),m.a.createElement("div",{style:{position:"relative"}},m.a.createElement("input",Object.assign({},P(n,"key-modal-input"),{className:"key-modal-input",ref:function(e){return e&&e.focus()},spellCheck:!1,value:i,placeholder:"...",onChange:function(t){e.setState({input:t.target.value})},onKeyPress:function(t){s&&"Enter"===t.key?e.submit():"Escape"===t.key&&e.closeModal()}})),s?m.a.createElement(ke,Object.assign({},P(n,"key-modal-submit"),{className:"key-modal-submit",onClick:function(t){return e.submit()}})):null),m.a.createElement("span",P(n,"key-modal-cancel"),m.a.createElement(ve,Object.assign({},P(n,"key-modal-cancel-icon"),{className:"key-modal-cancel",onClick:function(){z.dispatch({rjvId:r,name:"RESET"})}})))))}}]),n}(m.a.PureComponent),Ne=function(e){u(n,e);var t=g(n);function n(){var e;s(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))).isValid=function(t){var n=e.props.rjvId,r=U.get(n,"action","new-key-request");return""!=t&&-1===Object.keys(r.existing_value).indexOf(t)},e.submit=function(t){var n=e.props.rjvId,r=U.get(n,"action","new-key-request");r.new_value=i({},r.existing_value),r.new_value[t]=e.props.defaultValue,z.dispatch({name:"VARIABLE_ADDED",rjvId:n,data:r})},e}return c(n,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.theme,r=e.rjvId;return t?m.a.createElement(Me,{rjvId:r,theme:n,isValid:this.isValid,submit:this.submit}):null}}]),n}(m.a.PureComponent),je=function(e){u(n,e);var t=g(n);function n(){return s(this,n),t.apply(this,arguments)}return c(n,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.active,r=e.theme,o=e.rjvId;return n?m.a.createElement("div",Object.assign({className:"validation-failure"},P(r,"validation-failure"),{onClick:function(){z.dispatch({rjvId:o,name:"RESET"})}}),m.a.createElement("span",P(r,"validation-failure-label"),t),m.a.createElement(ve,P(r,"validation-failure-clear"))):null}}]),n}(m.a.PureComponent),Le=function(e){u(n,e);var t=g(n);function n(e){var r;return s(this,n),(r=t.call(this,e)).rjvId=Date.now().toString(),r.getListeners=function(){return{reset:r.resetState,"variable-update":r.updateSrc,"add-key-request":r.addKeyRequest}},r.updateSrc=function(){var e,t=U.get(r.rjvId,"action","variable-update"),n=t.name,o=t.namespace,i=t.new_value,s=t.existing_value,a=(t.variable_removed,t.updated_src),c=t.type,l=r.props,u=l.onEdit,d=l.onDelete,p=l.onAdd,h={existing_src:r.state.src,new_value:i,updated_src:a,name:n,namespace:o,existing_value:s};switch(c){case"variable-added":e=p(h);break;case"variable-edited":e=u(h);break;case"variable-removed":e=d(h)}!1!==e?(U.set(r.rjvId,"global","src",a),r.setState({src:a})):r.setState({validationFailure:!0})},r.addKeyRequest=function(){r.setState({addKeyRequest:!0})},r.resetState=function(){r.setState({validationFailure:!1,addKeyRequest:!1})},r.state={addKeyRequest:!1,editKeyRequest:!1,validationFailure:!1,src:n.defaultProps.src,name:n.defaultProps.name,theme:n.defaultProps.theme,validationMessage:n.defaultProps.validationMessage,prevSrc:n.defaultProps.src,prevName:n.defaultProps.name,prevTheme:n.defaultProps.theme},r}return c(n,[{key:"componentDidMount",value:function(){U.set(this.rjvId,"global","src",this.state.src);var e=this.getListeners();for(var t in e)U.on(t+"-"+this.rjvId,e[t]);this.setState({addKeyRequest:!1,editKeyRequest:!1})}},{key:"componentDidUpdate",value:function(e,t){!1!==t.addKeyRequest&&this.setState({addKeyRequest:!1}),!1!==t.editKeyRequest&&this.setState({editKeyRequest:!1}),e.src!==this.state.src&&U.set(this.rjvId,"global","src",this.state.src)}},{key:"componentWillUnmount",value:function(){var e=this.getListeners();for(var t in e)U.removeListener(t+"-"+this.rjvId,e[t])}},{key:"render",value:function(){var e=this.state,t=e.validationFailure,n=e.validationMessage,r=e.addKeyRequest,o=e.theme,s=e.src,a=e.name,c=this.props,l=c.style,u=c.defaultValue;return m.a.createElement("div",{className:"react-json-view",style:i(i({},P(o,"app-container").style),l)},m.a.createElement(je,{message:n,active:t,theme:o,rjvId:this.rjvId}),m.a.createElement(De,Object.assign({},this.props,{src:s,name:a,theme:o,type:E(s),rjvId:this.rjvId})),m.a.createElement(Ne,{active:r,theme:o,rjvId:this.rjvId,defaultValue:u}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.src!==t.prevSrc||e.name!==t.prevName||e.theme!==t.prevTheme){var r={src:e.src,name:e.name,theme:e.theme,validationMessage:e.validationMessage,prevSrc:e.src,prevName:e.name,prevTheme:e.theme};return n.validateState(r)}return null}}]),n}(m.a.PureComponent);Le.defaultProps={src:{},name:"root",theme:"rjv-default",collapsed:!1,collapseStringsAfterLength:!1,shouldCollapse:!1,sortKeys:!1,quotesOnKeys:!0,groupArraysAfterLength:100,indentWidth:4,enableClipboard:!0,displayObjectSize:!0,displayDataTypes:!0,onEdit:!1,onDelete:!1,onAdd:!1,onSelect:!1,iconStyle:"triangle",style:{},validationMessage:"Validation Error",defaultValue:null,displayArrayKey:!0},Le.validateState=function(e){var t={};return"object"!==E(e.theme)||function(e){var t=["base00","base01","base02","base03","base04","base05","base06","base07","base08","base09","base0A","base0B","base0C","base0D","base0E","base0F"];if("object"===E(e)){for(var n=0;n<t.length;n++)if(!(t[n]in e))return!1;return!0}return!1}(e.theme)||(console.error("react-json-view error:","theme prop must be a theme name or valid base-16 theme object.",'defaulting to "rjv-default" theme'),t.theme="rjv-default"),"object"!==E(e.src)&&"array"!==E(e.src)&&(console.error("react-json-view error:","src property must be a valid json object"),t.name="ERROR",t.src={message:"src property must be a valid json object"}),i(i({},e),t)},k(Le),t.default=Le}]))},94701:(e,t)=>{"use strict";var n=function(e,t,n,r){return"boolean"==typeof e?e:"function"==typeof e?e(t,n,r):!(!0!==!!e)&&!!e},r=function(e,t){return Object.hasOwnProperty.call(e,t)},o=function(e,t,n,r){return r?new Error(r):new Error("Required "+e[t]+" `"+t+"` was not specified in `"+n+"`.")};t.Z=function(e,t,i){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(t&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,i),function(s,a,c){for(var l=arguments.length,u=Array(3<l?l-3:0),d=3;d<l;d++)u[d-3]=arguments[d];return n(t,s,a,c)?r(s,a)?e.apply(void 0,[s,a,c].concat(u)):o(s,a,c,i):e.apply(void 0,[s,a,c].concat(u))}}},62175:(e,t,n)=>{"use strict";n(25882);var r=n(92950),o=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),i("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:u,props:i,_owner:s.current}}t.jsx=l,t.jsxs=l},45263:(e,t,n)=>{"use strict";e.exports=n(62175)},55310:(e,t,n)=>{"use strict";var r;function o(e){return(r=r||document.createElement("textarea")).innerHTML="&"+e+";",r.value}n.d(t,{_:()=>Ie});var i=Object.prototype.hasOwnProperty;function s(e,t){return!!e&&i.call(e,t)}function a(e){var t=[].slice.call(arguments,1);return t.forEach((function(t){if(t){if("object"!==typeof t)throw new TypeError(t+"must be object");Object.keys(t).forEach((function(n){e[n]=t[n]}))}})),e}var c=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function l(e){return e.indexOf("\\")<0?e:e.replace(c,"$1")}function u(e){return!(e>=55296&&e<=57343)&&(!(e>=64976&&e<=65007)&&(65535!==(65535&e)&&65534!==(65535&e)&&(!(e>=0&&e<=8)&&(11!==e&&(!(e>=14&&e<=31)&&(!(e>=127&&e<=159)&&!(e>1114111)))))))}function d(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}var p=/&([a-z#][a-z0-9]{1,31});/gi,h=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function f(e,t){var n=0,r=o(t);return t!==r?r:35===t.charCodeAt(0)&&h.test(t)&&u(n="x"===t[1].toLowerCase()?parseInt(t.slice(2),16):parseInt(t.slice(1),10))?d(n):e}function g(e){return e.indexOf("&")<0?e:e.replace(p,f)}var y=/[&<>"]/,m=/[&<>"]/g,b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function v(e){return b[e]}function w(e){return y.test(e)?e.replace(m,v):e}var k={};function _(e,t){return++t>=e.length-2?t:"paragraph_open"===e[t].type&&e[t].tight&&"inline"===e[t+1].type&&0===e[t+1].content.length&&"paragraph_close"===e[t+2].type&&e[t+2].tight?_(e,t+2):t}k.blockquote_open=function(){return"<blockquote>\n"},k.blockquote_close=function(e,t){return"</blockquote>"+E(e,t)},k.code=function(e,t){return e[t].block?"<pre><code>"+w(e[t].content)+"</code></pre>"+E(e,t):"<code>"+w(e[t].content)+"</code>"},k.fence=function(e,t,n,r,o){var i,a,c=e[t],u="",d=n.langPrefix;if(c.params){if(a=(i=c.params.split(/\s+/g)).join(" "),s(o.rules.fence_custom,i[0]))return o.rules.fence_custom[i[0]](e,t,n,r,o);u=' class="'+d+w(g(l(a)))+'"'}return"<pre><code"+u+">"+(n.highlight&&n.highlight.apply(n.highlight,[c.content].concat(i))||w(c.content))+"</code></pre>"+E(e,t)},k.fence_custom={},k.heading_open=function(e,t){return"<h"+e[t].hLevel+">"},k.heading_close=function(e,t){return"</h"+e[t].hLevel+">\n"},k.hr=function(e,t,n){return(n.xhtmlOut?"<hr />":"<hr>")+E(e,t)},k.bullet_list_open=function(){return"<ul>\n"},k.bullet_list_close=function(e,t){return"</ul>"+E(e,t)},k.list_item_open=function(){return"<li>"},k.list_item_close=function(){return"</li>\n"},k.ordered_list_open=function(e,t){var n=e[t];return"<ol"+(n.order>1?' start="'+n.order+'"':"")+">\n"},k.ordered_list_close=function(e,t){return"</ol>"+E(e,t)},k.paragraph_open=function(e,t){return e[t].tight?"":"<p>"},k.paragraph_close=function(e,t){var n=!(e[t].tight&&t&&"inline"===e[t-1].type&&!e[t-1].content);return(e[t].tight?"":"</p>")+(n?E(e,t):"")},k.link_open=function(e,t,n){var r=e[t].title?' title="'+w(g(e[t].title))+'"':"",o=n.linkTarget?' target="'+n.linkTarget+'"':"";return'<a href="'+w(e[t].href)+'"'+r+o+">"},k.link_close=function(){return"</a>"},k.image=function(e,t,n){var r=' src="'+w(e[t].src)+'"',o=e[t].title?' title="'+w(g(e[t].title))+'"':"";return"<img"+r+(' alt="'+(e[t].alt?w(g(l(e[t].alt))):"")+'"')+o+(n.xhtmlOut?" /":"")+">"},k.table_open=function(){return"<table>\n"},k.table_close=function(){return"</table>\n"},k.thead_open=function(){return"<thead>\n"},k.thead_close=function(){return"</thead>\n"},k.tbody_open=function(){return"<tbody>\n"},k.tbody_close=function(){return"</tbody>\n"},k.tr_open=function(){return"<tr>"},k.tr_close=function(){return"</tr>\n"},k.th_open=function(e,t){var n=e[t];return"<th"+(n.align?' style="text-align:'+n.align+'"':"")+">"},k.th_close=function(){return"</th>"},k.td_open=function(e,t){var n=e[t];return"<td"+(n.align?' style="text-align:'+n.align+'"':"")+">"},k.td_close=function(){return"</td>"},k.strong_open=function(){return"<strong>"},k.strong_close=function(){return"</strong>"},k.em_open=function(){return"<em>"},k.em_close=function(){return"</em>"},k.del_open=function(){return"<del>"},k.del_close=function(){return"</del>"},k.ins_open=function(){return"<ins>"},k.ins_close=function(){return"</ins>"},k.mark_open=function(){return"<mark>"},k.mark_close=function(){return"</mark>"},k.sub=function(e,t){return"<sub>"+w(e[t].content)+"</sub>"},k.sup=function(e,t){return"<sup>"+w(e[t].content)+"</sup>"},k.hardbreak=function(e,t,n){return n.xhtmlOut?"<br />\n":"<br>\n"},k.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?"<br />\n":"<br>\n":"\n"},k.text=function(e,t){return w(e[t].content)},k.htmlblock=function(e,t){return e[t].content},k.htmltag=function(e,t){return e[t].content},k.abbr_open=function(e,t){return'<abbr title="'+w(g(e[t].title))+'">'},k.abbr_close=function(){return"</abbr>"},k.footnote_ref=function(e,t){var n=Number(e[t].id+1).toString(),r="fnref"+n;return e[t].subId>0&&(r+=":"+e[t].subId),'<sup class="footnote-ref"><a href="#fn'+n+'" id="'+r+'">['+n+"]</a></sup>"},k.footnote_block_open=function(e,t,n){return(n.xhtmlOut?'<hr class="footnotes-sep" />\n':'<hr class="footnotes-sep">\n')+'<section class="footnotes">\n<ol class="footnotes-list">\n'},k.footnote_block_close=function(){return"</ol>\n</section>\n"},k.footnote_open=function(e,t){return'<li id="fn'+Number(e[t].id+1).toString()+'"  class="footnote-item">'},k.footnote_close=function(){return"</li>\n"},k.footnote_anchor=function(e,t){var n="fnref"+Number(e[t].id+1).toString();return e[t].subId>0&&(n+=":"+e[t].subId),' <a href="#'+n+'" class="footnote-backref">\u21a9</a>'},k.dl_open=function(){return"<dl>\n"},k.dt_open=function(){return"<dt>"},k.dd_open=function(){return"<dd>"},k.dl_close=function(){return"</dl>\n"},k.dt_close=function(){return"</dt>\n"},k.dd_close=function(){return"</dd>\n"};var E=k.getBreak=function(e,t){return(t=_(e,t))<e.length&&"list_item_close"===e[t].type?"":"\n"};function S(){this.rules=a({},k),this.getBreak=k.getBreak}function C(){this.__rules__=[],this.__cache__=null}function x(e,t,n,r,o){this.src=e,this.env=r,this.options=n,this.parser=t,this.tokens=o,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}function I(e,t){var n,r,o,i=-1,s=e.posMax,a=e.pos,c=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=t+1,e.isInLabel=!0,n=1;e.pos<s;){if(91===(o=e.src.charCodeAt(e.pos)))n++;else if(93===o&&0===--n){r=!0;break}e.parser.skipToken(e)}return r?(i=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=n-1,e.pos=a,e.isInLabel=c,i}function A(e,t,n,r){var o,i,s,a,c,l;if(42!==e.charCodeAt(0))return-1;if(91!==e.charCodeAt(1))return-1;if(-1===e.indexOf("]:"))return-1;if((i=I(o=new x(e,t,n,r,[]),1))<0||58!==e.charCodeAt(i+1))return-1;for(a=o.posMax,s=i+2;s<a&&10!==o.src.charCodeAt(s);s++);return c=e.slice(2,i),0===(l=e.slice(i+2,s).trim()).length?-1:(r.abbreviations||(r.abbreviations={}),"undefined"===typeof r.abbreviations[":"+c]&&(r.abbreviations[":"+c]=l),s)}function P(e){var t=g(e);try{t=decodeURI(t)}catch(n){}return encodeURI(t)}function R(e,t){var n,r,o,i=t,s=e.posMax;if(60===e.src.charCodeAt(t)){for(t++;t<s;){if(10===(n=e.src.charCodeAt(t)))return!1;if(62===n)return o=P(l(e.src.slice(i+1,t))),!!e.parser.validateLink(o)&&(e.pos=t+1,e.linkContent=o,!0);92===n&&t+1<s?t+=2:t++}return!1}for(r=0;t<s&&32!==(n=e.src.charCodeAt(t))&&!(n<32||127===n);)if(92===n&&t+1<s)t+=2;else{if(40===n&&++r>1)break;if(41===n&&--r<0)break;t++}return i!==t&&(o=l(e.src.slice(i,t)),!!e.parser.validateLink(o)&&(e.linkContent=o,e.pos=t,!0))}function O(e,t){var n,r=t,o=e.posMax,i=e.src.charCodeAt(t);if(34!==i&&39!==i&&40!==i)return!1;for(t++,40===i&&(i=41);t<o;){if((n=e.src.charCodeAt(t))===i)return e.pos=t+1,e.linkContent=l(e.src.slice(r+1,t)),!0;92===n&&t+1<o?t+=2:t++}return!1}function T(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function D(e,t,n,r){var o,i,s,a,c,l,u,d,p;if(91!==e.charCodeAt(0))return-1;if(-1===e.indexOf("]:"))return-1;if((i=I(o=new x(e,t,n,r,[]),0))<0||58!==e.charCodeAt(i+1))return-1;for(a=o.posMax,s=i+2;s<a&&(32===(c=o.src.charCodeAt(s))||10===c);s++);if(!R(o,s))return-1;for(u=o.linkContent,l=s=o.pos,s+=1;s<a&&(32===(c=o.src.charCodeAt(s))||10===c);s++);for(s<a&&l!==s&&O(o,s)?(d=o.linkContent,s=o.pos):(d="",s=l);s<a&&32===o.src.charCodeAt(s);)s++;return s<a&&10!==o.src.charCodeAt(s)?-1:(p=T(e.slice(1,i)),"undefined"===typeof r.references[p]&&(r.references[p]={title:d,href:u}),s)}S.prototype.renderInline=function(e,t,n){for(var r=this.rules,o=e.length,i=0,s="";o--;)s+=r[e[i].type](e,i++,t,n,this);return s},S.prototype.render=function(e,t,n){for(var r=this.rules,o=e.length,i=-1,s="";++i<o;)"inline"===e[i].type?s+=this.renderInline(e[i].children,t,n):s+=r[e[i].type](e,i,t,n,this);return s},C.prototype.__find__=function(e){for(var t=this.__rules__.length,n=-1;t--;)if(this.__rules__[++n].name===e)return n;return-1},C.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach((function(e){e.enabled&&e.alt.forEach((function(e){t.indexOf(e)<0&&t.push(e)}))})),e.__cache__={},t.forEach((function(t){e.__cache__[t]=[],e.__rules__.forEach((function(n){n.enabled&&(t&&n.alt.indexOf(t)<0||e.__cache__[t].push(n.fn))}))}))},C.prototype.at=function(e,t,n){var r=this.__find__(e),o=n||{};if(-1===r)throw new Error("Parser rule not found: "+e);this.__rules__[r].fn=t,this.__rules__[r].alt=o.alt||[],this.__cache__=null},C.prototype.before=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},C.prototype.after=function(e,t,n,r){var o=this.__find__(e),i=r||{};if(-1===o)throw new Error("Parser rule not found: "+e);this.__rules__.splice(o+1,0,{name:t,enabled:!0,fn:n,alt:i.alt||[]}),this.__cache__=null},C.prototype.push=function(e,t,n){var r=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:r.alt||[]}),this.__cache__=null},C.prototype.enable=function(e,t){e=Array.isArray(e)?e:[e],t&&this.__rules__.forEach((function(e){e.enabled=!1})),e.forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!0}),this),this.__cache__=null},C.prototype.disable=function(e){(e=Array.isArray(e)?e:[e]).forEach((function(e){var t=this.__find__(e);if(t<0)throw new Error("Rules manager: invalid rule name "+e);this.__rules__[t].enabled=!1}),this),this.__cache__=null},C.prototype.getRules=function(e){return null===this.__cache__&&this.__compile__(),this.__cache__[e]||[]},x.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""},x.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level},x.prototype.cacheSet=function(e,t){for(var n=this.cache.length;n<=e;n++)this.cache.push(0);this.cache[e]=t},x.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};var M=" \n()[]'\".,!?-";function N(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}var j=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,L=/\((c|tm|r|p)\)/gi,B={c:"\xa9",r:"\xae",p:"\xa7",tm:"\u2122"};var z=/['"]/,F=/['"]/g,U=/[-\s()\[\]]/;function $(e,t){return!(t<0||t>=e.length)&&!U.test(e[t])}function W(e,t,n){return e.substr(0,t)+n+e.substr(t+1)}var q=[["block",function(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}],["abbr",function(e){var t,n,r,o,i=e.tokens;if(!e.inlineMode)for(t=1,n=i.length-1;t<n;t++)if("paragraph_open"===i[t-1].type&&"inline"===i[t].type&&"paragraph_close"===i[t+1].type){for(r=i[t].content;r.length&&!((o=A(r,e.inline,e.options,e.env))<0);)r=r.slice(o).trim();i[t].content=r,r.length||(i[t-1].tight=!0,i[t+1].tight=!0)}}],["references",function(e){var t,n,r,o,i=e.tokens;if(e.env.references=e.env.references||{},!e.inlineMode)for(t=1,n=i.length-1;t<n;t++)if("inline"===i[t].type&&"paragraph_open"===i[t-1].type&&"paragraph_close"===i[t+1].type){for(r=i[t].content;r.length&&!((o=D(r,e.inline,e.options,e.env))<0);)r=r.slice(o).trim();i[t].content=r,r.length||(i[t-1].tight=!0,i[t+1].tight=!0)}}],["inline",function(e){var t,n,r,o=e.tokens;for(n=0,r=o.length;n<r;n++)"inline"===(t=o[n]).type&&e.inline.parse(t.content,e.options,e.env,t.children)}],["footnote_tail",function(e){var t,n,r,o,i,s,a,c,l,u=0,d=!1,p={};if(e.env.footnotes&&(e.tokens=e.tokens.filter((function(e){return"footnote_reference_open"===e.type?(d=!0,c=[],l=e.label,!1):"footnote_reference_close"===e.type?(d=!1,p[":"+l]=c,!1):(d&&c.push(e),!d)})),e.env.footnotes.list)){for(s=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:u++}),t=0,n=s.length;t<n;t++){for(e.tokens.push({type:"footnote_open",id:t,level:u++}),s[t].tokens?((a=[]).push({type:"paragraph_open",tight:!1,level:u++}),a.push({type:"inline",content:"",level:u,children:s[t].tokens}),a.push({type:"paragraph_close",tight:!1,level:--u})):s[t].label&&(a=p[":"+s[t].label]),e.tokens=e.tokens.concat(a),i="paragraph_close"===e.tokens[e.tokens.length-1].type?e.tokens.pop():null,o=s[t].count>0?s[t].count:1,r=0;r<o;r++)e.tokens.push({type:"footnote_anchor",id:t,subId:r,level:u});i&&e.tokens.push(i),e.tokens.push({type:"footnote_close",level:--u})}e.tokens.push({type:"footnote_block_close",level:--u})}}],["abbr2",function(e){var t,n,r,o,i,s,a,c,l,u,d,p,h=e.tokens;if(e.env.abbreviations)for(e.env.abbrRegExp||(p="(^|["+M.split("").map(N).join("")+"])("+Object.keys(e.env.abbreviations).map((function(e){return e.substr(1)})).sort((function(e,t){return t.length-e.length})).map(N).join("|")+")($|["+M.split("").map(N).join("")+"])",e.env.abbrRegExp=new RegExp(p,"g")),u=e.env.abbrRegExp,n=0,r=h.length;n<r;n++)if("inline"===h[n].type)for(t=(o=h[n].children).length-1;t>=0;t--)if("text"===(i=o[t]).type){for(c=0,s=i.content,u.lastIndex=0,l=i.level,a=[];d=u.exec(s);)u.lastIndex>c&&a.push({type:"text",content:s.slice(c,d.index+d[1].length),level:l}),a.push({type:"abbr_open",title:e.env.abbreviations[":"+d[2]],level:l++}),a.push({type:"text",content:d[2],level:l}),a.push({type:"abbr_close",level:--l}),c=u.lastIndex-d[3].length;a.length&&(c<s.length&&a.push({type:"text",content:s.slice(c),level:l}),h[n].children=o=[].concat(o.slice(0,t),a,o.slice(t+1)))}}],["replacements",function(e){var t,n,r,o,i,s;if(e.options.typographer)for(i=e.tokens.length-1;i>=0;i--)if("inline"===e.tokens[i].type)for(t=(o=e.tokens[i].children).length-1;t>=0;t--)"text"===(n=o[t]).type&&(r=n.content,r=(s=r).indexOf("(")<0?s:s.replace(L,(function(e,t){return B[t.toLowerCase()]})),j.test(r)&&(r=r.replace(/\+-/g,"\xb1").replace(/\.{2,}/g,"\u2026").replace(/([?!])\u2026/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/gm,"$1\u2014$2").replace(/(^|\s)--(\s|$)/gm,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/gm,"$1\u2013$2")),n.content=r)}],["smartquotes",function(e){var t,n,r,o,i,s,a,c,l,u,d,p,h,f,g,y,m;if(e.options.typographer)for(m=[],g=e.tokens.length-1;g>=0;g--)if("inline"===e.tokens[g].type)for(y=e.tokens[g].children,m.length=0,t=0;t<y.length;t++)if("text"===(n=y[t]).type&&!z.test(n.text)){for(a=y[t].level,h=m.length-1;h>=0&&!(m[h].level<=a);h--);m.length=h+1,i=0,s=(r=n.content).length;e:for(;i<s&&(F.lastIndex=i,o=F.exec(r));)if(c=!$(r,o.index-1),i=o.index+1,f="'"===o[0],(l=!$(r,i))||c){if(d=!l,p=!c)for(h=m.length-1;h>=0&&(u=m[h],!(m[h].level<a));h--)if(u.single===f&&m[h].level===a){u=m[h],f?(y[u.token].content=W(y[u.token].content,u.pos,e.options.quotes[2]),n.content=W(n.content,o.index,e.options.quotes[3])):(y[u.token].content=W(y[u.token].content,u.pos,e.options.quotes[0]),n.content=W(n.content,o.index,e.options.quotes[1])),m.length=h;continue e}d?m.push({token:t,pos:o.index,single:f,level:a}):p&&f&&(n.content=W(n.content,o.index,"\u2019"))}else f&&(n.content=W(n.content,o.index,"\u2019"))}}]];function H(){this.options={},this.ruler=new C;for(var e=0;e<q.length;e++)this.ruler.push(q[e][0],q[e][1])}function K(e,t,n,r,o){var i,s,a,c,l,u,d;for(this.src=e,this.parser=t,this.options=n,this.env=r,this.tokens=o,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",u=0,d=!1,a=c=u=0,l=(s=this.src).length;c<l;c++){if(i=s.charCodeAt(c),!d){if(32===i){u++;continue}d=!0}10!==i&&c!==l-1||(10!==i&&c++,this.bMarks.push(a),this.eMarks.push(c),this.tShift.push(u),d=!1,u=0,a=c+1)}this.bMarks.push(s.length),this.eMarks.push(s.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}function G(e,t){var n,r,o;return(r=e.bMarks[t]+e.tShift[t])>=(o=e.eMarks[t])||42!==(n=e.src.charCodeAt(r++))&&45!==n&&43!==n||r<o&&32!==e.src.charCodeAt(r)?-1:r}function V(e,t){var n,r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(r+1>=o)return-1;if((n=e.src.charCodeAt(r++))<48||n>57)return-1;for(;;){if(r>=o)return-1;if(!((n=e.src.charCodeAt(r++))>=48&&n<=57)){if(41===n||46===n)break;return-1}}return r<o&&32!==e.src.charCodeAt(r)?-1:r}H.prototype.process=function(e){var t,n,r;for(t=0,n=(r=this.ruler.getRules("")).length;t<n;t++)r[t](e)},K.prototype.isEmpty=function(e){return this.bMarks[e]+this.tShift[e]>=this.eMarks[e]},K.prototype.skipEmptyLines=function(e){for(var t=this.lineMax;e<t&&!(this.bMarks[e]+this.tShift[e]<this.eMarks[e]);e++);return e},K.prototype.skipSpaces=function(e){for(var t=this.src.length;e<t&&32===this.src.charCodeAt(e);e++);return e},K.prototype.skipChars=function(e,t){for(var n=this.src.length;e<n&&this.src.charCodeAt(e)===t;e++);return e},K.prototype.skipCharsBack=function(e,t,n){if(e<=n)return e;for(;e>n;)if(t!==this.src.charCodeAt(--e))return e+1;return e},K.prototype.getLines=function(e,t,n,r){var o,i,s,a,c,l=e;if(e>=t)return"";if(l+1===t)return i=this.bMarks[l]+Math.min(this.tShift[l],n),s=r?this.eMarks[l]+1:this.eMarks[l],this.src.slice(i,s);for(a=new Array(t-e),o=0;l<t;l++,o++)(c=this.tShift[l])>n&&(c=n),c<0&&(c=0),i=this.bMarks[l]+c,s=l+1<t||r?this.eMarks[l]+1:this.eMarks[l],a[o]=this.src.slice(i,s);return a.join("")};var X={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach((function(e){X[e]=!0}));var Y=/^<([a-zA-Z]{1,15})[\s\/>]/,Z=/^<\/([a-zA-Z]{1,15})[\s>]/;function J(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function Q(e,t){var n,r,o=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return o>=i||126!==(r=e.src.charCodeAt(o++))&&58!==r||o===(n=e.skipSpaces(o))||n>=i?-1:n}var ee=[["code",function(e,t,n){var r,o;if(e.tShift[t]-e.blkIndent<4)return!1;for(o=r=t+1;r<n;)if(e.isEmpty(r))r++;else{if(!(e.tShift[r]-e.blkIndent>=4))break;o=++r}return e.line=r,e.tokens.push({type:"code",content:e.getLines(t,o,4+e.blkIndent,!0),block:!0,lines:[t,e.line],level:e.level}),!0}],["fences",function(e,t,n,r){var o,i,s,a,c,l=!1,u=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(u+3>d)return!1;if(126!==(o=e.src.charCodeAt(u))&&96!==o)return!1;if(c=u,(i=(u=e.skipChars(u,o))-c)<3)return!1;if((s=e.src.slice(u,d).trim()).indexOf("`")>=0)return!1;if(r)return!0;for(a=t;!(++a>=n)&&!((u=c=e.bMarks[a]+e.tShift[a])<(d=e.eMarks[a])&&e.tShift[a]<e.blkIndent);)if(e.src.charCodeAt(u)===o&&!(e.tShift[a]-e.blkIndent>=4)&&!((u=e.skipChars(u,o))-c<i)&&!((u=e.skipSpaces(u))<d)){l=!0;break}return i=e.tShift[t],e.line=a+(l?1:0),e.tokens.push({type:"fence",params:s,content:e.getLines(t+1,a,i,!0),lines:[t,e.line],level:e.level}),!0},["paragraph","blockquote","list"]],["blockquote",function(e,t,n,r){var o,i,s,a,c,l,u,d,p,h,f,g=e.bMarks[t]+e.tShift[t],y=e.eMarks[t];if(g>y)return!1;if(62!==e.src.charCodeAt(g++))return!1;if(e.level>=e.options.maxNesting)return!1;if(r)return!0;for(32===e.src.charCodeAt(g)&&g++,c=e.blkIndent,e.blkIndent=0,a=[e.bMarks[t]],e.bMarks[t]=g,i=(g=g<y?e.skipSpaces(g):g)>=y,s=[e.tShift[t]],e.tShift[t]=g-e.bMarks[t],d=e.parser.ruler.getRules("blockquote"),o=t+1;o<n&&!((g=e.bMarks[o]+e.tShift[o])>=(y=e.eMarks[o]));o++)if(62!==e.src.charCodeAt(g++)){if(i)break;for(f=!1,p=0,h=d.length;p<h;p++)if(d[p](e,o,n,!0)){f=!0;break}if(f)break;a.push(e.bMarks[o]),s.push(e.tShift[o]),e.tShift[o]=-1337}else 32===e.src.charCodeAt(g)&&g++,a.push(e.bMarks[o]),e.bMarks[o]=g,i=(g=g<y?e.skipSpaces(g):g)>=y,s.push(e.tShift[o]),e.tShift[o]=g-e.bMarks[o];for(l=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:u=[t,0],level:e.level++}),e.parser.tokenize(e,t,o),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=l,u[1]=e.line,p=0;p<s.length;p++)e.bMarks[p+t]=a[p],e.tShift[p+t]=s[p];return e.blkIndent=c,!0},["paragraph","blockquote","list"]],["hr",function(e,t,n,r){var o,i,s,a=e.bMarks[t],c=e.eMarks[t];if((a+=e.tShift[t])>c)return!1;if(42!==(o=e.src.charCodeAt(a++))&&45!==o&&95!==o)return!1;for(i=1;a<c;){if((s=e.src.charCodeAt(a++))!==o&&32!==s)return!1;s===o&&i++}return!(i<3)&&(r||(e.line=t+1,e.tokens.push({type:"hr",lines:[t,e.line],level:e.level})),!0)},["paragraph","blockquote","list"]],["list",function(e,t,n,r){var o,i,s,a,c,l,u,d,p,h,f,g,y,m,b,v,w,k,_,E,S,C=!0;if((d=V(e,t))>=0)g=!0;else{if(!((d=G(e,t))>=0))return!1;g=!1}if(e.level>=e.options.maxNesting)return!1;if(f=e.src.charCodeAt(d-1),r)return!0;for(m=e.tokens.length,g?(u=e.bMarks[t]+e.tShift[t],h=Number(e.src.substr(u,d-u-1)),e.tokens.push({type:"ordered_list_open",order:h,lines:v=[t,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:v=[t,0],level:e.level++}),o=t,b=!1,k=e.parser.ruler.getRules("list");o<n&&((p=(y=e.skipSpaces(d))>=e.eMarks[o]?1:y-d)>4&&(p=1),p<1&&(p=1),i=d-e.bMarks[o]+p,e.tokens.push({type:"list_item_open",lines:w=[t,0],level:e.level++}),a=e.blkIndent,c=e.tight,s=e.tShift[t],l=e.parentType,e.tShift[t]=y-e.bMarks[t],e.blkIndent=i,e.tight=!0,e.parentType="list",e.parser.tokenize(e,t,n,!0),e.tight&&!b||(C=!1),b=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=a,e.tShift[t]=s,e.tight=c,e.parentType=l,e.tokens.push({type:"list_item_close",level:--e.level}),o=t=e.line,w[1]=o,y=e.bMarks[t],!(o>=n))&&!e.isEmpty(o)&&!(e.tShift[o]<e.blkIndent);){for(S=!1,_=0,E=k.length;_<E;_++)if(k[_](e,o,n,!0)){S=!0;break}if(S)break;if(g){if((d=V(e,o))<0)break}else if((d=G(e,o))<0)break;if(f!==e.src.charCodeAt(d-1))break}return e.tokens.push({type:g?"ordered_list_close":"bullet_list_close",level:--e.level}),v[1]=o,e.line=o,C&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}(e,m),!0},["paragraph","blockquote"]],["footnote",function(e,t,n,r){var o,i,s,a,c,l=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(l+4>u)return!1;if(91!==e.src.charCodeAt(l))return!1;if(94!==e.src.charCodeAt(l+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(a=l+2;a<u;a++){if(32===e.src.charCodeAt(a))return!1;if(93===e.src.charCodeAt(a))break}return a!==l+2&&(!(a+1>=u||58!==e.src.charCodeAt(++a))&&(r||(a++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),c=e.src.slice(l+2,a-2),e.env.footnotes.refs[":"+c]=-1,e.tokens.push({type:"footnote_reference_open",label:c,level:e.level++}),o=e.bMarks[t],i=e.tShift[t],s=e.parentType,e.tShift[t]=e.skipSpaces(a)-a,e.bMarks[t]=a,e.blkIndent+=4,e.parentType="footnote",e.tShift[t]<e.blkIndent&&(e.tShift[t]+=e.blkIndent,e.bMarks[t]-=e.blkIndent),e.parser.tokenize(e,t,n,!0),e.parentType=s,e.blkIndent-=4,e.tShift[t]=i,e.bMarks[t]=o,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0))},["paragraph"]],["heading",function(e,t,n,r){var o,i,s,a=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(a>=c)return!1;if(35!==(o=e.src.charCodeAt(a))||a>=c)return!1;for(i=1,o=e.src.charCodeAt(++a);35===o&&a<c&&i<=6;)i++,o=e.src.charCodeAt(++a);return!(i>6||a<c&&32!==o)&&(r||(c=e.skipCharsBack(c,32,a),(s=e.skipCharsBack(c,35,a))>a&&32===e.src.charCodeAt(s-1)&&(c=s),e.line=t+1,e.tokens.push({type:"heading_open",hLevel:i,lines:[t,e.line],level:e.level}),a<c&&e.tokens.push({type:"inline",content:e.src.slice(a,c).trim(),level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:i,level:e.level})),!0)},["paragraph","blockquote"]],["lheading",function(e,t,n){var r,o,i,s=t+1;return!(s>=n)&&(!(e.tShift[s]<e.blkIndent)&&(!(e.tShift[s]-e.blkIndent>3)&&(!((o=e.bMarks[s]+e.tShift[s])>=(i=e.eMarks[s]))&&((45===(r=e.src.charCodeAt(o))||61===r)&&(o=e.skipChars(o,r),!((o=e.skipSpaces(o))<i)&&(o=e.bMarks[t]+e.tShift[t],e.line=s+1,e.tokens.push({type:"heading_open",hLevel:61===r?1:2,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(o,e.eMarks[t]).trim(),level:e.level+1,lines:[t,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:61===r?1:2,level:e.level}),!0))))))}],["htmlblock",function(e,t,n,r){var o,i,s,a=e.bMarks[t],c=e.eMarks[t],l=e.tShift[t];if(a+=l,!e.options.html)return!1;if(l>3||a+2>=c)return!1;if(60!==e.src.charCodeAt(a))return!1;if(33===(o=e.src.charCodeAt(a+1))||63===o){if(r)return!0}else{if(47!==o&&!function(e){var t=32|e;return t>=97&&t<=122}(o))return!1;if(47===o){if(!(i=e.src.slice(a,c).match(Z)))return!1}else if(!(i=e.src.slice(a,c).match(Y)))return!1;if(!0!==X[i[1].toLowerCase()])return!1;if(r)return!0}for(s=t+1;s<e.lineMax&&!e.isEmpty(s);)s++;return e.line=s,e.tokens.push({type:"htmlblock",level:e.level,lines:[t,e.line],content:e.getLines(t,s,0,!0)}),!0},["paragraph","blockquote"]],["table",function(e,t,n,r){var o,i,s,a,c,l,u,d,p,h,f;if(t+2>n)return!1;if(c=t+1,e.tShift[c]<e.blkIndent)return!1;if((s=e.bMarks[c]+e.tShift[c])>=e.eMarks[c])return!1;if(124!==(o=e.src.charCodeAt(s))&&45!==o&&58!==o)return!1;if(i=J(e,t+1),!/^[-:| ]+$/.test(i))return!1;if((l=i.split("|"))<=2)return!1;for(d=[],a=0;a<l.length;a++){if(!(p=l[a].trim())){if(0===a||a===l.length-1)continue;return!1}if(!/^:?-+:?$/.test(p))return!1;58===p.charCodeAt(p.length-1)?d.push(58===p.charCodeAt(0)?"center":"right"):58===p.charCodeAt(0)?d.push("left"):d.push("")}if(-1===(i=J(e,t).trim()).indexOf("|"))return!1;if(l=i.replace(/^\||\|$/g,"").split("|"),d.length!==l.length)return!1;if(r)return!0;for(e.tokens.push({type:"table_open",lines:h=[t,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[t,t+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[t,t+1],level:e.level++}),a=0;a<l.length;a++)e.tokens.push({type:"th_open",align:d[a],lines:[t,t+1],level:e.level++}),e.tokens.push({type:"inline",content:l[a].trim(),lines:[t,t+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:f=[t+2,0],level:e.level++}),c=t+2;c<n&&!(e.tShift[c]<e.blkIndent)&&-1!==(i=J(e,c).trim()).indexOf("|");c++){for(l=i.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),a=0;a<l.length;a++)e.tokens.push({type:"td_open",align:d[a],level:e.level++}),u=l[a].substring(124===l[a].charCodeAt(0)?1:0,124===l[a].charCodeAt(l[a].length-1)?l[a].length-1:l[a].length).trim(),e.tokens.push({type:"inline",content:u,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),h[1]=f[1]=c,e.line=c,!0},["paragraph"]],["deflist",function(e,t,n,r){var o,i,s,a,c,l,u,d,p,h,f,g,y,m;if(r)return!(e.ddIndent<0)&&Q(e,t)>=0;if(u=t+1,e.isEmpty(u)&&++u>n)return!1;if(e.tShift[u]<e.blkIndent)return!1;if((o=Q(e,u))<0)return!1;if(e.level>=e.options.maxNesting)return!1;l=e.tokens.length,e.tokens.push({type:"dl_open",lines:c=[t,0],level:e.level++}),s=t,i=u;e:for(;;){for(m=!0,y=!1,e.tokens.push({type:"dt_open",lines:[s,s],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(s,s+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[s,s],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:a=[u,0],level:e.level++}),g=e.tight,p=e.ddIndent,d=e.blkIndent,f=e.tShift[i],h=e.parentType,e.blkIndent=e.ddIndent=e.tShift[i]+2,e.tShift[i]=o-e.bMarks[i],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,i,n,!0),e.tight&&!y||(m=!1),y=e.line-i>1&&e.isEmpty(e.line-1),e.tShift[i]=f,e.tight=g,e.parentType=h,e.blkIndent=d,e.ddIndent=p,e.tokens.push({type:"dd_close",level:--e.level}),a[1]=u=e.line,u>=n)break e;if(e.tShift[u]<e.blkIndent)break e;if((o=Q(e,u))<0)break;i=u}if(u>=n)break;if(s=u,e.isEmpty(s))break;if(e.tShift[s]<e.blkIndent)break;if((i=s+1)>=n)break;if(e.isEmpty(i)&&i++,i>=n)break;if(e.tShift[i]<e.blkIndent)break;if((o=Q(e,i))<0)break}return e.tokens.push({type:"dl_close",level:--e.level}),c[1]=u,e.line=u,m&&function(e,t){var n,r,o=e.level+2;for(n=t+2,r=e.tokens.length-2;n<r;n++)e.tokens[n].level===o&&"paragraph_open"===e.tokens[n].type&&(e.tokens[n+2].tight=!0,e.tokens[n].tight=!0,n+=2)}(e,l),!0},["paragraph"]],["paragraph",function(e,t){var n,r,o,i,s,a,c=t+1;if(c<(n=e.lineMax)&&!e.isEmpty(c))for(a=e.parser.ruler.getRules("paragraph");c<n&&!e.isEmpty(c);c++)if(!(e.tShift[c]-e.blkIndent>3)){for(o=!1,i=0,s=a.length;i<s;i++)if(a[i](e,c,n,!0)){o=!0;break}if(o)break}return r=e.getLines(t,c,e.blkIndent,!1).trim(),e.line=c,r.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:r,level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}]];function te(){this.ruler=new C;for(var e=0;e<ee.length;e++)this.ruler.push(ee[e][0],ee[e][1],{alt:(ee[e][2]||[]).slice()})}te.prototype.tokenize=function(e,t,n){for(var r,o=this.ruler.getRules(""),i=o.length,s=t,a=!1;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n))&&!(e.tShift[s]<e.blkIndent);){for(r=0;r<i&&!o[r](e,s,n,!1);r++);if(e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),(s=e.line)<n&&e.isEmpty(s)){if(a=!0,++s<n&&"list"===e.parentType&&e.isEmpty(s))break;e.line=s}}};var ne=/[\n\t]/g,re=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,oe=/\u00a0/g;function ie(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}te.prototype.parse=function(e,t,n,r){var o,i=0,s=0;if(!e)return[];(e=(e=e.replace(oe," ")).replace(re,"\n")).indexOf("\t")>=0&&(e=e.replace(ne,(function(t,n){var r;return 10===e.charCodeAt(n)?(i=n+1,s=0,t):(r="    ".slice((n-i-s)%4),s=n-i+1,r)}))),o=new K(e,this,t,n,r),this.tokenize(o,o.line,o.lineMax)};for(var se=[],ae=0;ae<256;ae++)se.push(0);function ce(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function le(e,t){var n,r,o,i=t,s=!0,a=!0,c=e.posMax,l=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):-1;i<c&&e.src.charCodeAt(i)===l;)i++;return i>=c&&(s=!1),(o=i-t)>=4?s=a=!1:(32!==(r=i<c?e.src.charCodeAt(i):-1)&&10!==r||(s=!1),32!==n&&10!==n||(a=!1),95===l&&(ce(n)&&(s=!1),ce(r)&&(a=!1))),{can_open:s,can_close:a,delims:o}}"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach((function(e){se[e.charCodeAt(0)]=1}));var ue=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var de=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;var pe=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],he=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,fe=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function ge(e,t){return e=e.source,t=t||"",function n(r,o){return r?(o=o.source||o,e=e.replace(r,o),n):new RegExp(e,t)}}var ye=ge(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",/[^"'=<>`\x00-\x20]+/)("single_quoted",/'[^']*'/)("double_quoted",/"[^"]*"/)(),me=ge(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",/[a-zA-Z_:][a-zA-Z0-9:._-]*/)("attr_value",ye)(),be=ge(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",me)(),ve=ge(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",be)("close_tag",/<\/[A-Za-z][A-Za-z0-9]*\s*>/)("comment",/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/)("processing",/<[?].*?[?]>/)("declaration",/<![A-Z]+\s+[^>]*>/)("cdata",/<!\[CDATA\[[\s\S]*?\]\]>/)();var we=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,ke=/^&([a-z][a-z0-9]{1,31});/i;var _e=[["text",function(e,t){for(var n=e.pos;n<e.posMax&&!ie(e.src.charCodeAt(n));)n++;return n!==e.pos&&(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}],["newline",function(e,t){var n,r,o=e.pos;if(10!==e.src.charCodeAt(o))return!1;if(n=e.pending.length-1,r=e.posMax,!t)if(n>=0&&32===e.pending.charCodeAt(n))if(n>=1&&32===e.pending.charCodeAt(n-1)){for(var i=n-2;i>=0;i--)if(32!==e.pending.charCodeAt(i)){e.pending=e.pending.substring(0,i+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(o++;o<r&&32===e.src.charCodeAt(o);)o++;return e.pos=o,!0}],["escape",function(e,t){var n,r=e.pos,o=e.posMax;if(92!==e.src.charCodeAt(r))return!1;if(++r<o){if((n=e.src.charCodeAt(r))<256&&0!==se[n])return t||(e.pending+=e.src[r]),e.pos+=2,!0;if(10===n){for(t||e.push({type:"hardbreak",level:e.level}),r++;r<o&&32===e.src.charCodeAt(r);)r++;return e.pos=r,!0}}return t||(e.pending+="\\"),e.pos++,!0}],["backticks",function(e,t){var n,r,o,i,s,a=e.pos;if(96!==e.src.charCodeAt(a))return!1;for(n=a,a++,r=e.posMax;a<r&&96===e.src.charCodeAt(a);)a++;for(o=e.src.slice(n,a),i=s=a;-1!==(i=e.src.indexOf("`",s));){for(s=i+1;s<r&&96===e.src.charCodeAt(s);)s++;if(s-i===o.length)return t||e.push({type:"code",content:e.src.slice(a,i).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=s,!0}return t||(e.pending+=o),e.pos+=o.length,!0}],["del",function(e,t){var n,r,o,i,s,a=e.posMax,c=e.pos;if(126!==e.src.charCodeAt(c))return!1;if(t)return!1;if(c+4>=a)return!1;if(126!==e.src.charCodeAt(c+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(i=c>0?e.src.charCodeAt(c-1):-1,s=e.src.charCodeAt(c+2),126===i)return!1;if(126===s)return!1;if(32===s||10===s)return!1;for(r=c+2;r<a&&126===e.src.charCodeAt(r);)r++;if(r>c+3)return e.pos+=r-c,t||(e.pending+=e.src.slice(c,r)),!0;for(e.pos=c+2,o=1;e.pos+1<a;){if(126===e.src.charCodeAt(e.pos)&&126===e.src.charCodeAt(e.pos+1)&&(i=e.src.charCodeAt(e.pos-1),126!==(s=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1)&&126!==i&&(32!==i&&10!==i?o--:32!==s&&10!==s&&o++,o<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=c+2,t||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=c,!1)}],["ins",function(e,t){var n,r,o,i,s,a=e.posMax,c=e.pos;if(43!==e.src.charCodeAt(c))return!1;if(t)return!1;if(c+4>=a)return!1;if(43!==e.src.charCodeAt(c+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(i=c>0?e.src.charCodeAt(c-1):-1,s=e.src.charCodeAt(c+2),43===i)return!1;if(43===s)return!1;if(32===s||10===s)return!1;for(r=c+2;r<a&&43===e.src.charCodeAt(r);)r++;if(r!==c+2)return e.pos+=r-c,t||(e.pending+=e.src.slice(c,r)),!0;for(e.pos=c+2,o=1;e.pos+1<a;){if(43===e.src.charCodeAt(e.pos)&&43===e.src.charCodeAt(e.pos+1)&&(i=e.src.charCodeAt(e.pos-1),43!==(s=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1)&&43!==i&&(32!==i&&10!==i?o--:32!==s&&10!==s&&o++,o<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=c+2,t||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=c,!1)}],["mark",function(e,t){var n,r,o,i,s,a=e.posMax,c=e.pos;if(61!==e.src.charCodeAt(c))return!1;if(t)return!1;if(c+4>=a)return!1;if(61!==e.src.charCodeAt(c+1))return!1;if(e.level>=e.options.maxNesting)return!1;if(i=c>0?e.src.charCodeAt(c-1):-1,s=e.src.charCodeAt(c+2),61===i)return!1;if(61===s)return!1;if(32===s||10===s)return!1;for(r=c+2;r<a&&61===e.src.charCodeAt(r);)r++;if(r!==c+2)return e.pos+=r-c,t||(e.pending+=e.src.slice(c,r)),!0;for(e.pos=c+2,o=1;e.pos+1<a;){if(61===e.src.charCodeAt(e.pos)&&61===e.src.charCodeAt(e.pos+1)&&(i=e.src.charCodeAt(e.pos-1),61!==(s=e.pos+2<a?e.src.charCodeAt(e.pos+2):-1)&&61!==i&&(32!==i&&10!==i?o--:32!==s&&10!==s&&o++,o<=0))){n=!0;break}e.parser.skipToken(e)}return n?(e.posMax=e.pos,e.pos=c+2,t||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=a,!0):(e.pos=c,!1)}],["emphasis",function(e,t){var n,r,o,i,s,a,c,l=e.posMax,u=e.pos,d=e.src.charCodeAt(u);if(95!==d&&42!==d)return!1;if(t)return!1;if(n=(c=le(e,u)).delims,!c.can_open)return e.pos+=n,t||(e.pending+=e.src.slice(u,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=u+n,a=[n];e.pos<l;)if(e.src.charCodeAt(e.pos)!==d)e.parser.skipToken(e);else{if(r=(c=le(e,e.pos)).delims,c.can_close){for(i=a.pop(),s=r;i!==s;){if(s<i){a.push(i-s);break}if(s-=i,0===a.length)break;e.pos+=i,i=a.pop()}if(0===a.length){n=i,o=!0;break}e.pos+=r;continue}c.can_open&&a.push(r),e.pos+=r}return o?(e.posMax=e.pos,e.pos=u+n,t||(2!==n&&3!==n||e.push({type:"strong_open",level:e.level++}),1!==n&&3!==n||e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),1!==n&&3!==n||e.push({type:"em_close",level:--e.level}),2!==n&&3!==n||e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+n,e.posMax=l,!0):(e.pos=u,!1)}],["sub",function(e,t){var n,r,o=e.posMax,i=e.pos;if(126!==e.src.charCodeAt(i))return!1;if(t)return!1;if(i+2>=o)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=i+1;e.pos<o;){if(126===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&i+1!==e.pos?(r=e.src.slice(i+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=i,!1):(e.posMax=e.pos,e.pos=i+1,t||e.push({type:"sub",level:e.level,content:r.replace(ue,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0):(e.pos=i,!1)}],["sup",function(e,t){var n,r,o=e.posMax,i=e.pos;if(94!==e.src.charCodeAt(i))return!1;if(t)return!1;if(i+2>=o)return!1;if(e.level>=e.options.maxNesting)return!1;for(e.pos=i+1;e.pos<o;){if(94===e.src.charCodeAt(e.pos)){n=!0;break}e.parser.skipToken(e)}return n&&i+1!==e.pos?(r=e.src.slice(i+1,e.pos)).match(/(^|[^\\])(\\\\)*\s/)?(e.pos=i,!1):(e.posMax=e.pos,e.pos=i+1,t||e.push({type:"sup",level:e.level,content:r.replace(de,"$1")}),e.pos=e.posMax+1,e.posMax=o,!0):(e.pos=i,!1)}],["links",function(e,t){var n,r,o,i,s,a,c,l,u=!1,d=e.pos,p=e.posMax,h=e.pos,f=e.src.charCodeAt(h);if(33===f&&(u=!0,f=e.src.charCodeAt(++h)),91!==f)return!1;if(e.level>=e.options.maxNesting)return!1;if(n=h+1,(r=I(e,h))<0)return!1;if((a=r+1)<p&&40===e.src.charCodeAt(a)){for(a++;a<p&&(32===(l=e.src.charCodeAt(a))||10===l);a++);if(a>=p)return!1;for(h=a,R(e,a)?(i=e.linkContent,a=e.pos):i="",h=a;a<p&&(32===(l=e.src.charCodeAt(a))||10===l);a++);if(a<p&&h!==a&&O(e,a))for(s=e.linkContent,a=e.pos;a<p&&(32===(l=e.src.charCodeAt(a))||10===l);a++);else s="";if(a>=p||41!==e.src.charCodeAt(a))return e.pos=d,!1;a++}else{if(e.linkLevel>0)return!1;for(;a<p&&(32===(l=e.src.charCodeAt(a))||10===l);a++);if(a<p&&91===e.src.charCodeAt(a)&&(h=a+1,(a=I(e,a))>=0?o=e.src.slice(h,a++):a=h-1),o||("undefined"===typeof o&&(a=r+1),o=e.src.slice(n,r)),!(c=e.env.references[T(o)]))return e.pos=d,!1;i=c.href,s=c.title}return t||(e.pos=n,e.posMax=r,u?e.push({type:"image",src:i,title:s,alt:e.src.substr(n,r-n),level:e.level}):(e.push({type:"link_open",href:i,title:s,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=a,e.posMax=p,!0}],["footnote_inline",function(e,t){var n,r,o,i,s=e.posMax,a=e.pos;return!(a+2>=s)&&(94===e.src.charCodeAt(a)&&(91===e.src.charCodeAt(a+1)&&(!(e.level>=e.options.maxNesting)&&(n=a+2,!((r=I(e,a+1))<0)&&(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),o=e.env.footnotes.list.length,e.pos=n,e.posMax=r,e.push({type:"footnote_ref",id:o,level:e.level}),e.linkLevel++,i=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[o]={tokens:e.tokens.splice(i)},e.linkLevel--),e.pos=r+1,e.posMax=s,!0)))))}],["footnote_ref",function(e,t){var n,r,o,i,s=e.posMax,a=e.pos;if(a+3>s)return!1;if(!e.env.footnotes||!e.env.footnotes.refs)return!1;if(91!==e.src.charCodeAt(a))return!1;if(94!==e.src.charCodeAt(a+1))return!1;if(e.level>=e.options.maxNesting)return!1;for(r=a+2;r<s;r++){if(32===e.src.charCodeAt(r))return!1;if(10===e.src.charCodeAt(r))return!1;if(93===e.src.charCodeAt(r))break}return r!==a+2&&(!(r>=s)&&(r++,n=e.src.slice(a+2,r-1),"undefined"!==typeof e.env.footnotes.refs[":"+n]&&(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+n]<0?(o=e.env.footnotes.list.length,e.env.footnotes.list[o]={label:n,count:0},e.env.footnotes.refs[":"+n]=o):o=e.env.footnotes.refs[":"+n],i=e.env.footnotes.list[o].count,e.env.footnotes.list[o].count++,e.push({type:"footnote_ref",id:o,subId:i,level:e.level})),e.pos=r,e.posMax=s,!0)))}],["autolink",function(e,t){var n,r,o,i,s,a=e.pos;return 60===e.src.charCodeAt(a)&&(!((n=e.src.slice(a)).indexOf(">")<0)&&((r=n.match(fe))?!(pe.indexOf(r[1].toLowerCase())<0)&&(s=P(i=r[0].slice(1,-1)),!!e.parser.validateLink(i)&&(t||(e.push({type:"link_open",href:s,level:e.level}),e.push({type:"text",content:i,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=r[0].length,!0)):!!(o=n.match(he))&&(s=P("mailto:"+(i=o[0].slice(1,-1))),!!e.parser.validateLink(s)&&(t||(e.push({type:"link_open",href:s,level:e.level}),e.push({type:"text",content:i,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=o[0].length,!0))))}],["htmltag",function(e,t){var n,r,o,i=e.pos;return!!e.options.html&&(o=e.posMax,!(60!==e.src.charCodeAt(i)||i+2>=o)&&(!(33!==(n=e.src.charCodeAt(i+1))&&63!==n&&47!==n&&!function(e){var t=32|e;return t>=97&&t<=122}(n))&&(!!(r=e.src.slice(i).match(ve))&&(t||e.push({type:"htmltag",content:e.src.slice(i,i+r[0].length),level:e.level}),e.pos+=r[0].length,!0))))}],["entity",function(e,t){var n,r,i=e.pos,s=e.posMax;if(38!==e.src.charCodeAt(i))return!1;if(i+1<s)if(35===e.src.charCodeAt(i+1)){if(r=e.src.slice(i).match(we))return t||(n="x"===r[1][0].toLowerCase()?parseInt(r[1].slice(1),16):parseInt(r[1],10),e.pending+=u(n)?d(n):d(65533)),e.pos+=r[0].length,!0}else if(r=e.src.slice(i).match(ke)){var a=o(r[1]);if(r[1]!==a)return t||(e.pending+=a),e.pos+=r[0].length,!0}return t||(e.pending+="&"),e.pos++,!0}]];function Ee(){this.ruler=new C;for(var e=0;e<_e.length;e++)this.ruler.push(_e[e][0],_e[e][1]);this.validateLink=Se}function Se(e){var t=e.trim().toLowerCase();return-1===(t=g(t)).indexOf(":")||-1===["vbscript","javascript","file","data"].indexOf(t.split(":")[0])}Ee.prototype.skipToken=function(e){var t,n,r=this.ruler.getRules(""),o=r.length,i=e.pos;if((n=e.cacheGet(i))>0)e.pos=n;else{for(t=0;t<o;t++)if(r[t](e,!0))return void e.cacheSet(i,e.pos);e.pos++,e.cacheSet(i,e.pos)}},Ee.prototype.tokenize=function(e){for(var t,n,r=this.ruler.getRules(""),o=r.length,i=e.posMax;e.pos<i;){for(n=0;n<o&&!(t=r[n](e,!1));n++);if(t){if(e.pos>=i)break}else e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()},Ee.prototype.parse=function(e,t,n,r){var o=new x(e,this,t,n,r);this.tokenize(o)};var Ce={default:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},full:{options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},commonmark:{options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201c\u201d\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}}};function xe(e,t,n){this.src=t,this.env=n,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function Ie(e,t){"string"!==typeof e&&(t=e,e="default"),t&&null!=t.linkify&&console.warn("linkify option is removed. Use linkify plugin instead:\n\nimport Remarkable from 'remarkable';\nimport linkify from 'remarkable/linkify';\nnew Remarkable().use(linkify)\n"),this.inline=new Ee,this.block=new te,this.core=new H,this.renderer=new S,this.ruler=new C,this.options={},this.configure(Ce[e]),this.set(t||{})}Ie.prototype.set=function(e){a(this.options,e)},Ie.prototype.configure=function(e){var t=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach((function(n){e.components[n].rules&&t[n].ruler.enable(e.components[n].rules,!0)}))},Ie.prototype.use=function(e,t){return e(this,t),this},Ie.prototype.parse=function(e,t){var n=new xe(this,e,t);return this.core.process(n),n.tokens},Ie.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)},Ie.prototype.parseInline=function(e,t){var n=new xe(this,e,t);return n.inlineMode=!0,this.core.process(n),n.tokens},Ie.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)}},22232:e=>{var t=new Error("Element already at target scroll position"),n=new Error("Scroll cancelled"),r=Math.min,o=Date.now;function i(e){return function(i,c,l,u){"function"==typeof(l=l||{})&&(u=l,l={}),"function"!=typeof u&&(u=a);var d=o(),p=i[e],h=l.ease||s,f=isNaN(l.duration)?350:+l.duration,g=!1;return p===c?u(t,i[e]):requestAnimationFrame((function t(s){if(g)return u(n,i[e]);var a=o(),l=r(1,(a-d)/f),y=h(l);i[e]=y*(c-p)+p,l<1?requestAnimationFrame(t):requestAnimationFrame((function(){u(null,i[e])}))})),function(){g=!0}}}function s(e){return.5*(1-Math.cos(Math.PI*e))}function a(){}e.exports={left:i("scrollLeft"),top:i("scrollTop")}},88199:function(e,t){var n,r,o;r=[],void 0===(o="function"===typeof(n=function(){var e=/(auto|scroll)/,t=function(e,n){return null===e.parentNode?n:t(e.parentNode,n.concat([e]))},n=function(e,t){return getComputedStyle(e,null).getPropertyValue(t)},r=function(e){return n(e,"overflow")+n(e,"overflow-y")+n(e,"overflow-x")},o=function(t){return e.test(r(t))};return function(e){if(e instanceof HTMLElement||e instanceof SVGElement){for(var n=t(e.parentNode,[]),r=0;r<n.length;r+=1)if(o(n[r]))return n[r];return document.scrollingElement||document.documentElement}}})?n.apply(t,r):n)||(e.exports=o)},31579:(e,t,n)=>{"use strict";const r=n(61558);e.exports=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!r(e)&&!Array.isArray(e))throw new TypeError("Expected a plain object or array");const{deep:n}=t,o=[],i=[],s=e=>{const t=o.indexOf(e);if(-1!==t)return i[t];const n=[];return o.push(e),i.push(n),n.push(...e.map((e=>Array.isArray(e)?s(e):r(e)?a(e):e))),n},a=e=>{const c=o.indexOf(e);if(-1!==c)return i[c];const l={},u=Object.keys(e).sort(t.compare);o.push(e),i.push(l);for(const t of u){const o=e[t];let i;i=n&&Array.isArray(o)?s(o):n&&r(o)?a(o):o,Object.defineProperty(l,t,{...Object.getOwnPropertyDescriptor(e,t),value:i})}return l};return Array.isArray(e)?n?s(e):e.slice():a(e)}},98767:(e,t,n)=>{"use strict";const{AbortController:r}=globalThis,o=n(46094);class i extends r{constructor(e){super(),this._ms=e,this._timer=o((()=>this.abort()),e),Object.setPrototypeOf(this,i.prototype)}abort(){return this._timer.clear(),super.abort()}clear(){this._timer.clear()}reset(){this._timer.clear(),this._timer=o((()=>this.abort()),this._ms)}}e.exports={TimeoutController:i}},21533:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},75617:(e,t,n)=>{e.exports={encode:n(84243),decode:n(69504),encodingLength:n(83754)}},56373:()=>{},15861:(e,t,n)=>{"use strict";function r(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var s=e.apply(t,n);function a(e){r(s,o,i,a,c,"next",e)}function c(e){r(s,o,i,a,c,"throw",e)}a(void 0)}))}}n.d(t,{Z:()=>o})},63366:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,{Z:()=>r})},47922:(e,t,n)=>{"use strict";n.r(t),n.d(t,{code:()=>A,createLink:()=>x,createNode:()=>C,decode:()=>R,encode:()=>P,name:()=>I,prepare:()=>E,validate:()=>S});var r=n(32743);const o=new TextDecoder;function i(e,t){let n=0;for(let r=0;;r+=7){if(r>=64)throw new Error("protobuf: varint overflow");if(t>=e.length)throw new Error("protobuf: unexpected end of data");const o=e[t++];if(n+=r<28?(127&o)<<r:(127&o)*2**r,o<128)break}return[n,t]}function s(e,t){let n;[n,t]=i(e,t);const r=t+n;if(n<0||r<0)throw new Error("protobuf: invalid length");if(r>e.length)throw new Error("protobuf: unexpected end of data");return[e.subarray(t,r),r]}function a(e,t){let n;return[n,t]=i(e,t),[7&n,n>>3,t]}function c(e){const t={},n=e.length;let r=0;for(;r<n;){let n,c;if([n,c,r]=a(e,r),1===c){if(t.Hash)throw new Error("protobuf: (PBLink) duplicate Hash section");if(2!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Hash`);if(void 0!==t.Name)throw new Error("protobuf: (PBLink) invalid order, found Name before Hash");if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Hash");[t.Hash,r]=s(e,r)}else if(2===c){if(void 0!==t.Name)throw new Error("protobuf: (PBLink) duplicate Name section");if(2!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Name`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) invalid order, found Tsize before Name");let i;[i,r]=s(e,r),t.Name=o.decode(i)}else{if(3!==c)throw new Error(`protobuf: (PBLink) invalid fieldNumber, expected 1, 2 or 3, got ${c}`);if(void 0!==t.Tsize)throw new Error("protobuf: (PBLink) duplicate Tsize section");if(0!==n)throw new Error(`protobuf: (PBLink) wrong wireType (${n}) for Tsize`);[t.Tsize,r]=i(e,r)}}if(r>n)throw new Error("protobuf: (PBLink) unexpected end of data");return t}const l=new TextEncoder,u=2**32;function d(e,t){let n=t.length;if("number"===typeof e.Tsize){if(e.Tsize<0)throw new Error("Tsize cannot be negative");if(!Number.isSafeInteger(e.Tsize))throw new Error("Tsize too large for encoding");n=f(t,n,e.Tsize)-1,t[n]=24}if("string"===typeof e.Name){const r=l.encode(e.Name);n-=r.length,t.set(r,n),n=f(t,n,r.length)-1,t[n]=18}return e.Hash&&(n-=e.Hash.length,t.set(e.Hash,n),n=f(t,n,e.Hash.length)-1,t[n]=10),t.length-n}function p(e){const t=function(e){let t=0;if(e.Data){const n=e.Data.length;t+=1+n+g(n)}if(e.Links)for(const n of e.Links){const e=h(n);t+=1+e+g(e)}return t}(e),n=new Uint8Array(t);let r=t;if(e.Data&&(r-=e.Data.length,n.set(e.Data,r),r=f(n,r,e.Data.length)-1,n[r]=10),e.Links)for(let o=e.Links.length-1;o>=0;o--){const t=d(e.Links[o],n.subarray(0,r));r-=t,r=f(n,r,t)-1,n[r]=18}return n}function h(e){let t=0;if(e.Hash){const n=e.Hash.length;t+=1+n+g(n)}if("string"===typeof e.Name){const n=l.encode(e.Name).length;t+=1+n+g(n)}return"number"===typeof e.Tsize&&(t+=1+g(e.Tsize)),t}function f(e,t,n){const r=t-=g(n);for(;n>=2147483648;)e[t++]=127&n|128,n/=128;for(;n>=128;)e[t++]=127&n|128,n>>>=7;return e[t]=n,r}function g(e){return e%2===0&&e++,Math.floor((function(e){let t=0;e>=u&&(e=Math.floor(e/u),t=32);e>=65536&&(e>>>=16,t+=16);e>=256&&(e>>>=8,t+=8);return t+y[e]}(e)+6)/7)}const y=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8],m=["Data","Links"],b=["Hash","Name","Tsize"],v=new TextEncoder;function w(e,t){if(e===t)return 0;const n=e.Name?v.encode(e.Name):[],r=t.Name?v.encode(t.Name):[];let o=n.length,i=r.length;for(let s=0,a=Math.min(o,i);s<a;++s)if(n[s]!==r[s]){o=n[s],i=r[s];break}return o<i?-1:i<o?1:0}function k(e,t){return!Object.keys(e).some((e=>!t.includes(e)))}function _(e){if("object"===typeof e.asCID){const t=r.CID.asCID(e);if(!t)throw new TypeError("Invalid DAG-PB form");return{Hash:t}}if("object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(e.Hash){let o=r.CID.asCID(e.Hash);try{o||("string"===typeof e.Hash?o=r.CID.parse(e.Hash):e.Hash instanceof Uint8Array&&(o=r.CID.decode(e.Hash)))}catch(n){throw new TypeError(`Invalid DAG-PB form: ${n.message}`)}o&&(t.Hash=o)}if(!t.Hash)throw new TypeError("Invalid DAG-PB form");return"string"===typeof e.Name&&(t.Name=e.Name),"number"===typeof e.Tsize&&(t.Tsize=e.Tsize),t}function E(e){if((e instanceof Uint8Array||"string"===typeof e)&&(e={Data:e}),"object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");const t={};if(void 0!==e.Data)if("string"===typeof e.Data)t.Data=v.encode(e.Data);else{if(!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form");t.Data=e.Data}if(void 0!==e.Links){if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form");t.Links=e.Links.map(_),t.Links.sort(w)}else t.Links=[];return t}function S(e){if(!e||"object"!==typeof e||Array.isArray(e))throw new TypeError("Invalid DAG-PB form");if(!k(e,m))throw new TypeError("Invalid DAG-PB form (extraneous properties)");if(void 0!==e.Data&&!(e.Data instanceof Uint8Array))throw new TypeError("Invalid DAG-PB form (Data must be a Uint8Array)");if(!Array.isArray(e.Links))throw new TypeError("Invalid DAG-PB form (Links must be an array)");for(let t=0;t<e.Links.length;t++){const n=e.Links[t];if(!n||"object"!==typeof n||Array.isArray(n))throw new TypeError("Invalid DAG-PB form (bad link object)");if(!k(n,b))throw new TypeError("Invalid DAG-PB form (extraneous properties on link object)");if(!n.Hash)throw new TypeError("Invalid DAG-PB form (link must have a Hash)");if(n.Hash.asCID!==n.Hash)throw new TypeError("Invalid DAG-PB form (link Hash must be a CID)");if(void 0!==n.Name&&"string"!==typeof n.Name)throw new TypeError("Invalid DAG-PB form (link Name must be a string)");if(void 0!==n.Tsize&&("number"!==typeof n.Tsize||n.Tsize%1!==0))throw new TypeError("Invalid DAG-PB form (link Tsize must be an integer)");if(t>0&&-1===w(n,e.Links[t-1]))throw new TypeError("Invalid DAG-PB form (links must be sorted by Name bytes)")}}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return E({Data:e,Links:t})}function x(e,t,n){return _({Hash:n,Name:e,Tsize:t})}const I="dag-pb",A=112;function P(e){S(e);const t={};return e.Links&&(t.Links=e.Links.map((e=>{const t={};return e.Hash&&(t.Hash=e.Hash.bytes),void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),e.Data&&(t.Data=e.Data),p(t)}function R(e){const t=function(e){const t=e.length;let n,r,o=0,i=!1;for(;o<t;){let t,l;if([t,l,o]=a(e,o),2!==t)throw new Error(`protobuf: (PBNode) invalid wireType, expected 2, got ${t}`);if(1===l){if(r)throw new Error("protobuf: (PBNode) duplicate Data section");[r,o]=s(e,o),n&&(i=!0)}else{if(2!==l)throw new Error(`protobuf: (PBNode) invalid fieldNumber, expected 1 or 2, got ${l}`);{if(i)throw new Error("protobuf: (PBNode) duplicate Links section");let t;n||(n=[]),[t,o]=s(e,o),n.push(c(t))}}}if(o>t)throw new Error("protobuf: (PBNode) unexpected end of data");const l={};return r&&(l.Data=r),l.Links=n||[],l}(e),n={};return t.Data&&(n.Data=t.Data),t.Links&&(n.Links=t.Links.map((e=>{const t={};try{t.Hash=r.CID.decode(e.Hash)}catch(n){}if(!t.Hash)throw new Error("Invalid Hash field found in link, expected CID");return void 0!==e.Name&&(t.Name=e.Name),void 0!==e.Tsize&&(t.Tsize=e.Tsize),t}))),n}},64429:(e,t,n)=>{"use strict";n.d(t,{Dy:()=>i.D,Jx:()=>o.Jx,WU:()=>i.W,cv:()=>r.cv});var r=n(61041),o=n(4712),i=n(96585)},53460:(e,t,n)=>{"use strict";n.d(t,{BB:()=>c,Dz:()=>a,Pu:()=>m,mL:()=>l,nI:()=>u,qu:()=>f,tP:()=>d,un:()=>h,zo:()=>p});const r=globalThis.process&&!globalThis.process.browser&&globalThis.Buffer&&"function"===typeof globalThis.Buffer.isBuffer,o=new TextDecoder,i=new TextEncoder;function s(e){return r&&globalThis.Buffer.isBuffer(e)}function a(e){return e instanceof Uint8Array?s(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e:Uint8Array.from(e)}const c=r?(e,t,n)=>n-t>64?globalThis.Buffer.from(e.subarray(t,n)).toString("utf8"):y(e,t,n):(e,t,n)=>n-t>64?o.decode(e.subarray(t,n)):y(e,t,n),l=r?e=>e.length>64?globalThis.Buffer.from(e):g(e):e=>e.length>64?i.encode(e):g(e),u=e=>Uint8Array.from(e),d=r?(e,t,n)=>s(e)?new Uint8Array(e.subarray(t,n)):e.slice(t,n):(e,t,n)=>e.slice(t,n),p=r?(e,t)=>(e=e.map((e=>e instanceof Uint8Array?e:globalThis.Buffer.from(e))),a(globalThis.Buffer.concat(e,t))):(e,t)=>{const n=new Uint8Array(t);let r=0;for(let o of e)r+o.length>n.length&&(o=o.subarray(0,n.length-r)),n.set(o,r),r+=o.length;return n},h=r?e=>globalThis.Buffer.allocUnsafe(e):e=>new Uint8Array(e);function f(e,t){if(s(e)&&s(t))return e.compare(t);for(let n=0;n<e.length;n++)if(e[n]!==t[n])return e[n]<t[n]?-1:1;return 0}function g(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(t=e.charCodeAt(s),t>55295&&t<57344){if(!o){if(t>56319){(n-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(n-=3)>-1&&i.push(239,191,189);continue}o=t;continue}if(t<56320){(n-=3)>-1&&i.push(239,191,189),o=t;continue}t=65536+(o-55296<<10|t-56320)}else o&&(n-=3)>-1&&i.push(239,191,189);if(o=null,t<128){if((n-=1)<0)break;i.push(t)}else if(t<2048){if((n-=2)<0)break;i.push(t>>6|192,63&t|128)}else if(t<65536){if((n-=3)<0)break;i.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;i.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return i}function y(e,t,n){const r=[];for(;t<n;){const o=e[t];let i=null,s=o>239?4:o>223?3:o>191?2:1;if(t+s<=n){let n,r,a,c;switch(s){case 1:o<128&&(i=o);break;case 2:n=e[t+1],128===(192&n)&&(c=(31&o)<<6|63&n,c>127&&(i=c));break;case 3:n=e[t+1],r=e[t+2],128===(192&n)&&128===(192&r)&&(c=(15&o)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[t+1],r=e[t+2],a=e[t+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&o)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),t+=s}return m(r)}function m(e){const t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}},92526:(e,t,n)=>{"use strict";n.d(t,{DO:()=>s,IR:()=>r,OO:()=>o});const r="CBOR decode error:",o="CBOR encode error:",i=[];function s(e,t,n){if(e.length-t<n)throw new Error(`${r} not enough data for type`)}i[23]=1,i[24]=2,i[25]=3,i[26]=5,i[27]=9},4712:(e,t,n)=>{"use strict";n.d(t,{Jx:()=>d});var r=n(92526),o=n(96585),i=n(14829);const s={strict:!1,allowIndefinite:!0,allowUndefined:!0,allowBigInt:!0};class a{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.pos=0,this.data=e,this.options=t}done(){return this.pos>=this.data.length}next(){const e=this.data[this.pos];let t=i.PS[e];if(void 0===t){const n=i.cW[e];if(!n)throw new Error(`${r.IR} no decoder for major type ${e>>>5} (byte 0x${e.toString(16).padStart(2,"0")})`);const o=31&e;t=n(this.data,this.pos,o,this.options)}return this.pos+=t.encodedLength,t}}const c=Symbol.for("DONE"),l=Symbol.for("BREAK");function u(e,t){if(e.done())return c;const n=e.next();if(n.type===o.D.break)return l;if(n.type.terminal)return n.value;if(n.type===o.D.array)return function(e,t,n){const o=[];for(let i=0;i<e.value;i++){const s=u(t,n);if(s===l){if(e.value===1/0)break;throw new Error(`${r.IR} got unexpected break to lengthed array`)}if(s===c)throw new Error(`${r.IR} found array but not enough entries (got ${i}, expected ${e.value})`);o[i]=s}return o}(n,e,t);if(n.type===o.D.map)return function(e,t,n){const o=!0===n.useMaps,i=o?void 0:{},s=o?new Map:void 0;for(let a=0;a<e.value;a++){const d=u(t,n);if(d===l){if(e.value===1/0)break;throw new Error(`${r.IR} got unexpected break to lengthed map`)}if(d===c)throw new Error(`${r.IR} found map but not enough entries (got ${a} [no key], expected ${e.value})`);if(!0!==o&&"string"!==typeof d)throw new Error(`${r.IR} non-string keys not supported (got ${typeof d})`);const p=u(t,n);if(p===c)throw new Error(`${r.IR} found map but not enough entries (got ${a} [no value], expected ${e.value})`);o?s.set(d,p):i[d]=p}return o?s:i}(n,e,t);if(n.type===o.D.tag){if(t.tags&&"function"===typeof t.tags[n.value]){const r=u(e,t);return t.tags[n.value](r)}throw new Error(`${r.IR} tag not supported (${n.value})`)}throw new Error("unsupported")}function d(e,t){if(!(e instanceof Uint8Array))throw new Error(`${r.IR} data to decode must be a Uint8Array`);const n=(t=Object.assign({},s,t)).tokenizer||new a(e,t),o=u(n,t);if(o===c)throw new Error(`${r.IR} did not find any content to decode`);if(o===l)throw new Error(`${r.IR} got unexpected break`);if(!n.done())throw new Error(`${r.IR} too many terminals, data makes no sense`);return o}},61041:(e,t,n)=>{"use strict";n.d(t,{cv:()=>x,w$:()=>C});var r=n(86525),o=n(96585),i=n(56130),s=n(92526),a=n(14829),c=n(53460),l=n(9679),u=n(26421),d=n(99609),p=n(95665),h=n(88925),f=n(68613),g=n(50688),y=n(46947);const m={float64:!1,mapSorter:function(e,t){const n=Array.isArray(e[0])?e[0][0]:e[0],r=Array.isArray(t[0])?t[0][0]:t[0];if(n.type!==r.type)return n.type.compare(r.type);const o=n.type.major,i=b[o].compareTokens(n,r);0===i&&console.warn("WARNING: complex key types used, CBOR key sorting guarantees are gone");return i},quickEncodeToken:a.JN};const b=function(){const e=[];return e[o.D.uint.major]=l.Fh,e[o.D.negint.major]=u.UT,e[o.D.bytes.major]=d.hg,e[o.D.string.major]=p.YW,e[o.D.array.major]=h.HF,e[o.D.map.major]=f.KI,e[o.D.tag.major]=g.xy,e[o.D.float.major]=y.tA,e}(),v=new i.Bl;class w{constructor(e,t){this.obj=e,this.parent=t}includes(e){let t=this;do{if(t.obj===e)return!0}while(t=t.parent);return!1}static createCheck(e,t){if(e&&e.includes(t))throw new Error(`${s.OO} object contains circular references`);return new w(t,e)}}const k={null:new o.W(o.D.null,null),undefined:new o.W(o.D.undefined,void 0),true:new o.W(o.D.true,!0),false:new o.W(o.D.false,!1),emptyArray:new o.W(o.D.array,0),emptyMap:new o.W(o.D.map,0)},_={number:(e,t,n,r)=>Number.isInteger(e)&&Number.isSafeInteger(e)?e>=0?new o.W(o.D.uint,e):new o.W(o.D.negint,e):new o.W(o.D.float,e),bigint:(e,t,n,r)=>e>=BigInt(0)?new o.W(o.D.uint,e):new o.W(o.D.negint,e),Uint8Array:(e,t,n,r)=>new o.W(o.D.bytes,e),string:(e,t,n,r)=>new o.W(o.D.string,e),boolean:(e,t,n,r)=>e?k.true:k.false,null:(e,t,n,r)=>k.null,undefined:(e,t,n,r)=>k.undefined,ArrayBuffer:(e,t,n,r)=>new o.W(o.D.bytes,new Uint8Array(e)),DataView:(e,t,n,r)=>new o.W(o.D.bytes,new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),Array(e,t,n,r){if(!e.length)return!0===n.addBreakTokens?[k.emptyArray,new o.W(o.D.break)]:k.emptyArray;r=w.createCheck(r,e);const i=[];let s=0;for(const o of e)i[s++]=E(o,n,r);return n.addBreakTokens?[new o.W(o.D.array,e.length),i,new o.W(o.D.break)]:[new o.W(o.D.array,e.length),i]},Object(e,t,n,r){const i="Object"!==t,s=i?e.keys():Object.keys(e),a=i?e.size:s.length;if(!a)return!0===n.addBreakTokens?[k.emptyMap,new o.W(o.D.break)]:k.emptyMap;r=w.createCheck(r,e);const c=[];let l=0;for(const o of s)c[l++]=[E(o,n,r),E(i?e.get(o):e[o],n,r)];return function(e,t){t.mapSorter&&e.sort(t.mapSorter)}(c,n),n.addBreakTokens?[new o.W(o.D.map,a),c,new o.W(o.D.break)]:[new o.W(o.D.map,a),c]}};_.Map=_.Object,_.Buffer=_.Uint8Array;for(const I of"Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64".split(" "))_[`${I}Array`]=_.DataView;function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;const o=(0,r.is)(e),i=t&&t.typeEncoders&&t.typeEncoders[o]||_[o];if("function"===typeof i){const r=i(e,o,t,n);if(null!=r)return r}const a=_[o];if(!a)throw new Error(`${s.OO} unsupported type: ${o}`);return a(e,o,t,n)}function S(e,t,n,r){if(Array.isArray(t))for(const o of t)S(e,o,n,r);else n[t.type.major](e,t,r)}function C(e,t,n){const r=E(e,n);if(!Array.isArray(r)&&n.quickEncodeToken){const e=n.quickEncodeToken(r);if(e)return e;const o=t[r.type.major];if(o.encodedSize){const e=o.encodedSize(r,n),t=new i.Bl(e);if(o(t,r,n),1!==t.chunks.length)throw new Error(`Unexpected error: pre-calculated length for ${r} was wrong`);return(0,c.Dz)(t.chunks[0])}}return v.reset(),S(v,r,t,n),v.toBytes(!0)}function x(e,t){return t=Object.assign({},m,t),C(e,b,t)}},25937:(e,t,n)=>{"use strict";n.d(t,{c:()=>l});var r=n(96585),o=n(61041),i=n(92526),s=n(53460);class a extends Array{constructor(){super(),this.inRecursive=[]}prefix(e){const t=this.inRecursive[this.inRecursive.length-1];t&&(t.type===r.D.array&&(t.elements++,1!==t.elements&&e.push([44])),t.type===r.D.map&&(t.elements++,1!==t.elements&&(t.elements%2===1?e.push([44]):e.push([58]))))}[r.D.uint.major](e,t){this.prefix(e);const n=String(t.value),r=[];for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);e.push(r)}[r.D.negint.major](e,t){this[r.D.uint.major](e,t)}[r.D.bytes.major](e,t){throw new Error(`${i.OO} unsupported type: Uint8Array`)}[r.D.string.major](e,t){this.prefix(e);const n=(0,s.mL)(JSON.stringify(t.value));e.push(n.length>32?(0,s.Dz)(n):n)}[r.D.array.major](e,t){this.prefix(e),this.inRecursive.push({type:r.D.array,elements:0}),e.push([91])}[r.D.map.major](e,t){this.prefix(e),this.inRecursive.push({type:r.D.map,elements:0}),e.push([123])}[r.D.tag.major](e,t){}[r.D.float.major](e,t){if("break"===t.type.name){const t=this.inRecursive.pop();if(t){if(t.type===r.D.array)e.push([93]);else{if(t.type!==r.D.map)throw new Error("Unexpected recursive type; this should not happen!");e.push([125])}return}throw new Error("Unexpected break; this should not happen!")}if(void 0===t.value)throw new Error(`${i.OO} unsupported type: undefined`);if(this.prefix(e),"true"===t.type.name)return void e.push([116,114,117,101]);if("false"===t.type.name)return void e.push([102,97,108,115,101]);if("null"===t.type.name)return void e.push([110,117,108,108]);const n=String(t.value),o=[];let s=!1;for(let r=0;r<n.length;r++)o[r]=n.charCodeAt(r),s||46!==o[r]&&101!==o[r]&&69!==o[r]||(s=!0);s||(o.push(46),o.push(48)),e.push(o)}}const c={addBreakTokens:!0,mapSorter:function(e,t){if(Array.isArray(e[0])||Array.isArray(t[0]))throw new Error(`${i.OO} complex map keys are not supported`);const n=e[0],o=t[0];if(n.type!==r.D.string||o.type!==r.D.string)throw new Error(`${i.OO} non-string map keys are not supported`);if(n<o)return-1;if(n>o)return 1;throw new Error(`${i.OO} unexpected duplicate map keys, this is not supported`)}};function l(e,t){return t=Object.assign({},c,t),(0,o.w$)(e,new a,t)}},14829:(e,t,n)=>{"use strict";n.d(t,{JN:()=>b,PS:()=>m,cW:()=>y});var r=n(96585),o=n(9679),i=n(26421),s=n(99609),a=n(95665),c=n(88925),l=n(68613),u=n(50688),d=n(46947),p=n(92526),h=n(53460);function f(e,t,n){throw new Error(`${p.IR} encountered invalid minor (${n}) for major ${e[t]>>>5}`)}function g(e){return()=>{throw new Error(`${p.IR} ${e}`)}}const y=[];for(let v=0;v<=23;v++)y[v]=f;y[24]=o.Km,y[25]=o.Zh,y[26]=o.cs,y[27]=o.uN,y[28]=f,y[29]=f,y[30]=f,y[31]=f;for(let v=32;v<=55;v++)y[v]=f;y[56]=i.yr,y[57]=i.r0,y[58]=i.wy,y[59]=i.ec,y[60]=f,y[61]=f,y[62]=f,y[63]=f;for(let v=64;v<=87;v++)y[v]=s.Ii;y[88]=s.UQ,y[89]=s.BS,y[90]=s.zU,y[91]=s.ME,y[92]=f,y[93]=f,y[94]=f,y[95]=g("indefinite length bytes/strings are not supported");for(let v=96;v<=119;v++)y[v]=a.nt;y[120]=a.Bq,y[121]=a.h,y[122]=a.q0,y[123]=a.bc,y[124]=f,y[125]=f,y[126]=f,y[127]=g("indefinite length bytes/strings are not supported");for(let v=128;v<=151;v++)y[v]=c.Ju;y[152]=c.h7,y[153]=c.OC,y[154]=c.lY,y[155]=c.a8,y[156]=f,y[157]=f,y[158]=f,y[159]=c.s5;for(let v=160;v<=183;v++)y[v]=l._K;y[184]=l.G,y[185]=l.qe,y[186]=l.IY,y[187]=l.F2,y[188]=f,y[189]=f,y[190]=f,y[191]=l.ng;for(let v=192;v<=215;v++)y[v]=u.qJ;y[216]=u.ZR,y[217]=u.CF,y[218]=u.vP,y[219]=u.MV,y[220]=f,y[221]=f,y[222]=f,y[223]=f;for(let v=224;v<=243;v++)y[v]=g("simple values are not supported");y[244]=f,y[245]=f,y[246]=f,y[247]=d.h1,y[248]=g("simple values are not supported"),y[249]=d.mW,y[250]=d.GI,y[251]=d.vV,y[252]=f,y[253]=f,y[254]=f,y[255]=d.y7;const m=[];for(let v=0;v<24;v++)m[v]=new r.W(r.D.uint,v,1);for(let v=-1;v>=-24;v--)m[31-v]=new r.W(r.D.negint,v,1);function b(e){switch(e.type){case r.D.false:return(0,h.nI)([244]);case r.D.true:return(0,h.nI)([245]);case r.D.null:return(0,h.nI)([246]);case r.D.bytes:return e.value.length?void 0:(0,h.nI)([64]);case r.D.string:return""===e.value?(0,h.nI)([96]):void 0;case r.D.array:return 0===e.value?(0,h.nI)([128]):void 0;case r.D.map:return 0===e.value?(0,h.nI)([160]):void 0;case r.D.uint:return e.value<24?(0,h.nI)([Number(e.value)]):void 0;case r.D.negint:if(e.value>=-24)return(0,h.nI)([31-Number(e.value)])}}m[64]=new r.W(r.D.bytes,new Uint8Array(0),1),m[96]=new r.W(r.D.string,"",1),m[128]=new r.W(r.D.array,0,1),m[160]=new r.W(r.D.map,0,1),m[244]=new r.W(r.D.false,!1,1),m[245]=new r.W(r.D.true,!0,1),m[246]=new r.W(r.D.null,null,1)},96585:(e,t,n)=>{"use strict";n.d(t,{D:()=>r,W:()=>o});class r{constructor(e,t,n){this.major=e,this.majorEncoded=e<<5,this.name=t,this.terminal=n}toString(){return`Type[${this.major}].${this.name}`}compare(e){return this.major<e.major?-1:this.major>e.major?1:0}}r.uint=new r(0,"uint",!0),r.negint=new r(1,"negint",!0),r.bytes=new r(2,"bytes",!0),r.string=new r(3,"string",!0),r.array=new r(4,"array",!1),r.map=new r(5,"map",!1),r.tag=new r(6,"tag",!1),r.float=new r(7,"float",!0),r.false=new r(7,"false",!0),r.true=new r(7,"true",!0),r.null=new r(7,"null",!0),r.undefined=new r(7,"undefined",!0),r.break=new r(7,"break",!0);class o{constructor(e,t,n){this.type=e,this.value=t,this.encodedLength=n,this.encodedBytes=void 0,this.byteValue=void 0}toString(){return`Token[${this.type}].${this.value}`}}},62287:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseDatastore:()=>i.e,Errors:()=>p,KeyTransformDatastore:()=>a.v,MemoryDatastore:()=>s.MemoryDatastore,MountDatastore:()=>l.L,NamespaceDatastore:()=>d.v,ShardingDatastore:()=>c.G,TieredDatastore:()=>u.z,shard:()=>h});var r=n(66957),o=n(87511),i=n(8954),s=n(51854),a=n(13252),c=n(64661),l=n(11524),u=n(97823),d=n(69611);const p=r,h=o},49301:(e,t,n)=>{"use strict";n.d(t,{m:()=>l});var r=n(96032),o=n(43019),i=n(48009),s=n(71038);const a=i.v.Wantlist.WantType.Block,c=i.v.Wantlist.WantType.Have;class l{constructor(e,t){this.set=t?s({system:"ipfs",component:"bitswap",metric:"wantlist",metrics:t.metrics}):new Map,this._stats=e}get length(){return this.set.size}add(e,t,n){const i=e.toString(o.base58btc),s=this.set.get(i);s?(s.inc(),s.priority=t,s.wantType===c&&n===a&&(s.wantType=n)):(this.set.set(i,new r.D(e,t,n)),this._stats&&this._stats.push(null,"wantListSize",1))}remove(e){const t=e.toString(o.base58btc),n=this.set.get(t);n&&(n.dec(),n.hasRefs()||(this.set.delete(t),this._stats&&this._stats.push(null,"wantListSize",-1)))}removeForce(e){this.set.has(e)&&this.set.delete(e)}forEach(e){return this.set.forEach(e)}entries(){return this.set.entries()}sortedEntries(){return new Map((e=e=>e[1].key,t=Array.from(this.set.entries()),Array.prototype.slice.call(t,0).sort(((t,n)=>{const r=e(t),o=e(n);return r<o?-1:r>o?1:0}))));var e,t}contains(e){const t=e.toString(o.base58btc);return this.set.has(t)}get(e){const t=e.toString(o.base58btc);return this.set.get(t)}}l.Entry=r.D},40389:(e,t,n)=>{"use strict";n.d(t,{n:()=>l});var r=n(15504),o=n(55194),i=n(62469),s=n(60191),a=n(47664),c=n(5724);async function*l(e,t){if("string"===typeof e||e instanceof String||(0,a._t)(e)||(0,a.Lj)(e)||e._readableState)throw r(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if((0,a.Os)(e)&&(e=o(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const n=i(e),{value:o,done:c}=await n.peek();if(c)return void(yield*[]);if(n.push(o),Number.isInteger(o))throw r(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");if(o._readableState)return void(yield*s(n,(e=>u({content:e},t))));if((0,a._t)(o))return void(yield u({content:n},t));if((0,a.Mk)(o)||o[Symbol.iterator]||o[Symbol.asyncIterator]||(0,a.Os)(o)||(0,a.Lj)(o))return void(yield*s(n,(e=>u(e,t))))}if((0,a.Mk)(e))throw r(new Error("Unexpected input: single item passed - if you are using ipfs.addAll, please use ipfs.add instead"),"ERR_UNEXPECTED_INPUT");throw r(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}async function u(e,t){const{path:n,mode:r,mtime:o,content:i}=e,s={path:n||"",mode:(0,c.tK)(r),mtime:(0,c.Xu)(o)};return i?s.content=await t(i):n||(s.content=await t(e)),s}},41048:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(98767),o=n(98691),i=n(73620);class s extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"request timed out"),this.name="TimeoutError",this.code=s.code}}function a(e,t){return function(){for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];const l=a[null==t?a.length-1:t];if(!l||!l.timeout)return e(...a);const u="string"===typeof l.timeout?(0,i.Z)(l.timeout):l.timeout,d=new r.TimeoutController(u);l.signal=(0,o.anySignal)([l.signal,d.signal]);const p=e(...a),h=new Promise(((e,t)=>{d.signal.addEventListener("abort",(()=>{t(new s)}))})),f=Date.now(),g=()=>{if(d.signal.aborted)throw new s;if(Date.now()-f>u)throw d.abort(),new s};return p[Symbol.asyncIterator]?async function*(){const e=p[Symbol.asyncIterator]();try{for(;;){const{value:t,done:n}=await Promise.race([e.next(),h]);if(n)break;g(),yield t}}catch(t){throw g(),t}finally{d.clear(),e.return&&e.return()}}():(async()=>{try{const e=await Promise.race([p,h]);return g(),e}catch(e){throw g(),e}finally{d.clear()}})()}}s.code="ERR_TIMEOUT"},70962:(e,t,n)=>{"use strict";n.d(t,{Y:()=>i});var r=n(26494);let o;function i(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(o)return o;const t=r({singleProcess:e});return o={readLock:e=>async function(){const n=await t.readLock();try{for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return await e.apply(null,o)}finally{n()}},writeLock:e=>async function(){const n=await t.writeLock();try{for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return await e.apply(null,o)}finally{n()}}},o}},61542:(e,t,n)=>{"use strict";n.d(t,{x:()=>d});var r=n(32743),o=n(5724),i=n(47922),s=n(92829),a=n(60720),c=n(15504),l=n(97085);const u=a("ipfs:mfs:utils:with-mfs-root");async function d(e,t){if(t&&t.signal&&t.signal.aborted)throw c(new Error("Request aborted"),"ERR_ABORTED",{name:"Aborted"});let n;await e.repo.datastore.open();try{const t=await e.repo.datastore.get(l.Nt);n=r.CID.decode(t)}catch(a){if("ERR_NOT_FOUND"!==a.code)throw a;u("Creating new MFS root");const d=i.encode({Data:new o.fL({type:"directory"}).marshal(),Links:[]}),p=await s.sha256.digest(d);if(n=r.CID.createV0(p),await e.repo.blocks.put(n,d),t&&t.signal&&t.signal.aborted)throw c(new Error("Request aborted"),"ERR_ABORTED",{name:"Aborted"});await e.repo.datastore.put(l.Nt,n.bytes)}return u(`Loaded MFS root /ipfs/${n}`),n}},99733:(e,t,n)=>{"use strict";n.d(t,{Ue:()=>lu,bf:()=>uu});var r={};n.r(r),n.d(r,{code:()=>y,decode:()=>b,encode:()=>m,name:()=>g});var o={};n.r(o),n.d(o,{code:()=>I,decode:()=>P,encode:()=>A,name:()=>x});var i=n(664),s=n(41257),a=n(60720),c=n(15504),l=n(5724),u=n(47922),d=n(64429),p=n(32743);const h={float64:!0,typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=p.CID.asCID(e);if(!t)return null;const n=new Uint8Array(t.bytes.byteLength+1);return n.set(t.bytes,1),[new d.WU(d.Dy.tag,42),new d.WU(d.Dy.bytes,n)]},undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};const f={allowIndefinite:!1,coerceUndefinedToNull:!0,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};f.tags[42]=function(e){if(0!==e[0])throw new Error("Invalid CID for CBOR tag 42; expected leading 0x00");return p.CID.decode(e.subarray(1))};const g="dag-cbor",y=113,m=e=>d.cv(e,h),b=e=>d.Jx(e,f);var v=n(28546),w=n(63225),k=n(54743);function _(e){const t=w.base64.encode(e).slice(1);return[new d.WU(d.Dy.map,1/0,1),new d.WU(d.Dy.string,"/",1),new d.WU(d.Dy.map,1/0,1),new d.WU(d.Dy.string,"bytes",5),new d.WU(d.Dy.string,t,t.length),new d.WU(d.Dy.break,void 0,1),new d.WU(d.Dy.break,void 0,1)]}const E={typeEncoders:{Object:function(e){if(e.asCID!==e)return null;const t=v.k0.asCID(e);if(!t)return null;const n=t.toString();return[new d.WU(d.Dy.map,1/0,1),new d.WU(d.Dy.string,"/",1),new d.WU(d.Dy.string,n,n.length),new d.WU(d.Dy.break,void 0,1)]},Uint8Array:_,Buffer:_,undefined:function(){throw new Error("`undefined` is not supported by the IPLD Data Model and cannot be encoded")},number:function(e){if(Number.isNaN(e))throw new Error("`NaN` is not supported by the IPLD Data Model and cannot be encoded");if(e===1/0||e===-1/0)throw new Error("`Infinity` and `-Infinity` is not supported by the IPLD Data Model and cannot be encoded");return null}}};class S extends k.d2{constructor(e,t){super(e,t),this.tokenBuffer=[]}done(){return 0===this.tokenBuffer.length&&super.done()}_next(){return this.tokenBuffer.length>0?this.tokenBuffer.pop():super.next()}next(){const e=this._next();if(e.type===d.Dy.map){const e=this._next();if(e.type===d.Dy.string&&"/"===e.value){const e=this._next();if(e.type===d.Dy.string){if(this._next().type!==d.Dy.break)throw new Error("Invalid encoded CID form");return this.tokenBuffer.push(e),new d.WU(d.Dy.tag,42,0)}if(e.type===d.Dy.map){const e=this._next();if(e.type===d.Dy.string&&"bytes"===e.value){const e=this._next();if(e.type===d.Dy.string){for(let e=0;e<2;e++){if(this._next().type!==d.Dy.break)throw new Error("Invalid encoded Bytes form")}const t=w.base64.decode(`m${e.value}`);return new d.WU(d.Dy.bytes,t,e.value.length)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}this.tokenBuffer.push(e)}return e}}const C={allowIndefinite:!1,allowUndefined:!1,allowNaN:!1,allowInfinity:!1,allowBigInt:!0,strict:!0,useMaps:!1,tags:[]};C.tags[42]=v.k0.parse;const x="dag-json",I=297,A=e=>k.cv(e,E),P=e=>{const t=Object.assign(C,{tokenizer:new S(e,C)});return k.Jx(e,t)};var R=n(58735),O=n.t(R,2),T=n(80073),D=n(40963),M=n(38167);class N extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not initialized"),this.name="NotInitializedError",this.code=N.code}}N.code="ERR_NOT_INITIALIZED";class j extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cannot initialize an initializing node"),this.name="AlreadyInitializingError",this.code=L.code}}j.code="ERR_ALREADY_INITIALIZING";class L extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cannot re-initialize an initialized node"),this.name="AlreadyInitializedError",this.code=L.code}}L.code="ERR_ALREADY_INITIALIZED";class B extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not started"),this.name="NotStartedError",this.code=B.code}}B.code="ERR_NOT_STARTED";class z extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cannot start, already startin"),this.name="AlreadyStartingError",this.code=z.code}}z.code="ERR_ALREADY_STARTING";class F extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cannot start, already started"),this.name="AlreadyStartedError",this.code=F.code}}F.code="ERR_ALREADY_STARTED";class U extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"not enabled"),this.name="NotEnabledError",this.code=U.code}}U.code="ERR_NOT_ENABLED";var $=n(68425),W=n(97085);class q{static create(e){let{start:t,stop:n}=e;return new q(t,n)}static async start(e,t){const{state:n,activate:r}=e;switch(n.status){case"stopped":try{const n=r(t);e.state={status:"starting",ready:n};const o=await n;return e.state={status:"started",value:o},o}catch(o){throw e.state={status:"stopped"},o}case"starting":throw new z;case"started":throw new F;case"stopping":return await n.ready,await q.start(e,t);default:return q.panic(e)}}static async stop(e){const{state:t,deactivate:n}=e;switch(t.status){case"stopped":break;case"starting":try{await t.ready}catch(r){}return await q.stop(e);case"stopping":return await t.ready;case"started":n&&await n(t.value),e.state={status:"stopped"};break;default:q.panic(t)}}static try(e){let{state:t}=e;return"started"===t.status?t.value:null}static async use(e,t){let{state:n}=e;switch(n.status){case"started":return n.value;case"starting":return await(0,W.Fb)(n.ready,t);default:throw new B}}static panic(e){let{state:t}=e;const n=JSON.stringify({status:t.status});throw RangeError(`Service in invalid state ${n}, should never happen if you see this please report a bug`)}constructor(e,t){this.activate=e,this.deactivate=t,this.state={status:"stopped"}}async use(e){return await q.use(this,e)}try(){return q.try(this)}}var H=n(42623),K=n(60185),G=n(68170);const V=new H.E(1e3),X=new(K.default?K.default:K)({concurrency:4}),Y=e=>{if(e.Path)return e.Path;throw new Error(e.Message)};async function Z(e,t){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=new URLSearchParams(t);n.set("arg",e);const r=n.toString();if(!t.nocache&&V.has(r)){const e=V.get(r);return Y(e)}const o=await X.add((async()=>{const e=await G.get("https://ipfs.io/api/v0/dns",{searchParams:n}),t=new URL(e.url).search.slice(1),r=await e.json();return V.set(t,r,6e4),r}));return Y(o)}(e,t)}var J=n(41048);function Q(e){return e.endsWith(".eth")&&(e=e.replace(/.eth$/,".eth.link")),e}var ee=n(7022),te=n(13380),ne=n(91401);function re(e){try{return ne.parse(e).toBytes()}catch{return p.CID.parse(e).bytes}}var oe=n(16586);async function*ie(e){if(null===e||void 0===e)throw c(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");const t=p.CID.asCID(e);if(t)yield se({cid:t});else{if(!(e instanceof String||"string"===typeof e)){if(null!=e.cid||null!=e.path)return yield se(e);if(Symbol.iterator in e){const t=e[Symbol.iterator](),n=t.next();if(n.done)return t;if(p.CID.asCID(n.value)||n.value instanceof String||"string"===typeof n.value){yield se({cid:n.value});for(const e of t)yield se({cid:e});return}if(null!=n.value.cid||null!=n.value.path){yield se(n.value);for(const e of t)yield se(e);return}throw c(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}if(Symbol.asyncIterator in e){const t=e[Symbol.asyncIterator](),n=await t.next();if(n.done)return t;if(p.CID.asCID(n.value)||n.value instanceof String||"string"===typeof n.value){yield se({cid:n.value});for await(const e of t)yield se({cid:e});return}if(null!=n.value.cid||null!=n.value.path){yield se(n.value);for await(const e of t)yield se(e);return}throw c(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}throw c(new Error("Unexpected input: "+typeof e),"ERR_UNEXPECTED_INPUT")}yield se({path:e})}}function se(e){const t=e.cid||`${e.path}`;if(!t)throw c(new Error("Unexpected input: Please path either a CID or an IPFS path"),"ERR_UNEXPECTED_INPUT");const n={path:t,recursive:!1!==e.recursive};return null!=e.metadata&&(n.metadata=e.metadata),n}const ae={direct:"direct",recursive:"recursive",indirect:"indirect",all:"all"};function ce(e,t,n){const r={type:e,cid:t};return n&&(r.metadata=n),r}class le{constructor(e){let{codecs:t,repo:n}=e;const r=function(e){let{repo:t,codecs:n}=e;return(0,J.a)((async function*(e){const r=async function*(){for await(const{path:r,recursive:o,metadata:i}of ie(e)){const{cid:e}=await(0,W.i3)(t,n,r),{reason:s}=await t.pins.isPinnedWithType(e,[ae.recursive,ae.direct]);if("recursive"===s&&!o)throw new Error(`${e} already pinned recursively`);o?await t.pins.pinRecursively(e,{metadata:i}):await t.pins.pinDirectly(e,{metadata:i}),yield e}};if(!Boolean((arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).lock))return void(yield*r());const o=await t.gcLock.readLock();try{yield*r()}finally{o()}}))}({codecs:t,repo:n});this.addAll=r,this.add=function(e){let{addAll:t}=e;return function(e){let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=p.CID.asCID(e);return n=t(o?[{cid:o,...r}]:[{path:e.toString(),...r}],r),oe(n)}}({addAll:r});const o=function(e){let{repo:t,codecs:n}=e;return(0,J.a)((async function*(e){const r=await t.gcLock.readLock();try{for await(const{path:r,recursive:o}of ie(e)){const{cid:e}=await(0,W.i3)(t,n,r),{pinned:i,reason:s}=await t.pins.isPinnedWithType(e,ae.all);if(!i)throw new Error(`${e} is not pinned`);switch(s){case ae.recursive:if(!o)throw new Error(`${e} is pinned recursively`);await t.pins.unpin(e),yield e;break;case ae.direct:await t.pins.unpin(e),yield e;break;default:throw new Error(`${e} is pinned indirectly under ${s}`)}}}finally{r()}}))}({codecs:t,repo:n});this.rmAll=o,this.rm=function(e){let{rmAll:t}=e;return async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await oe(t([{path:e,...n}],n));if(!r)throw new Error("CID expected");return r}}({rmAll:o}),this.ls=function(e){let{repo:t,codecs:n}=e;return(0,J.a)((async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=ae.all;if(e.type&&(r=e.type,!Object.keys(ae).includes(r)))throw c(new Error("Invalid pin type"),"ERR_INVALID_PIN_TYPE");if(e.paths){let o=!1;for await(const{path:i}of ie(e.paths)){const{cid:e}=await(0,W.i3)(t,n,i),{reason:s,pinned:a,parent:l,metadata:u}=await t.pins.isPinnedWithType(e,r);if(!a)throw c(new Error(`path '${i}' is not pinned`),"ERR_NOT_PINNED");switch(s){case ae.direct:case ae.recursive:o=!0,yield ce(s,e,u);break;default:o=!0,yield ce(`${ae.indirect} through ${l}`,e,u)}}if(!o)throw new Error("No match found")}else{if(r===ae.recursive||r===ae.all)for await(const{cid:e,metadata:n}of t.pins.recursiveKeys())yield ce(ae.recursive,e,n);if(r===ae.indirect||r===ae.all)for await(const n of t.pins.indirectKeys(e))yield ce(ae.indirect,n);if(r===ae.direct||r===ae.all)for await(const{cid:e,metadata:n}of t.pins.directKeys())yield ce(ae.direct,e,n)}}))}({codecs:t,repo:n}),this.remote={add:function(e){return Promise.reject(new Error("Not implemented"))},ls:async function*(e){return Promise.reject(new Error("Not implemented"))},rm:function(e){return Promise.reject(new Error("Not implemented"))},rmAll:function(e){return Promise.reject(new Error("Not implemented"))},service:{add:(e,t)=>Promise.reject(new Error("Not implemented")),rm:function(e){return Promise.reject(new Error("Not implemented"))},ls:function(){return Promise.reject(new Error("Not implemented"))}}}}}var ue=n(82149),de=n(66957),pe=n(93314),he=n(10764),fe=n(51199),ge=n(70380),ye=n(17578),me=n(79357),be=n(52769),ve=n(61163),we=n(19061),ke=n(90309),_e=n(86034);const Ee=Object.assign(a("jsipns"),{error:a("jsipns:error")}),Se=T.identity.code,Ce=(0,$.fromString)("/ipns/"),xe="/ipns/",Ie=xe.length,Ae=async(e,t,n,r,o,i)=>{n=BigInt(n);const s=(0,$.fromString)(o.toString()),a=await je(e,t,r,s),c=Pe(t,s,r,n,i),l=Be(c),u={value:t,signature:a,validityType:r,validity:s,sequence:n,ttl:i,signatureV2:await e.sign(l),data:c};return Ee(`ipns entry for ${t} created`),u},Pe=(e,t,n,r,o)=>{const i={Value:e,Validity:t,ValidityType:n,Sequence:r,TTL:o};return d.cv(i)},Re=async(e,t)=>{const{value:n,validityType:r,validity:o}=t;let i,s,a;t.signatureV2&&t.data?(s=t.signatureV2,i=Be(t.data),Oe(t)):(s=t.signature,i=Le(n,r,o));try{a=await e.verify(i,s)}catch(l){a=!1}if(!a)throw Ee.error("record signature verification failed"),c(new Error("record signature verification failed"),_e.SY);if(r===we.X.ValidityType.EOL){let e;try{e=(0,ke.r)((0,pe.toString)(o))}catch(u){throw Ee.error("unrecognized validity format (not an rfc3339 format)"),c(new Error("unrecognized validity format (not an rfc3339 format)"),_e.vH)}if(e.getTime()<Date.now())throw Ee.error("record has expired"),c(new Error("record has expired"),_e.L0)}else if(r)throw Ee.error("unrecognized validity type"),c(new Error("unrecognized validity type"),_e.Fl);Ee(`ipns entry for ${n} is valid`)},Oe=e=>{if(!e.data)throw c(new Error("Record data is missing"),_e.BL);const t=d.Jx(e.data);if(Number.isInteger(t.Sequence)&&(t.Sequence=BigInt(t.Sequence)),Number.isInteger(t.TTL)&&(t.TTL=BigInt(t.TTL)),!(0,he.equals)(t.Value,e.value))throw c(new Error('Field "value" did not match between protobuf and CBOR'),_e.SY);if(!(0,he.equals)(t.Validity,e.validity))throw c(new Error('Field "validity" did not match between protobuf and CBOR'),_e.SY);if(t.ValidityType!==e.validityType)throw c(new Error('Field "validityType" did not match between protobuf and CBOR'),_e.SY);if(t.Sequence!==e.sequence)throw c(new Error('Field "sequence" did not match between protobuf and CBOR'),_e.SY);if(t.TTL!==e.ttl)throw c(new Error('Field "ttl" did not match between protobuf and CBOR'),_e.SY)},Te=async(e,t)=>{if(!t||!e){const e=new Error("one or more of the provided parameters are not defined");throw Ee.error(e),c(e,_e.eb)}let n;if(t.pubKey){try{n=ge.keys.unmarshalPublicKey(t.pubKey)}catch(r){throw Ee.error(r),r}if(!(await ne.createFromPubKey(t.pubKey)).equals(e))throw c(new Error("Embedded public key did not match PeerID"),_e.TO)}else e.pubKey&&(n=e.pubKey);if(n)return n;throw c(new Error("no public key is available"),_e.eb)},De=e=>me.base32upper.encode(e).slice(1),Me=e=>new ue.Key(`/ipns/${De(e)}`),Ne=e=>{const t=(0,$.fromString)("/pk/"),n=(0,$.fromString)("/ipns/");return{routingPubKey:new ue.Key((0,be.concat)([t,e]),!1),pkKey:new ue.Key(De((0,be.concat)([t,e]))),routingKey:new ue.Key((0,be.concat)([n,e]),!1),ipnsKey:new ue.Key(De((0,be.concat)([n,e])))}},je=(e,t,n,r)=>{try{const o=Le(t,n,r);return e.sign(o)}catch(o){throw Ee.error("record signature creation failed"),c(new Error("record signature creation failed: "+o.message),_e.FB)}},Le=(e,t,n)=>{const r=(0,$.fromString)((e=>{if("0"===e.toString())return"EOL";const t=new Error(`unrecognized validity type ${e.toString()}`);throw Ee.error(t),c(t,_e.Fl)})(t));return(0,be.concat)([e,n,r])},Be=e=>{const t=(0,$.fromString)("ipns-signature:");return(0,be.concat)([t,e])},ze=e=>{const t=ye.decode(e.id);return t.code!==Se?null:ge.keys.unmarshalPublicKey(t.digest)},Fe=e=>we.X.encode({...e,sequence:ve.fromString(e.sequence.toString()),ttl:null==e.ttl?void 0:ve.fromString(e.ttl.toString())}).finish(),Ue=e=>{const t=we.X.decode(e),n=we.X.toObject(t,{defaults:!1,arrays:!0,objects:!1});return{value:n.value,signature:n.signature,validityType:n.validityType,validity:n.validity,sequence:Object.hasOwnProperty.call(n,"sequence")?BigInt(`${n.sequence}`):0,pubKey:n.pubKey,ttl:Object.hasOwnProperty.call(n,"ttl")?BigInt(`${n.ttl}`):void 0,signatureV2:n.signatureV2,data:n.data}},$e={validate:async(e,t)=>{const n=Ue(e),r=t.slice(Ce.length),o=ne.createFromBytes(r),i=await Te(o,n);await Re(i,n)},select:(e,t)=>{const n=Ue(e),r=Ue(t);if(n.signatureV2&&!r.signatureV2)return 0;if(r.signatureV2&&!n.signatureV2)return 1;if(n.sequence>r.sequence)return 0;if(n.sequence<r.sequence)return 1;const o=(0,ke.r)((0,pe.toString)(n.validity));return(0,ke.r)((0,pe.toString)(r.validity)).getTime()>o.getTime()?1:0}},We=Object.assign(a("ipfs:ipns:publisher"),{error:a("ipfs:ipns:publisher:error")}),qe=(0,de.notFoundError)().code,He=36e5;class Ke{constructor(e,t){this._routing=e,this._datastore=t}async publishWithEOL(e,t,n){if(!e||!e.bytes)throw c(new Error("invalid private key"),"ERR_INVALID_PRIVATE_KEY");const r=await ne.createFromPrivKey(e.bytes),o=await this._updateOrCreateRecord(e,t,n,r);return this._putRecordToRouting(o,r)}publish(e,t){return this.publishWithEOL(e,t,He)}async _putRecordToRouting(e,t){if(!ne.isPeerId(t)){const e="peerId received is not valid";throw We.error(e),c(new Error(e),"ERR_INVALID_PEER_ID")}const n=t.pubKey,r=await(async(e,t)=>{if(!e||!e.bytes||!t){const e=new Error("one or more of the provided parameters are not defined");throw Ee.error(e),c(e,_e.eb)}let n,r;try{n=await ne.createFromPubKey(e.bytes)}catch(o){throw c(o,_e.Qk)}try{r=ze(n)}catch(o){throw Ee.error(o),c(o,_e.kH)}if(r)return null;try{t.pubKey=ge.keys.marshalPublicKey(e)}catch(o){throw Ee.error(o),o}return t})(n,e),o=Ne(t.toBytes());return await this._publishEntry(o.routingKey,r||e),r||e}async _publishEntry(e,t){const n=ue.Key.asKey(e);if(!n){const e="datastore key does not have a valid format";throw We.error(e),c(new Error(e),"ERR_INVALID_DATASTORE_KEY")}let r;try{r=Fe(t)}catch(o){throw We.error(o),o}try{const e=await this._routing.put(n.uint8Array(),r);return We(`ipns record for ${(0,pe.toString)(n.uint8Array(),"base32")} was stored in the routing`),e}catch(o){const e=`ipns record for ${(0,pe.toString)(n.uint8Array(),"base32")} could not be stored in the routing - ${o.stack}`;throw We.error(e),We.error(o),c(new Error(e),"ERR_PUTTING_TO_ROUTING")}}async _getPublished(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!ne.isPeerId(e)){const e="peerId received is not valid";throw We.error(e),c(new Error(e),"ERR_INVALID_PEER_ID")}const n=!1!==t.checkRouting;try{const t=await this._datastore.get(Me(e.id));return this._unmarshalData(t)}catch(r){if(r.code!==qe){const t=`unexpected error getting the ipns record ${e.id} from datastore`;throw We.error(t),c(new Error(t),"ERR_UNEXPECTED_DATASTORE_RESPONSE")}if(!n)throw c(r,"ERR_NOT_FOUND_AND_CHECK_ROUTING_NOT_ENABLED");try{const t=Ne(e.toBytes()),n=await this._routing.get(t.routingKey.uint8Array());return this._unmarshalData(n)}catch(r){throw We.error(r),r}}}_unmarshalData(e){try{return Ue(e)}catch(t){throw c(t,"ERR_INVALID_RECORD_DATA")}}async _updateOrCreateRecord(e,t,n,r){if(!ne.isPeerId(r)){const e="peerId received is not valid";throw We.error(e),c(new Error(e),"ERR_INVALID_PEER_ID")}const o={checkRouting:!0};let i;try{i=await this._getPublished(r,o)}catch(l){if(l.code!==qe){const e=`unexpected error when determining the last published IPNS record for ${r.id} ${l.stack}`;throw We.error(e),c(new Error(e),"ERR_DETERMINING_PUBLISHED_RECORD")}}let s,a=0;i&&void 0!==i.sequence&&(a=(0,he.equals)(i.value,t)?BigInt(i.sequence):BigInt(i.sequence)+BigInt(1));try{s=await((e,t,n,r)=>{const o=new fe(Date.now()+Number(r)),i=we.X.ValidityType.EOL,[s,a]=r.toString().split("."),c=BigInt(s)*BigInt(1e5)+BigInt(a||0);return Ae(e,t,n,i,o,c)})(e,t,a,n)}catch(l){const e=`ipns record for ${t} could not be created`;throw We.error(l),c(new Error(e),"ERR_CREATING_IPNS_RECORD")}try{const e=Fe(s);return await this._datastore.put(Me(r.id),e),We(`ipns record for ${(0,pe.toString)(t,"base32")} was stored in the datastore`),s}catch(l){const e=`ipns record for ${t} could not be stored in the datastore`;throw We.error(e),c(new Error(e),"ERR_STORING_IN_DATASTORE")}}}Ke.defaultRecordLifetime=He;const Ge=Object.assign(a("ipfs:ipns:republisher"),{error:a("ipfs:ipns:republisher:error")});class Ve{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{pass:""};this._publisher=e,this._datastore=t,this._peerId=n,this._keychain=r,this._options=o,this._republishHandle=null}async start(){if(this._republishHandle)throw c(new Error("republisher is already running"),"ERR_REPUBLISH_ALREADY_RUNNING");const e={_task:null,_inflightTask:null,_timeoutId:null,runPeriodically:t=>{e._timeoutId=setTimeout((async()=>{e._timeoutId=null;try{e._inflightTask=e._task(),await e._inflightTask,e._task&&e.runPeriodically(t)}catch(n){Ge.error(n)}}),t())},cancel:async()=>{null!=e._timeoutId&&clearTimeout(e._timeoutId),e._task=null,await e._inflightTask}},{privKey:t}=this._peerId,{pass:n}=this._options;let r=!0;e._task=()=>this._republishEntries(t,n),e.runPeriodically((()=>r?(r=!1,this._options.initialBroadcastInterval||6e4):this._options.broadcastInterval||144e5)),this._republishHandle=e}async stop(){const e=this._republishHandle;if(!e)throw c(new Error("republisher is not running"),"ERR_REPUBLISH_NOT_RUNNING");this._republishHandle=null,await e.cancel()}async _republishEntries(e,t){try{await this._republishEntry(e)}catch(n){const e="cannot republish entry for the node's private key";return void Ge.error(e)}if(t)try{const e=await this._keychain.listKeys();for(const n of e){if("self"===n.name)continue;const e=await this._keychain.exportKey(n.name,t),r=await ge.keys.import(e,t);await this._republishEntry(r)}}catch(n){Ge.error(n)}}async _republishEntry(e){if(!e||!e.bytes)throw c(new Error("invalid private key"),"ERR_INVALID_PRIVATE_KEY");try{const t=await ne.createFromPrivKey(e.bytes),n=await this._getPreviousValue(t);await this._publisher.publishWithEOL(e,n,864e5)}catch(t){if("ERR_NO_ENTRY_FOUND"===t.code)return;throw t}}async _getPreviousValue(e){if(!ne.isPeerId(e))throw c(new Error("invalid peer ID"),"ERR_INVALID_PEER_ID");try{const n=await this._datastore.get(Me(e.id));if(!(n instanceof Uint8Array))throw c(new Error("found ipns record that we couldn't process"),"ERR_INVALID_IPNS_RECORD");try{return Ue(n).value}catch(t){throw Ge.error(t),c(new Error("found ipns record that we couldn't convert to a value"),"ERR_INVALID_IPNS_RECORD")}}catch(t){if(t&&t.notFound)throw c(new Error(`no previous entry for record with id: ${e.id}`),"ERR_NO_ENTRY_FOUND");throw t}}}const Xe=Object.assign(a("ipfs:ipns:resolver"),{error:a("ipfs:ipns:resolver:error")}),Ye=de.notFoundError().code;class Ze{constructor(e){this._routing=e}async resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)throw c(new Error("invalid name"),"ERR_INVALID_NAME");const n=t.recursive&&"true"===t.recursive.toString(),r=e.split("/");if(3!==r.length||""!==r[0])throw c(new Error("invalid name"),"ERR_INVALID_NAME");const o=r[2];let i=1/0;n&&(i=32);const s=await this.resolver(o,i);return Xe(`${e} was locally resolved correctly`),s}async resolver(e,t){if(0===t){const e="could not resolve name (recursion limit of 32 exceeded)";throw Xe.error(e),c(new Error(e),"ERR_RESOLVE_RECURSION_LIMIT")}const n=await this._resolveName(e),r=n.split("/");return"ipfs"!==r[1]&&t?this.resolver(r[2],t-1):n}async _resolveName(e){const t=ne.parse(e),{routingKey:n}=Ne(t.toBytes());let r,o;try{r=await this._routing.get(n.uint8Array())}catch(i){if(Xe.error("could not get record from routing",i),i.code===Ye)throw c(new Error(`record requested for ${e} was not found in the network`),"ERR_NO_RECORD_FOUND");throw c(new Error(`unexpected error getting the ipns record ${t.toString()}`),"ERR_UNEXPECTED_ERROR_GETTING_RECORD")}try{o=Ue(r)}catch(i){throw Xe.error("could not unmarshal record",i),c(new Error("found ipns record that we couldn't convert to a value"),"ERR_INVALID_RECORD_RECEIVED")}return this._validateRecord(t,o)}async _validateRecord(e,t){const n=await Te(e,t);return await Re(n,t),(0,pe.toString)(t.value)}}var Je=n(87167);class Qe{constructor(e){this.lru=Je(e)}get(e){const t=this.lru.get(e);if(t)return t.expire&&t.expire<Date.now()?void this.lru.remove(e):t.value}set(e,t,n){this.lru.set(e,{value:t,expire:Date.now()+n})}has(e){return!!this.get(e)}remove(e){this.lru.remove(e)}clear(){this.lru.clear()}}const et=Object.assign(a("ipfs:ipns"),{error:a("ipfs:ipns:error")});class tt{constructor(e,t,n,r,o){this.publisher=new Ke(e,t),this.republisher=new Ve(this.publisher,t,n,r,o),this.resolver=new Ze(e),this.cache=new Qe(1e3),this.routing=e}async publish(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ke.defaultRecordLifetime;try{const r=await(0,ne.createFromPrivKey)(e.bytes);await this.publisher.publishWithEOL(e,t,n),et(`IPNS value ${(0,pe.toString)(t,"base32")} was published correctly`);const o=r.toB58String(),i=parseFloat(n),s=i<6e4?i:6e4;return this.cache.set(o,t,s),et(`IPNS value ${(0,pe.toString)(t,"base32")} was cached correctly`),{name:o,value:t}}catch(r){throw et.error(r),r}}async resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!==typeof e)throw c(new Error("name received is not valid"),"ERR_INVALID_NAME");if(!t.nocache&&!t.recursive){const t=e.split("/")[2],n=this.cache.get(t);if(n)return n}try{const n=await this.resolver.resolve(e,t);return et(`IPNS record from ${e} was resolved correctly`),n}catch(n){throw et.error(n),n}}async initializeKeyspace(e,t){return this.publish(e,t,Ke.defaultRecordLifetime)}}var nt=n(97823),rt=n(21613),ot=n(43019),it=n(22984),st=n(62287);const at="/record/";function ct(e){return(0,pe.toString)(e,"base32")}function lt(e){("string"===typeof e||e instanceof String)&&(e=(0,$.fromString)(e.toString()));return`/record/${(0,pe.toString)(e,"base64url")}`}const ut=Object.assign(a("datastore-pubsub:publisher"),{error:a("datastore-pubsub:publisher:error")});class dt extends st.BaseDatastore{constructor(e,t,n,r,o){if(super(),!r)throw c(new TypeError("missing validator"),"ERR_INVALID_PARAMETERS");if("function"!==typeof r.validate)throw c(new TypeError("missing validate function"),"ERR_INVALID_PARAMETERS");if("function"!==typeof r.select)throw c(new TypeError("missing select function"),"ERR_INVALID_PARAMETERS");if(o&&"function"!==typeof o)throw c(new TypeError("invalid subscriptionKeyFn received"),"ERR_INVALID_PARAMETERS");this._pubsub=e,this._datastore=t,this._peerId=n,this._validator=r,this._handleSubscriptionKeyFn=o,this._onMessage=this._onMessage.bind(this)}async put(e,t){if(!(e instanceof Uint8Array)){const e="datastore key does not have a valid format";throw ut.error(e),c(new Error(e),"ERR_INVALID_DATASTORE_KEY")}if(!(t instanceof Uint8Array)){const e="received value is not a Uint8Array";throw ut.error(e),c(new Error(e),"ERR_INVALID_VALUE_RECEIVED")}const n=lt(e);ut(`publish value for topic ${n}`),await this._pubsub.publish(n,t)}async get(e){if(!(e instanceof Uint8Array)){const e="datastore key does not have a valid format";throw ut.error(e),c(new Error(e),"ERR_INVALID_DATASTORE_KEY")}const t=lt(e),n=await this._pubsub.getTopics();if(n&&Array.isArray(n)&&n.indexOf(t)>-1)return this._getLocal(e);try{this._pubsub.on(t,this._onMessage),await this._pubsub.subscribe(t)}catch(r){const e=`cannot subscribe topic ${t}`;throw ut.error(e),c(new Error(e),"ERR_SUBSCRIBING_TOPIC")}return ut(`subscribed values for key ${t}`),this._getLocal(e)}unsubscribe(e){const t=lt(e);return this._pubsub.removeListener(t,this._onMessage),this._pubsub.unsubscribe(t)}async _getLocal(e){const t=new it.s("/"+ct(e),!1);let n;try{n=await this._datastore.get(t)}catch(r){if("ERR_NOT_FOUND"!==r.code){const e=`unexpected error getting the ipns record for ${t.toString()}`;throw ut.error(e),c(new Error(e),"ERR_UNEXPECTED_ERROR_GETTING_RECORD")}const e=`local record requested was not found for ${t.toString()}`;throw ut.error(e),c(new Error(e),"ERR_NOT_FOUND")}if(!(n instanceof Uint8Array)){const e="found record that we couldn't convert to a value";throw ut.error(e),c(new Error(e),"ERR_INVALID_RECORD_RECEIVED")}return n}async _onMessage(e){const{data:t,from:n,topicIDs:r}=e;let o;try{o=function(e){if(e.substring(0,at.length)!==at)throw c(new Error("topic received is not from a record"),"ERR_TOPIC_IS_NOT_FROM_RECORD_NAMESPACE");const t=e.substring(at.length);return(0,$.fromString)(t,"base64url")}(r[0])}catch(i){return void ut.error(i)}if(ut(`message received for topic ${r[0]}`),n!==this._peerId.toB58String()){if(this._handleSubscriptionKeyFn){let e;try{e=await this._handleSubscriptionKeyFn(o)}catch(i){return void ut.error("message discarded by the subscriptionKeyFn")}o=e}try{await this._storeIfSubscriptionIsBetter(o,t)}catch(i){ut.error(i)}}else ut("message discarded as it is from the same peer")}async _storeIfSubscriptionIsBetter(e,t){let n=!1;try{n=await this._isBetter(e,t)}catch(r){if("ERR_NOT_VALID_RECORD"!==r.code)throw r}n&&await this._storeRecord(e,t)}async _validateRecord(e,t){return this._validator.validate(e,t)}async _selectRecord(e,t){return 0===await this._validator.select(e,t)}async _isBetter(e,t){try{await this._validateRecord(t,e)}catch(o){const e="record received through pubsub is not valid";throw ut.error(e),c(new Error(e),"ERR_NOT_VALID_RECORD")}const n=new it.s(e);let r;try{r=await this._getLocal(n.uint8Array())}catch(o){return!0}return!(0,he.equals)(r,t)&&this._selectRecord(e,[r,t])}async _storeRecord(e,t){const n=new it.s("/"+ct(e),!1);await this._datastore.put(n,t),ut(`record for ${lt(e)} was stored in the datastore`)}}const pt=Object.assign(a("ipfs:ipns:pubsub"),{error:a("ipfs:ipns:pubsub:error")});class ht{constructor(e,t,n){this._subscriptions={},this._handleSubscriptionKey=this._handleSubscriptionKey.bind(this),this._pubsubDs=new dt(e,t,n,$e,this._handleSubscriptionKey)}async put(e,t){try{await this._pubsubDs.put(e,t)}catch(n){throw pt.error(n),n}}async get(e){let t,n;try{t=await this._pubsubDs.get(e)}catch(o){n=o}const r=e.slice(0,Ie);if((0,pe.toString)(r)===xe){const t=ot.base58btc.encode(e).substring(1),n=ot.base58btc.encode(e.slice(Ie)).substring(1);this._subscriptions[t]=n,pt(`subscribed to pubsub topic ${t}, id ${n}`)}if(n)throw n;return t}_handleSubscriptionKey(e){e instanceof Uint8Array&&(e=(0,pe.toString)(e,"base58btc"));const t=this._subscriptions[e];if(!t)throw c(new Error(`key ${e} does not correspond to a subscription`),"ERR_INVALID_KEY");let n;try{n=Ne((0,$.fromString)(t,"base58btc"))}catch(r){throw pt.error(r),r}return n.routingKey.uint8Array()}getSubscriptions(){return Object.values(this._subscriptions).filter(Boolean).map((e=>`/ipns/${e}`))}async cancel(e){if("string"!==typeof e)throw c(new Error("invalid subscription name"),"ERR_INVALID_SUBSCRIPTION_NAME");e.startsWith(xe)&&(e=e.substring(Ie));const t=Object.keys(this._subscriptions).find((t=>this._subscriptions[t]===e));if(!t)return{canceled:!1};const n=(0,$.fromString)(t);return this._pubsubDs.unsubscribe(n),delete this._subscriptions[t],pt(`unsubscribed pubsub ${t}: ${e}`),{canceled:!0}}}var ft=n(16758);const gt=Object.assign(a("ipfs:ipns:offline-datastore"),{error:a("ipfs:ipns:offline-datastore:error")});class yt{constructor(e){this._repo=e,this.stores=[]}async put(e,t){if(!(e instanceof Uint8Array))throw c(new Error("Offline datastore key must be a Uint8Array"),"ERR_INVALID_KEY");if(!(t instanceof Uint8Array))throw c(new Error("Offline datastore value must be a Uint8Array"),"ERR_INVALID_VALUE");let n;try{n=this._routingKey(e)}catch(o){throw gt.error(o),c(new Error("Not possible to generate the routing key"),"ERR_GENERATING_ROUTING_KEY")}const r=new ft.Record(e,t);return this._repo.datastore.put(n,r.serialize())}async get(e){if(!(e instanceof Uint8Array))throw c(new Error("Offline datastore key must be a Uint8Array"),"ERR_INVALID_KEY");let t;try{t=this._routingKey(e)}catch(o){throw gt.error(o),c(new Error("Not possible to generate the routing key"),"ERR_GENERATING_ROUTING_KEY")}const n=await this._repo.datastore.get(t);let r;try{r=ft.Record.deserialize(n)}catch(o){throw gt.error(o),o}return r.value}_routingKey(e){return new ue.Key("/dht/record/"+(0,pe.toString)(e,"base32"),!1)}}var mt=n(20838);const bt=Object.assign(a("ipfs:ipns:dht-datastore"),{error:a("ipfs:ipns:dht-datastore:error")});class vt{constructor(e){this._dht=e}async put(e,t){try{await mt(this._dht.put(e,t))}catch(n){throw bt.error(n),n}}async get(e){for await(const t of this._dht.get(e))if("VALUE"===t.name)return t.value;throw(0,de.notFoundError)()}}const wt=a("ipfs:components:ipns");class kt{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{pass:""};this.options=e,this.offline=null,this.online=null}getIPNS(){const e=this.online||this.offline;if(e)return e;throw new N}get routing(){return this.getIPNS().routing}startOffline(e){let{repo:t,peerId:n,keychain:r}=e;if(null!=this.offline)throw new L;wt("initializing IPNS keyspace");const o=new yt(t),i=new tt(o,t.datastore,n,r,this.options);this.offline=i}async startOnline(e){let{libp2p:t,repo:n,peerId:r,keychain:o}=e;if(null!=this.online)throw new L;const i=function(e){let{libp2p:t,repo:n,peerId:r,options:o}=e;const i=[];let s;if(rt(o,"EXPERIMENTAL.ipnsPubsub",!1)){const e=t.pubsub,o=n.datastore;s=new ht(e,o,r),i.push(s)}if(!rt(o,"offline",!1)&&t._config&&t._config.dht&&t._config.dht.enabled&&i.push(new vt(t._dht)),rt(o,"offline",!1)||0===i.length){const e=new yt(n);i.push(e)}return new nt.z(i)}({libp2p:t,repo:n,peerId:r,options:this.options}),s=new tt(i,n.datastore,r,o,this.options);await s.republisher.start(),this.online=s}async stop(){const e=this.online;e&&(await e.republisher.stop(),this.online=null)}publish(e,t,n){return this.getIPNS().publish(e,t,n)}resolve(e,t){return this.getIPNS().resolve(e,t)}initializeKeyspace(e,t){return this.getIPNS().initializeKeyspace(e,t)}}var _t=n(73620),Et=n(7901);async function St(e,t,n){let{ipns:r,repo:o,codecs:i}=e;if(te.ipnsPath(t))return r.resolve(t);const{cid:s,path:a}=(0,Et.B)(t);await mt((0,W.DB)(s,a||"",i,o,n))}const Ct=Object.assign(a("ipfs:name:publish"),{error:a("ipfs:name:publish:error")});var xt=n(71659),It=n(47937);const At=i.Z.bind({ignoreUndefined:!0}),Pt=Object.assign(a("ipfs:name:resolve"),{error:a("ipfs:name:resolve:error")}),Rt=(e,t)=>t.length>0?e+"/"+t.join("/"):e;function Ot(e,t){if(!e||!t||!t.ipnsPubsub)throw c(new Error("IPNS pubsub subsystem is not enabled"),"ERR_IPNS_PUBSUB_NOT_ENABLED");if(e.routing instanceof ht)return e.routing;const n=(e.routing.stores||[]).find((e=>e instanceof ht));if(!n)throw c(new Error("IPNS pubsub datastore not found"),"ERR_PUBSUB_DATASTORE_NOT_FOUND");return n}class Tt{constructor(e){let{ipns:t,options:n}=e;this.cancel=function(e){let{ipns:t,options:n}=e;const r=n.EXPERIMENTAL;return(0,J.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Ot(t,r).cancel(e,n)}))}({ipns:t,options:n}),this.state=function(e){let{ipns:t,options:n}=e;const r=n.EXPERIMENTAL;return(0,J.a)((async function(){try{return{enabled:Boolean(Ot(t,r))}}catch(e){return{enabled:!1}}}))}({ipns:t,options:n}),this.subs=function(e){let{ipns:t,options:n}=e;const r=n.EXPERIMENTAL;return(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ot(t,r).getSubscriptions(e)}))}({ipns:t,options:n})}}class Dt{constructor(e){let{dns:t,ipns:n,repo:r,codecs:o,peerId:i,isOnline:s,keychain:a,options:l}=e;this.publish=function(e){let{ipns:t,repo:n,codecs:r,peerId:o,isOnline:i,keychain:s}=e;const a=async e=>{if("self"===e)return o.privKey;try{const t=await s.exportKey(e,"temp");return await ge.keys.import(t,"temp")}catch(t){throw Ct.error(t),c(t,"ERR_CANNOT_GET_KEY")}};return(0,J.a)((async function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=!(!1===o.resolve),l=o.lifetime||"24h",u=o.key||"self";if(!i())throw c(new Error(W.yH),"OFFLINE_ERROR");try{e=(0,W.AH)(e)}catch(g){throw Ct.error(g),g}let d=0;try{d=(0,_t.Z)(l)||0,d=parseFloat(d.toFixed(6))}catch(g){throw Ct.error(g),g}const p=await Promise.all([a(u),s?St({ipns:t,repo:n,codecs:r},e):Promise.resolve()]),h=(0,$.fromString)(e),f=await t.publish(p[0],h,d);return{name:f.name,value:(0,pe.toString)(f.value)}}))}({ipns:n,repo:r,codecs:o,peerId:i,isOnline:s,keychain:a}),this.resolve=function(e){let{dns:t,ipns:n,peerId:r,isOnline:o,options:{offline:i}}=e;return(0,J.a)((async function*(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(s=At({nocache:!1,recursive:!0},s),i&&s&&s.nocache)throw c(new Error("cannot specify both offline and nocache"),"ERR_NOCACHE_AND_OFFLINE");if(!o()&&!i)throw c(new Error(W.yH),"OFFLINE_ERROR");e||(e=r.toB58String()),e.startsWith("/ipns/")||(e=`/ipns/${e}`);let[a,l,...u]=e.slice(1).split("/");try{if("1"===l.substring(0,1)){const e=ne.parse(l),t=ye.decode(e.toBytes());l=p.CID.createV1(114,t).toString(xt.base36)}else{const e=p.CID.parse(l);1===e.version&&(l=e.toString(xt.base36))}}catch(h){if(It(l))return void(yield Rt(await t(l,s),u));throw Pt.error(h),c(new Error("Invalid IPNS name"),"ERR_IPNS_INVALID_NAME")}const d=await n.resolve(`/${a}/${l}`,s);yield Rt(d instanceof Uint8Array?(0,pe.toString)(d):d,u)}))}({dns:t,ipns:n,peerId:i,isOnline:s,options:l}),this.pubsub=new Tt({ipns:n,options:l})}}var Mt=n(98767),Nt=n(98691);const jt=(0,de.notFoundError)().code,Lt="<dst>",Bt="<src> -> <dst>";function zt(e,t,n){const{cid:r,path:o}=(0,Et.B)(t);return!1!==n.preload&&e(r),`/ipfs/${r}${o||""}`}async function*Ft(e,t,n,r,o){const i=await e(r,o),{cid:s}=(0,Et.B)(i),a=null!=o.maxDepth?o.maxDepth:1/0,c=o.unique||!1;for await(const l of async function*(e,t,n,r,o,i){const s=new Set;async function*a(n,c){const l=c+1;if(!(l>r))try{for await(const r of async function*(e,t,n,r){const o=await e.blocks.get(n,r),i=(await t.getCodec(n.code)).decode(o),s=n.code===u.code,a=[];for(const[c,l]of $t(i,a)){if(s){const e=c.match(/^Links\/(\d+)\/Hash$/);if(e){const t=Number(e[1]);if(t<i.Links.length){yield{name:i.Links[t].Name,cid:l};continue}}}yield{name:c,cid:l}}}(e,t,n.cid,i))yield{parent:n,node:r,isDuplicate:o&&s.has(r.cid.toString())},o&&s.add(r.cid.toString()),yield*a(r,l)}catch(d){throw d.code===jt&&(d.message=`Could not find object with CID: ${n.cid}`),d}}yield*a({cid:n},0)}(t,n,s,a,c,o))l.parent&&(l.isDuplicate||(yield{ref:Ut(l.parent.cid,l.node.cid,l.node.name,o.format)}))}function Ut(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Lt,o=r.replace(/<src>/g,e.toString());return o=o.replace(/<dst>/g,t.toString()),o=o.replace(/<linkname>/g,n),o}const $t=function*(e,t){if(null!=e&&!(e instanceof Uint8Array)){for(const[n,r]of Object.entries(e)){const e=[...t,n];if(null!=r&&"object"===typeof r)if(Array.isArray(r))for(const[t,n]of r.entries()){const r=[...e,t],o=p.CID.asCID(n);o?yield[r.join("/"),o]:"object"===typeof n&&(yield*$t(n,r))}else{const t=p.CID.asCID(r);t?yield[e.join("/"),t]:yield*$t(r,e)}}return[]}};function Wt(e){let{repo:t}=e;return(0,J.a)((async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};for await(const n of t.blocks.queryKeys({},{signal:e.signal}))yield{ref:n.toString()}}))}function qt(e){let{network:t}=e;return(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(await t.use(e)).bitswap,r=n.stat().snapshot;return{provideBufLen:parseInt(r.providesBufferLength.toString()),blocksReceived:BigInt(r.blocksReceived.toString()),wantlist:Array.from(n.getWantlist()).map((e=>e[1].cid)),peers:n.peers().map((e=>e.toB58String())),dupBlksReceived:BigInt(r.dupBlksReceived.toString()),dupDataReceived:BigInt(r.dupDataReceived.toString()),dataReceived:BigInt(r.dataReceived.toString()),blocksSent:BigInt(r.blocksSent.toString()),dataSent:BigInt(r.dataSent.toString())}}))}class Ht{constructor(e){let{network:t}=e;this.wantlist=function(e){let{network:t}=e;return(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{bitswap:n}=await t.use(e),r=n.getWantlist();return Array.from(r).map((e=>e[1].cid))}))}({network:t}),this.wantlistForPeer=function(e){let{network:t}=e;return(0,J.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{bitswap:r}=await t.use(n),o=r.wantlistForPeer(ne.createFromB58String(e));return Array.from(o).map((e=>e[1].cid))}))}({network:t}),this.unwant=function(e){let{network:t}=e;return(0,J.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{bitswap:r}=await t.use(n);return Array.isArray(e)||(e=[e]),r.unwant(e)}))}({network:t}),this.stat=qt({network:t})}}var Kt=n(44021);function Gt(e){try{return Kt.IPFS.matches(e)}catch(t){return!1}}var Vt=n(10006);var Xt=n(10036);class Yt{constructor(e){let{repo:t}=e;this.add=function(e){let{repo:t}=e;return(0,J.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Gt(e))throw new Error(`${e} is not a valid Multiaddr`);const r=await t.config.getAll(n),o=r.Bootstrap||[];return o.push(e.toString()),r.Bootstrap=Array.from(new Set(o)).sort(((e,t)=>e.localeCompare(t))),await t.config.replace(r),{Peers:[e]}}))}({repo:t}),this.list=function(e){let{repo:t}=e;return(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{Peers:(await t.config.get("Bootstrap",e)||[]).map((e=>new Vt.Multiaddr(e)))}}))}({repo:t}),this.rm=function(e){let{repo:t}=e;return(0,J.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Gt(e))throw new Error(`${e} is not a valid Multiaddr`);const r=await t.config.getAll(n);return r.Bootstrap=(r.Bootstrap||[]).filter((t=>t.toString()!==e.toString())),await t.config.replace(r),{Peers:[e]}}))}({repo:t}),this.clear=function(e){let{repo:t}=e;return(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await t.config.getAll(e),r=n.Bootstrap||[];return n.Bootstrap=[],await t.config.replace(n),{Peers:r.map((e=>new Vt.Multiaddr(e)))}}))}({repo:t}),this.reset=function(e){let{repo:t}=e;return(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await t.config.getAll(e);return n.Bootstrap=(0,Xt.Z)().Bootstrap,await t.config.replace(n),{Peers:(0,Xt.Z)().Bootstrap.map((e=>new Vt.Multiaddr(e)))}}))}({repo:t})}}var Zt=n(1833),Jt=n(60191),Qt=n(93663),en=n(89962);function tn(e){return e instanceof Uint8Array?p.CID.decode(e):p.CID.parse(e.toString())}class nn{constructor(e){let{codecs:t,hashers:n,preload:r,repo:o}=e;this.get=function(e){let{preload:t,repo:n}=e;return(0,J.a)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!1!==r.preload&&t(e),n.blocks.get(e,r)}))}({preload:r,repo:o}),this.put=function(e){let{codecs:t,hashers:n,repo:r,preload:o}=e;return(0,J.a)((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=i.pin?await r.gcLock.readLock():null;try{const a=null!=i.version?i.version:0,c=i.format||(0===a?"dag-pb":"raw"),l=await n.getHasher(i.mhtype||"sha2-256"),u=await l.digest(e),d=await t.getCodec(c),h=p.CID.create(a,d.code,u);return await r.blocks.put(h,e,{signal:i.signal}),!1!==i.preload&&o(h),!0===i.pin&&await r.pins.pinRecursively(h,{signal:i.signal}),h}finally{s&&s()}}))}({codecs:t,hashers:n,preload:r,repo:o}),this.rm=function(e){let{repo:t}=e;return(0,J.a)((async function*(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(e)||(e=[e]);const r=await t.gcLock.writeLock();try{yield*(0,en.pipe)(e,(e=>Jt(e,(e=>async()=>{const r={cid:e=tn(e)};try{if(!await t.blocks.has(e))throw c(new Error("block not found"),"ERR_BLOCK_NOT_FOUND");await t.blocks.delete(e)}catch(o){n.force||(o.message=`cannot remove ${e}: ${o.message}`,r.error=o)}return r}))),(e=>Zt(e,{concurrency:8})),(e=>Qt(e,(()=>!n.quiet))))}finally{r()}}))}({repo:o}),this.stat=function(e){let{repo:t,preload:n}=e;return(0,J.a)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=tn(e),!1!==r.preload&&n(e);return{cid:e,size:(await t.blocks.get(e)).length}}))}({preload:r,repo:o})}}var rn=n(55194),on=n(31156),sn=n(62469),an=n(21958),cn=n(47664);async function*ln(e){yield e}async function un(e){if((0,cn._t)(e))return ln(dn(e));if("string"===typeof e||e instanceof String)return ln(dn(e.toString()));if((0,cn.Lj)(e))return on(e);if((0,cn.Os)(e)&&(e=rn(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const t=sn(e),{value:n,done:r}=await t.peek();if(r)return ln(new Uint8Array(0));if(t.push(n),Number.isInteger(n))return ln(Uint8Array.from(await an(t)));if((0,cn._t)(n)||"string"===typeof n||n instanceof String)return Jt(t,dn)}throw c(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT")}function dn(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Array.isArray(e)?Uint8Array.from(e):(0,$.fromString)(e.toString())}async function pn(e,t){const{path:n,mode:r,mtime:o,content:i}=e,s={path:n||"",mode:(0,l.tK)(r),mtime:(0,l.Xu)(o)};return i?s.content=await t(i):n||(s.content=await t(e)),s}function hn(e){return async function*(e,t){if(null===e||void 0===e)throw c(new Error(`Unexpected input: ${e}`),"ERR_UNEXPECTED_INPUT");if("string"===typeof e||e instanceof String)yield pn(e.toString(),t);else if((0,cn._t)(e)||(0,cn.Lj)(e))yield pn(e,t);else{if((0,cn.Os)(e)&&(e=rn(e)),Symbol.iterator in e||Symbol.asyncIterator in e){const n=sn(e),{value:r,done:o}=await n.peek();if(o)return void(yield{content:[]});if(n.push(r),Number.isInteger(r)||(0,cn._t)(r)||"string"===typeof r||r instanceof String)return void(yield pn(n,t));throw c(new Error("Unexpected input: multiple items passed - if you are using ipfs.add, please use ipfs.addAll instead"),"ERR_UNEXPECTED_INPUT")}if(!(0,cn.Mk)(e))throw c(new Error('Unexpected input: cannot convert "'+typeof e+'" into ImportCandidate'),"ERR_UNEXPECTED_INPUT");yield pn(e,t)}}(e,un)}var fn=n(46224),gn=n(40389);function yn(e){return(0,gn.n)(e,un)}var mn=n(67835);const bn=i.Z.bind({ignoreUndefined:!0});function vn(e){return async function*(t){for await(const n of t){let t=n.cid;1===e.cidVersion&&(t=t.toV1());let r=n.path?n.path:t.toString();e.wrapWithDirectory&&!n.path&&(r=""),yield{path:r,cid:t,size:n.size,mode:n.unixfs&&n.unixfs.mode,mtime:n.unixfs&&n.unixfs.mtime}}}}function wn(e,t){return async function*(n){for await(const r of n){(!r.path||t.wrapWithDirectory?""===r.path:!r.path.includes("/"))&&!t.onlyHash&&!1!==t.preload&&e(r.cid),yield r}}}function kn(e,t){return async function*(n){for await(const r of n){const n=!(r.path&&r.path.includes("/"));(null==t.pin||t.pin)&&n&&!t.onlyHash&&await e.pins.pinRecursively(r.cid),yield r}}}var _n=n(48206);var En=n(53659),Sn=n(4813),Cn=n(42407);class xn{constructor(e){let{preload:t,repo:n,hashers:r,options:o}=e;const i=function(e){let{repo:t,preload:n,hashers:r,options:o}=e;const i=o&&o.sharding;return(0,J.a)((async function*(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=bn({shardSplitThreshold:i?1e3:1/0,strategy:"balanced"},o,{...(0,mn.Aq)(o.chunker)});s.hashAlg&&"sha2-256"!==s.hashAlg&&1!==s.cidVersion&&(s.cidVersion=1),s.trickle&&(s.strategy="trickle"),"trickle"===s.strategy&&(s.leafType="raw",s.reduceSingleLeafToSelf=!1),s.cidVersion>0&&void 0===s.rawLeaves&&(s.rawLeaves=!0),void 0!==s.hashAlg&&void 0===s.rawLeaves&&(s.rawLeaves=!0),delete s.trickle;const a={};if(s.progress){const e=s.progress;s.progress=(t,n)=>{a[n]||(a[n]=0),a[n]+=t,e(a[n],n)}}let c;null!=s.hashAlg&&(c=await r.getHasher(s.hashAlg));const l=(0,en.pipe)(yn(e),(e=>(0,fn.Z)(e,t.blocks,{...s,hasher:c,pin:!1})),vn(s),wn(n,s),kn(t,s)),u=await t.gcLock.readLock();try{for await(const e of l)delete a[e.path],yield e}finally{u()}}))}({preload:t,repo:n,options:o,hashers:r});this.addAll=i,this.add=function(e){let{addAll:t}=e;return async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await oe(t(hn(e),n));if(null==r)throw Error("Failed to add a file, if you see this please report a bug");return r}}({addAll:i}),this.cat=function(e){let{repo:t,preload:n}=e;return(0,J.a)((async function*(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e=(0,W.JU)(e),!1!==r.preload){const t=e.split("/");n(p.CID.parse(t[0]))}const o=await(0,_n.OY)(e,t.blocks,r);if("directory"===o.type)throw new Error("this dag node is a directory");if(!o.content)throw new Error("this dag node has no content");yield*o.content(r)}))}({repo:n,preload:t}),this.get=function(e){let{repo:t,preload:n}=e;return(0,J.a)((async function*(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null!=r.compressionLevel&&(r.compressionLevel<-1||r.compressionLevel>9))throw c(new Error("Compression level must be between -1 and 9"),"ERR_INVALID_PARAMS");if(!1!==r.preload){let t;try{t=(0,W.JU)(e).split("/")}catch(s){throw c(s,"ERR_INVALID_PATH")}n(p.CID.parse(t[0]))}const o=p.CID.asCID(e)||e,i=await(0,_n.OY)(o,t.blocks,r);if("file"===i.type||"raw"===i.type){const e=[];return r.compress&&!0!==r.archive?e.push(i.content):e.push([{header:{name:i.path,mode:"file"===i.type&&i.unixfs.mode,mtime:"file"===i.type&&i.unixfs.mtime?new Date(1e3*i.unixfs.mtime.secs):void 0,size:i.size,type:"file"},body:i.content()}],(0,En.pack)(),(e=>Jt(e,(e=>e.slice())))),r.compress&&e.push((async function*(e){const t=await Cn(e);yield Sn.gzip(t,{level:r.compressionLevel||6})})),void(yield*(0,en.pipe)(...e))}if("directory"!==i.type)throw c(new Error("Not a UnixFS node"),"ERR_NOT_UNIXFS");{const e=[(0,_n.BE)(o,t.blocks,r),async function*(e){for await(const t of e){const e={header:{name:t.path,size:t.size}};if("file"===t.type)e.header.type="file",e.header.mode=null!=t.unixfs.mode?t.unixfs.mode:void 0,e.header.mtime=t.unixfs.mtime?new Date(1e3*t.unixfs.mtime.secs):void 0,e.body=t.content();else if("raw"===t.type)e.header.type="file",e.body=t.content();else{if("directory"!==t.type)throw c(new Error("Not a UnixFS node"),"ERR_NOT_UNIXFS");e.header.type="directory",e.header.mode=null!=t.unixfs.mode?t.unixfs.mode:void 0,e.header.mtime=t.unixfs.mtime?new Date(1e3*t.unixfs.mtime.secs):void 0}yield e}},(0,En.pack)(),e=>Jt(e,(e=>e.slice()))];if(r.compress){if(!r.archive)throw c(new Error("file is not regular"),"ERR_INVALID_PATH");r.compress&&e.push((async function*(e){const t=await Cn(e);yield Sn.gzip(t,{level:r.compressionLevel||6})}))}yield*(0,en.pipe)(...e)}}))}({repo:n,preload:t}),this.ls=function(e){let{repo:t,preload:n}=e;return(0,J.a)((async function*(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=(0,W.JU)(e),i=o.split("/");!1!==r.preload&&n(p.CID.parse(i[0]));const s=p.CID.asCID(o)||o,a=await(0,_n.OY)(s,t.blocks,r);if("file"!==a.type){if("directory"!==a.type)throw c(new Error(`Unknown UnixFS type ${a.type}`),"ERR_UNKNOWN_UNIXFS_TYPE");for await(const e of a.content())yield(0,W.jr)(e)}else yield(0,W.jr)(a)}))}({repo:n,preload:t})}}var In=n(22123);const An=Object.assign(a("ipfs:components:id"),{error:a("ipfs:components:id:error")});async function Pn(e,t,n){let r=await t.peerStore.get(e);r||(r=await async function(e,t,n){for await(const o of t._dht.findPeer(e,n))if("FINAL_PEER"===o.name)break;const r=await t.peerStore.get(e);if(!r)throw c(new Error("Could not find peer"),"ERR_NOT_FOUND");return r}(e,t,n));let o=e.pubKey?e.pubKey:await t.peerStore.keyBook.get(e);if(!o)try{o=await t._dht.getPublicKey(e,n)}catch(i){An.error("Could not load public key for",e.toB58String(),i)}return{...r,publicKey:o,metadata:r.metadata||new Map,addresses:r.addresses.map((e=>e.multiaddr))}}var Rn=n(69201);const On={server:{description:"Recommended for nodes with public IPv4 address (servers, VPSes, etc.), disables host and content discovery and UPnP in local networks.",transform:e=>(Rn(e,"Discovery.MDNS.Enabled",!1),Rn(e,"Discovery.webRTCStar.Enabled",!1),e.Swarm={...e.Swarm||{},DisableNatPortMap:!0},e)},"local-discovery":{description:"Sets default values to fields affected by `server` profile, enables discovery and UPnP in local networks.",transform:e=>(Rn(e,"Discovery.MDNS.Enabled",!0),Rn(e,"Discovery.webRTCStar.Enabled",!0),Rn(e,"Swarm",{...e.Swarm||{},DisableNatPortMap:!1}),e)},test:{description:"Reduces external interference, useful for running ipfs in test environments. Note that with these settings node won't be able to talk to the rest of the network without manual bootstrap.",transform:e=>{const t=(0,Xt.Z)();return Rn(e,"Addresses.API",t.Addresses.API?"/ip4/127.0.0.1/tcp/0":""),Rn(e,"Addresses.Gateway",t.Addresses.Gateway?"/ip4/127.0.0.1/tcp/0":""),Rn(e,"Addresses.Swarm",t.Addresses.Swarm.length?["/ip4/127.0.0.1/tcp/0"]:[]),Rn(e,"Addresses.Delegates",[]),Rn(e,"Bootstrap",[]),Rn(e,"Discovery.MDNS.Enabled",!1),Rn(e,"Discovery.webRTCStar.Enabled",!1),Rn(e,"Swarm",{...e.Swarm||{},DisableNatPortMap:!0}),e}},"default-networking":{description:"Restores default network settings. Inverse profile of the `test` profile.",transform:e=>{const t=(0,Xt.Z)();return Rn(e,"Addresses.API",t.Addresses.API),Rn(e,"Addresses.Gateway",t.Addresses.Gateway),Rn(e,"Addresses.Swarm",t.Addresses.Swarm),Rn(e,"Addresses.Delegates",t.Addresses.Delegates),Rn(e,"Bootstrap",t.Bootstrap),Rn(e,"Discovery.MDNS.Enabled",t.Discovery.MDNS.Enabled),Rn(e,"Discovery.webRTCStar.Enabled",t.Discovery.webRTCStar.Enabled),Rn(e,"Swarm",{...e.Swarm||{},DisableNatPortMap:!1}),e}},lowpower:{description:"Reduces daemon overhead on the system. May affect node functionality,performance of content discovery and data fetching may be degraded. Recommended for low power systems.",transform:e=>{const t=e.Swarm||{},n=t.ConnMgr||{};return n.LowWater=20,n.HighWater=40,t.ConnMgr=n,e.Swarm=t,e}},"default-power":{description:'Inverse of "lowpower" profile.',transform:e=>{const t=(0,Xt.Z)();return e.Swarm=t.Swarm,e}}},Tn=a("ipfs:core:config");async function Dn(e){return Object.keys(On).map((e=>({name:e,description:On[e].description})))}const Mn=function(){let{enumerable:e=!0,configurable:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{enumerable:e,configurable:t,writable:!1}},Nn=function*(e,t){if(null!=e&&!(e instanceof Uint8Array))for(const[n,r]of Object.entries(e)){const e=[...t,n];if(null!=r&&"object"===typeof r)if(Array.isArray(r))for(const[t,n]of r.entries()){const r=[...e,t],o=v.k0.asCID(n);o?yield[r.join("/"),o]:"object"===typeof n&&(yield*Nn(n,r))}else{const t=v.k0.asCID(r);t?yield[e.join("/"),t]:yield*Nn(r,e)}}},jn=function*(e,t){if(null!=e)for(const[n,r]of Object.entries(e)){const e=[...t,n];if(yield e.join("/"),null!=r&&!(r instanceof Uint8Array)&&"object"===typeof r&&!v.k0.asCID(r))if(Array.isArray(r))for(const[t,n]of r.entries()){const r=[...e,t];yield r.join("/"),"object"!==typeof n||v.k0.asCID(n)||(yield*jn(n,r))}else yield*jn(r,e)}};class Ln{constructor(e){let{cid:t,bytes:n,value:r}=e;if(!t||!n||"undefined"===typeof r)throw new Error("Missing required argument");this.cid=t,this.bytes=n,this.value=r,this.asBlock=this,Object.defineProperties(this,{cid:Mn(),bytes:Mn(),value:Mn(),asBlock:Mn()})}links(){return Nn(this.value,[])}tree(){return jn(this.value,[])}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/";return((e,t)=>{let n=e;for(const[r,o]of t.entries()){if(n=n[o],null==n)throw new Error(`Object has no property at ${t.slice(0,r+1).map((e=>`[${JSON.stringify(e)}]`)).join("")}`);const e=v.k0.asCID(n);if(e)return{value:e,remaining:t.slice(r+1).join("/")}}return{value:n}})(this.value,e.split("/").filter(Boolean))}}const Bn=e=>{let{bytes:t,cid:n,value:r,codec:o}=e;const i=void 0!==r?r:o&&o.decode(t);if(void 0===i)throw new Error('Missing required argument, must either provide "value" or "codec"');return new Ln({cid:n,bytes:t,value:i})};var zn=n(75617);function Fn(e){const t=m({version:1,roots:e}),n=zn.encode(t.length),r=new Uint8Array(n.length+t.length);return r.set(n,0),r.set(t,n.length),r}var Un=n(54595);const $n={Null:e=>null===e,Int:e=>Number.isInteger(e),Float:e=>"number"===typeof e&&Number.isFinite(e),String:e=>"string"===typeof e,Bool:e=>"boolean"===typeof e,Bytes:e=>e instanceof Uint8Array,Link:e=>!$n.Null(e)&&"object"===typeof e&&e.asCID===e,List:e=>Array.isArray(e),Map:e=>!$n.Null(e)&&"object"===typeof e&&e.asCID!==e&&!$n.List(e)&&!$n.Bytes(e)},Wn={Int:$n.Int,"CarHeader > version":e=>Wn.Int(e),"CarHeader > roots (anon) > valueType (anon)":$n.Link,"CarHeader > roots (anon)":e=>$n.List(e)&&Array.prototype.every.call(e,Wn["CarHeader > roots (anon) > valueType (anon)"]),"CarHeader > roots":e=>Wn["CarHeader > roots (anon)"](e),CarHeader:e=>{const t=e&&Object.keys(e);return $n.Map(e)&&["version"].every((e=>t.includes(e)))&&Object.entries(e).every((e=>{let[t,n]=e;return Wn["CarHeader > "+t]&&Wn["CarHeader > "+t](n)}))}},qn=Wn.CarHeader,Hn=18,Kn=32,Gn=112;async function Vn(e){const t=await e.upTo(8);if(!t.length)throw new Error("Unexpected end of data");const n=zn.decode(t);return e.seek(zn.decode.bytes),n}async function Xn(e,t){const n=await Vn(e);if(0===n)throw new Error("Invalid CAR header (zero length)");const r=await e.exactly(n);e.seek(n);const o=b(r);if(!qn(o))throw new Error("Invalid CAR header format");if(1!==o.version&&2!==o.version||void 0!==t&&o.version!==t)throw new Error(`Invalid CAR version: ${o.version}${void 0!==t?` (expected ${t})`:""}`);const i=Array.isArray(o.roots);if(1===o.version&&!i||2===o.version&&i)throw new Error("Invalid CAR header format");if(1===o.version)return o;const s=await async function(e){const t=await e.exactly(40),n=new DataView(t.buffer,t.byteOffset,t.byteLength);let r=0;const o={version:2,characteristics:[n.getBigUint64(r,!0),n.getBigUint64(r+=8,!0)],dataOffset:Number(n.getBigUint64(r+=8,!0)),dataSize:Number(n.getBigUint64(r+=8,!0)),indexOffset:Number(n.getBigUint64(r+=8,!0))};return e.seek(40),o}(e);e.seek(s.dataOffset-e.pos);const a=await Xn(e,1);return Object.assign(a,s)}async function Yn(e){const t=await e.exactly(2);if(t[0]===Hn&&t[1]===Kn){const t=await e.exactly(34);e.seek(34);const n=ye.decode(t);return p.CID.create(0,Gn,n)}const n=await Vn(e);if(1!==n)throw new Error(`Unexpected CID version (${n})`);const r=await Vn(e),o=await async function(e){const t=await e.upTo(8);zn.decode(t);const n=zn.decode.bytes,r=zn.decode(t.subarray(zn.decode.bytes)),o=n+zn.decode.bytes+r,i=await e.exactly(o);return e.seek(o),i}(e),i=ye.decode(o);return p.CID.create(n,r,i)}async function Zn(e){const t=e.pos;let n=await Vn(e);if(0===n)throw new Error("Invalid CAR section (zero length)");n+=e.pos-t;return{cid:await Yn(e),length:n,blockLength:n-Number(e.pos-t)}}async function Jn(e){const{cid:t,blockLength:n}=await Zn(e),r=await e.exactly(n);return e.seek(n),{bytes:r,cid:t}}async function Qn(e){const t=e.pos,{cid:n,length:r,blockLength:o}=await Zn(e),i={cid:n,length:r,blockLength:o,offset:t,blockOffset:e.pos};return e.seek(i.blockLength),i}function er(e){const t=(async()=>{const t=await Xn(e);if(2===t.version){const n=e.pos-t.dataOffset;e=function(e,t){let n=0;return{async upTo(r){let o=await e.upTo(r);return o.length+n>t&&(o=o.subarray(0,t-n)),o},async exactly(r){const o=await e.exactly(r);if(o.length+n>t)throw new Error("Unexpected end of data");return o},seek(t){n+=t,e.seek(t)},get pos(){return e.pos}}}(e,t.dataSize-n)}return t})();return{header:()=>t,async*blocks(){for(await t;(await e.upTo(8)).length>0;)yield await Jn(e)},async*blocksIndex(){for(await t;(await e.upTo(8)).length>0;)yield await Qn(e)}}}function tr(e){let t=0;return{upTo:async n=>e.subarray(t,t+Math.min(n,e.length-t)),async exactly(n){if(n>e.length-t)throw new Error("Unexpected end of data");return e.subarray(t,t+n)},seek(e){t+=e},get pos(){return t}}}function nr(e){const t=e[Symbol.asyncIterator]();return function(e){let t=0,n=0,r=0,o=new Uint8Array(0);const i=async t=>{n=o.length-r;const i=[o.subarray(r)];for(;n<t;){const t=await e();if(null==t)break;n<0?t.length>n&&i.push(t.subarray(-n)):i.push(t),n+=t.length}o=new Uint8Array(i.reduce(((e,t)=>e+t.length),0));let s=0;for(const e of i)o.set(e,s),s+=e.length;r=0};return{upTo:async e=>(o.length-r<e&&await i(e),o.subarray(r,r+Math.min(o.length-r,e))),async exactly(e){if(o.length-r<e&&await i(e),o.length-r<e)throw new Error("Unexpected end of data");return o.subarray(r,r+e)},seek(e){t+=e,r+=e},get pos(){return t}}}((async function(){const e=await t.next();return e.done?null:e.value}))}class rr{constructor(e,t){this._encoder=t,this._mutex=t.setRoots(e),this._ended=!1}async put(e){if(!(e.bytes instanceof Uint8Array)||!e.cid)throw new TypeError("Can only write {cid, bytes} objects");if(this._ended)throw new Error("Already closed");const t=p.CID.asCID(e.cid);if(!t)throw new TypeError("Can only write {cid, bytes} objects");return this._mutex=this._mutex.then((()=>this._encoder.writeBlock({cid:t,bytes:e.bytes}))),this._mutex}async close(){if(this._ended)throw new Error("Already closed");return await this._mutex,this._ended=!0,this._encoder.close()}static create(e){e=function(e){if(void 0===e)return[];if(!Array.isArray(e)){const t=p.CID.asCID(e);if(!t)throw new TypeError("roots must be a single CID or an array of CIDs");return[t]}const t=[];for(const n of e){const e=p.CID.asCID(n);if(!e)throw new TypeError("roots must be a single CID or an array of CIDs");t.push(e)}return t}(e);const{encoder:t,iterator:n}=ir();return{writer:new rr(e,t),out:new or(n)}}static createAppender(){const{encoder:e,iterator:t}=ir();e.setRoots=()=>Promise.resolve();return{writer:new rr([],e),out:new or(t)}}static async updateRootsInBytes(e,t){const n=tr(e);await Xn(n);const r=Fn(t);if(Number(n.pos)!==r.length)throw new Error(`updateRoots() can only overwrite a header of the same length (old header is ${n.pos} bytes, new header is ${r.length} bytes)`);return e.set(r,0),e}}class or{constructor(e){this._iterator=e}[Symbol.asyncIterator](){if(this._iterating)throw new Error("Multiple iterator not supported");return this._iterating=!0,this._iterator}}function ir(){const e=(0,Un.U)(),{writer:t,iterator:n}=e,r=function(e){return{async setRoots(t){const n=Fn(t);await e.write(n)},async writeBlock(t){const{cid:n,bytes:r}=t;await e.write(new Uint8Array(zn.encode(n.bytes.length+r.length))),await e.write(n.bytes),r.length&&await e.write(r)},async close(){await e.end()}}}(t);return{encoder:r,iterator:n}}var sr=n(96602),ar=n(39928);const cr=async e=>{let{cid:t,load:n,seen:r}=e;r=r||new Set;const o=t.toString(ot.base58btc);if(r.has(o))return;const i=await n(t);if(r.add(o),null!==i)for(const[,s]of i.links())await cr({cid:s,load:n,seen:r})},lr=a("ipfs:components:dag:import"),ur=[sr.code,ar.code];function dr(e,t,n,r){return async o=>{const i=await r.getCodec(o.code);if(!i)throw new Error(`Can't decode links in block with codec 0x${o.code.toString(16)} to form complete DAG`);const s=await e.blocks.get(o,n);return lr(`Adding block ${o} to car`),await t.put({cid:o,bytes:s}),ur.includes(o.code)?null:Bn({bytes:s,cid:o,codec:i})}}var pr=n(45454);class hr{constructor(e,t,n){this._version=e,this._roots=t,this._iterable=n,this._decoded=!1}get version(){return this._version}async getRoots(){return this._roots}}class fr extends hr{[Symbol.asyncIterator](){if(this._decoded)throw new Error("Cannot decode more than once");if(!this._iterable)throw new Error("Block iterable not found");return this._decoded=!0,this._iterable[Symbol.asyncIterator]()}static async fromBytes(e){const{version:t,roots:n,iterator:r}=await gr(e);return new fr(t,n,r)}static async fromIterable(e){const{version:t,roots:n,iterator:r}=await yr(e);return new fr(t,n,r)}}Symbol.asyncIterator;async function gr(e){if(!(e instanceof Uint8Array))throw new TypeError("fromBytes() requires a Uint8Array");return mr(tr(e))}async function yr(e){if(!e||"function"!==typeof e[Symbol.asyncIterator])throw new TypeError("fromIterable() requires an async iterable");return mr(nr(e))}async function mr(e){const t=er(e),{version:n,roots:r}=await t.header();return{version:n,roots:r,iterator:t.blocks()}}const br=a("ipfs:components:dag:import");async function vr(e,t,n){const r=await fr.fromIterable(n),o=await r.getRoots();return await mt(e.blocks.putMany(Jt(r,(e=>{let{cid:t,bytes:n}=e;return br(`Import block ${t}`),{key:t,value:n}})),{signal:t.signal})),o}class wr{constructor(e){let{repo:t,codecs:n,hashers:r,preload:o}=e;this.export=function(e){let{repo:t,preload:n,codecs:r}=e;return(0,J.a)((async function*(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!1!==o.preload&&n(e);const i=p.CID.asCID(e);if(!i)throw new Error(`Unexpected error converting CID type: ${e}`);lr(`Exporting ${i} as car`);const{writer:s,out:a}=await rr.create([i]);let c=null;(async()=>{try{const e=dr(t,s,{signal:o.signal,timeout:o.timeout},r);await cr({cid:i,load:e})}catch(e){c=e}finally{s.close()}})();for await(const t of a){if(c)break;yield t}if(c)throw c}))}({repo:t,preload:o,codecs:n}),this.get=function(e){let{codecs:t,repo:n,preload:r}=e;return(0,J.a)((async function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!1!==o.preload&&r(e),o.path){const r=o.localResolve?await pr((0,W.DB)(e,o.path,t,n,o)):await oe((0,W.DB)(e,o.path,t,n,o));if(!r)throw c(new Error("Not found"),"ERR_NOT_FOUND");return r}const i=await t.getCodec(e.code),s=await n.blocks.get(e,o);return{value:i.decode(s),remainderPath:""}}))}({codecs:n,repo:t,preload:o}),this.import=function(e){let{repo:t}=e;return(0,J.a)((async function*(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await t.gcLock.readLock();try{const i={signal:n.signal,timeout:n.timeout},s=sn(e),{value:a,done:c}=await s.peek();if(c)return;let l;a&&s.push(a),l=a instanceof Uint8Array?[s]:s;for await(const e of l){const r=await vr(t,i,e);if(!1!==n.pinRoots)for(const e of r){let n="";try{await t.blocks.has(e)?(br(`Pinning root ${e}`),await t.pins.pinRecursively(e)):n="blockstore: block not found"}catch(o){n=o.message}yield{root:{cid:e,pinErrorMsg:n}}}}}finally{r()}}))}({repo:t}),this.resolve=function(e){let{repo:t,codecs:n,preload:r}=e;return(0,J.a)((async function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{cid:i}=(0,Et.B)(e);return!1!==o.preload&&r(i),(0,W.i3)(t,n,e,o)}))}({repo:t,codecs:n,preload:o}),this.put=function(e){let{repo:t,codecs:n,hashers:r,preload:o}=e;return(0,J.a)((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=i.pin?await t.gcLock.readLock():null;try{const a=await n.getCodec(i.storeCodec||"dag-cbor");if(!a)throw new Error(`Unknown storeCodec ${i.storeCodec}, please configure additional BlockCodecs for this IPFS instance`);if(i.inputCodec){if(!(e instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");const t=await n.getCodec(i.inputCodec);if(!t)throw new Error(`Unknown inputCodec ${i.inputCodec}, please configure additional BlockCodecs for this IPFS instance`);e=t.decode(e)}const c=null!=i.version?i.version:1,l=await r.getHasher(i.hashAlg||"sha2-256");if(!l)throw new Error(`Unknown hash algorithm ${i.hashAlg}, please configure additional MultihashHashers for this IPFS instance`);const u=a.encode(e),d=await l.digest(u),h=p.CID.create(c,a.code,d);return await t.blocks.put(h,u,{signal:i.signal}),i.pin&&await t.pins.pinRecursively(h),!1!==i.preload&&o(h),h}finally{s&&s()}}))}({repo:t,codecs:n,hashers:r,preload:o})}}var kr=n(36381),_r=n(76297);const Er=Object.assign(a("ipfs:preload"),{error:a("ipfs:preload:error")}),Sr=new(K.default?K.default:K)({concurrency:4});function Cr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Er(e),Sr.add((async()=>{const n=(await G.post(e,{signal:t.signal})).body.getReader();try{for(;;){const{done:e}=await n.read();if(e)return}}finally{n.releaseLock()}}))}const xr=Object.assign(a("ipfs:preload"),{error:a("ipfs:preload:error")});function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.enabled=Boolean(e.enabled),e.addresses=e.addresses||[],e.cache=e.cache||1e3,!e.enabled||!e.addresses.length){xr("preload disabled");const e=()=>{};return Object.assign(e,{start:()=>{},stop:()=>{}})}let t=!0,n=[];const r=e.addresses.map(kr),o=Je(e.cache),i=async e=>{try{if(t)throw new Error(`preload ${e} but preloader is not started`);const s=e.toString();if(o.has(s))return;o.set(s,!0);const a=_r(r);let c=!1;const l=Date.now();for(const e of a){if(t)throw new Error(`preload aborted for ${s}`);let r;try{r=new AbortController,n=n.concat(r),await Cr(`${e}/api/v0/refs?r=true&arg=${encodeURIComponent(s)}`,{signal:r.signal}),c=!0}catch(i){"aborted"!==i.type&&xr.error(i)}finally{n=n.filter((e=>e!==r))}if(c)break}xr(`${c?"":"un"}successfully preloaded ${s} in ${Date.now()-l}ms`)}catch(i){xr.error(i)}};return i.start=()=>{t=!1},i.stop=()=>{t=!0,xr(`aborting ${n.length} pending preload request(s)`),n.forEach((e=>e.abort())),n=[]},i}const Ar=Object.assign(a("ipfs:mfs-preload"),{error:a("ipfs:mfs-preload:error")});var Pr=n(70962),Rr=n(91025),Or=n(62442),Tr=n(12944),Dr=n(2723),Mr=n(65887),Nr=n(39849),jr=n(74009),Lr=n(87956),Br=n(56792),zr=n(17300),Fr=n(48396);const Ur={stat:Rr.y},$r={chmod:Or.b,cp:Tr.h,flush:Dr.k,mkdir:Mr.T,mv:Nr.f,rm:jr.Q,touch:Lr.T},Wr={write:zr.g,read:Br.k,ls:Fr.c},qr=e=>{let{options:t,mfs:n,operations:r,lock:o}=e;Object.keys(r).forEach((e=>{n[e]=o(r[e](t))}))},Hr={repoOwner:!0,repo:null};function Kr(e){let{repo:t,preload:n,hashers:r,options:o}=e;const i=function(e){const{repoOwner:t}=Object.assign({},Hr||{},e),n=(0,Pr.Y)(t),r={};return qr({options:e,mfs:r,operations:Ur,lock:e=>n.readLock(e)}),qr({options:e,mfs:r,operations:$r,lock:e=>n.writeLock(e)}),Object.keys(Wr).forEach((t=>{r[t]=Wr[t](e)})),r}({repo:t,repoOwner:Boolean(o.repoOwner),hashers:r}),s=e=>function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];const i=r.filter((e=>te.ipfsPath(e)||te.cid(e)));if(i.length){const e=r[r.length-1];e&&!1!==e.preload&&i.forEach((e=>n(e)))}return e(...r)};return{...i,chmod:i.chmod,cp:s(i.cp),mkdir:i.mkdir,stat:s(i.stat),rm:i.rm,read:s(i.read),touch:i.touch,write:i.write,mv:s(i.mv),flush:i.flush,ls:s((async function*(){for await(const e of i.ls(...arguments))yield{...e,size:e.size||0}}))}}const Gr="ed25519",Vr=2048;class Xr{constructor(e){let{keychain:t}=e;this.gen=function(e){let{keychain:t}=e;return(0,J.a)((function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:Gr,size:Vr};return t.createKey(e,n.type||Gr,n.size||Vr)}))}({keychain:t}),this.list=function(e){let{keychain:t}=e;return(0,J.a)((()=>t.listKeys()))}({keychain:t}),this.rm=function(e){let{keychain:t}=e;return(0,J.a)((e=>t.removeKey(e)))}({keychain:t}),this.rename=function(e){let{keychain:t}=e;return(0,J.a)((async(e,n)=>{const r=await t.renameKey(e,n);return{was:e,now:r.name,id:r.id,overwrite:!1}}))}({keychain:t}),this.export=function(e){let{keychain:t}=e;return(0,J.a)(((e,n)=>t.exportKey(e,n)))}({keychain:t}),this.import=function(e){let{keychain:t}=e;return(0,J.a)(((e,n,r)=>t.importKey(e,n,r)))}({keychain:t}),this.info=function(e){let{keychain:t}=e;return(0,J.a)((e=>t.findKeyByName(e)))}({keychain:t})}}function Yr(e){let{repo:t,preload:n}=e;return(0,J.a)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!1!==r.preload&&n(e);const o=await t.blocks.get(e,r);return u.decode(o)}))}function Zr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];for(const r in e){const o=e[r];if("/"===r&&1===Object.keys(e).length)try{t.push({Name:"",Tsize:0,Hash:p.CID.parse(o)});continue}catch(n){}const i=p.CID.asCID(o);i?t.push({Name:"",Tsize:0,Hash:i}):(Array.isArray(o)&&Zr(o,t),o&&"object"===typeof o&&Zr(o,t))}return t}var Jr=n(92829);function Qr(e){let{repo:t,preload:n}=e;return(0,J.a)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=await t.gcLock.readLock();try{const i=u.encode(e),s=await Jr.sha256.digest(i),a=p.CID.createV1(u.code,s);return await t.blocks.put(a,i,{signal:r.signal}),!1!==r.preload&&n(a),r.pin&&await t.pins.pinRecursively(a,{signal:r.signal}),a}finally{o()}}))}class eo{constructor(e){let{repo:t,preload:n}=e;this.addLink=function(e){let{repo:t,preload:n}=e;const r=Yr({repo:t,preload:n}),o=Qr({repo:t,preload:n});return(0,J.a)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await r(e,n);return o({...i,Links:i.Links.concat([t])},n)}))}({repo:t,preload:n}),this.appendData=function(e){let{repo:t,preload:n}=e;const r=Yr({repo:t,preload:n}),o=Qr({repo:t,preload:n});return(0,J.a)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await r(e,n),s=(0,be.concat)([i.Data||[],t]);return o({...i,Data:s},n)}))}({repo:t,preload:n}),this.rmLink=function(e){let{repo:t,preload:n}=e;const r=Yr({repo:t,preload:n}),o=Qr({repo:t,preload:n});return(0,J.a)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await r(e,n),s=("string"===typeof t?t:t.Name)||"";return i.Links=i.Links.filter((e=>e.Name!==s)),o(i,n)}))}({repo:t,preload:n}),this.setData=function(e){let{repo:t,preload:n}=e;const r=Yr({repo:t,preload:n}),o=Qr({repo:t,preload:n});return(0,J.a)((async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=await r(e,n);return o({...i,Data:t},n)}))}({repo:t,preload:n})}}class to{constructor(e){let{repo:t,codecs:n,preload:r}=e;this.data=function(e){let{repo:t,preload:n}=e;const r=Yr({repo:t,preload:n});return(0,J.a)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(await r(e,t)).Data||new Uint8Array(0)}))}({repo:t,preload:r}),this.get=Yr({repo:t,preload:r}),this.links=function(e){let{repo:t,codecs:n}=e;return(0,J.a)((async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=await n.getCodec(e.code),i=await t.blocks.get(e,r),s=o.decode(i);switch(e.code){case sr.code:return[];case u.code:return s.Links;case y:case I:return Zr(s);default:throw new Error(`Cannot resolve links from codec ${e.code}`)}}))}({repo:t,codecs:n}),this.new=function(e){let{repo:t,preload:n}=e;return(0,J.a)((async function(){let e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.template){if("unixfs-dir"!==r.template)throw new Error("unknown template");e=new l.fL({type:"directory"}).marshal()}const o=u.encode({Data:e,Links:[]}),i=await Jr.sha256.digest(o),s=p.CID.createV0(i);return await t.blocks.put(s,o,{signal:r.signal}),!1!==r.preload&&n(s),s}))}({repo:t,preload:r}),this.put=Qr({repo:t,preload:r}),this.stat=function(e){let{repo:t,preload:n}=e;const r=Yr({repo:t,preload:n});return(0,J.a)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=await r(e,t),o=u.encode(n).length,i=n.Links.reduce(((e,t)=>e+(t.Tsize||0)),0);return{Hash:e,NumLinks:n.Links.length,BlockSize:o,LinksSize:o-(n.Data||[]).length,DataSize:(n.Data||[]).length,CumulativeSize:o+i}}))}({repo:t,preload:r}),this.patch=new eo({repo:t,preload:r})}}var no=n(61542);const ro=a("ipfs:repo:gc");function oo(e){let{repo:t}=e;return(0,J.a)((async function(){const e=await t.stat();return{numObjects:BigInt(e.numObjects.toString()),repoSize:BigInt(e.repoSize.toString()),repoPath:e.repoPath,version:`${e.version}`,storageMax:BigInt(e.storageMax.toString())}}))}var io=n(64931);class so{constructor(e){let{repo:t,hashers:n}=e;this.gc=function(e){let{repo:t,hashers:n}=e;return(0,J.a)((async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=Date.now();let o;try{o=await(0,no.x)({repo:t,hashers:n},e),await t.pins.pinRecursively(o),yield*t.gc()}finally{o&&await t.pins.unpin(o)}ro(`Complete (${Date.now()-r}ms)`)}))}({repo:t,hashers:n}),this.stat=oo({repo:t}),this.version=function(e){let{repo:t}=e;return(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{await t._checkInitialized(e)}catch(n){if([/Key not found in database \[\/version\]/,/ENOENT/,/repo is not initialized yet/].some((e=>e.test(n.message))))return io._;throw n}return t.version.get()}))}({repo:t}),this.setApiAddr=e=>t.apiAddr.set(e)}}function ao(e,t){let n;if(n=e.metrics?t.peer?e.metrics.forPeer(ne.parse(t.peer)):t.proto?e.metrics.forProtocol(t.proto):e.metrics.global:void 0,!n)return{totalIn:BigInt(0),totalOut:BigInt(0),rateIn:0,rateOut:0};const{movingAverages:r,snapshot:o}=n;return{totalIn:BigInt(o.dataReceived.integerValue().toString()),totalOut:BigInt(o.dataSent.integerValue().toString()),rateIn:r.dataReceived[6e4].movingAverage()/60,rateOut:r.dataSent[6e4].movingAverage()/60}}class co{constructor(e){let{repo:t,network:n}=e;this.repo=oo({repo:t}),this.bw=function(e){let{network:t}=e;return(0,J.a)((async function*(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{libp2p:n}=await t.use(e);if(!e.poll)return void(yield ao(n,e));const r=e.interval||1e3;let o,i=-1;try{if(i="string"===typeof r?(0,_t.Z)(r)||-1:r,!i||i<0)throw new Error("invalid duration")}catch(s){throw c(s,"ERR_INVALID_POLL_INTERVAL")}try{for(;;)yield ao(n,e),await new Promise((e=>{o=setTimeout(e,i)}))}finally{clearTimeout(o)}}))}({network:n}),this.bitswap=qt({network:n})}}var lo=n(2548),uo=n(34695),po=n(17008),ho=n(24222),fo=n(27401),go=n(46714);const yo={description:"Empty migration.",migrate:()=>{},revert:()=>{},empty:!0},mo=[Object.assign({version:1},yo),Object.assign({version:2},yo),Object.assign({version:3},yo),Object.assign({version:4},yo),Object.assign({version:5},yo),Object.assign({version:6},yo),Object.assign({version:7},yo),uo.Q,po.Q,ho.Q,fo.Q,go.Q];var bo=n(35264),vo=n(38099),wo=n(61757);const ko=a("ipfs:repo:migrator");async function _o(e,t,n,r,o){let{ignoreLock:i=!1,onProgress:s,isDryRun:a=!1,migrations:c}=o;if(c=c||mo,!e)throw new So.RequiredParameterError("Path argument is required!");if(!n)throw new So.RequiredParameterError("repoOptions argument is required!");if(!r)throw new So.RequiredParameterError("toVersion argument is required!");if(!Number.isInteger(r)||r<=0)throw new So.InvalidValueError("Version has to be positive integer!");t=(0,wo.pf)(t);const l=await bo.b(t);if(l===r)return void ko("Nothing to migrate.");if(l>r)throw new So.InvalidValueError(`Current repo's version (${l}) is higher then toVersion (${r}), you probably wanted to revert it?`);let u;Eo(c,l,r),a||i||(u=await n.repoLock.lock(e));try{for(const e of c){if(void 0!==r&&e.version>r)break;if(!(e.version<=l)){ko(`Migrating version ${e.version}`);try{if(!a){let n=()=>{};s&&(n=(t,n)=>s(e.version,t.toFixed(2),n)),await e.migrate(t,n)}}catch(d){const n=e.version-1;throw ko(`An exception was raised during execution of migration. Setting the repo's version to last successfully migrated version: ${n}`),await bo.x(n,t),new Error(`During migration to version ${e.version} exception was raised: ${d.stack||d.message||d}`)}ko(`Migrating to version ${e.version} finished`)}}a||await bo.x(r||function(e){return e=e||mo,Array.isArray(e)&&0!==e.length?e[e.length-1].version:0}(c),t),ko("Repo successfully migrated",void 0!==r?`to version ${r}!`:"to latest version!")}finally{a||i||!u||await u.close()}}function Eo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=0;for(const i of e){if(i.version>n)break;if(i.version>t){if(r&&!i.revert)throw new So.NonReversibleMigrationError(`It is not possible to revert to version ${t} because migration version ${i.version} is not reversible. Cancelling reversion.`);o++}}if(o!==n-t)throw new So.InvalidValueError(`The ipfs-repo-migrations package does not have all migration to migrate from version ${t} to ${n}`)}bo.b;const So=vo;var Co=n(77073);class xo extends Error{constructor(e){super(e),this.name="LockExistsError",this.code=xo.code}}xo.code="ERR_LOCK_EXISTS";class Io extends Error{constructor(e){super(e),this.name="NotFoundError",this.code=Io.code}}Io.code="ERR_NOT_FOUND";class Ao extends Error{constructor(e){super(e),this.name="InvalidRepoVersionError",this.code=Ao.code}}Ao.code="ERR_INVALID_REPO_VERSION";const Po="ERR_REPO_NOT_INITIALIZED";async function Ro(e,t,n){const r=await t(e);if(r)return r;const o=To(n);return!!o&&new Promise(((t,n)=>{const r=o.store("readonly").get(e.toString());r.transaction.onabort=()=>{n(r.transaction.error)},r.transaction.oncomplete=()=>{t(Boolean(r.result))}}))}async function Oo(e,t,n,r){if(await n(e))return t(e);const o=To(r);if(!o)throw new Io;return new Promise(((t,n)=>{const r=o.store("readonly").get(e.toString());r.transaction.onabort=()=>{n(r.transaction.error)},r.transaction.oncomplete=()=>{if(r.result)return t(r.result);n(new Io)}}))}function To(e){let t=e;for(;t.db||t.child;)if(t=t.db||t.child,"level-js"===t.type||"Level"===t.constructor.name)return t}const Do=a("ipfs:repo:version"),Mo=new ue.Key("version");const No=K.default?K.default:K,jo=new ue.Key("config");var Lo=n(31579);const Bo=new it.s("datastore_spec");const zo=new ue.Key("api");var Fo=n(31730);function Uo(e){const t=p.CID.asCID(e);if(null==t)throw c(new Error("Not a valid cid"),"ERR_INVALID_CID");return t.multihash.code!==T.identity.code?{isIdentity:!1}:{isIdentity:!0,digest:t.multihash.digest}}const $o=a("ipfs:repo:lock:memory"),Wo="repo.lock",qo={};const Ho={lock:async function(e){const t=e+"/"+Wo;if($o("locking %s",t),!0===qo[t])throw new xo(`Lock already being held for file: ${t}`);return qo[t]=!0,{async close(){qo[t]&&delete qo[t]}}},locked:async function(e){const t=e+"/"+Wo;return $o(`checking lock: ${t}`),Boolean(qo[t])}},Ko={autoMigrate:!0,onMigrationProgress:()=>{},repoOwner:!0,repoLock:Ho},Go={Spec:{type:"mount",mounts:[{mountpoint:"/blocks",type:"measure",prefix:"flatfs.datastore",child:{type:"flatfs",path:"blocks",sync:!0,shardFunc:"/repo/flatfs/shard/v1/next-to-last/2"}},{mountpoint:"/",type:"measure",prefix:"leveldb.datastore",child:{type:"levelds",path:"datastore",compression:"none"}}]}};function Vo(e){const t=v.k0.asCID(e);if(null==t)throw c(new Error("Not a valid cid"),"ERR_INVALID_CID");const n=me.base32.encode(t.multihash.bytes);return new ue.Key("/"+n.slice(1).toUpperCase(),!1)}function Xo(e){return ye.decode(me.base32.decode(`b${e.toString().toLowerCase().substring(1)}`))}const Yo=a("ipfs:repo:utils:walk-dag");async function*Zo(e,t,n,r){try{const o=await t.get(e,r),i=await n(e.code),s=Bn({bytes:o,cid:e,codec:i});for(const[,e]of s.links())yield e,yield*Zo(e,t,n,r)}catch(o){throw Yo("Could not walk DAG for CID",e.toString(),o),o}}class Jo{constructor(e){let{pinstore:t,blockstore:n,loadCodec:r}=e;this.pinstore=t,this.blockstore=n,this.loadCodec=r,this.log=a("ipfs:repo:pin"),this.directPins=new Set,this.recursivePins=new Set}async pinDirectly(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await this.blockstore.get(e,t);const n={depth:0};return 0!==e.version&&(n.version=e.version),e.code!==u.code&&(n.codec=e.code),t.metadata&&(n.metadata=t.metadata),this.pinstore.put(Vo(e),d.cv(n))}unpin(e,t){return this.pinstore.delete(Vo(e),t)}async pinRecursively(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await this.fetchCompleteDag(e,t);const n={depth:1/0};0!==e.version&&(n.version=e.version),e.code!==u.code&&(n.codec=e.code),t.metadata&&(n.metadata=t.metadata),await this.pinstore.put(Vo(e),d.cv(n))}async*directKeys(e){for await(const t of this.pinstore.query({filters:[e=>0===d.Jx(e.value).depth]})){const e=d.Jx(t.value),n=e.version||0,r=null!=e.codec?e.codec:u.code,o=Xo(t.key);yield{cid:p.CID.create(n,r,o),metadata:e.metadata}}}async*recursiveKeys(e){for await(const t of this.pinstore.query({filters:[e=>d.Jx(e.value).depth===1/0]})){const e=d.Jx(t.value),n=e.version||0,r=null!=e.codec?e.codec:u.code,o=Xo(t.key);yield{cid:p.CID.create(n,r,o),metadata:e.metadata}}}async*indirectKeys(e){for await(const{cid:t}of this.recursiveKeys())for await(const n of Zo(t,this.blockstore,this.loadCodec,e)){const e=[ae.recursive];(await this.isPinnedWithType(n,e)).pinned||(yield n)}}async isPinnedWithType(e,t,n){Array.isArray(t)||(t=[t]);const r=t.includes(ae.all),o=t.includes(ae.direct),i=t.includes(ae.recursive),s=t.includes(ae.indirect);if(i||o||r){const n=await pr(this.pinstore.query({prefix:Vo(e).toString(),filters:[e=>{if(r)return!0;const n=d.Jx(e.value);return t.includes(0===n.depth?ae.direct:ae.recursive)}],limit:1}));if(n){const t=d.Jx(n.value);return{cid:e,pinned:!0,reason:0===t.depth?ae.direct:ae.recursive,metadata:t.metadata}}}const a=this;if(r||s){const t=await pr(async function*(e,t){for await(const{cid:n}of t)for await(const t of Zo(n,a.blockstore,a.loadCodec))if(t.equals(e))return void(yield n)}(e,this.recursiveKeys()));if(t)return{cid:e,pinned:!0,reason:ae.indirect,parent:t}}return{cid:e,pinned:!1}}async fetchCompleteDag(e,t){const n=new Set,r=async(e,t)=>{if(n.has(e.toString()))return;n.add(e.toString());const o=await this.blockstore.get(e,t),i=await this.loadCodec(e.code),s=Bn({bytes:o,cid:e,codec:i});await Promise.all([...s.links()].map((e=>{let[,n]=e;return r(n,t)})))};await r(e,t)}static checkPinType(e){if("string"!==typeof e||!Object.keys(ae).includes(e))throw function(e){return c(new Error(`Invalid type '${e}', must be one of {direct, indirect, recursive, all}`),"ERR_INVALID_PIN_TYPE")}(e);return!0}}async function Qo(e,t){const{pinned:n,reason:r}=await t.isPinnedWithType(e,ae.all);if(n)throw c(new Error(`pinned: ${r}`),"ERR_BLOCK_PINNED")}var ei=n(26494),ti=n(88411),ni=n(92393);const ri=a("ipfs:repo:gc"),oi=(0,de.notFoundError)().code,ii=new ue.Key("/local/filesroot");function si(e){let{gcLock:t,pins:n,blockstore:r,root:o,loadCodec:i}=e;return async function*(){const e=Date.now();ri("Creating set of marked blocks");const s=await t.writeLock();try{const t=await async function(e){let{pins:t,blockstore:n,loadCodec:r,root:o}=e;const i=async function*(){let e;try{e=await o.get(ii)}catch(i){if(i.code===oi)return void ri("No blocks in MFS");throw i}const t=p.CID.decode(e);yield t,yield*Zo(t,n,r)}(),s=ni(Jt(t.recursiveKeys(),(e=>{let{cid:t}=e;return t})),t.indirectKeys(),Jt(t.directKeys(),(e=>{let{cid:t}=e;return t})),i),a=new Set;for await(const c of ni(s,i))a.add(me.base32.encode(c.multihash.bytes));return a}({pins:n,blockstore:r,root:o,loadCodec:i}),a=r.queryKeys({});yield*async function*(e,t,n){let{blockstore:r}=e,o=0,i=0;const s=async e=>async function(){o++;try{const o=me.base32.encode(e.multihash.bytes);if(t.has(o))return null;try{await r.delete(e),i++}catch(n){return{err:new Error(`Could not delete block with CID ${e}: ${n.message}`)}}return{cid:e}}catch(n){const t=`Could delete block with CID ${e}`;return ri(t,n),{err:new Error(t+`: ${n.message}`)}}};yield*(0,en.pipe)(ti(Jt(n,s),256),(e=>Qt(e,Boolean))),ri(`Marked set has ${t.size} unique blocks. Blockstore has ${o} blocks. Deleted ${i} blocks.`)}({blockstore:r},t,a),ri(`Complete (${Date.now()-e}ms)`)}finally{s()}}}const ai=a("ipfs:repo"),ci=Number.MAX_SAFE_INTEGER;class li{constructor(e,t,n,r){if("string"!==typeof e)throw new Error("missing repo path");if("function"!==typeof t)throw new Error("missing codec loader");this.options=(0,i.Z)(Ko,r),this.closed=!0,this.path=e,this.root=n.root,this.datastore=n.datastore,this.keys=n.keys;const o=n.blocks,s=n.pins;this.pins=new Jo({pinstore:s,blockstore:o,loadCodec:t});const a=(l=this.pins,u=o,{open:()=>u.open(),close:()=>u.close(),query:(e,t)=>u.query(e,t),queryKeys:(e,t)=>u.queryKeys(e,t),get:async(e,t)=>u.get(e,t),async*getMany(e,t){yield*u.getMany(e,t)},async put(e,t,n){await u.put(e,t,n)},async*putMany(e,t){yield*u.putMany(e,t)},has:(e,t)=>u.has(e,t),delete:async(e,t)=>(await Qo(e,l),u.delete(e,t)),deleteMany:(e,t)=>u.deleteMany(Jt(e,(async e=>(await Qo(e,l),e))),t),batch:()=>u.batch()});var l,u;this.blocks=function(e){return{open:()=>e.open(),close:()=>e.close(),query:(t,n)=>e.query(t,n),queryKeys:(t,n)=>e.queryKeys(t,n),async get(t,n){const r=Uo(t);return r.isIdentity?Promise.resolve(r.digest):e.get(t,n)},async*getMany(e,t){for await(const n of e)yield this.get(n,t)},async put(t,n,r){const{isIdentity:o}=Uo(t);o||await e.put(t,n,r)},async*putMany(t,n){const r=Fo();(globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.setImmediate||globalThis.setTimeout)((async()=>{try{await mt(e.putMany(async function*(){for await(const{key:e,value:n}of t)Uo(e).isIdentity||(yield{key:e,value:n}),r.push({key:e,value:n})}())),r.end()}catch(n){r.end(n)}})),yield*r},has(t,n){const{isIdentity:r}=Uo(t);return r?Promise.resolve(!0):e.has(t,n)},delete(t,n){const{isIdentity:r}=Uo(t);return r?Promise.resolve():e.delete(t,n)},deleteMany:(t,n)=>e.deleteMany(Qt(t,(e=>!Uo(e).isIdentity)),n),batch(){const t=e.batch();return{put(e,n){const{isIdentity:r}=Uo(e);r||t.put(e,n)},delete(e){const{isIdentity:n}=Uo(e);n||t.delete(e)},commit:e=>t.commit(e)}}}}(a),this.version=function(e){return{exists:async()=>Ro(Mo,e.has.bind(e),e),async get(){const t=await Oo(Mo,e.get.bind(e),e.has.bind(e),e);return parseInt((0,pe.toString)(t),10)},set:t=>e.put(Mo,(0,$.fromString)(String(t))),async check(e){const t=await this.get();return Do("comparing version: %s and %s",t,e),t===e||6===t&&7===e||6===e&&7===t}}}(this.root),this.config=function(e){const t=new No({concurrency:1}),n={async getAll(){const t=await Oo(jo,e.get.bind(e),e.has.bind(e),e);return JSON.parse((0,pe.toString)(t))},async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(null==e)throw new Io(`Key ${e} does not exist in config`);const n=await this.getAll(t),r=lo(n,e);if(void 0===r)throw new Io(`Key ${e} does not exist in config`);return r},set(e,n){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!==typeof e&&!(e instanceof String))throw c(new Error("Invalid key type: "+typeof e),"ERR_INVALID_KEY");if(void 0===n||n instanceof Uint8Array)throw c(new Error("Invalid value type: "+typeof n),"ERR_INVALID_VALUE");return t.add((()=>r({key:e,value:n},o.signal)))},replace(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||e instanceof Uint8Array)throw c(new Error("Invalid value type: "+typeof e),"ERR_INVALID_VALUE");return t.add((()=>r({key:void 0,value:e},n.signal)))},exists:async()=>Ro(jo,e.has.bind(e),e)};return n;async function r(e,t){if(t&&t.aborted)return;const r=e.key,i=e.value;if(r){const e=await n.getAll();return"object"===typeof e&&null!==e&&Rn(e,r,i),o(e)}return o(i)}function o(t){const n=(0,$.fromString)(JSON.stringify(t,null,2));return e.put(jo,n)}}(this.root),this.spec=function(e){return{exists:()=>e.has(Bo),async get(){const t=await e.get(Bo);return JSON.parse((0,pe.toString)(t))},set:async t=>e.put(Bo,(0,$.fromString)(JSON.stringify(Lo(t,{deep:!0}))))}}(this.root),this.apiAddr=function(e){return{async get(){const t=await e.get(zo);return t&&t.toString()},set:t=>e.put(zo,(0,$.fromString)(t.toString())),delete:()=>e.delete(zo)}}(this.root),this.gcLock=ei(e,{singleProcess:!1!==this.options.repoOwner}),this.gc=si({gcLock:this.gcLock,pins:this.pins,blockstore:this.blocks,root:this.root,loadCodec:t})}async init(e){var t;ai("initializing at: %s",this.path),await this._openRoot(),await this.config.replace((t=e,t.Datastore=Object.assign({},Go,lo(t,"datastore")),t)),await this.spec.set(function(e){const t={...Go.Spec,...lo(e,"Datastore.Spec")};return{type:t.type,mounts:t.mounts.map((e=>({mountpoint:e.mountpoint,type:e.child.type,path:e.child.path,shardFunc:e.child.shardFunc})))}}(e)),await this.version.set(io._)}async isInitialized(){if(!this.closed)return!0;try{return await this._openRoot(),await this._checkInitialized(),await this.root.close(),!0}catch(e){return!1}}async open(){if(!this.closed)throw c(new Error("repo is already open"),"ERR_REPO_ALREADY_OPEN");ai("opening at: %s",this.path);try{await this._openRoot(),await this._checkInitialized(),this._lockfile=await this._openLock(),ai("acquired repo.lock");if(!await this.version.check(io._)){if(!await this._isAutoMigrationEnabled())throw new Ao("Incompatible repo versions. Automatic migrations disabled. Please migrate the repo manually.");await this._migrate(io._,{root:this.root,datastore:this.datastore,pins:this.pins.pinstore,blocks:this.pins.blockstore,keys:this.keys})}ai("creating datastore"),await this.datastore.open(),ai("creating blocks"),await this.blocks.open(),ai("creating keystore"),await this.keys.open(),ai("creating pins"),await this.pins.pinstore.open(),this.closed=!1,ai("all opened")}catch(e){if(this._lockfile)try{await this._closeLock(),this._lockfile=null}catch(t){ai("error removing lock",t)}throw e}}async _openRoot(){try{await this.root.open()}catch(e){if("Already open"!==e.message)throw e}}async _openLock(){const e=await this.options.repoLock.lock(this.path);if("function"!==typeof e.close)throw c(new Error("Locks must have a close method"),"ERR_NO_CLOSE_FUNCTION");return e}_closeLock(){return this._lockfile&&this._lockfile.close()}async _checkInitialized(){let e;ai("init check");try{[e]=await Promise.all([this.config.exists(),this.spec.exists(),this.version.exists()])}catch(t){if("ERR_NOT_FOUND"===t.code)throw c(new Error("repo is not initialized yet"),Po,{path:this.path});throw t}if(!e)throw c(new Error("repo is not initialized yet"),Po,{path:this.path})}async close(){if(this.closed)throw c(new Error("repo is already closed"),"ERR_REPO_ALREADY_CLOSED");ai("closing at: %s",this.path);try{await this.apiAddr.delete()}catch(e){if(e.code!==Po&&!e.message.startsWith("ENOENT"))throw e}await Promise.all([this.root,this.blocks,this.keys,this.datastore,this.pins.pinstore].map((e=>e&&e.close()))),ai("unlocking"),this.closed=!0,await this._closeLock()}exists(){return this.version.exists()}async stat(){if(this.datastore&&this.keys){const[e,t,n,r,o]=await Promise.all([this._storageMaxStat(),this._blockStat(),this.version.get(),ui(this.datastore),ui(this.keys)]),i=t.size+r+o;return{repoPath:this.path,storageMax:e,version:n,numObjects:t.count,repoSize:i}}throw c(new Error("repo is not initialized yet"),Po,{path:this.path})}async _isAutoMigrationEnabled(){if(void 0!==this.options.autoMigrate)return this.options.autoMigrate;let e;try{e=await this.config.get("repoAutoMigrate")}catch(t){if(t.code!==Io.code)throw t;e=!0}return e}async _migrate(e,t){return await this.version.get()>e?(ai(`reverting to version ${e}`),async function(e,t,n,r,o){let{ignoreLock:i=!1,onProgress:s,isDryRun:a=!1,migrations:c}=o;if(c=c||mo,!e)throw new So.RequiredParameterError("Path argument is required!");if(!n)throw new So.RequiredParameterError("repoOptions argument is required!");if(!r)throw new So.RequiredParameterError("When reverting migrations, you have to specify to which version to revert!");if(!Number.isInteger(r)||r<=0)throw new So.InvalidValueError("Version has to be positive integer!");t=(0,wo.pf)(t);const l=await bo.b(t);if(l===r)return void ko("Nothing to revert.");if(l<r)throw new So.InvalidValueError(`Current repo's version (${l}) is lower then toVersion (${r}), you probably wanted to migrate it?`);let u;Eo(c,r,l,!0),a||i||(u=await n.repoLock.lock(e)),ko(`Reverting from version ${l} to ${r}`);try{const e=c.slice().reverse();for(const n of e){if(n.version<=r)break;if(!(n.version>l)){ko(`Reverting migration version ${n.version}`);try{if(!a){let e=()=>{};s&&(e=(e,t)=>s(n.version,e.toFixed(2),t)),await n.revert(t,e)}}catch(d){const e=n.version;throw ko(`An exception was raised during execution of migration. Setting the repo's version to last successfully reverted version: ${e}`),await bo.x(e,t),d.message=`During reversion to version ${n.version} exception was raised: ${d.message}`,d}ko(`Reverting to version ${n.version} finished`)}}a||await bo.x(r,t),ko(`All migrations successfully reverted to version ${r}!`)}finally{a||i||!u||await u.close()}}(this.path,t,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress})):(ai(`migrating to version ${e}`),_o(this.path,t,this.options,e,{ignoreLock:!0,onProgress:this.options.onMigrationProgress}))}async _storageMaxStat(){try{const e=await this.config.get("Datastore.StorageMax");return BigInt(Co(e))}catch(e){return BigInt(ci)}}async _blockStat(){let e=BigInt(0),t=BigInt(0);if(this.blocks)for await(const{key:n,value:r}of this.blocks.query({}))e+=BigInt(1),t+=BigInt(r.byteLength),t+=BigInt(n.bytes.byteLength);return{count:e,size:t}}}async function ui(e){let t=BigInt(0);for await(const n of e.query({}))t+=BigInt(n.value.byteLength),t+=BigInt(n.key.uint8Array().byteLength);return t}var di=n(62550),pi=n(91703),hi=n(77420);class fi extends st.BaseDatastore{constructor(e,t){super(),this.path=e,this.opts=t,t&&t.db?(this.database=t.db,delete t.db):this.database=hi}_initDb(){return new Promise(((e,t)=>{this.db=this.database(this.path,{...this.opts,valueEncoding:"binary",compression:!1},(n=>{if(n)return t(n);e(this.db)}))}))}async open(){try{this.db?await this.db.open():this.db=await this._initDb()}catch(e){throw st.Errors.dbOpenFailedError(e)}}async put(e,t){try{await this.db.put(e.toString(),t)}catch(n){throw st.Errors.dbWriteFailedError(n)}}async get(e){let t;try{t=await this.db.get(e.toString())}catch(n){if(n.notFound)throw st.Errors.notFoundError(n);throw st.Errors.dbWriteFailedError(n)}return t}async has(e){try{await this.db.get(e.toString())}catch(t){if(t.notFound)return!1;throw t}return!0}async delete(e){try{await this.db.del(e.toString())}catch(t){throw st.Errors.dbDeleteFailedError(t)}}close(){return this.db&&this.db.close()}batch(){const e=[];return{put:(t,n)=>{e.push({type:"put",key:t.toString(),value:n})},delete:t=>{e.push({type:"del",key:t.toString()})},commit:()=>this.db.batch(e)}}query(e){let t=this._query({values:!0,prefix:e.prefix});Array.isArray(e.filters)&&(t=e.filters.reduce(((e,t)=>Qt(e,t)),t)),Array.isArray(e.orders)&&(t=e.orders.reduce(((e,t)=>pi(e,t)),t));const{offset:n,limit:r}=e;if(n){let e=0;t=Qt(t,(()=>e++>=n))}return r&&(t=di(t,r)),t}queryKeys(e){let t=Jt(this._query({values:!1,prefix:e.prefix}),(e=>{let{key:t}=e;return t}));Array.isArray(e.filters)&&(t=e.filters.reduce(((e,t)=>Qt(e,t)),t)),Array.isArray(e.orders)&&(t=e.orders.reduce(((e,t)=>pi(e,t)),t));const{offset:n,limit:r}=e;if(n){let e=0;t=Qt(t,(()=>e++>=n))}return r&&(t=di(t,r)),t}_query(e){const t={keys:!0,keyAsBuffer:!0,values:e.values};if(null!=e.prefix){const n=e.prefix.toString();t.gte=n,t.lt=n+"\xff"}return n=this.db.iterator(t),{[Symbol.asyncIterator]:()=>({next:()=>new Promise(((e,t)=>{n.next(((r,o,i)=>r?t(r):null==o?n.end((n=>{if(n)return t(n);e({done:!0,value:void 0})})):void e({done:!1,value:{key:new it.s(o,!1),value:i}})))})),return:()=>new Promise(((e,t)=>{n.end((n=>{if(n)return t(n);e({done:!0,value:void 0})}))}))})};var n}}var gi=n(8511);function yi(e){const t=p.CID.asCID(e);if(!t)throw c(new Error("Not a valid cid"),"ERR_INVALID_CID");return new ue.Key("/"+me.base32.encode(t.multihash.bytes).slice(1).toUpperCase(),!1)}function mi(e){return p.CID.createV1(sr.code,ye.decode(me.base32.decode("b"+e.toString().slice(1).toLowerCase())))}function bi(e){const t=e.substring(0,1);if("/"===t)return bi(e.substring(1));let n,r;n="b"===t.toLowerCase()?e=>me.base32.decode(e.toLowerCase()).subarray(2):"c"===t.toLowerCase()?e=>me.base32pad.decode(e.toLowerCase()).subarray(2):"z"===t?e=>ot.base58btc.decode(e).subarray(2):"Q"===t?e=>ot.base58btc.decode("z"+e):e=>me.base32.decode("b"+e.toLowerCase()).subarray(2);for(let s=1;s<e.length;s++)try{r=n(e.substring(0,s))}catch(i){if("Unexpected end of data"!==i.message)throw i}let o="/C";return r&&(o=`/${me.base32.encode(r).slice(1,-1).toUpperCase()||"C"}`),o}class vi extends gi.E{constructor(e){super(),this.child=e}open(){return this.child.open()}close(){return this.child.close()}async*query(e,t){for await(const{key:n,value:r}of this.child.query(function(e){return{...e,prefix:e.prefix?bi(e.prefix):void 0,filters:e.filters?e.filters.map((e=>t=>e({key:mi(t.key),value:t.value}))):void 0,orders:e.orders?e.orders.map((e=>(t,n)=>e({key:mi(t.key),value:t.value},{key:mi(n.key),value:n.value}))):void 0}}(e),t))yield{key:mi(n),value:r}}async*queryKeys(e,t){for await(const n of this.child.queryKeys(function(e){return{...e,prefix:e.prefix?bi(e.prefix):void 0,filters:e.filters?e.filters.map((e=>t=>e(mi(t)))):void 0,orders:e.orders?e.orders.map((e=>(t,n)=>e(mi(t),mi(n)))):void 0}}(e),t))yield mi(n)}async get(e,t){return this.child.get(yi(e),t)}async*getMany(e,t){for await(const n of e)yield this.get(n,t)}async put(e,t,n){await this.child.put(yi(e),t,n)}async*putMany(e,t){const n=Fo();(globalThis.process&&globalThis.process.nextTick?globalThis.process.nextTick:globalThis.setImmediate||globalThis.setTimeout)((async()=>{try{const r=this.child;await mt(this.child.putMany(async function*(){for await(const o of e){const e=yi(o.key);await r.has(e,t)||(yield{key:e,value:o.value}),n.push(o)}}())),n.end()}catch(r){n.end(r)}})),yield*n}has(e,t){return this.child.has(yi(e),t)}delete(e,t){return this.child.delete(yi(e),t)}deleteMany(e,t){const n=Fo();return mt(this.child.deleteMany(async function*(){for await(const t of e)yield yi(t),n.push(t);n.end()}(),t)).catch((e=>{n.end(e)})),n}}function wi(e,t,n){const r=n.path||"ipfs";return function(e,t,n,r){return new li(e,t,n,r)}(r,(e=>t.getCodec(e)),{root:new fi(r,{prefix:"",version:2}),blocks:new vi(new fi(`${r}/blocks`,{prefix:"",version:2})),datastore:new fi(`${r}/datastore`,{prefix:"",version:2}),keys:new fi(`${r}/keys`,{prefix:"",version:2}),pins:new fi(`${r}/pins`,{prefix:"",version:2})},{autoMigrate:n.autoMigrate,onMigrationProgress:n.onMigrationProgress||e,repoLock:Ho})}var ki=n(97153);const _i={gossipsub:ki};var Ei=n(55585),Si=n(8711),Ci=n(48140),xi=n(80425),Ii=n(73790),Ai=n(70732),Pi=n(39541);const Ri=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await(await e.post("bitswap/wantlist",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers})).json();return(n.Keys||[]).map((e=>p.CID.parse(e["/"])))})),Oi=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await(await e.post("bitswap/wantlist",{signal:n.signal,searchParams:(0,Pi.X)({...n,peer:t.toString()}),headers:n.headers})).json();return(r.Keys||[]).map((e=>p.CID.parse(e["/"])))})),Ti=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("bitswap/stat",{searchParams:(0,Pi.X)(t),signal:t.signal,headers:t.headers});return Di(await n.json())}));function Di(e){return{provideBufLen:e.ProvideBufLen,wantlist:(e.Wantlist||[]).map((e=>p.CID.parse(e["/"]))),peers:e.Peers||[],blocksReceived:BigInt(e.BlocksReceived),dataReceived:BigInt(e.DataReceived),blocksSent:BigInt(e.BlocksSent),dataSent:BigInt(e.DataSent),dupBlksReceived:BigInt(e.DupBlksReceived),dupDataReceived:BigInt(e.DupDataReceived)}}const Mi=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("bitswap/unwant",{signal:n.signal,searchParams:(0,Pi.X)({arg:t.toString(),...n}),headers:n.headers});return r.json()}));function Ni(e){return{wantlist:Ri(e),wantlistForPeer:Oi(e),unwant:Mi(e),stat:Ti(e)}}const ji=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("block/get",{signal:n.signal,searchParams:(0,Pi.X)({arg:t.toString(),...n}),headers:n.headers});return new Uint8Array(await r.arrayBuffer())}));var Li=n(6555),Bi=n(71696);async function zi(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=[],o=new FormData;let i=0,s=0;for await(const{content:a,path:c,mode:l,mtime:u}of(0,Li.f)(e)){let e="";i>0&&(e=`-${i}`);let t=(a?"file":"dir")+e;const n=[];if(null!==l&&void 0!==l&&n.push(`mode=${(0,Bi.Q)(l)}`),null!=u){const{secs:e,nsecs:t}=u;n.push(`mtime=${e}`),null!=t&&n.push(`mtime-nsecs=${t}`)}if(n.length&&(t=`${t}?${n.join("&")}`),a){o.set(t,a,null!=c?encodeURIComponent(c):void 0);const e=s+a.size;r.push({name:c,start:s,end:e}),s=e}else{if(null==c)throw new Error("path or content or both must be set");o.set(t,new File([""],encodeURIComponent(c),{type:"application/x-directory"}))}i++}return{total:s,parts:r,headers:n,body:o}}function Fi(e){return e.filter(Boolean)}function Ui(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,Nt.anySignal)(Fi(t))}const $i=(0,Ai.j)((e=>async function t(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=new AbortController,i=Ui(o.signal,r.signal);let s;try{const t=await e.post("block/put",{signal:i,searchParams:(0,Pi.X)(r),...await zi([n],o,r.headers)});s=await t.json()}catch(a){if("dag-pb"===r.format)return t(n,{...r,format:"protobuf"});if("dag-cbor"===r.format)return t(n,{...r,format:"cbor"});throw a}return p.CID.parse(s.Key)})),Wi=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(t)||(t=[t]);const r=await e.post("block/rm",{signal:n.signal,searchParams:(0,Pi.X)({arg:t.map((e=>e.toString())),"stream-channels":!0,...n}),headers:n.headers});for await(const e of r.ndjson())yield qi(e)}));function qi(e){const t={cid:p.CID.parse(e.Hash)};return e.Error&&(t.error=new Error(e.Error)),t}const Hi=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("block/stat",{signal:n.signal,searchParams:(0,Pi.X)({arg:t.toString(),...n}),headers:n.headers}),o=await r.json();return{cid:p.CID.parse(o.Key),size:o.Size}}));function Ki(e){return{get:ji(e),put:$i(e),rm:Wi(e),stat:Hi(e)}}const Gi=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("bootstrap/add",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),{Peers:o}=await r.json();return{Peers:o.map((e=>new Vt.Multiaddr(e)))}})),Vi=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("bootstrap/rm",{signal:t.signal,searchParams:(0,Pi.X)({...t,all:!0}),headers:t.headers}),{Peers:r}=await n.json();return{Peers:r.map((e=>new Vt.Multiaddr(e)))}})),Xi=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("bootstrap/list",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers}),{Peers:r}=await n.json();return{Peers:r.map((e=>new Vt.Multiaddr(e)))}})),Yi=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("bootstrap/add",{signal:t.signal,searchParams:(0,Pi.X)({...t,default:!0}),headers:t.headers}),{Peers:r}=await n.json();return{Peers:r.map((e=>new Vt.Multiaddr(e)))}})),Zi=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("bootstrap/rm",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),{Peers:o}=await r.json();return{Peers:o.map((e=>new Vt.Multiaddr(e)))}}));function Ji(e){return{add:Gi(e),clear:Vi(e),list:Xi(e),reset:Yi(e),rm:Zi(e)}}const Qi=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("config/profile/apply",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),o=await r.json();return{original:o.OldCfg,updated:o.NewCfg}}));var es=n(92670);const ts=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("config/profile/list",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers}),r=await n.json();return r.map((e=>(0,es.C)(e)))}));function ns(e){return{apply:Qi(e),list:ts(e)}}const rs=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("key argument is required");const r=await e.post("config",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),o=await r.json();return o.Value})),os=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("config/show",{signal:t.signal,searchParams:(0,Pi.X)({...t}),headers:t.headers}),r=await n.json();return r})),is=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new AbortController,o=Ui(r.signal,n.signal),i=await e.post("config/replace",{signal:o,searchParams:(0,Pi.X)(n),...await zi([(0,$.fromString)(JSON.stringify(t))],r,n.headers)});await i.text()})),ss=(0,Ai.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!==typeof t)throw new Error("Invalid key type");const o={...r,...as(t,n)},i=await e.post("config",{signal:r.signal,searchParams:(0,Pi.X)(o),headers:r.headers});await i.text()})),as=(e,t)=>{switch(typeof t){case"boolean":return{arg:[e,t.toString()],bool:!0};case"string":return{arg:[e,t]};default:return{arg:[e,JSON.stringify(t)],json:!0}}};function cs(e){return{getAll:os(e),get:rs(e),set:ss(e),replace:is(e),profiles:ns(e)}}const ls=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dag/export",{signal:n.signal,searchParams:(0,Pi.X)({arg:t.toString()}),headers:n.headers});yield*r.iterator()}));async function*us(e,t,n,r,o){const i=async e=>{const t=await n.getCodec(e.code),i=await r(e,o);return t.decode(i)},s=t.split("/").filter(Boolean);let a=await i(e),l=e;for(;s.length;){const e=s.shift();if(!e)throw c(new Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(!Object.prototype.hasOwnProperty.call(a,e))throw c(new Error(`no link named "${e}" under ${l}`),"ERR_NO_LINK");a=a[e],yield{value:a,remainderPath:s.join("/")};const n=p.CID.asCID(a);n&&(l=n,a=await i(a))}yield{value:a,remainderPath:""}}const ds=(e,t)=>{const n=(0,Ai.j)(((t,n)=>{const r=ji(n);return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.path){const o=n.localResolve?await pr(us(t,n.path,e,r,n)):await oe(us(t,n.path,e,r,n));if(!o)throw c(new Error("Not found"),"ERR_NOT_FOUND");return o}const o=await e.getCodec(t.code),i=await r(t,n),s=o.decode(i);return{value:s,remainderPath:""}}}));return n(t)},ps=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new AbortController,o=Ui(r.signal,n.signal),{headers:i,body:s}=await zi(t,r,n.headers),a=await e.post("dag/import",{signal:o,headers:i,body:s,searchParams:(0,Pi.X)({"pin-roots":n.pinRoots})});for await(const{Root:e}of a.ndjson())if(void 0!==e){const{Cid:{"/":t},PinErrorMsg:n}=e;yield{root:{cid:p.CID.parse(t),pinErrorMsg:n}}}})),hs=(e,t)=>{const n=(0,Ai.j)((t=>async function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o={storeCodec:"dag-cbor",hashAlg:"sha2-256",...r};let i;if(o.inputCodec){if(!(n instanceof Uint8Array))throw new Error("Can only inputCodec on raw bytes that can be decoded");i=n}else{i=(await e.getCodec(o.storeCodec)).encode(n),o.inputCodec=o.storeCodec}const s=new AbortController,a=Ui(s.signal,o.signal),c=await t.post("dag/put",{timeout:o.timeout,signal:a,searchParams:(0,Pi.X)(o),...await zi([i],s,o.headers)}),l=await c.json();return p.CID.parse(l.Cid["/"])}));return n(t)},fs=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dag/resolve",{signal:n.signal,searchParams:(0,Pi.X)({arg:`${t}${n.path?`/${n.path}`.replace(/\/[/]+/g,"/"):""}`,...n}),headers:n.headers}),o=await r.json();return{cid:p.CID.parse(o.Cid["/"]),remainderPath:o.RemPath}}));function gs(e,t){return{export:ls(t),get:ds(e,t),import:ps(t),put:hs(e,t),resolve:fs(t)}}var ys=n(43592);const ms=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dht/findpeer",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers});for await(const e of r.ndjson())yield(0,ys.A)(e)})),bs=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dht/findprovs",{signal:n.signal,searchParams:(0,Pi.X)({arg:t.toString(),...n}),headers:n.headers});for await(const e of r.ndjson())yield(0,ys.A)(e)})),vs=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dht/get",{signal:n.signal,searchParams:(0,Pi.X)({arg:t instanceof Uint8Array?(0,pe.toString)(t):t.toString(),...n}),headers:n.headers});for await(const e of r.ndjson())yield(0,ys.A)(e)})),ws=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{recursive:!1};const r=Array.isArray(t)?t:[t],o=await e.post("dht/provide",{signal:n.signal,searchParams:(0,Pi.X)({arg:r.map((e=>e.toString())),...n}),headers:n.headers});for await(const e of o.ndjson())yield(0,ys.A)(e)})),ks=(0,Ai.j)((e=>async function*(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new AbortController,i=Ui(o.signal,r.signal),s=await e.post("dht/put",{signal:i,searchParams:(0,Pi.X)({arg:t instanceof Uint8Array?(0,pe.toString)(t):t.toString(),...r}),...await zi([n],o,r.headers)});for await(const e of s.ndjson())yield(0,ys.A)(e)})),_s=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dht/query",{signal:n.signal,searchParams:(0,Pi.X)({arg:t.toString(),...n}),headers:n.headers});for await(const e of r.ndjson())yield(0,ys.A)(e)}));function Es(e){return{findPeer:ms(e),findProvs:bs(e),get:vs(e),provide:ws(e),put:ks(e),query:_s(e)}}const Ss=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("diag/cmds",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers});return n.json()})),Cs=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("diag/net",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers});return n.json()})),xs=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("diag/sys",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers});return n.json()}));function Is(e){return{cmds:Ss(e),net:Cs(e),sys:xs(e)}}const As=(0,Ai.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=await e.post("files/chmod",{signal:r.signal,searchParams:(0,Pi.X)({arg:t,mode:n,...r}),headers:r.headers});await o.text()})),Ps=(0,Ai.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=Array.isArray(t)?t:[t],i=await e.post("files/cp",{signal:r.signal,searchParams:(0,Pi.X)({arg:o.concat(n).map((e=>p.CID.asCID(e)?`/ipfs/${e}`:e)),...r}),headers:r.headers});await i.text()})),Rs=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t||"string"!==typeof t)throw new Error("ipfs.files.flush requires a path");const r=await e.post("files/flush",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),o=await r.json();return p.CID.parse(o.Cid)}));var Os=n(1611);const Ts=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw new Error("ipfs.files.ls requires a path");const r=await e.post("files/ls",{signal:n.signal,searchParams:(0,Pi.X)({arg:p.CID.asCID(t)?`/ipfs/${t}`:t,long:!0,...n,stream:!0}),headers:n.headers});for await(const e of r.ndjson())if("Entries"in e)for(const t of e.Entries||[])yield Ds((0,Os.c)(t));else yield Ds((0,Os.c)(e))}));function Ds(e){return e.hash&&(e.cid=p.CID.parse(e.hash)),delete e.hash,e.type=1===e.type?"directory":"file",e}const Ms=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("files/mkdir",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers});await r.text()})),Ns=(0,Ai.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);const o=await e.post("files/mv",{signal:r.signal,searchParams:(0,Pi.X)({arg:t.concat(n),...r}),headers:r.headers});await o.text()}));var js=n(84001);const Ls=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("files/read",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,count:n.length,...n}),headers:n.headers});yield*js(r.body)})),Bs=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("files/rm",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),o=await r.text();if(""!==o){const e=new G.HTTPError(r);throw e.message=o,e}})),zs=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("files/stat",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),o=await r.json();return o.WithLocality=o.WithLocality||!1,Fs((0,Os.c)(o))}));function Fs(e){return e.cid=p.CID.parse(e.hash),delete e.hash,e}const Us=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("files/touch",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers});await r.text()}));var $s=n(15059),Ws=n(13068);const qs=(0,Ai.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new AbortController,i=Ui(o.signal,r.signal),s=await e.post("files/write",{signal:i,searchParams:(0,Pi.X)({arg:t,streamChannels:!0,count:r.length,...r}),...await zi([{content:n,path:"arg",mode:(0,$s.Q)(r.mode),mtime:(0,Ws.X)(r.mtime)}],o,r.headers)});await s.text()}));function Hs(e){return{chmod:As(e),cp:Ps(e),flush:Rs(e),ls:Ts(e),mkdir:Ms(e),mv:Ns(e),read:Ls(e),rm:Bs(e),stat:zs(e),touch:Us(e),write:qs(e)}}const Ks=(0,Ai.j)((e=>async function(e,t){throw c(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})),Gs=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{type:"rsa",size:2048};const r=await e.post("key/gen",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),o=await r.json();return(0,es.C)(o)})),Vs=(0,Ai.j)((e=>async function(t,n,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=await e.post("key/import",{signal:o.signal,searchParams:(0,Pi.X)({arg:t,pem:n,password:r,...o}),headers:o.headers}),s=await i.json();return(0,es.C)(s)})),Xs=(0,Ai.j)((e=>async function(e){throw c(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})),Ys=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("key/list",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers}),r=await n.json();return(r.Keys||[]).map((e=>(0,es.C)(e)))})),Zs=(0,Ai.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=await e.post("key/rename",{signal:r.signal,searchParams:(0,Pi.X)({arg:[t,n],...r}),headers:r.headers});return(0,es.C)(await o.json())})),Js=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("key/rm",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),o=await r.json();return(0,es.C)(o.Keys[0])}));function Qs(e){return{export:Ks(e),gen:Gs(e),import:Vs(e),info:Xs(e),list:Ys(e),rename:Zs(e),rm:Js(e)}}const ea=(0,Ai.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=await e.post("log/level",{signal:r.signal,searchParams:(0,Pi.X)({arg:[t,n],...r}),headers:r.headers});return(0,es.C)(await o.json())})),ta=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("log/ls",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers}),r=await n.json();return r.Strings})),na=(0,Ai.j)((e=>async function*(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("log/tail",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers});yield*n.ndjson()}));function ra(e){return{level:ea(e),ls:ta(e),tail:na(e)}}const oa=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("name/publish",{signal:n.signal,searchParams:(0,Pi.X)({arg:`${t}`,...n}),headers:n.headers});return(0,es.C)(await r.json())})),ia=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("name/resolve",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,stream:!0,...n}),headers:n.headers});for await(const e of r.ndjson())yield e.Path})),sa=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("name/pubsub/cancel",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers});return(0,es.C)(await r.json())})),aa=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("name/pubsub/state",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers});return(0,es.C)(await n.json())})),ca=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("name/pubsub/subs",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers}),r=await n.json();return r.Strings||[]}));function la(e){return{cancel:sa(e),state:aa(e),subs:ca(e)}}function ua(e){return{publish:oa(e),resolve:ia(e),pubsub:la(e)}}const da=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("object/data",{signal:n.signal,searchParams:(0,Pi.X)({arg:`${t instanceof Uint8Array?p.CID.decode(t):t}`,...n}),headers:n.headers}),o=await r.arrayBuffer();return new Uint8Array(o,0,o.byteLength)})),pa=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("object/get",{signal:n.signal,searchParams:(0,Pi.X)({arg:`${t instanceof Uint8Array?p.CID.decode(t):t}`,dataEncoding:"base64",...n}),headers:n.headers}),o=await r.json();return{Data:(0,$.fromString)(o.Data,"base64pad"),Links:(o.Links||[]).map((e=>({Name:e.Name,Hash:p.CID.parse(e.Hash),Tsize:e.Size})))}})),ha=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("object/links",{signal:n.signal,searchParams:(0,Pi.X)({arg:`${t instanceof Uint8Array?p.CID.decode(t):t}`,...n}),headers:n.headers}),o=await r.json();return(o.Links||[]).map((e=>({Name:e.Name,Tsize:e.Size,Hash:p.CID.parse(e.Hash)})))})),fa=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("object/new",{signal:t.signal,searchParams:(0,Pi.X)({arg:t.template,...t}),headers:t.headers}),{Hash:r}=await n.json();return p.CID.parse(r)})),ga=(e,t)=>{const n=(0,Ai.j)((n=>{const r=hs(e,t);return async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(e,{...t,storeCodec:"dag-pb",hashAlg:"sha2-256",version:1})}}));return n(t)},ya=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("object/stat",{signal:n.signal,searchParams:(0,Pi.X)({arg:`${t}`,...n}),headers:n.headers}),o=await r.json();return{...o,Hash:p.CID.parse(o.Hash)}})),ma=(0,Ai.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=await e.post("object/patch/add-link",{signal:r.signal,searchParams:(0,Pi.X)({arg:[`${t}`,n.Name||n.name||"",(n.Hash||n.cid||"").toString()||null],...r}),headers:r.headers}),{Hash:i}=await o.json();return p.CID.parse(i)})),ba=(0,Ai.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new AbortController,i=Ui(o.signal,r.signal),s=await e.post("object/patch/append-data",{signal:i,searchParams:(0,Pi.X)({arg:`${t}`,...r}),...await zi([n],o,r.headers)}),{Hash:a}=await s.json();return p.CID.parse(a)})),va=(0,Ai.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=await e.post("object/patch/rm-link",{signal:r.signal,searchParams:(0,Pi.X)({arg:[`${t}`,n.Name||n.name||null],...r}),headers:r.headers}),{Hash:i}=await o.json();return p.CID.parse(i)})),wa=(0,Ai.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=new AbortController,i=Ui(o.signal,r.signal),s=await e.post("object/patch/set-data",{signal:i,searchParams:(0,Pi.X)({arg:[`${t}`],...r}),...await zi([n],o,r.headers)}),{Hash:a}=await s.json();return p.CID.parse(a)}));function ka(e){return{addLink:ma(e),appendData:ba(e),rmLink:va(e),setData:wa(e)}}function _a(e,t){return{data:da(t),get:pa(t),links:ha(t),new:fa(t),put:ga(e,t),stat:ya(t),patch:ka(t)}}const Ea=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const{path:r,recursive:o,metadata:i}of ie(t)){const t=await e.post("pin/add",{signal:n.signal,searchParams:(0,Pi.X)({...n,arg:r,recursive:o,metadata:i?JSON.stringify(i):void 0,stream:!0}),headers:n.headers});for await(const e of t.ndjson())if(e.Pins)for(const t of e.Pins)yield p.CID.parse(t);else yield p.CID.parse(e)}}));function Sa(e){const t=Ea(e);return(0,Ai.j)((()=>async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return oe(t([{path:e,...n}],n))}))(e)}function Ca(e,t,n){const r={type:e,cid:p.CID.parse(t)};return n&&(r.metadata=n),r}const xa=(0,Ai.j)((e=>async function*(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=[];t.paths&&(n=Array.isArray(t.paths)?t.paths:[t.paths]);const r=await e.post("pin/ls",{signal:t.signal,searchParams:(0,Pi.X)({...t,arg:n.map((e=>`${e}`)),stream:!0}),headers:t.headers});for await(const e of r.ndjson()){if(e.Keys){for(const t of Object.keys(e.Keys))yield Ca(e.Keys[t].Type,t,e.Keys[t].Metadata);return}yield Ca(e.Type,e.Cid,e.Metadata)}})),Ia=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const{path:r,recursive:o}of ie(t)){const t=new URLSearchParams(n.searchParams);t.append("arg",`${r}`),null!=o&&t.set("recursive",String(o));const i=await e.post("pin/rm",{signal:n.signal,headers:n.headers,searchParams:(0,Pi.X)({...n,arg:`${r}`,recursive:o})});for await(const e of i.ndjson())e.Pins?yield*e.Pins.map((e=>p.CID.parse(e))):yield p.CID.parse(e)}})),Aa=e=>{const t=Ia(e);return(0,Ai.j)((()=>async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return oe(t([{path:e,...n}],n))}))(e)};var Pa=n(44190);const Ra=e=>{let{Name:t,Status:n,Cid:r}=e;return{cid:p.CID.parse(r),name:t,status:n}},Oa=e=>{if("string"===typeof e&&""!==e)return e;throw new TypeError("service name must be passed")},Ta=e=>{if(p.CID.asCID(e))return e.toString();throw new TypeError("CID instance expected instead of "+typeof e)},Da=e=>{let{service:t,cid:n,name:r,status:o,all:i}=e;const s=(0,Pi.X)({service:Oa(t),name:r,force:!!i||void 0});if(n)for(const a of n)s.append("cid",Ta(a));if(o)for(const a of o)s.append("status",a);return s},Ma=e=>{let{cid:t,service:n,background:r,name:o,origins:i}=e;const s=(0,Pi.X)({arg:Ta(t),service:Oa(n),name:o,background:!!r||void 0});if(i)for(const a of i)s.append("origin",a.toString());return s};function Na(e){return async function(t,n){let{timeout:r,signal:o,headers:i,...s}=n;const a=await e.post("pin/remote/add",{timeout:r,signal:o,headers:i,searchParams:Ma({cid:t,...s})});return Ra(await a.json())}}function ja(e){return async function*(t){let{timeout:n,signal:r,headers:o,...i}=t;const s=await e.post("pin/remote/ls",{timeout:n,signal:r,headers:o,searchParams:Da(i)});for await(const e of s.ndjson())yield Ra(e)}}function La(e){return async function(t){let{timeout:n,signal:r,headers:o,...i}=t;await e.post("pin/remote/rm",{timeout:n,signal:r,headers:o,searchParams:Da({...i,all:!1})})}}function Ba(e){return async function(t){let{timeout:n,signal:r,headers:o,...i}=t;await e.post("pin/remote/rm",{timeout:n,signal:r,headers:o,searchParams:Da({...i,all:!0})})}}var za=n(99299);function Fa(e){return async function(t,n){const{endpoint:r,key:o,headers:i,timeout:s,signal:a}=n;await e.post("pin/remote/service/add",{timeout:s,signal:a,searchParams:(0,Pi.X)({arg:[t,(0,za.hm)(r),o]}),headers:i})}}function Ua(e){return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{stat:n,headers:r,timeout:o,signal:i}=t,s=await e.post("pin/remote/service/ls",{timeout:o,signal:i,headers:r,searchParams:!0===n?(0,Pi.X)({stat:n}):void 0}),{RemoteServices:a}=await s.json();return a.map(za.iI)}}function $a(e){return async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};await e.post("pin/remote/service/rm",{signal:n.signal,headers:n.headers,searchParams:(0,Pi.X)({arg:t})})}}function Wa(e){const t=new Pa.KU(e);return{add:Fa(t),ls:Ua(t),rm:$a(t)}}function qa(e){const t=new Pa.KU(e);return{add:Na(t),ls:ja(t),rm:La(t),rmAll:Ba(t),service:Wa(e)}}function Ha(e){return{addAll:Ea(e),add:Sa(e),ls:xa(e),rmAll:Ia(e),rm:Aa(e),remote:qa(e)}}const Ka=e=>Array.isArray(e)?e.map(Ga):e,Ga=e=>(0,pe.toString)(Va(e)),Va=e=>w.base64url.decode(e),Xa=e=>w.base64url.encode((0,$.fromString)(e)),Ya=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{Strings:n}=await(await e.post("pubsub/ls",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers})).json();return Ka(n)||[]})),Za=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("pubsub/peers",{signal:n.signal,searchParams:(0,Pi.X)({arg:Xa(t),...n}),headers:n.headers}),{Strings:o}=await r.json();return o||[]})),Ja=(0,Ai.j)((e=>async function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=(0,Pi.X)({arg:Xa(t),...r}),i=new AbortController,s=Ui(i.signal,r.signal),a=await e.post("pubsub/pub",{signal:s,searchParams:o,...await zi([n],i,r.headers)});await a.text()})),Qa=a("ipfs-http-client:pubsub:subscribe");async function ec(e,t){let{onMessage:n,onEnd:r,onError:o}=t;o=o||Qa;try{for await(const t of e.ndjson())try{if(!t.from)continue;n({from:t.from,data:Va(t.data),seqno:Va(t.seqno),topicIDs:Ka(t.topicIDs)})}catch(i){i.message=`Failed to parse pubsub message: ${i.message}`,o(i,!1,t)}}catch(i){tc(i)||o(i,!0)}finally{r()}}const tc=e=>{switch(e.type){case"aborted":case"abort":return!0;default:return"AbortError"===e.name}};var nc=n(12613),rc=n(21194);function oc(e){const t=new rc.f;return{ls:Ya(e),peers:Za(e),publish:Ja(e),subscribe:(n=e,r=t,(0,Ai.j)((e=>async function(t,n){let o,i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s.signal=r.subscribe(t,n,s.signal);const a=new Promise(((e,t)=>{o=e,i=t})),c=setTimeout((()=>o()),1e3);return e.post("pubsub/sub",{signal:s.signal,searchParams:(0,Pi.X)({arg:Xa(t),...s}),headers:s.headers}).catch((e=>{r.unsubscribe(t,n),i(e)})).then((e=>{clearTimeout(c),e&&(ec(e,{onMessage:n,onEnd:()=>r.unsubscribe(t,n),onError:s.onError}),o())})),a}))(n)),unsubscribe:(0,nc.W)(e,t)};var n,r}var ic=n(7519);const sc=(0,Ai.j)(((e,t)=>Object.assign((async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=Array.isArray(t)?t:[t],o=await e.post("refs",{signal:n.signal,searchParams:(0,Pi.X)({arg:r.map((e=>`${e instanceof Uint8Array?p.CID.decode(e):e}`)),...n}),headers:n.headers,transform:es.C});yield*o.ndjson()}),{local:(0,ic.p)(t)}))),ac=(0,Ai.j)((e=>async function*(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("repo/gc",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers,transform:e=>({err:e.Error?new Error(e.Error):null,cid:(e.Key||{})["/"]?p.CID.parse(e.Key["/"]):null})});yield*n.ndjson()})),cc=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("repo/stat",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers}),r=await n.json();return{numObjects:BigInt(r.NumObjects),repoSize:BigInt(r.RepoSize),repoPath:r.RepoPath,version:r.Version,storageMax:BigInt(r.StorageMax)}})),lc=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await(await e.post("repo/version",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers})).json();return n.Version}));function uc(e){return{gc:ac(e),stat:cc(e),version:lc(e)}}const dc=(0,Ai.j)((e=>async function*(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("stats/bw",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers,transform:e=>({totalIn:BigInt(e.TotalIn),totalOut:BigInt(e.TotalOut),rateIn:parseFloat(e.RateIn),rateOut:parseFloat(e.RateOut)})});yield*n.ndjson()}));function pc(e){return{bitswap:Ti(e),repo:cc(e),bw:dc(e)}}const hc=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("swarm/addrs",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers}),{Addrs:r}=await n.json();return Object.keys(r).map((e=>({id:e,addrs:(r[e]||[]).map((e=>new Vt.Multiaddr(e)))})))})),fc=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("swarm/connect",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),{Strings:o}=await r.json();return o||[]})),gc=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("swarm/disconnect",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),{Strings:o}=await r.json();return o||[]})),yc=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("swarm/addrs/local",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers}),{Strings:r}=await n.json();return(r||[]).map((e=>new Vt.Multiaddr(e)))})),mc=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("swarm/peers",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers}),{Peers:r}=await n.json();return(r||[]).map((e=>({addr:new Vt.Multiaddr(e.Addr),peer:e.Peer,muxer:e.Muxer,latency:e.Latency,streams:e.Streams,direction:null==e.Direction?void 0:0===e.Direction?"inbound":"outbound"})))}));function bc(e){return{addrs:hc(e),connect:fc(e),disconnect:gc(e),localAddrs:yc(e),peers:mc(e)}}const vc=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new AbortController,o=Ui(r.signal,n.signal),{headers:i,body:s,total:a,parts:c}=await zi(t,r,n.headers),[l,u]="function"===typeof n.progress?wc(a,c,n.progress):[void 0,void 0],d=await e.post("add",{searchParams:(0,Pi.X)({"stream-channels":!0,...n,progress:Boolean(l)}),onUploadProgress:u,signal:o,headers:i,body:s});for await(let e of d.ndjson())e=(0,es.C)(e),void 0!==e.hash?yield _c(e):l&&l(e.bytes||0,e.name)})),wc=(e,t,n)=>t?[void 0,kc(e,t,n)]:[n,void 0],kc=(e,t,n)=>{let r=0;const o=t.length;return i=>{let{loaded:s,total:a}=i;const c=Math.floor(s/a*e);for(;r<o;){const{start:e,end:o,name:i}=t[r];if(c<o){n(c-e,i);break}n(o-e,i),r+=1}}};function _c(e){let{name:t,hash:n,size:r,mode:o,mtime:i,mtimeNsecs:s}=e;const a={path:t,cid:p.CID.parse(n),size:parseInt(r)};return null!=o&&(a.mode=parseInt(o,8)),null!=i&&(a.mtime={secs:i,nsecs:s||0}),a}function Ec(e){const t=vc(e);return(0,Ai.j)((()=>async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await oe(t(hn(e),n))}))(e)}const Sc=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("cat",{signal:n.signal,searchParams:(0,Pi.X)({arg:t.toString(),...n}),headers:n.headers});yield*r.iterator()})),Cc=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("commands",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers});return n.json()})),xc=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("dns",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),o=await r.json();return o.Path})),Ic=(0,Ai.j)((e=>()=>{const t=new URL(e.opts.base||"");return{host:t.hostname,port:t.port,protocol:t.protocol,pathname:t.pathname,"api-path":t.pathname}})),Ac=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={arg:`${t instanceof Uint8Array?p.CID.decode(t):t}`,...n};r.compressionLevel&&(r["compression-level"]=r.compressionLevel,delete r.compressionLevel);const o=await e.post("get",{signal:n.signal,searchParams:(0,Pi.X)(r),headers:n.headers});yield*o.iterator()})),Pc=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("id",{signal:t.signal,searchParams:(0,Pi.X)({arg:t.peerId?t.peerId.toString():void 0,...t}),headers:t.headers}),r=await n.json(),o={...(0,es.C)(r)};return o.addresses&&(o.addresses=o.addresses.map((e=>new Vt.Multiaddr(e)))),o})),Rc=e=>{const t=Pc(e);return async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await t(e);return Boolean(n&&n.addresses&&n.addresses.length)}},Oc=(0,Ai.j)(((e,t)=>async function*(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=`${n instanceof Uint8Array?p.CID.decode(n):n}`;async function i(e){let n=e.Hash;if(n.includes("/")){const e=n.startsWith("/ipfs/")?n:`/ipfs/${n}`;n=(await zs(t)(e)).cid}else n=p.CID.parse(n);const r={name:e.Name,path:o+(e.Name?`/${e.Name}`:""),size:e.Size,cid:n,type:Tc(e)};return e.Mode&&(r.mode=parseInt(e.Mode,8)),void 0!==e.Mtime&&null!==e.Mtime&&(r.mtime={secs:e.Mtime},void 0!==e.MtimeNsecs&&null!==e.MtimeNsecs&&(r.mtime.nsecs=e.MtimeNsecs)),r}const s=await e.post("ls",{signal:r.signal,searchParams:(0,Pi.X)({arg:o,...r}),headers:r.headers});for await(let e of s.ndjson()){if(e=e.Objects,!e)throw new Error("expected .Objects in results");if(e=e[0],!e)throw new Error("expected one array in results.Objects");const t=e.Links;if(!Array.isArray(t))throw new Error("expected one array in results.Objects[0].Links");if(!t.length)return void(yield i(e));yield*t.map(i)}}));function Tc(e){switch(e.Type){case 1:case 5:return"dir";default:return"file"}}const Dc=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("dns",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers});return(0,es.C)(await n.json())})),Mc=(0,Ai.j)((e=>async function*(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("ping",{signal:n.signal,searchParams:(0,Pi.X)({arg:`${t}`,...n}),headers:n.headers,transform:es.C});yield*r.ndjson()})),Nc=(0,Ai.j)((e=>async function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await e.post("resolve",{signal:n.signal,searchParams:(0,Pi.X)({arg:t,...n}),headers:n.headers}),{Path:o}=await r.json();return o})),jc=(0,Ai.j)((e=>async function(){throw c(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")})),Lc=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("shutdown",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers});await n.text()})),Bc=(0,Ai.j)((e=>async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=await e.post("version",{signal:t.signal,searchParams:(0,Pi.X)(t),headers:t.headers});return{...(0,es.C)(await n.json()),"ipfs-http-client":"1.0.0"}}));n(42611),n(88910);var zc=n(62162),Fc=n(84856),Uc=n(48402),$c=n(65967),Wc=n(49616);const qc={func:(e,t)=>$e.validate(t,e)};function Hc(e,t){return $e.select(t[0],t[1])}var Kc=n(95067),Gc=n(60403);const Vc=i.Z.bind({ignoreUndefined:!0});function Xc(e){let{options:t={},peerId:n,multiaddrs:i=[],repo:s,keychainConfig:a={},config:l={}}=e;const{datastore:d,keys:p}=s,h=function(e){let{options:t,config:n,datastore:i,keys:s,keychainConfig:a,peerId:l,multiaddrs:d}=e;const p={datastore:i,peerId:l,modules:{}},h={modules:{pubsub:(()=>{const e=rt(n,"Pubsub.Router")||"gossipsub";if(!_i[e])throw c(new Error(`Router unavailable. Configure libp2p.modules.pubsub to use the ${e} router.`),"ERR_NOT_SUPPORTED");return _i[e]})(),contentRouting:[],peerRouting:[]},config:{peerDiscovery:{mdns:{enabled:rt(t,"config.Discovery.MDNS.Enabled",rt(n,"Discovery.MDNS.Enabled",!0))},webRTCStar:{enabled:rt(t,"config.Discovery.webRTCStar.Enabled",rt(n,"Discovery.webRTCStar.Enabled",!0))},bootstrap:{list:rt(t,"config.Bootstrap",rt(n,"Bootstrap",[]))}},relay:{enabled:rt(t,"relay.enabled",rt(n,"relay.enabled",!0)),hop:{enabled:rt(t,"relay.hop.enabled",rt(n,"relay.hop.enabled",!1)),active:rt(t,"relay.hop.active",rt(n,"relay.hop.active",!1))}},dht:{enabled:"none"!==rt(n,"Routing.Type","dhtclient"),clientMode:"dhtserver"!==rt(n,"Routing.Type","dht"),kBucketSize:rt(t,"dht.kBucketSize",20),validators:{ipns:$e}},pubsub:{enabled:rt(t,"config.Pubsub.Enabled",rt(n,"Pubsub.Enabled",!0))},nat:{enabled:!rt(n,"Swarm.DisableNatPortMap",!1)}},addresses:{listen:d.map((e=>e.toString())),announce:rt(t,"addresses.announce",rt(n,"Addresses.Announce",[])),noAnnounce:rt(t,"addresses.noAnnounce",rt(n,"Addresses.NoAnnounce",[]))},connectionManager:rt(t,"connectionManager",{maxConnections:rt(t,"config.Swarm.ConnMgr.HighWater",rt(n,"Swarm.ConnMgr.HighWater")),minConnections:rt(t,"config.Swarm.ConnMgr.LowWater",rt(n,"Swarm.ConnMgr.LowWater"))}),keychain:{datastore:s,...a},host:{agentVersion:`js-ipfs/${In.Pr}`}};let f=rt(t,"libp2p",void 0);"function"===typeof f&&(f=void 0);const g=Vc(p,{dialer:{maxParallelDials:150,maxDialsPerPeer:4,dialTimeout:1e4},modules:{transport:[zc,Fc],streamMuxer:[Uc],connEncryption:[$c.NOISE],peerDiscovery:[],dht:Wc,pubsub:ki},config:{peerDiscovery:{autoDial:!0,bootstrap:{enabled:!0},webRTCStar:{enabled:!0}},dht:{kBucketSize:20,enabled:!0,clientMode:!0,validators:{ipns:qc},selectors:{ipns:Hc}},pubsub:{enabled:!0,emitSelf:!0},nat:{enabled:!1}},metrics:{enabled:!0},peerStore:{persistence:!0}},h,f);rt(g,"config.peerDiscovery.bootstrap.list",[]).length>0&&g.modules.peerDiscovery.push(Kc);const y=rt(t,"config.Addresses.Delegates",rt(n,"Addresses.Delegates",[]));if(y.length>0){const e=y[Math.floor(Math.random()*y.length)],t=new Vt.Multiaddr(e).toOptions(),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={name:T.identity.name,code:T.identity.code,encode:e=>e,decode:e=>e},n=Object.values(D.gh);(e.ipld&&e.ipld.bases?e.ipld.bases:[]).forEach((e=>n.push(e)));const i=new Ci.x({bases:n,loadBase:e.ipld&&e.ipld.loadBase}),s=Object.values(D.QB);[u,r,o,O,t].concat(e.ipld&&e.ipld.codecs||[]).forEach((e=>s.push(e)));const a=new xi.w({codecs:s,loadCodec:e.ipld&&e.ipld.loadCodec}),c=Object.values(D.kq);(e.ipld&&e.ipld.hashers?e.ipld.hashers:[]).forEach((e=>c.push(e)));const l=new Ii.d({hashers:c,loadHasher:e.ipld&&e.ipld.loadHasher});return{add:Ec(e),addAll:vc(e),bitswap:Ni(e),block:Ki(e),bootstrap:Ji(e),cat:Sc(e),commands:Cc(e),config:cs(e),dag:gs(a,e),dht:Es(e),diag:Is(e),dns:xc(e),files:Hs(e),get:Ac(e),getEndpointConfig:Ic(e),id:Pc(e),isOnline:Rc(e),key:Qs(e),log:ra(e),ls:Oc(e),mount:Dc(e),name:ua(e),object:_a(a,e),pin:Ha(e),ping:Mc(e),pubsub:oc(e),refs:sc(e),repo:uc(e),resolve:Nc(e),start:jc(e),stats:pc(e),stop:Lc(e),swarm:bc(e),version:Bc(e),bases:i,codecs:a,hashers:l}}({host:t.host,protocol:443===parseInt(t.port)?"https":"http",port:t.port});h.modules.contentRouting=h.modules.contentRouting||[],h.modules.contentRouting.push(new Si(l,n)),h.modules.peerRouting=h.modules.peerRouting||[],h.modules.peerRouting.push(new Ei(n))}return g}({options:t,config:l,datastore:d,keys:p,keychainConfig:a,peerId:n,multiaddrs:i});return"function"===typeof t.libp2p?t.libp2p({libp2pOptions:h,options:t,config:l,datastore:d,peerId:n}):Gc.create(h)}const Yc=i.Z.bind({ignoreUndefined:!0}),Zc=a("ipfs:components:peer:storage");class Jc{constructor(e,t,n,r,o){this.print=r,this.peerId=e,this.keychain=t,this.repo=n,this.print=r,this.isNew=o}static async start(e,t,n){const{repoAutoMigrate:r,repo:o,onMigrationProgress:i}=n,s="string"===typeof o||null==o?wi(e,t,{path:o,autoMigrate:r,onMigrationProgress:i}):o,{peerId:a,keychain:c,isNew:l}=await Qc(e,s,n);return new Jc(a,c,s,e,l)}}const Qc=async(e,t,n)=>{if(!t.closed)return{...await ol(t,n),isNew:!1};try{return await t.open(),{...await ol(t,n),isNew:!1}}catch(r){if(r.code!==Po)throw r;if(n.init&&!1===n.init.allowNew)throw new U("Initialization of new repos disabled by config, pass `config.init.isNew: true` to enable it");return{...await el(e,t,n),isNew:!0}}},el=async(e,t,n)=>{const r=n.init||{},o=await t.exists();if(Zc("repo exists?",o),!0===o)throw new Error("repo already exists");const i=r.privateKey?await tl(r.privateKey):await nl(e,r),s=rl(i);Zc("peer identity: %s",s.PeerID);const a={...Yc(sl((0,Xt.Z)(),r.profiles),n.config),Identity:s};await t.init(a),await t.open(),Zc("repo opened");const c={pass:n.pass};try{c.dek=await t.config.get("Keychain.DEK")}catch(u){if("ERR_NOT_FOUND"!==u.code)throw u}const l=await Xc({options:void 0,multiaddrs:void 0,peerId:i,repo:t,config:a,keychainConfig:c});return l.keychain&&l.keychain.opts&&(await l.loadKeychain(),await t.config.set("Keychain",{DEK:l.keychain.opts.dek})),{peerId:i,keychain:l.keychain}},tl=e=>(Zc("using user-supplied private-key"),"object"===typeof e?e:ne.createFromPrivKey((0,$.fromString)(e,"base64pad"))),nl=(e,t)=>{let{algorithm:n="Ed25519",bits:r=2048}=t;return e("generating %s keypair...",n),ne.create({keyType:n,bits:r})},rl=e=>({PeerID:e.toB58String(),PrivKey:(0,pe.toString)(e.privKey.bytes,"base64pad")}),ol=async(e,t)=>{const n=t.config,r=t.init&&t.init.profiles||[],o=t.pass,i=await e.config.getAll(),s=il(sl(i,r),n);if(i!==s&&await e.config.replace(s),!s.Identity||!s.Identity.PrivKey)throw new N("No private key was found in the config, please intialize the repo");const a=await ne.createFromPrivKey(s.Identity.PrivKey),c=await Xc({options:void 0,multiaddrs:void 0,peerId:a,repo:e,config:s,keychainConfig:{pass:o,...s.Keychain}});return c.keychain&&await c.loadKeychain(),{peerId:a,keychain:c.keychain}},il=(e,t)=>t?Yc(e,t):e,sl=(e,t)=>(t||[]).reduce(((e,t)=>{const n=On[t];if(!n)throw new Error(`Could not find profile with name '${t}'`);return Zc("applying profile %s",t),n.transform(e)}),e);var al=n(5717),cl=n(3390),ll=n(81564);const ul=(e,t)=>{const n=["bitswap"];return t&&n.push(t),e&&n.push(`${e.toB58String().slice(0,8)}`),Object.assign(a(n.join(":")),{error:a(n.concat(["error"]).join(":"))})},dl=(e,t)=>{if(e.size!==t.size)return!1;for(const[n,r]of e){const e=t.get(n);if(void 0===e)return!1;if(r instanceof Uint8Array&&e instanceof Uint8Array&&!(0,he.equals)(r,e))return!1;if(r instanceof ll.b&&e instanceof ll.b&&!r.equals(e))return!1}return!0};var pl=n(48009);class hl{constructor(e){this.full=e,this.wantlist=new Map,this.blocks=new Map,this.blockPresences=new Map,this.pendingBytes=0}get empty(){return 0===this.blocks.size&&0===this.wantlist.size&&0===this.blockPresences.size}addEntry(e,t,n,r,o){null==n&&(n=hl.WantType.Block);const i=e.toString(ot.base58btc),s=this.wantlist.get(i);s?(s.wantType===n&&(s.priority=t),r&&(s.cancel=Boolean(r)),o&&(s.sendDontHave=Boolean(o)),n===hl.WantType.Block&&s.wantType===hl.WantType.Have&&(s.wantType=n)):this.wantlist.set(i,new ll.b(e,t,n,r,o))}addBlock(e,t){const n=e.toString(ot.base58btc);this.blocks.set(n,t)}addHave(e){const t=e.toString(ot.base58btc);this.blockPresences.has(t)||this.blockPresences.set(t,hl.BlockPresenceType.Have)}addDontHave(e){const t=e.toString(ot.base58btc);this.blockPresences.has(t)||this.blockPresences.set(t,hl.BlockPresenceType.DontHave)}cancel(e){const t=e.toString(ot.base58btc);this.wantlist.delete(t),this.addEntry(e,0,hl.WantType.Block,!0,!1)}setPendingBytes(e){this.pendingBytes=e}serializeToBitswap100(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map((e=>({block:e.cid.bytes,priority:Number(e.priority),cancel:Boolean(e.cancel)}))),full:!!this.full||void 0},blocks:Array.from(this.blocks.values())};return pl.v.encode(e).finish()}serializeToBitswap110(){const e={wantlist:{entries:Array.from(this.wantlist.values()).map((e=>({block:e.cid.bytes,priority:Number(e.priority),wantType:e.wantType,cancel:Boolean(e.cancel),sendDontHave:Boolean(e.sendDontHave)}))),full:!!this.full||void 0},blockPresences:[],payload:[],pendingBytes:this.pendingBytes};for(const[t,n]of this.blocks.entries()){const r=p.CID.parse(t),o=r.version,i=r.code,s=r.multihash.code,a=r.multihash.digest.length,c=(0,cl.Z)([o,i,s,a]);e.payload.push(new pl.v.Block({prefix:c,data:n}))}for(const[t,n]of this.blockPresences)e.blockPresences.push(new pl.v.BlockPresence({cid:p.CID.parse(t).bytes,type:n}));return this.pendingBytes>0&&(e.pendingBytes=this.pendingBytes),pl.v.encode(e).finish()}equals(e){return!!(this.full===e.full&&this.pendingBytes===e.pendingBytes&&dl(this.wantlist,e.wantlist)&&dl(this.blocks,e.blocks)&&dl(this.blockPresences,e.blockPresences))}get[Symbol.toStringTag](){const e=Array.from(this.wantlist.keys()),t=Array.from(this.blocks.keys());return`BitswapMessage <full: ${this.full}, list: ${e}, blocks: ${t}>`}}hl.deserialize=async(e,t)=>{const n=pl.v.decode(e),r=n.wantlist&&n.wantlist.full||!1,o=new hl(r);return n.wantlist&&n.wantlist.entries&&n.wantlist.entries.forEach((e=>{if(!e.block)return;const t=p.CID.decode(e.block);o.addEntry(t,e.priority||0,e.wantType,Boolean(e.cancel),Boolean(e.sendDontHave))})),n.blockPresences&&n.blockPresences.forEach((e=>{if(!e.cid)return;const t=p.CID.decode(e.cid);e.type===hl.BlockPresenceType.Have?o.addHave(t):o.addDontHave(t)})),n.blocks.length>0?(await Promise.all(n.blocks.map((async e=>{const t=await Jr.sha256.digest(e),n=p.CID.createV0(t);o.addBlock(n,e)}))),o):n.payload.length>0?(await Promise.all(n.payload.map((async e=>{if(!e.prefix||!e.data)return;const n=al(e.prefix),r=n[0],i=n[1],s=n[2],a=s===Jr.sha256.code?Jr.sha256:t&&await t.getHasher(s);if(!a)throw c(new Error("Unknown hash algorithm"),"ERR_UNKNOWN_HASH_ALG");const l=await a.digest(e.data),u=p.CID.create(r,i,l);o.addBlock(u,e.data)}))),o.setPendingBytes(n.pendingBytes),o):o},hl.blockPresenceSize=e=>e.bytes.length+1,hl.Entry=ll.b,hl.WantType={Block:pl.v.Wantlist.WantType.Block,Have:pl.v.Wantlist.WantType.Have},hl.BlockPresenceType={Have:pl.v.BlockPresenceType.Have,DontHave:pl.v.BlockPresenceType.DontHave};var fl=n(49301);const gl=Math.pow(2,31)-1;var yl=n(88898);class ml{constructor(e,t,n){this.peerId=t,this.network=n,this.refcnt=1,this._entries=[],this._log=ul(e,"msgqueue"),this.sendEntries=yl(this._sendEntries.bind(this),1)}addMessage(e){e.empty||this.send(e)}addEntries(e){this._entries=this._entries.concat(e),this.sendEntries()}_sendEntries(){if(!this._entries.length)return;const e=new hl(!1);this._entries.forEach((t=>{t.cancel?e.cancel(t.cid):e.addEntry(t.cid,t.priority)})),this._entries=[],this.addMessage(e)}async send(e){try{await this.network.connectTo(this.peerId)}catch(t){return void this._log.error("cant connect to peer %s: %s",this.peerId.toB58String(),t.message)}this._log("sending message to peer %s",this.peerId.toB58String()),this.network.sendMessage(this.peerId,e).catch((e=>{this._log.error("send error: %s",e.message)}))}}var bl=n(71038);class vl{constructor(e,t,n,r){this.peers=bl({system:"ipfs",component:"bitswap",metric:"want-manager-peers",metrics:r.metrics}),this.wantlist=new fl.m(n,r),this.network=t,this._stats=n,this._peerId=e,this._log=ul(e,"want")}_addEntries(e,t,n){const r=e.map(((e,n)=>new hl.Entry(e,gl-n,hl.WantType.Block,t)));r.forEach((e=>{e.cancel?n?this.wantlist.removeForce(e.cid.toString(ot.base58btc)):this.wantlist.remove(e.cid):(this._log("adding to wl"),this.wantlist.add(e.cid,e.priority))}));for(const o of this.peers.values())o.addEntries(r)}_startPeerHandler(e){let t=this.peers.get(e.toB58String());if(t)return void t.refcnt++;t=new ml(this._peerId,e,this.network);const n=new hl(!0);for(const r of this.wantlist.entries())n.addEntry(r[1].cid,r[1].priority);return t.addMessage(n),this.peers.set(e.toB58String(),t),t}_stopPeerHandler(e){const t=this.peers.get(e.toB58String());t&&(t.refcnt--,t.refcnt>0||this.peers.delete(e.toB58String()))}wantBlocks(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._addEntries(e,!1),t&&t.signal&&t.signal.addEventListener("abort",(()=>{this.cancelWants(e)}))}unwantBlocks(e){this._log("unwant blocks: %s",e.length),this._addEntries(e,!0,!0)}cancelWants(e){this._log("cancel wants: %s",e.length),this._addEntries(e,!0)}connectedPeers(){return Array.from(this.peers.keys())}connected(e){this._startPeerHandler(e)}disconnected(e){this._stopPeerHandler(e)}start(){}stop(){this.peers.forEach((e=>this.disconnected(e.peerId)))}}var wl=n(7213),kl=n(90983);const _l="/ipfs/bitswap/1.0.0",El="/ipfs/bitswap/1.1.0",Sl="/ipfs/bitswap/1.2.0";class Cl{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this._log=ul(e.peerId,"network"),this._libp2p=e,this._bitswap=t,this._protocols=[_l],r.b100Only||(this._protocols.unshift(El),this._protocols.unshift(Sl)),this._stats=n,this._running=!1,this._onPeerConnect=this._onPeerConnect.bind(this),this._onPeerDisconnect=this._onPeerDisconnect.bind(this),this._onConnection=this._onConnection.bind(this),this._hashLoader=r.hashLoader}async start(){this._running=!0,await this._libp2p.handle(this._protocols,this._onConnection);const e=new kl({multicodecs:this._protocols,handlers:{onConnect:this._onPeerConnect,onDisconnect:this._onPeerDisconnect}});this._registrarId=await this._libp2p.registrar.register(e);for await(const t of this._libp2p.peerStore.getPeers()){const e=this._libp2p.connectionManager.get(t.id);e&&this._onPeerConnect(e.remotePeer)}}async stop(){this._running=!1,await this._libp2p.unhandle(this._protocols),null!=this._registrarId&&this._libp2p.registrar.unregister(this._registrarId)}async _onConnection(e){let{protocol:t,stream:n,connection:r}=e;if(this._running){this._log("incoming new bitswap %s connection from %s",t,r.remotePeer.toB58String());try{await(0,en.pipe)(n,wl.decode(),(async e=>{for await(const n of e)try{const e=await hl.deserialize(n.slice(),this._hashLoader);await this._bitswap._receiveMessage(r.remotePeer,e)}catch(t){this._bitswap._receiveError(t);break}}))}catch(o){this._log(o)}}}_onPeerConnect(e){this._bitswap._onPeerConnected(e)}_onPeerDisconnect(e){this._bitswap._onPeerDisconnected(e)}findProviders(e,t){return this._libp2p.contentRouting.findProviders(e,{timeout:1e4,maxNumProviders:t})}async findAndConnect(e,t){const n=[];for await(const r of this.findProviders(e,3,t))this._log(`connecting to provider ${r.id}`),n.push(this.connectTo(r.id,t).catch((e=>{this._log.error(e)})));await Promise.all(n)}async provide(e,t){await this._libp2p.contentRouting.provide(e,t)}async sendMessage(e,t){if(!this._running)throw new Error("network isn't running");const n=e.toB58String();this._log("sendMessage to %s",n,t);const r=await this._libp2p.dial(e),{stream:o,protocol:i}=await r.newStream([Sl,El,_l]);let s;switch(i){case _l:s=t.serializeToBitswap100();break;case El:case Sl:s=t.serializeToBitswap110();break;default:throw new Error("Unknown protocol: "+i)}!async function(e,t,n){try{await(0,en.pipe)([t],wl.encode(),e)}catch(r){n(r)}}(o,s,this._log),this._updateSentStats(e,t.blocks)}async connectTo(e,t){if(!this._running)throw new Error("network isn't running");return this._libp2p.dial(e,t)}_updateSentStats(e,t){const n=e.toB58String();if(this._stats){for(const e of t.values())this._stats.push(n,"dataSent",e.length);this._stats.push(n,"blocksSent",t.size)}}}class xl{constructor(e){this.partner=e,this.wantlist=new fl.m,this.exchangeCount=0,this.sentToPeer=new Map,this.accounting={bytesSent:0,bytesRecv:0}}sentBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesSent+=e}receivedBytes(e){this.exchangeCount++,this.lastExchange=(new Date).getTime(),this.accounting.bytesRecv+=e}wants(e,t,n){this.wantlist.add(e,t,n)}cancelWant(e){this.wantlist.remove(e)}wantlistContains(e){return this.wantlist.get(e)}debtRatio(){return this.accounting.bytesSent/(this.accounting.bytesRecv+1)}}class Il extends Map{constructor(e,t){super(),this._cmp=t||this._defaultSort,this._keys=[];for(const[n,r]of e||[])this.set(n,r)}update(e){if(e<0||e>=this._keys.length)return;const t=this._keys[e];this._keys.splice(e,1);const n=this._find(t);this._keys.splice(n,0,t)}set(e,t){if(this.has(e)){const t=this.indexOf(e);this._keys.splice(t,1)}super.set(e,t);const n=this._find(e);return this._keys.splice(n,0,e),this}clear(){super.clear(),this._keys=[]}delete(e){if(!this.has(e))return!1;const t=this.indexOf(e);return this._keys.splice(t,1),super.delete(e)}indexOf(e){if(!this.has(e))return-1;const t=this._find(e);if(this._keys[t]===e)return t;for(let n=1;n<this._keys.length;n++){if(this._keys[t+n]===e)return t+n;if(this._keys[t-n]===e)return t-n}return-1}_find(e){let t=0,n=this._keys.length;for(;t<n;){const r=t+n>>>1,o=this._kCmp(this._keys[r],e);if(o<0)t=r+1;else{if(!(o>0))return r;n=r}}return t}*keys(){for(const e of this._keys)yield e}*values(){for(const e of this._keys)yield this.get(e)}*entries(){for(const e of this._keys)yield[e,this.get(e)]}*[Symbol.iterator](){yield*this.entries()}forEach(e,t){if(e)for(const n of this._keys)e.apply(t,[[n,this.get(n)]])}_defaultSort(e,t){return e[0]<t[0]?-1:t[0]<e[0]?1:0}_kCmp(e,t){return this._cmp([e,this.get(e)],[t,this.get(t)])}}const Al={hasNewInfo:()=>!1,merge(){}};class Pl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Al;this._taskMerger=e,this._byPeer=new Il([],Rl.compare)}pushTasks(e,t){let n=this._byPeer.get(e.toB58String());n||(n=new Rl(e,this._taskMerger)),n.pushTasks(t),this._byPeer.set(e.toB58String(),n)}popTasks(e){const t=this._head();if(void 0===t)return{tasks:[],pendingSize:0};const{tasks:n,pendingSize:r}=t.popTasks(e);if(0===n.length)return{tasks:n,pendingSize:r};const o=t.peerId;return t.isIdle()?this._byPeer.delete(o.toB58String()):this._byPeer.update(0),{peerId:o,tasks:n,pendingSize:r}}_head(){if(0!==this._byPeer.size)for(const[,e]of this._byPeer)return e}remove(e,t){const n=this._byPeer.get(t.toB58String());n&&n.remove(e)}tasksDone(e,t){const n=this._byPeer.get(e.toB58String());if(!n)return;const r=this._byPeer.indexOf(e.toB58String());for(const o of t)n.taskDone(o);this._byPeer.update(r)}}class Rl{constructor(e,t){this.peerId=e,this._taskMerger=t,this._activeTotalSize=0,this._pending=new Ol,this._active=new Set}pushTasks(e){for(const t of e)this._pushTask(t)}_pushTask(e){if(!this._taskHasMoreInfoThanActiveTasks(e))return;const t=this._pending.get(e.topic);if(t)return e.priority>t.priority&&this._pending.updatePriority(e.topic,e.priority),void this._taskMerger.merge(e,t);this._pending.add(e)}_taskHasMoreInfoThanActiveTasks(e){const t=[];for(const n of this._active)n.topic===e.topic&&t.push(n);return 0===t.length||this._taskMerger.hasNewInfo(e,t)}popTasks(e){let t=0;const n=[],r=this._pending.tasks();for(let o=0;o<r.length&&t<e;o++){const e=r[o];n.push(e),t+=e.size,this._pending.delete(e.topic),this._activeTotalSize+=e.size,this._active.add(e)}return{tasks:n,pendingSize:this._pending.totalSize}}taskDone(e){this._active.has(e)&&(this._activeTotalSize-=e.size,this._active.delete(e))}remove(e){this._pending.delete(e)}isIdle(){return 0===this._pending.length&&0===this._active.size}static compare(e,t){return 0===e[1]._pending.length?1:0===t[1]._pending.length?-1:e[1]._activeTotalSize===t[1]._activeTotalSize?t[1]._pending.length-e[1]._pending.length:e[1]._activeTotalSize-t[1]._activeTotalSize}}class Ol{constructor(){this._tasks=new Il([],this._compare)}get length(){return this._tasks.size}get totalSize(){return[...this._tasks.values()].reduce(((e,t)=>e+t.task.size),0)}get(e){return(this._tasks.get(e)||{}).task}add(e){this._tasks.set(e.topic,{created:Date.now(),task:e})}delete(e){this._tasks.delete(e)}tasks(){return[...this._tasks.values()].map((e=>e.task))}updatePriority(e,t){const n=this._tasks.get(e);if(!n)return;const r=this._tasks.indexOf(e);n.task.priority=t,this._tasks.update(r)}_compare(e,t){return e[1].task.priority===t[1].task.priority?e[1].created-t[1].created:t[1].task.priority-e[1].task.priority}}const Tl={hasNewInfo(e,t){let n=!1,r=!1;for(const o of t)o.data.haveBlock&&(n=!0),o.data.isWantBlock&&(r=!0);return!(r||!e.data.isWantBlock)||!(n||!e.data.haveBlock)},merge(e,t){const n=e.data,r=t.data;!r.haveBlock&&n.haveBlock&&(r.haveBlock=n.haveBlock,r.blockSize=n.blockSize),!r.isWantBlock&&n.isWantBlock&&(r.isWantBlock=!0,r.haveBlock&&!n.haveBlock||(r.haveBlock=n.haveBlock,t.size=e.size)),r.isWantBlock&&r.haveBlock&&(t.size=r.blockSize)}},Dl=hl.WantType;class Ml{constructor(e,t,n,r,o){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this._log=ul(e,"engine"),this.blockstore=t,this.network=n,this._stats=r,this._opts=this._processOpts(i),this.ledgerMap=bl({system:"ipfs",component:"bitswap",metric:"ledger-map",metrics:o.metrics}),this._running=!1,this._requestQueue=new Pl(Tl)}_processOpts(e){return{maxSizeReplaceHasWithBlock:1024,targetMessageSize:16384,...e}}_scheduleProcessTasks(){setTimeout((()=>{this._processTasks()}))}async _processTasks(){if(!this._running)return;const{peerId:e,tasks:t,pendingSize:n}=this._requestQueue.popTasks(this._opts.targetMessageSize);if(0===t.length)return;const r=new hl(!1);r.setPendingBytes(n);const o=[],i=new Map;for(const c of t){const e=p.CID.parse(c.topic);c.data.haveBlock?c.data.isWantBlock?(o.push(e),i.set(c.topic,c.data)):r.addHave(e):r.addDontHave(e)}const s=await this._getBlocks(o);for(const[c,l]of i){const e=p.CID.parse(c),t=s.get(c);t?r.addBlock(e,t):l.sendDontHave&&r.addDontHave(e)}if(r.empty)return e&&this._requestQueue.tasksDone(e,t),void this._scheduleProcessTasks();try{e&&await this.network.sendMessage(e,r);for(const[t,n]of s.entries())e&&this.messageSent(e,p.CID.parse(t),n)}catch(a){this._log.error(a)}e&&this._requestQueue.tasksDone(e,t),this._scheduleProcessTasks()}wantlistForPeer(e){const t=e.toB58String(),n=this.ledgerMap.get(t);return n?n.wantlist.sortedEntries():new Map}ledgerForPeer(e){const t=e.toB58String(),n=this.ledgerMap.get(t);return n?{peer:n.partner,value:n.debtRatio(),sent:n.accounting.bytesSent,recv:n.accounting.bytesRecv,exchanged:n.exchangeCount}:null}peers(){return Array.from(this.ledgerMap.values()).map((e=>e.partner))}receivedBlocks(e){if(e.length){for(const t of this.ledgerMap.values())for(const n of e){const e=t.wantlistContains(n.cid);if(!e)continue;const r=n.data.length,o=this._sendAsBlock(e.wantType,r);let i=r;o||(i=hl.blockPresenceSize(e.cid)),this._requestQueue.pushTasks(t.partner,[{topic:e.cid.toString(ot.base58btc),priority:e.priority,size:i,data:{blockSize:r,isWantBlock:o,haveBlock:!0,sendDontHave:!1}}])}this._scheduleProcessTasks()}}async messageReceived(e,t){const n=this._findOrCreate(e);if(t.empty)return;if(t.full&&(n.wantlist=new fl.m),this._updateBlockAccounting(t.blocks,n),0===t.wantlist.size)return void this._scheduleProcessTasks();const r=[],o=[];t.wantlist.forEach((e=>{e.cancel?(n.cancelWant(e.cid),r.push(e.cid)):(n.wants(e.cid,e.priority,e.wantType),o.push(e))})),this._cancelWants(e,r),await this._addWants(e,o),this._scheduleProcessTasks()}_cancelWants(e,t){for(const n of t)this._requestQueue.remove(n.toString(ot.base58btc),e)}async _addWants(e,t){const n=await this._getBlockSizes(t.map((e=>e.cid))),r=[];for(const o of t){const t=o.cid.toString(ot.base58btc),i=n.get(t);if(null==i)o.sendDontHave&&r.push({topic:t,priority:o.priority,size:hl.blockPresenceSize(o.cid),data:{isWantBlock:o.wantType===Dl.Block,blockSize:0,haveBlock:!1,sendDontHave:o.sendDontHave}});else{const e=this._sendAsBlock(o.wantType,i);let n=i;e||(n=hl.blockPresenceSize(o.cid)),r.push({topic:t,priority:o.priority,size:n,data:{isWantBlock:e,blockSize:i,haveBlock:!0,sendDontHave:o.sendDontHave}})}this._requestQueue.pushTasks(e,r)}}_sendAsBlock(e,t){return e===Dl.Block||t<=this._opts.maxSizeReplaceHasWithBlock}async _getBlockSizes(e){const t=await this._getBlocks(e);return new Map([...t].map((e=>{let[t,n]=e;return[t,n.length]})))}async _getBlocks(e){const t=new Map;return await Promise.all(e.map((async e=>{try{const n=await this.blockstore.get(e);t.set(e.toString(ot.base58btc),n)}catch(n){"ERR_NOT_FOUND"!==n.code&&this._log.error("failed to query blockstore for %s: %s",e,n)}}))),t}_updateBlockAccounting(e,t){for(const n of e.values())this._log("got block (%s bytes)",n.length),t.receivedBytes(n.length)}messageSent(e,t,n){const r=this._findOrCreate(e);r.sentBytes(n.length),r.wantlist.remove(t)}numBytesSentTo(e){return this._findOrCreate(e).accounting.bytesSent}numBytesReceivedFrom(e){return this._findOrCreate(e).accounting.bytesRecv}peerDisconnected(e){this.ledgerMap.delete(e.toB58String())}_findOrCreate(e){const t=e.toB58String(),n=this.ledgerMap.get(t);if(n)return n;const r=new xl(e);return this.ledgerMap.set(t,r),this._stats&&this._stats.push(t,"peerCount",1),r}start(){this._running=!0}stop(){this._running=!1}}var Nl=n(36571);const jl=e=>`unwant:${(0,pe.toString)(e.multihash.bytes,"base64")}`,Ll=e=>`block:${(0,pe.toString)(e.multihash.bytes,"base64")}`;class Bl extends Nl.EventEmitter{constructor(e){super(),this.setMaxListeners(1e3),this._log=ul(e,"notif")}hasBlock(e,t){const n=Ll(e);this._log(n),this.emit(n,t)}wantBlock(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Not a valid cid");const n=Ll(e),r=jl(e);return this._log(`wantBlock:${e}`),new Promise(((o,i)=>{const s=()=>{this.removeListener(n,a),i(new Error(`Block for ${e} unwanted`))},a=e=>{this.removeListener(r,s),o(e)};this.once(r,s),this.once(n,a),t&&t.signal&&t.signal.addEventListener("abort",(()=>{this.removeListener(n,a),this.removeListener(r,s),i(new Error(`Want for ${e} aborted`))}))}))}unwantBlock(e){const t=jl(e);this._log(t),this.emit(t)}}var zl=n(40316);class Fl extends Nl.EventEmitter{constructor(e,t){super(),this._options=t,this._queue=[],this._stats={},this._frequencyLastTime=Date.now(),this._frequencyAccumulators={},this._movingAverages={},this._update=this._update.bind(this),e.forEach((e=>{this._stats[e]=BigInt(0),this._movingAverages[e]={},this._options.movingAverageIntervals.forEach((t=>{(this._movingAverages[e][t]=zl(t)).push(this._frequencyLastTime,0)}))})),this._enabled=this._options.enabled}enable(){this._enabled=!0}disable(){this._disabled=!0}stop(){this._timeout&&clearTimeout(this._timeout)}get snapshot(){return Object.assign({},this._stats)}get movingAverages(){return Object.assign({},this._movingAverages)}push(e,t){this._enabled&&(this._queue.push([e,t,Date.now()]),this._resetComputeTimeout())}_resetComputeTimeout(){this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(this._update,this._nextTimeout())}_nextTimeout(){const e=this._queue.length/this._options.computeThrottleMaxQueueSize;return Math.max(this._options.computeThrottleTimeout*(1-e),0)}_update(){if(this._timeout=null,this._queue.length){let e;for(;this._queue.length;){const t=e=this._queue.shift();t&&this._applyOp(t)}e&&this._updateFrequency(e[2]),this.emit("update",this._stats)}}_updateFrequency(e){const t=e-this._frequencyLastTime;t&&Object.keys(this._stats).forEach((n=>{this._updateFrequencyFor(n,t,e)})),this._frequencyLastTime=e}_updateFrequencyFor(e,t,n){const r=this._frequencyAccumulators[e]||0;this._frequencyAccumulators[e]=0;const o=r/t*1e3;let i=this._movingAverages[e];i||(i=this._movingAverages[e]={}),this._options.movingAverageIntervals.forEach((e=>{let t=i[e];t||(t=i[e]=zl(e)),t.push(n,o)}))}_applyOp(e){const t=e[0],n=e[1];if("number"!==typeof n)throw new Error(`invalid increment number: ${n}`);Object.prototype.hasOwnProperty.call(this._stats,t)||(this._stats[t]=BigInt(0)),this._stats[t]=BigInt(this._stats[t])+BigInt(n),this._frequencyAccumulators[t]||(this._frequencyAccumulators[t]=0),this._frequencyAccumulators[t]+=n}}const Ul={enabled:!1,computeThrottleTimeout:1e3,computeThrottleMaxQueueSize:1e3,movingAverageIntervals:[6e4,3e5,9e5]};class $l extends Nl.EventEmitter{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ul;super();const r=Object.assign({},Ul,n);if("number"!==typeof r.computeThrottleTimeout)throw new Error("need computeThrottleTimeout");if("number"!==typeof r.computeThrottleMaxQueueSize)throw new Error("need computeThrottleMaxQueueSize");this._initialCounters=t,this._options=r,this._enabled=this._options.enabled,this._global=new Fl(t,r),this._global.on("update",(e=>this.emit("update",e))),this._peers=bl({system:"ipfs",component:"bitswap",metric:"stats-peers",metrics:e.metrics})}enable(){this._enabled=!0,this._options.enabled=!0,this._global.enable()}disable(){this._enabled=!1,this._options.enabled=!1,this._global.disable()}stop(){this._enabled=!1,this._global.stop();for(const e of this._peers)e[1].stop()}get snapshot(){return this._global.snapshot}get movingAverages(){return this._global.movingAverages}forPeer(e){const t="string"!==typeof e&&e.toB58String?e.toB58String():`${e}`;return this._peers.get(t)}push(e,t,n){if(this._enabled&&(this._global.push(t,n),e)){let r=this._peers.get(e);r||(r=new Fl(this._initialCounters,this._options),this._peers.set(e,r)),r.push(t,n)}}disconnected(e){const t=e.toB58String(),n=this._peers.get(t);n&&(n.stop(),this._peers.delete(t))}}const Wl={statsEnabled:!1,statsComputeThrottleTimeout:1e3,statsComputeThrottleMaxQueueSize:1e3},ql=["blocksReceived","dataReceived","dupBlksReceived","dupDataReceived","blocksSent","dataSent","providesBufferLength","wantListLength","peerCount"];class Hl extends gi.E{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this._libp2p=e,this._log=ul(this.peerId),this._options=Object.assign({},Wl,n),this._stats=new $l(e,ql,{enabled:this._options.statsEnabled,computeThrottleTimeout:this._options.statsComputeThrottleTimeout,computeThrottleMaxQueueSize:this._options.statsComputeThrottleMaxQueueSize}),this.network=new Cl(e,this,this._stats,{hashLoader:n.hashLoader}),this.blockstore=t,this.engine=new Ml(this.peerId,t,this.network,this._stats,e),this.wm=new vl(this.peerId,this.network,this._stats,e),this.notifications=new Bl(this.peerId),this.started=!1}isStarted(){return this.started}get peerId(){return this._libp2p.peerId}async _receiveMessage(e,t){try{await this.engine.messageReceived(e,t)}catch(r){this._log("failed to receive message",t)}if(0===t.blocks.size)return;const n=[];for(const[o,i]of t.blocks.entries()){const e=p.CID.parse(o);n.push({wasWanted:this.wm.wantlist.contains(e),cid:e,data:i})}this.wm.cancelWants(n.filter((e=>{let{wasWanted:t}=e;return t})).map((e=>{let{cid:t}=e;return t}))),await Promise.all(n.map((t=>{let{cid:n,wasWanted:r,data:o}=t;return this._handleReceivedBlock(e,n,o,r)})))}async _handleReceivedBlock(e,t,n,r){this._log("received block");const o=await this.blockstore.has(t);this._updateReceiveCounters(e.toB58String(),t,n,o),r&&await this.put(t,n)}_updateReceiveCounters(e,t,n,r){this._stats.push(e,"blocksReceived",1),this._stats.push(e,"dataReceived",n.length),r&&(this._stats.push(e,"dupBlksReceived",1),this._stats.push(e,"dupDataReceived",n.length))}_receiveError(e){this._log.error("ReceiveError: %s",e.message)}_onPeerConnected(e){this.wm.connected(e)}_onPeerDisconnected(e){this.wm.disconnected(e),this.engine.peerDisconnected(e),this._stats.disconnected(e)}enableStats(){this._stats.enable()}disableStats(){this._stats.disable()}wantlistForPeer(e,t){return this.engine.wantlistForPeer(e)}ledgerForPeer(e){return this.engine.ledgerForPeer(e)}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=(e,t)=>(this.wm.wantBlocks([e],t),this.notifications.wantBlock(e,t));let r=!1;const o=new AbortController,i=t.signal?(0,Nt.anySignal)([t.signal,o.signal]):o.signal,s=await Promise.race([this.notifications.wantBlock(e,{signal:i}),(async(e,t)=>{try{return await this.blockstore.get(e,t)}catch(o){if("ERR_NOT_FOUND"!==o.code)throw o;return r||(r=!0,this.network.findAndConnect(e).catch((e=>this._log.error(e)))),n(e,t)}})(e,{signal:i})]);return o.abort(),s}async*getMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for await(const n of e)yield this.get(n,t)}unwant(e){const t=Array.isArray(e)?e:[e];this.wm.unwantBlocks(t),t.forEach((e=>this.notifications.unwantBlock(e)))}cancelWants(e){this.wm.cancelWants(Array.isArray(e)?e:[e])}async put(e,t,n){await this.blockstore.put(e,t),this._sendHaveBlockNotifications(e,t)}async*putMany(e,t){for await(const{key:n,value:r}of this.blockstore.putMany(e,t))this._sendHaveBlockNotifications(n,r),yield{key:n,value:r}}_sendHaveBlockNotifications(e,t){this.notifications.hasBlock(e,t),this.engine.receivedBlocks([{cid:e,data:t}]),this.network.provide(e).catch((e=>{this._log.error("Failed to provide: %s",e.message)}))}getWantlist(){return this.wm.wantlist.entries()}peers(){return this.engine.peers()}stat(){return this._stats}async start(){this.wm.start(),await this.network.start(),this.engine.start(),this.started=!0}async stop(){this._stats.stop(),this.wm.stop(),await this.network.stop(),this.engine.stop(),this.started=!1}unwrap(){return this.blockstore}}var Kl=n(8266);n(37464);class Gl extends gi.E{constructor(e,t){super(),this.child=e,this.bitswap=t}open(){return this.child.open()}close(){return this.child.close()}unwrap(){return this.child}async put(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};await this.has(e)||(this.bitswap.isStarted()?await this.bitswap.put(e,t,n):await this.child.put(e,t,n))}async*putMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Qt(e,(async e=>{let{key:t}=e;return!await this.has(t)}));this.bitswap.isStarted()?yield*this.bitswap.putMany(n,t):yield*this.child.putMany(n,t)}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!await this.has(e)&&this.bitswap.isStarted()?this.bitswap.get(e,t):this.child.get(e,t)}async*getMany(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Fo(),r=Fo();Promise.resolve().then((async()=>{for await(const t of e)!await this.has(t)&&this.bitswap.isStarted()?n.push(t):r.push(t);n.end(),r.end()})),yield*ni(this.bitswap.getMany(n,t),this.child.getMany(r,t))}async delete(e,t){await this.child.delete(e,t)}async*deleteMany(e,t){yield*this.child.deleteMany(e,t)}async has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.child.has(e,t)}async*query(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yield*this.child.query(e,t)}async*queryKeys(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};yield*this.child.queryKeys(e,t)}}class Vl{constructor(e,t,n,r,o){this.peerId=e,this.libp2p=t,this.bitswap=n,this.repo=r,this.blockstore=o}static async start(e){let{peerId:t,repo:n,print:r,hashers:o,options:i}=e;n.closed&&await n.open();const s=await n.config.getAll(),a=await Xc({options:i,repo:n,peerId:t,multiaddrs:Xl(t,s),config:s,keychainConfig:void 0});a.keychain&&await a.loadKeychain(),await a.start();for(const u of a.multiaddrs)r(`Swarm listening on ${u}/p2p/${t.toB58String()}`);const c=function(e,t){return new Hl(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})}(a,n.blocks,{statsEnabled:!0,hashLoader:o});await c.start();const l=new Gl(n.blocks,c);return n.blocks=l,n.pins.blockstore=l,new Vl(t,a,c,n,l)}static async stop(e){e.repo.blocks=e.blockstore.unwrap(),e.repo.pins.blockstore=e.blockstore.unwrap(),await e.bitswap.stop(),await e.libp2p.stop()}}const Xl=(e,t)=>{const n=e.toB58String(),r=[],o=t.Addresses&&t.Addresses.Swarm||[];for(const i of o){let e=new Vt.Multiaddr(i);if(e.protoCodes().includes(Yl))throw c(new Error("websocket-star swarm addresses are not supported. See https://github.com/ipfs/js-ipfs/issues/2779"),"ERR_WEBSOCKET_STAR_SWARM_ADDR_NOT_SUPPORTED");const t=e.getPeerId();t&&t!==n&&(e=e.encapsulate(`/p2p/${n}`)),r.push(e)}return r},Yl=479;class Zl{constructor(e){let{network:t}=e;this.addrs=function(e){let{network:t}=e;return(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=[],{libp2p:r}=await t.use(e);for await(const t of r.peerStore.getPeers())n.push({id:t.id.toB58String(),addrs:t.addresses.map((e=>e.multiaddr))});return n}))}({network:t}),this.connect=function(e){let{network:t}=e;return(0,J.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:r}=await t.use(n);await r.dial(e,n)}))}({network:t}),this.disconnect=function(e){let{network:t}=e;return(0,J.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:r}=await t.use(n);await r.hangUp(e)}))}({network:t}),this.localAddrs=function(e){let{network:t}=e;return(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{libp2p:n}=await t.use(e);return n.multiaddrs}))}({network:t}),this.peers=function(e){let{network:t}=e;return(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{libp2p:n}=await t.use(e),r=[];for(const[t,o]of n.connections)for(const n of o){const o={addr:n.remoteAddr,peer:t};(e.verbose||e.direction)&&(o.direction=n.stat.direction),e.verbose&&(o.muxer=n.stat.multiplexer,o.latency="n/a",o.streams=[]),r.push(o)}return r}))}({network:t})}}const Jl={success:!0,time:0,text:""};const Ql="/ipns/";function eu(e){let t;if(e.startsWith(Ql)&&(e=e.substring(Ql.length)),"1"!==e[0]&&"Q"!==e[0]||(e=`z${e}`),"z"===e[0]&&(t=ot.base58btc.decode(e)),"k"===e[0]&&(t=xt.base36.decode(e)),!t)throw new Error("Could not parse string");if(1!==t[0]&&114!==t[1]&&(t=(0,be.concat)([[1,114],t])),40!==t.length)throw new Error("Incorrect length "+t.length);return(0,be.concat)([(0,$.fromString)(Ql),t.subarray(2)])}function tu(e){if("SENDING_QUERY"===e.name)return{type:e.type,name:e.name,to:e.to.toB58String()};if("PEER_RESPONSE"===e.name)return{type:e.type,name:e.name,messageType:e.messageType,messageName:e.messageName,closer:e.closer.map((e=>{let{id:t,multiaddrs:n}=e;return{id:t.toB58String(),multiaddrs:n}})),providers:e.providers.map((e=>{let{id:t,multiaddrs:n}=e;return{id:t.toB58String(),multiaddrs:n}})),record:e.record,from:e.from.toB58String()};if("FINAL_PEER"===e.name)return{type:e.type,name:e.name,from:e.from.toB58String(),peer:{id:e.peer.id.toB58String(),multiaddrs:e.peer.multiaddrs}};if("QUERY_ERROR"===e.name)return{type:e.type,name:e.name,error:e.error,from:e.from.toB58String()};if("PROVIDER"===e.name)return{type:e.type,name:e.name,providers:e.providers.map((e=>{let{id:t,multiaddrs:n}=e;return{id:t.toB58String(),multiaddrs:n}})),from:e.from.toB58String()};if("VALUE"===e.name)return{type:e.type,name:e.name,value:e.value,from:e.from.toB58String()};if("ADDING_PEER"===e.name)return{type:e.type,name:e.name,peer:e.peer.toB58String()};if("DIALING_PEER"===e.name)return{type:e.type,name:e.name,peer:e.peer.toB58String()};throw c(new Error("Unknown DHT event type"),"ERR_UNKNOWN_DHT_EVENT")}const nu=async(e,t,n)=>{const r=await e.use(n);if(rt(r.libp2p,"_config.dht.enabled",!1))return r;{const e=async function*(){yield{from:t,name:"QUERY_ERROR",type:3,error:new U("dht not enabled")}};return{libp2p:{_dht:{get:e,put:e,findProvs:e,findPeer:e,provide:e,query:e}}}}};const ru=async()=>{throw new U("pubsub not enabled")},ou=i.Z.bind({ignoreUndefined:!0}),iu=Object.assign(a("ipfs"),{error:a("ipfs:error")});class su{constructor(e){let{print:t,storage:n,codecs:r,options:o}=e;const{peerId:i,repo:s,keychain:a}=n,l=q.create(Vl),u=Ir(o.preload),d=(0,J.a)((async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{recursive:!0};if("string"!==typeof e)throw new Error("Invalid arguments, domain must be a string");return Z(e=Q(e),t)})),h=(0,ee.X)({network:l}),f=new kt(o),g=Object.values(D.kq);(o.ipld&&o.ipld.hashers?o.ipld.hashers:[]).forEach((e=>g.push(e))),this.hashers=new Ii.d({hashers:g,loadHasher:o.ipld&&o.ipld.loadHasher});const y=Object.values(D.gh);(o.ipld&&o.ipld.bases?o.ipld.bases:[]).forEach((e=>y.push(e))),this.bases=new Ci.x({bases:y,loadBase:o.ipld&&o.ipld.loadBase});const m=new le({repo:s,codecs:r}),b=new nn({codecs:r,hashers:this.hashers,preload:u,repo:s}),v=new Dt({dns:d,ipns:f,repo:s,codecs:r,peerId:i,isOnline:h,keychain:a,options:o}),w=function(e){let{repo:t,codecs:n,bases:r,name:o}=e;return(0,J.a)((async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!te.path(e))throw new Error("invalid argument "+e);if(te.ipnsPath(e))for await(const t of o.resolve(e,i))e=t;const[,s,a,...c]=e.split("/"),l=i.cidBase?await r.getBase(i.cidBase):void 0,u=re(a);if(0===c.length)return`/${s}/${l?l.encoder.encode(u):a}`;const d=p.CID.decode(u);e=c.join("/");const h=(0,W.DB)(d,e,n,t,i);let f=d,g=e;for await(const t of h)p.CID.asCID(t.value)&&(f=t.value,g=t.remainderPath);return`/ipfs/${f.toString(l&&l.encoder)}${g?"/"+g:""}`}))}({repo:s,codecs:r,bases:this.bases,name:v}),k=new wr({repo:s,codecs:r,hashers:this.hashers,preload:u}),_=Object.assign(function(e){let{repo:t,codecs:n,resolve:r,preload:o}=e;return async function*(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0===i.maxDepth)return;if(i.edges&&i.format&&i.format!==Lt)throw new Error("Cannot set edges to true and also specify format");if(i.format=i.edges?Bt:i.format,"number"!==typeof i.maxDepth&&(i.maxDepth=i.recursive?1/0:1),i.timeout){const e=[new Mt.TimeoutController(i.timeout).signal];i.signal&&e.push(i.signal),i.signal=(0,Nt.anySignal)(e)}const s=(Array.isArray(e)?e:[e]).map((e=>zt(o,e,i)));for(const o of s)try{yield*Ft(r,t,n,o,i)}catch(a){yield{ref:"",err:a.message}}}}({repo:s,codecs:r,resolve:w,preload:u}),{local:Wt({repo:n.repo})}),{add:E,addAll:S,cat:C,get:x,ls:I}=new xn({preload:u,repo:s,options:o.EXPERIMENTAL,hashers:this.hashers}),A=Kr({repo:s,preload:u,hashers:this.hashers,options:o}),P=function(e){let{preload:t,files:n,options:r={}}=e;if(r.interval=r.interval||3e4,!r.enabled){Ar("MFS preload disabled");const e=async()=>{};return{start:e,stop:e}}let o,i="";const s=async()=>{try{const e=await n.stat("/"),a=e.cid.toString();i!==a&&(Ar(`preloading updated MFS root ${i} -> ${e.cid}`),await t(e.cid),i=a)}catch(e){Ar.error("failed to preload MFS root",e)}finally{o=setTimeout(s,r.interval)}};return{async start(){const e=await n.stat("/");i=e.cid.toString(),Ar(`monitoring MFS root ${e.cid}`),o=setTimeout(s,r.interval)},stop(){clearTimeout(o)}}}({files:A,preload:u,options:o.preload});this.preload=u,this.name=v,this.ipns=f,this.pin=m,this.resolve=w,this.block=b,this.refs=_,this.start=function(e){let{network:t,preload:n,peerId:r,keychain:o,repo:i,ipns:s,mfsPreload:a,print:c,hashers:l,options:u}=e;return async()=>{const{libp2p:e}=await q.start(t,{peerId:r,repo:i,print:c,hashers:l,options:u});await Promise.all([s.startOnline({keychain:o,libp2p:e,peerId:r,repo:i}),n.start(),a.start()])}}({network:l,peerId:i,repo:s,preload:u,ipns:f,mfsPreload:P,print:t,keychain:a,hashers:this.hashers,options:o}),this.stop=function(e){let{network:t,preload:n,ipns:r,repo:o,mfsPreload:i}=e;return async()=>{await Promise.all([n.stop(),r.stop(),i.stop()]),await q.stop(t),await o.close()}}({network:l,preload:u,mfsPreload:P,ipns:f,repo:s}),this.dht=function(e){let{network:t,repo:n,peerId:r}=e;const{get:o,put:i,findProvs:s,findPeer:a,provide:l,query:u}={async*get(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:o}=await nu(t,r,n),i=e instanceof Uint8Array?e:eu(e);yield*Jt(o._dht.get(i,n),tu)},async*put(e,n,o){const{libp2p:i}=await nu(t,r,o),s=e instanceof Uint8Array?e:eu(e);yield*Jt(i._dht.put(s,n),tu)},async*findProvs(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:o}=await nu(t,r,n);yield*Jt(o._dht.findProviders(e,{signal:n.signal}),tu)},async*findPeer(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:o}=await nu(t,r,n);yield*Jt(o._dht.findPeer(ne.parse(e),{signal:n.signal}),tu)},async*provide(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{recursive:!1};const{libp2p:i}=await nu(t,r,o);if(!await n.blocks.has(e))throw c(new Error("block(s) not found locally, cannot provide"),"ERR_BLOCK_NOT_FOUND");if(o.recursive)throw c(new Error("not implemented yet"),"ERR_NOT_IMPLEMENTED_YET");yield*Jt(i._dht.provide(e),tu)},async*query(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:o}=await nu(t,r,n);let i;const s=p.CID.asCID(e);i=null!=s?s.multihash.bytes:ne.parse(e.toString()).toBytes(),yield*Jt(o._dht.getClosestPeers(i,n),tu)}};return{get:(0,J.a)(o),put:(0,J.a)(i),findProvs:(0,J.a)(s),findPeer:(0,J.a)(a),provide:(0,J.a)(l),query:(0,J.a)(u)}}({network:l,repo:s,peerId:i}),this.pubsub=function(e){let{network:t,config:n}=e;const r=rt(n||{},"Pubsub.Enabled",!0);return{subscribe:r?(0,J.a)((async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{libp2p:o}=await t.use(r);return o.pubsub.subscribe(e,n,r)})):ru,unsubscribe:r?(0,J.a)((async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{libp2p:o}=await t.use(r);o.pubsub.unsubscribe(e,n,r)})):ru,publish:r?(0,J.a)((async function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{libp2p:o}=await t.use(r);if(!n)throw c(new Error('argument "data" is required'),"ERR_ARG_REQUIRED");await o.pubsub.publish(e,n)})):ru,ls:r?(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{libp2p:n}=await t.use(e);return n.pubsub.getTopics()})):ru,peers:r?(0,J.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:r}=await t.use(n);return r.pubsub.getSubscribers(e)})):ru}}({network:l,config:o.config}),this.dns=d,this.isOnline=h,this.id=function(e){let{peerId:t,network:n}=e;return(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=n.try();if(!r){if(e.peerId)throw new B;return{id:t.toB58String(),publicKey:(0,pe.toString)(t.pubKey.bytes,"base64pad"),addresses:[],agentVersion:`js-ipfs/${In.Pr}`,protocolVersion:"9000",protocols:[]}}const{libp2p:o}=r,i=e.peerId?ne.parse(e.peerId):t,s=await Pn(i,o,e),a=(0,pe.toString)(s.metadata.get("AgentVersion")||new Uint8Array),c=(0,pe.toString)(s.metadata.get("ProtocolVersion")||new Uint8Array),l=s.id.toB58String(),u=s.publicKey?(0,pe.toString)(s.publicKey.bytes,"base64pad"):"";return{id:l,publicKey:u,addresses:(s.addresses||[]).map((e=>{const t=e.toString();return t.endsWith(`/p2p/${l}`)?t:`${t}/p2p/${l}`})).sort().map((e=>new Vt.Multiaddr(e))),agentVersion:a,protocolVersion:c,protocols:(s.protocols||[]).sort()}}))}({network:l,peerId:i}),this.version=function(e){let{repo:t}=e;return(0,J.a)((async function(){const e=await t.version.get();return{version:In.Pr,commit:In.th,repo:`${e}`,"ipfs-core":In.Pr,"interface-ipfs-core":In.Px}}))}({repo:s}),this.bitswap=new Ht({network:l}),this.bootstrap=new Yt({repo:s}),this.config=function(e){let{repo:t}=e;return{getAll:(0,J.a)((async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.config.getAll(e)})),get:(0,J.a)((async function(e,n){return e?t.config.get(e,n):Promise.reject(new Error("key argument is required"))})),set:(0,J.a)((async function(e,n,r){return t.config.set(e,n,r)})),replace:(0,J.a)((async function(e,n){return t.config.replace(e,n)})),profiles:{apply:(0,J.a)((async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{dryRun:!1};const{dryRun:r}=n,o=On[e];if(!o)throw new Error(`No profile with name '${e}' exists`);try{const e=await t.config.getAll(n);let i=JSON.parse(JSON.stringify(e));return i=o.transform(i),r||await t.config.replace(i,n),delete e.Identity.PrivKey,delete i.Identity.PrivKey,{original:e,updated:i}}catch(i){throw Tn(i),new Error(`Could not apply profile '${e}' to config: ${i.message}`)}})),list:(0,J.a)(Dn)}}}({repo:s}),this.ping=function(e){let{network:t}=e;return(0,J.a)((async function*(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{libp2p:r}=await t.use();n.count=n.count||10;const o=ne.createFromB58String(e),i=await r.peerStore.get(o);let s=i&&i.id;if(!s){yield{...Jl,text:`Looking up peer ${e}`};const t=await r.peerRouting.findPeer(o);s=t&&t.id}if(!s)throw new Error("Peer was not found");yield{...Jl,text:`PING ${s.toB58String()}`};let a=0,c=0;for(let t=0;t<n.count;t++)try{const e=await r.ping(s);c+=e,a++,yield{...Jl,time:e}}catch(l){yield{...Jl,success:!1,text:l.toString()}}if(a){const e=c/a;yield{...Jl,text:`Average latency: ${e}ms`}}}))}({network:l}),this.add=E,this.addAll=S,this.cat=C,this.get=x,this.ls=I,this.dag=k,this.files=A,this.key=new Xr({keychain:a}),this.object=new to({preload:u,codecs:r,repo:s}),this.repo=new so({repo:s,hashers:this.hashers}),this.stats=new co({repo:s,network:l}),this.swarm=new Zl({network:l}),Object.defineProperty(this,"libp2p",{get(){const e=l.try();return e?e.libp2p:void 0}});const R=()=>Promise.reject(c(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED"));this.commands=R,this.diag={cmds:R,net:R,sys:R},this.log={level:R,ls:R,tail:async function*(){throw c(new Error("Not implemented"),"ERR_NOT_IMPLEMENTED")}},this.mount=R,this.codecs=r}async init(){throw new L}}const au=async e=>{const t=u.encode({Data:new l.fL({type:"directory"}).marshal(),Links:[]}),n=await e.block.put(t,{mhtype:"sha2-256",format:"dag-pb"});return await e.pin.add(n),n},cu=()=>({start:!0,EXPERIMENTAL:{},preload:{enabled:!s.isTest,addresses:["/dns4/node0.preload.ipfs.io/https","/dns4/node1.preload.ipfs.io/https","/dns4/node2.preload.ipfs.io/https","/dns4/node3.preload.ipfs.io/https"]}});n(64009);const lu=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e=ou(cu(),e);const t=e.init||{},n={name:T.identity.name,code:T.identity.code,encode:e=>e,decode:e=>e},i=Object.values(D.QB);[u,r,o,O,n].concat(e.ipld&&e.ipld.codecs||[]).forEach((e=>i.push(e)));const s=new xi.w({codecs:i,loadCodec:e.ipld&&e.ipld.loadCodec}),a=e.silent?iu:console.log;iu("creating repo");const c=await Jc.start(a,s,e);iu("getting repo config");const l=await c.repo.config.getAll(),d=new su({storage:c,print:a,codecs:s,options:{...e,config:l}});if(iu("starting preload"),await d.preload.start(),iu("starting storage"),d.ipns.startOffline(c),c.isNew&&!t.emptyRepo){const e=await au(d);iu("adding default assets"),await(0,M.L)({addAll:d.addAll,print:a}),iu("initializing IPNS keyspace"),await d.ipns.initializeKeyspace(c.peerId.privKey,(0,$.fromString)(`/ipfs/${e}`))}return!1!==e.start&&(iu("starting node"),await d.start()),d},uu=te},97085:(e,t,n)=>{"use strict";n.d(t,{AH:()=>h,DB:()=>b,Fb:()=>m,JU:()=>f,Nt:()=>d,i3:()=>g,iJ:()=>p,jr:()=>y,yH:()=>u});var r=n(13380),o=n(32743),i=n(82149),s=n(15504),a=n(41048),c=n(7901),l=n(47922);const u="This command must be run in online mode. Try running 'ipfs daemon' first.",d=new i.Key("/local/filesroot"),p=262144,h=e=>{if(o.CID.asCID(e))return`/ipfs/${e}`;const t=e.toString();try{return`/ipfs/${o.CID.parse(t)}`}catch{}if(r.path(t))return t;throw s(new Error(`invalid path: ${e}`),"ERR_BAD_PATH")},f=e=>e instanceof Uint8Array?o.CID.decode(e).toString():(0===(e=e.toString()).indexOf("/ipfs/")&&(e=e.substring("/ipfs/".length)),"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e),g=async function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{cid:i,path:s}=(0,c.B)(n);s&&(r.path=s);let a=i,l=r.path||"";if(l.startsWith("/")&&(l=l.substring(1)),r.path)try{for await(const{value:n,remainderPath:s}of b(i,r.path,t,e,{signal:r.signal})){if(!o.CID.asCID(n))break;l=s,a=n}}catch(u){throw u.message.startsWith("Object has no property")&&(u.message=`no link named "${l.split("/")[0]}" under ${a}`,u.code="ERR_NO_LINK"),u}return{cid:a,remainderPath:l||""}},y=e=>{if("file"!==e.type&&"directory"!==e.type&&"raw"!==e.type)throw new Error(`Unknown node type '${e.type}'`);const t={cid:e.cid,path:e.path,name:e.name,size:e.size,type:"file"};return"directory"===e.type&&(t.type="dir"),"file"===e.type&&(t.size=e.unixfs.fileSize()),"file"!==e.type&&"directory"!==e.type||(t.mode=e.unixfs.mode,void 0!==e.unixfs.mtime&&(t.mtime=e.unixfs.mtime)),t},m=(0,a.a)((async(e,t)=>await e)),b=async function*(e,t,n,r,i){const a=async e=>{const t=await n.getCodec(e.code),o=await r.blocks.get(e,i);return t.decode(o)},c=t.split("/").filter(Boolean);let u=await a(e),d=e;for(;c.length;){const n=c.shift();if(!n)throw s(new Error(`Could not resolve path "${t}"`),"ERR_INVALID_PATH");if(e.code===l.code&&Array.isArray(u.Links)){const e=u.Links.find((e=>e.Name===n));if(e){yield{value:e.Hash,remainderPath:c.join("/")},u=await a(e.Hash),d=e.Hash;continue}}if(!Object.prototype.hasOwnProperty.call(u,n))throw s(new Error(`no link named "${n}" under ${d}`),"ERR_NO_LINK");u=u[n],yield{value:u,remainderPath:c.join("/")},o.CID.asCID(u)&&(d=u,u=await a(u))}yield{value:u,remainderPath:""}}},70732:(e,t,n)=>{"use strict";n.d(t,{j:()=>o});var r=n(44190);const o=e=>t=>e(new r.KU(t),t)},44190:(e,t,n)=>{"use strict";n.d(t,{KU:()=>v});var r=n(10006),o=n(41257),i=n(73620),s=n(60720),a=n(68170),c=n(664),l=n(62414),u=n(10912);const d=s("ipfs-http-client:lib:error-handler"),p=c.Z.bind({ignoreUndefined:!0}),h=o.isBrowser||o.isWebWorker?location.protocol:"http",f=o.isBrowser||o.isWebWorker?location.hostname:"localhost",g=o.isBrowser||o.isWebWorker?location.port:"5001",y=async e=>{let t;try{if((e.headers.get("Content-Type")||"").startsWith("application/json")){const n=await e.json();d(n),t=n.Message||n.message}else t=await e.text()}catch(r){d("Failed to parse error response",r),t=r.message}let n=new a.HTTPError(e);throw t&&(t.includes("deadline has elapsed")&&(n=new a.TimeoutError),t&&t.includes("context deadline exceeded")&&(n=new a.TimeoutError)),t&&t.includes("request timed out")&&(n=new a.TimeoutError),t&&(n.message=t),n},m=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,b=e=>e.replace(m,(function(e){return"-"+e.toLowerCase()}));class v extends a{constructor(){var e;const t=function(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i={};if("string"===typeof n||r.Multiaddr.isMultiaddr(n))e=new URL((0,l.d)(n));else if(n instanceof URL)e=n;else if("string"===typeof n.url||r.Multiaddr.isMultiaddr(n.url))e=new URL((0,l.d)(n.url)),i=n;else if(n.url instanceof URL)e=n.url,i=n;else{i=n||{};const t=(i.protocol||h).replace(":",""),r=(i.host||f).split(":")[0],o=i.port||g;e=new URL(`${t}://${r}:${o}`)}if(i.apiPath?e.pathname=i.apiPath:"/"!==e.pathname&&void 0!==e.pathname||(e.pathname="api/v0"),o.isNode){const n=(0,u.Z)(e);t=i.agent||new n({keepAlive:!0,maxSockets:6})}return{...i,host:e.host,protocol:e.protocol.replace(":",""),port:Number(e.port),apiPath:e.pathname,url:e,agent:t}}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});var n;super({timeout:(n=t.timeout||0,("string"===typeof n?(0,i.Z)(n):n)||void 0),headers:t.headers,base:`${t.url}`,handleError:y,transformSearchParams:e=>{const t=new URLSearchParams;for(const[n,r]of e)"undefined"!==r&&"null"!==r&&"signal"!==n&&t.append(b(n),r),"timeout"!==n||isNaN(r)||t.append(b(n),r);return t},agent:t.agent}),e=this,delete this.get,delete this.put,delete this.delete,delete this.options;const s=this.fetch;this.fetch=function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"!==typeof n||n.startsWith("/")||(n=`${t.url}/${n}`),s.call(e,n,p(r,{method:"POST"}))}}}a.HTTPError},39541:(e,t,n)=>{"use strict";n.d(t,{X:()=>i});var r=n(15059),o=n(13068);function i(){let{arg:e,searchParams:t,hashAlg:n,mtime:i,mode:s,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t&&(a={...a,...t}),n&&(a.hash=n),null!=i&&(i=(0,o.X)(i),a.mtime=i.secs,a.mtimeNsecs=i.nsecs),null!=s&&(a.mode=(0,r.Q)(s)),a.timeout&&!isNaN(a.timeout)&&(a.timeout=`${a.timeout}ms`),void 0===e||null===e?e=[]:Array.isArray(e)||(e=[e]);const c=new URLSearchParams(a);return e.forEach((e=>c.append("arg",e))),c}},38099:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InvalidValueError:()=>s,MissingRepoOptionsError:()=>a,NonReversibleMigrationError:()=>r,NotInitializedRepoError:()=>o,RequiredParameterError:()=>i});class r extends Error{constructor(e){super(e),this.name="NonReversibleMigrationError",this.code=r.code,this.message=e}}r.code="ERR_NON_REVERSIBLE_MIGRATION";class o extends Error{constructor(e){super(e),this.name="NotInitializedRepoError",this.code=o.code,this.message=e}}o.code="ERR_NOT_INITIALIZED_REPO";class i extends Error{constructor(e){super(e),this.name="RequiredParameterError",this.code=i.code,this.message=e}}i.code="ERR_REQUIRED_PARAMETER";class s extends Error{constructor(e){super(e),this.name="InvalidValueError",this.code=s.code,this.message=e}}s.code="ERR_INVALID_VALUE";class a extends Error{constructor(e){super(e),this.name="MissingRepoOptionsError",this.code=a.code,this.message=e}}a.code="ERR_MISSING_REPO_OPTIONS"},61757:(e,t,n)=>{"use strict";n.d(t,{fR:()=>i,pf:()=>l,s0:()=>a,xW:()=>s});var r=n(82149),o=n(66957);const i=new r.Key("/config"),s=new r.Key("/version");function a(e){let t=e;for(;t.db||t.child;)if(t=t.db||t.child,"level-js"===t.type||"Level"===t.constructor.name)return t}function c(e){const t=e.get.bind(e),n=e.has.bind(e);return e.get=r=>async function(e,t,n,r){if(await n(e))return t(e);const i=a(r);if(!i)throw(0,o.notFoundError)();return new Promise(((t,n)=>{const r=i.store("readonly").get(e.toString());r.transaction.onabort=()=>{n(r.transaction.error)},r.transaction.oncomplete=()=>{if(r.result)return t(r.result);n((0,o.notFoundError)())}}))}(r,t,n,e),e.has=t=>async function(e,t,n){const r=await t(e);if(r)return r;const o=a(n);return!!o&&new Promise(((t,n)=>{const r=o.store("readonly").get(e.toString());r.transaction.onabort=()=>{n(r.transaction.error)},r.transaction.oncomplete=()=>{t(Boolean(r.result))}}))}(t,n,e),e}function l(e){return{...e,root:c(e.root),datastore:c(e.datastore),pins:c(e.pins),keys:c(e.keys)}}},48206:(e,t,n)=>{"use strict";n.d(t,{BE:()=>u,HN:()=>c,OY:()=>l});var r=n(15504),o=n(32743),i=n(23887),s=n(16586);const a=e=>{if(e instanceof Uint8Array)return{cid:o.CID.decode(e),toResolve:[]};const t=o.CID.asCID(e);if(t)return{cid:t,toResolve:[]};if("string"===typeof e){0===e.indexOf("/ipfs/")&&(e=e.substring(6));const t=function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().match(/([^\\^/]|\\\/)+/g)||[]).filter(Boolean)}(e);return{cid:o.CID.parse(t[0]),toResolve:t.slice(1)}}throw r(new Error(`Unknown path type ${e}`),"ERR_BAD_PATH")};async function*c(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{cid:o,toResolve:s}=a(e),c=o.toString(),l=c;const u=s.length;for(;;){const a=await(0,i.Z)(o,c,l,s,u,t,n);if(!a.entry&&!a.next)throw r(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");if(a.entry&&(yield a.entry),!a.next)return;s=a.next.toResolve,o=a.next.cid,c=a.next.name,l=a.next.path}}async function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=await s(c(e,t,n));if(!o)throw r(new Error(`Could not resolve ${e}`),"ERR_NOT_FOUND");return o}async function*u(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=await l(e,t,n);if(r&&(yield r,"directory"===r.type))for await(const i of o(r,n))yield i;async function*o(e,t){for await(const n of e.content(t))yield n,n instanceof Uint8Array||"directory"===n.type&&(yield*o(n,t))}}},46224:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(88411),o=n(22580),i=n(45711),s=n(49067);async function*a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(0,o.Z)(n);let c,l,u;c="function"===typeof n.dagBuilder?n.dagBuilder:i.Z,l="function"===typeof n.treeBuilder?n.treeBuilder:s.Z,u=Symbol.asyncIterator in e||Symbol.iterator in e?e:[e];for await(const o of l(r(c(u,t,a),a.fileImportConcurrency),t,a))yield{cid:o.cid,path:o.path,unixfs:o.unixfs,size:o.size}}},5724:(e,t,n)=>{"use strict";n.d(t,{Xu:()=>u,fL:()=>d,tK:()=>l});var r=n(15504);const o=n(46766).Vw,i=["raw","directory","file","metadata","symlink","hamt-sharded-directory"],s=["directory","hamt-sharded-directory"],a=parseInt("0644",8),c=parseInt("0755",8);function l(e){if(null!=e)return"number"===typeof e?4095&e:"0"===(e=e.toString()).substring(0,1)?4095&parseInt(e,8):4095&parseInt(e,10)}function u(e){if(null==e)return;let t;if(null!=e.secs&&(t={secs:e.secs,nsecs:e.nsecs}),null!=e.Seconds&&(t={secs:e.Seconds,nsecs:e.FractionalNanoseconds}),Array.isArray(e)&&(t={secs:e[0],nsecs:e[1]}),e instanceof Date){const n=e.getTime(),r=Math.floor(n/1e3);t={secs:r,nsecs:1e3*(n-1e3*r)}}if(Object.prototype.hasOwnProperty.call(t,"secs")){if(null!=t&&null!=t.nsecs&&(t.nsecs<0||t.nsecs>999999999))throw r(new Error("mtime-nsecs must be within the range [0,999999999]"),"ERR_INVALID_MTIME_NSECS");return t}}class d{static unmarshal(e){const t=o.decode(e),n=o.toObject(t,{defaults:!1,arrays:!0,longs:Number,objects:!1}),r=new d({type:i[n.Type],data:n.Data,blockSizes:n.blocksizes,mode:n.mode,mtime:n.mtime?{secs:n.mtime.Seconds,nsecs:n.mtime.FractionalNanoseconds}:void 0});return r._originalMode=n.mode||0,r}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"file"};const{type:t,data:n,blockSizes:o,hashType:s,fanout:a,mtime:c,mode:d}=e;if(t&&!i.includes(t))throw r(new Error("Type: "+t+" is not valid"),"ERR_INVALID_TYPE");this.type=t||"file",this.data=n,this.hashType=s,this.fanout=a,this.blockSizes=o||[],this._originalMode=0,this.mode=l(d),c&&(this.mtime=u(c),this.mtime&&!this.mtime.nsecs&&(this.mtime.nsecs=0))}set mode(e){this._mode=this.isDirectory()?c:a;const t=l(e);void 0!==t&&(this._mode=t)}get mode(){return this._mode}isDirectory(){return Boolean(this.type&&s.includes(this.type))}addBlockSize(e){this.blockSizes.push(e)}removeBlockSize(e){this.blockSizes.splice(e,1)}fileSize(){if(this.isDirectory())return 0;let e=0;return this.blockSizes.forEach((t=>{e+=t})),this.data&&(e+=this.data.length),e}marshal(){let e;switch(this.type){case"raw":e=o.DataType.Raw;break;case"directory":e=o.DataType.Directory;break;case"file":e=o.DataType.File;break;case"metadata":e=o.DataType.Metadata;break;case"symlink":e=o.DataType.Symlink;break;case"hamt-sharded-directory":e=o.DataType.HAMTShard;break;default:throw r(new Error("Type: "+e+" is not valid"),"ERR_INVALID_TYPE")}let t,n,i=this.data;if(this.data&&this.data.length||(i=void 0),null!=this.mode&&(t=4294963200&this._originalMode|(l(this.mode)||0),t!==a||this.isDirectory()||(t=void 0),t===c&&this.isDirectory()&&(t=void 0)),null!=this.mtime){const e=u(this.mtime);e&&(n={Seconds:e.secs,FractionalNanoseconds:e.nsecs},0===n.FractionalNanoseconds&&delete n.FractionalNanoseconds)}const s={Type:e,Data:i,filesize:this.isDirectory()?void 0:this.fileSize(),blocksizes:this.blockSizes,hashType:this.hashType,fanout:this.fanout,mode:t,mtime:n};return o.encode(s).finish()}}},664:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r=n(47250)},71659:(e,t,n)=>{"use strict";n.r(t),n.d(t,{base36:()=>o,base36upper:()=>i});var r=n(17384);const o=(0,r.kU)({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),i=(0,r.kU)({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"})},43019:(e,t,n)=>{"use strict";n.r(t),n.d(t,{base58btc:()=>o,base58flickr:()=>i});var r=n(17384);const o=(0,r.kU)({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),i=(0,r.kU)({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"})},40963:(e,t,n)=>{"use strict";n.d(t,{QB:()=>b,gh:()=>y,kq:()=>m});var r=n(17527),o=n(14906),i=n(90247),s=n(86955),a=n(2180),c=n(79357),l=n(71659),u=n(43019),d=n(63225),p=n(92829),h=n(80073),f=n(96602),g=n(39928);n(28546);const y={...r,...o,...i,...s,...a,...c,...l,...u,...d},m={...p,...h},b={raw:f,json:g}},80073:(e,t,n)=>{"use strict";n.r(t),n.d(t,{identity:()=>s});var r=n(17893),o=n(17578);const i=r.coerce,s={code:0,name:"identity",encode:i,digest:e=>o.create(0,i(e))}},92829:(e,t,n)=>{"use strict";n.r(t),n.d(t,{sha256:()=>i,sha512:()=>s});var r=n(32616);const o=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),i=(0,r.D)({name:"sha2-256",code:18,encode:o("SHA-256")}),s=(0,r.D)({name:"sha2-512",code:19,encode:o("SHA-512")})},73620:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});let r=/(-?(?:\d+\.?\d*|\d*\.?\d+)(?:e[-+]?\d+)?)\s*([\p{L}]*)/giu;function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ms";var n=null;return e=(e+"").replace(/(\d)[,_](\d)/g,"$1$2"),e.replace(r,(function(e,t,r){(r=i(r))&&(n=(n||0)+parseFloat(t,10)*r)})),n&&n/(i(t)||1)}function i(e){return o[e]||o[e.toLowerCase().replace(/s$/,"")]}o.nanosecond=o.ns=1e-6,o["\xb5s"]=o["\u03bcs"]=o.us=o.microsecond=.001,o.millisecond=o.ms=o[""]=1,o.second=o.sec=o.s=1e3*o.ms,o.minute=o.min=o.m=60*o.s,o.hour=o.hr=o.h=60*o.m,o.day=o.d=24*o.h,o.week=o.wk=o.w=7*o.d,o.month=o.b=30.4375*o.d,o.year=o.yr=o.y=365.25*o.d;const s=o},92805:(e,t,n)=>{"use strict";n.d(t,{t:()=>C,o:()=>I});var r=n(92950),o=n(60980);function i(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function s(e,t){const n=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>n.indexOf(e)<0)).forEach((n=>{"undefined"===typeof e[n]?e[n]=t[n]:i(t[n])&&i(e[n])&&Object.keys(t[n]).length>0?t[n].__swiper__?e[n]=t[n]:s(e[n],t[n]):e[n]=t[n]}))}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.navigation&&"undefined"===typeof e.navigation.nextEl&&"undefined"===typeof e.navigation.prevEl}function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.pagination&&"undefined"===typeof e.pagination.el}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.scrollbar&&"undefined"===typeof e.scrollbar.el}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=e.split(" ").map((e=>e.trim())).filter((e=>!!e)),n=[];return t.forEach((e=>{n.indexOf(e)<0&&n.push(e)})),n.join(" ")}const d=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={on:{}},n={},r={};s(t,o.ZP.defaults),s(t,o.ZP.extendedDefaults),t._emitClasses=!0,t.init=!1;const a={},c=d.map((e=>e.replace(/_/,"")));return Object.keys(e).forEach((o=>{c.indexOf(o)>=0?i(e[o])?(t[o]={},r[o]={},s(t[o],e[o]),s(r[o],e[o])):(t[o]=e[o],r[o]=e[o]):0===o.search(/on[A-Z]/)&&"function"===typeof e[o]?n[`${o[2].toLowerCase()}${o.substr(3)}`]=e[o]:a[o]=e[o]})),["navigation","pagination","scrollbar"].forEach((e=>{!0===t[e]&&(t[e]={}),!1===t[e]&&delete t[e]})),{params:t,passedParams:r,rest:a,events:n}}function h(e){return new o.ZP(e)}function f(e,t){let{el:n,nextEl:r,prevEl:o,paginationEl:i,scrollbarEl:s,swiper:u}=e;a(t)&&r&&o&&(u.params.navigation.nextEl=r,u.originalParams.navigation.nextEl=r,u.params.navigation.prevEl=o,u.originalParams.navigation.prevEl=o),c(t)&&i&&(u.params.pagination.el=i,u.originalParams.pagination.el=i),l(t)&&s&&(u.params.scrollbar.el=s,u.originalParams.scrollbar.el=s),u.init(n)}function g(e,t){let n=t.slidesPerView;if(t.breakpoints){const e=o.ZP.prototype.getBreakpoint(t.breakpoints),r=e in t.breakpoints?t.breakpoints[e]:void 0;r&&r.slidesPerView&&(n=r.slidesPerView)}let r=Math.ceil(parseFloat(t.loopedSlides||n,10));return r+=t.loopAdditionalSlides,r>e.length&&(r=e.length),r}function y(e,t,n){const o=t.map(((t,n)=>r.cloneElement(t,{swiper:e,"data-swiper-slide-index":n})));function i(e,t,o){return r.cloneElement(e,{key:`${e.key}-duplicate-${t}-${o}`,className:`${e.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const e=n.slidesPerGroup-o.length%n.slidesPerGroup;if(e!==n.slidesPerGroup)for(let t=0;t<e;t+=1){const e=r.createElement("div",{className:`${n.slideClass} ${n.slideBlankClass}`});o.push(e)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=o.length);const s=g(o,n),a=[],c=[];return o.forEach(((e,t)=>{t<s&&c.push(i(e,t,"prepend")),t<o.length&&t>=o.length-s&&a.push(i(e,t,"append"))})),e&&(e.loopedSlides=s),[...a,...o,...c]}function m(e,t,n,r){const o=[];if(!t)return o;const s=e=>{o.indexOf(e)<0&&o.push(e)},a=r.map((e=>e.key)),c=n.map((e=>e.key));a.join("")!==c.join("")&&s("children"),r.length!==n.length&&s("children");return d.filter((e=>"_"===e[0])).map((e=>e.replace(/_/,""))).forEach((n=>{if(n in e&&n in t)if(i(e[n])&&i(t[n])){const r=Object.keys(e[n]),o=Object.keys(t[n]);r.length!==o.length?s(n):(r.forEach((r=>{e[n][r]!==t[n][r]&&s(n)})),o.forEach((r=>{e[n][r]!==t[n][r]&&s(n)})))}else e[n]!==t[n]&&s(n)})),o}function b(e){const t=[];return r.Children.toArray(e).forEach((e=>{e.type&&"SwiperSlide"===e.type.displayName?t.push(e):e.props&&e.props.children&&b(e.props.children).forEach((e=>t.push(e)))})),t}function v(e){const t=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return r.Children.toArray(e).forEach((e=>{if(e.type&&"SwiperSlide"===e.type.displayName)t.push(e);else if(e.props&&e.props.slot&&n[e.props.slot])n[e.props.slot].push(e);else if(e.props&&e.props.children){const r=b(e.props.children);r.length>0?r.forEach((e=>t.push(e))):n["container-end"].push(e)}else n["container-end"].push(e)})),{slides:t,slots:n}}function w(e){let{swiper:t,slides:n,passedParams:r,changedParams:o,nextEl:a,prevEl:c,scrollbarEl:l,paginationEl:u}=e;const d=o.filter((e=>"children"!==e&&"direction"!==e)),{params:p,pagination:h,navigation:f,scrollbar:g,virtual:y,thumbs:m}=t;let b,v,w,k,_;o.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&p.thumbs&&!p.thumbs.swiper&&(b=!0),o.includes("controller")&&r.controller&&r.controller.control&&p.controller&&!p.controller.control&&(v=!0),o.includes("pagination")&&r.pagination&&(r.pagination.el||u)&&(p.pagination||!1===p.pagination)&&h&&!h.el&&(w=!0),o.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||l)&&(p.scrollbar||!1===p.scrollbar)&&g&&!g.el&&(k=!0),o.includes("navigation")&&r.navigation&&(r.navigation.prevEl||c)&&(r.navigation.nextEl||a)&&(p.navigation||!1===p.navigation)&&f&&!f.prevEl&&!f.nextEl&&(_=!0);if(d.forEach((e=>{if(i(p[e])&&i(r[e]))s(p[e],r[e]);else{const o=r[e];!0!==o&&!1!==o||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?p[e]=r[e]:!1===o&&t[n=e]&&(t[n].destroy(),"navigation"===n?(p[n].prevEl=void 0,p[n].nextEl=void 0,t[n].prevEl=void 0,t[n].nextEl=void 0):(p[n].el=void 0,t[n].el=void 0))}var n})),o.includes("children")&&y&&p.virtual.enabled?(y.slides=n,y.update(!0)):o.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),b){m.init()&&m.update(!0)}v&&(t.controller.control=p.controller.control),w&&(u&&(p.pagination.el=u),h.init(),h.render(),h.update()),k&&(l&&(p.scrollbar.el=l),g.init(),g.updateSize(),g.setTranslate()),_&&(a&&(p.navigation.nextEl=a),c&&(p.navigation.prevEl=c),f.init(),f.update()),o.includes("allowSlideNext")&&(t.allowSlideNext=r.allowSlideNext),o.includes("allowSlidePrev")&&(t.allowSlidePrev=r.allowSlidePrev),o.includes("direction")&&t.changeDirection(r.direction,!1),t.update()}function k(e){!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.lazy&&e.params.lazy.enabled&&e.lazy.load(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())}function _(e,t,n){if(!n)return null;const o=e.isHorizontal()?{[e.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return t.filter(((e,t)=>t>=n.from&&t<=n.to)).map((t=>r.cloneElement(t,{swiper:e,style:o})))}function E(e,t){return"undefined"===typeof window?(0,r.useEffect)(e,t):(0,r.useLayoutEffect)(e,t)}function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}const C=(0,r.forwardRef)((function(){let{className:e,tag:t="div",wrapperTag:n="div",children:o,onSwiper:i,...d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1?arguments[1]:void 0,C=!1;const[x,I]=(0,r.useState)("swiper"),[A,P]=(0,r.useState)(null),[R,O]=(0,r.useState)(!1),T=(0,r.useRef)(!1),D=(0,r.useRef)(null),M=(0,r.useRef)(null),N=(0,r.useRef)(null),j=(0,r.useRef)(null),L=(0,r.useRef)(null),B=(0,r.useRef)(null),z=(0,r.useRef)(null),F=(0,r.useRef)(null),{params:U,passedParams:$,rest:W,events:q}=p(d),{slides:H,slots:K}=v(o),G=()=>{O(!R)};if(Object.assign(U.on,{_containerClasses(e,t){I(t)}}),!D.current&&(Object.assign(U.on,q),C=!0,M.current=h(U),M.current.loopCreate=()=>{},M.current.loopDestroy=()=>{},U.loop&&(M.current.loopedSlides=g(H,U)),M.current.virtual&&M.current.params.virtual.enabled)){M.current.virtual.slides=H;const e={cache:!1,slides:H,renderExternal:P,renderExternalUpdate:!1};s(M.current.params.virtual,e),s(M.current.originalParams.virtual,e)}M.current&&M.current.on("_beforeBreakpoint",G);const V=()=>{!C&&q&&M.current&&Object.keys(q).forEach((e=>{M.current.on(e,q[e])}))},X=()=>{q&&M.current&&Object.keys(q).forEach((e=>{M.current.off(e,q[e])}))};function Y(){return U.virtual?_(M.current,H,A):!U.loop||M.current&&M.current.destroyed?H.map((e=>r.cloneElement(e,{swiper:M.current}))):y(M.current,H,U)}return(0,r.useEffect)((()=>()=>{M.current&&M.current.off("_beforeBreakpoint",G)})),(0,r.useEffect)((()=>{!T.current&&M.current&&(M.current.emitSlidesClasses(),T.current=!0)})),E((()=>{if(b&&(b.current=D.current),D.current)return f({el:D.current,nextEl:L.current,prevEl:B.current,paginationEl:z.current,scrollbarEl:F.current,swiper:M.current},U),i&&i(M.current),()=>{M.current&&!M.current.destroyed&&M.current.destroy(!0,!1)}}),[]),E((()=>{V();const e=m($,N.current,H,j.current);return N.current=$,j.current=H,e.length&&M.current&&!M.current.destroyed&&w({swiper:M.current,slides:H,passedParams:$,changedParams:e,nextEl:L.current,prevEl:B.current,scrollbarEl:F.current,paginationEl:z.current}),()=>{X()}})),E((()=>{k(M.current)}),[A]),r.createElement(t,S({ref:D,className:u(`${x}${e?` ${e}`:""}`)},W),K["container-start"],a(U)&&r.createElement(r.Fragment,null,r.createElement("div",{ref:B,className:"swiper-button-prev"}),r.createElement("div",{ref:L,className:"swiper-button-next"})),l(U)&&r.createElement("div",{ref:F,className:"swiper-scrollbar"}),c(U)&&r.createElement("div",{ref:z,className:"swiper-pagination"}),r.createElement(n,{className:"swiper-wrapper"},K["wrapper-start"],Y(),K["wrapper-end"]),K["container-end"])}));function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x.apply(this,arguments)}C.displayName="Swiper";const I=(0,r.forwardRef)((function(){let{tag:e="div",children:t,className:n="",swiper:o,zoom:i,virtualIndex:s,...a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments.length>1?arguments[1]:void 0;const l=(0,r.useRef)(null),[d,p]=(0,r.useState)("swiper-slide");function h(e,t,n){t===l.current&&p(n)}let f;E((()=>{if(c&&(c.current=l.current),l.current&&o){if(!o.destroyed)return o.on("_slideClass",h),()=>{o&&o.off("_slideClass",h)};"swiper-slide"!==d&&p("swiper-slide")}})),E((()=>{o&&l.current&&p(o.getSlideClasses(l.current))}),[o]),"function"===typeof t&&(f={isActive:d.indexOf("swiper-slide-active")>=0||d.indexOf("swiper-slide-duplicate-active")>=0,isVisible:d.indexOf("swiper-slide-visible")>=0,isDuplicate:d.indexOf("swiper-slide-duplicate")>=0,isPrev:d.indexOf("swiper-slide-prev")>=0||d.indexOf("swiper-slide-duplicate-prev")>=0,isNext:d.indexOf("swiper-slide-next")>=0||d.indexOf("swiper-slide-duplicate-next")>=0});const g=()=>"function"===typeof t?t(f):t;return r.createElement(e,x({ref:l,className:u(`${d}${n?` ${n}`:""}`),"data-swiper-slide-index":s},a),i?r.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":"number"===typeof i?i:void 0},g()):g())}));I.displayName="SwiperSlide"},60980:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"===typeof e&&"constructor"in e&&e.constructor===Object}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((n=>{"undefined"===typeof e[n]?e[n]=t[n]:r(t[n])&&r(e[n])&&Object.keys(t[n]).length>0&&o(e[n],t[n])}))}n.d(t,{W_:()=>oe,tl:()=>se,ZP:()=>ne});const i={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function s(){const e="undefined"!==typeof document?document:{};return o(e,i),e}const a={document:i,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:e=>"undefined"===typeof setTimeout?(e(),null):setTimeout(e,0),cancelAnimationFrame(e){"undefined"!==typeof setTimeout&&clearTimeout(e)}};function c(){const e="undefined"!==typeof window?window:{};return o(e,a),e}class l extends Array{constructor(e){"number"===typeof e?super(e):(super(...e||[]),function(e){const t=e.__proto__;Object.defineProperty(e,"__proto__",{get:()=>t,set(e){t.__proto__=e}})}(this))}}function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=[];return e.forEach((e=>{Array.isArray(e)?t.push(...u(e)):t.push(e)})),t}function d(e,t){return Array.prototype.filter.call(e,t)}function p(e,t){const n=c(),r=s();let o=[];if(!t&&e instanceof l)return e;if(!e)return new l(o);if("string"===typeof e){const n=e.trim();if(n.indexOf("<")>=0&&n.indexOf(">")>=0){let e="div";0===n.indexOf("<li")&&(e="ul"),0===n.indexOf("<tr")&&(e="tbody"),0!==n.indexOf("<td")&&0!==n.indexOf("<th")||(e="tr"),0===n.indexOf("<tbody")&&(e="table"),0===n.indexOf("<option")&&(e="select");const t=r.createElement(e);t.innerHTML=n;for(let n=0;n<t.childNodes.length;n+=1)o.push(t.childNodes[n])}else o=function(e,t){if("string"!==typeof e)return[e];const n=[],r=t.querySelectorAll(e);for(let o=0;o<r.length;o+=1)n.push(r[o]);return n}(e.trim(),t||r)}else if(e.nodeType||e===n||e===r)o.push(e);else if(Array.isArray(e)){if(e instanceof l)return e;o=e}return new l(function(e){const t=[];for(let n=0;n<e.length;n+=1)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(o))}p.fn=l.prototype;const h="resize scroll".split(" ");function f(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if("undefined"===typeof n[0]){for(let t=0;t<this.length;t+=1)h.indexOf(e)<0&&(e in this[t]?this[t][e]():p(this[t]).trigger(e));return this}return this.on(e,...n)}}f("click"),f("blur"),f("focus"),f("focusin"),f("focusout"),f("keyup"),f("keydown"),f("keypress"),f("submit"),f("change"),f("mousedown"),f("mousemove"),f("mouseup"),f("mouseenter"),f("mouseleave"),f("mouseout"),f("mouseover"),f("touchstart"),f("touchend"),f("touchmove"),f("resize"),f("scroll");const g={addClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=u(t.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.add(...r)})),this},removeClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=u(t.map((e=>e.split(" "))));return this.forEach((e=>{e.classList.remove(...r)})),this},hasClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=u(t.map((e=>e.split(" "))));return d(this,(e=>r.filter((t=>e.classList.contains(t))).length>0)).length>0},toggleClass:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=u(t.map((e=>e.split(" "))));this.forEach((e=>{r.forEach((t=>{e.classList.toggle(t)}))}))},attr:function(e,t){if(1===arguments.length&&"string"===typeof e)return this[0]?this[0].getAttribute(e):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(e,t);else for(const t in e)this[n][t]=e[t],this[n].setAttribute(t,e[t]);return this},removeAttr:function(e){for(let t=0;t<this.length;t+=1)this[t].removeAttribute(e);return this},transform:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transform=e;return this},transition:function(e){for(let t=0;t<this.length;t+=1)this[t].style.transitionDuration="string"!==typeof e?`${e}ms`:e;return this},on:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,o,i,s]=t;function a(e){const t=e.target;if(!t)return;const n=e.target.dom7EventData||[];if(n.indexOf(e)<0&&n.unshift(e),p(t).is(o))i.apply(t,n);else{const e=p(t).parents();for(let t=0;t<e.length;t+=1)p(e[t]).is(o)&&i.apply(e[t],n)}}function c(e){const t=e&&e.target&&e.target.dom7EventData||[];t.indexOf(e)<0&&t.unshift(e),i.apply(this,t)}"function"===typeof t[1]&&([r,i,s]=t,o=void 0),s||(s=!1);const l=r.split(" ");let u;for(let d=0;d<this.length;d+=1){const e=this[d];if(o)for(u=0;u<l.length;u+=1){const t=l[u];e.dom7LiveListeners||(e.dom7LiveListeners={}),e.dom7LiveListeners[t]||(e.dom7LiveListeners[t]=[]),e.dom7LiveListeners[t].push({listener:i,proxyListener:a}),e.addEventListener(t,a,s)}else for(u=0;u<l.length;u+=1){const t=l[u];e.dom7Listeners||(e.dom7Listeners={}),e.dom7Listeners[t]||(e.dom7Listeners[t]=[]),e.dom7Listeners[t].push({listener:i,proxyListener:c}),e.addEventListener(t,c,s)}}return this},off:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[r,o,i,s]=t;"function"===typeof t[1]&&([r,i,s]=t,o=void 0),s||(s=!1);const a=r.split(" ");for(let c=0;c<a.length;c+=1){const e=a[c];for(let t=0;t<this.length;t+=1){const n=this[t];let r;if(!o&&n.dom7Listeners?r=n.dom7Listeners[e]:o&&n.dom7LiveListeners&&(r=n.dom7LiveListeners[e]),r&&r.length)for(let t=r.length-1;t>=0;t-=1){const o=r[t];i&&o.listener===i||i&&o.listener&&o.listener.dom7proxy&&o.listener.dom7proxy===i?(n.removeEventListener(e,o.proxyListener,s),r.splice(t,1)):i||(n.removeEventListener(e,o.proxyListener,s),r.splice(t,1))}}}return this},trigger:function(){const e=c();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const o=n[0].split(" "),i=n[1];for(let s=0;s<o.length;s+=1){const t=o[s];for(let r=0;r<this.length;r+=1){const o=this[r];if(e.CustomEvent){const r=new e.CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0});o.dom7EventData=n.filter(((e,t)=>t>0)),o.dispatchEvent(r),o.dom7EventData=[],delete o.dom7EventData}}}return this},transitionEnd:function(e){const t=this;return e&&t.on("transitionend",(function n(r){r.target===this&&(e.call(this,r),t.off("transitionend",n))})),this},outerWidth:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(e){if(this.length>0){if(e){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function(){const e=c();return this[0]?e.getComputedStyle(this[0],null):{}},offset:function(){if(this.length>0){const e=c(),t=s(),n=this[0],r=n.getBoundingClientRect(),o=t.body,i=n.clientTop||o.clientTop||0,a=n.clientLeft||o.clientLeft||0,l=n===e?e.scrollY:n.scrollTop,u=n===e?e.scrollX:n.scrollLeft;return{top:r.top+l-i,left:r.left+u-a}}return null},css:function(e,t){const n=c();let r;if(1===arguments.length){if("string"!==typeof e){for(r=0;r<this.length;r+=1)for(const t in e)this[r].style[t]=e[t];return this}if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(e)}if(2===arguments.length&&"string"===typeof e){for(r=0;r<this.length;r+=1)this[r].style[e]=t;return this}return this},each:function(e){return e?(this.forEach(((t,n)=>{e.apply(t,[t,n])})),this):this},html:function(e){if("undefined"===typeof e)return this[0]?this[0].innerHTML:null;for(let t=0;t<this.length;t+=1)this[t].innerHTML=e;return this},text:function(e){if("undefined"===typeof e)return this[0]?this[0].textContent.trim():null;for(let t=0;t<this.length;t+=1)this[t].textContent=e;return this},is:function(e){const t=c(),n=s(),r=this[0];let o,i;if(!r||"undefined"===typeof e)return!1;if("string"===typeof e){if(r.matches)return r.matches(e);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(r.msMatchesSelector)return r.msMatchesSelector(e);for(o=p(e),i=0;i<o.length;i+=1)if(o[i]===r)return!0;return!1}if(e===n)return r===n;if(e===t)return r===t;if(e.nodeType||e instanceof l){for(o=e.nodeType?[e]:e,i=0;i<o.length;i+=1)if(o[i]===r)return!0;return!1}return!1},index:function(){let e,t=this[0];if(t){for(e=0;null!==(t=t.previousSibling);)1===t.nodeType&&(e+=1);return e}},eq:function(e){if("undefined"===typeof e)return this;const t=this.length;if(e>t-1)return p([]);if(e<0){const n=t+e;return p(n<0?[]:[this[n]])}return p([this[e]])},append:function(){let e;const t=s();for(let n=0;n<arguments.length;n+=1){e=n<0||arguments.length<=n?void 0:arguments[n];for(let n=0;n<this.length;n+=1)if("string"===typeof e){const r=t.createElement("div");for(r.innerHTML=e;r.firstChild;)this[n].appendChild(r.firstChild)}else if(e instanceof l)for(let t=0;t<e.length;t+=1)this[n].appendChild(e[t]);else this[n].appendChild(e)}return this},prepend:function(e){const t=s();let n,r;for(n=0;n<this.length;n+=1)if("string"===typeof e){const o=t.createElement("div");for(o.innerHTML=e,r=o.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(o.childNodes[r],this[n].childNodes[0])}else if(e instanceof l)for(r=0;r<e.length;r+=1)this[n].insertBefore(e[r],this[n].childNodes[0]);else this[n].insertBefore(e,this[n].childNodes[0]);return this},next:function(e){return this.length>0?e?this[0].nextElementSibling&&p(this[0].nextElementSibling).is(e)?p([this[0].nextElementSibling]):p([]):this[0].nextElementSibling?p([this[0].nextElementSibling]):p([]):p([])},nextAll:function(e){const t=[];let n=this[0];if(!n)return p([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;e?p(r).is(e)&&t.push(r):t.push(r),n=r}return p(t)},prev:function(e){if(this.length>0){const t=this[0];return e?t.previousElementSibling&&p(t.previousElementSibling).is(e)?p([t.previousElementSibling]):p([]):t.previousElementSibling?p([t.previousElementSibling]):p([])}return p([])},prevAll:function(e){const t=[];let n=this[0];if(!n)return p([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;e?p(r).is(e)&&t.push(r):t.push(r),n=r}return p(t)},parent:function(e){const t=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(e?p(this[n].parentNode).is(e)&&t.push(this[n].parentNode):t.push(this[n].parentNode));return p(t)},parents:function(e){const t=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)e?p(r).is(e)&&t.push(r):t.push(r),r=r.parentNode}return p(t)},closest:function(e){let t=this;return"undefined"===typeof e?p([]):(t.is(e)||(t=t.parents(e).eq(0)),t)},find:function(e){const t=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(e);for(let e=0;e<r.length;e+=1)t.push(r[e])}return p(t)},children:function(e){const t=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let n=0;n<r.length;n+=1)e&&!p(r[n]).is(e)||t.push(r[n])}return p(t)},filter:function(e){return p(d(this,e))},remove:function(){for(let e=0;e<this.length;e+=1)this[e].parentNode&&this[e].parentNode.removeChild(this[e]);return this}};Object.keys(g).forEach((e=>{Object.defineProperty(p.fn,e,{value:g[e],writable:!0})}));const y=p;function m(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return setTimeout(e,t)}function b(){return Date.now()}function v(e){const t=c();let n;return t.getComputedStyle&&(n=t.getComputedStyle(e,null)),!n&&e.currentStyle&&(n=e.currentStyle),n||(n=e.style),n}function w(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=c();let r,o,i;const s=v(e);return n.WebKitCSSMatrix?(o=s.transform||s.webkitTransform,o.split(",").length>6&&(o=o.split(", ").map((e=>e.replace(",","."))).join(", ")),i=new n.WebKitCSSMatrix("none"===o?"":o)):(i=s.MozTransform||s.OTransform||s.MsTransform||s.msTransform||s.transform||s.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),"x"===t&&(o=n.WebKitCSSMatrix?i.m41:16===r.length?parseFloat(r[12]):parseFloat(r[4])),"y"===t&&(o=n.WebKitCSSMatrix?i.m42:16===r.length?parseFloat(r[13]):parseFloat(r[5])),o||0}function k(e){return"object"===typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function _(e){return"undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement?e instanceof HTMLElement:e&&(1===e.nodeType||11===e.nodeType)}function E(){const e=Object(arguments.length<=0?void 0:arguments[0]),t=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(void 0!==r&&null!==r&&!_(r)){const n=Object.keys(Object(r)).filter((e=>t.indexOf(e)<0));for(let t=0,o=n.length;t<o;t+=1){const o=n[t],i=Object.getOwnPropertyDescriptor(r,o);void 0!==i&&i.enumerable&&(k(e[o])&&k(r[o])?r[o].__swiper__?e[o]=r[o]:E(e[o],r[o]):!k(e[o])&&k(r[o])?(e[o]={},r[o].__swiper__?e[o]=r[o]:E(e[o],r[o])):e[o]=r[o])}}}return e}function S(e,t,n){e.style.setProperty(t,n)}function C(e){let{swiper:t,targetPosition:n,side:r}=e;const o=c(),i=-t.translate;let s,a=null;const l=t.params.speed;t.wrapperEl.style.scrollSnapType="none",o.cancelAnimationFrame(t.cssModeFrameID);const u=n>i?"next":"prev",d=(e,t)=>"next"===u&&e>=t||"prev"===u&&e<=t,p=()=>{s=(new Date).getTime(),null===a&&(a=s);const e=Math.max(Math.min((s-a)/l,1),0),c=.5-Math.cos(e*Math.PI)/2;let u=i+c*(n-i);if(d(u,n)&&(u=n),t.wrapperEl.scrollTo({[r]:u}),d(u,n))return t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout((()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[r]:u})})),void o.cancelAnimationFrame(t.cssModeFrameID);t.cssModeFrameID=o.requestAnimationFrame(p)};p()}let x,I,A;function P(){return x||(x=function(){const e=c(),t=s();return{smoothScroll:t.documentElement&&"scrollBehavior"in t.documentElement.style,touch:!!("ontouchstart"in e||e.DocumentTouch&&t instanceof e.DocumentTouch),passiveListener:function(){let t=!1;try{const n=Object.defineProperty({},"passive",{get(){t=!0}});e.addEventListener("testPassiveListener",null,n)}catch(n){}return t}(),gestures:"ongesturestart"in e}}()),x}function R(){let{userAgent:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=P(),n=c(),r=n.navigator.platform,o=e||n.navigator.userAgent,i={ios:!1,android:!1},s=n.screen.width,a=n.screen.height,l=o.match(/(Android);?[\s\/]+([\d.]+)?/);let u=o.match(/(iPad).*OS\s([\d_]+)/);const d=o.match(/(iPod)(.*OS\s([\d_]+))?/),p=!u&&o.match(/(iPhone\sOS|iOS)\s([\d_]+)/),h="Win32"===r;let f="MacIntel"===r;const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&f&&t.touch&&g.indexOf(`${s}x${a}`)>=0&&(u=o.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),f=!1),l&&!h&&(i.os="android",i.android=!0),(u||p||d)&&(i.os="ios",i.ios=!0),i}function O(){return A||(A=function(){const e=c();return{isSafari:function(){const t=e.navigator.userAgent.toLowerCase();return t.indexOf("safari")>=0&&t.indexOf("chrome")<0&&t.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)}}()),A}const T={on(e,t,n){const r=this;if("function"!==typeof t)return r;const o=n?"unshift":"push";return e.split(" ").forEach((e=>{r.eventsListeners[e]||(r.eventsListeners[e]=[]),r.eventsListeners[e][o](t)})),r},once(e,t,n){const r=this;if("function"!==typeof t)return r;function o(){r.off(e,o),o.__emitterProxy&&delete o.__emitterProxy;for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];t.apply(r,i)}return o.__emitterProxy=t,r.on(e,o,n)},onAny(e,t){const n=this;if("function"!==typeof e)return n;const r=t?"unshift":"push";return n.eventsAnyListeners.indexOf(e)<0&&n.eventsAnyListeners[r](e),n},offAny(e){const t=this;if(!t.eventsAnyListeners)return t;const n=t.eventsAnyListeners.indexOf(e);return n>=0&&t.eventsAnyListeners.splice(n,1),t},off(e,t){const n=this;return n.eventsListeners?(e.split(" ").forEach((e=>{"undefined"===typeof t?n.eventsListeners[e]=[]:n.eventsListeners[e]&&n.eventsListeners[e].forEach(((r,o)=>{(r===t||r.__emitterProxy&&r.__emitterProxy===t)&&n.eventsListeners[e].splice(o,1)}))})),n):n},emit(){const e=this;if(!e.eventsListeners)return e;let t,n,r;for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];"string"===typeof i[0]||Array.isArray(i[0])?(t=i[0],n=i.slice(1,i.length),r=e):(t=i[0].events,n=i[0].data,r=i[0].context||e),n.unshift(r);return(Array.isArray(t)?t:t.split(" ")).forEach((t=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach((e=>{e.apply(r,[t,...n])})),e.eventsListeners&&e.eventsListeners[t]&&e.eventsListeners[t].forEach((e=>{e.apply(r,n)}))})),e}};const D={updateSize:function(){const e=this;let t,n;const r=e.$el;t="undefined"!==typeof e.params.width&&null!==e.params.width?e.params.width:r[0].clientWidth,n="undefined"!==typeof e.params.height&&null!==e.params.height?e.params.height:r[0].clientHeight,0===t&&e.isHorizontal()||0===n&&e.isVertical()||(t=t-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(t)&&(t=0),Number.isNaN(n)&&(n=0),Object.assign(e,{width:t,height:n,size:e.isHorizontal()?t:n}))},updateSlides:function(){const e=this;function t(t){return e.isHorizontal()?t:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[t]}function n(e,n){return parseFloat(e.getPropertyValue(t(n))||0)}const r=e.params,{$wrapperEl:o,size:i,rtlTranslate:s,wrongRTL:a}=e,c=e.virtual&&r.virtual.enabled,l=c?e.virtual.slides.length:e.slides.length,u=o.children(`.${e.params.slideClass}`),d=c?e.virtual.slides.length:u.length;let p=[];const h=[],f=[];let g=r.slidesOffsetBefore;"function"===typeof g&&(g=r.slidesOffsetBefore.call(e));let y=r.slidesOffsetAfter;"function"===typeof y&&(y=r.slidesOffsetAfter.call(e));const m=e.snapGrid.length,b=e.slidesGrid.length;let v=r.spaceBetween,w=-g,k=0,_=0;if("undefined"===typeof i)return;"string"===typeof v&&v.indexOf("%")>=0&&(v=parseFloat(v.replace("%",""))/100*i),e.virtualSize=-v,s?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(S(e.wrapperEl,"--swiper-centered-offset-before",""),S(e.wrapperEl,"--swiper-centered-offset-after",""));const E=r.grid&&r.grid.rows>1&&e.grid;let C;E&&e.grid.initSlides(d);const x="auto"===r.slidesPerView&&r.breakpoints&&Object.keys(r.breakpoints).filter((e=>"undefined"!==typeof r.breakpoints[e].slidesPerView)).length>0;for(let S=0;S<d;S+=1){C=0;const o=u.eq(S);if(E&&e.grid.updateSlide(S,o,d,t),"none"!==o.css("display")){if("auto"===r.slidesPerView){x&&(u[S].style[t("width")]="");const i=getComputedStyle(o[0]),s=o[0].style.transform,a=o[0].style.webkitTransform;if(s&&(o[0].style.transform="none"),a&&(o[0].style.webkitTransform="none"),r.roundLengths)C=e.isHorizontal()?o.outerWidth(!0):o.outerHeight(!0);else{const e=n(i,"width"),t=n(i,"padding-left"),r=n(i,"padding-right"),s=n(i,"margin-left"),a=n(i,"margin-right"),c=i.getPropertyValue("box-sizing");if(c&&"border-box"===c)C=e+s+a;else{const{clientWidth:n,offsetWidth:i}=o[0];C=e+t+r+s+a+(i-n)}}s&&(o[0].style.transform=s),a&&(o[0].style.webkitTransform=a),r.roundLengths&&(C=Math.floor(C))}else C=(i-(r.slidesPerView-1)*v)/r.slidesPerView,r.roundLengths&&(C=Math.floor(C)),u[S]&&(u[S].style[t("width")]=`${C}px`);u[S]&&(u[S].swiperSlideSize=C),f.push(C),r.centeredSlides?(w=w+C/2+k/2+v,0===k&&0!==S&&(w=w-i/2-v),0===S&&(w=w-i/2-v),Math.abs(w)<.001&&(w=0),r.roundLengths&&(w=Math.floor(w)),_%r.slidesPerGroup===0&&p.push(w),h.push(w)):(r.roundLengths&&(w=Math.floor(w)),(_-Math.min(e.params.slidesPerGroupSkip,_))%e.params.slidesPerGroup===0&&p.push(w),h.push(w),w=w+C+v),e.virtualSize+=C+v,k=C,_+=1}}if(e.virtualSize=Math.max(e.virtualSize,i)+y,s&&a&&("slide"===r.effect||"coverflow"===r.effect)&&o.css({width:`${e.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&o.css({[t("width")]:`${e.virtualSize+r.spaceBetween}px`}),E&&e.grid.updateWrapperSize(C,p,t),!r.centeredSlides){const t=[];for(let n=0;n<p.length;n+=1){let o=p[n];r.roundLengths&&(o=Math.floor(o)),p[n]<=e.virtualSize-i&&t.push(o)}p=t,Math.floor(e.virtualSize-i)-Math.floor(p[p.length-1])>1&&p.push(e.virtualSize-i)}if(0===p.length&&(p=[0]),0!==r.spaceBetween){const n=e.isHorizontal()&&s?"marginLeft":t("marginRight");u.filter(((e,t)=>!r.cssMode||t!==u.length-1)).css({[n]:`${v}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let e=0;f.forEach((t=>{e+=t+(r.spaceBetween?r.spaceBetween:0)})),e-=r.spaceBetween;const t=e-i;p=p.map((e=>e<0?-g:e>t?t+y:e))}if(r.centerInsufficientSlides){let e=0;if(f.forEach((t=>{e+=t+(r.spaceBetween?r.spaceBetween:0)})),e-=r.spaceBetween,e<i){const t=(i-e)/2;p.forEach(((e,n)=>{p[n]=e-t})),h.forEach(((e,n)=>{h[n]=e+t}))}}if(Object.assign(e,{slides:u,snapGrid:p,slidesGrid:h,slidesSizesGrid:f}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){S(e.wrapperEl,"--swiper-centered-offset-before",-p[0]+"px"),S(e.wrapperEl,"--swiper-centered-offset-after",e.size/2-f[f.length-1]/2+"px");const t=-e.snapGrid[0],n=-e.slidesGrid[0];e.snapGrid=e.snapGrid.map((e=>e+t)),e.slidesGrid=e.slidesGrid.map((e=>e+n))}d!==l&&e.emit("slidesLengthChange"),p.length!==m&&(e.params.watchOverflow&&e.checkOverflow(),e.emit("snapGridLengthChange")),h.length!==b&&e.emit("slidesGridLengthChange"),r.watchSlidesProgress&&e.updateSlidesOffset()},updateAutoHeight:function(e){const t=this,n=[],r=t.virtual&&t.params.virtual.enabled;let o,i=0;"number"===typeof e?t.setTransition(e):!0===e&&t.setTransition(t.params.speed);const s=e=>r?t.slides.filter((t=>parseInt(t.getAttribute("data-swiper-slide-index"),10)===e))[0]:t.slides.eq(e)[0];if("auto"!==t.params.slidesPerView&&t.params.slidesPerView>1)if(t.params.centeredSlides)t.visibleSlides.each((e=>{n.push(e)}));else for(o=0;o<Math.ceil(t.params.slidesPerView);o+=1){const e=t.activeIndex+o;if(e>t.slides.length&&!r)break;n.push(s(e))}else n.push(s(t.activeIndex));for(o=0;o<n.length;o+=1)if("undefined"!==typeof n[o]){const e=n[o].offsetHeight;i=e>i?e:i}(i||0===i)&&t.$wrapperEl.css("height",`${i}px`)},updateSlidesOffset:function(){const e=this,t=e.slides;for(let n=0;n<t.length;n+=1)t[n].swiperSlideOffset=e.isHorizontal()?t[n].offsetLeft:t[n].offsetTop},updateSlidesProgress:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this&&this.translate||0;const t=this,n=t.params,{slides:r,rtlTranslate:o,snapGrid:i}=t;if(0===r.length)return;"undefined"===typeof r[0].swiperSlideOffset&&t.updateSlidesOffset();let s=-e;o&&(s=e),r.removeClass(n.slideVisibleClass),t.visibleSlidesIndexes=[],t.visibleSlides=[];for(let a=0;a<r.length;a+=1){const e=r[a];let c=e.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const l=(s+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+n.spaceBetween),u=(s-i[0]+(n.centeredSlides?t.minTranslate():0)-c)/(e.swiperSlideSize+n.spaceBetween),d=-(s-c),p=d+t.slidesSizesGrid[a];(d>=0&&d<t.size-1||p>1&&p<=t.size||d<=0&&p>=t.size)&&(t.visibleSlides.push(e),t.visibleSlidesIndexes.push(a),r.eq(a).addClass(n.slideVisibleClass)),e.progress=o?-l:l,e.originalProgress=o?-u:u}t.visibleSlides=y(t.visibleSlides)},updateProgress:function(e){const t=this;if("undefined"===typeof e){const n=t.rtlTranslate?-1:1;e=t&&t.translate&&t.translate*n||0}const n=t.params,r=t.maxTranslate()-t.minTranslate();let{progress:o,isBeginning:i,isEnd:s}=t;const a=i,c=s;0===r?(o=0,i=!0,s=!0):(o=(e-t.minTranslate())/r,i=o<=0,s=o>=1),Object.assign(t,{progress:o,isBeginning:i,isEnd:s}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&t.updateSlidesProgress(e),i&&!a&&t.emit("reachBeginning toEdge"),s&&!c&&t.emit("reachEnd toEdge"),(a&&!i||c&&!s)&&t.emit("fromEdge"),t.emit("progress",o)},updateSlidesClasses:function(){const e=this,{slides:t,params:n,$wrapperEl:r,activeIndex:o,realIndex:i}=e,s=e.virtual&&n.virtual.enabled;let a;t.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`),a=s?e.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${o}"]`):t.eq(o),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass));let c=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&0===c.length&&(c=t.eq(0),c.addClass(n.slideNextClass));let l=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&0===l.length&&(l=t.eq(-1),l.addClass(n.slidePrevClass)),n.loop&&(c.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),e.emitSlidesClasses()},updateActiveIndex:function(e){const t=this,n=t.rtlTranslate?t.translate:-t.translate,{slidesGrid:r,snapGrid:o,params:i,activeIndex:s,realIndex:a,snapIndex:c}=t;let l,u=e;if("undefined"===typeof u){for(let e=0;e<r.length;e+=1)"undefined"!==typeof r[e+1]?n>=r[e]&&n<r[e+1]-(r[e+1]-r[e])/2?u=e:n>=r[e]&&n<r[e+1]&&(u=e+1):n>=r[e]&&(u=e);i.normalizeSlideIndex&&(u<0||"undefined"===typeof u)&&(u=0)}if(o.indexOf(n)>=0)l=o.indexOf(n);else{const e=Math.min(i.slidesPerGroupSkip,u);l=e+Math.floor((u-e)/i.slidesPerGroup)}if(l>=o.length&&(l=o.length-1),u===s)return void(l!==c&&(t.snapIndex=l,t.emit("snapIndexChange")));const d=parseInt(t.slides.eq(u).attr("data-swiper-slide-index")||u,10);Object.assign(t,{snapIndex:l,realIndex:d,previousIndex:s,activeIndex:u}),t.emit("activeIndexChange"),t.emit("snapIndexChange"),a!==d&&t.emit("realIndexChange"),(t.initialized||t.params.runCallbacksOnInit)&&t.emit("slideChange")},updateClickedSlide:function(e){const t=this,n=t.params,r=y(e).closest(`.${n.slideClass}`)[0];let o,i=!1;if(r)for(let s=0;s<t.slides.length;s+=1)if(t.slides[s]===r){i=!0,o=s;break}if(!r||!i)return t.clickedSlide=void 0,void(t.clickedIndex=void 0);t.clickedSlide=r,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(y(r).attr("data-swiper-slide-index"),10):t.clickedIndex=o,n.slideToClickedSlide&&void 0!==t.clickedIndex&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}};const M={getTranslate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.isHorizontal()?"x":"y";const t=this,{params:n,rtlTranslate:r,translate:o,$wrapperEl:i}=t;if(n.virtualTranslate)return r?-o:o;if(n.cssMode)return o;let s=w(i[0],e);return r&&(s=-s),s||0},setTranslate:function(e,t){const n=this,{rtlTranslate:r,params:o,$wrapperEl:i,wrapperEl:s,progress:a}=n;let c,l=0,u=0;n.isHorizontal()?l=r?-e:e:u=e,o.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),o.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:o.virtualTranslate||i.transform(`translate3d(${l}px, ${u}px, 0px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u;const d=n.maxTranslate()-n.minTranslate();c=0===d?0:(e-n.minTranslate())/d,c!==a&&n.updateProgress(e),n.emit("setTranslate",n.translate,t)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4?arguments[4]:void 0;const i=this,{params:s,wrapperEl:a}=i;if(i.animating&&s.preventInteractionOnTransition)return!1;const c=i.minTranslate(),l=i.maxTranslate();let u;if(u=r&&e>c?c:r&&e<l?l:e,i.updateProgress(u),s.cssMode){const e=i.isHorizontal();if(0===t)a[e?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return C({swiper:i,targetPosition:-u,side:e?"left":"top"}),!0;a.scrollTo({[e?"left":"top"]:-u,behavior:"smooth"})}return!0}return 0===t?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionEnd"))):(i.setTransition(t),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",t,o),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.$wrapperEl[0].addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd))),!0}};function N(e){let{swiper:t,runCallbacks:n,direction:r,step:o}=e;const{activeIndex:i,previousIndex:s}=t;let a=r;if(a||(a=i>s?"next":i<s?"prev":"reset"),t.emit(`transition${o}`),n&&i!==s){if("reset"===a)return void t.emit(`slideResetTransition${o}`);t.emit(`slideChangeTransition${o}`),"next"===a?t.emit(`slideNextTransition${o}`):t.emit(`slidePrevTransition${o}`)}}const j={slideTo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;if("number"!==typeof e&&"string"!==typeof e)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof e}] given.`);if("string"===typeof e){const t=parseInt(e,10);if(!isFinite(t))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${e}] given.`);e=t}const i=this;let s=e;s<0&&(s=0);const{params:a,snapGrid:c,slidesGrid:l,previousIndex:u,activeIndex:d,rtlTranslate:p,wrapperEl:h,enabled:f}=i;if(i.animating&&a.preventInteractionOnTransition||!f&&!r&&!o)return!1;const g=Math.min(i.params.slidesPerGroupSkip,s);let y=g+Math.floor((s-g)/i.params.slidesPerGroup);y>=c.length&&(y=c.length-1),(d||a.initialSlide||0)===(u||0)&&n&&i.emit("beforeSlideChangeStart");const m=-c[y];if(i.updateProgress(m),a.normalizeSlideIndex)for(let v=0;v<l.length;v+=1){const e=-Math.floor(100*m),t=Math.floor(100*l[v]),n=Math.floor(100*l[v+1]);"undefined"!==typeof l[v+1]?e>=t&&e<n-(n-t)/2?s=v:e>=t&&e<n&&(s=v+1):e>=t&&(s=v)}if(i.initialized&&s!==d){if(!i.allowSlideNext&&m<i.translate&&m<i.minTranslate())return!1;if(!i.allowSlidePrev&&m>i.translate&&m>i.maxTranslate()&&(d||0)!==s)return!1}let b;if(b=s>d?"next":s<d?"prev":"reset",p&&-m===i.translate||!p&&m===i.translate)return i.updateActiveIndex(s),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),"slide"!==a.effect&&i.setTranslate(m),"reset"!==b&&(i.transitionStart(n,b),i.transitionEnd(n,b)),!1;if(a.cssMode){const e=i.isHorizontal(),n=p?m:-m;if(0===t){const t=i.virtual&&i.params.virtual.enabled;t&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),h[e?"scrollLeft":"scrollTop"]=n,t&&requestAnimationFrame((()=>{i.wrapperEl.style.scrollSnapType="",i._swiperImmediateVirtual=!1}))}else{if(!i.support.smoothScroll)return C({swiper:i,targetPosition:n,side:e?"left":"top"}),!0;h.scrollTo({[e?"left":"top"]:n,behavior:"smooth"})}return!0}return i.setTransition(t),i.setTranslate(m),i.updateActiveIndex(s),i.updateSlidesClasses(),i.emit("beforeTransitionStart",t,r),i.transitionStart(n,b),0===t?i.transitionEnd(n,b):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(e){i&&!i.destroyed&&e.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,b))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.params.speed,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;const o=this;let i=e;return o.params.loop&&(i+=o.loopedSlides),o.slideTo(i,t,n,r)},slideNext:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=this,{animating:o,enabled:i,params:s}=r;if(!i)return r;let a=s.slidesPerGroup;"auto"===s.slidesPerView&&1===s.slidesPerGroup&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:a;if(s.loop){if(o&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return s.rewind&&r.isEnd?r.slideTo(0,e,t,n):r.slideTo(r.activeIndex+c,e,t,n)},slidePrev:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=this,{params:o,animating:i,snapGrid:s,slidesGrid:a,rtlTranslate:c,enabled:l}=r;if(!l)return r;if(o.loop){if(i&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const u=c?r.translate:-r.translate;function d(e){return e<0?-Math.floor(Math.abs(e)):Math.floor(e)}const p=d(u),h=s.map((e=>d(e)));let f=s[h.indexOf(p)-1];if("undefined"===typeof f&&o.cssMode){let e;s.forEach(((t,n)=>{p>=t&&(e=n)})),"undefined"!==typeof e&&(f=s[e>0?e-1:e])}let g=0;return"undefined"!==typeof f&&(g=a.indexOf(f),g<0&&(g=r.activeIndex-1),"auto"===o.slidesPerView&&1===o.slidesPerGroup&&o.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),o.rewind&&r.isBeginning?r.slideTo(r.slides.length-1,e,t,n):r.slideTo(g,e,t,n)},slideReset:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=this;return r.slideTo(r.activeIndex,e,t,n)},slideToClosest:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.params.speed,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;const o=this;let i=o.activeIndex;const s=Math.min(o.params.slidesPerGroupSkip,i),a=s+Math.floor((i-s)/o.params.slidesPerGroup),c=o.rtlTranslate?o.translate:-o.translate;if(c>=o.snapGrid[a]){const e=o.snapGrid[a];c-e>(o.snapGrid[a+1]-e)*r&&(i+=o.params.slidesPerGroup)}else{const e=o.snapGrid[a-1];c-e<=(o.snapGrid[a]-e)*r&&(i-=o.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,o.slidesGrid.length-1),o.slideTo(i,e,t,n)},slideToClickedSlide:function(){const e=this,{params:t,$wrapperEl:n}=e,r="auto"===t.slidesPerView?e.slidesPerViewDynamic():t.slidesPerView;let o,i=e.clickedIndex;if(t.loop){if(e.animating)return;o=parseInt(y(e.clickedSlide).attr("data-swiper-slide-index"),10),t.centeredSlides?i<e.loopedSlides-r/2||i>e.slides.length-e.loopedSlides+r/2?(e.loopFix(),i=n.children(`.${t.slideClass}[data-swiper-slide-index="${o}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),m((()=>{e.slideTo(i)}))):e.slideTo(i):i>e.slides.length-r?(e.loopFix(),i=n.children(`.${t.slideClass}[data-swiper-slide-index="${o}"]:not(.${t.slideDuplicateClass})`).eq(0).index(),m((()=>{e.slideTo(i)}))):e.slideTo(i)}else e.slideTo(i)}};const L={loopCreate:function(){const e=this,t=s(),{params:n,$wrapperEl:r}=e,o=r.children().length>0?y(r.children()[0].parentNode):r;o.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let i=o.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const e=n.slidesPerGroup-i.length%n.slidesPerGroup;if(e!==n.slidesPerGroup){for(let r=0;r<e;r+=1){const e=y(t.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);o.append(e)}i=o.children(`.${n.slideClass}`)}}"auto"!==n.slidesPerView||n.loopedSlides||(n.loopedSlides=i.length),e.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),e.loopedSlides+=n.loopAdditionalSlides,e.loopedSlides>i.length&&(e.loopedSlides=i.length);const a=[],c=[];i.each(((t,n)=>{const r=y(t);n<e.loopedSlides&&c.push(t),n<i.length&&n>=i.length-e.loopedSlides&&a.push(t),r.attr("data-swiper-slide-index",n)}));for(let s=0;s<c.length;s+=1)o.append(y(c[s].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let s=a.length-1;s>=0;s-=1)o.prepend(y(a[s].cloneNode(!0)).addClass(n.slideDuplicateClass))},loopFix:function(){const e=this;e.emit("beforeLoopFix");const{activeIndex:t,slides:n,loopedSlides:r,allowSlidePrev:o,allowSlideNext:i,snapGrid:s,rtlTranslate:a}=e;let c;e.allowSlidePrev=!0,e.allowSlideNext=!0;const l=-s[t]-e.getTranslate();if(t<r){c=n.length-3*r+t,c+=r;e.slideTo(c,0,!1,!0)&&0!==l&&e.setTranslate((a?-e.translate:e.translate)-l)}else if(t>=n.length-r){c=-n.length+t+r,c+=r;e.slideTo(c,0,!1,!0)&&0!==l&&e.setTranslate((a?-e.translate:e.translate)-l)}e.allowSlidePrev=o,e.allowSlideNext=i,e.emit("loopFix")},loopDestroy:function(){const{$wrapperEl:e,params:t,slides:n}=this;e.children(`.${t.slideClass}.${t.slideDuplicateClass},.${t.slideClass}.${t.slideBlankClass}`).remove(),n.removeAttr("data-swiper-slide-index")}};function B(e){const t=this,n=s(),r=c(),o=t.touchEventsData,{params:i,touches:a,enabled:l}=t;if(!l)return;if(t.animating&&i.preventInteractionOnTransition)return;!t.animating&&i.cssMode&&i.loop&&t.loopFix();let u=e;u.originalEvent&&(u=u.originalEvent);let d=y(u.target);if("wrapper"===i.touchEventsTarget&&!d.closest(t.wrapperEl).length)return;if(o.isTouchEvent="touchstart"===u.type,!o.isTouchEvent&&"which"in u&&3===u.which)return;if(!o.isTouchEvent&&"button"in u&&u.button>0)return;if(o.isTouched&&o.isMoved)return;!!i.noSwipingClass&&""!==i.noSwipingClass&&u.target&&u.target.shadowRoot&&e.path&&e.path[0]&&(d=y(e.path[0]));const p=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,h=!(!u.target||!u.target.shadowRoot);if(i.noSwiping&&(h?function(e){function t(n){return n&&n!==s()&&n!==c()?(n.assignedSlot&&(n=n.assignedSlot),n.closest(e)||t(n.getRootNode().host)):null}return t(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this)}(p,u.target):d.closest(p)[0]))return void(t.allowClick=!0);if(i.swipeHandler&&!d.closest(i.swipeHandler)[0])return;a.currentX="touchstart"===u.type?u.targetTouches[0].pageX:u.pageX,a.currentY="touchstart"===u.type?u.targetTouches[0].pageY:u.pageY;const f=a.currentX,g=a.currentY,m=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,v=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(m&&(f<=v||f>=r.innerWidth-v)){if("prevent"!==m)return;e.preventDefault()}if(Object.assign(o,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=f,a.startY=g,o.touchStartTime=b(),t.allowClick=!0,t.updateSize(),t.swipeDirection=void 0,i.threshold>0&&(o.allowThresholdMove=!1),"touchstart"!==u.type){let e=!0;d.is(o.focusableElements)&&(e=!1),n.activeElement&&y(n.activeElement).is(o.focusableElements)&&n.activeElement!==d[0]&&n.activeElement.blur();const r=e&&t.allowTouchMove&&i.touchStartPreventDefault;!i.touchStartForcePreventDefault&&!r||d[0].isContentEditable||u.preventDefault()}t.emit("touchStart",u)}function z(e){const t=s(),n=this,r=n.touchEventsData,{params:o,touches:i,rtlTranslate:a,enabled:c}=n;if(!c)return;let l=e;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched)return void(r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l));if(r.isTouchEvent&&"touchmove"!==l.type)return;const u="touchmove"===l.type&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),d="touchmove"===l.type?u.pageX:l.pageX,p="touchmove"===l.type?u.pageY:l.pageY;if(l.preventedByNestedSwiper)return i.startX=d,void(i.startY=p);if(!n.allowTouchMove)return n.allowClick=!1,void(r.isTouched&&(Object.assign(i,{startX:d,startY:p,currentX:d,currentY:p}),r.touchStartTime=b()));if(r.isTouchEvent&&o.touchReleaseOnEdges&&!o.loop)if(n.isVertical()){if(p<i.startY&&n.translate<=n.maxTranslate()||p>i.startY&&n.translate>=n.minTranslate())return r.isTouched=!1,void(r.isMoved=!1)}else if(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate())return;if(r.isTouchEvent&&t.activeElement&&l.target===t.activeElement&&y(l.target).is(r.focusableElements))return r.isMoved=!0,void(n.allowClick=!1);if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;i.currentX=d,i.currentY=p;const h=i.currentX-i.startX,f=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(h**2+f**2)<n.params.threshold)return;if("undefined"===typeof r.isScrolling){let e;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:h*h+f*f>=25&&(e=180*Math.atan2(Math.abs(f),Math.abs(h))/Math.PI,r.isScrolling=n.isHorizontal()?e>o.touchAngle:90-e>o.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),"undefined"===typeof r.startMoving&&(i.currentX===i.startX&&i.currentY===i.startY||(r.startMoving=!0)),r.isScrolling)return void(r.isTouched=!1);if(!r.startMoving)return;n.allowClick=!1,!o.cssMode&&l.cancelable&&l.preventDefault(),o.touchMoveStopPropagation&&!o.nested&&l.stopPropagation(),r.isMoved||(o.loop&&!o.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,!o.grabCursor||!0!==n.allowSlideNext&&!0!==n.allowSlidePrev||n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;let g=n.isHorizontal()?h:f;i.diff=g,g*=o.touchRatio,a&&(g=-g),n.swipeDirection=g>0?"prev":"next",r.currentTranslate=g+r.startTranslate;let m=!0,v=o.resistanceRatio;if(o.touchReleaseOnEdges&&(v=0),g>0&&r.currentTranslate>n.minTranslate()?(m=!1,o.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+g)**v)):g<0&&r.currentTranslate<n.maxTranslate()&&(m=!1,o.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-g)**v)),m&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&"next"===n.swipeDirection&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&"prev"===n.swipeDirection&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),n.allowSlidePrev||n.allowSlideNext||(r.currentTranslate=r.startTranslate),o.threshold>0){if(!(Math.abs(g)>o.threshold||r.allowThresholdMove))return void(r.currentTranslate=r.startTranslate);if(!r.allowThresholdMove)return r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,void(i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY)}o.followFinger&&!o.cssMode&&((o.freeMode&&o.freeMode.enabled&&n.freeMode||o.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&o.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function F(e){const t=this,n=t.touchEventsData,{params:r,touches:o,rtlTranslate:i,slidesGrid:s,enabled:a}=t;if(!a)return;let c=e;if(c.originalEvent&&(c=c.originalEvent),n.allowTouchCallbacks&&t.emit("touchEnd",c),n.allowTouchCallbacks=!1,!n.isTouched)return n.isMoved&&r.grabCursor&&t.setGrabCursor(!1),n.isMoved=!1,void(n.startMoving=!1);r.grabCursor&&n.isMoved&&n.isTouched&&(!0===t.allowSlideNext||!0===t.allowSlidePrev)&&t.setGrabCursor(!1);const l=b(),u=l-n.touchStartTime;if(t.allowClick){const e=c.path||c.composedPath&&c.composedPath();t.updateClickedSlide(e&&e[0]||c.target),t.emit("tap click",c),u<300&&l-n.lastClickTime<300&&t.emit("doubleTap doubleClick",c)}if(n.lastClickTime=b(),m((()=>{t.destroyed||(t.allowClick=!0)})),!n.isTouched||!n.isMoved||!t.swipeDirection||0===o.diff||n.currentTranslate===n.startTranslate)return n.isTouched=!1,n.isMoved=!1,void(n.startMoving=!1);let d;if(n.isTouched=!1,n.isMoved=!1,n.startMoving=!1,d=r.followFinger?i?t.translate:-t.translate:-n.currentTranslate,r.cssMode)return;if(t.params.freeMode&&r.freeMode.enabled)return void t.freeMode.onTouchEnd({currentPos:d});let p=0,h=t.slidesSizesGrid[0];for(let y=0;y<s.length;y+=y<r.slidesPerGroupSkip?1:r.slidesPerGroup){const e=y<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;"undefined"!==typeof s[y+e]?d>=s[y]&&d<s[y+e]&&(p=y,h=s[y+e]-s[y]):d>=s[y]&&(p=y,h=s[s.length-1]-s[s.length-2])}const f=(d-s[p])/h,g=p<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes)return void t.slideTo(t.activeIndex);"next"===t.swipeDirection&&(f>=r.longSwipesRatio?t.slideTo(p+g):t.slideTo(p)),"prev"===t.swipeDirection&&(f>1-r.longSwipesRatio?t.slideTo(p+g):t.slideTo(p))}else{if(!r.shortSwipes)return void t.slideTo(t.activeIndex);t.navigation&&(c.target===t.navigation.nextEl||c.target===t.navigation.prevEl)?c.target===t.navigation.nextEl?t.slideTo(p+g):t.slideTo(p):("next"===t.swipeDirection&&t.slideTo(p+g),"prev"===t.swipeDirection&&t.slideTo(p))}}function U(){const e=this,{params:t,el:n}=e;if(n&&0===n.offsetWidth)return;t.breakpoints&&e.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:o,snapGrid:i}=e;e.allowSlideNext=!0,e.allowSlidePrev=!0,e.updateSize(),e.updateSlides(),e.updateSlidesClasses(),("auto"===t.slidesPerView||t.slidesPerView>1)&&e.isEnd&&!e.isBeginning&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),e.autoplay&&e.autoplay.running&&e.autoplay.paused&&e.autoplay.run(),e.allowSlidePrev=o,e.allowSlideNext=r,e.params.watchOverflow&&i!==e.snapGrid&&e.checkOverflow()}function $(e){const t=this;t.enabled&&(t.allowClick||(t.params.preventClicks&&e.preventDefault(),t.params.preventClicksPropagation&&t.animating&&(e.stopPropagation(),e.stopImmediatePropagation())))}function W(){const e=this,{wrapperEl:t,rtlTranslate:n,enabled:r}=e;if(!r)return;let o;e.previousTranslate=e.translate,e.isHorizontal()?e.translate=-t.scrollLeft:e.translate=-t.scrollTop,-0===e.translate&&(e.translate=0),e.updateActiveIndex(),e.updateSlidesClasses();const i=e.maxTranslate()-e.minTranslate();o=0===i?0:(e.translate-e.minTranslate())/i,o!==e.progress&&e.updateProgress(n?-e.translate:e.translate),e.emit("setTranslate",e.translate,!1)}let q=!1;function H(){}const K=(e,t)=>{const n=s(),{params:r,touchEvents:o,el:i,wrapperEl:a,device:c,support:l}=e,u=!!r.nested,d="on"===t?"addEventListener":"removeEventListener",p=t;if(l.touch){const t=!("touchstart"!==o.start||!l.passiveListener||!r.passiveListeners)&&{passive:!0,capture:!1};i[d](o.start,e.onTouchStart,t),i[d](o.move,e.onTouchMove,l.passiveListener?{passive:!1,capture:u}:u),i[d](o.end,e.onTouchEnd,t),o.cancel&&i[d](o.cancel,e.onTouchEnd,t)}else i[d](o.start,e.onTouchStart,!1),n[d](o.move,e.onTouchMove,u),n[d](o.end,e.onTouchEnd,!1);(r.preventClicks||r.preventClicksPropagation)&&i[d]("click",e.onClick,!0),r.cssMode&&a[d]("scroll",e.onScroll),r.updateOnWindowResize?e[p](c.ios||c.android?"resize orientationchange observerUpdate":"resize observerUpdate",U,!0):e[p]("observerUpdate",U,!0)};const G={attachEvents:function(){const e=this,t=s(),{params:n,support:r}=e;e.onTouchStart=B.bind(e),e.onTouchMove=z.bind(e),e.onTouchEnd=F.bind(e),n.cssMode&&(e.onScroll=W.bind(e)),e.onClick=$.bind(e),r.touch&&!q&&(t.addEventListener("touchstart",H),q=!0),K(e,"on")},detachEvents:function(){K(this,"off")}},V=(e,t)=>e.grid&&t.grid&&t.grid.rows>1;const X={setBreakpoint:function(){const e=this,{activeIndex:t,initialized:n,loopedSlides:r=0,params:o,$el:i}=e,s=o.breakpoints;if(!s||s&&0===Object.keys(s).length)return;const a=e.getBreakpoint(s,e.params.breakpointsBase,e.el);if(!a||e.currentBreakpoint===a)return;const c=(a in s?s[a]:void 0)||e.originalParams,l=V(e,o),u=V(e,c),d=o.enabled;l&&!u?(i.removeClass(`${o.containerModifierClass}grid ${o.containerModifierClass}grid-column`),e.emitContainerClasses()):!l&&u&&(i.addClass(`${o.containerModifierClass}grid`),(c.grid.fill&&"column"===c.grid.fill||!c.grid.fill&&"column"===o.grid.fill)&&i.addClass(`${o.containerModifierClass}grid-column`),e.emitContainerClasses());const p=c.direction&&c.direction!==o.direction,h=o.loop&&(c.slidesPerView!==o.slidesPerView||p);p&&n&&e.changeDirection(),E(e.params,c);const f=e.params.enabled;Object.assign(e,{allowTouchMove:e.params.allowTouchMove,allowSlideNext:e.params.allowSlideNext,allowSlidePrev:e.params.allowSlidePrev}),d&&!f?e.disable():!d&&f&&e.enable(),e.currentBreakpoint=a,e.emit("_beforeBreakpoint",c),h&&n&&(e.loopDestroy(),e.loopCreate(),e.updateSlides(),e.slideTo(t-r+e.loopedSlides,0,!1)),e.emit("breakpoint",c)},getBreakpoint:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"window",n=arguments.length>2?arguments[2]:void 0;if(!e||"container"===t&&!n)return;let r=!1;const o=c(),i="window"===t?o.innerHeight:n.clientHeight,s=Object.keys(e).map((e=>{if("string"===typeof e&&0===e.indexOf("@")){const t=parseFloat(e.substr(1));return{value:i*t,point:e}}return{value:e,point:e}}));s.sort(((e,t)=>parseInt(e.value,10)-parseInt(t.value,10)));for(let a=0;a<s.length;a+=1){const{point:e,value:i}=s[a];"window"===t?o.matchMedia(`(min-width: ${i}px)`).matches&&(r=e):i<=n.clientWidth&&(r=e)}return r||"max"}};const Y={addClasses:function(){const e=this,{classNames:t,params:n,rtl:r,$el:o,device:i,support:s}=e,a=function(e,t){const n=[];return e.forEach((e=>{"object"===typeof e?Object.keys(e).forEach((r=>{e[r]&&n.push(t+r)})):"string"===typeof e&&n.push(t+e)})),n}(["initialized",n.direction,{"pointer-events":!s.touch},{"free-mode":e.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&"column"===n.grid.fill},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides}],n.containerModifierClass);t.push(...a),o.addClass([...t].join(" ")),e.emitContainerClasses()},removeClasses:function(){const{$el:e,classNames:t}=this;e.removeClass(t.join(" ")),this.emitContainerClasses()}};const Z={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function J(e,t){return function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=Object.keys(n)[0],o=n[r];"object"===typeof o&&null!==o?(["navigation","pagination","scrollbar"].indexOf(r)>=0&&!0===e[r]&&(e[r]={auto:!0}),r in e&&"enabled"in o?(!0===e[r]&&(e[r]={enabled:!0}),"object"!==typeof e[r]||"enabled"in e[r]||(e[r].enabled=!0),e[r]||(e[r]={enabled:!1}),E(t,n)):E(t,n)):E(t,n)}}const Q={eventsEmitter:T,update:D,translate:M,transition:{setTransition:function(e,t){const n=this;n.params.cssMode||n.$wrapperEl.transition(e),n.emit("setTransition",e,t)},transitionStart:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),N({swiper:n,runCallbacks:e,direction:t,step:"Start"}))},transitionEnd:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;const n=this,{params:r}=n;n.animating=!1,r.cssMode||(n.setTransition(0),N({swiper:n,runCallbacks:e,direction:t,step:"End"}))}},slide:j,loop:L,grabCursor:{setGrabCursor:function(e){const t=this;if(t.support.touch||!t.params.simulateTouch||t.params.watchOverflow&&t.isLocked||t.params.cssMode)return;const n="container"===t.params.touchEventsTarget?t.el:t.wrapperEl;n.style.cursor="move",n.style.cursor=e?"-webkit-grabbing":"-webkit-grab",n.style.cursor=e?"-moz-grabbin":"-moz-grab",n.style.cursor=e?"grabbing":"grab"},unsetGrabCursor:function(){const e=this;e.support.touch||e.params.watchOverflow&&e.isLocked||e.params.cssMode||(e["container"===e.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:G,breakpoints:X,checkOverflow:{checkOverflow:function(){const e=this,{isLocked:t,params:n}=e,{slidesOffsetBefore:r}=n;if(r){const t=e.slides.length-1,n=e.slidesGrid[t]+e.slidesSizesGrid[t]+2*r;e.isLocked=e.size>n}else e.isLocked=1===e.snapGrid.length;!0===n.allowSlideNext&&(e.allowSlideNext=!e.isLocked),!0===n.allowSlidePrev&&(e.allowSlidePrev=!e.isLocked),t&&t!==e.isLocked&&(e.isEnd=!1),t!==e.isLocked&&e.emit(e.isLocked?"lock":"unlock")}},classes:Y,images:{loadImage:function(e,t,n,r,o,i){const s=c();let a;function l(){i&&i()}y(e).parent("picture")[0]||e.complete&&o?l():t?(a=new s.Image,a.onload=l,a.onerror=l,r&&(a.sizes=r),n&&(a.srcset=n),t&&(a.src=t)):l()},preloadImages:function(){const e=this;function t(){"undefined"!==typeof e&&null!==e&&e&&!e.destroyed&&(void 0!==e.imagesLoaded&&(e.imagesLoaded+=1),e.imagesLoaded===e.imagesToLoad.length&&(e.params.updateOnImagesReady&&e.update(),e.emit("imagesReady")))}e.imagesToLoad=e.$el.find("img");for(let n=0;n<e.imagesToLoad.length;n+=1){const r=e.imagesToLoad[n];e.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,t)}}}},ee={};class te{constructor(){let e,t;for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(1===r.length&&r[0].constructor&&"Object"===Object.prototype.toString.call(r[0]).slice(8,-1)?t=r[0]:[e,t]=r,t||(t={}),t=E({},t),e&&!t.el&&(t.el=e),t.el&&y(t.el).length>1){const e=[];return y(t.el).each((n=>{const r=E({},t,{el:n});e.push(new te(r))})),e}const i=this;i.__swiper__=!0,i.support=P(),i.device=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I||(I=R(e)),I}({userAgent:t.userAgent}),i.browser=O(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],t.modules&&Array.isArray(t.modules)&&i.modules.push(...t.modules);const s={};i.modules.forEach((e=>{e({swiper:i,extendParams:J(t,s),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})}));const a=E({},Z,s);return i.params=E({},a,ee,t),i.originalParams=E({},i.params),i.passedParams=E({},t),i.params&&i.params.on&&Object.keys(i.params.on).forEach((e=>{i.on(e,i.params.on[e])})),i.params&&i.params.onAny&&i.onAny(i.params.onAny),i.$=y,Object.assign(i,{enabled:i.params.enabled,el:e,classNames:[],slides:y(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===i.params.direction,isVertical:()=>"vertical"===i.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:function(){const e=["touchstart","touchmove","touchend","touchcancel"],t=["pointerdown","pointermove","pointerup"];return i.touchEventsTouch={start:e[0],move:e[1],end:e[2],cancel:e[3]},i.touchEventsDesktop={start:t[0],move:t[1],end:t[2]},i.support.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:b(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const n=this;e=Math.min(Math.max(e,0),1);const r=n.minTranslate(),o=(n.maxTranslate()-r)*e+r;n.translateTo(o,"undefined"===typeof t?0:t),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter((t=>0===t.indexOf("swiper")||0===t.indexOf(e.params.containerModifierClass)));e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return e.className.split(" ").filter((e=>0===e.indexOf("swiper-slide")||0===e.indexOf(t.params.slideClass))).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.each((n=>{const r=e.getSlideClasses(n);t.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)})),e.emit("_slideClasses",t)}slidesPerViewDynamic(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"current",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{params:n,slides:r,slidesGrid:o,slidesSizesGrid:i,size:s,activeIndex:a}=this;let c=1;if(n.centeredSlides){let e,t=r[a].swiperSlideSize;for(let n=a+1;n<r.length;n+=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,c+=1,t>s&&(e=!0));for(let n=a-1;n>=0;n-=1)r[n]&&!e&&(t+=r[n].swiperSlideSize,c+=1,t>s&&(e=!0))}else if("current"===e)for(let l=a+1;l<r.length;l+=1){(t?o[l]+i[l]-o[a]<s:o[l]-o[a]<s)&&(c+=1)}else for(let l=a-1;l>=0;l-=1){o[a]-o[l]<s&&(c+=1)}return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:n}=e;function r(){const t=e.rtlTranslate?-1*e.translate:e.translate,n=Math.min(Math.max(t,e.maxTranslate()),e.minTranslate());e.setTranslate(n),e.updateActiveIndex(),e.updateSlidesClasses()}let o;n.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.params.freeMode&&e.params.freeMode.enabled?(r(),e.params.autoHeight&&e.updateAutoHeight()):(o=("auto"===e.params.slidesPerView||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?e.slideTo(e.slides.length-1,0,!1,!0):e.slideTo(e.activeIndex,0,!1,!0),o||r()),n.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this,r=n.params.direction;return e||(e="horizontal"===r?"vertical":"horizontal"),e===r||"horizontal"!==e&&"vertical"!==e||(n.$el.removeClass(`${n.params.containerModifierClass}${r}`).addClass(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.each((t=>{"vertical"===e?t.style.width="":t.style.height=""})),n.emit("changeDirection"),t&&n.update()),n}mount(e){const t=this;if(t.mounted)return!0;const n=y(e||t.params.el);if(!(e=n[0]))return!1;e.swiper=t;const r=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const t=y(e.shadowRoot.querySelector(r()));return t.children=e=>n.children(e),t}return n.children(r())})();if(0===o.length&&t.params.createElements){const e=s().createElement("div");o=y(e),e.className=t.params.wrapperClass,n.append(e),n.children(`.${t.params.slideClass}`).each((e=>{o.append(e)}))}return Object.assign(t,{$el:n,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:"rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction"),rtlTranslate:"horizontal"===t.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===n.css("direction")),wrongRTL:"-webkit-box"===o.css("display")}),!0}init(e){const t=this;if(t.initialized)return t;return!1===t.mount(e)||(t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.params.loop&&t.loopCreate(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.preloadImages&&t.preloadImages(),t.params.loop?t.slideTo(t.params.initialSlide+t.loopedSlides,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.attachEvents(),t.initialized=!0,t.emit("init"),t.emit("afterInit")),t}destroy(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this,{params:r,$el:o,$wrapperEl:i,slides:s}=n;return"undefined"===typeof n.params||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),t&&(n.removeClasses(),o.removeAttr("style"),i.removeAttr("style"),s&&s.length&&s.removeClass([r.slideVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),n.emit("destroy"),Object.keys(n.eventsListeners).forEach((e=>{n.off(e)})),!1!==e&&(n.$el[0].swiper=null,function(e){const t=e;Object.keys(t).forEach((e=>{try{t[e]=null}catch(n){}try{delete t[e]}catch(n){}}))}(n)),n.destroyed=!0),null}static extendDefaults(e){E(ee,e)}static get extendedDefaults(){return ee}static get defaults(){return Z}static installModule(e){te.prototype.__modules__||(te.prototype.__modules__=[]);const t=te.prototype.__modules__;"function"===typeof e&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach((e=>te.installModule(e))),te):(te.installModule(e),te)}}Object.keys(Q).forEach((e=>{Object.keys(Q[e]).forEach((t=>{te.prototype[t]=Q[e][t]}))})),te.use([function(e){let{swiper:t,on:n,emit:r}=e;const o=c();let i=null;const s=()=>{t&&!t.destroyed&&t.initialized&&(r("beforeResize"),r("resize"))},a=()=>{t&&!t.destroyed&&t.initialized&&r("orientationchange")};n("init",(()=>{t.params.resizeObserver&&"undefined"!==typeof o.ResizeObserver?t&&!t.destroyed&&t.initialized&&(i=new ResizeObserver((e=>{const{width:n,height:r}=t;let o=n,i=r;e.forEach((e=>{let{contentBoxSize:n,contentRect:r,target:s}=e;s&&s!==t.el||(o=r?r.width:(n[0]||n).inlineSize,i=r?r.height:(n[0]||n).blockSize)})),o===n&&i===r||s()})),i.observe(t.el)):(o.addEventListener("resize",s),o.addEventListener("orientationchange",a))})),n("destroy",(()=>{i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null),o.removeEventListener("resize",s),o.removeEventListener("orientationchange",a)}))},function(e){let{swiper:t,extendParams:n,on:r,emit:o}=e;const i=[],s=c(),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=s.MutationObserver||s.WebkitMutationObserver,r=new n((e=>{if(1===e.length)return void o("observerUpdate",e[0]);const t=function(){o("observerUpdate",e[0])};s.requestAnimationFrame?s.requestAnimationFrame(t):s.setTimeout(t,0)}));r.observe(e,{attributes:"undefined"===typeof t.attributes||t.attributes,childList:"undefined"===typeof t.childList||t.childList,characterData:"undefined"===typeof t.characterData||t.characterData}),i.push(r)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",(()=>{if(t.params.observer){if(t.params.observeParents){const e=t.$el.parents();for(let t=0;t<e.length;t+=1)a(e[t])}a(t.$el[0],{childList:t.params.observeSlideChildren}),a(t.$wrapperEl[0],{attributes:!1})}})),r("destroy",(()=>{i.forEach((e=>{e.disconnect()})),i.splice(0,i.length)}))}]);const ne=te;function re(e,t,n,r){const o=s();return e.params.createElements&&Object.keys(r).forEach((i=>{if(!n[i]&&!0===n.auto){let s=e.$el.children(`.${r[i]}`)[0];s||(s=o.createElement("div"),s.className=r[i],e.$el.append(s)),n[i]=s,t[i]=s}})),n}function oe(e){let{swiper:t,extendParams:n,on:r,emit:o}=e;function i(e){let n;return e&&(n=y(e),t.params.uniqueNavElements&&"string"===typeof e&&n.length>1&&1===t.$el.find(e).length&&(n=t.$el.find(e))),n}function s(e,n){const r=t.params.navigation;e&&e.length>0&&(e[n?"addClass":"removeClass"](r.disabledClass),e[0]&&"BUTTON"===e[0].tagName&&(e[0].disabled=n),t.params.watchOverflow&&t.enabled&&e[t.isLocked?"addClass":"removeClass"](r.lockClass))}function a(){if(t.params.loop)return;const{$nextEl:e,$prevEl:n}=t.navigation;s(n,t.isBeginning&&!t.params.rewind),s(e,t.isEnd&&!t.params.rewind)}function c(e){e.preventDefault(),(!t.isBeginning||t.params.loop||t.params.rewind)&&t.slidePrev()}function l(e){e.preventDefault(),(!t.isEnd||t.params.loop||t.params.rewind)&&t.slideNext()}function u(){const e=t.params.navigation;if(t.params.navigation=re(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!e.nextEl&&!e.prevEl)return;const n=i(e.nextEl),r=i(e.prevEl);n&&n.length>0&&n.on("click",l),r&&r.length>0&&r.on("click",c),Object.assign(t.navigation,{$nextEl:n,nextEl:n&&n[0],$prevEl:r,prevEl:r&&r[0]}),t.enabled||(n&&n.addClass(e.lockClass),r&&r.addClass(e.lockClass))}function d(){const{$nextEl:e,$prevEl:n}=t.navigation;e&&e.length&&(e.off("click",l),e.removeClass(t.params.navigation.disabledClass)),n&&n.length&&(n.off("click",c),n.removeClass(t.params.navigation.disabledClass))}n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},r("init",(()=>{u(),a()})),r("toEdge fromEdge lock unlock",(()=>{a()})),r("destroy",(()=>{d()})),r("enable disable",(()=>{const{$nextEl:e,$prevEl:n}=t.navigation;e&&e[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),n&&n[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)})),r("click",((e,n)=>{const{$nextEl:r,$prevEl:i}=t.navigation,s=n.target;if(t.params.navigation.hideOnClick&&!y(s).is(i)&&!y(s).is(r)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===s||t.pagination.el.contains(s)))return;let e;r?e=r.hasClass(t.params.navigation.hiddenClass):i&&(e=i.hasClass(t.params.navigation.hiddenClass)),o(!0===e?"navigationShow":"navigationHide"),r&&r.toggleClass(t.params.navigation.hiddenClass),i&&i.toggleClass(t.params.navigation.hiddenClass)}})),Object.assign(t.navigation,{update:a,init:u,destroy:d})}function ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return`.${e.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function se(e){let{swiper:t,extendParams:n,on:r,emit:o}=e;const i="swiper-pagination";let s;n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:e=>e,formatFractionTotal:e=>e,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`}}),t.pagination={el:null,$el:null,bullets:[]};let a=0;function c(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||0===t.pagination.$el.length}function l(e,n){const{bulletActiveClass:r}=t.params.pagination;e[n]().addClass(`${r}-${n}`)[n]().addClass(`${r}-${n}-${n}`)}function u(){const e=t.rtl,n=t.params.pagination;if(c())return;const r=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,i=t.pagination.$el;let u;const d=t.params.loop?Math.ceil((r-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(u=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),u>r-1-2*t.loopedSlides&&(u-=r-2*t.loopedSlides),u>d-1&&(u-=d),u<0&&"bullets"!==t.params.paginationType&&(u=d+u)):u="undefined"!==typeof t.snapIndex?t.snapIndex:t.activeIndex||0,"bullets"===n.type&&t.pagination.bullets&&t.pagination.bullets.length>0){const r=t.pagination.bullets;let o,c,d;if(n.dynamicBullets&&(s=r.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),i.css(t.isHorizontal()?"width":"height",s*(n.dynamicMainBullets+4)+"px"),n.dynamicMainBullets>1&&void 0!==t.previousIndex&&(a+=u-(t.previousIndex-t.loopedSlides||0),a>n.dynamicMainBullets-1?a=n.dynamicMainBullets-1:a<0&&(a=0)),o=Math.max(u-a,0),c=o+(Math.min(r.length,n.dynamicMainBullets)-1),d=(c+o)/2),r.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map((e=>`${n.bulletActiveClass}${e}`)).join(" ")),i.length>1)r.each((e=>{const t=y(e),r=t.index();r===u&&t.addClass(n.bulletActiveClass),n.dynamicBullets&&(r>=o&&r<=c&&t.addClass(`${n.bulletActiveClass}-main`),r===o&&l(t,"prev"),r===c&&l(t,"next"))}));else{const e=r.eq(u),i=e.index();if(e.addClass(n.bulletActiveClass),n.dynamicBullets){const e=r.eq(o),s=r.eq(c);for(let t=o;t<=c;t+=1)r.eq(t).addClass(`${n.bulletActiveClass}-main`);if(t.params.loop)if(i>=r.length){for(let e=n.dynamicMainBullets;e>=0;e-=1)r.eq(r.length-e).addClass(`${n.bulletActiveClass}-main`);r.eq(r.length-n.dynamicMainBullets-1).addClass(`${n.bulletActiveClass}-prev`)}else l(e,"prev"),l(s,"next");else l(e,"prev"),l(s,"next")}}if(n.dynamicBullets){const o=Math.min(r.length,n.dynamicMainBullets+4),i=(s*o-s)/2-d*s,a=e?"right":"left";r.css(t.isHorizontal()?a:"top",`${i}px`)}}if("fraction"===n.type&&(i.find(ie(n.currentClass)).text(n.formatFractionCurrent(u+1)),i.find(ie(n.totalClass)).text(n.formatFractionTotal(d))),"progressbar"===n.type){let e;e=n.progressbarOpposite?t.isHorizontal()?"vertical":"horizontal":t.isHorizontal()?"horizontal":"vertical";const r=(u+1)/d;let o=1,s=1;"horizontal"===e?o=r:s=r,i.find(ie(n.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${o}) scaleY(${s})`).transition(t.params.speed)}"custom"===n.type&&n.renderCustom?(i.html(n.renderCustom(t,u+1,d)),o("paginationRender",i[0])):o("paginationUpdate",i[0]),t.params.watchOverflow&&t.enabled&&i[t.isLocked?"addClass":"removeClass"](n.lockClass)}function d(){const e=t.params.pagination;if(c())return;const n=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,r=t.pagination.$el;let i="";if("bullets"===e.type){let o=t.params.loop?Math.ceil((n-2*t.loopedSlides)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&o>n&&(o=n);for(let n=0;n<o;n+=1)e.renderBullet?i+=e.renderBullet.call(t,n,e.bulletClass):i+=`<${e.bulletElement} class="${e.bulletClass}"></${e.bulletElement}>`;r.html(i),t.pagination.bullets=r.find(ie(e.bulletClass))}"fraction"===e.type&&(i=e.renderFraction?e.renderFraction.call(t,e.currentClass,e.totalClass):`<span class="${e.currentClass}"></span> / <span class="${e.totalClass}"></span>`,r.html(i)),"progressbar"===e.type&&(i=e.renderProgressbar?e.renderProgressbar.call(t,e.progressbarFillClass):`<span class="${e.progressbarFillClass}"></span>`,r.html(i)),"custom"!==e.type&&o("paginationRender",t.pagination.$el[0])}function p(){t.params.pagination=re(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const e=t.params.pagination;if(!e.el)return;let n=y(e.el);0!==n.length&&(t.params.uniqueNavElements&&"string"===typeof e.el&&n.length>1&&(n=t.$el.find(e.el),n.length>1&&(n=n.filter((e=>y(e).parents(".swiper")[0]===t.el)))),"bullets"===e.type&&e.clickable&&n.addClass(e.clickableClass),n.addClass(e.modifierClass+e.type),n.addClass(e.modifierClass+t.params.direction),"bullets"===e.type&&e.dynamicBullets&&(n.addClass(`${e.modifierClass}${e.type}-dynamic`),a=0,e.dynamicMainBullets<1&&(e.dynamicMainBullets=1)),"progressbar"===e.type&&e.progressbarOpposite&&n.addClass(e.progressbarOppositeClass),e.clickable&&n.on("click",ie(e.bulletClass),(function(e){e.preventDefault();let n=y(this).index()*t.params.slidesPerGroup;t.params.loop&&(n+=t.loopedSlides),t.slideTo(n)})),Object.assign(t.pagination,{$el:n,el:n[0]}),t.enabled||n.addClass(e.lockClass))}function h(){const e=t.params.pagination;if(c())return;const n=t.pagination.$el;n.removeClass(e.hiddenClass),n.removeClass(e.modifierClass+e.type),n.removeClass(e.modifierClass+t.params.direction),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(e.bulletActiveClass),e.clickable&&n.off("click",ie(e.bulletClass))}r("init",(()=>{p(),d(),u()})),r("activeIndexChange",(()=>{(t.params.loop||"undefined"===typeof t.snapIndex)&&u()})),r("snapIndexChange",(()=>{t.params.loop||u()})),r("slidesLengthChange",(()=>{t.params.loop&&(d(),u())})),r("snapGridLengthChange",(()=>{t.params.loop||(d(),u())})),r("destroy",(()=>{h()})),r("enable disable",(()=>{const{$el:e}=t.pagination;e&&e[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)})),r("lock unlock",(()=>{u()})),r("click",((e,n)=>{const r=n.target,{$el:i}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&i.length>0&&!y(r).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&r===t.navigation.nextEl||t.navigation.prevEl&&r===t.navigation.prevEl))return;const e=i.hasClass(t.params.pagination.hiddenClass);o(!0===e?"paginationShow":"paginationHide"),i.toggleClass(t.params.pagination.hiddenClass)}})),Object.assign(t.pagination,{render:d,update:u,init:p,destroy:h})}},68425:(e,t,n)=>{"use strict";n.r(t),n.d(t,{fromString:()=>o});var r=n(71124);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=r.Z[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.decoder.decode(`${n.prefix}${e}`)}},93314:(e,t,n)=>{"use strict";n.r(t),n.d(t,{toString:()=>o});var r=n(71124);function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";const n=r.Z[t];if(!n)throw new Error(`Unsupported encoding "${t}"`);return n.encoder.encode(e).substring(1)}}}]);
//# sourceMappingURL=511.9b8006f0.chunk.js.map