/*! For license information please see vendors-node_modules_zetamarkets_sdk_dist_index_js.92f358ac.chunk.js.LICENSE.txt */
(globalThis.webpackChunkinterdao=globalThis.webpackChunkinterdao||[]).push([["vendors-node_modules_zetamarkets_sdk_dist_index_js"],{89768:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseInstructionErrorResponse=t.KNOWN_PROGRAMS=t.DexError=void 0;const n=r(71256),i=r(1127),s=r(63786);var o;!function(e){e[e.InvalidMarketFlags=0]="InvalidMarketFlags",e[e.InvalidAskFlags=1]="InvalidAskFlags",e[e.InvalidBidFlags=2]="InvalidBidFlags",e[e.InvalidQueueLength=3]="InvalidQueueLength",e[e.OwnerAccountNotProvided=4]="OwnerAccountNotProvided",e[e.ConsumeEventsQueueFailure=5]="ConsumeEventsQueueFailure",e[e.WrongCoinVault=6]="WrongCoinVault",e[e.WrongPcVault=7]="WrongPcVault",e[e.WrongCoinMint=8]="WrongCoinMint",e[e.WrongPcMint=9]="WrongPcMint",e[e.CoinVaultProgramId=10]="CoinVaultProgramId",e[e.PcVaultProgramId=11]="PcVaultProgramId",e[e.CoinMintProgramId=12]="CoinMintProgramId",e[e.PcMintProgramId=13]="PcMintProgramId",e[e.WrongCoinMintSize=14]="WrongCoinMintSize",e[e.WrongPcMintSize=15]="WrongPcMintSize",e[e.WrongCoinVaultSize=16]="WrongCoinVaultSize",e[e.WrongPcVaultSize=17]="WrongPcVaultSize",e[e.UninitializedVault=18]="UninitializedVault",e[e.UninitializedMint=19]="UninitializedMint",e[e.CoinMintUninitialized=20]="CoinMintUninitialized",e[e.PcMintUninitialized=21]="PcMintUninitialized",e[e.WrongMint=22]="WrongMint",e[e.WrongVaultOwner=23]="WrongVaultOwner",e[e.VaultHasDelegate=24]="VaultHasDelegate",e[e.AlreadyInitialized=25]="AlreadyInitialized",e[e.WrongAccountDataAlignment=26]="WrongAccountDataAlignment",e[e.WrongAccountDataPaddingLength=27]="WrongAccountDataPaddingLength",e[e.WrongAccountHeadPadding=28]="WrongAccountHeadPadding",e[e.WrongAccountTailPadding=29]="WrongAccountTailPadding",e[e.RequestQueueEmpty=30]="RequestQueueEmpty",e[e.EventQueueTooSmall=31]="EventQueueTooSmall",e[e.SlabTooSmall=32]="SlabTooSmall",e[e.BadVaultSignerNonce=33]="BadVaultSignerNonce",e[e.InsufficientFunds=34]="InsufficientFunds",e[e.SplAccountProgramId=35]="SplAccountProgramId",e[e.SplAccountLen=36]="SplAccountLen",e[e.WrongFeeDiscountAccountOwner=37]="WrongFeeDiscountAccountOwner",e[e.WrongFeeDiscountMint=38]="WrongFeeDiscountMint",e[e.CoinPayerProgramId=39]="CoinPayerProgramId",e[e.PcPayerProgramId=40]="PcPayerProgramId",e[e.ClientIdNotFound=41]="ClientIdNotFound",e[e.TooManyOpenOrders=42]="TooManyOpenOrders",e[e.FakeErrorSoWeDontChangeNumbers=43]="FakeErrorSoWeDontChangeNumbers",e[e.BorrowError=44]="BorrowError",e[e.WrongOrdersAccount=45]="WrongOrdersAccount",e[e.WrongBidsAccount=46]="WrongBidsAccount",e[e.WrongAsksAccount=47]="WrongAsksAccount",e[e.WrongRequestQueueAccount=48]="WrongRequestQueueAccount",e[e.WrongEventQueueAccount=49]="WrongEventQueueAccount",e[e.RequestQueueFull=50]="RequestQueueFull",e[e.EventQueueFull=51]="EventQueueFull",e[e.MarketIsDisabled=52]="MarketIsDisabled",e[e.WrongSigner=53]="WrongSigner",e[e.TransferFailed=54]="TransferFailed",e[e.ClientOrderIdIsZero=55]="ClientOrderIdIsZero",e[e.WrongRentSysvarAccount=56]="WrongRentSysvarAccount",e[e.RentNotProvided=57]="RentNotProvided",e[e.OrdersNotRentExempt=58]="OrdersNotRentExempt",e[e.OrderNotFound=59]="OrderNotFound",e[e.OrderNotYours=60]="OrderNotYours",e[e.WouldSelfTrade=61]="WouldSelfTrade",e[e.Unknown=1e3]="Unknown"}(o=t.DexError||(t.DexError={})),t.KNOWN_PROGRAMS={[s.TOKEN_PROGRAM_ID.toString()]:"Token program",[n.SystemProgram.programId.toString()]:"System program"},t.parseInstructionErrorResponse=function(e,r){const[n,s]=r,a=e.instructions[n];let u;if(a.programId.toString()in i.PROGRAM_LAYOUT_VERSIONS)u=o[s.Custom];else if(a.programId.toString()in t.KNOWN_PROGRAMS){u=`${t.KNOWN_PROGRAMS[a.programId.toString()]} error ${s.Custom}`}else u=`Unknown program ${a.programId.toString()} custom error: ${s.Custom}`;return{failedInstructionIndex:n,error:u,failedProgram:a.programId.toString()}}},12463:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeeTier=t.getFeeRates=t.supportsSrmFeeDiscounts=void 0;const n=r(1127);t.supportsSrmFeeDiscounts=function(e){return n.getLayoutVersion(e)>1},t.getFeeRates=function(e){return 1===e?{taker:.002,maker:-3e-4}:2===e?{taker:.0018,maker:-3e-4}:3===e?{taker:.0016,maker:-3e-4}:4===e?{taker:.0014,maker:-3e-4}:5===e?{taker:.0012,maker:-3e-4}:6===e?{taker:.001,maker:-5e-4}:{taker:.0022,maker:-3e-4}},t.getFeeTier=function(e,t){return e>=1?6:t>=1e6?5:t>=1e5?4:t>=1e4?3:t>=1e3?2:t>=100?1:0}},94706:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.ReferralFees=t.OpenOrdersPda=t.MarketProxyBuilder=t.MarketProxy=t.TokenInstructions=t.EVENT_QUEUE_LAYOUT=t.REQUEST_QUEUE_LAYOUT=t.decodeRequestQueue=t.decodeEventQueue=t.getLayoutVersion=t.MARKETS=t.TOKEN_MINTS=t.supportsSrmFeeDiscounts=t.getFeeRates=t.getFeeTier=t.NEW_ORDER_V3_OWNER_INDEX=t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=t.NEW_ORDER_OWNER_INDEX=t.NEW_ORDER_OPEN_ORDERS_INDEX=t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=t.SETTLE_FUNDS_BASE_WALLET_INDEX=t.decodeInstruction=t.DexInstructions=t.MARKET_STATE_LAYOUT_V2=t.MARKET_STATE_LAYOUT_V3=t.OpenOrders=t.Orderbook=t.Market=void 0;var a=r(83989);Object.defineProperty(t,"Market",{enumerable:!0,get:function(){return a.Market}}),Object.defineProperty(t,"Orderbook",{enumerable:!0,get:function(){return a.Orderbook}}),Object.defineProperty(t,"OpenOrders",{enumerable:!0,get:function(){return a.OpenOrders}}),Object.defineProperty(t,"MARKET_STATE_LAYOUT_V3",{enumerable:!0,get:function(){return a.MARKET_STATE_LAYOUT_V3}}),Object.defineProperty(t,"MARKET_STATE_LAYOUT_V2",{enumerable:!0,get:function(){return a.MARKET_STATE_LAYOUT_V2}});var u=r(2936);Object.defineProperty(t,"DexInstructions",{enumerable:!0,get:function(){return u.DexInstructions}}),Object.defineProperty(t,"decodeInstruction",{enumerable:!0,get:function(){return u.decodeInstruction}}),Object.defineProperty(t,"SETTLE_FUNDS_BASE_WALLET_INDEX",{enumerable:!0,get:function(){return u.SETTLE_FUNDS_BASE_WALLET_INDEX}}),Object.defineProperty(t,"SETTLE_FUNDS_QUOTE_WALLET_INDEX",{enumerable:!0,get:function(){return u.SETTLE_FUNDS_QUOTE_WALLET_INDEX}}),Object.defineProperty(t,"NEW_ORDER_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_OPEN_ORDERS_INDEX}}),Object.defineProperty(t,"NEW_ORDER_OWNER_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_OWNER_INDEX}}),Object.defineProperty(t,"NEW_ORDER_V3_OPEN_ORDERS_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_V3_OPEN_ORDERS_INDEX}}),Object.defineProperty(t,"NEW_ORDER_V3_OWNER_INDEX",{enumerable:!0,get:function(){return u.NEW_ORDER_V3_OWNER_INDEX}});var c=r(12463);Object.defineProperty(t,"getFeeTier",{enumerable:!0,get:function(){return c.getFeeTier}}),Object.defineProperty(t,"getFeeRates",{enumerable:!0,get:function(){return c.getFeeRates}}),Object.defineProperty(t,"supportsSrmFeeDiscounts",{enumerable:!0,get:function(){return c.supportsSrmFeeDiscounts}});var l=r(1127);Object.defineProperty(t,"TOKEN_MINTS",{enumerable:!0,get:function(){return l.TOKEN_MINTS}}),Object.defineProperty(t,"MARKETS",{enumerable:!0,get:function(){return l.MARKETS}}),Object.defineProperty(t,"getLayoutVersion",{enumerable:!0,get:function(){return l.getLayoutVersion}});var d=r(31472);Object.defineProperty(t,"decodeEventQueue",{enumerable:!0,get:function(){return d.decodeEventQueue}}),Object.defineProperty(t,"decodeRequestQueue",{enumerable:!0,get:function(){return d.decodeRequestQueue}}),Object.defineProperty(t,"REQUEST_QUEUE_LAYOUT",{enumerable:!0,get:function(){return d.REQUEST_QUEUE_LAYOUT}}),Object.defineProperty(t,"EVENT_QUEUE_LAYOUT",{enumerable:!0,get:function(){return d.EVENT_QUEUE_LAYOUT}}),t.TokenInstructions=s(r(63786)),o(r(89768),t);var h=r(87002);Object.defineProperty(t,"MarketProxy",{enumerable:!0,get:function(){return h.MarketProxy}}),Object.defineProperty(t,"MarketProxyBuilder",{enumerable:!0,get:function(){return h.MarketProxyBuilder}});var p=r(18786);Object.defineProperty(t,"OpenOrdersPda",{enumerable:!0,get:function(){return p.OpenOrdersPda}}),Object.defineProperty(t,"ReferralFees",{enumerable:!0,get:function(){return p.ReferralFees}}),Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return p.Logger}})},2936:(e,t,r)=>{"use strict";var n=r(36897).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.DexInstructions=t.decodeInstruction=t.encodeInstruction=t.INSTRUCTION_LAYOUT=t.NEW_ORDER_V3_OWNER_INDEX=t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=t.NEW_ORDER_OWNER_INDEX=t.NEW_ORDER_OPEN_ORDERS_INDEX=t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=t.SETTLE_FUNDS_BASE_WALLET_INDEX=void 0;const i=r(12324),s=r(84321),o=r(71256),a=r(63786);function u(e){const r=n.alloc(100);return r.slice(0,t.INSTRUCTION_LAYOUT.encode(e,r))}t.SETTLE_FUNDS_BASE_WALLET_INDEX=5,t.SETTLE_FUNDS_QUOTE_WALLET_INDEX=6,t.NEW_ORDER_OPEN_ORDERS_INDEX=1,t.NEW_ORDER_OWNER_INDEX=4,t.NEW_ORDER_V3_OPEN_ORDERS_INDEX=1,t.NEW_ORDER_V3_OWNER_INDEX=7,t.INSTRUCTION_LAYOUT=new s.VersionedLayout(0,i.union(i.u32("instruction"))),t.INSTRUCTION_LAYOUT.inner.addVariant(0,i.struct([s.u64("baseLotSize"),s.u64("quoteLotSize"),i.u16("feeRateBps"),s.u64("vaultSignerNonce"),s.u64("quoteDustThreshold")]),"initializeMarket"),t.INSTRUCTION_LAYOUT.inner.addVariant(1,i.struct([s.sideLayout("side"),s.u64("limitPrice"),s.u64("maxQuantity"),s.orderTypeLayout("orderType"),s.u64("clientId")]),"newOrder"),t.INSTRUCTION_LAYOUT.inner.addVariant(2,i.struct([i.u16("limit")]),"matchOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(3,i.struct([i.u16("limit")]),"consumeEvents"),t.INSTRUCTION_LAYOUT.inner.addVariant(4,i.struct([s.sideLayout("side"),s.u128("orderId"),s.publicKeyLayout("openOrders"),i.u8("openOrdersSlot")]),"cancelOrder"),t.INSTRUCTION_LAYOUT.inner.addVariant(5,i.struct([]),"settleFunds"),t.INSTRUCTION_LAYOUT.inner.addVariant(6,i.struct([s.u64("clientId")]),"cancelOrderByClientId"),t.INSTRUCTION_LAYOUT.inner.addVariant(10,i.struct([s.sideLayout("side"),s.u64("limitPrice"),s.u64("maxBaseQuantity"),s.u64("maxQuoteQuantity"),s.selfTradeBehaviorLayout("selfTradeBehavior"),s.orderTypeLayout("orderType"),s.u64("clientId"),i.u16("limit")]),"newOrderV3"),t.INSTRUCTION_LAYOUT.inner.addVariant(11,i.struct([s.sideLayout("side"),s.u128("orderId")]),"cancelOrderV2"),t.INSTRUCTION_LAYOUT.inner.addVariant(12,i.struct([s.u64("clientId")]),"cancelOrderByClientIdV2"),t.INSTRUCTION_LAYOUT.inner.addVariant(14,i.struct([]),"closeOpenOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(15,i.struct([]),"initOpenOrders"),t.INSTRUCTION_LAYOUT.inner.addVariant(16,i.struct([i.u16("limit")]),"prune"),t.encodeInstruction=u,t.decodeInstruction=function(e){return t.INSTRUCTION_LAYOUT.decode(e)};t.DexInstructions=class{static initializeMarket(e){let{market:t,requestQueue:r,eventQueue:n,bids:i,asks:s,baseVault:a,quoteVault:c,baseMint:l,quoteMint:d,baseLotSize:h,quoteLotSize:p,feeRateBps:f,vaultSignerNonce:g,quoteDustThreshold:m,programId:y,authority:b,pruneAuthority:w}=e;new o.PublicKey("SysvarRent111111111111111111111111111111111");return new o.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!1},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:b?d:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(b?{pubkey:b,isSigner:!1,isWritable:!1}:[]).concat(b&&w?{pubkey:w,isSigner:!1,isWritable:!1}:[]),programId:y,data:u({initializeMarket:{baseLotSize:h,quoteLotSize:p,feeRateBps:f,vaultSignerNonce:g,quoteDustThreshold:m}})})}static newOrder(e){let{market:t,openOrders:r,payer:n,owner:i,requestQueue:s,baseVault:c,quoteVault:l,side:d,limitPrice:h,maxQuantity:p,orderType:f,clientId:g,programId:m,feeDiscountPubkey:y=null}=e;const b=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:a.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return y&&b.push({pubkey:y,isSigner:!1,isWritable:!1}),new o.TransactionInstruction({keys:b,programId:m,data:u({newOrder:g?{side:d,limitPrice:h,maxQuantity:p,orderType:f,clientId:g}:{side:d,limitPrice:h,maxQuantity:p,orderType:f}})})}static newOrderV3(e){let{market:t,openOrders:r,payer:n,owner:i,requestQueue:s,eventQueue:c,bids:l,asks:d,baseVault:h,quoteVault:p,side:f,limitPrice:g,maxBaseQuantity:m,maxQuoteQuantity:y,orderType:b,clientId:w,programId:k,selfTradeBehavior:S,feeDiscountPubkey:A=null}=e;const I=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:h,isSigner:!1,isWritable:!0},{pubkey:p,isSigner:!1,isWritable:!0},{pubkey:a.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return A&&I.push({pubkey:A,isSigner:!1,isWritable:!1}),new o.TransactionInstruction({keys:I,programId:k,data:u({newOrderV3:{side:f,limitPrice:g,maxBaseQuantity:m,maxQuoteQuantity:y,selfTradeBehavior:S,orderType:b,clientId:w,limit:65535}})})}static matchOrders(e){let{market:t,requestQueue:r,eventQueue:n,bids:i,asks:s,baseVault:a,quoteVault:c,limit:l,programId:d}=e;return new o.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0}],programId:d,data:u({matchOrders:{limit:l}})})}static consumeEvents(e){let{market:t,eventQueue:r,coinFee:n,pcFee:i,openOrdersAccounts:s,limit:a,programId:c}=e;return new o.TransactionInstruction({keys:[...s.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))),{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWriteable:!0},{pubkey:i,isSigner:!1,isWritable:!0}],programId:c,data:u({consumeEvents:{limit:a}})})}static cancelOrder(e){let{market:t,openOrders:r,owner:n,requestQueue:i,side:s,orderId:a,openOrdersSlot:c,programId:l}=e;return new o.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:l,data:u({cancelOrder:{side:s,orderId:a,openOrders:r,openOrdersSlot:c}})})}static cancelOrderV2(e){const{market:t,bids:r,asks:n,eventQueue:i,openOrders:s,owner:a,side:c,orderId:l,programId:d}=e;return new o.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:a,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}],programId:d,data:u({cancelOrderV2:{side:c,orderId:l}})})}static cancelOrderByClientId(e){let{market:t,openOrders:r,owner:n,requestQueue:i,clientId:s,programId:a}=e;return new o.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:a,data:u({cancelOrderByClientId:{clientId:s}})})}static cancelOrderByClientIdV2(e){let{market:t,openOrders:r,owner:n,bids:i,asks:s,eventQueue:a,clientId:c,programId:l}=e;return new o.TransactionInstruction({keys:[{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0}],programId:l,data:u({cancelOrderByClientIdV2:{clientId:c}})})}static settleFunds(e){let{market:t,openOrders:r,owner:n,baseVault:i,quoteVault:s,baseWallet:c,quoteWallet:l,vaultSigner:d,programId:h,referrerQuoteWallet:p=null}=e;const f=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!0},{pubkey:l,isSigner:!1,isWritable:!0},{pubkey:d,isSigner:!1,isWritable:!1},{pubkey:a.TOKEN_PROGRAM_ID,isSigner:!1,isWritable:!1}];return p&&f.push({pubkey:p,isSigner:!1,isWritable:!0}),new o.TransactionInstruction({keys:f,programId:h,data:u({settleFunds:{}})})}static closeOpenOrders(e){let{market:t,openOrders:r,owner:n,solWallet:i,programId:s}=e;const a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1}];return new o.TransactionInstruction({keys:a,programId:s,data:u({closeOpenOrders:{}})})}static initOpenOrders(e){let{market:t,openOrders:r,owner:n,programId:i,marketAuthority:s}=e;const a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:o.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}].concat(s?{pubkey:s,isSigner:!1,isWritable:!1}:[]);return new o.TransactionInstruction({keys:a,programId:i,data:u({initOpenOrders:{}})})}static prune(e){let{market:t,bids:r,asks:n,eventQueue:i,pruneAuthority:s,openOrders:a,openOrdersOwner:c,programId:l,limit:d}=e;const h=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!1},{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:c,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!0}];return new o.TransactionInstruction({keys:h,programId:l,data:u({prune:{limit:d}})})}}},84321:function(e,t,r){"use strict";var n=r(36897).Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setLayoutEncoder=t.setLayoutDecoder=t.accountFlagsLayout=t.selfTradeBehaviorLayout=t.orderTypeLayout=t.sideLayout=t.VersionedLayout=t.WideBits=t.u128=t.u64=t.publicKeyLayout=t.zeros=void 0;const s=r(12324),o=r(71256),a=i(r(48744));class u extends s.Blob{decode(e,t){const r=super.decode(e,t);if(!r.every((e=>0===e)))throw new Error("nonzero padding bytes");return r}}t.zeros=function(e){return new u(e)};class c extends s.Blob{constructor(e){super(32,e)}decode(e,t){return new o.PublicKey(super.decode(e,t))}encode(e,t,r){return super.encode(e.toBuffer(),t,r)}}t.publicKeyLayout=function(e){return new c(e)};class l extends s.Blob{decode(e,t){return new a.default(super.decode(e,t),10,"le")}encode(e,t,r){return super.encode(e.toArrayLike(n,"le",this.span),t,r)}}t.u64=function(e){return new l(8,e)},t.u128=function(e){return new l(16,e)};class d extends s.Layout{constructor(e){super(8,e),this._lower=s.bits(s.u32(),!1),this._upper=s.bits(s.u32(),!1)}addBoolean(e){this._lower.fields.length<32?this._lower.addBoolean(e):this._upper.addBoolean(e)}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{...this._lower.decode(e,t),...this._upper.decode(e,t+this._lower.span)}}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this._lower.encode(e,t,r)+this._upper.encode(e,t,r+this._lower.span)}}t.WideBits=d;class h extends s.Layout{constructor(e,t,r){super(t.span>0?t.span+1:t.span,r),this.version=e,this.inner=t}decode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.inner.decode(e,t+1)}encode(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return t.writeUInt8(this.version,r),1+this.inner.encode(e,t,r+1)}getSpan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 1+this.inner.getSpan(e,t+1)}}t.VersionedLayout=h;class p extends s.UInt{constructor(e,t,r){super(t,r),this.values=e}encode(e,t,r){if(void 0!==this.values[e])return super.encode(this.values[e],t,r);throw new Error("Invalid "+this.property)}decode(e,t){const r=super.decode(e,t),n=Object.entries(this.values).find((e=>{let[,t]=e;return t===r}));if(n)return n[0];throw new Error("Invalid "+this.property)}}t.sideLayout=function(e){return new p({buy:0,sell:1},4,e)},t.orderTypeLayout=function(e){return new p({limit:0,ioc:1,postOnly:2},4,e)},t.selfTradeBehaviorLayout=function(e){return new p({decrementTake:0,cancelProvide:1,abortTransaction:2},4,e)};const f=new d;f.addBoolean("initialized"),f.addBoolean("market"),f.addBoolean("openOrders"),f.addBoolean("requestQueue"),f.addBoolean("eventQueue"),f.addBoolean("bids"),f.addBoolean("asks"),t.accountFlagsLayout=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"accountFlags";return f.replicate(e)},t.setLayoutDecoder=function(e,t){const r=e.decode;e.decode=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t(r.call(this,e,n))}},t.setLayoutEncoder=function(e,t){const r=e.encode;return e.encode=function(e,n,i){return r.call(this,t(e),n,i)},e}},87002:(e,t,r)=>{"use strict";var n=r(36897).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.MarketProxyBuilder=t.MarketProxyInstruction=t.MarketProxy=void 0;const i=r(9458),s=r(83989),o=r(2936);class a{constructor(e,t){this._market=e,this._instruction=t}get market(){return this._market}get instruction(){return this._instruction}get dexProgramId(){return this._market.programId}get proxyProgramId(){return this._instruction.proxyProgramId}}t.MarketProxy=a;class u{constructor(e,t,r,n){this._proxyProgramId=e,this._dexProgramId=t,this._market=r,this._middlewares=n}get proxyProgramId(){return this._proxyProgramId}newOrderV3(e){const t=this._market.makeNewOrderV3Instruction({...e,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.newOrderV3(t))),this.proxy(t)}initOpenOrders(e,t,r,n){const i=o.DexInstructions.initOpenOrders({market:t,openOrders:r,owner:e,programId:this._proxyProgramId,marketAuthority:n});return this._middlewares.forEach((e=>e.initOpenOrders(i))),this.proxy(i)}cancelOrderByClientId(e,t,r){const n=o.DexInstructions.cancelOrderByClientIdV2({market:this._market.address,openOrders:t,owner:e,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,clientId:r,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.cancelOrderByClientIdV2(n))),this.proxy(n)}settleFunds(e,t,r,s,a){const u=o.DexInstructions.settleFunds({market:this._market.address,openOrders:e,owner:t,baseVault:this._market.decoded.baseVault,quoteVault:this._market.decoded.quoteVault,baseWallet:r,quoteWallet:s,vaultSigner:i.utils.publicKey.createProgramAddressSync([this._market.address.toBuffer(),this._market.decoded.vaultSignerNonce.toArrayLike(n,"le",8)],this._dexProgramId),programId:this._proxyProgramId,referrerQuoteWallet:a});return this._middlewares.forEach((e=>e.settleFunds(u))),this.proxy(u)}closeOpenOrders(e,t,r){const n=o.DexInstructions.closeOpenOrders({market:this._market.address,openOrders:e,owner:t,solWallet:r,programId:this._proxyProgramId});return this._middlewares.forEach((e=>e.closeOpenOrders(n))),this.proxy(n)}prune(e,t,r){r||(r=65535);const n=o.DexInstructions.prune({market:this._market.address,bids:this._market.decoded.bids,asks:this._market.decoded.asks,eventQueue:this._market.decoded.eventQueue,pruneAuthority:this._market.decoded.pruneAuthority,openOrders:e,openOrdersOwner:t,programId:this._proxyProgramId,limit:r});return this._middlewares.forEach((e=>e.prune(n))),this.proxy(n)}proxy(e){return e.keys=[{pubkey:this._dexProgramId,isWritable:!1,isSigner:!1},...e.keys],e}}t.MarketProxyInstruction=u;t.MarketProxyBuilder=class{constructor(){this._middlewares=[]}middleware(e){return this._middlewares.push(e),this}async load(e){let{connection:t,market:r,options:n={},dexProgramId:i,proxyProgramId:o}=e;const c=await s.Market.load(t,r,n,i,s.MARKET_STATE_LAYOUT_V3),l=new u(o,i,c,this._middlewares);return new a(c,l)}}},18786:(e,t,r)=>{"use strict";var n=r(36897).Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.ReferralFees=t.OpenOrdersPda=void 0;const i=r(9458),s=r(71256);t.OpenOrdersPda=class{constructor(e){let{proxyProgramId:t,dexProgramId:r}=e;this._proxyProgramId=t,this._dexProgramId=r}static async marketAuthority(e,t,r){const i=n.from([111,112,101,110,45,111,114,100,101,114,115,45,105,110,105,116]),[o]=await s.PublicKey.findProgramAddress([i,t.toBuffer(),e.toBuffer()],r);return o}static async openOrdersAddress(e,t,r,i){const o=n.from([111,112,101,110,45,111,114,100,101,114,115]),[a]=await s.PublicKey.findProgramAddress([o,r.toBuffer(),e.toBuffer(),t.toBuffer()],i);return a}initOpenOrders(e){const t=e.keys[2].pubkey,r=e.keys[1].pubkey,o=n.from([111,112,101,110,45,111,114,100,101,114,115]),a=n.from([111,112,101,110,45,111,114,100,101,114,115,45,105,110,105,116]),[u,c]=i.utils.publicKey.findProgramAddressSync([o,this._dexProgramId.toBuffer(),t.toBuffer(),r.toBuffer()],this._proxyProgramId),[l,d]=i.utils.publicKey.findProgramAddressSync([a,this._dexProgramId.toBuffer(),t.toBuffer()],this._proxyProgramId);e.keys[0].pubkey=u,e.keys[4].pubkey=l,e.keys[1].isWritable=!0,e.keys=[{pubkey:this._dexProgramId,isSigner:!1,isWritable:!1},{pubkey:s.SystemProgram.programId,isSigner:!1,isWritable:!1},...e.keys],e.data=n.concat([n.from([0,c,d]),e.data])}newOrderV3(e){e.data=n.concat([n.from([1]),e.data])}cancelOrderV2(e){e.data=n.concat([n.from([2]),e.data])}cancelOrderByClientIdV2(e){e.data=n.concat([n.from([3]),e.data])}settleFunds(e){e.data=n.concat([n.from([4]),e.data])}closeOpenOrders(e){e.data=n.concat([n.from([5]),e.data])}prune(e){e.data=n.concat([n.from([6]),e.data])}};t.ReferralFees=class{initOpenOrders(e){}newOrderV3(e){}cancelOrderV2(e){}cancelOrderByClientIdV2(e){}settleFunds(e){}closeOpenOrders(e){}prune(e){}};t.Logger=class{initOpenOrders(e){console.log("Proxying initOpenOrders",this.ixToDisplay(e))}newOrderV3(e){console.log("Proxying newOrderV3",this.ixToDisplay(e))}cancelOrderV2(e){console.log("Proxying cancelOrderV2",this.ixToDisplay(e))}cancelOrderByClientIdV2(e){console.log("Proxying cancelOrderByClientIdV2",this.ixToDisplay(e))}settleFunds(e){console.log("Proxying settleFunds",this.ixToDisplay(e))}closeOpenOrders(e){console.log("Proxying closeOpenOrders",this.ixToDisplay(e))}prune(e){console.log("Proxying prune",this.ixToDisplay(e))}ixToDisplay(e){return{keys:e.keys.map((e=>({...e,pubkey:e.pubkey.toString()}))),programId:e.programId.toString(),data:new Uint8Array(e.data)}}}},83989:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getMintDecimals=t.Orderbook=t.ORDERBOOK_LAYOUT=t.OpenOrders=t._OPEN_ORDERS_LAYOUT_V2=t._OPEN_ORDERS_LAYOUT_V1=t.Market=t.MARKET_STATE_LAYOUT_V3=t.MARKET_STATE_LAYOUT_V2=t._MARKET_STAT_LAYOUT_V1=void 0;const i=r(12324),s=r(84321),o=r(35366),a=r(2936),u=n(r(48744)),c=r(71256),l=r(31472),d=r(36897),h=r(12463),p=r(63786),f=r(1127);t._MARKET_STAT_LAYOUT_V1=i.struct([i.blob(5),s.accountFlagsLayout("accountFlags"),s.publicKeyLayout("ownAddress"),s.u64("vaultSignerNonce"),s.publicKeyLayout("baseMint"),s.publicKeyLayout("quoteMint"),s.publicKeyLayout("baseVault"),s.u64("baseDepositsTotal"),s.u64("baseFeesAccrued"),s.publicKeyLayout("quoteVault"),s.u64("quoteDepositsTotal"),s.u64("quoteFeesAccrued"),s.u64("quoteDustThreshold"),s.publicKeyLayout("requestQueue"),s.publicKeyLayout("eventQueue"),s.publicKeyLayout("bids"),s.publicKeyLayout("asks"),s.u64("baseLotSize"),s.u64("quoteLotSize"),s.u64("feeRateBps"),i.blob(7)]),t.MARKET_STATE_LAYOUT_V2=i.struct([i.blob(5),s.accountFlagsLayout("accountFlags"),s.publicKeyLayout("ownAddress"),s.u64("vaultSignerNonce"),s.publicKeyLayout("baseMint"),s.publicKeyLayout("quoteMint"),s.publicKeyLayout("baseVault"),s.u64("baseDepositsTotal"),s.u64("baseFeesAccrued"),s.publicKeyLayout("quoteVault"),s.u64("quoteDepositsTotal"),s.u64("quoteFeesAccrued"),s.u64("quoteDustThreshold"),s.publicKeyLayout("requestQueue"),s.publicKeyLayout("eventQueue"),s.publicKeyLayout("bids"),s.publicKeyLayout("asks"),s.u64("baseLotSize"),s.u64("quoteLotSize"),s.u64("feeRateBps"),s.u64("referrerRebatesAccrued"),i.blob(7)]),t.MARKET_STATE_LAYOUT_V3=i.struct([i.blob(5),s.accountFlagsLayout("accountFlags"),s.publicKeyLayout("ownAddress"),s.u64("vaultSignerNonce"),s.publicKeyLayout("baseMint"),s.publicKeyLayout("quoteMint"),s.publicKeyLayout("baseVault"),s.u64("baseDepositsTotal"),s.u64("baseFeesAccrued"),s.publicKeyLayout("quoteVault"),s.u64("quoteDepositsTotal"),s.u64("quoteFeesAccrued"),s.u64("quoteDustThreshold"),s.publicKeyLayout("requestQueue"),s.publicKeyLayout("eventQueue"),s.publicKeyLayout("bids"),s.publicKeyLayout("asks"),s.u64("baseLotSize"),s.u64("quoteLotSize"),s.u64("feeRateBps"),s.u64("referrerRebatesAccrued"),s.publicKeyLayout("authority"),s.publicKeyLayout("pruneAuthority"),i.blob(1024),i.blob(7)]);class g{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;const{skipPreflight:o=!1,commitment:a="recent"}=n;if(!e.accountFlags.initialized||!e.accountFlags.market)throw new Error("Invalid market state");this._decoded=e,this._baseSplTokenDecimals=t,this._quoteSplTokenDecimals=r,this._skipPreflight=o,this._commitment=a,this._programId=i,this._openOrdersAccountsCache={},this._feeDiscountKeysCache={},this._layoutOverride=s}static getLayout(e){return 1===f.getLayoutVersion(e)?t._MARKET_STAT_LAYOUT_V1:t.MARKET_STATE_LAYOUT_V2}static async findAccountsByMints(e,t,r,n){return A(e,n,[{memcmp:{offset:this.getLayout(n).offsetOf("baseMint"),bytes:t.toBase58()}},{memcmp:{offset:g.getLayout(n).offsetOf("quoteMint"),bytes:r.toBase58()}}])}static async load(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0;const{owner:s,data:o}=I(await e.getAccountInfo(t),"Market not found");if(!s.equals(n))throw new Error("Address not owned by program: "+s.toBase58());const a=(null!==i&&void 0!==i?i:this.getLayout(n)).decode(o);if(!a.accountFlags.initialized||!a.accountFlags.market||!a.ownAddress.equals(t))throw new Error("Invalid market");const[u,c]=await Promise.all([S(e,a.baseMint),S(e,a.quoteMint)]);return new g(a,u,c,r,n,i)}get programId(){return this._programId}get address(){return this._decoded.ownAddress}get publicKey(){return this.address}get baseMintAddress(){return this._decoded.baseMint}get quoteMintAddress(){return this._decoded.quoteMint}get bidsAddress(){return this._decoded.bids}get asksAddress(){return this._decoded.asks}get decoded(){return this._decoded}async loadBids(e){const{data:t}=I(await e.getAccountInfo(this._decoded.bids));return y.decode(this,t)}async loadAsks(e){const{data:t}=I(await e.getAccountInfo(this._decoded.asks));return y.decode(this,t)}async loadOrdersForOwner(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const[n,i,s]=await Promise.all([this.loadBids(e),this.loadAsks(e),this.findOpenOrdersAccountsForOwner(e,t,r)]);return this.filterForOpenOrders(n,i,s)}filterForOpenOrders(e,t,r){return[...e,...t].filter((e=>r.some((t=>e.openOrdersAddress.equals(t.address)))))}async findBaseTokenAccountsForOwner(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.baseMintAddress.equals(p.WRAPPED_SOL_MINT)&&r){const[r,n]=await Promise.all([this.findBaseTokenAccountsForOwner(e,t,!1),e.getAccountInfo(t)]);return null!==n?[{pubkey:t,account:n},...r]:r}return await this.getTokenAccountsByOwnerForMint(e,t,this.baseMintAddress)}async getTokenAccountsByOwnerForMint(e,t,r){return(await e.getTokenAccountsByOwner(t,{mint:r})).value}async findQuoteTokenAccountsForOwner(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(this.quoteMintAddress.equals(p.WRAPPED_SOL_MINT)&&r){const[r,n]=await Promise.all([this.findQuoteTokenAccountsForOwner(e,t,!1),e.getAccountInfo(t)]);return null!==n?[{pubkey:t,account:n},...r]:r}return await this.getTokenAccountsByOwnerForMint(e,t,this.quoteMintAddress)}async findOpenOrdersAccountsForOwner(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=t.toBase58(),i=(new Date).getTime();if(n in this._openOrdersAccountsCache&&i-this._openOrdersAccountsCache[n].ts<r)return this._openOrdersAccountsCache[n].accounts;const s=await m.findForMarketAndOwner(e,this.address,t,this._programId);return this._openOrdersAccountsCache[n]={accounts:s,ts:i},s}async placeOrder(e,t){let{owner:r,payer:n,side:i,price:s,size:o,orderType:a="limit",clientId:u,openOrdersAddressKey:c,openOrdersAccount:l,feeDiscountPubkey:d}=t;const{transaction:h,signers:p}=await this.makePlaceOrderTransaction(e,{owner:r,payer:n,side:i,price:s,size:o,orderType:a,clientId:u,openOrdersAddressKey:c,openOrdersAccount:l,feeDiscountPubkey:d});return await this._sendTransaction(e,h,[r,...p])}getSplTokenBalanceFromAccountInfo(e,t){return w(new u.default(e.data.slice(64,72),10,"le"),new u.default(10).pow(new u.default(t)))}get supportsSrmFeeDiscounts(){return h.supportsSrmFeeDiscounts(this._programId)}get supportsReferralFees(){return f.getLayoutVersion(this._programId)>1}get usesRequestQueue(){return f.getLayoutVersion(this._programId)<=2}async findFeeDiscountKeys(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=[];const i=(new Date).getTime(),s=t.toBase58();if(s in this._feeDiscountKeysCache&&i-this._feeDiscountKeysCache[s].ts<r)return this._feeDiscountKeysCache[s].accounts;if(this.supportsSrmFeeDiscounts){const r=(await this.getTokenAccountsByOwnerForMint(e,t,p.MSRM_MINT)).map((e=>{let{pubkey:t,account:r}=e;const n=this.getSplTokenBalanceFromAccountInfo(r,p.MSRM_DECIMALS);return{pubkey:t,mint:p.MSRM_MINT,balance:n,feeTier:h.getFeeTier(n,0)}})),i=(await this.getTokenAccountsByOwnerForMint(e,t,p.SRM_MINT)).map((e=>{let{pubkey:t,account:r}=e;const n=this.getSplTokenBalanceFromAccountInfo(r,p.SRM_DECIMALS);return{pubkey:t,mint:p.SRM_MINT,balance:n,feeTier:h.getFeeTier(0,n)}}));n=r.concat(i).sort(((e,t)=>e.feeTier>t.feeTier?-1:e.feeTier<t.feeTier?1:e.balance>t.balance?-1:e.balance<t.balance?1:0))}return this._feeDiscountKeysCache[s]={accounts:n,ts:i},n}async findBestFeeDiscountKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e4;const n=await this.findFeeDiscountKeys(e,t,r);return n.length>0?{pubkey:n[0].pubkey,feeTier:n[0].feeTier}:{pubkey:null,feeTier:0}}async makePlaceOrderTransaction(e,t){let{owner:r,payer:n,side:i,price:s,size:o,orderType:a="limit",clientId:u,openOrdersAddressKey:l,openOrdersAccount:d,feeDiscountPubkey:h,selfTradeBehavior:f="decrementTake"}=t,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,y=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var b,w;const k=null!==(b=r.publicKey)&&void 0!==b?b:r,S=await this.findOpenOrdersAccountsForOwner(e,k,g),A=new c.Transaction,I=[];let E,_;if(E=h||(void 0===h&&this.supportsSrmFeeDiscounts?(await this.findBestFeeDiscountKey(e,k,y)).pubkey:null),0===S.length){let t;t=d||new c.Account,A.add(await m.makeCreateAccountTransaction(e,this.address,k,t.publicKey,this._programId)),_=t.publicKey,I.push(t),this._openOrdersAccountsCache[k.toBase58()].ts=0}else _=d?d.publicKey:l||S[0].address;let v=null;if(n.equals(k)){if(!("buy"===i&&this.quoteMintAddress.equals(p.WRAPPED_SOL_MINT)||"sell"===i&&this.baseMintAddress.equals(p.WRAPPED_SOL_MINT)))throw new Error("Invalid payer account");{let e;v=new c.Account,"buy"===i?(e=Math.round(s*o*1.01*c.LAMPORTS_PER_SOL),S.length>0&&(e-=S[0].quoteTokenFree.toNumber())):(e=Math.round(o*c.LAMPORTS_PER_SOL),S.length>0&&(e-=S[0].baseTokenFree.toNumber())),e=Math.max(e,0)+1e7,A.add(c.SystemProgram.createAccount({fromPubkey:k,newAccountPubkey:v.publicKey,lamports:e,space:165,programId:p.TOKEN_PROGRAM_ID})),A.add(p.initializeAccount({account:v.publicKey,mint:p.WRAPPED_SOL_MINT,owner:k})),I.push(v)}}const x=this.makePlaceOrderInstruction(e,{owner:r,payer:null!==(w=null===v||void 0===v?void 0:v.publicKey)&&void 0!==w?w:n,side:i,price:s,size:o,orderType:a,clientId:u,openOrdersAddressKey:_,feeDiscountPubkey:E,selfTradeBehavior:f});return A.add(x),v&&A.add(p.closeAccount({source:v.publicKey,destination:k,owner:k})),{transaction:A,signers:I,payer:r}}makePlaceOrderInstruction(e,t){var r;const{owner:n,payer:i,side:s,price:o,size:c,orderType:l="limit",clientId:d,openOrdersAddressKey:h,openOrdersAccount:p,feeDiscountPubkey:f=null}=t,g=null!==(r=n.publicKey)&&void 0!==r?r:n;if(this.baseSizeNumberToLots(c).lte(new u.default(0)))throw new Error("size too small");if(this.priceNumberToLots(o).lte(new u.default(0)))throw new Error("invalid price");return this.usesRequestQueue?a.DexInstructions.newOrder({market:this.address,requestQueue:this._decoded.requestQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:p?p.publicKey:h,owner:g,payer:i,side:s,limitPrice:this.priceNumberToLots(o),maxQuantity:this.baseSizeNumberToLots(c),orderType:l,clientId:d,programId:this._programId,feeDiscountPubkey:this.supportsSrmFeeDiscounts?f:null}):this.makeNewOrderV3Instruction(t)}makeNewOrderV3Instruction(e){var t;const{owner:r,payer:n,side:i,price:s,size:o,orderType:c="limit",clientId:l,openOrdersAddressKey:d,openOrdersAccount:h,feeDiscountPubkey:p=null,selfTradeBehavior:f="decrementTake",programId:g}=e,m=null!==(t=r.publicKey)&&void 0!==t?t:r;return a.DexInstructions.newOrderV3({market:this.address,bids:this._decoded.bids,asks:this._decoded.asks,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,openOrders:h?h.publicKey:d,owner:m,payer:n,side:i,limitPrice:this.priceNumberToLots(s),maxBaseQuantity:this.baseSizeNumberToLots(o),maxQuoteQuantity:new u.default(this._decoded.quoteLotSize.toNumber()).mul(this.baseSizeNumberToLots(o).mul(this.priceNumberToLots(s))),orderType:c,clientId:l,programId:null!==g&&void 0!==g?g:this._programId,selfTradeBehavior:f,feeDiscountPubkey:this.supportsSrmFeeDiscounts?p:null})}async _sendTransaction(e,t,r){const n=await e.sendTransaction(t,r,{skipPreflight:this._skipPreflight}),{value:i}=await e.confirmTransaction(n,this._commitment);if(null===i||void 0===i?void 0:i.err)throw new Error(JSON.stringify(i.err));return n}async cancelOrderByClientId(e,t,r,n){const i=await this.makeCancelOrderByClientIdTransaction(e,t.publicKey,r,n);return await this._sendTransaction(e,i,[t])}async makeCancelOrderByClientIdTransaction(e,t,r,n){const i=new c.Transaction;return this.usesRequestQueue?i.add(a.DexInstructions.cancelOrderByClientId({market:this.address,owner:t,openOrders:r,requestQueue:this._decoded.requestQueue,clientId:n,programId:this._programId})):i.add(a.DexInstructions.cancelOrderByClientIdV2({market:this.address,openOrders:r,owner:t,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,clientId:n,programId:this._programId})),i}async cancelOrder(e,t,r){const n=await this.makeCancelOrderTransaction(e,t.publicKey,r);return await this._sendTransaction(e,n,[t])}async makeCancelOrderTransaction(e,t,r){const n=new c.Transaction;return n.add(this.makeCancelOrderInstruction(e,t,r)),n}makeCancelOrderInstruction(e,t,r){return this.usesRequestQueue?a.DexInstructions.cancelOrder({market:this.address,owner:t,openOrders:r.openOrdersAddress,requestQueue:this._decoded.requestQueue,side:r.side,orderId:r.orderId,openOrdersSlot:r.openOrdersSlot,programId:this._programId}):a.DexInstructions.cancelOrderV2({market:this.address,owner:t,openOrders:r.openOrdersAddress,bids:this._decoded.bids,asks:this._decoded.asks,eventQueue:this._decoded.eventQueue,side:r.side,orderId:r.orderId,openOrdersSlot:r.openOrdersSlot,programId:this._programId})}makeConsumeEventsInstruction(e,t){return a.DexInstructions.consumeEvents({market:this.address,eventQueue:this._decoded.eventQueue,coinFee:this._decoded.eventQueue,pcFee:this._decoded.eventQueue,openOrdersAccounts:e,limit:t,programId:this._programId})}async settleFunds(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!r.owner.equals(t.publicKey))throw new Error("Invalid open orders account");if(s&&!this.supportsReferralFees)throw new Error("This program ID does not support referrerQuoteWallet");const{transaction:o,signers:a}=await this.makeSettleFundsTransaction(e,r,n,i,s);return await this._sendTransaction(e,o,[t,...a])}async makeSettleFundsTransaction(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const s=await c.PublicKey.createProgramAddress([this.address.toBuffer(),this._decoded.vaultSignerNonce.toArrayLike(d.Buffer,"le",8)],this._programId),o=new c.Transaction,u=[];let l=null;return(this.baseMintAddress.equals(p.WRAPPED_SOL_MINT)&&r.equals(t.owner)||this.quoteMintAddress.equals(p.WRAPPED_SOL_MINT)&&n.equals(t.owner))&&(l=new c.Account,o.add(c.SystemProgram.createAccount({fromPubkey:t.owner,newAccountPubkey:l.publicKey,lamports:await e.getMinimumBalanceForRentExemption(165),space:165,programId:p.TOKEN_PROGRAM_ID})),o.add(p.initializeAccount({account:l.publicKey,mint:p.WRAPPED_SOL_MINT,owner:t.owner})),u.push(l)),o.add(a.DexInstructions.settleFunds({market:this.address,openOrders:t.address,owner:t.owner,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,baseWallet:r.equals(t.owner)&&l?l.publicKey:r,quoteWallet:n.equals(t.owner)&&l?l.publicKey:n,vaultSigner:s,programId:this._programId,referrerQuoteWallet:i})),l&&o.add(p.closeAccount({source:l.publicKey,destination:t.owner,owner:t.owner})),{transaction:o,signers:u,payer:t.owner}}async matchOrders(e,t,r){const n=this.makeMatchOrdersTransaction(r);return await this._sendTransaction(e,n,[t])}makeMatchOrdersTransaction(e){const t=new c.Transaction;return t.add(a.DexInstructions.matchOrders({market:this.address,requestQueue:this._decoded.requestQueue,eventQueue:this._decoded.eventQueue,bids:this._decoded.bids,asks:this._decoded.asks,baseVault:this._decoded.baseVault,quoteVault:this._decoded.quoteVault,limit:e,programId:this._programId})),t}async loadRequestQueue(e){const{data:t}=I(await e.getAccountInfo(this._decoded.requestQueue));return l.decodeRequestQueue(t)}async loadEventQueue(e){const{data:t}=I(await e.getAccountInfo(this._decoded.eventQueue));return l.decodeEventQueue(t)}async loadFills(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const{data:r}=I(await e.getAccountInfo(this._decoded.eventQueue));return l.decodeEventQueue(r,t).filter((e=>e.eventFlags.fill&&e.nativeQuantityPaid.gtn(0))).map(this.parseFillEvent.bind(this))}parseFillEvent(e){let t,r,n,i;return e.eventFlags.bid?(n="buy",i=e.eventFlags.maker?e.nativeQuantityPaid.add(e.nativeFeeOrRebate):e.nativeQuantityPaid.sub(e.nativeFeeOrRebate),r=w(i.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityReleased)),t=w(e.nativeQuantityReleased,this._baseSplTokenMultiplier)):(n="sell",i=e.eventFlags.maker?e.nativeQuantityReleased.sub(e.nativeFeeOrRebate):e.nativeQuantityReleased.add(e.nativeFeeOrRebate),r=w(i.mul(this._baseSplTokenMultiplier),this._quoteSplTokenMultiplier.mul(e.nativeQuantityPaid)),t=w(e.nativeQuantityPaid,this._baseSplTokenMultiplier)),{...e,side:n,price:r,feeCost:this.quoteSplSizeToNumber(e.nativeFeeOrRebate)*(e.eventFlags.maker?-1:1),size:t}}get _baseSplTokenMultiplier(){return new u.default(10).pow(new u.default(this._baseSplTokenDecimals))}get _quoteSplTokenMultiplier(){return new u.default(10).pow(new u.default(this._quoteSplTokenDecimals))}priceLotsToNumber(e){return w(e.mul(this._decoded.quoteLotSize).mul(this._baseSplTokenMultiplier),this._decoded.baseLotSize.mul(this._quoteSplTokenMultiplier))}priceNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals)*this._decoded.baseLotSize.toNumber()/(Math.pow(10,this._baseSplTokenDecimals)*this._decoded.quoteLotSize.toNumber())))}baseSplSizeToNumber(e){return w(e,this._baseSplTokenMultiplier)}quoteSplSizeToNumber(e){return w(e,this._quoteSplTokenMultiplier)}baseSizeLotsToNumber(e){return w(e.mul(this._decoded.baseLotSize),this._baseSplTokenMultiplier)}baseSizeNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._baseSplTokenDecimals))).div(this._decoded.baseLotSize)}quoteSizeLotsToNumber(e){return w(e.mul(this._decoded.quoteLotSize),this._quoteSplTokenMultiplier)}quoteSizeNumberToLots(e){return new u.default(Math.round(e*Math.pow(10,this._quoteSplTokenDecimals))).div(this._decoded.quoteLotSize)}get minOrderSize(){return this.baseSizeLotsToNumber(new u.default(1))}get tickSize(){return this.priceLotsToNumber(new u.default(1))}}t.Market=g,t._OPEN_ORDERS_LAYOUT_V1=i.struct([i.blob(5),s.accountFlagsLayout("accountFlags"),s.publicKeyLayout("market"),s.publicKeyLayout("owner"),s.u64("baseTokenFree"),s.u64("baseTokenTotal"),s.u64("quoteTokenFree"),s.u64("quoteTokenTotal"),s.u128("freeSlotBits"),s.u128("isBidBits"),i.seq(s.u128(),128,"orders"),i.seq(s.u64(),128,"clientIds"),i.blob(7)]),t._OPEN_ORDERS_LAYOUT_V2=i.struct([i.blob(5),s.accountFlagsLayout("accountFlags"),s.publicKeyLayout("market"),s.publicKeyLayout("owner"),s.u64("baseTokenFree"),s.u64("baseTokenTotal"),s.u64("quoteTokenFree"),s.u64("quoteTokenTotal"),s.u128("freeSlotBits"),s.u128("isBidBits"),i.seq(s.u128(),128,"orders"),i.seq(s.u64(),128,"clientIds"),s.u64("referrerRebatesAccrued"),i.blob(7)]);class m{constructor(e,t,r){this.address=e,this._programId=r,Object.assign(this,t)}static getLayout(e){return 1===f.getLayoutVersion(e)?t._OPEN_ORDERS_LAYOUT_V1:t._OPEN_ORDERS_LAYOUT_V2}static async findForOwner(e,t,r){const n=[{memcmp:{offset:this.getLayout(r).offsetOf("owner"),bytes:t.toBase58()}},{dataSize:this.getLayout(r).span}];return(await A(e,r,n)).map((e=>{let{publicKey:t,accountInfo:n}=e;return m.fromAccountInfo(t,n,r)}))}static async findForMarketAndOwner(e,t,r,n){const i=[{memcmp:{offset:this.getLayout(n).offsetOf("market"),bytes:t.toBase58()}},{memcmp:{offset:this.getLayout(n).offsetOf("owner"),bytes:r.toBase58()}},{dataSize:this.getLayout(n).span}];return(await A(e,n,i)).map((e=>{let{publicKey:t,accountInfo:r}=e;return m.fromAccountInfo(t,r,n)}))}static async load(e,t,r){const n=await e.getAccountInfo(t);if(null===n)throw new Error("Open orders account not found");return m.fromAccountInfo(t,n,r)}static fromAccountInfo(e,t,r){const{owner:n,data:i}=t;if(!n.equals(r))throw new Error("Address not owned by program");const s=this.getLayout(r).decode(i);if(!s.accountFlags.initialized||!s.accountFlags.openOrders)throw new Error("Invalid open orders account");return new m(e,s,r)}static async makeCreateAccountTransaction(e,t,r,n,i){return c.SystemProgram.createAccount({fromPubkey:r,newAccountPubkey:n,lamports:await e.getMinimumBalanceForRentExemption(this.getLayout(i).span),space:this.getLayout(i).span,programId:i})}get publicKey(){return this.address}}t.OpenOrders=m,t.ORDERBOOK_LAYOUT=i.struct([i.blob(5),s.accountFlagsLayout("accountFlags"),o.SLAB_LAYOUT.replicate("slab"),i.blob(7)]);class y{constructor(e,t,r){if(!t.initialized||!(t.bids^t.asks))throw new Error("Invalid orderbook");this.market=e,this.isBids=t.bids,this.slab=r}static get LAYOUT(){return t.ORDERBOOK_LAYOUT}static decode(e,r){const{accountFlags:n,slab:i}=t.ORDERBOOK_LAYOUT.decode(r);return new y(e,n,i)}getL2(e){const t=this.isBids,r=[];for(const{key:n,quantity:i}of this.slab.items(t)){const t=b(n);if(r.length>0&&r[r.length-1][0].eq(t))r[r.length-1][1].iadd(i);else{if(r.length===e)break;r.push([t,i])}}return r.map((e=>{let[t,r]=e;return[this.market.priceLotsToNumber(t),this.market.baseSizeLotsToNumber(r),t,r]}))}[Symbol.iterator](){return this.items(!1)}*items(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(const{key:t,ownerSlot:r,owner:n,quantity:i,feeTier:s,clientOrderId:o}of this.slab.items(e)){const e=b(t);yield{orderId:t,clientId:o,openOrdersAddress:n,openOrdersSlot:r,feeTier:s,price:this.market.priceLotsToNumber(e),priceLots:e,size:this.market.baseSizeLotsToNumber(i),sizeLots:i,side:this.isBids?"buy":"sell"}}}}function b(e){return e.ushrn(64)}function w(e,t){const r=e.div(t).toNumber(),n=e.umod(t),i=n.gcd(t);return r+n.div(i).toNumber()/t.div(i).toNumber()}t.Orderbook=y;const k=i.struct([i.blob(44),i.u8("decimals"),i.blob(37)]);async function S(e,t){if(t.equals(p.WRAPPED_SOL_MINT))return 9;const{data:r}=I(await e.getAccountInfo(t),"mint not found"),{decimals:n}=k.decode(r);return n}async function A(e,t,r){const n=await e._rpcRequest("getProgramAccounts",[t.toBase58(),{commitment:e.commitment,filters:r,encoding:"base64"}]);if(n.error)throw new Error(n.error.message);return n.result.map((e=>{let{pubkey:t,account:{data:r,executable:n,owner:i,lamports:s}}=e;return{publicKey:new c.PublicKey(t),accountInfo:{data:d.Buffer.from(r[0],"base64"),executable:n,owner:new c.PublicKey(i),lamports:s}}}))}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"account not found";if(null===e)throw new Error(t);return e}t.getMintDecimals=S},31472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EVENT_QUEUE_LAYOUT=t.REQUEST_QUEUE_LAYOUT=t.decodeEventQueue=t.decodeRequestQueue=t.decodeEventsSince=void 0;const n=r(12324),i=r(84321),s=n.struct([n.blob(5),i.accountFlagsLayout("accountFlags"),n.u32("head"),i.zeros(4),n.u32("count"),i.zeros(4),n.u32("nextSeqNum"),i.zeros(4)]),o=n.bits(n.u8(),!1,"requestFlags");o.addBoolean("newOrder"),o.addBoolean("cancelOrder"),o.addBoolean("bid"),o.addBoolean("postOnly"),o.addBoolean("ioc");const a=n.struct([o,n.u8("openOrdersSlot"),n.u8("feeTier"),n.blob(5),i.u64("maxBaseSizeOrCancelId"),i.u64("nativeQuoteQuantityLocked"),i.u128("orderId"),i.publicKeyLayout("openOrders"),i.u64("clientOrderId")]),u=n.struct([n.blob(5),i.accountFlagsLayout("accountFlags"),n.u32("head"),i.zeros(4),n.u32("count"),i.zeros(4),n.u32("seqNum"),i.zeros(4)]),c=n.bits(n.u8(),!1,"eventFlags");c.addBoolean("fill"),c.addBoolean("out"),c.addBoolean("bid"),c.addBoolean("maker");const l=n.struct([c,n.u8("openOrdersSlot"),n.u8("feeTier"),n.blob(5),i.u64("nativeQuantityReleased"),i.u64("nativeQuantityPaid"),i.u64("nativeFeeOrRebate"),i.u128("orderId"),i.publicKeyLayout("openOrders"),i.u64("clientOrderId")]);function d(e,t,r,n){return t.decode(r,e.span+n*t.span)}function h(e,t,r,n){const i=e.decode(r),s=Math.floor((r.length-e.span)/t.span),o=[];if(n)for(let a=0;a<Math.min(n,s);++a){const n=(i.head+i.count+s-1-a)%s;o.push(d(e,t,r,n))}else for(let a=0;a<i.count;++a){const n=(i.head+a)%s;o.push(d(e,t,r,n))}return{header:i,nodes:o}}t.decodeEventsSince=function(e,t){const r=u.decode(e),n=Math.floor((e.length-u.span)/l.span),i=4294967296;let s=(r.seqNum-t+i)%i;s>n&&(s=n-1);const o=(r.seqNum-s+i)%i,a=((r.head+r.count)%n-s+n)%n,c=[];for(let h=0;h<s;++h){const t=d(u,l,e,(a+h)%n);t.seqNum=(o+h)%i,c.push(t)}return c},t.decodeRequestQueue=function(e,t){const{header:r,nodes:n}=h(s,a,e,t);if(!r.accountFlags.initialized||!r.accountFlags.requestQueue)throw new Error("Invalid requests queue");return n},t.decodeEventQueue=function(e,t){const{header:r,nodes:n}=h(u,l,e,t);if(!r.accountFlags.initialized||!r.accountFlags.eventQueue)throw new Error("Invalid events queue");return n},t.REQUEST_QUEUE_LAYOUT={HEADER:s,NODE:a},t.EVENT_QUEUE_LAYOUT={HEADER:u,NODE:l}},35366:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Slab=t.SLAB_LAYOUT=void 0;const i=n(r(48744)),s=r(12324),o=r(84321),a=s.struct([s.u32("bumpIndex"),o.zeros(4),s.u32("freeListLen"),o.zeros(4),s.u32("freeListHead"),s.u32("root"),s.u32("leafCount"),o.zeros(4)],"header"),u=s.union(s.u32("tag"),s.blob(68),"node");u.addVariant(0,s.struct([]),"uninitialized"),u.addVariant(1,s.struct([s.u32("prefixLen"),o.u128("key"),s.seq(s.u32(),2,"children")]),"innerNode"),u.addVariant(2,s.struct([s.u8("ownerSlot"),s.u8("feeTier"),s.blob(2),o.u128("key"),o.publicKeyLayout("owner"),o.u64("quantity"),o.u64("clientOrderId")]),"leafNode"),u.addVariant(3,s.struct([s.u32("next")]),"freeNode"),u.addVariant(4,s.struct([]),"lastFreeNode"),t.SLAB_LAYOUT=s.struct([a,s.seq(u,s.offset(a.layoutFor("bumpIndex"),a.offsetOf("bumpIndex")-a.span),"nodes")]);class c{constructor(e,t){this.header=e,this.nodes=t}static decode(e){return t.SLAB_LAYOUT.decode(e)}get(e){if(0===this.header.leafCount)return null;e instanceof i.default||(e=new i.default(e));let t=this.header.root;for(;;){const{leafNode:r,innerNode:n}=this.nodes[t];if(r)return r.key.eq(e)?r:null;if(!n)throw new Error("Invalid slab");if(!n.key.xor(e).iushrn(128-n.prefixLen).isZero())return null;t=n.children[e.testn(128-n.prefixLen-1)?1:0]}}[Symbol.iterator](){return this.items(!1)}*items(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.header.leafCount)return;const t=[this.header.root];for(;t.length>0;){const r=t.pop(),{leafNode:n,innerNode:i}=this.nodes[r];n?yield n:i&&(e?t.push(i.children[0],i.children[1]):t.push(i.children[1],i.children[0]))}}}t.Slab=c,o.setLayoutDecoder(t.SLAB_LAYOUT,(e=>{let{header:t,nodes:r}=e;return new c(t,r)}))},63786:function(e,t,r){"use strict";var n=r(36897).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.closeAccount=t.mintTo=t.setAuthority=t.revoke=t.approve=t.transfer=t.initializeAccount=t.initializeMint=t.decodeTokenInstructionData=t.SRM_DECIMALS=t.SRM_MINT=t.MSRM_DECIMALS=t.MSRM_MINT=t.WRAPPED_SOL_MINT=t.TOKEN_PROGRAM_ID=t.CLOSE_ACCOUNT_OWNER_INDEX=t.CLOSE_ACCOUNT_DESTINATION_INDEX=t.CLOSE_ACCOUNT_SOURCE_INDEX=t.TRANSFER_OWNER_INDEX=t.TRANSFER_DESTINATION_INDEX=t.TRANSFER_SOURCE_INDEX=t.INITIALIZE_ACCOUNT_OWNER_INDEX=t.INITIALIZE_ACCOUNT_MINT_INDEX=t.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=void 0;const a=o(r(12324)),u=r(71256),c=r(84321);t.INITIALIZE_ACCOUNT_ACCOUNT_INDEX=0,t.INITIALIZE_ACCOUNT_MINT_INDEX=1,t.INITIALIZE_ACCOUNT_OWNER_INDEX=2,t.TRANSFER_SOURCE_INDEX=0,t.TRANSFER_DESTINATION_INDEX=1,t.TRANSFER_OWNER_INDEX=2,t.CLOSE_ACCOUNT_SOURCE_INDEX=0,t.CLOSE_ACCOUNT_DESTINATION_INDEX=1,t.CLOSE_ACCOUNT_OWNER_INDEX=2,t.TOKEN_PROGRAM_ID=new u.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),t.WRAPPED_SOL_MINT=new u.PublicKey("So11111111111111111111111111111111111111112"),t.MSRM_MINT=new u.PublicKey("MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L"),t.MSRM_DECIMALS=0,t.SRM_MINT=new u.PublicKey("SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt"),t.SRM_DECIMALS=6;const l=a.union(a.u8("instruction"));l.addVariant(0,a.struct([a.u8("decimals"),c.publicKeyLayout("mintAuthority"),a.u8("freezeAuthorityOption"),c.publicKeyLayout("freezeAuthority")]),"initializeMint"),l.addVariant(1,a.struct([]),"initializeAccount"),l.addVariant(3,a.struct([a.nu64("amount")]),"transfer"),l.addVariant(4,a.struct([a.nu64("amount")]),"approve"),l.addVariant(5,a.struct([]),"revoke"),l.addVariant(6,a.struct([a.u8("authorityType"),a.u8("newAuthorityOption"),c.publicKeyLayout("newAuthority")]),"setAuthority"),l.addVariant(7,a.struct([a.nu64("amount")]),"mintTo"),l.addVariant(8,a.struct([a.nu64("amount")]),"burn"),l.addVariant(9,a.struct([]),"closeAccount");const d=Math.max(...Object.values(l.registry).map((e=>e.span)));function h(e){const t=n.alloc(d),r=l.encode(e,t);return t.slice(0,r)}t.decodeTokenInstructionData=function(e){return l.decode(e)},t.initializeMint=function(e){let{mint:r,decimals:n,mintAuthority:i,freezeAuthority:s=null}=e;const o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({initializeMint:{decimals:n,mintAuthority:i,freezeAuthorityOption:!!s,freezeAuthority:s||new u.PublicKey(0)}}),programId:t.TOKEN_PROGRAM_ID})},t.initializeAccount=function(e){let{account:r,mint:n,owner:i}=e;const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:u.SYSVAR_RENT_PUBKEY,isSigner:!1,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({initializeAccount:{}}),programId:t.TOKEN_PROGRAM_ID})},t.transfer=function(e){let{source:r,destination:n,amount:i,owner:s}=e;const o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({transfer:{amount:i}}),programId:t.TOKEN_PROGRAM_ID})},t.approve=function(e){let{source:r,delegate:n,amount:i,owner:s}=e;const o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:s,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({approve:{amount:i}}),programId:t.TOKEN_PROGRAM_ID})},t.revoke=function(e){let{source:r,owner:n}=e;const i=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:i,data:h({revoke:{}}),programId:t.TOKEN_PROGRAM_ID})},t.setAuthority=function(e){let{target:r,currentAuthority:n,newAuthority:i,authorityType:s}=e;const o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({setAuthority:{authorityType:s,newAuthorityOption:!!i,newAuthority:i}}),programId:t.TOKEN_PROGRAM_ID})},t.mintTo=function(e){let{mint:r,destination:n,amount:i,mintAuthority:s}=e;const o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:o,data:h({mintTo:{amount:i}}),programId:t.TOKEN_PROGRAM_ID})},t.closeAccount=function(e){let{source:r,destination:n,owner:i}=e;const s=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1}];return new u.TransactionInstruction({keys:s,data:h({closeAccount:{}}),programId:t.TOKEN_PROGRAM_ID})}},1127:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MARKETS=t.TOKEN_MINTS=t.getLayoutVersion=t.PROGRAM_LAYOUT_VERSIONS=void 0;const i=r(71256),s=n(r(80104)),o=n(r(7458));t.PROGRAM_LAYOUT_VERSIONS={"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn":1,BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg:1,EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o:2,"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin":3},t.getLayoutVersion=function(e){return t.PROGRAM_LAYOUT_VERSIONS[e.toString()]||3},t.TOKEN_MINTS=o.default.map((e=>({address:new i.PublicKey(e.address),name:e.name}))),t.MARKETS=s.default.map((e=>({address:new i.PublicKey(e.address),name:e.name,programId:new i.PublicKey(e.programId),deprecated:e.deprecated})))},9458:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AccountClient:()=>Ro,AccountsCoder:()=>qs,BN:()=>m(),Coder:()=>oo,EventCoder:()=>Ys,InstructionCoder:()=>Gs,Program:()=>Ho,Provider:()=>As,StateClient:()=>xo,StateCoder:()=>io,TypesCoder:()=>Xs,Wallet:()=>Is,getProvider:()=>_s,setProvider:()=>Es,utils:()=>f,web3:()=>n,workspace:()=>Jo});var n={};r.r(n),r.d(n,{Account:()=>sr,AddressLookupTableInstruction:()=>Wr,AddressLookupTableProgram:()=>Dr,Authorized:()=>ji,BLOCKHASH_CACHE_TIMEOUT_MS:()=>gn,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Kr,BPF_LOADER_PROGRAM_ID:()=>qr,BpfLoader:()=>Zr,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:()=>Xr,ComputeBudgetInstruction:()=>Hr,ComputeBudgetProgram:()=>Jr,Connection:()=>Di,Ed25519Program:()=>Gi,Enum:()=>Jt,EpochSchedule:()=>nn,FeeCalculatorLayout:()=>hr,Keypair:()=>Ki,LAMPORTS_PER_SOL:()=>bs,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:()=>Cr,Loader:()=>jr,Lockup:()=>qi,MAX_SEED_LENGTH:()=>Yt,Message:()=>Pr,NONCE_ACCOUNT_LENGTH:()=>fr,NonceAccount:()=>gr,PACKET_DATA_SIZE:()=>_r,PublicKey:()=>$t,SIGNATURE_LENGTH_IN_BYTES:()=>vr,SOLANA_SCHEMA:()=>Qt,STAKE_CONFIG_ID:()=>Vi,STAKE_INSTRUCTION_LAYOUTS:()=>Hi,SYSTEM_INSTRUCTION_LAYOUTS:()=>Lr,SYSVAR_CLOCK_PUBKEY:()=>mr,SYSVAR_EPOCH_SCHEDULE_PUBKEY:()=>yr,SYSVAR_INSTRUCTIONS_PUBKEY:()=>br,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>wr,SYSVAR_RENT_PUBKEY:()=>kr,SYSVAR_REWARDS_PUBKEY:()=>Sr,SYSVAR_SLOT_HASHES_PUBKEY:()=>Ar,SYSVAR_SLOT_HISTORY_PUBKEY:()=>Ir,SYSVAR_STAKE_HISTORY_PUBKEY:()=>Er,Secp256k1Program:()=>es,SendTransactionError:()=>sn,SolanaJSONRPCError:()=>an,SolanaJSONRPCErrorCode:()=>on,StakeAuthorizationLayout:()=>Xi,StakeInstruction:()=>Zi,StakeProgram:()=>Ji,Struct:()=>Xt,SystemInstruction:()=>Nr,SystemProgram:()=>zr,Transaction:()=>Ur,TransactionExpiredBlockheightExceededError:()=>cn,TransactionExpiredTimeoutError:()=>ln,TransactionInstruction:()=>Br,TransactionStatus:()=>Or,VALIDATOR_INFO_KEY:()=>ts,VOTE_PROGRAM_ID:()=>is,ValidatorInfo:()=>ns,VoteAccount:()=>os,VoteAuthorizationLayout:()=>ps,VoteInit:()=>ls,VoteInstruction:()=>ds,VoteProgram:()=>fs,clusterApiUrl:()=>ys,sendAndConfirmRawTransaction:()=>gs,sendAndConfirmTransaction:()=>Fr});var i={};r.r(i),r.d(i,{isSet:()=>ro,set:()=>to});var s={};r.r(s),r.d(s,{associated:()=>Ao,createProgramAddressSync:()=>wo,createWithSeedSync:()=>bo,findProgramAddressSync:()=>ko});var o={};r.r(o),r.d(o,{decode:()=>Do,encode:()=>Wo});var a={};r.r(a),r.d(a,{decode:()=>Ko,encode:()=>Fo});var u={};r.r(u),r.d(u,{decode:()=>Vo,encode:()=>Go});var c={};r.r(c),r.d(c,{decode:()=>Zo,encode:()=>qo});var l={};r.r(l),r.d(l,{base64:()=>c,bs58:()=>u,hex:()=>o,utf8:()=>a});var d={};r.r(d),r.d(d,{hash:()=>Qo});var h={};r.r(h),r.d(h,{getMultipleAccounts:()=>ea,invoke:()=>$o});var p={};r.r(p),r.d(p,{associatedAddress:()=>na});var f={};r.r(f),r.d(f,{bytes:()=>l,features:()=>i,publicKey:()=>s,rpc:()=>h,sha256:()=>d,token:()=>p});var g=r(48744),m=r.n(g),y=r(44967),b=r.n(y),w=r(36897),k=r(68532),S=r.n(k),A=r(94407),I=r(68706),E=r(25047),_=r(54338),v=r(85606),x=r(32908),T=r.n(x),P=r(91747),R=r.n(P),O=r(16348),M=r.n(O);const B=e=>w.Buffer.isBuffer(e)?e:e instanceof Uint8Array?w.Buffer.from(e.buffer,e.byteOffset,e.byteLength):w.Buffer.from(e);var U={},N={},L=z;function z(e,t){if(!e)throw new Error(t||"Assertion failed")}z.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var C={exports:{}};"function"===typeof Object.create?C.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:C.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var W=L,D=C.exports;function K(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function F(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function G(e){return 1===e.length?"0"+e:e}function V(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}N.inherits=D,N.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):K(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},N.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=G(e[r].toString(16));return t},N.htonl=F,N.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=F(i)),r+=V(i.toString(16))}return r},N.zero2=G,N.zero8=V,N.join32=function(e,t,r,n){var i=r-t;W(i%4===0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var u;u="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],s[o]=u>>>0}return s},N.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},N.rotr32=function(e,t){return e>>>t|e<<32-t},N.rotl32=function(e,t){return e<<t|e>>>32-t},N.sum32=function(e,t){return e+t>>>0},N.sum32_3=function(e,t,r){return e+t+r>>>0},N.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},N.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},N.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s},N.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},N.sum64_lo=function(e,t,r,n){return t+n>>>0},N.sum64_4_hi=function(e,t,r,n,i,s,o,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+s>>>0)<s?1:0,e+r+i+o+(u+=(c=c+a>>>0)<a?1:0)>>>0},N.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},N.sum64_5_hi=function(e,t,r,n,i,s,o,a,u,c){var l=0,d=t;return l+=(d=d+n>>>0)<t?1:0,l+=(d=d+s>>>0)<s?1:0,l+=(d=d+a>>>0)<a?1:0,e+r+i+o+u+(l+=(d=d+c>>>0)<c?1:0)>>>0},N.sum64_5_lo=function(e,t,r,n,i,s,o,a,u,c){return t+n+s+a+c>>>0},N.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},N.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},N.shr64_hi=function(e,t,r){return e>>>r},N.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var j={},q=N,Z=L;function H(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}j.BlockHash=H,H.prototype.update=function(e,t){if(e=q.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=q.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},H.prototype.digest=function(e){return this.update(this._pad()),Z(null===this.pending),this._digest(e)},H.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var X={},J={},Q=N.rotr32;function Y(e,t,r){return e&t^~e&r}function $(e,t,r){return e&t^e&r^t&r}function ee(e,t,r){return e^t^r}J.ft_1=function(e,t,r,n){return 0===e?Y(t,r,n):1===e||3===e?ee(t,r,n):2===e?$(t,r,n):void 0},J.ch32=Y,J.maj32=$,J.p32=ee,J.s0_256=function(e){return Q(e,2)^Q(e,13)^Q(e,22)},J.s1_256=function(e){return Q(e,6)^Q(e,11)^Q(e,25)},J.g0_256=function(e){return Q(e,7)^Q(e,18)^e>>>3},J.g1_256=function(e){return Q(e,17)^Q(e,19)^e>>>10};var te=N,re=j,ne=J,ie=te.rotl32,se=te.sum32,oe=te.sum32_5,ae=ne.ft_1,ue=re.BlockHash,ce=[1518500249,1859775393,2400959708,3395469782];function le(){if(!(this instanceof le))return new le;ue.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}te.inherits(le,ue);var de=le;le.blockSize=512,le.outSize=160,le.hmacStrength=80,le.padLength=64,le.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=ie(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),l=oe(ie(i,5),ae(c,s,o,a),u,r[n],ce[c]);u=a,a=o,o=ie(s,30),s=i,i=l}this.h[0]=se(this.h[0],i),this.h[1]=se(this.h[1],s),this.h[2]=se(this.h[2],o),this.h[3]=se(this.h[3],a),this.h[4]=se(this.h[4],u)},le.prototype._digest=function(e){return"hex"===e?te.toHex32(this.h,"big"):te.split32(this.h,"big")};var he=N,pe=j,fe=J,ge=L,me=he.sum32,ye=he.sum32_4,be=he.sum32_5,we=fe.ch32,ke=fe.maj32,Se=fe.s0_256,Ae=fe.s1_256,Ie=fe.g0_256,Ee=fe.g1_256,_e=pe.BlockHash,ve=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function xe(){if(!(this instanceof xe))return new xe;_e.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ve,this.W=new Array(64)}he.inherits(xe,_e);var Te=xe;xe.blockSize=512,xe.outSize=256,xe.hmacStrength=192,xe.padLength=64,xe.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=ye(Ee(r[n-2]),r[n-7],Ie(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],d=this.h[7];for(ge(this.k.length===r.length),n=0;n<r.length;n++){var h=be(d,Ae(u),we(u,c,l),this.k[n],r[n]),p=me(Se(i),ke(i,s,o));d=l,l=c,c=u,u=me(a,h),a=o,o=s,s=i,i=me(h,p)}this.h[0]=me(this.h[0],i),this.h[1]=me(this.h[1],s),this.h[2]=me(this.h[2],o),this.h[3]=me(this.h[3],a),this.h[4]=me(this.h[4],u),this.h[5]=me(this.h[5],c),this.h[6]=me(this.h[6],l),this.h[7]=me(this.h[7],d)},xe.prototype._digest=function(e){return"hex"===e?he.toHex32(this.h,"big"):he.split32(this.h,"big")};var Pe=N,Re=Te;function Oe(){if(!(this instanceof Oe))return new Oe;Re.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Pe.inherits(Oe,Re);var Me=Oe;Oe.blockSize=512,Oe.outSize=224,Oe.hmacStrength=192,Oe.padLength=64,Oe.prototype._digest=function(e){return"hex"===e?Pe.toHex32(this.h.slice(0,7),"big"):Pe.split32(this.h.slice(0,7),"big")};var Be=N,Ue=j,Ne=L,Le=Be.rotr64_hi,ze=Be.rotr64_lo,Ce=Be.shr64_hi,We=Be.shr64_lo,De=Be.sum64,Ke=Be.sum64_hi,Fe=Be.sum64_lo,Ge=Be.sum64_4_hi,Ve=Be.sum64_4_lo,je=Be.sum64_5_hi,qe=Be.sum64_5_lo,Ze=Ue.BlockHash,He=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Xe(){if(!(this instanceof Xe))return new Xe;Ze.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=He,this.W=new Array(160)}Be.inherits(Xe,Ze);var Je=Xe;function Qe(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function Ye(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function $e(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function et(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function tt(e,t){var r=Le(e,t,28)^Le(t,e,2)^Le(t,e,7);return r<0&&(r+=4294967296),r}function rt(e,t){var r=ze(e,t,28)^ze(t,e,2)^ze(t,e,7);return r<0&&(r+=4294967296),r}function nt(e,t){var r=Le(e,t,14)^Le(e,t,18)^Le(t,e,9);return r<0&&(r+=4294967296),r}function it(e,t){var r=ze(e,t,14)^ze(e,t,18)^ze(t,e,9);return r<0&&(r+=4294967296),r}function st(e,t){var r=Le(e,t,1)^Le(e,t,8)^Ce(e,t,7);return r<0&&(r+=4294967296),r}function ot(e,t){var r=ze(e,t,1)^ze(e,t,8)^We(e,t,7);return r<0&&(r+=4294967296),r}function at(e,t){var r=Le(e,t,19)^Le(t,e,29)^Ce(e,t,6);return r<0&&(r+=4294967296),r}function ut(e,t){var r=ze(e,t,19)^ze(t,e,29)^We(e,t,6);return r<0&&(r+=4294967296),r}Xe.blockSize=1024,Xe.outSize=512,Xe.hmacStrength=192,Xe.padLength=128,Xe.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=at(r[n-4],r[n-3]),s=ut(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],u=st(r[n-30],r[n-29]),c=ot(r[n-30],r[n-29]),l=r[n-32],d=r[n-31];r[n]=Ge(i,s,o,a,u,c,l,d),r[n+1]=Ve(i,s,o,a,u,c,l,d)}},Xe.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],d=this.h[8],h=this.h[9],p=this.h[10],f=this.h[11],g=this.h[12],m=this.h[13],y=this.h[14],b=this.h[15];Ne(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var k=y,S=b,A=nt(d,h),I=it(d,h),E=Qe(d,h,p,f,g),_=Ye(d,h,p,f,g,m),v=this.k[w],x=this.k[w+1],T=r[w],P=r[w+1],R=je(k,S,A,I,E,_,v,x,T,P),O=qe(k,S,A,I,E,_,v,x,T,P);k=tt(n,i),S=rt(n,i),A=$e(n,i,s,o,a),I=et(n,i,s,o,a,u);var M=Ke(k,S,A,I),B=Fe(k,S,A,I);y=g,b=m,g=p,m=f,p=d,f=h,d=Ke(c,l,R,O),h=Fe(l,l,R,O),c=a,l=u,a=s,u=o,s=n,o=i,n=Ke(R,O,M,B),i=Fe(R,O,M,B)}De(this.h,0,n,i),De(this.h,2,s,o),De(this.h,4,a,u),De(this.h,6,c,l),De(this.h,8,d,h),De(this.h,10,p,f),De(this.h,12,g,m),De(this.h,14,y,b)},Xe.prototype._digest=function(e){return"hex"===e?Be.toHex32(this.h,"big"):Be.split32(this.h,"big")};var ct=N,lt=Je;function dt(){if(!(this instanceof dt))return new dt;lt.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ct.inherits(dt,lt);var ht=dt;dt.blockSize=1024,dt.outSize=384,dt.hmacStrength=192,dt.padLength=128,dt.prototype._digest=function(e){return"hex"===e?ct.toHex32(this.h.slice(0,12),"big"):ct.split32(this.h.slice(0,12),"big")},X.sha1=de,X.sha224=Me,X.sha256=Te,X.sha384=ht,X.sha512=Je;var pt={},ft=N,gt=j,mt=ft.rotl32,yt=ft.sum32,bt=ft.sum32_3,wt=ft.sum32_4,kt=gt.BlockHash;function St(){if(!(this instanceof St))return new St;kt.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function At(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function It(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Et(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}ft.inherits(St,kt),pt.ripemd160=St,St.blockSize=512,St.outSize=160,St.hmacStrength=192,St.padLength=64,St.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,u=n,c=i,l=s,d=o,h=0;h<80;h++){var p=yt(mt(wt(r,At(h,n,i,s),e[_t[h]+t],It(h)),xt[h]),o);r=o,o=s,s=mt(i,10),i=n,n=p,p=yt(mt(wt(a,At(79-h,u,c,l),e[vt[h]+t],Et(h)),Tt[h]),d),a=d,d=l,l=mt(c,10),c=u,u=p}p=bt(this.h[1],i,l),this.h[1]=bt(this.h[2],s,d),this.h[2]=bt(this.h[3],o,a),this.h[3]=bt(this.h[4],r,u),this.h[4]=bt(this.h[0],n,c),this.h[0]=p},St.prototype._digest=function(e){return"hex"===e?ft.toHex32(this.h,"little"):ft.split32(this.h,"little")};var _t=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],vt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],xt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Tt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Pt=N,Rt=L;function Ot(e,t,r){if(!(this instanceof Ot))return new Ot(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(Pt.toArray(t,r))}var Mt=Ot;Ot.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),Rt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},Ot.prototype.update=function(e,t){return this.inner.update(e,t),this},Ot.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=N,t.common=j,t.sha=X,t.ripemd=pt,t.hmac=Mt,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(U);var Bt=U;let Ut=!1,Nt=!1;const Lt={debug:1,default:2,info:2,warning:3,error:4,off:5};let zt=Lt.default,Ct=null;const Wt=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Dt,Kt;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Dt||(Dt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Kt||(Kt={}));const Ft="0123456789abcdef";class Gt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==Lt[r]&&this.throwArgumentError("invalid log level name","logLevel",e),zt>Lt[r]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Gt.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Gt.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Gt.levels.WARNING,t)}makeError(e,t,r){if(Nt)return this.makeError("censored error",t,{});t||(t=Gt.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=Ft[t[e]>>4],r+=Ft[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(o){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let s="";switch(t){case Kt.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Kt.CALL_EXCEPTION:case Kt.INSUFFICIENT_FUNDS:case Kt.MISSING_NEW:case Kt.NONCE_EXPIRED:case Kt.REPLACEMENT_UNDERPRICED:case Kt.TRANSACTION_REPLACED:case Kt.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=t,Object.keys(r).forEach((function(e){o[e]=r[e]})),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Gt.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){Wt&&this.throwError("platform missing String.prototype.normalize",Gt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Wt})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Gt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Gt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Gt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Gt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Gt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Gt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Gt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Ct||(Ct=new Gt("logger/5.6.0")),Ct}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Gt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ut){if(!e)return;this.globalLogger().throwError("error censorship permanent",Gt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Nt=!!e,Ut=!!t}static setLogLevel(e){const t=Lt[e.toLowerCase()];null!=t?zt=t:Gt.globalLogger().warn("invalid log level - "+e)}static from(e){return new Gt(e)}}Gt.errors=Kt,Gt.levels=Dt;const Vt=new Gt("bytes/5.6.0");function jt(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return jt(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function qt(e){return"number"===typeof e&&e==e&&e%1===0}function Zt(e,t){if(t||(t={}),"number"===typeof e){Vt.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),jt(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":Vt.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return jt(new Uint8Array(n))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!qt(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!qt(r)||r<0||r>=256)return!1}return!0}(e)?jt(new Uint8Array(e)):Vt.throwArgumentError("invalid arrayify value","value",e)}function Ht(e){return"0x"+Bt.sha256().update(Zt(e)).digest("hex")}new Gt("sha2/5.6.0");class Xt{constructor(e){Object.assign(this,e)}encode(){return w.Buffer.from((0,A.serialize)(Qt,this))}static decode(e){return(0,A.deserialize)(Qt,this,e)}static decodeUnchecked(e){return(0,A.deserializeUnchecked)(Qt,this,e)}}class Jt extends Xt{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const Qt=new Map,Yt=32;class $t extends Xt{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=S().decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new(m())(t)}else this._bn=new(m())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return S().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(w.Buffer);if(32===e.length)return e;const t=w.Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=w.Buffer.concat([e.toBuffer(),w.Buffer.from(t),r.toBuffer()]),i=Ht(new Uint8Array(n)).slice(2);return new $t(w.Buffer.from(i,"hex"))}static createProgramAddressSync(e,t){let r=w.Buffer.alloc(0);e.forEach((function(e){if(e.length>Yt)throw new TypeError("Max seed length exceeded");r=w.Buffer.concat([r,B(e)])})),r=w.Buffer.concat([r,t.toBuffer(),w.Buffer.from("ProgramDerivedAddress")]);let n=Ht(new Uint8Array(r)).slice(2),i=new(m())(n,16).toArray(void 0,32);if(tr(i))throw new Error("Invalid seeds, address must fall off the curve");return new $t(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(w.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return 1==tr(new $t(e).toBytes())}}$t.default=new $t("11111111111111111111111111111111"),Qt.set($t,{kind:"struct",fields:[["_bn","u256"]]});let er=b().lowlevel;function tr(e){var t=[er.gf(),er.gf(),er.gf(),er.gf()],r=er.gf(),n=er.gf(),i=er.gf(),s=er.gf(),o=er.gf(),a=er.gf(),u=er.gf();return er.set25519(t[2],rr),er.unpack25519(t[1],e),er.S(i,t[1]),er.M(s,i,er.D),er.Z(i,i,t[2]),er.A(s,t[2],s),er.S(o,s),er.S(a,o),er.M(u,a,o),er.M(r,u,i),er.M(r,r,s),er.pow2523(r,r),er.M(r,r,i),er.M(r,r,s),er.M(r,r,s),er.M(t[0],r,s),er.S(n,t[0]),er.M(n,n,s),ir(n,i)&&er.M(t[0],t[0],nr),er.S(n,t[0]),er.M(n,n,s),ir(n,i)?0:1}let rr=er.gf([1]),nr=er.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ir(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return er.pack25519(r,e),er.pack25519(n,t),er.crypto_verify_32(r,0,n,0)}class sr{constructor(e){this._keypair=void 0,this._keypair=e?b().sign.keyPair.fromSecretKey(B(e)):b().sign.keyPair()}get publicKey(){return new $t(this._keypair.publicKey)}get secretKey(){return B(this._keypair.secretKey)}}const or=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return E.Ik(32,e)},ar=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=E.n_([E.Jq("length"),E.Jq("lengthPadding"),E.Ik(E.cv(E.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(e,t)=>r(e,t).chars.toString(),i.encode=(e,t,r)=>{const i={chars:w.Buffer.from(e,"utf8")};return n(i,t,r)},i.alloc=e=>E.Jq().span+E.Jq().span+w.Buffer.from(e,"utf8").length,i};const ur=(cr=8,e=>{const t=(0,E.Ik)(cr,e),{encode:r,decode:n}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const r=n(e,t);return(0,I.oU)(w.Buffer.from(r))},i.encode=(e,t,n)=>{const i=(0,I.k$)(e,cr);return r(i,t,n)},i});var cr;function lr(e,t){const r=e.layout.span>=0?e.layout.span:function(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"===typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}return 0};let n=0;return e.layout.fields.forEach((e=>{n+=r(e)})),n}(e,t),n=w.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}function dr(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${e.index}`);return r}const hr=E._O("lamportsPerSignature"),pr=E.n_([E.Jq("version"),E.Jq("state"),or("authorizedPubkey"),or("nonce"),E.n_([hr],"feeCalculator")]),fr=pr.span;class gr{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=pr.decode(B(e),0);return new gr({authorizedPubkey:new $t(t.authorizedPubkey),nonce:new $t(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const mr=new $t("SysvarC1ock11111111111111111111111111111111"),yr=new $t("SysvarEpochSchedu1e111111111111111111111111"),br=new $t("Sysvar1nstructions1111111111111111111111111"),wr=new $t("SysvarRecentB1ockHashes11111111111111111111"),kr=new $t("SysvarRent111111111111111111111111111111111"),Sr=new $t("SysvarRewards111111111111111111111111111111"),Ar=new $t("SysvarS1otHashes111111111111111111111111111"),Ir=new $t("SysvarS1otHistory11111111111111111111111111"),Er=new $t("SysvarStakeHistory1111111111111111111111111"),_r=1232,vr=64;function xr(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function Tr(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}class Pr{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new $t(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];Tr(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(S().decode(e.data));let i=[];Tr(i,t.length);let s=[];return Tr(s,n.length),{programIdIndex:r,keyIndicesCount:w.Buffer.from(i),keyIndices:t,dataLength:w.Buffer.from(s),data:n}}));let n=[];Tr(n,r.length);let i=w.Buffer.alloc(_r);w.Buffer.from(n).copy(i);let s=n.length;r.forEach((e=>{const t=E.n_([E.u8("programIdIndex"),E.Ik(e.keyIndicesCount.length,"keyIndicesCount"),E.A9(E.u8("keyIndex"),e.keyIndices.length,"keyIndices"),E.Ik(e.dataLength.length,"dataLength"),E.A9(E.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t})),i=i.slice(0,s);const o=E.n_([E.Ik(1,"numRequiredSignatures"),E.Ik(1,"numReadonlySignedAccounts"),E.Ik(1,"numReadonlyUnsignedAccounts"),E.Ik(t.length,"keyCount"),E.A9(or("key"),e,"keys"),or("recentBlockhash")]),a={numRequiredSignatures:w.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:w.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:w.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:w.Buffer.from(t),keys:this.accountKeys.map((e=>B(e.toBytes()))),recentBlockhash:S().decode(this.recentBlockhash)};let u=w.Buffer.alloc(2048);const c=o.encode(a,u);return i.copy(u,c),u.slice(0,c+i.length)}static from(e){let t=[...e];const r=t.shift(),n=t.shift(),i=t.shift(),s=xr(t);let o=[];for(let d=0;d<s;d++){const e=t.slice(0,32);t=t.slice(32),o.push(S().encode(w.Buffer.from(e)))}const a=t.slice(0,32);t=t.slice(32);const u=xr(t);let c=[];for(let d=0;d<u;d++){const e=t.shift(),r=xr(t),n=t.slice(0,r);t=t.slice(r);const i=xr(t),s=t.slice(0,i),o=S().encode(w.Buffer.from(s));t=t.slice(i),c.push({programIdIndex:e,accounts:n,data:o})}const l={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:S().encode(w.Buffer.from(a)),accountKeys:o,instructions:c};return new Pr(l)}}function Rr(e,t){if(!e)throw new Error(t||"Assertion failed")}let Or;!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(Or||(Or={}));const Mr=w.Buffer.alloc(vr).fill(0);class Br{constructor(e){this.keys=void 0,this.programId=void 0,this.data=w.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:[...this.data]}}}class Ur{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Br(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let f=0;f<t.length;f++)if(void 0===t[f].programId)throw new Error(`Transaction instruction index ${f} has undefined program id`);const n=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new $t(e),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((e=>{const t=e.pubkey.toString(),r=s.findIndex((e=>e.pubkey.toString()===t));r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)})),s.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));const o=s.findIndex((e=>e.pubkey.equals(r)));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const f of this.signatures){const e=s.findIndex((e=>e.pubkey.equals(f.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${f.publicKey.toString()}`);s[e].isSigner||(s[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,c=0;const l=[],d=[];s.forEach((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;r?(l.push(t.toString()),a+=1,n||(u+=1)):(d.push(t.toString()),n||(c+=1))}));const h=l.concat(d),p=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:h.indexOf(r.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:S().encode(t)}}));return p.forEach((e=>{Rr(e.programIdIndex>=0),e.accounts.forEach((e=>Rr(e>=0)))})),new Pr({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:h,recentBlockhash:e,instructions:p})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const s=this._compile();this._partialSign(s,...i)}partialSign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}const s=this._compile();this._partialSign(s,...i)}_partialSign(e){const t=e.serialize();for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];n.forEach((e=>{const r=b().sign.detached(t,e.secretKey);this._addSignature(e.publicKey,B(r))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Rr(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=w.Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!b().sign.detached.verify(e,r,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];Tr(r,t.length);const n=r.length+64*t.length+e.length,i=w.Buffer.alloc(n);return Rr(t.length<256),w.Buffer.from(r).copy(i,0),t.forEach(((e,t)=>{let{signature:n}=e;null!==n&&(Rr(64===n.length,"signature has invalid length"),w.Buffer.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),Rr(i.length<=_r,`Transaction too large: ${i.length} > ${_r}`),i}get keys(){return Rr(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return Rr(1===this.instructions.length),this.instructions[0].programId}get data(){return Rr(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=xr(t);let n=[];for(let i=0;i<r;i++){const e=t.slice(0,vr);t=t.slice(vr),n.push(S().encode(w.Buffer.from(e)))}return Ur.populate(Pr.from(t),n)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new Ur;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==S().encode(Mr)?null:S().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new Br({keys:n,programId:e.accountKeys[t.programIdIndex],data:S().decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}class Nr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=E.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Lr))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:n}=dr(Lr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new $t(n)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=dr(Lr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:n}=dr(Lr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new $t(n)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=dr(Lr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:n,programId:i}=dr(Lr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new $t(t),seed:r,space:n,programId:new $t(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=dr(Lr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new $t(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:n}=dr(Lr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new $t(t),seed:r,programId:new $t(n)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:n,space:i,programId:s}=dr(Lr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new $t(t),seed:r,lamports:n,space:i,programId:new $t(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=dr(Lr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new $t(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),dr(Lr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=dr(Lr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=dr(Lr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new $t(t)}}static checkProgramId(e){if(!e.equals(zr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Lr=Object.freeze({Create:{index:0,layout:E.n_([E.Jq("instruction"),E.gM("lamports"),E.gM("space"),or("programId")])},Assign:{index:1,layout:E.n_([E.Jq("instruction"),or("programId")])},Transfer:{index:2,layout:E.n_([E.Jq("instruction"),ur("lamports")])},CreateWithSeed:{index:3,layout:E.n_([E.Jq("instruction"),or("base"),ar("seed"),E.gM("lamports"),E.gM("space"),or("programId")])},AdvanceNonceAccount:{index:4,layout:E.n_([E.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:E.n_([E.Jq("instruction"),E.gM("lamports")])},InitializeNonceAccount:{index:6,layout:E.n_([E.Jq("instruction"),or("authorized")])},AuthorizeNonceAccount:{index:7,layout:E.n_([E.Jq("instruction"),or("authorized")])},Allocate:{index:8,layout:E.n_([E.Jq("instruction"),E.gM("space")])},AllocateWithSeed:{index:9,layout:E.n_([E.Jq("instruction"),or("base"),ar("seed"),E.gM("space"),or("programId")])},AssignWithSeed:{index:10,layout:E.n_([E.Jq("instruction"),or("base"),ar("seed"),or("programId")])},TransferWithSeed:{index:11,layout:E.n_([E.Jq("instruction"),ur("lamports"),ar("seed"),or("programId")])},UpgradeNonceAccount:{index:12,layout:E.n_([E.Jq("instruction")])}});class zr{constructor(){}static createAccount(e){const t=lr(Lr.Create,{lamports:e.lamports,space:e.space,programId:B(e.programId.toBuffer())});return new Br({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=lr(Lr.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:B(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=lr(Lr.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Br({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=lr(Lr.AssignWithSeed,{base:B(e.basePubkey.toBuffer()),seed:e.seed,programId:B(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=lr(Lr.Assign,{programId:B(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Br({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=lr(Lr.CreateWithSeed,{base:B(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:B(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Br({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new Ur;"basePubkey"in e&&"seed"in e?t.add(zr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:fr,programId:this.programId})):t.add(zr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:fr,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=lr(Lr.InitializeNonceAccount,{authorized:B(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:kr,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new Br(r)}static nonceAdvance(e){const t=lr(Lr.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new Br(r)}static nonceWithdraw(e){const t=lr(Lr.WithdrawNonceAccount,{lamports:e.lamports});return new Br({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:wr,isSigner:!1,isWritable:!1},{pubkey:kr,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=lr(Lr.AuthorizeNonceAccount,{authorized:B(e.newAuthorizedPubkey.toBuffer())});return new Br({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=lr(Lr.AllocateWithSeed,{base:B(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:B(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=lr(Lr.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Br({keys:r,programId:this.programId,data:t})}}zr.programId=new $t("11111111111111111111111111111111");const Cr=Object.freeze({CreateLookupTable:{index:0,layout:E.n_([E.Jq("instruction"),ur("recentSlot"),E.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:E.n_([E.Jq("instruction")])},ExtendLookupTable:{index:2,layout:E.n_([E.Jq("instruction"),ur(),E.A9(or(),E.cv(E.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:E.n_([E.Jq("instruction")])},CloseLookupTable:{index:4,layout:E.n_([E.Jq("instruction")])}});class Wr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=E.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Cr))if(i.index==t){r=n;break}if(!r)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return r}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:t}=dr(Cr.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(t)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:t}=dr(Cr.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:t.map((e=>new $t(e)))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(Dr.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}class Dr{constructor(){}static createLookupTable(e){const[t,r]=$t.findProgramAddressSync([e.authority.toBuffer(),(0,I.k$)(BigInt(e.recentSlot),8)],this.programId),n=lr(Cr.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:zr.programId,isSigner:!1,isWritable:!1}];return[new Br({programId:this.programId,keys:i,data:n}),t]}static freezeLookupTable(e){const t=lr(Cr.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Br({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=lr(Cr.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:zr.programId,isSigner:!1,isWritable:!1}),new Br({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=lr(Cr.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Br({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=lr(Cr.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Br({programId:this.programId,keys:r,data:t})}}Dr.programId=new $t("AddressLookupTab1e1111111111111111111111111");const Kr=new $t("BPFLoader1111111111111111111111111111111111");async function Fr(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await e.sendTransaction(t,r,i),o=null!=t.recentBlockhash&&null!=t.lastValidBlockHeight?(await e.confirmTransaction({signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value:(await e.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Gr(e){return new Promise((t=>setTimeout(t,e)))}const Vr=_r-300;class jr{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/jr.chunkSize)+1+1)}static async load(e,t,r,n,i){{const s=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new Ur,a.add(zr.allocate({accountPubkey:r.publicKey,space:i.length}))),o.owner.equals(n)||(a=a||new Ur,a.add(zr.assign({accountPubkey:r.publicKey,programId:n}))),o.lamports<s&&(a=a||new Ur,a.add(zr.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:s-o.lamports})))}else a=(new Ur).add(zr.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:i.length,programId:n}));null!==a&&await Fr(e,a,[t,r],{commitment:"confirmed"})}const s=E.n_([E.Jq("instruction"),E.Jq("offset"),E.Jq("bytesLength"),E.Jq("bytesLengthPadding"),E.A9(E.u8("byte"),E.cv(E.Jq(),-8),"bytes")]),o=jr.chunkSize;let a=0,u=i,c=[];for(;u.length>0;){const i=u.slice(0,o),l=w.Buffer.alloc(o+16);s.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},l);const d=(new Ur).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:l});if(c.push(Fr(e,d,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await Gr(1e3/e)}a+=o,u=u.slice(o)}await Promise.all(c);{const i=E.n_([E.Jq("instruction")]),s=w.Buffer.alloc(i.span);i.encode({instruction:1},s);const o=(new Ur).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:kr,isSigner:!1,isWritable:!1}],programId:n,data:s});await Fr(e,o,[t,r],{commitment:"confirmed"})}return!0}}jr.chunkSize=Vr;const qr=new $t("BPFLoader2111111111111111111111111111111111");class Zr{static getMinNumSignatures(e){return jr.getMinNumSignatures(e)}static load(e,t,r,n,i){return jr.load(e,t,r,i,n)}}class Hr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=E.u8("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Xr))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return r}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:t,additionalFee:r}=dr(Xr.RequestUnits,e.data);return{units:t,additionalFee:r}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:t}=dr(Xr.RequestHeapFrame,e.data);return{bytes:t}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:t}=dr(Xr.SetComputeUnitLimit,e.data);return{units:t}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:t}=dr(Xr.SetComputeUnitPrice,e.data);return{microLamports:t}}static checkProgramId(e){if(!e.equals(Jr.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Xr=Object.freeze({RequestUnits:{index:0,layout:E.n_([E.u8("instruction"),E.Jq("units"),E.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:E.n_([E.u8("instruction"),E.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:E.n_([E.u8("instruction"),E.Jq("units")])},SetComputeUnitPrice:{index:3,layout:E.n_([E.u8("instruction"),ur("microLamports")])}});class Jr{constructor(){}static requestUnits(e){const t=lr(Xr.RequestUnits,e);return new Br({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=lr(Xr.RequestHeapFrame,e);return new Br({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=lr(Xr.SetComputeUnitLimit,e);return new Br({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=lr(Xr.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new Br({keys:[],programId:this.programId,data:t})}}Jr.programId=new $t("ComputeBudget111111111111111111111111111111");var Qr=Object.prototype.toString,Yr=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function $r(e,t){var r,n,i,s,o,a,u;if(!0===e)return"true";if(!1===e)return"false";switch(typeof e){case"object":if(null===e)return null;if(e.toJSON&&"function"===typeof e.toJSON)return $r(e.toJSON(),t);if("[object Array]"===(u=Qr.call(e))){for(i="[",n=e.length-1,r=0;r<n;r++)i+=$r(e[r],!0)+",";return n>-1&&(i+=$r(e[r],!0)),i+"]"}if("[object Object]"===u){for(n=(s=Yr(e).sort()).length,i="",r=0;r<n;)void 0!==(a=$r(e[o=s[r]],!1))&&(i&&(i+=","),i+=JSON.stringify(o)+":"+a),r++;return"{"+i+"}"}return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}var en=function(e){var t=$r(e,!1);if(void 0!==t)return""+t};const tn=globalThis.URL;function rn(e){let t=0;for(;e>1;)e/=2,t++;return t}class nn{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=rn(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-rn(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+rn(32)):this.slotsPerEpoch}}class sn extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const on={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class an extends Error{constructor(e,t){let{code:r,message:n,data:i}=e;super(null!=t?`${t}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=r,this.data=i,this.name="SolanaJSONRPCError"}}var un=globalThis.fetch;class cn extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(cn.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class ln extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}var dn;Object.defineProperty(ln.prototype,"name",{value:"TransactionExpiredTimeoutError"});const hn=(0,_.oQ)((0,_.eE)($t),(0,_.Z_)(),(e=>new $t(e))),pn=(0,_.bc)([(0,_.Z_)(),(0,_.i0)("base64")]),fn=(0,_.oQ)((0,_.eE)(w.Buffer),pn,(e=>w.Buffer.from(e[0],"base64"))),gn=3e4;function mn(e){let t,r;if("string"===typeof e)t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function yn(e){return(0,_.G0)([(0,_.dt)({jsonrpc:(0,_.i0)("2.0"),id:(0,_.Z_)(),result:e}),(0,_.dt)({jsonrpc:(0,_.i0)("2.0"),id:(0,_.Z_)(),error:(0,_.dt)({code:(0,_._4)(),message:(0,_.Z_)(),data:(0,_.jt)((0,_.Yj)())})})])}const bn=yn((0,_._4)());function wn(e){return(0,_.oQ)(yn(e),bn,(t=>"error"in t?t:{...t,result:(0,_.Ue)(t.result,e)}))}function kn(e){return wn((0,_.dt)({context:(0,_.dt)({slot:(0,_.Rx)()}),value:e}))}function Sn(e){return(0,_.dt)({context:(0,_.dt)({slot:(0,_.Rx)()}),value:e})}const An=(0,_.dt)({foundation:(0,_.Rx)(),foundationTerm:(0,_.Rx)(),initial:(0,_.Rx)(),taper:(0,_.Rx)(),terminal:(0,_.Rx)()}),In=wn((0,_.IX)((0,_.AG)((0,_.dt)({epoch:(0,_.Rx)(),effectiveSlot:(0,_.Rx)(),amount:(0,_.Rx)(),postBalance:(0,_.Rx)()})))),En=(0,_.dt)({epoch:(0,_.Rx)(),slotIndex:(0,_.Rx)(),slotsInEpoch:(0,_.Rx)(),absoluteSlot:(0,_.Rx)(),blockHeight:(0,_.jt)((0,_.Rx)()),transactionCount:(0,_.jt)((0,_.Rx)())}),_n=(0,_.dt)({slotsPerEpoch:(0,_.Rx)(),leaderScheduleSlotOffset:(0,_.Rx)(),warmup:(0,_.O7)(),firstNormalEpoch:(0,_.Rx)(),firstNormalSlot:(0,_.Rx)()}),vn=(0,_.IM)((0,_.Z_)(),(0,_.IX)((0,_.Rx)())),xn=(0,_.AG)((0,_.G0)([(0,_.dt)({}),(0,_.Z_)()])),Tn=(0,_.dt)({err:xn}),Pn=(0,_.i0)("receivedSignature"),Rn=(0,_.dt)({"solana-core":(0,_.Z_)(),"feature-set":(0,_.jt)((0,_.Rx)())}),On=kn((0,_.dt)({err:(0,_.AG)((0,_.G0)([(0,_.dt)({}),(0,_.Z_)()])),logs:(0,_.AG)((0,_.IX)((0,_.Z_)())),accounts:(0,_.jt)((0,_.AG)((0,_.IX)((0,_.AG)((0,_.dt)({executable:(0,_.O7)(),owner:(0,_.Z_)(),lamports:(0,_.Rx)(),data:(0,_.IX)((0,_.Z_)()),rentEpoch:(0,_.jt)((0,_.Rx)())}))))),unitsConsumed:(0,_.jt)((0,_.Rx)()),returnData:(0,_.jt)((0,_.AG)((0,_.dt)({programId:(0,_.Z_)(),data:(0,_.bc)([(0,_.Z_)(),(0,_.i0)("base64")])})))})),Mn=kn((0,_.dt)({byIdentity:(0,_.IM)((0,_.Z_)(),(0,_.IX)((0,_.Rx)())),range:(0,_.dt)({firstSlot:(0,_.Rx)(),lastSlot:(0,_.Rx)()})}));const Bn=wn(An),Un=wn(En),Nn=wn(_n),Ln=wn(vn),zn=wn((0,_.Rx)()),Cn=kn((0,_.dt)({total:(0,_.Rx)(),circulating:(0,_.Rx)(),nonCirculating:(0,_.Rx)(),nonCirculatingAccounts:(0,_.IX)(hn)})),Wn=(0,_.dt)({amount:(0,_.Z_)(),uiAmount:(0,_.AG)((0,_.Rx)()),decimals:(0,_.Rx)(),uiAmountString:(0,_.jt)((0,_.Z_)())}),Dn=kn((0,_.IX)((0,_.dt)({address:hn,amount:(0,_.Z_)(),uiAmount:(0,_.AG)((0,_.Rx)()),decimals:(0,_.Rx)(),uiAmountString:(0,_.jt)((0,_.Z_)())}))),Kn=kn((0,_.IX)((0,_.dt)({pubkey:hn,account:(0,_.dt)({executable:(0,_.O7)(),owner:hn,lamports:(0,_.Rx)(),data:fn,rentEpoch:(0,_.Rx)()})}))),Fn=(0,_.dt)({program:(0,_.Z_)(),parsed:(0,_._4)(),space:(0,_.Rx)()}),Gn=kn((0,_.IX)((0,_.dt)({pubkey:hn,account:(0,_.dt)({executable:(0,_.O7)(),owner:hn,lamports:(0,_.Rx)(),data:Fn,rentEpoch:(0,_.Rx)()})}))),Vn=kn((0,_.IX)((0,_.dt)({lamports:(0,_.Rx)(),address:hn}))),jn=(0,_.dt)({executable:(0,_.O7)(),owner:hn,lamports:(0,_.Rx)(),data:fn,rentEpoch:(0,_.Rx)()}),qn=(0,_.dt)({pubkey:hn,account:jn}),Zn=(0,_.oQ)((0,_.G0)([(0,_.eE)(w.Buffer),Fn]),(0,_.G0)([pn,Fn]),(e=>Array.isArray(e)?(0,_.Ue)(e,fn):e)),Hn=(0,_.dt)({executable:(0,_.O7)(),owner:hn,lamports:(0,_.Rx)(),data:Zn,rentEpoch:(0,_.Rx)()}),Xn=(0,_.dt)({pubkey:hn,account:Hn}),Jn=(0,_.dt)({state:(0,_.G0)([(0,_.i0)("active"),(0,_.i0)("inactive"),(0,_.i0)("activating"),(0,_.i0)("deactivating")]),active:(0,_.Rx)(),inactive:(0,_.Rx)()}),Qn=wn((0,_.IX)((0,_.dt)({signature:(0,_.Z_)(),slot:(0,_.Rx)(),err:xn,memo:(0,_.AG)((0,_.Z_)()),blockTime:(0,_.jt)((0,_.AG)((0,_.Rx)()))}))),Yn=wn((0,_.IX)((0,_.dt)({signature:(0,_.Z_)(),slot:(0,_.Rx)(),err:xn,memo:(0,_.AG)((0,_.Z_)()),blockTime:(0,_.jt)((0,_.AG)((0,_.Rx)()))}))),$n=(0,_.dt)({subscription:(0,_.Rx)(),result:Sn(jn)}),ei=(0,_.dt)({pubkey:hn,account:jn}),ti=(0,_.dt)({subscription:(0,_.Rx)(),result:Sn(ei)}),ri=(0,_.dt)({parent:(0,_.Rx)(),slot:(0,_.Rx)(),root:(0,_.Rx)()}),ni=(0,_.dt)({subscription:(0,_.Rx)(),result:ri}),ii=(0,_.G0)([(0,_.dt)({type:(0,_.G0)([(0,_.i0)("firstShredReceived"),(0,_.i0)("completed"),(0,_.i0)("optimisticConfirmation"),(0,_.i0)("root")]),slot:(0,_.Rx)(),timestamp:(0,_.Rx)()}),(0,_.dt)({type:(0,_.i0)("createdBank"),parent:(0,_.Rx)(),slot:(0,_.Rx)(),timestamp:(0,_.Rx)()}),(0,_.dt)({type:(0,_.i0)("frozen"),slot:(0,_.Rx)(),timestamp:(0,_.Rx)(),stats:(0,_.dt)({numTransactionEntries:(0,_.Rx)(),numSuccessfulTransactions:(0,_.Rx)(),numFailedTransactions:(0,_.Rx)(),maxTransactionsPerEntry:(0,_.Rx)()})}),(0,_.dt)({type:(0,_.i0)("dead"),slot:(0,_.Rx)(),timestamp:(0,_.Rx)(),err:(0,_.Z_)()})]),si=(0,_.dt)({subscription:(0,_.Rx)(),result:ii}),oi=(0,_.dt)({subscription:(0,_.Rx)(),result:Sn((0,_.G0)([Tn,Pn]))}),ai=(0,_.dt)({subscription:(0,_.Rx)(),result:(0,_.Rx)()}),ui=(0,_.dt)({pubkey:(0,_.Z_)(),gossip:(0,_.AG)((0,_.Z_)()),tpu:(0,_.AG)((0,_.Z_)()),rpc:(0,_.AG)((0,_.Z_)()),version:(0,_.AG)((0,_.Z_)())}),ci=(0,_.dt)({votePubkey:(0,_.Z_)(),nodePubkey:(0,_.Z_)(),activatedStake:(0,_.Rx)(),epochVoteAccount:(0,_.O7)(),epochCredits:(0,_.IX)((0,_.bc)([(0,_.Rx)(),(0,_.Rx)(),(0,_.Rx)()])),commission:(0,_.Rx)(),lastVote:(0,_.Rx)(),rootSlot:(0,_.AG)((0,_.Rx)())}),li=wn((0,_.dt)({current:(0,_.IX)(ci),delinquent:(0,_.IX)(ci)})),di=(0,_.G0)([(0,_.i0)("processed"),(0,_.i0)("confirmed"),(0,_.i0)("finalized")]),hi=(0,_.dt)({slot:(0,_.Rx)(),confirmations:(0,_.AG)((0,_.Rx)()),err:xn,confirmationStatus:(0,_.jt)(di)}),pi=kn((0,_.IX)((0,_.AG)(hi))),fi=wn((0,_.Rx)()),gi=(0,_.dt)({signatures:(0,_.IX)((0,_.Z_)()),message:(0,_.dt)({accountKeys:(0,_.IX)((0,_.Z_)()),header:(0,_.dt)({numRequiredSignatures:(0,_.Rx)(),numReadonlySignedAccounts:(0,_.Rx)(),numReadonlyUnsignedAccounts:(0,_.Rx)()}),instructions:(0,_.IX)((0,_.dt)({accounts:(0,_.IX)((0,_.Rx)()),data:(0,_.Z_)(),programIdIndex:(0,_.Rx)()})),recentBlockhash:(0,_.Z_)()})}),mi=(0,_.dt)({parsed:(0,_._4)(),program:(0,_.Z_)(),programId:hn}),yi=(0,_.dt)({accounts:(0,_.IX)(hn),data:(0,_.Z_)(),programId:hn}),bi=(0,_.G0)([yi,mi]),wi=(0,_.G0)([(0,_.dt)({parsed:(0,_._4)(),program:(0,_.Z_)(),programId:(0,_.Z_)()}),(0,_.dt)({accounts:(0,_.IX)((0,_.Z_)()),data:(0,_.Z_)(),programId:(0,_.Z_)()})]),ki=(0,_.oQ)(bi,wi,(e=>"accounts"in e?(0,_.Ue)(e,yi):(0,_.Ue)(e,mi))),Si=(0,_.dt)({signatures:(0,_.IX)((0,_.Z_)()),message:(0,_.dt)({accountKeys:(0,_.IX)((0,_.dt)({pubkey:hn,signer:(0,_.O7)(),writable:(0,_.O7)()})),instructions:(0,_.IX)(ki),recentBlockhash:(0,_.Z_)()})}),Ai=(0,_.dt)({accountIndex:(0,_.Rx)(),mint:(0,_.Z_)(),owner:(0,_.jt)((0,_.Z_)()),uiTokenAmount:Wn}),Ii=(0,_.dt)({err:xn,fee:(0,_.Rx)(),innerInstructions:(0,_.jt)((0,_.AG)((0,_.IX)((0,_.dt)({index:(0,_.Rx)(),instructions:(0,_.IX)((0,_.dt)({accounts:(0,_.IX)((0,_.Rx)()),data:(0,_.Z_)(),programIdIndex:(0,_.Rx)()}))})))),preBalances:(0,_.IX)((0,_.Rx)()),postBalances:(0,_.IX)((0,_.Rx)()),logMessages:(0,_.jt)((0,_.AG)((0,_.IX)((0,_.Z_)()))),preTokenBalances:(0,_.jt)((0,_.AG)((0,_.IX)(Ai))),postTokenBalances:(0,_.jt)((0,_.AG)((0,_.IX)(Ai)))}),Ei=(0,_.dt)({err:xn,fee:(0,_.Rx)(),innerInstructions:(0,_.jt)((0,_.AG)((0,_.IX)((0,_.dt)({index:(0,_.Rx)(),instructions:(0,_.IX)(ki)})))),preBalances:(0,_.IX)((0,_.Rx)()),postBalances:(0,_.IX)((0,_.Rx)()),logMessages:(0,_.jt)((0,_.AG)((0,_.IX)((0,_.Z_)()))),preTokenBalances:(0,_.jt)((0,_.AG)((0,_.IX)(Ai))),postTokenBalances:(0,_.jt)((0,_.AG)((0,_.IX)(Ai)))}),_i=wn((0,_.AG)((0,_.dt)({blockhash:(0,_.Z_)(),previousBlockhash:(0,_.Z_)(),parentSlot:(0,_.Rx)(),transactions:(0,_.IX)((0,_.dt)({transaction:gi,meta:(0,_.AG)(Ii)})),rewards:(0,_.jt)((0,_.IX)((0,_.dt)({pubkey:(0,_.Z_)(),lamports:(0,_.Rx)(),postBalance:(0,_.AG)((0,_.Rx)()),rewardType:(0,_.AG)((0,_.Z_)())}))),blockTime:(0,_.AG)((0,_.Rx)()),blockHeight:(0,_.AG)((0,_.Rx)())}))),vi=wn((0,_.AG)((0,_.dt)({blockhash:(0,_.Z_)(),previousBlockhash:(0,_.Z_)(),parentSlot:(0,_.Rx)(),transactions:(0,_.IX)((0,_.dt)({transaction:gi,meta:(0,_.AG)(Ii)})),rewards:(0,_.jt)((0,_.IX)((0,_.dt)({pubkey:(0,_.Z_)(),lamports:(0,_.Rx)(),postBalance:(0,_.AG)((0,_.Rx)()),rewardType:(0,_.AG)((0,_.Z_)())}))),blockTime:(0,_.AG)((0,_.Rx)())}))),xi=wn((0,_.AG)((0,_.dt)({blockhash:(0,_.Z_)(),previousBlockhash:(0,_.Z_)(),parentSlot:(0,_.Rx)(),signatures:(0,_.IX)((0,_.Z_)()),blockTime:(0,_.AG)((0,_.Rx)())}))),Ti=wn((0,_.AG)((0,_.dt)({slot:(0,_.Rx)(),meta:Ii,blockTime:(0,_.jt)((0,_.AG)((0,_.Rx)())),transaction:gi}))),Pi=wn((0,_.AG)((0,_.dt)({slot:(0,_.Rx)(),transaction:Si,meta:(0,_.AG)(Ei),blockTime:(0,_.jt)((0,_.AG)((0,_.Rx)()))}))),Ri=kn((0,_.dt)({blockhash:(0,_.Z_)(),feeCalculator:(0,_.dt)({lamportsPerSignature:(0,_.Rx)()})})),Oi=kn((0,_.dt)({blockhash:(0,_.Z_)(),lastValidBlockHeight:(0,_.Rx)()})),Mi=(0,_.dt)({slot:(0,_.Rx)(),numTransactions:(0,_.Rx)(),numSlots:(0,_.Rx)(),samplePeriodSecs:(0,_.Rx)()}),Bi=wn((0,_.IX)(Mi)),Ui=kn((0,_.AG)((0,_.dt)({feeCalculator:(0,_.dt)({lamportsPerSignature:(0,_.Rx)()})}))),Ni=wn((0,_.Z_)()),Li=wn((0,_.Z_)()),zi=(0,_.dt)({err:xn,logs:(0,_.IX)((0,_.Z_)()),signature:(0,_.Z_)()}),Ci=(0,_.dt)({result:Sn(zi),subscription:(0,_.Rx)()}),Wi={"solana-client":`js/${null!==(dn="0.0.0-development")?dn:"UNKNOWN"}`};class Di{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set;let r=new tn(e);r.protocol;let n,i,s,o,a;var u;t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,i=t.httpHeaders,s=t.fetch,o=t.fetchMiddleware,a=t.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=n||function(e){let t=new tn(e);const r="https:"===t.protocol;return t.protocol=r?"wss:":"ws:",t.host="",""!==t.port&&(t.port=String(Number(t.port)+1)),t.toString()}(e),this._rpcClient=function(e,t,r,n,i,s){const o=n||un;let a;return i&&(a=async(e,t)=>{const r=await new Promise(((r,n)=>{try{i(e,t,((e,t)=>r([e,t])))}catch(s){n(s)}}));return await o(...r)}),new(T())((async(t,n)=>{const i={method:"POST",body:t,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{},Wi)};try{let t,r=5,u=500;for(;t=a?await a(e,i):await o(e,i),429===t.status&&!0!==s&&(r-=1,0!==r);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${u}ms delay...`),await Gr(u),u*=2;const c=await t.text();t.ok?n(null,c):n(new Error(`${t.status} ${t.statusText}: ${c}`))}catch(u){u instanceof Error&&n(u)}}),{})}(r.toString(),0,i,s,o,a),this._rpcRequest=(u=this._rpcClient,(e,t)=>new Promise(((r,n)=>{u.request(e,t,((e,t)=>{e?n(e):r(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((r,n)=>{0===t.length&&r([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?n(e):r(t)}))}))}(this._rpcClient),this._rpcWebSocket=new v.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:n}=mn(t),i=this._buildArgs([e.toBase58()],r,void 0,n),s=await this._rpcRequest("getBalance",i),o=(0,_.Ue)(s,kn((0,_.Rx)()));if("error"in o)throw new an(o.error,`failed to get balance for ${e.toBase58()}`);return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=(0,_.Ue)(t,wn((0,_.AG)((0,_.Rx)())));if("error"in r)throw new an(r.error,`failed to get block time for slot ${e}`);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,_.Ue)(e,wn((0,_.Rx)()));if("error"in t)throw new an(t.error,"failed to get minimum ledger slot");return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,_.Ue)(e,zn);if("error"in t)throw new an(t.error,"failed to get first available block");return t.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),n=(0,_.Ue)(r,Cn);if("error"in n)throw new an(n.error,"failed to get supply");return n.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenSupply",r),i=(0,_.Ue)(n,kn(Wn));if("error"in i)throw new an(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenAccountBalance",r),i=(0,_.Ue)(n,kn(Wn));if("error"in i)throw new an(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(e,t,r){const{commitment:n,config:i}=mn(r);let s=[e.toBase58()];"mint"in t?s.push({mint:t.mint.toBase58()}):s.push({programId:t.programId.toBase58()});const o=this._buildArgs(s,n,"base64",i),a=await this._rpcRequest("getTokenAccountsByOwner",o),u=(0,_.Ue)(a,Kn);if("error"in u)throw new an(u.error,`failed to get token accounts owned by account ${e.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",i),o=(0,_.Ue)(s,Gn);if("error"in o)throw new an(o.error,`failed to get token accounts owned by account ${e.toBase58()}`);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=await this._rpcRequest("getLargestAccounts",r),i=(0,_.Ue)(n,Vn);if("error"in i)throw new an(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenLargestAccounts",r),i=(0,_.Ue)(n,Dn);if("error"in i)throw new an(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:n}=mn(t),i=this._buildArgs([e.toBase58()],r,"base64",n),s=await this._rpcRequest("getAccountInfo",i),o=(0,_.Ue)(s,kn((0,_.AG)(jn)));if("error"in o)throw new an(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getParsedAccountInfo(e,t){const r=this._buildArgs([e.toBase58()],t,"jsonParsed"),n=await this._rpcRequest("getAccountInfo",r),i=(0,_.Ue)(n,kn((0,_.AG)(Hn)));if("error"in i)throw new an(i.error,`failed to get info about account ${e.toBase58()}`);return i.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:n}=mn(t),i=e.map((e=>e.toBase58())),s=this._buildArgs([i],r,"base64",n),o=await this._rpcRequest("getMultipleAccounts",s),a=(0,_.Ue)(o,kn((0,_.IX)((0,_.AG)(jn))));if("error"in a)throw new an(a.error,`failed to get info for accounts ${i}`);return a.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:n,config:i}=mn(t),s=this._buildArgs([e.toBase58()],n,void 0,{...i,epoch:null!=r?r:null===i||void 0===i?void 0:i.epoch}),o=await this._rpcRequest("getStakeActivation",s),a=(0,_.Ue)(o,wn(Jn));if("error"in a)throw new an(a.error,`failed to get Stake Activation ${e.toBase58()}`);return a.result}async getProgramAccounts(e,t){const{commitment:r,config:n}=mn(t),{encoding:i,...s}=n||{},o=this._buildArgs([e.toBase58()],r,i||"base64",s),a=await this._rpcRequest("getProgramAccounts",o),u=(0,_.Ue)(a,wn((0,_.IX)(qn)));if("error"in u)throw new an(u.error,`failed to get accounts owned by program ${e.toBase58()}`);return u.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:n}=mn(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),s=await this._rpcRequest("getProgramAccounts",i),o=(0,_.Ue)(s,wn((0,_.IX)(Xn)));if("error"in o)throw new an(o.error,`failed to get accounts owned by program ${e.toBase58()}`);return o.result}async confirmTransaction(e,t){let r,n;if("string"==typeof e)r=e;else{r=e.signature}try{n=S().decode(r)}catch(d){throw new Error("signature must be base58 encoded: "+r)}Rr(64===n.length,"signature has invalid length");const i=t||this.commitment;let s,o,a=!1;const u=new Promise(((e,t)=>{try{o=this.onSignature(r,((t,r)=>{o=void 0;const n={context:r,value:t};a=!0,e({__type:Or.PROCESSED,response:n})}),i)}catch(d){t(d)}})),c=new Promise((r=>{if("string"===typeof e){let e=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":e=this._confirmTransactionInitialTimeout||3e4}s=setTimeout((()=>r({__type:Or.TIMED_OUT,timeoutMs:e})),e)}else{let n=e;const i=async()=>{try{return await this.getBlockHeight(t)}catch(e){return-1}};(async()=>{let e=await i();if(!a){for(;e<=n.lastValidBlockHeight;){if(await Gr(1e3),a)return;if(e=await i(),a)return}r({__type:Or.BLOCKHEIGHT_EXCEEDED})}})()}}));let l;try{const e=await Promise.race([u,c]);switch(e.__type){case Or.BLOCKHEIGHT_EXCEEDED:throw new cn(r);case Or.PROCESSED:l=e.response;break;case Or.TIMED_OUT:throw new ln(r,e.timeoutMs/1e3)}}finally{clearTimeout(s),o&&this.removeSignatureListener(o)}return l}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,_.Ue)(e,wn((0,_.IX)(ui)));if("error"in t)throw new an(t.error,"failed to get cluster nodes");return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),n=(0,_.Ue)(r,li);if("error"in n)throw new an(n.error,"failed to get vote accounts");return n.result}async getSlot(e){const{commitment:t,config:r}=mn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlot",n),s=(0,_.Ue)(i,wn((0,_.Rx)()));if("error"in s)throw new an(s.error,"failed to get slot");return s.result}async getSlotLeader(e){const{commitment:t,config:r}=mn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getSlotLeader",n),s=(0,_.Ue)(i,wn((0,_.Z_)()));if("error"in s)throw new an(s.error,"failed to get slot leader");return s.result}async getSlotLeaders(e,t){const r=[e,t],n=await this._rpcRequest("getSlotLeaders",r),i=(0,_.Ue)(n,wn((0,_.IX)(hn)));if("error"in i)throw new an(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);Rr(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=await this._rpcRequest("getSignatureStatuses",r),i=(0,_.Ue)(n,pi);if("error"in i)throw new an(i.error,"failed to get signature status");return i.result}async getTransactionCount(e){const{commitment:t,config:r}=mn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getTransactionCount",n),s=(0,_.Ue)(i,wn((0,_.Rx)()));if("error"in s)throw new an(s.error,"failed to get transaction count");return s.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),n=(0,_.Ue)(r,Bn);if("error"in n)throw new an(n.error,"failed to get inflation");return n.result}async getInflationReward(e,t,r){const{commitment:n,config:i}=mn(r),s=this._buildArgs([e.map((e=>e.toBase58()))],n,void 0,{...i,epoch:null!=t?t:null===i||void 0===i?void 0:i.epoch}),o=await this._rpcRequest("getInflationReward",s),a=(0,_.Ue)(o,In);if("error"in a)throw new an(a.error,"failed to get inflation reward");return a.result}async getEpochInfo(e){const{commitment:t,config:r}=mn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getEpochInfo",n),s=(0,_.Ue)(i,Un);if("error"in s)throw new an(s.error,"failed to get epoch info");return s.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,_.Ue)(e,Nn);if("error"in t)throw new an(t.error,"failed to get epoch schedule");const r=t.result;return new nn(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,_.Ue)(e,Ln);if("error"in t)throw new an(t.error,"failed to get leader schedule");return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=(0,_.Ue)(n,fi);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),n=(0,_.Ue)(r,Ri);if("error"in n)throw new an(n.error,"failed to get recent blockhash");return n.result}async getRecentPerformanceSamples(e){const t=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),r=(0,_.Ue)(t,Bi);if("error"in r)throw new an(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=(0,_.Ue)(n,Ui);if("error"in i)throw new an(i.error,"failed to get fee calculator");const{context:s,value:o}=i.result;return{context:s,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){const r=e.serialize().toString("base64"),n=this._buildArgs([r],t),i=await this._rpcRequest("getFeeForMessage",n),s=(0,_.Ue)(i,kn((0,_.AG)((0,_.Rx)())));if("error"in s)throw new an(s.error,"failed to get slot");if(null===s.result)throw new Error("invalid blockhash");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=mn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getLatestBlockhash",n),s=(0,_.Ue)(i,Oi);if("error"in s)throw new an(s.error,"failed to get latest blockhash");return s.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,_.Ue)(e,wn(Rn));if("error"in t)throw new an(t.error,"failed to get version");return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,_.Ue)(e,wn((0,_.Z_)()));if("error"in t)throw new an(t.error,"failed to get genesis hash");return t.result}async getBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),n=await this._rpcRequest("getBlock",r),i=(0,_.Ue)(n,_i);if("error"in i)throw new an(i.error,"failed to get confirmed block");const s=i.result;return s?{...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new Pr(t.message);return{meta:r,transaction:{...t,message:n}}}))}:s}async getBlockHeight(e){const{commitment:t,config:r}=mn(e),n=this._buildArgs([],t,void 0,r),i=await this._rpcRequest("getBlockHeight",n),s=(0,_.Ue)(i,wn((0,_.Rx)()));if("error"in s)throw new an(s.error,"failed to get block height information");return s.result}async getBlockProduction(e){let t,r;if("string"===typeof e)r=e;else if(e){const{commitment:n,...i}=e;r=n,t=i}const n=this._buildArgs([],r,"base64",t),i=await this._rpcRequest("getBlockProduction",n),s=(0,_.Ue)(i,Mn);if("error"in s)throw new an(s.error,"failed to get block production information");return s.result}async getTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),n=await this._rpcRequest("getTransaction",r),i=(0,_.Ue)(n,Ti);if("error"in i)throw new an(i.error,"failed to get transaction");const s=i.result;return s?{...s,transaction:{...s.transaction,message:new Pr(s.transaction.message)}}:s}async getParsedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getTransaction",r),i=(0,_.Ue)(n,Pi);if("error"in i)throw new an(i.error,"failed to get transaction");return i.result}async getParsedTransactions(e,t){const r=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,_.Ue)(e,Pi);if("error"in t)throw new an(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const r=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t)})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,_.Ue)(e,Ti);if("error"in t)throw new an(t.error,"failed to get transactions");const r=t.result;return r?{...r,transaction:{...r.transaction,message:new Pr(r.transaction.message)}}:r}))}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,_.Ue)(n,vi);if("error"in i)throw new an(i.error,"failed to get confirmed block");const s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");const o={...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new Pr(t.message);return{meta:r,transaction:{...t,message:n}}}))};return{...o,transactions:o.transactions.map((e=>{let{transaction:t,meta:r}=e;return{meta:r,transaction:Ur.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=await this._rpcRequest("getBlocks",n),s=(0,_.Ue)(i,wn((0,_.IX)((0,_.Rx)())));if("error"in s)throw new an(s.error,"failed to get blocks");return s.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getBlock",r),i=(0,_.Ue)(n,xi);if("error"in i)throw new an(i.error,"failed to get block");const s=i.result;if(!s)throw new Error("Block "+e+" not found");return s}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,_.Ue)(n,xi);if("error"in i)throw new an(i.error,"failed to get confirmed block");const s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,_.Ue)(n,Ti);if("error"in i)throw new an(i.error,"failed to get transaction");const s=i.result;if(!s)return s;const o=new Pr(s.transaction.message),a=s.transaction.signatures;return{...s,transaction:Ur.populate(o,a)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,_.Ue)(n,Pi);if("error"in i)throw new an(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,_.Ue)(e,Pi);if("error"in t)throw new an(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}let s=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>s);)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}return(await this.getConfirmedSignaturesForAddress2(e,n)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),s=(0,_.Ue)(i,Qn);if("error"in s)throw new an(s.error,"failed to get confirmed signatures for address");return s.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",n),s=(0,_.Ue)(i,Yn);if("error"in s)throw new an(s.error,"failed to get signatures for address");return s.result}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=gr.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),n=(0,_.Ue)(r,Ni);if("error"in n)throw new an(n.error,`airdrop to ${e.toBase58()} failed`);return n.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Gr(100);const e=Date.now()-this._blockhashInfo.lastFetch>=gn;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let n=0;n<50;n++){const e=await this.getLatestBlockhash("finalized");if(r!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await Gr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async simulateTransaction(e,t,r){let n;if(e instanceof Ur){let t=e;n=new Ur,n.feePayer=t.feePayer,n.instructions=e.instructions,n.nonceInfo=t.nonceInfo,n.signatures=t.signatures}else n=Ur.populate(e),n._message=n._json=void 0;if(n.nonceInfo&&t)n.sign(...t);else{let e=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(e);if(n.lastValidBlockHeight=r.lastValidBlockHeight,n.recentBlockhash=r.blockhash,!t)break;if(n.sign(...t),!n.signature)throw new Error("!signature");const i=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(i)&&!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.simulatedSignatures.push(i);break}e=!0}}const i=n._compile(),s=i.serialize(),o=n._serialize(s).toString("base64"),a={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:i.nonProgramIds()).map((e=>e.toBase58()));a.accounts={encoding:"base64",addresses:e}}t&&(a.sigVerify=!0);const u=[o,a],c=await this._rpcRequest("simulateTransaction",u),l=(0,_.Ue)(c,On);if("error"in l){let e;if("data"in l.error&&(e=l.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(l.error.message,r)}throw new sn("failed to simulate transaction: "+l.error.message,e)}return l.result}async sendTransaction(e,t,r){if(e.nonceInfo)e.sign(...t);else{let r=this._disableBlockhashCaching;for(;;){const n=await this._blockhashWithExpiryBlockHeight(r);if(e.lastValidBlockHeight=n.lastValidBlockHeight,e.recentBlockhash=n.blockhash,e.sign(...t),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}r=!0}}const n=e.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(e,t){const r=B(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(r.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(r.minContextSlot=t.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const s=[e,r],o=await this._rpcRequest("sendTransaction",s),a=(0,_.Ue)(o,Li);if("error"in a){let e;throw"data"in a.error&&(e=a.error.data.logs),new sn("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration++,this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((e=>{let[t,r]=e;this._subscriptionsByHash[t]={...r,state:"pending"}}))):this._updateSubscriptions()}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void await this._updateSubscriptions();await(async()=>{const{args:n,method:i}=r;try{this._subscriptionsByHash[e]={...r,state:"subscribing"};const t=await this._rpcWebSocket.call(i,n);this._subscriptionsByHash[e]={...r,serverSubscriptionId:t,state:"subscribed"},this._subscriptionCallbacksByServerSubscriptionId[t]=r.callbacks,await this._updateSubscriptions()}catch(s){if(s instanceof Error&&console.error(`${i} error for argument`,n,s.message),!t())return;this._subscriptionsByHash[e]={...r,state:"pending"},await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._subscriptionsByHash[e]={...r,state:"unsubscribing"};try{await this._rpcWebSocket.call(i,[n])}catch(s){if(s instanceof Error&&console.error(`${i} error:`,s.message),!t())return;return this._subscriptionsByHash[e]={...r,state:"subscribed"},void await this._updateSubscriptions()}}this._subscriptionsByHash[e]={...r,state:"unsubscribed"},await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach((e=>{try{e(...t)}catch(r){console.error(r)}}))}_wsOnAccountNotification(e){const{result:t,subscription:r}=(0,_.Ue)(e,$n);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,n=en([e.method,t],!0),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r];const t=this._subscriptionsByHash[n];Rr(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const n=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64");return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},n)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=(0,_.Ue)(e,ti);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,n){const i=this._buildArgs([e.toBase58()],r||this._commitment||"finalized","base64",n?{filters:n}:void 0);return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const n=this._buildArgs(["object"===typeof e?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=(0,_.Ue)(e,Ci);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=(0,_.Ue)(e,ni);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=(0,_.Ue)(e,si);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,n){const i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=(0,_.Ue)(e,oi);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const n=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,r)=>{if("status"===e.type){t(e.result,r);try{this.removeSignatureListener(i)}catch(n){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(e,t,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},s=this._buildArgs([e],n,void 0,i),o=this._makeSubscription({callback:(e,r)=>{t(e,r);try{this.removeSignatureListener(o)}catch(n){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return o}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=(0,_.Ue)(e,ai);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Ki{constructor(e){this._keypair=void 0,this._keypair=e||b().sign.keyPair()}static generate(){return new Ki(b().sign.keyPair())}static fromSecretKey(e,t){const r=b().sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("@solana/web3.js-validation-v1"),t=b().sign.detached(e,r.secretKey);if(!b().sign.detached.verify(e,t,r.publicKey))throw new Error("provided secretKey is invalid")}return new Ki(r)}static fromSeed(e){return new Ki(b().sign.keyPair.fromSeed(e))}get publicKey(){return new $t(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const Fi=E.n_([E.u8("numSignatures"),E.u8("padding"),E.KB("signatureOffset"),E.KB("signatureInstructionIndex"),E.KB("publicKeyOffset"),E.KB("publicKeyInstructionIndex"),E.KB("messageDataOffset"),E.KB("messageDataSize"),E.KB("messageInstructionIndex")]);class Gi{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;Rr(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),Rr(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const s=Fi.span,o=s+t.length,a=o+n.length,u=w.Buffer.alloc(a+r.length),c=null==i?65535:i;return Fi.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:c,publicKeyOffset:s,publicKeyInstructionIndex:c,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:c},u),u.fill(t,s),u.fill(n,o),u.fill(r,a),new Br({keys:[],programId:Gi.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;Rr(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=Ki.fromSecretKey(t),i=e.publicKey.toBytes(),s=b().sign.detached(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}Gi.programId=new $t("Ed25519SigVerify111111111111111111111111111");const Vi=new $t("StakeConfig11111111111111111111111111111111");class ji{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class qi{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}qi.default=new qi(0,0,$t.default);class Zi{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=E.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Hi))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=dr(Hi.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new ji(new $t(t.staker),new $t(t.withdrawer)),lockup:new qi(r.unixTimestamp,r.epoch,new $t(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),dr(Hi.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=dr(Hi.Authorize,e.data),n={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new $t(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(n.custodianPubkey=e.keys[3].pubkey),n}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=dr(Hi.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:n,authorityOwner:new $t(i),newAuthorizedPubkey:new $t(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=dr(Hi.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),dr(Hi.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=dr(Hi.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),dr(Hi.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Ji.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Hi=Object.freeze({Initialize:{index:0,layout:E.n_([E.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return E.n_([or("staker"),or("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return E.n_([E.gM("unixTimestamp"),E.gM("epoch"),or("custodian")],e)}()])},Authorize:{index:1,layout:E.n_([E.Jq("instruction"),or("newAuthorized"),E.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:E.n_([E.Jq("instruction")])},Split:{index:3,layout:E.n_([E.Jq("instruction"),E.gM("lamports")])},Withdraw:{index:4,layout:E.n_([E.Jq("instruction"),E.gM("lamports")])},Deactivate:{index:5,layout:E.n_([E.Jq("instruction")])},Merge:{index:7,layout:E.n_([E.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:E.n_([E.Jq("instruction"),or("newAuthorized"),E.Jq("stakeAuthorizationType"),ar("authoritySeed"),or("authorityOwner")])}}),Xi=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Ji{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||qi.default,s=lr(Hi.Initialize,{authorized:{staker:B(r.staker.toBuffer()),withdrawer:B(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:B(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:kr,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new Br(o)}static createAccountWithSeed(e){const t=new Ur;t.add(zr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new Ur;t.add(zr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=lr(Hi.Delegate);return(new Ur).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:Er,isSigner:!1,isWritable:!1},{pubkey:Vi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,o=lr(Hi.Authorize,{newAuthorized:B(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:mr,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new Ur).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,u=lr(Hi.AuthorizeWithSeed,{newAuthorized:B(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:B(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:mr,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!1,isWritable:!1}),(new Ur).add({keys:c,programId:this.programId,data:u})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=lr(Hi.Split,{lamports:i});return new Br({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e){const t=new Ur;return t.add(zr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,basePubkey:i,seed:s,lamports:o}=e,a=new Ur;return a.add(zr.allocate({accountPubkey:n,basePubkey:i,seed:s,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:o}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=lr(Hi.Merge);return(new Ur).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:Er,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,o=lr(Hi.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:Er,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new Ur).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=lr(Hi.Deactivate);return(new Ur).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}Ji.programId=new $t("Stake11111111111111111111111111111111111111"),Ji.space=200;const{publicKeyCreate:Qi,ecdsaSign:Yi}=R(),$i=E.n_([E.u8("numSignatures"),E.KB("signatureOffset"),E.u8("signatureInstructionIndex"),E.KB("ethAddressOffset"),E.u8("ethAddressInstructionIndex"),E.KB("messageDataOffset"),E.KB("messageDataSize"),E.u8("messageInstructionIndex"),E.Ik(20,"ethAddress"),E.Ik(64,"signature"),E.u8("recoveryId")]);class es{constructor(){}static publicKeyToEthAddress(e){Rr(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return w.Buffer.from(M().keccak_256.update(B(e)).digest()).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return es.createInstructionWithEthAddress({ethAddress:es.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:s=0}=e;let o;o="string"===typeof t?t.startsWith("0x")?w.Buffer.from(t.substr(2),"hex"):w.Buffer.from(t,"hex"):t,Rr(20===o.length,`Address must be 20 bytes but received ${o.length} bytes`);const a=12+o.length,u=a+n.length+1,c=w.Buffer.alloc($i.span+r.length);return $i.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:s,signature:B(n),ethAddress:B(o),recoveryId:i},c),c.fill(B(r),$i.span),new Br({keys:[],programId:es.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;Rr(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=B(t),i=Qi(e,!1).slice(1),s=w.Buffer.from(M().keccak_256.update(B(r)).digest()),{signature:o,recid:a}=Yi(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,recoveryId:a,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}es.programId=new $t("KeccakSecp256k11111111111111111111111111111");const ts=new $t("Va1idator1nfo111111111111111111111111111111"),rs=(0,_.dt)({name:(0,_.Z_)(),website:(0,_.jt)((0,_.Z_)()),details:(0,_.jt)((0,_.Z_)()),keybaseUsername:(0,_.jt)((0,_.Z_)())});class ns{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==xr(t))return null;const r=[];for(let n=0;n<2;n++){const e=new $t(t.slice(0,32));t=t.slice(32);const n=1===t.slice(0,1)[0];t=t.slice(1),r.push({publicKey:e,isSigner:n})}if(r[0].publicKey.equals(ts)&&r[1].isSigner){const e=ar().decode(w.Buffer.from(t)),n=JSON.parse(e);return(0,_.hu)(n,rs),new ns(r[1].publicKey,n)}return null}}const is=new $t("Vote111111111111111111111111111111111111111"),ss=E.n_([or("nodePubkey"),or("authorizedWithdrawer"),E.u8("commission"),E._O(),E.A9(E.n_([E._O("slot"),E.Jq("confirmationCount")]),E.cv(E.Jq(),-8),"votes"),E.u8("rootSlotValid"),E._O("rootSlot"),E._O(),E.A9(E.n_([E._O("epoch"),or("authorizedVoter")]),E.cv(E.Jq(),-8),"authorizedVoters"),E.n_([E.A9(E.n_([or("authorizedPubkey"),E._O("epochOfLastAuthorizedSwitch"),E._O("targetEpoch")]),32,"buf"),E._O("idx"),E.u8("isEmpty")],"priorVoters"),E._O(),E.A9(E.n_([E._O("epoch"),E._O("credits"),E._O("prevCredits")]),E.cv(E.Jq(),-8),"epochCredits"),E.n_([E._O("slot"),E._O("timestamp")],"lastTimestamp")]);class os{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const t=ss.decode(B(e),4);let r=t.rootSlot;return t.rootSlotValid||(r=null),new os({nodePubkey:new $t(t.nodePubkey),authorizedWithdrawer:new $t(t.authorizedWithdrawer),commission:t.commission,votes:t.votes,rootSlot:r,authorizedVoters:t.authorizedVoters.map(as),priorVoters:cs(t.priorVoters),epochCredits:t.epochCredits,lastTimestamp:t.lastTimestamp})}}function as(e){let{authorizedVoter:t,epoch:r}=e;return{epoch:r,authorizedVoter:new $t(t)}}function us(e){let{authorizedPubkey:t,epochOfLastAuthorizedSwitch:r,targetEpoch:n}=e;return{authorizedPubkey:new $t(t),epochOfLastAuthorizedSwitch:r,targetEpoch:n}}function cs(e){let{buf:t,idx:r,isEmpty:n}=e;return n?[]:[...t.slice(r+1).map(us),...t.slice(0,r).map(us)]}class ls{constructor(e,t,r,n){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=t,this.authorizedWithdrawer=r,this.commission=n}}class ds{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=E.Jq("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(hs))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a VoteInstruction");return r}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:t}=dr(hs.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new ls(new $t(t.nodePubkey),new $t(t.authorizedVoter),new $t(t.authorizedWithdrawer),t.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,voteAuthorizationType:r}=dr(hs.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new $t(t),voteAuthorizationType:{index:r}}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=dr(hs.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:t,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(fs.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const hs=Object.freeze({InitializeAccount:{index:0,layout:E.n_([E.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return E.n_([or("nodePubkey"),or("authorizedVoter"),or("authorizedWithdrawer"),E.u8("commission")],e)}()])},Authorize:{index:1,layout:E.n_([E.Jq("instruction"),or("newAuthorized"),E.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:E.n_([E.Jq("instruction"),E.gM("lamports")])}}),ps=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class fs{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=lr(hs.InitializeAccount,{voteInit:{nodePubkey:B(n.nodePubkey.toBuffer()),authorizedVoter:B(n.authorizedVoter.toBuffer()),authorizedWithdrawer:B(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:kr,isSigner:!1,isWritable:!1},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new Br(s)}static createAccount(e){const t=new Ur;return t.add(zr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,s=lr(hs.Authorize,{newAuthorized:B(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:mr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Ur).add({keys:o,programId:this.programId,data:s})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,s=lr(hs.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new Ur).add({keys:o,programId:this.programId,data:s})}}async function gs(e,t,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await e.sendRawTransaction(t,o),u=s&&s.commitment,c=i?e.confirmTransaction(i,u):e.confirmTransaction(a,u),l=(await c).value;if(l.err)throw new Error(`Raw transaction ${a} failed (${JSON.stringify(l)})`);return a}fs.programId=new $t("Vote111111111111111111111111111111111111111"),fs.space=3731;const ms={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function ys(e,t){const r=!1===t?"http":"https";if(!e)return ms[r].devnet;const n=ms[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}const bs=1e9;var ws;const ks="undefined"!==typeof window&&!(null===(ws=window.process)||void 0===ws?void 0:ws.hasOwnProperty("type"));var Ss=r(36897).Buffer;class As{constructor(e,t,r){this.connection=e,this.wallet=t,this.opts=r}static defaultOptions(){return{preflightCommitment:"recent",commitment:"recent"}}static local(e,t){t=null!==t&&void 0!==t?t:As.defaultOptions();const r=new Di(null!==e&&void 0!==e?e:"http://localhost:8899",t.preflightCommitment),n=Is.local();return new As(r,n,t)}static env(){if(ks)return;const e=r(26477).env.ANCHOR_PROVIDER_URL;if(void 0===e)throw new Error("ANCHOR_PROVIDER_URL is not defined");const t=As.defaultOptions(),n=new Di(e,t.commitment),i=Is.local();return new As(n,i,t)}async send(e,t,r){void 0===t&&(t=[]),void 0===r&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(r.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)}));const n=e.serialize();return await gs(this.connection,n,r)}async sendAll(e,t){void 0===t&&(t=this.opts);const r=await this.connection.getRecentBlockhash(t.preflightCommitment);let n=e.map((e=>{let t=e.tx,n=e.signers;return void 0===n&&(n=[]),t.feePayer=this.wallet.publicKey,t.recentBlockhash=r.blockhash,n.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)})),t}));const i=await this.wallet.signAllTransactions(n),s=[];for(let o=0;o<n.length;o+=1){const e=i[o].serialize();s.push(await gs(this.connection,e,t))}return s}async simulate(e,t,r){var n,i;return void 0===t&&(t=[]),void 0===r&&(r=this.opts),e.feePayer=this.wallet.publicKey,e.recentBlockhash=(await this.connection.getRecentBlockhash(null!==(n=r.preflightCommitment)&&void 0!==n?n:this.opts.preflightCommitment)).blockhash,await this.wallet.signTransaction(e),t.filter((e=>void 0!==e)).forEach((t=>{e.partialSign(t)})),await async function(e,t,r){t.recentBlockhash=await e._recentBlockhash(e._disableBlockhashCaching);const n=t.serializeMessage(),i=t._serialize(n).toString("base64"),s=[i,{encoding:"base64",commitment:r}],o=await e._rpcRequest("simulateTransaction",s);if(o.error)throw new Error("failed to simulate transaction: "+o.error.message);return o.result}(this.connection,e,null!==(i=r.commitment)&&void 0!==i?i:this.opts.commitment)}}class Is{constructor(e){this.payer=e}static local(){const e=Ki.fromSecretKey(Ss.from(JSON.parse(r(55555).readFileSync(r(84466).homedir()+"/.config/solana/id.json",{encoding:"utf-8"}))));return new Is(e)}async signTransaction(e){return e.partialSign(this.payer),e}async signAllTransactions(e){return e.map((e=>(e.partialSign(this.payer),e)))}get publicKey(){return this.payer.publicKey}}function Es(e){vs=e}function _s(){return null===vs?As.local():vs}let vs=null;var xs=r(84760),Ts=r.n(xs),Ps=r(26434);class Rs extends Error{}class Os extends Error{constructor(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];super(...n),this.code=e,this.msg=t}static parse(e,t){let r,n=e.toString().split("custom program error: ");if(2!==n.length)return null;try{r=parseInt(n[1])}catch(s){return null}let i=t.get(r);return void 0!==i?new Os(r,i):(i=Ms.get(r),void 0!==i?new Os(r,i):null)}toString(){return this.msg}}const Ms=new Map([[100,"8 byte instruction identifier not provided"],[101,"Fallback functions are not supported"],[102,"The program could not deserialize the given instruction"],[103,"The program could not serialize the given instruction"],[120,"The program was compiled without idl instructions"],[121,"The transaction was given an invalid program for the IDL instruction"],[140,"A mut constraint was violated"],[141,"A has_one constraint was violated"],[142,"A signer constraint was violated"],[143,"A raw constraint as violated"],[144,"An owner constraint was violated"],[145,"A rent exempt constraint was violated"],[146,"A seeds constraint was violated"],[147,"An executable constraint was violated"],[148,"A state constraint was violated"],[149,"An associated constraint was violated"],[150,"An associated init constraint was violated"],[151,"A close constraint was violated"],[152,"An address constraint was violated"],[160,"The account discriminator was already set on this account"],[161,"No 8 byte discriminator was found on the account"],[162,"8 byte discriminator did not match what was expected"],[163,"Failed to deserialize the account"],[164,"Failed to serialize the account"],[165,"Not enough account keys given to the instruction"],[166,"The given account is not mutable"],[167,"The given account is not owned by the executing program"],[180,"The given state account does not have the correct address"],[299,"The API being used is deprecated and should no longer be used"]]);class Bs{static fieldLayout(e,t){const r=void 0!==e.name?Ts()(e.name):void 0;switch(e.type){case"bool":return Ps.bool(r);case"u8":return Ps.u8(r);case"i8":return Ps.i8(r);case"u16":return Ps.u16(r);case"i16":return Ps.i16(r);case"u32":return Ps.u32(r);case"i32":return Ps.i32(r);case"u64":return Ps.u64(r);case"i64":return Ps.i64(r);case"u128":return Ps.u128(r);case"i128":return Ps.i128(r);case"bytes":return Ps.vecU8(r);case"string":return Ps.str(r);case"publicKey":return Ps.publicKey(r);default:if(e.type.vec)return Ps.vec(Bs.fieldLayout({name:void 0,type:e.type.vec},t),r);if(e.type.option)return Ps.option(Bs.fieldLayout({name:void 0,type:e.type.option},t),r);if(e.type.defined){if(void 0===t)throw new Rs("User defined types not provided");const n=t.filter((t=>t.name===e.type.defined));if(1!==n.length)throw new Rs(`Type not found: ${JSON.stringify(e)}`);return Bs.typeDefLayout(n[0],t,r)}if(e.type.array){let n=e.type.array[0],i=e.type.array[1],s=Bs.fieldLayout({name:void 0,type:n},t);return Ps.array(s,i,r)}throw new Error(`Not yet implemented: ${e}`)}}static typeDefLayout(e,t,r){if("struct"===e.type.kind){const n=e.type.fields.map((e=>Bs.fieldLayout(e,t)));return Ps.struct(n,r)}if("enum"===e.type.kind){let n=e.type.variants.map((e=>{const r=Ts()(e.name);if(void 0===e.fields)return Ps.struct([],r);const n=e.fields.map((e=>{if(void 0===e.name)throw new Error("Tuple enum variants not yet implemented.");return Bs.fieldLayout(e,t)}));return Ps.struct(n,r)}));return void 0!==r?Ps.rustEnum(n).replicate(r):Ps.rustEnum(n,r)}throw new Error(`Unknown type kint: ${e}`)}}var Us=r(2670),Ns=r(10119),Ls=r(36897).Buffer;function zs(e,t){if("enum"===t.type.kind){let r=t.type.variants.map((t=>void 0===t.fields?0:t.fields.map((t=>{if(void 0===t.name)throw new Error("Tuple enum variants not yet implemented.");return Cs(e,t.type)})).reduce(((e,t)=>e+t))));return Math.max(...r)+1}return void 0===t.type.fields?0:t.type.fields.map((t=>Cs(e,t.type))).reduce(((e,t)=>e+t))}function Cs(e,t){switch(t){case"bool":case"u8":case"i8":case"bytes":case"string":return 1;case"i16":case"u16":return 2;case"u32":case"i32":return 4;case"u64":case"i64":return 8;case"u128":case"i128":return 16;case"publicKey":return 32;default:if(void 0!==t.vec)return 1;if(void 0!==t.option)return 1+Cs(e,t.option);if(void 0!==t.defined){const r=e.types.filter((e=>e.name===t.defined));if(1!==r.length)throw new Rs(`Type not found: ${JSON.stringify(t)}`);return zs(e,r[0])}if(void 0!==t.array){let r=t.array[0],n=t.array[1];return Cs(e,r)*n}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}function Ws(e,t){let r=`${e}:${(0,Us.snakeCase)(t)}`;return Ls.from(Ns.sha256.digest(r)).slice(0,8)}var Ds=r(36897).Buffer;const Ks="state",Fs="global";class Gs{constructor(e){this.idl=e,this.ixLayout=Gs.parseIxLayout(e);const t=new Map;e.instructions.forEach((e=>{const r=Ws(Fs,e.name);t.set(k.encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),e.state&&e.state.methods.map((e=>{const r=Ws(Ks,e.name);t.set(k.encode(r),{layout:this.ixLayout.get(e.name),name:e.name})})),this.sighashLayouts=t}encode(e,t){return this._encode(Fs,e,t)}encodeState(e,t){return this._encode(Ks,e,t)}_encode(e,t,r){const n=Ds.alloc(1e3),i=Ts()(t),s=this.ixLayout.get(i).encode(r,n),o=n.slice(0,s);return Ds.concat([Ws(e,t),o])}static parseIxLayout(e){const t=(e.state?e.state.methods:[]).map((t=>{let r=t.args.map((t=>Bs.fieldLayout(t,e.types)));const n=Ts()(t.name);return[n,Ps.struct(r,n)]})).concat(e.instructions.map((t=>{let r=t.args.map((t=>Bs.fieldLayout(t,e.types)));const n=Ts()(t.name);return[n,Ps.struct(r,n)]})));return new Map(t)}decode(e){"string"===typeof e&&(e=k.decode(e));let t=k.encode(e.slice(0,8)),r=e.slice(8);const n=this.sighashLayouts.get(t);return n?{data:n.layout.decode(r),name:n.name}:null}format(e,t){return Vs.format(e,t,this.idl)}}class Vs{static format(e,t,r){const n=r.instructions.filter((t=>e.name===t.name))[0];if(void 0===n)return console.error("Invalid instruction given"),null;const i=n.args.map((t=>({name:t.name,type:Vs.formatIdlType(t.type),data:Vs.formatIdlData(t,e.data[t.name],r.types)}))),s=Vs.flattenIdlAccounts(n.accounts);return{args:i,accounts:t.map(((e,t)=>t<s.length?{name:s[t].name,...e}:{name:void 0,...e}))}}static formatIdlType(e){return"string"===typeof e?e:e.vec?`Vec<${this.formatIdlType(e.vec)}>`:e.option?`Option<${this.formatIdlType(e.option)}>`:e.defined?e.defined:void 0}static formatIdlData(e,t,r){if("string"===typeof e.type)return t.toString();if(e.type.vec)return"["+t.map((t=>this.formatIdlData({name:"",type:e.type.vec},t))).join(", ")+"]";if(e.type.option)return null===t?"null":this.formatIdlData({name:"",type:e.type.option},t);if(e.type.defined){if(void 0===r)throw new Error("User defined types not provided");const n=r.filter((t=>t.name===e.type.defined));if(1!==n.length)throw new Error(`Type not found: ${e.type.defined}`);return Vs.formatIdlDataDefined(n[0],t,r)}return"unknown"}static formatIdlDataDefined(e,t,r){if("struct"===e.type.kind){const n=Object.keys(t).map((n=>{const i=e.type.fields.filter((e=>e.name===n))[0];if(void 0===i)throw new Error("Unable to find type");return n+": "+Vs.formatIdlData(i,t[n],r)})).join(", ");return"{ "+n+" }"}if(0===e.type.variants.length)return"{}";if(e.type.variants[0].name){const n=Object.keys(t)[0],i=t[n],s=Object.keys(i).map((t=>{var s;const o=i[t],a=null===(s=e.type.variants[n])||void 0===s?void 0:s.filter((e=>e.name===t))[0];if(void 0===a)throw new Error("Unable to find variant");return t+": "+Vs.formatIdlData(a,o,r)})).join(", "),o=Ts()(n,{pascalCase:!0});return 0===s.length?o:`${o} { ${s} }`}return"Tuple formatting not yet implemented"}static flattenIdlAccounts(e,t){return e.map((e=>{const r=function(e){const t=e.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}(e.name);if(e.accounts){const n=t?`${t} > ${r}`:r;return Vs.flattenIdlAccounts(e.accounts,n)}return{...e,name:t?`${t} > ${r}`:r}})).flat()}}var js=r(36897).Buffer;class qs{constructor(e){if(void 0===e.accounts)return void(this.accountLayouts=new Map);const t=e.accounts.map((t=>[t.name,Bs.typeDefLayout(t,e.types)]));this.accountLayouts=new Map(t)}async encode(e,t){const r=js.alloc(1e3),n=this.accountLayouts.get(e).encode(t,r);let i=r.slice(0,n),s=await Zs(e);return js.concat([s,i])}decode(e,t){const r=t.slice(8);return this.accountLayouts.get(e).decode(r)}}async function Zs(e){return js.from(Ns.sha256.digest(`account:${e}`)).slice(0,8)}var Hs=r(36897).Buffer;class Xs{constructor(e){if(void 0===e.types)return void(this.layouts=new Map);const t=e.types.map((t=>[t.name,Bs.typeDefLayout(t,e.types)]));this.layouts=new Map(t)}encode(e,t){const r=Hs.alloc(1e3),n=this.layouts.get(e).encode(t,r);return r.slice(0,n)}decode(e,t){return this.layouts.get(e).decode(t)}}var Js=r(12009),Qs=r(36897).Buffer;class Ys{constructor(e){if(void 0===e.events)return void(this.layouts=new Map);const t=e.events.map((t=>{let r={name:t.name,type:{kind:"struct",fields:t.fields.map((e=>({name:e.name,type:e.type})))}};return[t.name,Bs.typeDefLayout(r,e.types)]}));this.layouts=new Map(t),this.discriminators=new Map(void 0===e.events?[]:e.events.map((e=>{return[Js.fromByteArray((t=e.name,Qs.from(Ns.sha256.digest(`event:${t}`)).slice(0,8))),e.name];var t})))}decode(e){let t;try{t=Qs.from(Js.toByteArray(e))}catch(i){return null}const r=Js.fromByteArray(t.slice(0,8)),n=this.discriminators.get(r);if(void 0===n)return null;return{data:this.layouts.get(n).decode(t.slice(8)),name:n}}}const $s=new Set(["anchor-deprecated-state"]),eo=new Map;function to(e){if(!$s.has(e))throw new Error("Invalid feature");eo.set(e,!0)}function ro(e){return void 0!==eo.get(e)}var no=r(36897).Buffer;class io{constructor(e){if(void 0===e.state)throw new Error("Idl state not defined.");this.layout=Bs.typeDefLayout(e.state.struct,e.types)}async encode(e,t){const r=no.alloc(1e3),n=this.layout.encode(t,r),i=await so(e),s=r.slice(0,n);return no.concat([i,s])}decode(e){const t=e.slice(8);return this.layout.decode(t)}}async function so(e){let t=ro("anchor-deprecated-state")?"account":"state";return no.from(Ns.sha256.digest(`${t}:${e}`)).slice(0,8)}class oo{constructor(e){this.instruction=new Gs(e),this.accounts=new qs(e),this.types=new Xs(e),this.events=new Ys(e),e.state&&(this.state=new io(e))}sighash(e,t){return Ws(e,t)}}var ao=r(60266),uo=r(81070);r(36897).Buffer;const co=Ps.struct([Ps.publicKey("authority"),Ps.vecU8("data")]);var lo=r(48449),ho=r.n(lo);function po(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var r;let n=null!==(r=e.msg)&&void 0!==r?r:e.name;t.set(e.code,n)})),t}function fo(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(e.args.length!=r.length)throw new Error("Invalid argument length");const i={};let s=0;return e.args.forEach((e=>{i[e.name]=r[s],s+=1})),i}function go(e,t){e.forEach((e=>{if(void 0!==e.accounts)go(e.accounts,t[e.name]);else if(void 0===t[e.name])throw new Error(`Invalid arguments: ${e.name} not provided.`)}))}function mo(e){if("string"===typeof e){return new $t(e)}return e}var yo=r(36897).Buffer;function bo(e,t,r){const n=yo.concat([e.toBuffer(),yo.from(t),r.toBuffer()]),i=Ns.sha256.digest(n);return new $t(yo.from(i))}function wo(e,t){let r=yo.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=yo.concat([r,So(e)])})),r=yo.concat([r,t.toBuffer(),yo.from("ProgramDerivedAddress")]);let n=(0,Ns.sha256)(new Uint8Array(r)),i=new(m())(n,16).toArray(void 0,32);if($t.isOnCurve(new Uint8Array(i)))throw new Error("Invalid seeds, address must fall off the curve");return new $t(i)}function ko(e,t){let r,n=255;for(;0!=n;){try{r=wo(e.concat(yo.from([n])),t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}const So=e=>e instanceof yo?e:e instanceof Uint8Array?yo.from(e.buffer,e.byteOffset,e.byteLength):yo.from(e);async function Ao(e){let t=[yo.from([97,110,99,104,111,114])];for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];n.forEach((e=>{t.push(void 0!==e.buffer?e:mo(e).toBuffer())}));const[s]=await $t.findProgramAddress(t,mo(e));return s}function Io(e,t){let r={};const n=e.args?e.args.length:0;if(t.length>n){if(t.length!==n+1)throw new Error("provided too many arguments ${args}");r=t.pop()}return[t,r]}class Eo{static build(e,t,r){if("_inner"===e.name)throw new Rs("the _inner name is reserved");const n=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];const[a,u]=Io(e,[...s]);go(e.accounts,u.accounts);const c=n.accounts(u.accounts);return void 0!==u.remainingAccounts&&c.push(...u.remainingAccounts),u.__private&&u.__private.logAccounts&&console.log("Outgoing account metas:",c),new Br({keys:c,programId:r,data:t(e.name,fo(e,...a))})};return n.accounts=t=>Eo.accountsArray(t,e.accounts),n}static accountsArray(e,t){return t.map((t=>{const r=t.accounts;if(void 0!==r){const n=e[t.name];return Eo.accountsArray(n,r).flat()}{const r=t;return{pubkey:mo(e[t.name]),isWritable:r.isMut,isSigner:r.isSigner}}})).flat()}}class _o{static build(e,t,r,n){return async function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];const a=t(...s),[,u]=Io(e,[...s]);try{return await n.send(a,u.signers,u.options)}catch(c){console.log("Translating error",c);let e=Os.parse(c,r);if(null===e)throw c;throw e}}}}class vo{static build(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];const[,s]=Io(e,[...n]),o=new Ur;return void 0!==s.instructions&&o.add(...s.instructions),o.add(t(...n)),o}}}class xo{constructor(e,t,r,n){this._idl=e,this._programId=t,this._address=To(t),this._provider=null!==r&&void 0!==r?r:_s(),this._coder=null!==n&&void 0!==n?n:new oo(e),this._sub=null;const[i,s,o]=(()=>{let i={},s={},o={};return e.state.methods.forEach((a=>{const u=Eo.build(a,((e,t)=>n.instruction.encodeState(e,t)),t);u.accounts=e=>{const n=function(e,t,r,n){if("new"===r.name){const[r]=ko([],e);return[{pubkey:t.wallet.publicKey,isWritable:!1,isSigner:!0},{pubkey:To(e),isWritable:!0,isSigner:!1},{pubkey:r,isWritable:!1,isSigner:!1},{pubkey:zr.programId,isWritable:!1,isSigner:!1},{pubkey:e,isWritable:!1,isSigner:!1},{pubkey:kr,isWritable:!1,isSigner:!1}]}return go(r.accounts,n),[{pubkey:To(e),isWritable:!0,isSigner:!1}]}(t,r,a,e);return n.concat(Eo.accountsArray(e,a.accounts))};const c=vo.build(a,u),l=_o.build(a,c,po(e),r),d=Ts()(a.name);i[d]=u,s[d]=c,o[d]=l})),[i,s,o]})();this.instruction=i,this.transaction=s,this.rpc=o}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(){const e=this.address(),t=await this.provider.connection.getAccountInfo(e);if(null===t)throw new Error(`Account does not exist ${e.toString()}`);if((await so(this._idl.state.struct.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this.coder.state.decode(t.data)}address(){return this._address}subscribe(e){if(null!==this._sub)return this._sub.ee;const t=new(ho()),r=this.provider.connection.onAccountChange(this.address(),(e=>{const r=this.coder.state.decode(e.data);t.emit("change",r)}),e);return this._sub={ee:t,listener:r},t}unsubscribe(){null!==this._sub&&this.provider.connection.removeAccountChangeListener(this._sub.listener).then((async()=>{this._sub=null})).catch(console.error)}}function To(e){let[t]=ko([],e);return bo(t,"unversioned",e)}var Po=r(36897).Buffer;class Ro{constructor(e,t,r,n,i){this._idlAccount=t,this._programId=r,this._provider=null!==n&&void 0!==n?n:_s(),this._coder=null!==i&&void 0!==i?i:new oo(e),this._size=8+zs(e,t)}get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}async fetch(e){const t=await this._provider.connection.getAccountInfo(mo(e));if(null===t)throw new Error(`Account does not exist ${e.toString()}`);if((await Zs(this._idlAccount.name)).compare(t.data.slice(0,8)))throw new Error("Invalid account discriminator");return this._coder.accounts.decode(this._idlAccount.name,t.data)}async all(e){let t=await Zs(this._idlAccount.name);return void 0!==e&&(t=Po.concat([t,e])),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[{memcmp:{offset:0,bytes:k.encode(t)}}]})).map((e=>{let{pubkey:t,account:r}=e;return{publicKey:t,account:this._coder.accounts.decode(this._idlAccount.name,r.data)}}))}subscribe(e,t){if(Oo.get(e.toString()))return Oo.get(e.toString()).ee;const r=new(ho());e=mo(e);const n=this._provider.connection.onAccountChange(e,(e=>{const t=this._coder.accounts.decode(this._idlAccount.name,e.data);r.emit("change",t)}),t);return Oo.set(e.toString(),{ee:r,listener:n}),r}unsubscribe(e){let t=Oo.get(e.toString());t?Oo&&this._provider.connection.removeAccountChangeListener(t.listener).then((()=>{Oo.delete(e.toString())})).catch(console.error):console.warn("Address is not subscribed")}async createInstruction(e,t){const r=this.size;return zr.createAccount({fromPubkey:this._provider.wallet.publicKey,newAccountPubkey:e.publicKey,space:null!==t&&void 0!==t?t:r,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(null!==t&&void 0!==t?t:r),programId:this._programId})}async associated(){const e=await this.associatedAddress(...arguments);return await this.fetch(e)}async associatedAddress(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return await Ao(this._programId,...t)}}const Oo=new Map;var Mo=r(21380),Bo=r.n(Mo);const Uo="Program log: ".length;class No{constructor(e,t){this.coder=e,this.programId=t}parseLogs(e,t){const r=new zo(e),n=new Lo(r.next());let i=r.next();for(;null!==i;){let[e,s,o]=this.handleLog(n,i);e&&t(e),s&&n.push(s),o&&n.pop(),i=r.next()}}handleLog(e,t){return e.program()===this.programId.toString()?this.handleProgramLog(t):[null,...this.handleSystemLog(t)]}handleProgramLog(e){if(e.startsWith("Program log:")){const t=e.slice(Uo);return[this.coder.events.decode(t),null,!1]}return[null,...this.handleSystemLog(e)]}handleSystemLog(e){const t=e.split(":")[0];return null!==t.match(/^Program (.*) success/g)?[null,!0]:t.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:t.includes("invoke")?["cpi",!1]:[null,!1]}}class Lo{constructor(e){const t=/^Program (.*) invoke.*$/g.exec(e)[1];this.stack=[t]}program(){return Mo.ok(this.stack.length>0),this.stack[this.stack.length-1]}push(e){this.stack.push(e)}pop(){Mo.ok(this.stack.length>0),this.stack.pop()}}class zo{constructor(e){this.logs=e}next(){if(0===this.logs.length)return null;let e=this.logs[0];return this.logs=this.logs.slice(1),e}}var Co=r(36897).Buffer;function Wo(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"0x")}function Do(e){0===e.indexOf("0x")&&(e=e.substr(2)),e.length%2===1&&(e="0"+e);let t=e.match(/.{2}/g);return null===t?Co.from([]):Co.from(t.map((e=>parseInt(e,16))))}function Ko(e){return("undefined"===typeof TextDecoder?new(r(58404).TextDecoder)("utf-8"):new TextDecoder("utf-8")).decode(e)}function Fo(e){return("undefined"===typeof TextEncoder?new(r(58404).TextEncoder)("utf-8"):new TextEncoder).encode(e)}function Go(e){return k.encode(e)}function Vo(e){return k.decode(e)}var jo=r(36897).Buffer;function qo(e){return Js.fromByteArray(e)}function Zo(e){return jo.from(Js.toByteArray(e))}class Ho{constructor(e,t,r){t=mo(t),this._idl=e,this._programId=t,this._provider=null!==r&&void 0!==r?r:_s(),this._coder=new oo(e);const[n,i,s,o,a,u]=class{static build(e,t,r,n){const i={},s={},o={},a={},u=po(e),c=class{static build(e,t,r,n){if(void 0!==e.state)return new xo(e,r,n,t)}}.build(e,t,r,n);e.instructions.forEach((c=>{const l=Eo.build(c,((e,r)=>t.instruction.encode(e,r)),r),d=vo.build(c,l),h=_o.build(c,d,u,n),p=class{static build(e,t,r,n,i,s,o){return async function(){for(var a=arguments.length,u=new Array(a),c=0;c<a;c++)u[c]=arguments[c];const l=t(...u),[,d]=Io(e,[...u]);let h;try{h=await n.simulate(l,d.signers,d.options)}catch(g){console.log("Translating error",g);let e=Os.parse(g,r);if(null===e)throw g;throw e}if(void 0===h)throw new Error("Unable to simulate transaction");if(h.value.err)throw new Error(`Simulate error: ${h.value.err.toString()}`);const p=h.value.logs;if(!p)throw new Error("Simulated logs not found");const f=[];return o.events&&new No(i,s).parseLogs(p,(e=>{f.push(e)})),{events:f,raw:p}}}}.build(c,d,u,n,t,r,e),f=Ts()(c.name);s[f]=l,o[f]=d,i[f]=h,a[f]=p}));const l=e.accounts?class{static build(e,t,r,n){const i={};return e.accounts.forEach((s=>{const o=Ts()(s.name);i[o]=new Ro(e,s,r,n,t)})),i}}.build(e,t,r,n):{};return[i,s,o,l,a,c]}}.build(e,this._coder,t,this._provider);this.rpc=n,this.instruction=i,this.transaction=s,this.account=o,this.simulate=a,this.state=u}get programId(){return this._programId}get idl(){return this._idl}get coder(){return this._coder}get provider(){return this._provider}static async at(e,t){const r=mo(e),n=await Ho.fetchIdl(r,t);return new Ho(n,r,t)}static async fetchIdl(e,t){t=null!==t&&void 0!==t?t:_s();const r=mo(e),n=await async function(e){const t=(await $t.findProgramAddress([],e))[0];return await $t.createWithSeed(t,"anchor:idl",e)}(r),i=await t.connection.getAccountInfo(n);let s=(o=i.data.slice(8),co.decode(o));var o;const a=(0,uo.rr)(s.data);return JSON.parse(Ko(a))}addEventListener(e,t){const r=new No(this._coder,this._programId);return this._provider.connection.onLogs(this._programId,((n,i)=>{n.err?console.error(n):r.parseLogs(n.logs,(r=>{r.name===e&&t(r.data,i.slot)}))}))}async removeEventListener(e){return this._provider.connection.removeOnLogsListener(e)}}let Xo=!1;const Jo=new Proxy({},{get(e,t){if(ks)return void console.log("Workspaces aren't available in the browser");const n=r(55555),i=r(26477);if(!Xo){const t=r(71633);let s=i.cwd();for(;!n.existsSync(t.join(s,"Anchor.toml"));){const e=t.dirname(s);e===s&&(s=void 0),s=e}if(void 0===s)throw new Error("Could not find workspace root.");const o=`${s}/target/idl`;if(!n.existsSync(o))throw new Error(`${o} doesn't exist. Did you use "anchor build"?`);const a=new Map;n.readdirSync(o).forEach((t=>{const r=`${o}/${t}`,i=n.readFileSync(r),s=JSON.parse(i);a.set(s.name,s);const u=Ts()(s.name,{pascalCase:!0});s.metadata&&s.metadata.address&&(e[u]=new Ho(s,new $t(s.metadata.address)))}));const u=ao.parse(n.readFileSync(t.join(s,"Anchor.toml"),"utf-8")),c=u.provider.cluster;u.clusters&&u.clusters[c]&&function(e,t,n){Object.keys(t).forEach((i=>{const s=Ts()(i,{pascalCase:!0}),o=t[i],a=new $t("string"===typeof o?o:o.address);let u=n.get(i);"string"!==typeof o&&o.idl&&(u=JSON.parse(r(55555).readFileSync(o.idl,"utf-8"))),e[s]=new Ho(u,a)}))}(e,u.clusters[c],a),Xo=!0}return e[t]}});function Qo(e){return(0,Ns.sha256)(e)}var Yo=r(36897).Buffer;async function $o(e,t,r,n){e=mo(e),n||(n=_s());const i=new Ur;return i.add(new Br({programId:e,keys:null!==t&&void 0!==t?t:[],data:r})),await n.send(i)}async function ea(e,t){const r=[t.map((e=>e.toBase58())),{commitment:"recent"}],n=await e._rpcRequest("getMultipleAccounts",r);if(n.error)throw new Error("failed to get info about accounts "+t.map((e=>e.toBase58())).join(", ")+": "+n.error.message);Bo()("undefined"!==typeof n.result);const i=[];for(const s of n.result.value){let e=null;if(null!==s){if(n.result.value){const{executable:t,owner:r,lamports:n,data:i}=s;Bo()("base64"===i[1]),e={executable:t,owner:new $t(r),lamports:n,data:Yo.from(i[0],"base64")}}if(null===e)throw new Error("Invalid response");i.push(e)}else i.push(null)}return i.map(((e,r)=>null===e?null:{publicKey:t[r],account:e}))}const ta=new $t("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),ra=new $t("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");async function na(e){let{mint:t,owner:r}=e;return(await $t.findProgramAddress([r.toBuffer(),ta.toBuffer(),t.toBuffer()],ra))[0]}},94407:function(e,t,r){"use strict";var n=r(36897).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const c=u(r(48744)),l=u(r(68532)),d=a(r(91995)),h=new("function"!==typeof TextDecoder?d.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=n.from(e,"utf8")),l.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(l.default.decode(e))};const p=1024;class f extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=f;class g{constructor(){this.buf=n.alloc(p),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(p)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(p)]),this.length+=e.length}writeString(e){this.maybeResize();const t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,r){const n=r.value;r.value=function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}catch(i){if(i instanceof RangeError){const e=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new f("Reached the end of buffer when deserializing")}throw i}}}t.BinaryWriter=g;class y{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new c.default(e,"le")}readU128(){const e=this.readBuffer(16);return new c.default(e,"le")}readU256(){const e=this.readBuffer(32);return new c.default(e,"le")}readU512(){const e=this.readBuffer(64);return new c.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new f(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(r){throw new f(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let n=0;n<t;++n)r.push(e());return r}}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function w(e,t,r,n,i){try{if("string"===typeof n)i[`write${b(n)}`](r);else if(n instanceof Array)if("number"===typeof n[0]){if(r.length!==n[0])throw new f(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"===typeof n[1]){if(r.length!==n[1])throw new f(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)w(e,null,r[t],n[0],i)}else i.writeArray(r,(r=>{w(e,t,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null===r||void 0===r?i.writeU8(0):(i.writeU8(1),w(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,s)=>{w(e,t,s,n.key,i),w(e,t,r,n.value,i)}));break;default:throw new f(`FieldType ${n} unrecognized`)}else k(e,r,i)}catch(s){throw s instanceof f&&s.addToFieldPath(t),s}}function k(e,t,r){if("function"===typeof t.borshSerialize)return void t.borshSerialize(r);const n=e.get(t.constructor);if(!n)throw new f(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((n=>{let[i,s]=n;w(e,i,t[i],s,r)}));else{if("enum"!==n.kind)throw new f(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const i=t[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),w(e,o,t[o],a,r);break}}}}}function S(e,t,r,n){try{if("string"===typeof r)return n[`read${b(r)}`]();if(r instanceof Array){if("number"===typeof r[0])return n.readFixedArray(r[0]);if("number"===typeof r[1]){const t=[];for(let i=0;i<r[1];i++)t.push(S(e,null,r[0],n));return t}return n.readArray((()=>S(e,t,r[0],n)))}if("option"===r.kind){return n.readU8()?S(e,t,r.type,n):void 0}if("map"===r.kind){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const s=S(e,t,r.key,n),o=S(e,t,r.value,n);i.set(s,o)}return i}return A(e,r,n)}catch(i){throw i instanceof f&&i.addToFieldPath(t),i}}function A(e,t,r){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new f(`Class ${t.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,s]of e.get(t).fields)n[i]=S(e,i,s,r);return new t(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new f(`Enum index: ${i} is out of range`);const[s,o]=n.values[i];return new t({[s]:S(e,s,o,r)})}throw new f(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}o([m],y.prototype,"readU8",null),o([m],y.prototype,"readU16",null),o([m],y.prototype,"readU32",null),o([m],y.prototype,"readU64",null),o([m],y.prototype,"readU128",null),o([m],y.prototype,"readU256",null),o([m],y.prototype,"readU512",null),o([m],y.prototype,"readString",null),o([m],y.prototype,"readFixedArray",null),o([m],y.prototype,"readArray",null),t.BinaryReader=y,t.serialize=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;const n=new r;return k(e,t,n),n.toArray()},t.deserialize=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;const i=new n(r),s=A(e,t,i);if(i.offset<r.length)throw new f(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},t.deserializeUnchecked=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;const i=new n(r);return A(e,t,i)}},36897:(e,t,r)=>{"use strict";const n=r(12009),i=r(45889),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function f(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return _(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function k(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function S(e,t,r,n){return H(q(t,e.length-r),e,r,n)}function A(e,t,r,n){return H(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return H(Z(t),e,r,n)}function E(e,t,r,n){return H(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function _(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function v(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return d(e)},u.allocUnsafeSlow=function(e){return d(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?v(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(n,i),l=e.slice(t,r);for(let u=0;u<a;++u)if(c[u]!==l[u]){s=c[u],o=l[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return A(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=Q[e[s]];return i}function O(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function M(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function N(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function L(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return z(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return z(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=u.isBuffer(e)?e:u.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const W={};function D(e,t,r){W[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function K(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,s)}function G(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw G(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=K(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=K(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const j=/[^+/0-9A-Za-z-_]/g;function q(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Y(e){return"undefined"===typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},37103:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=void 0;const a=s(r(50794)),u=s(r(46417)),c=r(57937),l=r(75330),d=r(6057),h=o(r(79137)),p=r(77762),f=r(79158),g=r(54414);class m{constructor(e,t,r){this._marginAccountSubscriptionId=void 0,this._spreadAccountSubscriptionId=void 0,this._pendingUpdateSlot=0,this._pollInterval=c.DEFAULT_CLIENT_POLL_INTERVAL,this._updatingState=!1,this._updatingStateTimestamp=void 0,this._provider=new a.AnchorProvider(e,t,r),this._program=new a.Program(h.default,l.exchange.programId,this._provider),this._openOrdersAccounts=Array(l.exchange.zetaGroup.products.length).fill(d.PublicKey.default),this._positions=[],this._orders=[],this._lastUpdateTimestamp=0,this._pendingUpdate=!1,this._marginAccount=null,this._spreadAccount=null,this._referralAccount=null}get publicKey(){return this._provider.wallet.publicKey}get provider(){return this._provider}get marginAccount(){return this._marginAccount}get marginAccountAddress(){return this._marginAccountAddress}get spreadAccount(){return this._spreadAccount}get referralAccount(){return this._referralAccount}get spreadAccountAddress(){return this._spreadAccountAddress}get usdcAccountAddress(){return this._usdcAccountAddress}get openOrdersAccounts(){return this._openOrdersAccounts}get orders(){return this._orders}get positions(){return this._positions}get spreadPositions(){return this._spreadPositions}get whitelistDepositAddress(){return this._whitelistDepositAddress}get whitelistTradingFeesAddress(){return this._whitelistTradingFeesAddress}get pollInterval(){return this._pollInterval}set pollInterval(e){if(e<0)throw Error("Polling interval invalid!");this._pollInterval=e}static async load(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.defaultCommitment(),n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];console.log(`Loading client: ${t.publicKey.toString()}`);let s=new m(e,t,r),[o,a]=await u.getMarginAccount(l.exchange.programId,l.exchange.zetaGroupAddress,t.publicKey),[d,h]=await u.getSpreadAccount(l.exchange.programId,l.exchange.zetaGroupAddress,t.publicKey);s._marginAccountAddress=o,s._spreadAccountAddress=d,s._callback=n,s._marginAccountSubscriptionId=e.onAccountChange(s._marginAccountAddress,(async(e,t)=>{if(s._marginAccount=s._program.coder.accounts.decode(p.ProgramAccountType.MarginAccount,e.data),i||s._updatingState)return s._pendingUpdate=!0,void(s._pendingUpdateSlot=t.slot);await s.updateState(!1),s._lastUpdateTimestamp=l.exchange.clockTimestamp,void 0!==n&&n(g.EventType.USER,null),await s.updateOpenOrdersAddresses()}),e.commitment),s._spreadAccountSubscriptionId=e.onAccountChange(s._spreadAccountAddress,(async(e,t)=>{s._spreadAccount=s._program.coder.accounts.decode(p.ProgramAccountType.SpreadAccount,e.data),s.updateSpreadPositions(),void 0!==n&&n(g.EventType.USER,null)}),e.commitment),s._usdcAccountAddress=await u.getAssociatedTokenAddress(l.exchange.usdcMintAddress,t.publicKey);try{s._marginAccount=await s._program.account.marginAccount.fetch(s._marginAccountAddress),await s.updateOpenOrdersAddresses(),s.updatePositions(),s._pendingUpdate=!0}catch(f){console.log("User does not have a margin account.")}try{s._spreadAccount=await s._program.account.spreadAccount.fetch(s._spreadAccountAddress),s.updateSpreadPositions()}catch(f){console.log("User does not have a spread account.")}s._whitelistDepositAddress=void 0;try{let[e,r]=await u.getUserWhitelistDepositAccount(l.exchange.programId,t.publicKey);await s._program.account.whitelistDepositAccount.fetch(e),console.log("User is whitelisted for unlimited deposits into zeta."),s._whitelistDepositAddress=e}catch(f){}s._whitelistTradingFeesAddress=void 0;try{let[e,r]=await u.getUserWhitelistTradingFeesAccount(l.exchange.programId,t.publicKey);await s._program.account.whitelistTradingFeesAccount.fetch(e),console.log("User is whitelisted for trading fees."),s._whitelistTradingFeesAddress=e}catch(f){}s._referralAccountAddress=void 0;try{let[e,r]=await u.getReferralAccountAddress(l.exchange.programId,t.publicKey);s._referralAccountAddress=e,s._referralAccount=await s._program.account.referralAccount.fetch(e),console.log(`User has been referred by ${s._referralAccount.referrer.toString()}.`)}catch(f){}return void 0!==n&&(s._tradeEventListener=s._program.addEventListener("TradeEvent",((e,t)=>{e.marginAccount.equals(o)&&n(g.EventType.TRADE,e)}))),s.setPolling(c.DEFAULT_CLIENT_TIMER_INTERVAL),s}async referUser(e){let[t]=await u.getReferrerAccountAddress(l.exchange.programId,e);try{await this._program.account.referrerAccount.fetch(t)}catch(i){throw Error(`Invalid referrer. ${e.toString()}`)}let r=(new d.Transaction).add(await(0,f.referUserIx)(this.provider.wallet.publicKey,e)),n=await u.processTransaction(this.provider,r);return this._referralAccount=await this._program.account.referralAccount.fetch(this._referralAccountAddress),n}setPolling(e){void 0!==this._pollIntervalId&&(console.log(`Resetting existing timer to ${e} seconds.`),clearInterval(this._pollIntervalId)),this._pollIntervalId=setInterval((async()=>{if(l.exchange.clockTimestamp>this._lastUpdateTimestamp+this._pollInterval||this._pendingUpdate)try{if(this._updatingState)return;let e=this._pendingUpdateSlot;await this.updateState(),e==this._pendingUpdateSlot&&(this._pendingUpdate=!1),this._lastUpdateTimestamp=l.exchange.clockTimestamp,void 0!==this._callback&&this._callback(g.EventType.USER,null)}catch(e){console.log(`Client poll update failed. Error: ${e}`)}}),1e3*e)}toggleUpdateState(e){e?(this._updatingState=!0,this._updatingStateTimestamp=Date.now()/1e3):(this._updatingState=!1,this._updatingStateTimestamp=void 0)}checkResetUpdatingState(){this._updatingState&&Date.now()/1e3-this._updatingStateTimestamp>c.UPDATING_STATE_LIMIT_SECONDS&&this.toggleUpdateState(!1)}async updateState(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.checkResetUpdatingState(),!this._updatingState||t){if(this.toggleUpdateState(!0),e){try{this._marginAccount=await this._program.account.marginAccount.fetch(this._marginAccountAddress)}catch(r){return void this.toggleUpdateState(!1)}try{this._spreadAccount=await this._program.account.spreadAccount.fetch(this._spreadAccountAddress)}catch(r){}}try{null!==this._marginAccount&&(this.updatePositions(),await this.updateOrders()),null!==this._spreadAccount&&this.updateSpreadPositions()}catch(r){}this.toggleUpdateState(!1)}}async deposit(e){await this.usdcAccountCheck();let t=new d.Transaction;return null===this._marginAccount&&(console.log("User has no margin account. Creating margin account..."),t.add((0,f.initializeMarginAccountIx)(l.exchange.zetaGroupAddress,this._marginAccountAddress,this.publicKey))),t.add(await(0,f.depositIx)(e,this._marginAccountAddress,this._usdcAccountAddress,this.publicKey,this._whitelistDepositAddress)),await u.processTransaction(this._provider,t)}async closeMarginAccount(){if(null===this._marginAccount)throw Error("User has no margin account to close");let e=(new d.Transaction).add((0,f.closeMarginAccountIx)(this.publicKey,this._marginAccountAddress)),t=await u.processTransaction(this._provider,e);return this._marginAccount=null,t}async closeSpreadAccount(){if(null===this._spreadAccount)throw Error("User has no spread account to close");let e=new d.Transaction;e.add((0,f.transferExcessSpreadBalanceIx)(l.exchange.zetaGroupAddress,this.marginAccountAddress,this._spreadAccountAddress,this.publicKey)),e.add((0,f.closeSpreadAccountIx)(l.exchange.zetaGroupAddress,this._spreadAccountAddress,this.publicKey));let t=await u.processTransaction(this._provider,e);return this._spreadAccount=null,t}async withdraw(e){let t=new d.Transaction;return t.add((0,f.withdrawIx)(e,this._marginAccountAddress,this._usdcAccountAddress,this.publicKey)),await u.processTransaction(this._provider,t)}async withdrawAndCloseMarginAccount(){if(null===this._marginAccount)throw Error("User has no margin account to withdraw or close.");let e=new d.Transaction;return e.add((0,f.withdrawIx)(this._marginAccount.balance.toNumber(),this._marginAccountAddress,this._usdcAccountAddress,this.publicKey)),e.add((0,f.closeMarginAccountIx)(this.publicKey,this._marginAccountAddress)),await u.processTransaction(this._provider,e)}async placeOrder(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=new d.Transaction,o=l.exchange.markets.getMarketIndex(e),a=null;if(this._openOrdersAccounts[o].equals(d.PublicKey.default)){console.log(`User doesn't have open orders account. Initialising for market ${e.toString()}.`);let[t,r]=await(0,f.initializeOpenOrdersIx)(e,this.publicKey,this.marginAccountAddress);a=r,s.add(t)}else a=this._openOrdersAccounts[o];let c=(0,f.placeOrderIx)(o,t,r,n,i,this.marginAccountAddress,this.publicKey,a,this._whitelistTradingFeesAddress);s.add(c);let h=await u.processTransaction(this._provider,s);return this._openOrdersAccounts[o]=a,h}async placeOrderV2(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=new d.Transaction,a=l.exchange.markets.getMarketIndex(e),c=null;if(this._openOrdersAccounts[a].equals(d.PublicKey.default)){console.log(`User doesn't have open orders account. Initialising for market ${e.toString()}.`);let[t,r]=await(0,f.initializeOpenOrdersIx)(e,this.publicKey,this.marginAccountAddress);c=r,o.add(t)}else c=this._openOrdersAccounts[a];let h=(0,f.placeOrderV2Ix)(a,t,r,n,i,s,this.marginAccountAddress,this.publicKey,c,this._whitelistTradingFeesAddress);o.add(h);let p=await u.processTransaction(this._provider,o);return this._openOrdersAccounts[a]=c,p}async placeOrderAndLockPosition(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c.DEFAULT_ORDER_TAG,s=new d.Transaction,o=l.exchange.markets.getMarketIndex(e),h=null;if(this._openOrdersAccounts[o].equals(d.PublicKey.default)){console.log(`User doesn't have open orders account. Initialising for market ${e.toString()}.`);let[t,r]=await(0,f.initializeOpenOrdersIx)(e,this.publicKey,this.marginAccountAddress);h=r,s.add(t)}else h=this._openOrdersAccounts[o];let g=(0,f.placeOrderV3Ix)(o,t,r,n,p.OrderType.FILLORKILL,0,i,this.marginAccountAddress,this.publicKey,h,this._whitelistTradingFeesAddress);s.add(g),null==this.spreadAccount&&(console.log("User has no spread account. Creating spread account..."),s.add((0,f.initializeSpreadAccountIx)(l.exchange.zetaGroupAddress,this.spreadAccountAddress,this.publicKey)));let m=n==p.Side.BID?r:-r,y=[{index:o,size:new a.BN(m)}];s.add((0,f.positionMovementIx)(l.exchange.zetaGroupAddress,this.marginAccountAddress,this.spreadAccountAddress,this.publicKey,l.exchange.greeksAddress,l.exchange.zetaGroup.oracle,p.MovementType.LOCK,y));let b=await u.processTransaction(this._provider,s);return this._openOrdersAccounts[o]=h,b}async placeOrderV3(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:c.DEFAULT_ORDER_TAG,a=new d.Transaction,h=l.exchange.markets.getMarketIndex(e),p=null;if(this._openOrdersAccounts[h].equals(d.PublicKey.default)){console.log(`User doesn't have open orders account. Initialising for market ${e.toString()}.`);let[t,r]=await(0,f.initializeOpenOrdersIx)(e,this.publicKey,this.marginAccountAddress);p=r,a.add(t)}else p=this._openOrdersAccounts[h];let g,m=(0,f.placeOrderV3Ix)(h,t,r,n,i,s,o,this.marginAccountAddress,this.publicKey,p,this._whitelistTradingFeesAddress);return a.add(m),g=await u.processTransaction(this._provider,a),this._openOrdersAccounts[h]=p,g}async cancelOrder(e,t,r){let n=new d.Transaction,i=l.exchange.markets.getMarketIndex(e),s=(0,f.cancelOrderIx)(i,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[i],t,r);return n.add(s),await u.processTransaction(this._provider,n)}async cancelOrderByClientOrderId(e,t){if(0==t)throw Error("Client order id cannot be 0.");let r=new d.Transaction,n=l.exchange.markets.getMarketIndex(e),i=(0,f.cancelOrderByClientOrderIdIx)(n,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[n],new a.BN(t));return r.add(i),await u.processTransaction(this._provider,r)}async cancelAndPlaceOrder(e,t,r,n,i,s){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=new d.Transaction,c=l.exchange.markets.getMarketIndex(e);return a.add((0,f.cancelOrderIx)(c,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[c],t,r)),a.add((0,f.placeOrderIx)(c,n,i,s,o,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[c],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,a)}async cancelAndPlaceOrderV2(e,t,r,n,i,s,o){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=new d.Transaction,h=l.exchange.markets.getMarketIndex(e);return c.add((0,f.cancelOrderIx)(h,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[h],t,r)),c.add((0,f.placeOrderV2Ix)(h,n,i,s,o,a,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[h],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,c)}async cancelAndPlaceOrderV3(e,t,r,n,i,s,o){let a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:c.DEFAULT_ORDER_TAG,p=new d.Transaction,g=l.exchange.markets.getMarketIndex(e);return p.add((0,f.cancelOrderIx)(g,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[g],t,r)),p.add((0,f.placeOrderV3Ix)(g,n,i,s,o,a,h,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[g],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,p)}async cancelAndPlaceOrderByClientOrderId(e,t,r,n,i,s){let o=new d.Transaction,c=l.exchange.markets.getMarketIndex(e);return o.add((0,f.cancelOrderByClientOrderIdIx)(c,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[c],new a.BN(t))),o.add((0,f.placeOrderIx)(c,r,n,i,s,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[c],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,o)}async cancelAndPlaceOrderByClientOrderIdV2(e,t,r,n,i,s,o){let c=new d.Transaction,h=l.exchange.markets.getMarketIndex(e);return c.add((0,f.cancelOrderByClientOrderIdIx)(h,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[h],new a.BN(t))),c.add((0,f.placeOrderV2Ix)(h,r,n,i,s,o,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[h],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,c)}async cancelAndPlaceOrderByClientOrderIdV3(e,t,r,n,i,s,o){let h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:c.DEFAULT_ORDER_TAG,p=new d.Transaction,g=l.exchange.markets.getMarketIndex(e);return p.add((0,f.cancelOrderByClientOrderIdIx)(g,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[g],new a.BN(t))),p.add((0,f.placeOrderV3Ix)(g,r,n,i,s,o,h,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[g],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,p)}async replaceByClientOrderIdV3(e,t,r,n,i,s,o){let h=arguments.length>7&&void 0!==arguments[7]?arguments[7]:c.DEFAULT_ORDER_TAG,p=new d.Transaction,g=l.exchange.markets.getMarketIndex(e);return p.add((0,f.cancelOrderByClientOrderIdNoErrorIx)(g,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[g],new a.BN(t))),p.add((0,f.placeOrderV3Ix)(g,r,n,i,s,o,h,this.marginAccountAddress,this.publicKey,this._openOrdersAccounts[g],this._whitelistTradingFeesAddress)),await u.processTransaction(this._provider,p)}async initializeOpenOrdersAccount(e){let t=l.exchange.markets.getMarketIndex(e);if(!this._openOrdersAccounts[t].equals(d.PublicKey.default))throw Error("User already has an open orders account for market!");let[r,n]=await(0,f.initializeOpenOrdersIx)(e,this.publicKey,this.marginAccountAddress),i=(new d.Transaction).add(r),s=await u.processTransaction(this._provider,i);return this._openOrdersAccounts[t]=n,s}async closeOpenOrdersAccount(e){let t=l.exchange.markets.getMarketIndex(e);if(this._openOrdersAccounts[t].equals(d.PublicKey.default))throw Error("User has no open orders account for this market!");const[r,n]=await u.getSerumVaultOwnerAndNonce(e,c.DEX_PID[l.exchange.network]);let i=new d.Transaction;i.add((0,f.settleDexFundsIx)(e,r,this._openOrdersAccounts[t])),i.add(await(0,f.closeOpenOrdersIx)(e,this.publicKey,this.marginAccountAddress,this._openOrdersAccounts[t]));let s=await u.processTransaction(this._provider,i);return this._openOrdersAccounts[t]=d.PublicKey.default,s}async closeMultipleOpenOrdersAccount(e){let t=[];for(var r=0;r<e.length;r++){let n=e[r],i=l.exchange.markets.getMarketIndex(n);if(this._openOrdersAccounts[i].equals(d.PublicKey.default))throw Error("User has no open orders account for this market!");const[s,o]=await u.getSerumVaultOwnerAndNonce(n,c.DEX_PID[l.exchange.network]);let a=(0,f.settleDexFundsIx)(n,s,this._openOrdersAccounts[i]),h=await(0,f.closeOpenOrdersIx)(n,this.publicKey,this.marginAccountAddress,this._openOrdersAccounts[i]);t.push(a),t.push(h)}let n=[],i=u.splitIxsIntoTx(t,c.MAX_SETTLE_AND_CLOSE_PER_TX);await Promise.all(i.map((async e=>{n.push(await u.processTransaction(this._provider,e))})));for(r=0;r<e.length;r++){let t=e[r],n=l.exchange.markets.getMarketIndex(t);this._openOrdersAccounts[n]=d.PublicKey.default}return n}async cancelMultipleOrders(e){let t=[];for(var r=0;r<e.length;r++){let n=l.exchange.markets.getMarketIndex(e[r].market),i=(0,f.cancelOrderIx)(n,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[n],e[r].orderId,e[r].cancelSide);t.push(i)}let n=u.splitIxsIntoTx(t,c.MAX_CANCELS_PER_TX),i=[];return await Promise.all(n.map((async e=>{i.push(await u.processTransaction(this._provider,e))}))),i}async cancelMultipleOrdersNoError(e){let t=[];for(var r=0;r<e.length;r++){let n=l.exchange.markets.getMarketIndex(e[r].market),i=(0,f.cancelOrderNoErrorIx)(n,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[n],e[r].orderId,e[r].cancelSide);t.push(i)}let n=u.splitIxsIntoTx(t,c.MAX_CANCELS_PER_TX),i=[];return await Promise.all(n.map((async e=>{i.push(await u.processTransaction(this._provider,e))}))),i}async forceCancelOrders(e,t){let r=await this._program.account.marginAccount.fetch(t),n=l.exchange.markets.getMarketIndex(e),i=await u.createOpenOrdersAddress(l.exchange.programId,e,r.authority,r.openOrdersNonce[n]),s=new d.Transaction,o=(0,f.forceCancelOrdersIx)(n,t,i);return s.add(o),await u.processTransaction(this._provider,s)}async liquidate(e,t,r){let n=new d.Transaction,i=(0,f.liquidateIx)(this.publicKey,this._marginAccountAddress,e,t,r);return n.add(i),await u.processTransaction(this._provider,n)}async cancelAllOrders(){let e=[];for(var t=0;t<this._orders.length;t++){let r=this._orders[t],n=(0,f.cancelOrderIx)(r.marketIndex,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[r.marketIndex],r.orderId,r.side);e.push(n)}let r=u.splitIxsIntoTx(e,c.MAX_CANCELS_PER_TX),n=[];return await Promise.all(r.map((async e=>{n.push(await u.processTransaction(this._provider,e))}))),n}async cancelAllOrdersNoError(){let e=[];for(var t=0;t<this._orders.length;t++){let r=this._orders[t],n=(0,f.cancelOrderNoErrorIx)(r.marketIndex,this.publicKey,this._marginAccountAddress,this._openOrdersAccounts[r.marketIndex],r.orderId,r.side);e.push(n)}let r=u.splitIxsIntoTx(e,c.MAX_CANCELS_PER_TX),n=[];return await Promise.all(r.map((async e=>{n.push(await u.processTransaction(this._provider,e))}))),n}async positionMovement(e,t){let r=this.getPositionMovementTx(e,t);return await u.processTransaction(this._provider,r)}async simulatePositionMovement(e,t){let r,n=this.getPositionMovementTx(e,t),i=(await u.simulateTransaction(this.provider,n)).events;for(var s=0;s<i.length;s++)if("PositionMovementEvent"==i[s].name){r=i[s].data;break}if(void 0==r)throw new Error("Failed to simulate position movement.");return r}getPositionMovementTx(e,t){if(t.length>c.MAX_POSITION_MOVEMENTS)throw new Error(`Max position movements exceeded. Max = ${c.MAX_POSITION_MOVEMENTS} < ${t.length}`);let r=new d.Transaction;return this.assertHasMarginAccount(),null==this.spreadAccount&&(console.log("User has no spread account. Creating spread account..."),r.add((0,f.initializeSpreadAccountIx)(l.exchange.zetaGroupAddress,this.spreadAccountAddress,this.publicKey))),r.add((0,f.positionMovementIx)(l.exchange.zetaGroupAddress,this.marginAccountAddress,this.spreadAccountAddress,this.publicKey,l.exchange.greeksAddress,l.exchange.zetaGroup.oracle,e,t)),r}async transferExcessSpreadBalance(){let e=(new d.Transaction).add((0,f.transferExcessSpreadBalanceIx)(l.exchange.zetaGroupAddress,this.marginAccountAddress,this.spreadAccountAddress,this.publicKey));return await u.processTransaction(this._provider,e)}getRelevantMarketIndexes(){let e=[];for(var t=0;t<this._marginAccount.productLedgers.length;t++){let r=this._marginAccount.productLedgers[t];0===r.position.size.toNumber()&&0==r.orderState.openingOrders[0].toNumber()&&0==r.orderState.openingOrders[1].toNumber()||e.push(t)}return e}async updateOrders(){let e=[];await Promise.all([...this.getRelevantMarketIndexes()].map((async t=>{await l.exchange.markets.markets[t].updateOrderbook(),e.push(l.exchange.markets.markets[t].getOrdersForAccount(this._openOrdersAccounts[t]))}))),this._orders=[].concat(...e)}updatePositions(){let e=[];for(var t=0;t<this._marginAccount.productLedgers.length;t++)0!=this._marginAccount.productLedgers[t].position.size.toNumber()&&e.push({marketIndex:t,market:l.exchange.zetaGroup.products[t].market,size:u.convertNativeLotSizeToDecimal(this._marginAccount.productLedgers[t].position.size.toNumber()),costOfTrades:u.convertNativeBNToDecimal(this._marginAccount.productLedgers[t].position.costOfTrades)});this._positions=e}updateSpreadPositions(){let e=[];for(var t=0;t<this._spreadAccount.positions.length;t++)0!=this._spreadAccount.positions[t].size.toNumber()&&e.push({marketIndex:t,market:l.exchange.zetaGroup.products[t].market,size:u.convertNativeLotSizeToDecimal(this._spreadAccount.positions[t].size.toNumber()),costOfTrades:u.convertNativeBNToDecimal(this._spreadAccount.positions[t].costOfTrades)});this._spreadPositions=e}async usdcAccountCheck(){try{let e=await u.getTokenAccountInfo(this._provider.connection,this._usdcAccountAddress);console.log(`Found user USDC associated token account ${this._usdcAccountAddress.toString()}. Balance = $${u.convertNativeBNToDecimal(e.amount)}.`)}catch(e){throw Error("User has no USDC associated token account. Please create one and deposit USDC.")}}async updateOpenOrdersAddresses(){await Promise.all(l.exchange.zetaGroup.products.map((async(e,t)=>{if(0!==this._marginAccount.openOrdersNonce[t]&&this._openOrdersAccounts[t].equals(d.PublicKey.default)){let[r,n]=await u.getOpenOrders(l.exchange.programId,e.market,this.publicKey);this._openOrdersAccounts[t]=r}})))}assertHasMarginAccount(){if(null==this.marginAccount)throw Error("Margin account doesn't exist!")}getMarginPositionSize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.marginAccount.productLedgers[e].position.size.toNumber();return t?u.convertNativeLotSizeToDecimal(r):r}getMarginCostOfTrades(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.marginAccount.productLedgers[e].position.costOfTrades.toNumber();return t?u.convertNativeIntegerToDecimal(r):r}getOpeningOrders(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t==p.Side.BID?0:1,i=this.marginAccount.productLedgers[e].orderState.openingOrders[n].toNumber();return r?u.convertNativeLotSizeToDecimal(i):i}getClosingOrders(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.marginAccount.productLedgers[e].orderState.closingOrders.toNumber();return t?u.convertNativeLotSizeToDecimal(r):r}getSpreadPositionSize(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.spreadAccount.positions[e].size.toNumber();return t?u.convertNativeLotSizeToDecimal(r):r}getSpreadCostOfTrades(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.spreadAccount.positions[e].costOfTrades.toNumber();return t?u.convertNativeIntegerToDecimal(r):r}async close(){void 0!==this._marginAccountSubscriptionId&&(await this._provider.connection.removeAccountChangeListener(this._marginAccountSubscriptionId),this._marginAccountSubscriptionId=void 0),void 0!==this._spreadAccountSubscriptionId&&(await this._provider.connection.removeAccountChangeListener(this._spreadAccountSubscriptionId),this._spreadAccountSubscriptionId=void 0),void 0!==this._tradeEventListener&&(await this._program.removeEventListener(this._tradeEventListener),this._tradeEventListener=void 0),void 0!==this._pollIntervalId&&(clearInterval(this._pollIntervalId),this._pollIntervalId=void 0)}}t.Client=m},57937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BPS_DENOMINATOR=t.MAX_POSITION_MOVEMENTS=t.DEFAULT_ORDER_TAG=t.POSITION_PRECISION=t.MARGIN_PRECISION=t.PRICING_PRECISION=t.PLATFORM_PRECISION=t.VOLATILITY_POINTS=t.UPDATING_STATE_LIMIT_SECONDS=t.DEFAULT_CLIENT_TIMER_INTERVAL=t.DEFAULT_CLIENT_POLL_INTERVAL=t.DEFAULT_MARKET_POLL_INTERVAL=t.DEFAULT_EXCHANGE_POLL_INTERVAL=t.TOTAL_MARKETS=t.TOTAL_EXPIRIES=t.ACTIVE_MARKETS=t.ACTIVE_EXPIRIES=t.PRODUCTS_PER_EXPIRY=t.NUM_STRIKES=t.CLUSTER_URLS=t.USDC_MINT_ADDRESS=t.PYTH_PRICE_FEEDS=t.MAX_ORDER_TAG_LENGTH=t.DEFAULT_ORDERBOOK_DEPTH=t.MARKET_LOAD_LIMIT=t.CRANK_ACCOUNT_LIMIT=t.CLEAN_MARKET_LIMIT=t.MARKET_INDEX_LIMIT=t.MAX_MARGIN_AND_SPREAD_ACCOUNTS=t.MAX_ZETA_GROUPS=t.MAX_SETTLE_ACCOUNTS=t.MAX_REBALANCE_ACCOUNTS=t.MAX_SETTLEMENT_ACCOUNTS=t.MAX_GREEK_UPDATES_PER_TX=t.MAX_CANCELS_PER_TX=t.MAX_SETTLE_AND_CLOSE_PER_TX=t.DEX_PID=t.UNDERLYINGS=t.MINTS=void 0;const n=r(6057);t.MINTS={SOL:new n.PublicKey("So11111111111111111111111111111111111111112")},t.UNDERLYINGS=[t.MINTS.SOL],t.DEX_PID={localnet:new n.PublicKey("5CmWtUihvSrJpaUrpJ3H1jUa9DRjYz4v2xs6c3EgQWMf"),devnet:new n.PublicKey("5CmWtUihvSrJpaUrpJ3H1jUa9DRjYz4v2xs6c3EgQWMf"),mainnet:new n.PublicKey("zDEXqXEG7gAyxb1Kg9mK5fPnUdENCGKzWrM21RMdWRq")},t.MAX_SETTLE_AND_CLOSE_PER_TX=4,t.MAX_CANCELS_PER_TX=4,t.MAX_GREEK_UPDATES_PER_TX=20,t.MAX_SETTLEMENT_ACCOUNTS=20,t.MAX_REBALANCE_ACCOUNTS=20,t.MAX_SETTLE_ACCOUNTS=5,t.MAX_ZETA_GROUPS=20,t.MAX_MARGIN_AND_SPREAD_ACCOUNTS=20,t.MARKET_INDEX_LIMIT=18,t.CLEAN_MARKET_LIMIT=9,t.CRANK_ACCOUNT_LIMIT=12,t.MARKET_LOAD_LIMIT=12,t.DEFAULT_ORDERBOOK_DEPTH=5,t.MAX_ORDER_TAG_LENGTH=4,t.PYTH_PRICE_FEEDS={localnet:{"SOL/USD":new n.PublicKey("2pRCJksgaoKRMqBfa7NTdd6tLYe9wbDFGCcCCZ6si3F7")},devnet:{"SOL/USD":new n.PublicKey("J83w4HKfqxwcq3BEMMkPFSppX3gqekLyLJBexebFVkix")},mainnet:{"SOL/USD":new n.PublicKey("H6ARHf6YXhGYeQfUzQNGk6rDNnLBQKrenN712K4AQJEG")}},t.USDC_MINT_ADDRESS={localnet:new n.PublicKey("6PEh8n3p7BbCTykufbq1nSJYAZvUp6gSwEANAs1ZhsCX"),devnet:new n.PublicKey("6PEh8n3p7BbCTykufbq1nSJYAZvUp6gSwEANAs1ZhsCX"),mainnet:new n.PublicKey("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v")},t.CLUSTER_URLS={localnet:"http://127.0.0.1:8899",devnet:"https://api.devnet.solana.com",mainnet:"https://api.mainnet-beta.solana.com"},t.NUM_STRIKES=11,t.PRODUCTS_PER_EXPIRY=2*t.NUM_STRIKES+1,t.ACTIVE_EXPIRIES=2,t.ACTIVE_MARKETS=t.ACTIVE_EXPIRIES*t.PRODUCTS_PER_EXPIRY,t.TOTAL_EXPIRIES=6,t.TOTAL_MARKETS=t.PRODUCTS_PER_EXPIRY*t.TOTAL_EXPIRIES,t.DEFAULT_EXCHANGE_POLL_INTERVAL=30,t.DEFAULT_MARKET_POLL_INTERVAL=5,t.DEFAULT_CLIENT_POLL_INTERVAL=20,t.DEFAULT_CLIENT_TIMER_INTERVAL=1,t.UPDATING_STATE_LIMIT_SECONDS=10,t.VOLATILITY_POINTS=5,t.PLATFORM_PRECISION=6,t.PRICING_PRECISION=12,t.MARGIN_PRECISION=8,t.POSITION_PRECISION=3,t.DEFAULT_ORDER_TAG="SDK",t.MAX_POSITION_MOVEMENTS=10,t.BPS_DENOMINATOR=1e4},28793:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decimal=void 0;const n=r(50794),i=2147483648;class s{constructor(e,t,r,n){this._flags=e,this._hi=t,this._lo=r,this._mid=n}static fromAnchorDecimal(e){return new s(e.flags,e.hi,e.lo,e.mid)}scale(){return(16711680&this._flags)>>16}isSignNegative(){return(this._flags&i)>0}isSignPositive(){return 0==(this._flags&i)}toBN(){let e=[this._hi>>24&255,this._hi>>16&255,this._hi>>8&255,255&this._hi,this._mid>>24&255,this._mid>>16&255,this._mid>>8&255,255&this._mid,this._lo>>24&255,this._lo>>16&255,this._lo>>8&255,255&this._lo];return new n.BN(new Uint8Array(e))}isUnset(){return 0==this._hi&&0==this._mid&&0==this._lo&&0==this._flags}toNumber(){if(this.isUnset())return 0;let e=this.scale();if(0==e)throw Error("Scale 0 is not handled.");return this.toBN().toString()/10**e}}t.Decimal=s},27094:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.idlErrors=t.NativeAnchorError=t.NativeError=t.parseCustomError=t.parseIdlErrors=t.NATIVE_ERRORS=t.NATIVE_ERROR_CODES=t.DEX_ERRORS=void 0;const a=o(r(79137)),u=s(r(50794));var c;function l(e){const t=new Map;return e.errors&&e.errors.forEach((e=>{var r;let n=null!==(r=e.msg)&&void 0!==r?r:e.name;t.set(e.code,n)})),t}t.DEX_ERRORS=new Map([[41,"Client order ID not found"],[59,"Order doesn't exist"],[61,"Order would self-trade"]]),function(e){e[e.ZeroLamportsBalance=1e4]="ZeroLamportsBalance",e[e.InsufficientLamports=10001]="InsufficientLamports",e[e.UnconfirmedTransaction=10002]="UnconfirmedTransaction",e[e.FailedToGetRecentBlockhash=10003]="FailedToGetRecentBlockhash"}(c=t.NATIVE_ERROR_CODES||(t.NATIVE_ERROR_CODES={})),t.NATIVE_ERRORS=new Map([[1e4,["Attempt to debit an account but found no record of a prior credit.","Zero SOL in wallet."]],[10001,["insufficient lamports","Insufficient SOL in wallet."]],[10002,["Transaction was not confirmed","Transaction was not confirmed. Please check transaction signature."]],[10003,["failed to get recent blockhash","Failed to get recent blockhash. Please retry."]]]),t.parseIdlErrors=l,t.parseCustomError=function(e){let r,n=e.toString().split("custom program error: ");if(2!==n.length)return null;try{r=parseInt(n[1])}catch(s){return null}let i=t.DEX_ERRORS.get(r);return void 0!==i?new u.ProgramError(r,i):null};class d extends Error{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;for(var n=arguments.length,i=new Array(n>3?n-3:0),s=3;s<n;s++)i[s-3]=arguments[s];super(...i),this.code=e,this.msg=t,this.data=r}static parse(e){let r=e.toString();e.logs&&(r+=e.logs.join(" "));for(const[n,[i,s]]of t.NATIVE_ERRORS.entries())if(r.includes(i))return n==c.UnconfirmedTransaction?new d(n,s,{transactionSignature:d.parseTransactionSignature(r)}):new d(n,s);return null}static parseTransactionSignature(e){let t=e.split("Check signature ");if(2!=t.length)return null;try{return t[1].split(" ")[0]}catch(r){return null}}toString(){return this.msg}}t.NativeError=d;class h extends Error{constructor(e,t,r,n){super(n.join("\n")),this.code=e,this.msg=t,this.logs=r,this.errorLogs=n}static parse(e){return new h(e.error.errorCode.number,e.error.errorMessage,e.logs,e.errorLogs)}toString(){return this.msg}}t.NativeAnchorError=h,t.idlErrors=l(a.default)},54414:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventType=void 0,function(e){e[e.EXCHANGE=0]="EXCHANGE",e[e.EXPIRY=1]="EXPIRY",e[e.USER=2]="USER",e[e.CLOCK=3]="CLOCK",e[e.GREEKS=4]="GREEKS",e[e.TRADE=5]="TRADE",e[e.ORDERBOOK=6]="ORDERBOOK",e[e.ORACLE=7]="ORACLE"}(t.EventType||(t.EventType={}))},75330:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.exchange=t.Exchange=void 0;const a=s(r(50794)),u=r(6057),c=s(r(46417)),l=s(r(57937)),d=r(90654),h=r(11652),p=r(54414),f=r(49267),g=r(71179),m=o(r(79137)),y=r(77762),b=s(r(79158));class w{constructor(){this._isInitialized=!1,this._eventEmitters=[],this._pollInterval=l.DEFAULT_EXCHANGE_POLL_INTERVAL,this._programSubscriptionIds=[]}get isInitialized(){return this._isInitialized}get network(){return this._network}get program(){return this._program}get programId(){return this._program.programId}get provider(){return this._provider}get connection(){return this._provider.connection}get state(){return this._state}get zetaGroup(){return this._zetaGroup}get stateAddress(){return this._stateAddress}get zetaGroupAddress(){return this._zetaGroupAddress}get serumAuthority(){return this._serumAuthority}get mintAuthority(){return this._mintAuthority}get usdcMintAddress(){return this._usdcMintAddress}get vaultAddress(){return this._vaultAddress}get insuranceVaultAddress(){return this._insuranceVaultAddress}get socializedLossAccountAddress(){return this._socializedLossAccountAddress}get markets(){return this._markets}get numMarkets(){return this._markets.markets.length}get clockTimestamp(){return this._clockTimestamp}get clockSlot(){return this._clockSlot}get greeks(){return this._greeks}get greeksAddress(){return this._greeksAddress}get marginParams(){return this._marginParams}get pollInterval(){return this._pollInterval}set pollInterval(e){if(e<0)throw Error("Invalid polling interval");this._pollInterval=e}get oracle(){return this._oracle}get riskCalculator(){return this._riskCalculator}get frontExpirySeries(){return this._zetaGroup.expirySeries[this._zetaGroup.frontExpiryIndex]}get halted(){return this._zetaGroup.haltState.halted}init(e,r,n,i,s){if(t.exchange.isInitialized)throw"Exchange already initialized";this._provider=new a.AnchorProvider(n,i,s||c.commitmentConfig(n.commitment)),this._network=r,this._program=new a.Program(m.default,e,this._provider),this._oracle=new g.Oracle(this._network,n),this._riskCalculator=new h.RiskCalculator,this._lastPollTimestamp=0}async initialize(e,r,n,i,s,o){t.exchange.init(e,r,n,i,o);const[a,d]=await c.getMintAuthority(e),[h,p]=await c.getState(e),[f,g]=await c.getSerumAuthority(e);let m=(new u.Transaction).add(b.initializeZetaStateIx(h,p,f,g,a,d,s));try{await c.processTransaction(this._provider,m)}catch(y){console.error(`Initialize zeta state failed: ${y}`)}t.exchange._stateAddress=h,t.exchange._serumAuthority=f,t.exchange._mintAuthority=a,t.exchange._usdcMintAddress=l.USDC_MINT_ADDRESS[r],await t.exchange.updateState(),console.log("Initialized zeta state!"),console.log(`Params:\nexpiryIntervalSeconds=${s.expiryIntervalSeconds},\nnewExpiryThresholdSeconds=${s.newExpiryThresholdSeconds},\nstrikeInitializationThresholdSeconds=${s.strikeInitializationThresholdSeconds}\npricingFrequencySeconds=${s.pricingFrequencySeconds}\ninsuranceVaultLiquidationPercentage=${s.insuranceVaultLiquidationPercentage}\nexpirationThresholdSeconds=${s.expirationThresholdSeconds}`)}async load(e,r,n,i){let s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new y.DummyWallet,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6?arguments[6]:void 0;if(console.info("Loading exchange."),t.exchange.isInitialized)throw"Exchange already loaded.";t.exchange.init(e,r,n,s,i);const[h,p]=await c.getMintAuthority(e),[f,g]=await c.getState(e),[m,b]=await c.getSerumAuthority(e);t.exchange._mintAuthority=h,t.exchange._stateAddress=f,t.exchange._serumAuthority=m;const[w,k]=await c.getUnderlying(e,0);let S=await t.exchange._program.account.underlying.fetch(w);const[A,I]=await c.getZetaGroup(e,S.mint);t.exchange._zetaGroupAddress=A,await t.exchange.subscribeOracle(a),await t.exchange.updateState(),await t.exchange.updateZetaGroup();const[E,_]=await c.getVault(t.exchange.programId,A),[v,x]=await c.getZetaInsuranceVault(t.exchange.programId,t.exchange.zetaGroupAddress),[T,P]=await c.getSocializedLossAccount(t.exchange.programId,t.exchange._zetaGroupAddress);if(t.exchange._vaultAddress=E,t.exchange._insuranceVaultAddress=v,t.exchange._socializedLossAccountAddress=T,t.exchange._usdcMintAddress=l.USDC_MINT_ADDRESS[r],t.exchange.zetaGroup.products[t.exchange.zetaGroup.products.length-1].market.equals(u.PublicKey.default))throw"Zeta group markets are uninitialized!";let[R,O]=await c.getGreeks(t.exchange.programId,t.exchange.zetaGroupAddress);t.exchange._greeksAddress=R,t.exchange._markets=await d.ZetaGroupMarkets.load(i,o),t.exchange._greeks=await t.exchange.program.account.greeks.fetch(R),t.exchange._riskCalculator.updateMarginRequirements(),t.exchange.subscribeZetaGroup(a),t.exchange.subscribeGreeks(a),await t.exchange.subscribeClock(a),t.exchange._isInitialized=!0,console.log(`Exchange loaded @ ${new Date(1e3*t.exchange.clockTimestamp)}`)}async initializeMarketNodes(e){let t=[...Array(l.ACTIVE_MARKETS).keys()];await Promise.all(t.map((async e=>{let t=(new u.Transaction).add(await b.initializeMarketNodeIx(e));await c.processTransaction(this._provider,t)})))}async initializeZetaGroup(e,r,n,i){let s=l.UNDERLYINGS[0];const[o,a]=await c.getZetaGroup(this.program.programId,s);this._zetaGroupAddress=o;let[d,h]=await c.getGreeks(this.programId,this._zetaGroupAddress);this._greeksAddress=d;const[p,f]=await c.getVault(t.exchange.programId,o);this._vaultAddress=p;const[g,m]=await c.getZetaInsuranceVault(t.exchange.programId,t.exchange.zetaGroupAddress);this._insuranceVaultAddress=g;const[y,w]=await c.getSocializedLossAccount(t.exchange.programId,t.exchange._zetaGroupAddress);this._socializedLossAccountAddress=y;let k=(new u.Transaction).add(await b.initializeZetaGroupIx(s,e,r,n));try{await c.processTransaction(this._provider,k)}catch(S){console.error(`Initialize zeta group failed: ${S}`)}await this.updateZetaGroup(),await this.updateState(),this._greeks=await t.exchange.program.account.greeks.fetch(d),this.subscribeZetaGroup(i),this.subscribeClock(i),this.subscribeGreeks(i),await this.subscribeOracle(i)}async updateZetaState(e){let t=(new u.Transaction).add(b.updateZetaStateIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t),await this.updateState()}async updatePricingParameters(e){let t=(new u.Transaction).add(b.updatePricingParametersIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t),await this.updateZetaGroup()}async updateMarginParameters(e){let t=(new u.Transaction).add(b.updateMarginParametersIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t),await this.updateZetaGroup()}async updateVolatilityNodes(e){if(e.length!=l.VOLATILITY_POINTS)throw Error(`Invalid number of nodes. Expected ${l.VOLATILITY_POINTS}.`);let t=(new u.Transaction).add(b.updateVolatilityNodesIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async initializeZetaMarkets(){let[e,t]=await c.getMarketIndexes(this.programId,this._zetaGroupAddress);console.log("Initializing market indexes.");let r=(new u.Transaction).add(b.initializeMarketIndexesIx(e,t));try{await c.processTransaction(this._provider,r)}catch(h){console.error(`Initialize market indexes failed: ${h}`)}let n=(new u.Transaction).add(b.addMarketIndexesIx(e));for(var i=0;i<l.TOTAL_MARKETS;i+=l.MARKET_INDEX_LIMIT)try{await c.processTransaction(this._provider,n)}catch(h){console.error(`Add market indexes failed: ${h}`)}let s=await this._program.account.marketIndexes.fetch(e);if(!s.initialized)throw Error("Market indexes are not initialized!");let o=[...Array(this.zetaGroup.products.length).keys()];await Promise.all(o.map((async t=>{console.log(`Initializing zeta market ${t+1}/${this.zetaGroup.products.length}`);const r=a.web3.Keypair.generate(),n=a.web3.Keypair.generate(),i=a.web3.Keypair.generate(),o=a.web3.Keypair.generate();c.writeKeypair(`keys/rq-${t}.json`,r),c.writeKeypair(`keys/eq-${t}.json`,n),c.writeKeypair(`keys/bids-${t}.json`,i),c.writeKeypair(`keys/asks-${t}.json`,o);let[u,l]=await b.initializeZetaMarketTxs(t,s.indexes[t],r.publicKey,n.publicKey,i.publicKey,o.publicKey,e),d=!1;if(this.network!=f.Network.LOCALNET){const[e,r]=await c.getMarketUninitialized(this.programId,this._zetaGroupAddress,s.indexes[t]);null!==await this.provider.connection.getAccountInfo(e)&&(d=!0)}if(d)console.log(`Market ${t} already initialized. Skipping...`);else try{await c.processTransaction(this.provider,u,[r,n,i,o]),await c.processTransaction(this.provider,l)}catch(h){console.error(`Initialize zeta market ${t} failed: ${h}`)}}))),console.log("Market initialization complete!"),await this.updateZetaGroup(),this._markets=await d.ZetaGroupMarkets.load(c.defaultCommitment(),0),this._isInitialized=!0}async initializeMarketStrikes(){let e=(new u.Transaction).add(b.initializeMarketStrikesIx());await c.processTransaction(this._provider,e)}async updateState(){this._state=await this.program.account.state.fetch(this.stateAddress)}async updateZetaGroup(){this._zetaGroup=await this.program.account.zetaGroup.fetch(this.zetaGroupAddress),this.updateMarginParams()}async updatePricing(e){let t=(new u.Transaction).add(b.updatePricingIx(e));await c.processTransaction(this._provider,t)}async retreatMarketNodes(e){let t=(new u.Transaction).add(b.retreatMarketNodesIx(e));await c.processTransaction(this._provider,t)}assertInitialized(){if(!this.isInitialized)throw"Exchange uninitialized"}subscribeZetaGroup(e){let t=this._program.account.zetaGroup.subscribe(this._zetaGroupAddress,this._provider.connection.commitment);t.on("change",(async t=>{let r=void 0!==this._zetaGroup&&this._zetaGroup.frontExpiryIndex!==t.frontExpiryIndex;this._zetaGroup=t,void 0!==this._markets&&this._markets.updateExpirySeries(),this.updateMarginParams(),void 0!==e&&e(r?p.EventType.EXPIRY:p.EventType.EXCHANGE,null)})),this._eventEmitters.push(t)}setClockData(e){this._clockTimestamp=e.timestamp,this._clockSlot=e.slot}async subscribeClock(e){if(void 0!==this._clockSubscriptionId)throw Error("Clock already subscribed to.");this._clockSubscriptionId=this._provider.connection.onAccountChange(u.SYSVAR_CLOCK_PUBKEY,(async(t,r)=>{this.setClockData(c.getClockData(t)),void 0!==e&&e(p.EventType.CLOCK,null);try{await this.handlePolling(e)}catch(n){console.log(`Exchange polling failed. Error: ${n}`)}}),this._provider.connection.commitment);let t=await this._provider.connection.getAccountInfo(u.SYSVAR_CLOCK_PUBKEY);this.setClockData(c.getClockData(t))}subscribeGreeks(e){if(null===this._zetaGroup)throw Error("Cannot subscribe greeks. ZetaGroup is null.");let t=this._program.account.greeks.subscribe(this._zetaGroup.greeks,this._provider.connection.commitment);t.on("change",(async t=>{this._greeks=t,this._isInitialized&&this._riskCalculator.updateMarginRequirements(),void 0!==e&&e(p.EventType.GREEKS,null)})),this._eventEmitters.push(t)}async subscribeOracle(e){await this._oracle.subscribePriceFeeds((t=>{this._isInitialized&&this._riskCalculator.updateMarginRequirements(),void 0!==e&&e(p.EventType.ORACLE,t)}))}async handlePolling(e){this._isInitialized&&(this._clockTimestamp>this._lastPollTimestamp+this._pollInterval&&(this._lastPollTimestamp=this._clockTimestamp,await this.updateState(),await this.updateZetaGroup(),this._markets.updateExpirySeries(),void 0!==e&&e(p.EventType.EXCHANGE,null)),await this._markets.handlePolling(e))}async updateExchangeState(){await this.updateState(),await this.updateZetaGroup(),this._markets.updateExpirySeries()}getMarkPrice(e){return c.convertNativeBNToDecimal(this._greeks.markPrices[e],l.PLATFORM_PRECISION)}async whitelistUserForDeposit(e){let t=(new u.Transaction).add(await b.initializeWhitelistDepositAccountIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async whitelistUserForInsuranceVault(e){let t=(new u.Transaction).add(await b.initializeWhitelistInsuranceAccountIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async whitelistUserForTradingFees(e){let t=(new u.Transaction).add(await b.initializeWhitelistTradingFeesAccountIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async rebalanceInsuranceVault(e){let t=[];for(var r=0;r<e.length;r+=l.MAX_REBALANCE_ACCOUNTS){let n=new u.Transaction,i=e.slice(r,r+l.MAX_REBALANCE_ACCOUNTS);n.add(b.rebalanceInsuranceVaultIx(i)),t.push(n)}try{await Promise.all(t.map((async e=>{let t=await c.processTransaction(this._provider,e);console.log(`[REBALANCE INSURANCE VAULT]: ${t}`)})))}catch(n){console.log(`Error in rebalancing the insurance vault ${n}`)}}async getDepositLimit(){return c.convertNativeBNToDecimal(this.state.nativeDepositLimit)}addProgramSubscriptionId(e){this._programSubscriptionIds.push(e)}async close(){await this._program.account.zetaGroup.unsubscribe(this._zetaGroupAddress),await this._program.account.greeks.unsubscribe(this._zetaGroup.greeks);for(var e=0;e<this._eventEmitters.length;e++)this._eventEmitters[e].removeListener("change");this._eventEmitters=[],void 0!==this._clockSubscriptionId&&(await this.connection.removeAccountChangeListener(this._clockSubscriptionId),this._clockSubscriptionId=void 0),await this._oracle.close();for(e=0;e<this._programSubscriptionIds.length;e++)await this.connection.removeProgramAccountChangeListener(this._programSubscriptionIds[e]);this._programSubscriptionIds=[],this._isInitialized=!1}updateMarginParams(){void 0!==this.zetaGroup&&(this._marginParams={futureMarginInitial:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.futureMarginInitial,l.MARGIN_PRECISION),futureMarginMaintenance:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.futureMarginMaintenance,l.MARGIN_PRECISION),optionMarkPercentageLongInitial:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionMarkPercentageLongInitial,l.MARGIN_PRECISION),optionSpotPercentageLongInitial:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionSpotPercentageLongInitial,l.MARGIN_PRECISION),optionSpotPercentageShortInitial:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionSpotPercentageShortInitial,l.MARGIN_PRECISION),optionDynamicPercentageShortInitial:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionDynamicPercentageShortInitial,l.MARGIN_PRECISION),optionMarkPercentageLongMaintenance:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionMarkPercentageLongMaintenance,l.MARGIN_PRECISION),optionSpotPercentageLongMaintenance:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionSpotPercentageLongMaintenance,l.MARGIN_PRECISION),optionSpotPercentageShortMaintenance:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionSpotPercentageShortMaintenance,l.MARGIN_PRECISION),optionDynamicPercentageShortMaintenance:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionDynamicPercentageShortMaintenance,l.MARGIN_PRECISION),optionShortPutCapPercentage:c.convertNativeBNToDecimal(this.zetaGroup.marginParameters.optionShortPutCapPercentage,l.MARGIN_PRECISION)})}assertHalted(){if(!this.zetaGroup.haltState.halted)throw"Zeta group not halted."}async haltZetaGroup(e){let t=(new u.Transaction).add(b.haltZetaGroupIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async unhaltZetaGroup(e){let t=(new u.Transaction).add(b.unhaltZetaGroupIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async updateHaltState(e,t){let r=(new u.Transaction).add(b.updateHaltStateIx(e,t,this._provider.wallet.publicKey));await c.processTransaction(this._provider,r)}async settlePositionsHalted(e){let t=b.settlePositionsHaltedTxs(e,this._provider.wallet.publicKey);await Promise.all(t.map((async e=>{await c.processTransaction(this._provider,e)})))}async settleSpreadPositionsHalted(e){let t=b.settleSpreadPositionsHaltedTxs(e,this._provider.wallet.publicKey);await Promise.all(t.map((async e=>{await c.processTransaction(this._provider,e)})))}async cancelAllOrdersHalted(){this.assertHalted(),await Promise.all(this._markets.markets.map((async e=>{await e.cancelAllOrdersHalted()})))}async cleanZetaMarketsHalted(){this.assertHalted();let e=await Promise.all(this._markets.markets.map((async e=>c.getMutMarketAccounts(e.marketIndex))));await c.cleanZetaMarketsHalted(e)}async updatePricingHalted(e){let t=(new u.Transaction).add(b.updatePricingHaltedIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async cleanMarketNodes(e){let t=(new u.Transaction).add(b.cleanMarketNodesIx(e));await c.processTransaction(this._provider,t)}async updateVolatility(e){let t=(new u.Transaction).add(b.updateVolatilityIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async updateInterestRate(e){let t=(new u.Transaction).add(b.updateInterestRateIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}async initializeReferrerAccount(e){let t=(new u.Transaction).add(await b.initializeReferrerAccountIx(e,this._provider.wallet.publicKey));await c.processTransaction(this._provider,t)}}t.Exchange=w,t.exchange=new w},98210:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.subscription=t.Market=t.Wallet=t.idl=t.events=t.risk=t.programTypes=t.Oracle=t.errors=t.Network=t.InsuranceClient=t.instructions=t.Decimal=t.Client=t.types=t.constants=t.Exchange=t.utils=void 0;const a=r(75330);Object.defineProperty(t,"Exchange",{enumerable:!0,get:function(){return a.exchange}});const u=r(37103);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return u.Client}});const c=r(39236);Object.defineProperty(t,"InsuranceClient",{enumerable:!0,get:function(){return c.InsuranceClient}});const l=r(49267);Object.defineProperty(t,"Network",{enumerable:!0,get:function(){return l.Network}});const d=r(28793);Object.defineProperty(t,"Decimal",{enumerable:!0,get:function(){return d.Decimal}});const h=r(71179);Object.defineProperty(t,"Oracle",{enumerable:!0,get:function(){return h.Oracle}});const p=o(r(79137));t.idl=p.default;const f=r(50794);Object.defineProperty(t,"Wallet",{enumerable:!0,get:function(){return f.Wallet}});const g=r(90654);Object.defineProperty(t,"Market",{enumerable:!0,get:function(){return g.Market}});const m=s(r(27094));t.errors=m;const y=s(r(46417));t.utils=y;const b=s(r(57937));t.constants=b;const w=s(r(77762));t.types=w;const k=s(r(79158));t.instructions=k;const S=s(r(8014));t.programTypes=S;const A=s(r(11652));t.risk=A;const I=s(r(54414));t.events=I;const E=s(r(19187));t.subscription=E},39236:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.InsuranceClient=void 0;const a=s(r(50794)),u=s(r(46417)),c=r(75330),l=r(6057),d=o(r(79137)),h=r(79158);class p{constructor(e,t,r){this._provider=new a.AnchorProvider(e,t,r),this._program=new a.Program(d.default,c.exchange.programId,this._provider),this._insuranceDepositAccount=null}get publicKey(){return this._provider.wallet.publicKey}get insuranceDepositAccount(){return this._insuranceDepositAccount}get insuranceDepositAccountAddress(){return this._insuranceDepositAccountAddress}get whitelistInsuranceAccountAddress(){return this._whitelistInsuranceAccountAddress}get usdcAccountAddress(){return this._usdcAccountAddress}static async load(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.defaultCommitment();console.log(`Loading insurance client: ${t.publicKey.toString()}`);let n=new p(e,t,r);await n.insuranceWhitelistCheck();let[i,s]=await u.getUserInsuranceDepositAccount(c.exchange.programId,c.exchange.zetaGroupAddress,t.publicKey);n._insuranceDepositAccountAddress=i,n._usdcAccountAddress=await u.getAssociatedTokenAddress(c.exchange.usdcMintAddress,t.publicKey);try{await n.updateInsuranceDepositAccount()}catch(o){}return n}async deposit(e){await this.usdcAccountCheck();let t=new l.Transaction;null===this._insuranceDepositAccount&&(console.log("User has no insurance vault deposit account. Creating insurance vault deposit account..."),t.add(await(0,h.initializeInsuranceDepositAccountIx)(this.publicKey,this.whitelistInsuranceAccountAddress))),t.add((0,h.depositInsuranceVaultIx)(e,this._insuranceDepositAccountAddress,this._usdcAccountAddress,this.publicKey));let r=await u.processTransaction(this._provider,t);return console.log(`[DEPOSIT INSURANCE VAULT] $${u.convertNativeIntegerToDecimal(e)}. Transaction: ${r}`),await this.updateInsuranceDepositAccount(),r}async withdraw(e){let t=new l.Transaction;t.add((0,h.withdrawInsuranceVaultIx)(e,this._insuranceDepositAccountAddress,this._usdcAccountAddress,this.publicKey));let r=await u.processTransaction(this._provider,t);return console.log(`[WITHDRAW INSURANCE VAULT] ${e}% of Deposit. Transaction: ${r}`),await this.updateInsuranceDepositAccount(),r}async updateInsuranceDepositAccount(){try{this._insuranceDepositAccount=await this._program.account.insuranceDepositAccount.fetch(this._insuranceDepositAccountAddress)}catch(e){console.log("User has no insurance deposit account. Please deposit into the insurance vault if you are whitelisted.")}}async usdcAccountCheck(){try{let e=await u.getTokenAccountInfo(this._provider.connection,this._usdcAccountAddress);console.log(`Found user USDC associated token account ${this._usdcAccountAddress.toString()}. Balance = $${u.convertNativeBNToDecimal(e.amount)}.`)}catch(e){throw Error("User has no USDC associated token account. Please create one and deposit USDC.")}}async insuranceWhitelistCheck(){let[e,t]=await u.getUserWhitelistInsuranceAccount(c.exchange.programId,this.publicKey);try{await this._program.account.whitelistInsuranceAccount.fetch(e)}catch(r){throw Error("User is not white listed for the insurance vault.")}this._whitelistInsuranceAccountAddress=e}}t.InsuranceClient=p},90654:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Market=t.ExpirySeries=t.ZetaGroupMarkets=void 0;const o=s(r(50794)),a=r(94706),u=r(75330),c=r(57937),l=r(46417),d=r(77762),h=r(54414);class p{constructor(){this._pollInterval=c.DEFAULT_MARKET_POLL_INTERVAL,this._expirySeries=new Array(u.exchange.zetaGroup.expirySeries.length),this._markets=new Array(u.exchange.zetaGroup.products.length),this._subscribedMarketIndexes=new Set,this._lastPollTimestamp=0}get frontExpiryIndex(){return this._frontExpiryIndex}get expirySeries(){return this._expirySeries}get markets(){return this._markets}set pollInterval(e){if(e<0)throw Error("Invalid poll interval");this._pollInterval=e}get pollInterval(){return this._pollInterval}getMarketsByExpiryIndex(e){let t=e*this.productsPerExpiry();return this._markets.slice(t,t+this.productsPerExpiry())}getOptionsMarketByExpiryIndex(e,t){let r=this.getMarketsByExpiryIndex(e);switch(t){case d.Kind.CALL:return r.slice(0,c.NUM_STRIKES);case d.Kind.PUT:return r.slice(c.NUM_STRIKES,2*c.NUM_STRIKES);default:throw Error("Options market kind not supported, must be CALL or PUT")}}getFuturesMarketByExpiryIndex(e){let t=this.getMarketsByExpiryIndex(e),r=t[t.length-1];if(r.kind!=d.Kind.FUTURE)throw Error("Futures market kind error");return r}getMarketByExpiryKindStrike(e,t,r){let n,i=this.getMarketsByExpiryIndex(e);if(t!==d.Kind.CALL&&t!==d.Kind.PUT){if(t===d.Kind.FUTURE)return this.getFuturesMarketByExpiryIndex(e);throw new Error("Only CALL, PUT, FUTURE kinds are supported")}if(void 0===r)throw new Error("Strike must be specified for options markets");n=this.getOptionsMarketByExpiryIndex(e,t);n.filter((e=>e.strike==r));return 0==i.length?void 0:i[0]}subscribeMarket(e){if(e>=this._markets.length)throw Error(`Market index ${e} doesn't exist.`);this._subscribedMarketIndexes.add(e)}unsubscribeMarket(e){return this._subscribedMarketIndexes.delete(e)}async handlePolling(e){if(u.exchange.clockTimestamp>this._lastPollTimestamp+this._pollInterval){this._lastPollTimestamp=u.exchange.clockTimestamp;let t=Array.from(this._subscribedMarketIndexes);await Promise.all(t.map((async t=>{try{await this._markets[t].updateOrderbook()}catch(r){console.error(`Orderbook poll failed: ${r}`)}if(void 0!==e){let r={marketIndex:t};e(h.EventType.ORDERBOOK,r)}})))}}static async load(e,t){let r=new p,n=Math.floor(u.exchange.zetaGroup.products.length/u.exchange.zetaGroup.expirySeries.length),i=[...Array(c.ACTIVE_MARKETS).keys()];for(var s=0;s<i.length;s+=c.MARKET_LOAD_LIMIT){let o=i.slice(s,s+c.MARKET_LOAD_LIMIT);await Promise.all(o.map((async t=>{let i=u.exchange.zetaGroup.products[t].market,s=await a.Market.load(u.exchange.connection,i,{commitment:e.commitment,skipPreflight:e.skipPreflight},c.DEX_PID[u.exchange.network]),[o,h]=await(0,l.getZetaVault)(u.exchange.programId,s.baseMintAddress),[p,f]=await(0,l.getZetaVault)(u.exchange.programId,s.quoteMintAddress),m=Math.floor(t/n);r._markets[t]=new g(t,m,(0,d.toProductKind)(u.exchange.zetaGroup.products[t].kind),i,u.exchange.zetaGroupAddress,p,o,s)}))),await(0,l.sleep)(t)}return r.updateExpirySeries(),r}async updateExpirySeries(){for(var e=0;e<u.exchange.zetaGroup.products.length;e++)this._markets[e].updateStrike();this._frontExpiryIndex=u.exchange.zetaGroup.frontExpiryIndex;for(e=0;e<u.exchange.zetaGroup.expirySeries.length;e++){let t=null!=this._markets[e*this.productsPerExpiry()].strike;this._expirySeries[e]=new f(e,u.exchange.zetaGroup.expirySeries[e].activeTs.toNumber(),u.exchange.zetaGroup.expirySeries[e].expiryTs.toNumber(),u.exchange.zetaGroup.expirySeries[e].dirty,t)}}getMarket(e){let t=this.getMarketIndex(e);return this._markets[t]}getMarketIndex(e){let t=0,r=this._markets.length-1;for(;t<=r;){let s=r+t>>1,o=(n=e,i=this._markets[s].address,n.toBuffer().compare(i.toBuffer()));if(o>0)t=s+1;else{if(!(o<0))return s;r=s-1}}var n,i;throw Error("Market doesn't exist!")}getTradeableExpiryIndices(){let e=[];for(var t=0;t<this._expirySeries.length;t++){this._expirySeries[t].isLive()&&e.push(t)}return e}productsPerExpiry(){return Math.floor(this._markets.length/this.expirySeries.length)}}t.ZetaGroupMarkets=p;class f{constructor(e,t,r,n,i){this.expiryIndex=e,this.activeTs=t,this.expiryTs=r,this.dirty=n,this.strikesInitialized=i}isLive(){return u.exchange.clockTimestamp>=this.activeTs&&u.exchange.clockTimestamp<this.expiryTs&&this.strikesInitialized&&!this.dirty}}t.ExpirySeries=f;class g{constructor(e,t,r,n,i,s,o,a){this._marketIndex=e,this._expiryIndex=t,this._kind=r,this._address=n,this._zetaGroup=i,this._quoteVault=s,this._baseVault=o,this._serumMarket=a,this._strike=0,this._orderbook={bids:[],asks:[]}}get marketIndex(){return this._marketIndex}get expiryIndex(){return this._expiryIndex}get expirySeries(){return u.exchange.markets.expirySeries[this.expiryIndex]}get kind(){return this._kind}get address(){return this._address}get zetaGroup(){return this._zetaGroup}get quoteVault(){return this._quoteVault}get baseVault(){return this._baseVault}get serumMarket(){return this._serumMarket}get orderbook(){return this._orderbook}get strike(){return this._strike}updateStrike(){let e=u.exchange.zetaGroup.products[this._marketIndex].strike;e.isSet?this._strike=(0,l.convertNativeBNToDecimal)(e.value):this._strike=null}async updateOrderbook(){[this._bids,this._asks]=await Promise.all([this._serumMarket.loadBids(u.exchange.provider.connection),this._serumMarket.loadAsks(u.exchange.provider.connection)]),[this._bids,this._asks].map((e=>{const t=!!e.isBids,r=[];for(const{key:n,quantity:i}of e.slab.items(t)){const e=(0,l.getPriceFromSerumOrderKey)(n);r.length>0&&r[r.length-1][0].eq(e)?r[r.length-1][1].iadd(i):r.push([e,new o.BN(i.toNumber())])}this._orderbook[e.isBids?"bids":"asks"]=r.map((e=>{let[t,r]=e;return{price:this._serumMarket.priceLotsToNumber(t),size:(0,l.convertNativeLotSizeToDecimal)(this._serumMarket.baseSizeLotsToNumber(r))}}))}))}getTopLevel(){let e={bid:null,ask:null};return 0!=this._orderbook.bids.length&&(e.bid=this._orderbook.bids[0]),0!=this._orderbook.asks.length&&(e.ask=this._orderbook.asks[0]),e}static convertOrder(e,t){return{marketIndex:e.marketIndex,market:e.address,price:t.price,size:(0,l.convertNativeLotSizeToDecimal)(t.size),side:"buy"==t.side?d.Side.BID:d.Side.ASK,orderId:t.orderId,owner:t.openOrdersAddress,clientOrderId:t.clientId}}getOrdersForAccount(e){return[...this._bids,...this._asks].filter((t=>t.openOrdersAddress.equals(e))).map((e=>g.convertOrder(this,e)))}getMarketOrders(){return[...this._bids,...this._asks].map((e=>g.convertOrder(this,e)))}getBidOrders(){return console.log("*"),[...this._bids].map((e=>g.convertOrder(this,e)))}getAskOrders(){return[...this._asks].map((e=>g.convertOrder(this,e)))}async cancelAllExpiredOrders(){await this.updateOrderbook();let e=this.getMarketOrders(),t=await(0,l.getCancelAllIxs)(e,!0),r=(0,l.splitIxsIntoTx)(t,c.MAX_CANCELS_PER_TX);await Promise.all(r.map((async e=>{await(0,l.processTransaction)(u.exchange.provider,e)})))}async cancelAllOrdersHalted(){u.exchange.assertHalted(),await this.updateOrderbook();let e=this.getMarketOrders(),t=await(0,l.getCancelAllIxs)(e,!1),r=(0,l.splitIxsIntoTx)(t,c.MAX_CANCELS_PER_TX);await Promise.all(r.map((async e=>{await(0,l.processTransaction)(u.exchange.provider,e)})))}}t.Market=g},49267:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Network=void 0,function(e){e.LOCALNET="localnet",e.DEVNET="devnet",e.MAINNET="mainnet"}(t.Network||(t.Network={}))},19798:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePythData=t.readBigUInt64LE=t.readBigInt64LE=void 0;const r=(e,t,r)=>new Error(`The value of "${e} is out of range. It must be ${t}. Received ${r}`);function n(e,t){if("number"!==typeof e)throw((e,t,r)=>new Error(`The "${e}" argument must be of type ${t}. Received ${r}`))(t,"number",e)}function i(e,t){if(Math.floor(e)!==e)throw n(e,"offset"),r("offset","an integer",e);if(t<0)throw new Error("Attempt to access memory outside buffer bounds");throw r("offset",`>= 0 and <= ${t}`,e)}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(t,"offset");const r=e[t],s=e[t+7];void 0!==r&&void 0!==s||i(t,e.length-8);const o=e[t+4]+256*e[t+5]+65536*e[t+6]+(s<<24);return(BigInt(o)<<BigInt(32))+BigInt(r+256*e[++t]+65536*e[++t]+e[++t]*2**24)}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n(t,"offset");const r=e[t],s=e[t+7];void 0!==r&&void 0!==s||i(t,e.length-8);const o=r+256*e[++t]+65536*e[++t]+e[++t]*2**24,a=e[++t]+256*e[++t]+65536*e[++t]+s*2**24;return BigInt(o)+(BigInt(a)<<BigInt(32))}t.readBigInt64LE=s,t.readBigUInt64LE=o,t.parsePythData=function(e){const t=e.readInt32LE(20);return function(e,t){const r=s(e,0);return{price:Number(r)*10**t,publishSlot:o(e,24)}}(e.slice(208,240),t)}},71179:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Oracle=void 0;const o=r(19798),a=r(75330),u=s(r(57937));t.Oracle=class{constructor(e,t){this._network=e,this._connection=t,this._subscriptionIds=new Map,this._data=new Map,this._callback=void 0}getAvailablePriceFeeds(){return Object.keys(u.PYTH_PRICE_FEEDS[this._network])}getPrice(e){return this._data.has(e)?this._data.get(e):null}getPriceAge(e){return Date.now()/1e3-this.getPrice(e).lastUpdatedTime}async fetchPrice(e){let t=await this._connection.getAccountInfo(e);return(0,o.parsePythData)(t.data).price}async pollPrice(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!(e in u.PYTH_PRICE_FEEDS[this._network]))throw Error("Invalid Oracle feed!");let r=u.PYTH_PRICE_FEEDS[this._network][e],n=await this._connection.getAccountInfo(r),i=(0,o.parsePythData)(n.data),s={feed:e,price:i.price,lastUpdatedTime:a.exchange.clockTimestamp,lastUpdatedSlot:i.publishSlot};return this._data.set(e,s),t&&this._callback(s),s}async subscribePriceFeeds(e){if(void 0!=this._callback)throw Error("Oracle price feeds already subscribed to!");this._callback=e;let t=Object.keys(u.PYTH_PRICE_FEEDS[this._network]);for(var r=0;r<t.length;r++){let e=t[r];console.log(`Oracle subscribing to feed ${e}`);let n=u.PYTH_PRICE_FEEDS[this._network][e],i=this._connection.onAccountChange(n,((t,r)=>{let n=(0,o.parsePythData)(t.data),i=this._data.get(e);if(void 0!==i&&i.price===n.price)return;let s={feed:e,price:n.price,lastUpdatedTime:a.exchange.clockTimestamp,lastUpdatedSlot:n.publishSlot};this._data.set(e,s),this._callback(s)}),a.exchange.provider.connection.commitment);this._subscriptionIds.set(e,i),await this.pollPrice(e,!1)}}async close(){for(let e of this._subscriptionIds.values())await this._connection.removeAccountChangeListener(e)}}},79158:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.cleanMarketNodesIx=t.updatePricingHaltedIx=t.cleanZetaMarketsHaltedIx=t.cleanZetaMarketsIx=t.settleSpreadPositionsHaltedIx=t.settlePositionsHaltedIx=t.settlePositionsHaltedTxs=t.settleSpreadPositionsHaltedTxs=t.settleSpreadPositionsIx=t.settlePositionsIx=t.settlePositionsTxs=t.initializeReferrerAccountIx=t.referUserIx=t.initializeWhitelistTradingFeesAccountIx=t.initializeWhitelistInsuranceAccountIx=t.initializeWhitelistDepositAccountIx=t.initializeMarketStrikesIx=t.addMarketIndexesIx=t.initializeMarketIndexesIx=t.updateZetaStateIx=t.initializeZetaStateIx=t.updateVolatilityNodesIx=t.updateMarginParametersIx=t.updatePricingParametersIx=t.updatePricingIx=t.retreatMarketNodesIx=t.initializeMarketNodeIx=t.crankMarketIx=t.liquidateIx=t.rebalanceInsuranceVaultIx=t.initializeZetaGroupIx=t.initializeZetaMarketTxs=t.forceCancelOrdersIx=t.cancelExpiredOrderIx=t.cancelOrderByClientOrderIdNoErrorIx=t.cancelOrderByClientOrderIdIx=t.cancelOrderNoErrorIx=t.cancelOrderIx=t.placeOrderV3Ix=t.placeOrderV2Ix=t.placeOrderIx=t.closeOpenOrdersIx=t.initializeOpenOrdersIx=t.withdrawIx=t.withdrawInsuranceVaultIx=t.depositInsuranceVaultIx=t.depositIx=t.initializeInsuranceDepositAccountIx=t.closeMarginAccountIx=t.initializeMarginAccountIx=void 0,t.toggleMarketMakerIx=t.burnVaultTokenTx=t.settleDexFundsIx=t.settleDexFundsTxs=t.transferExcessSpreadBalanceIx=t.positionMovementIx=t.closeSpreadAccountIx=t.initializeSpreadAccountIx=t.expireSeriesOverrideIx=t.updateAdminIx=t.updateInterestRateIx=t.updateVolatilityIx=t.updateHaltStateIx=t.unhaltZetaGroupIx=t.haltZetaGroupIx=t.cancelOrderHaltedIx=void 0;const o=r(75330),a=r(6057),u=r(84073),c=s(r(46417)),l=s(r(50794)),d=r(77762),h=s(r(57937));function p(e,t,r,n){return o.exchange.program.instruction.settlePositions(e,r,{accounts:{zetaGroup:o.exchange.zetaGroupAddress,settlementAccount:t},remainingAccounts:n})}function f(e,t){return o.exchange.program.instruction.settlePositionsHalted({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress,admin:t},remainingAccounts:e})}function g(e,t){return o.exchange.program.instruction.settleSpreadPositionsHalted({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress,admin:t},remainingAccounts:e})}t.initializeMarginAccountIx=function(e,t,r){return o.exchange.program.instruction.initializeMarginAccount({accounts:{zetaGroup:e,marginAccount:t,authority:r,payer:r,zetaProgram:o.exchange.programId,systemProgram:a.SystemProgram.programId}})},t.closeMarginAccountIx=function(e,t){return o.exchange.program.instruction.closeMarginAccount({accounts:{marginAccount:t,authority:e,zetaGroup:o.exchange.zetaGroupAddress}})},t.initializeInsuranceDepositAccountIx=async function(e,t){let[r,n]=await c.getUserInsuranceDepositAccount(o.exchange.programId,o.exchange.zetaGroupAddress,e);return o.exchange.program.instruction.initializeInsuranceDepositAccount(n,{accounts:{zetaGroup:o.exchange.zetaGroupAddress,insuranceDepositAccount:r,authority:e,systemProgram:a.SystemProgram.programId,whitelistInsuranceAccount:t}})},t.depositIx=async function(e,t,r,n,i){let s=void 0!==i?[{pubkey:i,isSigner:!1,isWritable:!1}]:[];return o.exchange.program.instruction.deposit(new l.BN(e),{accounts:{zetaGroup:o.exchange.zetaGroupAddress,marginAccount:t,vault:o.exchange.vaultAddress,userTokenAccount:r,socializedLossAccount:o.exchange.socializedLossAccountAddress,authority:n,tokenProgram:u.TOKEN_PROGRAM_ID,state:o.exchange.stateAddress,greeks:o.exchange.zetaGroup.greeks},remainingAccounts:s})},t.depositInsuranceVaultIx=function(e,t,r,n){return o.exchange.program.instruction.depositInsuranceVault(new l.BN(e),{accounts:{zetaGroup:o.exchange.zetaGroupAddress,insuranceVault:o.exchange.insuranceVaultAddress,insuranceDepositAccount:t,userTokenAccount:r,zetaVault:o.exchange.vaultAddress,socializedLossAccount:o.exchange.socializedLossAccountAddress,authority:n,tokenProgram:u.TOKEN_PROGRAM_ID}})},t.withdrawInsuranceVaultIx=function(e,t,r,n){return o.exchange.program.instruction.withdrawInsuranceVault(new l.BN(e),{accounts:{zetaGroup:o.exchange.zetaGroupAddress,insuranceVault:o.exchange.insuranceVaultAddress,insuranceDepositAccount:t,userTokenAccount:r,authority:n,tokenProgram:u.TOKEN_PROGRAM_ID}})},t.withdrawIx=function(e,t,r,n){return o.exchange.program.instruction.withdraw(new l.BN(e),{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,vault:o.exchange.vaultAddress,marginAccount:t,userTokenAccount:r,authority:n,tokenProgram:u.TOKEN_PROGRAM_ID,greeks:o.exchange.zetaGroup.greeks,oracle:o.exchange.zetaGroup.oracle,socializedLossAccount:o.exchange.socializedLossAccountAddress}})},t.initializeOpenOrdersIx=async function(e,t,r){const[n,i]=await c.getOpenOrders(o.exchange.programId,e,t),[s,u]=await c.getOpenOrdersMap(o.exchange.programId,n);return[o.exchange.program.instruction.initializeOpenOrders({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,dexProgram:h.DEX_PID[o.exchange.network],systemProgram:a.SystemProgram.programId,openOrders:n,marginAccount:r,authority:t,payer:t,market:e,rent:a.SYSVAR_RENT_PUBKEY,serumAuthority:o.exchange.serumAuthority,openOrdersMap:s}}),n]},t.closeOpenOrdersIx=async function(e,t,r,n){const[i,s]=await c.getOpenOrdersMap(o.exchange.programId,n);return o.exchange.program.instruction.closeOpenOrders(s,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,dexProgram:h.DEX_PID[o.exchange.network],openOrders:n,marginAccount:r,authority:t,market:e,serumAuthority:o.exchange.serumAuthority,openOrdersMap:i}})},t.placeOrderIx=function(e,t,r,n,i,s,c,p,f){let g=o.exchange.markets.markets[e],m=void 0!==f?[{pubkey:f,isSigner:!1,isWritable:!1}]:[];return o.exchange.program.instruction.placeOrder(new l.BN(t),new l.BN(r),(0,d.toProgramSide)(n),0==i?null:new l.BN(i),{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,marginAccount:s,authority:c,dexProgram:h.DEX_PID[o.exchange.network],tokenProgram:u.TOKEN_PROGRAM_ID,serumAuthority:o.exchange.serumAuthority,greeks:o.exchange.zetaGroup.greeks,openOrders:p,rent:a.SYSVAR_RENT_PUBKEY,marketAccounts:{market:g.serumMarket.decoded.ownAddress,requestQueue:g.serumMarket.decoded.requestQueue,eventQueue:g.serumMarket.decoded.eventQueue,bids:g.serumMarket.decoded.bids,asks:g.serumMarket.decoded.asks,coinVault:g.serumMarket.decoded.baseVault,pcVault:g.serumMarket.decoded.quoteVault,orderPayerTokenAccount:n==d.Side.BID?g.quoteVault:g.baseVault,coinWallet:g.baseVault,pcWallet:g.quoteVault},oracle:o.exchange.zetaGroup.oracle,marketNode:o.exchange.greeks.nodeKeys[e],marketMint:n==d.Side.BID?g.serumMarket.quoteMintAddress:g.serumMarket.baseMintAddress,mintAuthority:o.exchange.mintAuthority},remainingAccounts:m})},t.placeOrderV2Ix=function(e,t,r,n,i,s,c,p,f,g){let m=o.exchange.markets.markets[e],y=void 0!==g?[{pubkey:g,isSigner:!1,isWritable:!1}]:[];return o.exchange.program.instruction.placeOrderV2(new l.BN(t),new l.BN(r),(0,d.toProgramSide)(n),(0,d.toProgramOrderType)(i),0==s?null:new l.BN(s),{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,marginAccount:c,authority:p,dexProgram:h.DEX_PID[o.exchange.network],tokenProgram:u.TOKEN_PROGRAM_ID,serumAuthority:o.exchange.serumAuthority,greeks:o.exchange.zetaGroup.greeks,openOrders:f,rent:a.SYSVAR_RENT_PUBKEY,marketAccounts:{market:m.serumMarket.decoded.ownAddress,requestQueue:m.serumMarket.decoded.requestQueue,eventQueue:m.serumMarket.decoded.eventQueue,bids:m.serumMarket.decoded.bids,asks:m.serumMarket.decoded.asks,coinVault:m.serumMarket.decoded.baseVault,pcVault:m.serumMarket.decoded.quoteVault,orderPayerTokenAccount:n==d.Side.BID?m.quoteVault:m.baseVault,coinWallet:m.baseVault,pcWallet:m.quoteVault},oracle:o.exchange.zetaGroup.oracle,marketNode:o.exchange.greeks.nodeKeys[e],marketMint:n==d.Side.BID?m.serumMarket.quoteMintAddress:m.serumMarket.baseMintAddress,mintAuthority:o.exchange.mintAuthority},remainingAccounts:y})},t.placeOrderV3Ix=function(e,t,r,n,i,s,c,p,f,g,m){if(c.length>h.MAX_ORDER_TAG_LENGTH)throw Error(`Tag is too long! Max length = ${h.MAX_ORDER_TAG_LENGTH}`);let y=o.exchange.markets.markets[e],b=void 0!==m?[{pubkey:m,isSigner:!1,isWritable:!1}]:[];return o.exchange.program.instruction.placeOrderV3(new l.BN(t),new l.BN(r),(0,d.toProgramSide)(n),(0,d.toProgramOrderType)(i),0==s?null:new l.BN(s),new String(c),{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,marginAccount:p,authority:f,dexProgram:h.DEX_PID[o.exchange.network],tokenProgram:u.TOKEN_PROGRAM_ID,serumAuthority:o.exchange.serumAuthority,greeks:o.exchange.zetaGroup.greeks,openOrders:g,rent:a.SYSVAR_RENT_PUBKEY,marketAccounts:{market:y.serumMarket.decoded.ownAddress,requestQueue:y.serumMarket.decoded.requestQueue,eventQueue:y.serumMarket.decoded.eventQueue,bids:y.serumMarket.decoded.bids,asks:y.serumMarket.decoded.asks,coinVault:y.serumMarket.decoded.baseVault,pcVault:y.serumMarket.decoded.quoteVault,orderPayerTokenAccount:n==d.Side.BID?y.quoteVault:y.baseVault,coinWallet:y.baseVault,pcWallet:y.quoteVault},oracle:o.exchange.zetaGroup.oracle,marketNode:o.exchange.greeks.nodeKeys[e],marketMint:n==d.Side.BID?y.serumMarket.quoteMintAddress:y.serumMarket.baseMintAddress,mintAuthority:o.exchange.mintAuthority},remainingAccounts:b})},t.cancelOrderIx=function(e,t,r,n,i,s){let a=o.exchange.markets.markets[e];return o.exchange.program.instruction.cancelOrder((0,d.toProgramSide)(s),i,{accounts:{authority:t,cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:r,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:n,market:a.address,bids:a.serumMarket.decoded.bids,asks:a.serumMarket.decoded.asks,eventQueue:a.serumMarket.decoded.eventQueue}}})},t.cancelOrderNoErrorIx=function(e,t,r,n,i,s){let a=o.exchange.markets.markets[e];return o.exchange.program.instruction.cancelOrderNoError((0,d.toProgramSide)(s),i,{accounts:{authority:t,cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:r,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:n,market:a.address,bids:a.serumMarket.decoded.bids,asks:a.serumMarket.decoded.asks,eventQueue:a.serumMarket.decoded.eventQueue}}})},t.cancelOrderByClientOrderIdIx=function(e,t,r,n,i){let s=o.exchange.markets.markets[e];return o.exchange.program.instruction.cancelOrderByClientOrderId(i,{accounts:{authority:t,cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:r,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:n,market:s.address,bids:s.serumMarket.decoded.bids,asks:s.serumMarket.decoded.asks,eventQueue:s.serumMarket.decoded.eventQueue}}})},t.cancelOrderByClientOrderIdNoErrorIx=function(e,t,r,n,i){let s=o.exchange.markets.markets[e];return o.exchange.program.instruction.cancelOrderByClientOrderIdNoError(i,{accounts:{authority:t,cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:r,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:n,market:s.address,bids:s.serumMarket.decoded.bids,asks:s.serumMarket.decoded.asks,eventQueue:s.serumMarket.decoded.eventQueue}}})},t.cancelExpiredOrderIx=function(e,t,r,n,i){let s=o.exchange.markets.markets[e];return o.exchange.program.instruction.cancelExpiredOrder((0,d.toProgramSide)(i),n,{accounts:{cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:t,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:r,market:s.address,bids:s.serumMarket.decoded.bids,asks:s.serumMarket.decoded.asks,eventQueue:s.serumMarket.decoded.eventQueue}}})},t.forceCancelOrdersIx=function(e,t,r){let n=o.exchange.markets.markets[e];return o.exchange.program.instruction.forceCancelOrders({accounts:{greeks:o.exchange.zetaGroup.greeks,oracle:o.exchange.zetaGroup.oracle,cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:t,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:r,market:n.address,bids:n.serumMarket.decoded.bids,asks:n.serumMarket.decoded.asks,eventQueue:n.serumMarket.decoded.eventQueue}}})},t.initializeZetaMarketTxs=async function(e,t,r,n,i,s,l){const[d,p]=await c.getMarketUninitialized(o.exchange.programId,o.exchange.zetaGroupAddress,t),[f,g]=await c.getSerumVaultOwnerAndNonce(d,h.DEX_PID[o.exchange.network]),[m,y]=await c.getBaseMint(o.exchange.program.programId,d),[b,w]=await c.getQuoteMint(o.exchange.program.programId,d),[k,S]=await c.getZetaVault(o.exchange.program.programId,m),[A,I]=await c.getZetaVault(o.exchange.program.programId,b),[E,_]=await c.getSerumVault(o.exchange.program.programId,m),[v,x]=await c.getSerumVault(o.exchange.program.programId,b),T=new a.Transaction;return T.add(a.SystemProgram.createAccount({fromPubkey:o.exchange.provider.wallet.publicKey,newAccountPubkey:r,lamports:await o.exchange.provider.connection.getMinimumBalanceForRentExemption(5132),space:5132,programId:h.DEX_PID[o.exchange.network]}),a.SystemProgram.createAccount({fromPubkey:o.exchange.provider.wallet.publicKey,newAccountPubkey:n,lamports:await o.exchange.provider.connection.getMinimumBalanceForRentExemption(262156),space:262156,programId:h.DEX_PID[o.exchange.network]}),a.SystemProgram.createAccount({fromPubkey:o.exchange.provider.wallet.publicKey,newAccountPubkey:i,lamports:await o.exchange.provider.connection.getMinimumBalanceForRentExemption(65548),space:65548,programId:h.DEX_PID[o.exchange.network]}),a.SystemProgram.createAccount({fromPubkey:o.exchange.provider.wallet.publicKey,newAccountPubkey:s,lamports:await o.exchange.provider.connection.getMinimumBalanceForRentExemption(65548),space:65548,programId:h.DEX_PID[o.exchange.network]})),[T,(new a.Transaction).add(o.exchange.program.instruction.initializeZetaMarket({index:e,marketNonce:p,baseMintNonce:y,quoteMintNonce:w,zetaBaseVaultNonce:S,zetaQuoteVaultNonce:I,dexBaseVaultNonce:_,dexQuoteVaultNonce:x,vaultSignerNonce:g},{accounts:{state:o.exchange.stateAddress,marketIndexes:l,zetaGroup:o.exchange.zetaGroupAddress,admin:o.exchange.provider.wallet.publicKey,market:d,requestQueue:r,eventQueue:n,bids:i,asks:s,baseMint:m,quoteMint:b,zetaBaseVault:k,zetaQuoteVault:A,dexBaseVault:E,dexQuoteVault:v,vaultOwner:f,mintAuthority:o.exchange.mintAuthority,serumAuthority:o.exchange.serumAuthority,dexProgram:h.DEX_PID[o.exchange.network],systemProgram:a.SystemProgram.programId,tokenProgram:u.TOKEN_PROGRAM_ID,rent:a.SYSVAR_RENT_PUBKEY}}))]},t.initializeZetaGroupIx=async function(e,t,r,n){let[i,s]=await c.getZetaGroup(o.exchange.programId,e),[l,d]=await c.getUnderlying(o.exchange.programId,o.exchange.state.numUnderlyings),[h,p]=await c.getGreeks(o.exchange.programId,o.exchange.zetaGroupAddress),[f,g]=await c.getVault(o.exchange.programId,o.exchange.zetaGroupAddress),[m,y]=await c.getZetaInsuranceVault(o.exchange.programId,o.exchange.zetaGroupAddress),[b,w]=await c.getSocializedLossAccount(o.exchange.programId,o.exchange.zetaGroupAddress);return o.exchange.program.instruction.initializeZetaGroup({zetaGroupNonce:s,underlyingNonce:d,greeksNonce:p,vaultNonce:g,insuranceVaultNonce:y,socializedLossAccountNonce:w,interestRate:r.interestRate,volatility:r.volatility,optionTradeNormalizer:r.optionTradeNormalizer,futureTradeNormalizer:r.futureTradeNormalizer,maxVolatilityRetreat:r.maxVolatilityRetreat,maxInterestRetreat:r.maxInterestRetreat,maxDelta:r.maxDelta,minDelta:r.minDelta,minInterestRate:r.minInterestRate,maxInterestRate:r.maxInterestRate,minVolatility:r.minVolatility,maxVolatility:r.maxVolatility,futureMarginInitial:n.futureMarginInitial,futureMarginMaintenance:n.futureMarginMaintenance,optionMarkPercentageLongInitial:n.optionMarkPercentageLongInitial,optionSpotPercentageLongInitial:n.optionSpotPercentageLongInitial,optionSpotPercentageShortInitial:n.optionSpotPercentageShortInitial,optionDynamicPercentageShortInitial:n.optionDynamicPercentageShortInitial,optionMarkPercentageLongMaintenance:n.optionMarkPercentageLongMaintenance,optionSpotPercentageLongMaintenance:n.optionSpotPercentageLongMaintenance,optionSpotPercentageShortMaintenance:n.optionSpotPercentageShortMaintenance,optionDynamicPercentageShortMaintenance:n.optionDynamicPercentageShortMaintenance,optionShortPutCapPercentage:n.optionShortPutCapPercentage},{accounts:{state:o.exchange.stateAddress,admin:o.exchange.provider.wallet.publicKey,systemProgram:a.SystemProgram.programId,underlyingMint:e,zetaProgram:o.exchange.programId,oracle:t,zetaGroup:i,greeks:h,underlying:l,vault:f,insuranceVault:m,socializedLossAccount:b,tokenProgram:u.TOKEN_PROGRAM_ID,usdcMint:o.exchange.usdcMintAddress,rent:a.SYSVAR_RENT_PUBKEY}})},t.rebalanceInsuranceVaultIx=function(e){return o.exchange.program.instruction.rebalanceInsuranceVault({accounts:{zetaGroup:o.exchange.zetaGroupAddress,zetaVault:o.exchange.vaultAddress,insuranceVault:o.exchange.insuranceVaultAddress,socializedLossAccount:o.exchange.socializedLossAccountAddress,tokenProgram:u.TOKEN_PROGRAM_ID},remainingAccounts:e})},t.liquidateIx=function(e,t,r,n,i){let s=new l.BN(i);return o.exchange.program.instruction.liquidate(s,{accounts:{state:o.exchange.stateAddress,liquidator:e,liquidatorMarginAccount:t,greeks:o.exchange.zetaGroup.greeks,oracle:o.exchange.zetaGroup.oracle,market:r,zetaGroup:o.exchange.zetaGroupAddress,liquidatedMarginAccount:n}})},t.crankMarketIx=function(e,t,r,n){return o.exchange.program.instruction.crankEventQueue({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,market:e,eventQueue:t,dexProgram:r,serumAuthority:o.exchange.serumAuthority},remainingAccounts:n})},t.initializeMarketNodeIx=async function(e){let[t,r]=await c.getMarketNode(o.exchange.programId,o.exchange.zetaGroupAddress,e);return o.exchange.program.instruction.initializeMarketNode({nonce:r,index:e},{accounts:{zetaGroup:o.exchange.zetaGroupAddress,marketNode:t,greeks:o.exchange.greeksAddress,payer:o.exchange.provider.wallet.publicKey,systemProgram:a.SystemProgram.programId}})},t.retreatMarketNodesIx=function(e){let t=e*h.PRODUCTS_PER_EXPIRY,r=o.exchange.greeks.nodeKeys.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))).slice(t,t+h.PRODUCTS_PER_EXPIRY);return o.exchange.program.instruction.retreatMarketNodes(e,{accounts:{zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress,oracle:o.exchange.zetaGroup.oracle},remainingAccounts:r})},t.updatePricingIx=function(e){return o.exchange.program.instruction.updatePricing(e,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress,oracle:o.exchange.zetaGroup.oracle}})},t.updatePricingParametersIx=function(e,t){return o.exchange.program.instruction.updatePricingParameters(e,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,admin:t}})},t.updateMarginParametersIx=function(e,t){return o.exchange.program.instruction.updateMarginParameters(e,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,admin:t}})},t.updateVolatilityNodesIx=function(e,t){return o.exchange.program.instruction.updateVolatilityNodes(e,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress,admin:t}})},t.initializeZetaStateIx=function(e,t,r,n,i,s,c){let l=c;return l.stateNonce=t,l.serumNonce=n,l.mintAuthNonce=s,o.exchange.program.instruction.initializeZetaState(l,{accounts:{state:e,serumAuthority:r,mintAuthority:i,rent:a.SYSVAR_RENT_PUBKEY,systemProgram:a.SystemProgram.programId,tokenProgram:u.TOKEN_PROGRAM_ID,admin:o.exchange.provider.wallet.publicKey}})},t.updateZetaStateIx=function(e,t){return o.exchange.program.instruction.updateZetaState(e,{accounts:{state:o.exchange.stateAddress,admin:t}})},t.initializeMarketIndexesIx=function(e,t){return o.exchange.program.instruction.initializeMarketIndexes(t,{accounts:{state:o.exchange.stateAddress,marketIndexes:e,admin:o.exchange.provider.wallet.publicKey,systemProgram:a.SystemProgram.programId,zetaGroup:o.exchange.zetaGroupAddress}})},t.addMarketIndexesIx=function(e){return o.exchange.program.instruction.addMarketIndexes({accounts:{marketIndexes:e,zetaGroup:o.exchange.zetaGroupAddress}})},t.initializeMarketStrikesIx=function(){return o.exchange.program.instruction.initializeMarketStrikes({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,oracle:o.exchange.zetaGroup.oracle}})},t.initializeWhitelistDepositAccountIx=async function(e,t){let[r,n]=await c.getUserWhitelistDepositAccount(o.exchange.program.programId,e);return o.exchange.program.instruction.initializeWhitelistDepositAccount(n,{accounts:{whitelistDepositAccount:r,admin:t,user:e,systemProgram:a.SystemProgram.programId,state:o.exchange.stateAddress}})},t.initializeWhitelistInsuranceAccountIx=async function(e,t){let[r,n]=await c.getUserWhitelistInsuranceAccount(o.exchange.program.programId,e);return o.exchange.program.instruction.initializeWhitelistInsuranceAccount(n,{accounts:{whitelistInsuranceAccount:r,admin:t,user:e,systemProgram:a.SystemProgram.programId,state:o.exchange.stateAddress}})},t.initializeWhitelistTradingFeesAccountIx=async function(e,t){let[r,n]=await c.getUserWhitelistTradingFeesAccount(o.exchange.program.programId,e);return o.exchange.program.instruction.initializeWhitelistTradingFeesAccount(n,{accounts:{whitelistTradingFeesAccount:r,admin:t,user:e,systemProgram:a.SystemProgram.programId,state:o.exchange.stateAddress}})},t.referUserIx=async function(e,t){let[r,n]=await c.getReferrerAccountAddress(o.exchange.program.programId,t),[i,s]=await c.getReferralAccountAddress(o.exchange.program.programId,e);return o.exchange.program.instruction.referUser({accounts:{user:e,referrerAccount:r,referralAccount:i,systemProgram:a.SystemProgram.programId}})},t.initializeReferrerAccountIx=async function(e,t){let[r,n]=await c.getReferrerAccountAddress(o.exchange.program.programId,e);return o.exchange.program.instruction.initializeReferrerAccount({accounts:{state:o.exchange.stateAddress,admin:t,referrer:e,referrerAccount:r,systemProgram:a.SystemProgram.programId}})},t.settlePositionsTxs=function(e,t,r,n){let i=[];for(var s=0;s<n.length;s+=h.MAX_SETTLEMENT_ACCOUNTS){let o=new a.Transaction,u=n.slice(s,s+h.MAX_SETTLEMENT_ACCOUNTS);o.add(p(e,t,r,u)),i.push(o)}return i},t.settlePositionsIx=p,t.settleSpreadPositionsIx=function(e,t,r,n){return o.exchange.program.instruction.settleSpreadPositions(e,r,{accounts:{zetaGroup:o.exchange.zetaGroupAddress,settlementAccount:t},remainingAccounts:n})},t.settleSpreadPositionsHaltedTxs=function(e,t){let r=[];for(var n=0;n<e.length;n+=h.MAX_SETTLEMENT_ACCOUNTS){let i=e.slice(n,n+h.MAX_SETTLEMENT_ACCOUNTS);r.push((new a.Transaction).add(g(i,t)))}return r},t.settlePositionsHaltedTxs=function(e,t){let r=[];for(var n=0;n<e.length;n+=h.MAX_SETTLEMENT_ACCOUNTS){let i=e.slice(n,n+h.MAX_SETTLEMENT_ACCOUNTS);r.push((new a.Transaction).add(f(i,t)))}return r},t.settlePositionsHaltedIx=f,t.settleSpreadPositionsHaltedIx=g,t.cleanZetaMarketsIx=function(e){return o.exchange.program.instruction.cleanZetaMarkets({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress},remainingAccounts:e})},t.cleanZetaMarketsHaltedIx=function(e){return o.exchange.program.instruction.cleanZetaMarketsHalted({accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress},remainingAccounts:e})},t.updatePricingHaltedIx=function(e,t){return o.exchange.program.instruction.updatePricingHalted(e,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress,admin:t}})},t.cleanMarketNodesIx=function(e){let t=e*h.PRODUCTS_PER_EXPIRY,r=o.exchange.greeks.nodeKeys.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))).slice(t,t+h.PRODUCTS_PER_EXPIRY);return o.exchange.program.instruction.cleanMarketNodes(e,{accounts:{zetaGroup:o.exchange.zetaGroupAddress,greeks:o.exchange.greeksAddress},remainingAccounts:r})},t.cancelOrderHaltedIx=function(e,t,r,n,i){let s=o.exchange.markets.markets[e];return o.exchange.program.instruction.cancelOrderHalted((0,d.toProgramSide)(i),n,{accounts:{cancelAccounts:{zetaGroup:o.exchange.zetaGroupAddress,state:o.exchange.stateAddress,marginAccount:t,dexProgram:h.DEX_PID[o.exchange.network],serumAuthority:o.exchange.serumAuthority,openOrders:r,market:s.address,bids:s.serumMarket.decoded.bids,asks:s.serumMarket.decoded.asks,eventQueue:s.serumMarket.decoded.eventQueue}}})},t.haltZetaGroupIx=function(e,t){return o.exchange.program.instruction.haltZetaGroup({accounts:{state:o.exchange.stateAddress,zetaGroup:e,greeks:o.exchange.greeksAddress,admin:t}})},t.unhaltZetaGroupIx=function(e,t){return o.exchange.program.instruction.unhaltZetaGroup({accounts:{state:o.exchange.stateAddress,zetaGroup:e,admin:t}})},t.updateHaltStateIx=function(e,t,r){return o.exchange.program.instruction.updateHaltState(t,{accounts:{state:o.exchange.stateAddress,zetaGroup:e,admin:r}})},t.updateVolatilityIx=function(e,t){return o.exchange.program.instruction.updateVolatility(e,{accounts:{state:o.exchange.stateAddress,greeks:o.exchange.greeksAddress,zetaGroup:o.exchange.zetaGroupAddress,admin:t}})},t.updateInterestRateIx=function(e,t){return o.exchange.program.instruction.updateInterestRate(e,{accounts:{state:o.exchange.stateAddress,greeks:o.exchange.greeksAddress,zetaGroup:o.exchange.zetaGroupAddress,admin:t}})},t.updateAdminIx=function(e,t){return o.exchange.program.instruction.updateAdmin({accounts:{state:o.exchange.stateAddress,admin:e,newAdmin:t}})},t.expireSeriesOverrideIx=function(e,t,r){return o.exchange.program.instruction.expireSeriesOverride(r,{accounts:{state:o.exchange.stateAddress,zetaGroup:o.exchange.zetaGroupAddress,settlementAccount:t,admin:e,systemProgram:a.SystemProgram.programId,greeks:o.exchange.greeksAddress}})},t.initializeSpreadAccountIx=function(e,t,r){return o.exchange.program.instruction.initializeSpreadAccount({accounts:{zetaGroup:e,spreadAccount:t,authority:r,payer:r,zetaProgram:o.exchange.programId,systemProgram:a.SystemProgram.programId}})},t.closeSpreadAccountIx=function(e,t,r){return o.exchange.program.instruction.closeSpreadAccount({accounts:{zetaGroup:e,spreadAccount:t,authority:r}})},t.positionMovementIx=function(e,t,r,n,i,s,a,u){return o.exchange.program.instruction.positionMovement((0,d.toProgramMovementType)(a),u,{accounts:{state:o.exchange.stateAddress,zetaGroup:e,marginAccount:t,spreadAccount:r,authority:n,greeks:i,oracle:s}})},t.transferExcessSpreadBalanceIx=function(e,t,r,n){return o.exchange.program.instruction.transferExcessSpreadBalance({accounts:{zetaGroup:e,marginAccount:t,spreadAccount:r,authority:n}})},t.settleDexFundsTxs=function(e,t,r){let n=o.exchange.markets.getMarket(e),i={state:o.exchange.stateAddress,market:n.address,zetaBaseVault:n.baseVault,zetaQuoteVault:n.quoteVault,dexBaseVault:n.serumMarket.decoded.baseVault,dexQuoteVault:n.serumMarket.decoded.quoteVault,vaultOwner:t,mintAuthority:o.exchange.mintAuthority,serumAuthority:o.exchange.serumAuthority,dexProgram:h.DEX_PID[o.exchange.network],tokenProgram:u.TOKEN_PROGRAM_ID},s=[];for(var c=0;c<r.length;c+=h.MAX_SETTLE_ACCOUNTS){let e=new a.Transaction,t=r.slice(c,c+h.MAX_SETTLE_ACCOUNTS);e.add(o.exchange.program.instruction.settleDexFunds({accounts:i,remainingAccounts:t})),s.push(e)}return s},t.settleDexFundsIx=function(e,t,r){let n=o.exchange.markets.getMarket(e),i={state:o.exchange.stateAddress,market:n.address,zetaBaseVault:n.baseVault,zetaQuoteVault:n.quoteVault,dexBaseVault:n.serumMarket.decoded.baseVault,dexQuoteVault:n.serumMarket.decoded.quoteVault,vaultOwner:t,mintAuthority:o.exchange.mintAuthority,serumAuthority:o.exchange.serumAuthority,dexProgram:h.DEX_PID[o.exchange.network],tokenProgram:u.TOKEN_PROGRAM_ID},s=[{pubkey:r,isSigner:!1,isWritable:!0}];return o.exchange.program.instruction.settleDexFunds({accounts:i,remainingAccounts:s})},t.burnVaultTokenTx=function(e){let t=o.exchange.markets.getMarket(e),r=new a.Transaction;return r.add(o.exchange.program.instruction.burnVaultTokens({accounts:{state:o.exchange.stateAddress,mint:t.serumMarket.decoded.quoteMint,vault:t.quoteVault,serumAuthority:o.exchange.serumAuthority,tokenProgram:u.TOKEN_PROGRAM_ID}})),r.add(o.exchange.program.instruction.burnVaultTokens({accounts:{state:o.exchange.stateAddress,mint:t.serumMarket.decoded.baseMint,vault:t.baseVault,serumAuthority:o.exchange.serumAuthority,tokenProgram:u.TOKEN_PROGRAM_ID}})),r},t.toggleMarketMakerIx=async function(e,t,r){let[n,i]=await c.getMarginAccount(o.exchange.programId,t,r);return o.exchange.program.instruction.toggleMarketMaker(e,{accounts:{state:o.exchange.stateAddress,admin:o.exchange.state.admin,marginAccount:n}})}},8014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},11652:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateLongOptionMargin=t.calculateShortOptionMargin=t.calculateOptionMargin=t.calculateFutureMargin=t.calculateProductMargin=t.calculateOtmAmount=t.calculateLiquidationPrice=t.RiskCalculator=void 0;const n=r(75330),i=r(77762),s=r(57937),o=r(46417);function a(e,t,r){switch(e){case i.Kind.CALL:return Math.max(0,t-r);case i.Kind.PUT:return Math.max(0,r-t);default:throw Error("Unsupported kind for OTM amount.")}}function u(e,t){let r=n.exchange.markets.markets[e];if(null==r.strike)return null;let s=r.kind,a=r.strike,u=(0,o.convertNativeBNToDecimal)(n.exchange.greeks.markPrices[e]);switch(s){case i.Kind.FUTURE:return c(t);case i.Kind.CALL:case i.Kind.PUT:return l(t,u,s,a)}}function c(e){let t=e*n.exchange.marginParams.futureMarginInitial,r=e*n.exchange.marginParams.futureMarginMaintenance;return{initialLong:t,initialShort:t,maintenanceLong:r,maintenanceShort:r}}function l(e,t,r,s){let o=a(r,s,e),u=h(e,t,i.MarginType.INITIAL),c=d(e,o,i.MarginType.INITIAL),l=h(e,t,i.MarginType.MAINTENANCE),p=d(e,o,i.MarginType.MAINTENANCE);return{initialLong:u,initialShort:r==i.Kind.PUT?Math.min(c,n.exchange.marginParams.optionShortPutCapPercentage*s):c,maintenanceLong:l,maintenanceShort:r==i.Kind.PUT?Math.min(p,n.exchange.marginParams.optionShortPutCapPercentage*s):p}}function d(e,t,r){let s=e*((r==i.MarginType.INITIAL?n.exchange.marginParams.optionDynamicPercentageShortInitial:n.exchange.marginParams.optionDynamicPercentageShortMaintenance)-t/e),o=e*(r==i.MarginType.INITIAL?n.exchange.marginParams.optionSpotPercentageShortInitial:n.exchange.marginParams.optionSpotPercentageShortMaintenance);return Math.max(s,o)}function h(e,t,r){let s=r==i.MarginType.INITIAL?n.exchange.marginParams.optionMarkPercentageLongInitial:n.exchange.marginParams.optionMarkPercentageLongMaintenance,o=r==i.MarginType.INITIAL?n.exchange.marginParams.optionSpotPercentageLongInitial:n.exchange.marginParams.optionSpotPercentageLongMaintenance;return Math.min(t*s,e*o)}t.RiskCalculator=class{constructor(){this._marginRequirements=new Array(s.ACTIVE_MARKETS)}get marginRequirement(){return this._marginRequirements}updateMarginRequirements(){if(void 0===n.exchange.greeks||void 0===n.exchange.oracle)return;let e=n.exchange.oracle.getPrice("SOL/USD"),t=null===e?0:e.price;for(var r=0;r<this._marginRequirements.length;r++)this._marginRequirements[r]=u(r,t)}getMarginRequirement(e,t,r){return null===this._marginRequirements[e]?0:t>0?r==i.MarginType.INITIAL?t*this._marginRequirements[e].initialLong:t*this._marginRequirements[e].maintenanceLong:r==i.MarginType.INITIAL?Math.abs(t)*this._marginRequirements[e].initialShort:Math.abs(t)*this._marginRequirements[e].maintenanceShort}calculateOpeningSize(e,t,r){if(e>0&&t>0||e<0&&t<0)return e;let n=Math.min(Math.abs(e),Math.abs(t)-r);return(e>=0?1:-1)*(Math.abs(e)-n)}calculateUnrealizedPnl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.ProgramAccountType.MarginAccount,r=0;for(var a=0;a<s.ACTIVE_MARKETS;a++){const s=t==i.ProgramAccountType.MarginAccount?e.productLedgers[a].position:e.positions[a],u=s.size.toNumber();0!=u&&(r+=u>0?(0,o.convertNativeLotSizeToDecimal)(u)*(0,o.convertNativeBNToDecimal)(n.exchange.greeks.markPrices[a])-(0,o.convertNativeBNToDecimal)(s.costOfTrades):(0,o.convertNativeLotSizeToDecimal)(u)*(0,o.convertNativeBNToDecimal)(n.exchange.greeks.markPrices[a])+(0,o.convertNativeBNToDecimal)(s.costOfTrades))}return r}calculateTotalInitialMargin(e){let t=(0,i.isMarketMaker)(e),r=0;for(var s=0;s<e.productLedgers.length;s++){let a=e.productLedgers[s],u=a.position.size.toNumber(),c=a.orderState.openingOrders[0].toNumber(),l=a.orderState.openingOrders[1].toNumber();if(0==c&&0==l&&0==u)continue;let d=(0,o.convertNativeLotSizeToDecimal)(c),h=(0,o.convertNativeLotSizeToDecimal)(l);t||(u>0?d+=Math.abs((0,o.convertNativeLotSizeToDecimal)(u)):u<0&&(h+=Math.abs((0,o.convertNativeLotSizeToDecimal)(u))));let p=this.getMarginRequirement(s,d,i.MarginType.INITIAL)+this.getMarginRequirement(s,-h,i.MarginType.INITIAL);t&&(p*=n.exchange.state.marginConcessionPercentage/100,p+=this.getMarginRequirement(s,(0,o.convertNativeLotSizeToDecimal)(u),i.MarginType.MAINTENANCE)),void 0!==p&&(r+=p)}return r}calculateTotalMaintenanceMargin(e){let t=0;for(var r=0;r<e.productLedgers.length;r++){let n=e.productLedgers[r].position.size.toNumber();if(0==n)continue;let s=this.getMarginRequirement(r,(0,o.convertNativeLotSizeToDecimal)(n),i.MarginType.MAINTENANCE);void 0!==s&&(t+=s)}return t}calculateTotalMaintenanceMarginIncludingOrders(e){let t=0;for(var r=0;r<e.productLedgers.length;r++){let n=e.productLedgers[r],s=n.position.size.toNumber(),a=n.orderState.openingOrders[0].toNumber(),u=n.orderState.openingOrders[1].toNumber();if(0==a&&0==u&&0==s)continue;let c=(0,o.convertNativeLotSizeToDecimal)(a),l=(0,o.convertNativeLotSizeToDecimal)(u);s>0?c+=Math.abs((0,o.convertNativeLotSizeToDecimal)(s)):s<0&&(l+=Math.abs((0,o.convertNativeLotSizeToDecimal)(s)));let d=this.getMarginRequirement(r,c,i.MarginType.MAINTENANCE)+this.getMarginRequirement(r,-l,i.MarginType.MAINTENANCE);void 0!==d&&(t+=d)}return t}getMarginAccountState(e){let t=(0,o.convertNativeBNToDecimal)(e.balance),r=this.calculateUnrealizedPnl(e),n=this.calculateTotalInitialMargin(e),i=this.calculateTotalMaintenanceMargin(e);return{balance:t,initialMargin:n,maintenanceMargin:i,unrealizedPnl:r,availableBalanceInitial:t+r-n,availableBalanceMaintenance:t+r-i}}},t.calculateLiquidationPrice=function(e,t,r,n,i){return 0==i?0:n-(e-t+r)/i},t.calculateOtmAmount=a,t.calculateProductMargin=u,t.calculateFutureMargin=c,t.calculateOptionMargin=l,t.calculateShortOptionMargin=d,t.calculateLongOptionMargin=h},19187:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeProgramAccounts=void 0;const o=r(75330),a=s(r(50794)),u=s(r(68532));t.subscribeProgramAccounts=function(e,t){const r=a.BorshAccountsCoder.accountDiscriminator(e),n=o.exchange.connection.onProgramAccountChange(o.exchange.programId,(async(r,n)=>{let i=o.exchange.program.account.marginAccount.coder.accounts.decode(e,r.accountInfo.data);t({key:r.accountId,account:i,context:n})}),"confirmed",[{memcmp:{offset:0,bytes:u.encode(r)}}]);o.exchange.addProgramSubscriptionId(n)}},77762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMarketMaker=t.fromProgramMarginAccountType=t.MarginAccountType=t.toProgramMovementType=t.MovementType=t.ProgramAccountType=t.MarginType=t.positionEquals=t.orderEquals=t.toProductKind=t.Kind=t.fromProgramSide=t.toProgramSide=t.Side=t.toProgramOrderType=t.OrderType=t.DummyWallet=void 0;const n=r(46417);var i,s,o,a,u;function c(e){if((0,n.objectEquals)(e,{normal:{}}))return u.NORMAL;if((0,n.objectEquals)(e,{marketMaker:{}}))return u.MARKET_MAKER;throw Error("Invalid margin account type")}t.DummyWallet=class{constructor(){}async signTransaction(e){throw Error("Not supported by dummy wallet!")}async signAllTransactions(e){throw Error("Not supported by dummy wallet!")}get publicKey(){throw Error("Not supported by dummy wallet!")}},function(e){e[e.LIMIT=0]="LIMIT",e[e.POSTONLY=1]="POSTONLY",e[e.FILLORKILL=2]="FILLORKILL"}(i=t.OrderType||(t.OrderType={})),t.toProgramOrderType=function(e){return e==i.LIMIT?{limit:{}}:e==i.POSTONLY?{postOnly:{}}:e==i.FILLORKILL?{fillOrKill:{}}:void 0},function(e){e[e.BID=0]="BID",e[e.ASK=1]="ASK"}(s=t.Side||(t.Side={})),t.toProgramSide=function(e){if(e==s.BID)return{bid:{}};if(e==s.ASK)return{ask:{}};throw Error("Invalid side")},t.fromProgramSide=function(e){if((0,n.objectEquals)(e,{bid:{}}))return s.BID;if((0,n.objectEquals)(e,{ask:{}}))return s.ASK;throw Error("Invalid program side!")},function(e){e.UNINITIALIZED="uninitialized",e.CALL="call",e.PUT="put",e.FUTURE="future"}(o=t.Kind||(t.Kind={})),t.toProductKind=function(e){if(Object.keys(e).includes(o.CALL))return o.CALL;if(Object.keys(e).includes(o.PUT))return o.PUT;if(Object.keys(e).includes(o.FUTURE))return o.FUTURE;throw Error("Invalid product type")},t.orderEquals=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!0;return r&&(n=e.orderId.eq(t.orderId)),e.marketIndex===t.marketIndex&&e.market.equals(t.market)&&e.price===t.price&&e.size===t.size&&e.side===t.side&&n},t.positionEquals=function(e,t){return e.marketIndex===t.marketIndex&&e.market.equals(t.market)&&e.size===t.size&&e.costOfTrades===t.costOfTrades},function(e){e.INITIAL="initial",e.MAINTENANCE="maintenance"}(t.MarginType||(t.MarginType={})),function(e){e.MarginAccount="MarginAccount",e.SpreadAccount="SpreadAccount"}(t.ProgramAccountType||(t.ProgramAccountType={})),function(e){e[e.LOCK=1]="LOCK",e[e.UNLOCK=2]="UNLOCK"}(a=t.MovementType||(t.MovementType={})),t.toProgramMovementType=function(e){if(e==a.LOCK)return{lock:{}};if(e==a.UNLOCK)return{unlock:{}};throw Error("Invalid side")},function(e){e[e.NORMAL=0]="NORMAL",e[e.MARKET_MAKER=1]="MARKET_MAKER"}(u=t.MarginAccountType||(t.MarginAccountType={})),t.fromProgramMarginAccountType=c,t.isMarketMaker=function(e){return c(e.accountType)==u.MARKET_MAKER}},46417:function(e,t,r){"use strict";var n=r(69314).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getOrderedMarketIndexes=t.sleep=t.splitIxsIntoTx=t.getPriceFromSerumOrderKey=t.getClockData=t.parseError=t.processTransaction=t.simulateTransaction=t.commitmentConfig=t.defaultCommitment=t.getAssociatedTokenAddress=t.getTokenAccountInfo=t.getTokenMint=t.convertDecimalToNativeLotSize=t.convertNativeLotSizeToDecimal=t.convertNativeBNToDecimal=t.convertNativeIntegerToDecimal=t.getTradeEventPrice=t.convertDecimalToNativeInteger=t.sortMarketKeys=t.sortOpenOrderKeys=t.getSerumVaultOwnerAndNonce=t.getReferralAccountAddress=t.getReferrerAccountAddress=t.getSocializedLossAccount=t.getMarketUninitialized=t.getSpreadAccount=t.getMarginAccount=t.getQuoteMint=t.getBaseMint=t.getMarketIndexes=t.getGreeks=t.getUnderlying=t.getZetaGroup=t.getUserWhitelistTradingFeesAccount=t.getUserWhitelistInsuranceAccount=t.getUserWhitelistDepositAccount=t.getUserInsuranceDepositAccount=t.getZetaInsuranceVault=t.getZetaVault=t.getSerumVault=t.getVault=t.getMintAuthority=t.getSerumAuthority=t.getOpenOrdersMap=t.createOpenOrdersAddress=t.getOpenOrders=t.getSettlement=t.getMarketNode=t.getState=void 0,t.objectEquals=t.calculateMovementFees=t.cancelExpiredOrdersAndCleanMarkets=t.burnVaultTokens=t.settleAndBurnVaultTokens=t.settleAndBurnVaultTokensByMarket=t.getAllOpenOrdersAccountsByMarket=t.getAllProgramAccountAddresses=t.writeKeypair=t.getCancelAllIxs=t.getMutMarketAccounts=t.getMostRecentExpiredIndex=t.expireSeries=t.crankMarket=t.settleUsers=t.cleanZetaMarketsHalted=t.cleanZetaMarkets=t.getNextStrikeInitialisationTs=t.getMarginFromOpenOrders=t.displayState=t.getGreeksIndex=t.getDirtySeriesIndices=void 0;const u=o(r(50794)),c=r(6057),l=r(84073),d=a(r(12324)),h=u.BN,p=o(r(68532)),f=o(r(15590)),g=o(r(57937)),m=r(27094),y=r(75330),b=r(77762),w=r(79158),k=r(28793),S=r(19798);async function A(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("settlement")),t.toBuffer(),r.toArrayLike(n,"le",8)],e)}async function I(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("open-orders")),g.DEX_PID[y.exchange.network].toBuffer(),t.toBuffer(),r.toBuffer()],e)}async function E(e,t){return await u.web3.PublicKey.findProgramAddress([t.toBuffer()],e)}async function _(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("margin")),t.toBuffer(),r.toBuffer()],e)}async function v(e,t){const r=new h(0);for(;r.toNumber()<255;)try{return[await c.PublicKey.createProgramAddress([e.toBuffer(),r.toArrayLike(n,"le",8)],t),r]}catch(i){r.iaddn(1)}throw new Error("Unable to find nonce")}function x(e){return e.sort(((e,t)=>e.toBuffer().swap64().compare(t.toBuffer().swap64())))}function T(e){return parseInt((e*Math.pow(10,g.PLATFORM_PRECISION)).toFixed(0))}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g.PLATFORM_PRECISION,r=new u.BN(Math.pow(10,t));return e.div(r).toNumber()+e.mod(r).toNumber()/r.toNumber()}function R(e){return e/Math.pow(10,g.POSITION_PRECISION)}async function O(e,t){let r=await e.getAccountInfo(t);if(null===r)throw Error(`Token account ${t.toString()} doesn't exist.`);if(r.data.length!=l.AccountLayout.span)throw new Error("Invalid account size");const i=n.from(r.data),s=l.AccountLayout.decode(i);return s.address=t,s.mint=new c.PublicKey(s.mint),s.owner=new c.PublicKey(s.owner),s.amount=l.u64.fromBuffer(s.amount),0===s.delegateOption?(s.delegate=null,s.delegatedAmount=new l.u64(0)):(s.delegate=new c.PublicKey(s.delegate),s.delegatedAmount=l.u64.fromBuffer(s.delegatedAmount)),s.isInitialized=0!==s.state,s.isFrozen=2===s.state,1===s.isNativeOption?(s.rentExemptReserve=l.u64.fromBuffer(s.isNative),s.isNative=!0):(s.rentExemptReserve=null,s.isNative=!1),0===s.closeAuthorityOption?s.closeAuthority=null:s.closeAuthority=new c.PublicKey(s.closeAuthority),s}function M(e){return{skipPreflight:!1,preflightCommitment:e,commitment:e}}async function B(e,t,r,n){const i=await e.connection.getRecentBlockhash();t.recentBlockhash=i.blockhash,t.feePayer=e.wallet.publicKey,t=await e.wallet.signTransaction(t),void 0===r&&(r=[]),r.filter((e=>void 0!==e)).forEach((e=>{t.partialSign(e)}));try{return await(0,c.sendAndConfirmRawTransaction)(e.connection,t.serialize(),n||M(e.connection.commitment))}catch(s){throw U(s)}}function U(e){const t=u.AnchorError.parse(e.logs);if(t)return m.NativeAnchorError.parse(t);const r=u.ProgramError.parse(e,m.idlErrors);if(r)return r;let n=(0,m.parseCustomError)(e);if(null!=n)return n;let i=m.NativeError.parse(e);if(null!=i)return i;if(e.simulationResponse){let t=u.AnchorError.parse(e.simulationResponse.logs);if(t)return m.NativeAnchorError.parse(t)}return e}t.getState=async function(e){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("state"))],e)},t.getMarketNode=async function(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("market-node")),t.toBuffer(),n.from([r])],e)},t.getSettlement=A,t.getOpenOrders=I,t.createOpenOrdersAddress=async function(e,t,r,i){return await c.PublicKey.createProgramAddress([n.from(u.utils.bytes.utf8.encode("open-orders")),g.DEX_PID[y.exchange.network].toBuffer(),t.toBuffer(),r.toBuffer(),n.from([i])],e)},t.getOpenOrdersMap=E,t.getSerumAuthority=async function(e){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("serum"))],e)},t.getMintAuthority=async function(e){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("mint-auth"))],e)},t.getVault=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("vault")),t.toBuffer()],e)},t.getSerumVault=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("serum-vault")),t.toBuffer()],e)},t.getZetaVault=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("zeta-vault")),t.toBuffer()],e)},t.getZetaInsuranceVault=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("zeta-insurance-vault")),t.toBuffer()],e)},t.getUserInsuranceDepositAccount=async function(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("user-insurance-deposit")),t.toBuffer(),r.toBuffer()],e)},t.getUserWhitelistDepositAccount=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("whitelist-deposit")),t.toBuffer()],e)},t.getUserWhitelistInsuranceAccount=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("whitelist-insurance")),t.toBuffer()],e)},t.getUserWhitelistTradingFeesAccount=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("whitelist-trading-fees")),t.toBuffer()],e)},t.getZetaGroup=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("zeta-group")),t.toBuffer()],e)},t.getUnderlying=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("underlying")),n.from([t])],e)},t.getGreeks=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("greeks")),t.toBuffer()],e)},t.getMarketIndexes=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("market-indexes")),t.toBuffer()],e)},t.getBaseMint=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("base-mint")),t.toBuffer()],e)},t.getQuoteMint=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("quote-mint")),t.toBuffer()],e)},t.getMarginAccount=_,t.getSpreadAccount=async function(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("spread")),t.toBuffer(),r.toBuffer()],e)},t.getMarketUninitialized=async function(e,t,r){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("market")),t.toBuffer(),n.from([r])],e)},t.getSocializedLossAccount=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("socialized-loss")),t.toBuffer()],e)},t.getReferrerAccountAddress=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("referrer")),t.toBuffer()],e)},t.getReferralAccountAddress=async function(e,t){return await u.web3.PublicKey.findProgramAddress([n.from(u.utils.bytes.utf8.encode("referral")),t.toBuffer()],e)},t.getSerumVaultOwnerAndNonce=v,t.sortOpenOrderKeys=x,t.sortMarketKeys=function(e){return e.sort(((e,t)=>e.toBuffer().compare(t.toBuffer())))},t.convertDecimalToNativeInteger=T,t.getTradeEventPrice=function(e){return P(e.costOfTrades)/R(e.size.toNumber())},t.convertNativeIntegerToDecimal=function(e){return e/Math.pow(10,g.PLATFORM_PRECISION)},t.convertNativeBNToDecimal=P,t.convertNativeLotSizeToDecimal=R,t.convertDecimalToNativeLotSize=function(e){return parseInt((e*Math.pow(10,g.POSITION_PRECISION)).toFixed(0))},t.getTokenMint=async function(e,t){let r=await O(e,t);return new c.PublicKey(r.mint)},t.getTokenAccountInfo=O,t.getAssociatedTokenAddress=async function(e,t){return(await c.PublicKey.findProgramAddress([t.toBuffer(),l.TOKEN_PROGRAM_ID.toBuffer(),e.toBuffer()],l.ASSOCIATED_TOKEN_PROGRAM_ID))[0]},t.defaultCommitment=function(){return{skipPreflight:!1,preflightCommitment:"confirmed",commitment:"confirmed"}},t.commitmentConfig=M,t.simulateTransaction=async function(e,t){let r;try{r=await e.simulate(t)}catch(o){throw U(o)}if(void 0===r)throw new Error("Unable to simulate transaction");const n=r.logs;if(!n)throw new Error("Simulated logs not found");let i=new u.EventParser(y.exchange.programId,y.exchange.program.coder),s=[];return i.parseLogs(r.logs,(e=>{s.push(e)})),{events:s,raw:n}},t.processTransaction=B,t.parseError=U;const N=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64";return d.default.blob(8,e)},L=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"int64";return d.default.blob(8,e)},z=d.default.struct([N("slot"),L("epochStartTimestamp"),N("epoch"),N("leaderScheduleEpoch"),L("unixTimestamp")]);function C(e){let t=Math.floor(e/g.PRODUCTS_PER_EXPIRY),r=e%g.PRODUCTS_PER_EXPIRY;return t*g.NUM_STRIKES+r%g.NUM_STRIKES}async function W(e,t){const[r,n]=await E(y.exchange.programId,e);let i=await y.exchange.program.account.openOrdersMap.fetch(r);const[s,o]=await _(y.exchange.programId,y.exchange.markets.markets[t].zetaGroup,i.userKey);return s}async function D(e){let t=[];for(var r=0;r<e.length;r+=g.CLEAN_MARKET_LIMIT){let n=new c.Transaction,i=e.slice(r,r+g.CLEAN_MARKET_LIMIT);n.add((0,w.cleanZetaMarketsIx)(i.flat())),t.push(n)}await Promise.all(t.map((async e=>{await B(y.exchange.provider,e)})))}function K(){return y.exchange.markets.frontExpiryIndex-1<0?g.ACTIVE_EXPIRIES-1:y.exchange.markets.frontExpiryIndex-1}async function F(){let e=new Map;for(var t=0;t<y.exchange.markets.markets.length;t++)e.set(t,[]);let r=await y.exchange.program.account.marginAccount.all();return await Promise.all(r.map((async t=>{let r=t.account;for(var n=0;n<y.exchange.markets.markets.length;n++){if(0==r.openOrdersNonce[n])continue;let[t,i]=await I(y.exchange.programId,y.exchange.markets.markets[n].address,r.authority);e.get(n).push(t)}}))),e}t.getClockData=function(e){let t=z.decode(e.data);return{timestamp:Number((0,S.readBigInt64LE)(t.unixTimestamp,0)),slot:Number((0,S.readBigInt64LE)(t.slot,0))}},t.getPriceFromSerumOrderKey=function(e){return e.ushrn(64)},t.splitIxsIntoTx=function(e,t){let r=[];for(var n=0;n<e.length;n+=t){let i=new c.Transaction,s=e.slice(n,n+t);for(let e=0;e<s.length;e++)i.add(s[e]);r.push(i)}return r},t.sleep=async function(e){await new Promise((t=>setTimeout(t,e,void 0)))},t.getOrderedMarketIndexes=function(){let e=Array.from(Array(y.exchange.zetaGroup.products.length).keys()),t=y.exchange.zetaGroup.frontExpiryIndex,r=(t+1)%2,n=t*g.PRODUCTS_PER_EXPIRY,i=r*g.PRODUCTS_PER_EXPIRY;return e=e.slice(n,n+g.PRODUCTS_PER_EXPIRY).concat(e.slice(i,i+g.PRODUCTS_PER_EXPIRY)),e},t.getDirtySeriesIndices=function(){let e=[];for(var t=0;t<y.exchange.zetaGroup.expirySeries.length;t++)y.exchange.zetaGroup.expirySeries[t].dirty&&e.push(t);return e},t.getGreeksIndex=C,t.displayState=function(){let e=[y.exchange.zetaGroup.frontExpiryIndex,K()];console.log("[EXCHANGE] Display market state...");for(var t=0;t<e.length;t++){let n=e[t],i=y.exchange.markets.expirySeries[n];console.log(`Expiration @ ${new Date(1e3*i.expiryTs)} Live: ${i.isLive()}`);let s=P(y.exchange.greeks.interestRate[n],g.PRICING_PRECISION);console.log(`Interest rate: ${s}`);let o=y.exchange.markets.getMarketsByExpiryIndex(n);for(var r=0;r<o.length;r++){let e=o[r],t=C(e.marketIndex),n=P(y.exchange.greeks.markPrices[e.marketIndex]),i=P(y.exchange.greeks.productGreeks[t].delta,g.PRICING_PRECISION),s=k.Decimal.fromAnchorDecimal(y.exchange.greeks.productGreeks[t].volatility).toNumber(),a=k.Decimal.fromAnchorDecimal(y.exchange.greeks.productGreeks[t].vega).toNumber();console.log(`[MARKET] INDEX: ${e.marketIndex} KIND: ${e.kind} STRIKE: ${e.strike} MARK_PRICE: ${n.toFixed(6)} DELTA: ${i.toFixed(2)} IV: ${s.toFixed(6)} VEGA: ${a.toFixed(6)}`)}}},t.getMarginFromOpenOrders=W,t.getNextStrikeInitialisationTs=function(){let e=y.exchange.markets.expirySeries[y.exchange.markets.frontExpiryIndex];if(!e.strikesInitialized)return e.activeTs-y.exchange.state.strikeInitializationThresholdSeconds;let t=0,r=y.exchange.markets.frontExpiryIndex;for(var n=0;n<y.exchange.markets.expirySeries.length;n++){if(r==y.exchange.markets.expirySeries.length&&(r=0),!y.exchange.markets.expirySeries[r].strikesInitialized)return y.exchange.markets.expirySeries[r].activeTs-y.exchange.state.strikeInitializationThresholdSeconds;t=Math.max(t,y.exchange.markets.expirySeries[r].expiryTs),r++}return t-y.exchange.state.strikeInitializationThresholdSeconds-y.exchange.state.newExpiryThresholdSeconds},t.cleanZetaMarkets=D,t.cleanZetaMarketsHalted=async function(e){let t=[];for(var r=0;r<e.length;r+=g.CLEAN_MARKET_LIMIT){let n=new c.Transaction,i=e.slice(r,r+g.CLEAN_MARKET_LIMIT);n.add((0,w.cleanZetaMarketsHaltedIx)(i.flat())),t.push(n)}await Promise.all(t.map((async e=>{await B(y.exchange.provider,e)})))},t.settleUsers=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.ProgramAccountType.MarginAccount,[n,i]=await A(y.exchange.programId,y.exchange.zetaGroup.underlyingMint,t),s=e.map((e=>({pubkey:e,isSigner:!1,isWritable:!0}))),o=[];for(var a=0;a<s.length;a+=g.MAX_SETTLEMENT_ACCOUNTS){let e=new c.Transaction,u=s.slice(a,a+g.MAX_SETTLEMENT_ACCOUNTS);e.add(r==b.ProgramAccountType.MarginAccount?(0,w.settlePositionsIx)(t,n,i,u):(0,w.settleSpreadPositionsIx)(t,n,i,u)),o.push(e)}await Promise.all(o.map((async e=>{let t=await B(y.exchange.provider,e);console.log(`Settling users - TxId: ${t}`)})))},t.crankMarket=async function(e,t){let r=y.exchange.markets.markets[e],n=await r.serumMarket.loadEventQueue(y.exchange.connection);if(0==n.length)return;const i=new Set;for(var s=0;s<n.length&&(i.add(n[s].openOrders.toString()),i.size!=g.CRANK_ACCOUNT_LIMIT);s++);const o=x([...i].map((e=>new c.PublicKey(e))));let a=new Array(2*o.length);await Promise.all(o.map((async(r,n)=>{let i;t&&!t.has(r)?(i=await W(r,e),t.set(r,i)):i=t&&t.has(r)?t.get(r):await W(r,e);let s=2*n;a[s]={pubkey:r,isSigner:!1,isWritable:!0},a[s+1]={pubkey:i,isSigner:!1,isWritable:!0}})));let u=(new c.Transaction).add((0,w.crankMarketIx)(r.address,r.serumMarket.decoded.eventQueue,g.DEX_PID[y.exchange.network],a));await B(y.exchange.provider,u)},t.expireSeries=async function(e){let[t,r]=await A(y.exchange.programId,y.exchange.zetaGroup.underlyingMint,e),n=y.exchange.program.instruction.expireSeries(r,{accounts:{state:y.exchange.stateAddress,zetaGroup:y.exchange.zetaGroupAddress,oracle:y.exchange.zetaGroup.oracle,settlementAccount:t,payer:y.exchange.provider.wallet.publicKey,systemProgram:c.SystemProgram.programId,greeks:y.exchange.zetaGroup.greeks}}),i=(new c.Transaction).add(n);await B(y.exchange.provider,i)},t.getMostRecentExpiredIndex=K,t.getMutMarketAccounts=function(e){let t=y.exchange.markets.markets[e];return[{pubkey:t.address,isSigner:!1,isWritable:!1},{pubkey:t.serumMarket.decoded.bids,isSigner:!1,isWritable:!1},{pubkey:t.serumMarket.decoded.asks,isSigner:!1,isWritable:!1}]},t.getCancelAllIxs=async function(e,t){let r=[];return await Promise.all(e.map((async e=>{const[n,i]=await E(y.exchange.programId,e.owner);let s=await y.exchange.program.account.openOrdersMap.fetch(n);const[o,a]=await _(y.exchange.programId,y.exchange.zetaGroupAddress,s.userKey);let u=t?(0,w.cancelExpiredOrderIx)(e.marketIndex,o,e.owner,e.orderId,e.side):(0,w.cancelOrderHaltedIx)(e.marketIndex,o,e.owner,e.orderId,e.side);r.push(u)}))),r},t.writeKeypair=async function(e,t){let r="["+t.secretKey.toString()+"]";f.writeFileSync(e,r)},t.getAllProgramAccountAddresses=async function(e){let t=await y.exchange.provider.connection.getProgramAccounts(y.exchange.programId,{commitment:y.exchange.provider.connection.commitment,dataSlice:{offset:0,length:0},filters:[{memcmp:{offset:0,bytes:p.encode(u.BorshAccountsCoder.accountDiscriminator(e))}}]}),r=[];for(let n=0;n<t.length;n++)r.push(t[n].pubkey);return r},t.getAllOpenOrdersAccountsByMarket=F,t.settleAndBurnVaultTokensByMarket=async function(e,t,r){console.log(`Burning tokens for market index ${r}`);let n=y.exchange.markets.markets[r],i=t.get(r).map((e=>({pubkey:e,isSigner:!1,isWritable:!0})));const[s,o]=await v(n.address,g.DEX_PID[y.exchange.network]);let a=(0,w.settleDexFundsTxs)(n.address,s,i);for(var u=0;u<a.length;u+=5){let t=a.slice(u,u+5);await Promise.all(t.map((async t=>{await B(e,t)})))}let c=(0,w.burnVaultTokenTx)(n.address);await B(e,c)},t.settleAndBurnVaultTokens=async function(e){let t=await F();for(var r=0;r<y.exchange.markets.markets.length;r++){console.log(`Burning tokens for market index ${r}`);let i=y.exchange.markets.markets[r],s=t.get(r).map((e=>({pubkey:e,isSigner:!1,isWritable:!0})));const[o,a]=await v(i.address,g.DEX_PID[y.exchange.network]);let u=(0,w.settleDexFundsTxs)(i.address,o,s);for(var n=0;n<u.length;n+=5){let t=u.slice(n,n+5);await Promise.all(t.map((async t=>{await B(e,t)})))}let c=(0,w.burnVaultTokenTx)(i.address);await B(e,c)}},t.burnVaultTokens=async function(e){for(var t=0;t<y.exchange.markets.markets.length;t++){console.log(`Burning tokens for market index ${t}`);let r=y.exchange.markets.markets[t],n=(0,w.burnVaultTokenTx)(r.address);await B(e,n)}},t.cancelExpiredOrdersAndCleanMarkets=async function(e){let t=y.exchange.markets.getMarketsByExpiryIndex(e),r=await Promise.all(t.map((async e=>(await e.cancelAllExpiredOrders(),[{pubkey:e.address,isSigner:!1,isWritable:!1},{pubkey:e.serumMarket.decoded.bids,isSigner:!1,isWritable:!1},{pubkey:e.serumMarket.decoded.asks,isSigner:!1,isWritable:!1}]))));await D(r)},t.calculateMovementFees=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=0;for(var s=0;s<e.length;s++)i+=R(Math.abs(e[s].size.toNumber()));let o=i*t,a=o*r/g.BPS_DENOMINATOR;return n?a:T(a)},t.objectEquals=function(e,t){return JSON.stringify(e)==JSON.stringify(t)}},84073:(e,t,r)=>{"use strict";r.r(t),r.d(t,{ASSOCIATED_TOKEN_PROGRAM_ID:()=>Vi,AccountLayout:()=>$i,MintLayout:()=>Yi,NATIVE_MINT:()=>Qi,TOKEN_PROGRAM_ID:()=>Gi,Token:()=>ts,u64:()=>Hi});var n=r(4942),i=r(48744),s=r.n(i),o=r(44967),a=r.n(o),u=r(60920),c=r(68532),l=r.n(c),d=r(78838),h=r(68706),p=r(25047),f=r(54338),g=(r(85606),r(32908),r(91747)),m=r.n(g),y=r(16348),b=r.n(y);const w=e=>u.lW.isBuffer(e)?e:e instanceof Uint8Array?u.lW.from(e.buffer,e.byteOffset,e.byteLength):u.lW.from(e);var k={},S={},A=I;function I(e,t){if(!e)throw new Error(t||"Assertion failed")}I.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var E={exports:{}};"function"===typeof Object.create?E.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:E.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var _=A,v=E.exports;function x(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function T(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function P(e){return 1===e.length?"0"+e:e}function R(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}S.inherits=v,S.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):x(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},S.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=P(e[r].toString(16));return t},S.htonl=T,S.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=T(i)),r+=R(i.toString(16))}return r},S.zero2=P,S.zero8=R,S.join32=function(e,t,r,n){var i=r-t;_(i%4===0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var u;u="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],s[o]=u>>>0}return s},S.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},S.rotr32=function(e,t){return e>>>t|e<<32-t},S.rotl32=function(e,t){return e<<t|e>>>32-t},S.sum32=function(e,t){return e+t>>>0},S.sum32_3=function(e,t,r){return e+t+r>>>0},S.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},S.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},S.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s},S.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},S.sum64_lo=function(e,t,r,n){return t+n>>>0},S.sum64_4_hi=function(e,t,r,n,i,s,o,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+s>>>0)<s?1:0,e+r+i+o+(u+=(c=c+a>>>0)<a?1:0)>>>0},S.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},S.sum64_5_hi=function(e,t,r,n,i,s,o,a,u,c){var l=0,d=t;return l+=(d=d+n>>>0)<t?1:0,l+=(d=d+s>>>0)<s?1:0,l+=(d=d+a>>>0)<a?1:0,e+r+i+o+u+(l+=(d=d+c>>>0)<c?1:0)>>>0},S.sum64_5_lo=function(e,t,r,n,i,s,o,a,u,c){return t+n+s+a+c>>>0},S.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},S.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},S.shr64_hi=function(e,t,r){return e>>>r},S.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var O={},M=S,B=A;function U(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}O.BlockHash=U,U.prototype.update=function(e,t){if(e=M.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=M.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},U.prototype.digest=function(e){return this.update(this._pad()),B(null===this.pending),this._digest(e)},U.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var N={},L={},z=S.rotr32;function C(e,t,r){return e&t^~e&r}function W(e,t,r){return e&t^e&r^t&r}function D(e,t,r){return e^t^r}L.ft_1=function(e,t,r,n){return 0===e?C(t,r,n):1===e||3===e?D(t,r,n):2===e?W(t,r,n):void 0},L.ch32=C,L.maj32=W,L.p32=D,L.s0_256=function(e){return z(e,2)^z(e,13)^z(e,22)},L.s1_256=function(e){return z(e,6)^z(e,11)^z(e,25)},L.g0_256=function(e){return z(e,7)^z(e,18)^e>>>3},L.g1_256=function(e){return z(e,17)^z(e,19)^e>>>10};var K=S,F=O,G=L,V=K.rotl32,j=K.sum32,q=K.sum32_5,Z=G.ft_1,H=F.BlockHash,X=[1518500249,1859775393,2400959708,3395469782];function J(){if(!(this instanceof J))return new J;H.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}K.inherits(J,H);var Q=J;J.blockSize=512,J.outSize=160,J.hmacStrength=80,J.padLength=64,J.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=V(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),l=q(V(i,5),Z(c,s,o,a),u,r[n],X[c]);u=a,a=o,o=V(s,30),s=i,i=l}this.h[0]=j(this.h[0],i),this.h[1]=j(this.h[1],s),this.h[2]=j(this.h[2],o),this.h[3]=j(this.h[3],a),this.h[4]=j(this.h[4],u)},J.prototype._digest=function(e){return"hex"===e?K.toHex32(this.h,"big"):K.split32(this.h,"big")};var Y=S,$=O,ee=L,te=A,re=Y.sum32,ne=Y.sum32_4,ie=Y.sum32_5,se=ee.ch32,oe=ee.maj32,ae=ee.s0_256,ue=ee.s1_256,ce=ee.g0_256,le=ee.g1_256,de=$.BlockHash,he=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function pe(){if(!(this instanceof pe))return new pe;de.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=he,this.W=new Array(64)}Y.inherits(pe,de);var fe=pe;pe.blockSize=512,pe.outSize=256,pe.hmacStrength=192,pe.padLength=64,pe.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=ne(le(r[n-2]),r[n-7],ce(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],d=this.h[7];for(te(this.k.length===r.length),n=0;n<r.length;n++){var h=ie(d,ue(u),se(u,c,l),this.k[n],r[n]),p=re(ae(i),oe(i,s,o));d=l,l=c,c=u,u=re(a,h),a=o,o=s,s=i,i=re(h,p)}this.h[0]=re(this.h[0],i),this.h[1]=re(this.h[1],s),this.h[2]=re(this.h[2],o),this.h[3]=re(this.h[3],a),this.h[4]=re(this.h[4],u),this.h[5]=re(this.h[5],c),this.h[6]=re(this.h[6],l),this.h[7]=re(this.h[7],d)},pe.prototype._digest=function(e){return"hex"===e?Y.toHex32(this.h,"big"):Y.split32(this.h,"big")};var ge=S,me=fe;function ye(){if(!(this instanceof ye))return new ye;me.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}ge.inherits(ye,me);var be=ye;ye.blockSize=512,ye.outSize=224,ye.hmacStrength=192,ye.padLength=64,ye.prototype._digest=function(e){return"hex"===e?ge.toHex32(this.h.slice(0,7),"big"):ge.split32(this.h.slice(0,7),"big")};var we=S,ke=O,Se=A,Ae=we.rotr64_hi,Ie=we.rotr64_lo,Ee=we.shr64_hi,_e=we.shr64_lo,ve=we.sum64,xe=we.sum64_hi,Te=we.sum64_lo,Pe=we.sum64_4_hi,Re=we.sum64_4_lo,Oe=we.sum64_5_hi,Me=we.sum64_5_lo,Be=ke.BlockHash,Ue=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ne(){if(!(this instanceof Ne))return new Ne;Be.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ue,this.W=new Array(160)}we.inherits(Ne,Be);var Le=Ne;function ze(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function Ce(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function We(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function De(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function Ke(e,t){var r=Ae(e,t,28)^Ae(t,e,2)^Ae(t,e,7);return r<0&&(r+=4294967296),r}function Fe(e,t){var r=Ie(e,t,28)^Ie(t,e,2)^Ie(t,e,7);return r<0&&(r+=4294967296),r}function Ge(e,t){var r=Ae(e,t,14)^Ae(e,t,18)^Ae(t,e,9);return r<0&&(r+=4294967296),r}function Ve(e,t){var r=Ie(e,t,14)^Ie(e,t,18)^Ie(t,e,9);return r<0&&(r+=4294967296),r}function je(e,t){var r=Ae(e,t,1)^Ae(e,t,8)^Ee(e,t,7);return r<0&&(r+=4294967296),r}function qe(e,t){var r=Ie(e,t,1)^Ie(e,t,8)^_e(e,t,7);return r<0&&(r+=4294967296),r}function Ze(e,t){var r=Ae(e,t,19)^Ae(t,e,29)^Ee(e,t,6);return r<0&&(r+=4294967296),r}function He(e,t){var r=Ie(e,t,19)^Ie(t,e,29)^_e(e,t,6);return r<0&&(r+=4294967296),r}Ne.blockSize=1024,Ne.outSize=512,Ne.hmacStrength=192,Ne.padLength=128,Ne.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=Ze(r[n-4],r[n-3]),s=He(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],u=je(r[n-30],r[n-29]),c=qe(r[n-30],r[n-29]),l=r[n-32],d=r[n-31];r[n]=Pe(i,s,o,a,u,c,l,d),r[n+1]=Re(i,s,o,a,u,c,l,d)}},Ne.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],d=this.h[8],h=this.h[9],p=this.h[10],f=this.h[11],g=this.h[12],m=this.h[13],y=this.h[14],b=this.h[15];Se(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var k=y,S=b,A=Ge(d,h),I=Ve(d,h),E=ze(d,h,p,f,g),_=Ce(d,h,p,f,g,m),v=this.k[w],x=this.k[w+1],T=r[w],P=r[w+1],R=Oe(k,S,A,I,E,_,v,x,T,P),O=Me(k,S,A,I,E,_,v,x,T,P);k=Ke(n,i),S=Fe(n,i),A=We(n,i,s,o,a),I=De(n,i,s,o,a,u);var M=xe(k,S,A,I),B=Te(k,S,A,I);y=g,b=m,g=p,m=f,p=d,f=h,d=xe(c,l,R,O),h=Te(l,l,R,O),c=a,l=u,a=s,u=o,s=n,o=i,n=xe(R,O,M,B),i=Te(R,O,M,B)}ve(this.h,0,n,i),ve(this.h,2,s,o),ve(this.h,4,a,u),ve(this.h,6,c,l),ve(this.h,8,d,h),ve(this.h,10,p,f),ve(this.h,12,g,m),ve(this.h,14,y,b)},Ne.prototype._digest=function(e){return"hex"===e?we.toHex32(this.h,"big"):we.split32(this.h,"big")};var Xe=S,Je=Le;function Qe(){if(!(this instanceof Qe))return new Qe;Je.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Xe.inherits(Qe,Je);var Ye=Qe;Qe.blockSize=1024,Qe.outSize=384,Qe.hmacStrength=192,Qe.padLength=128,Qe.prototype._digest=function(e){return"hex"===e?Xe.toHex32(this.h.slice(0,12),"big"):Xe.split32(this.h.slice(0,12),"big")},N.sha1=Q,N.sha224=be,N.sha256=fe,N.sha384=Ye,N.sha512=Le;var $e={},et=S,tt=O,rt=et.rotl32,nt=et.sum32,it=et.sum32_3,st=et.sum32_4,ot=tt.BlockHash;function at(){if(!(this instanceof at))return new at;ot.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function ut(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function ct(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function lt(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}et.inherits(at,ot),$e.ripemd160=at,at.blockSize=512,at.outSize=160,at.hmacStrength=192,at.padLength=64,at.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,u=n,c=i,l=s,d=o,h=0;h<80;h++){var p=nt(rt(st(r,ut(h,n,i,s),e[dt[h]+t],ct(h)),pt[h]),o);r=o,o=s,s=rt(i,10),i=n,n=p,p=nt(rt(st(a,ut(79-h,u,c,l),e[ht[h]+t],lt(h)),ft[h]),d),a=d,d=l,l=rt(c,10),c=u,u=p}p=it(this.h[1],i,l),this.h[1]=it(this.h[2],s,d),this.h[2]=it(this.h[3],o,a),this.h[3]=it(this.h[4],r,u),this.h[4]=it(this.h[0],n,c),this.h[0]=p},at.prototype._digest=function(e){return"hex"===e?et.toHex32(this.h,"little"):et.split32(this.h,"little")};var dt=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ht=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],pt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ft=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],gt=S,mt=A;function yt(e,t,r){if(!(this instanceof yt))return new yt(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(gt.toArray(t,r))}var bt=yt;yt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),mt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},yt.prototype.update=function(e,t){return this.inner.update(e,t),this},yt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=S,t.common=O,t.sha=N,t.ripemd=$e,t.hmac=bt,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(k);var wt=k;let kt=!1,St=!1;const At={debug:1,default:2,info:2,warning:3,error:4,off:5};let It=At.default,Et=null;const _t=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var vt,xt;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(vt||(vt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(xt||(xt={}));const Tt="0123456789abcdef";class Pt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==At[r]&&this.throwArgumentError("invalid log level name","logLevel",e),It>At[r]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Pt.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Pt.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Pt.levels.WARNING,t)}makeError(e,t,r){if(St)return this.makeError("censored error",t,{});t||(t=Pt.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=Tt[t[e]>>4],r+=Tt[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(o){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;let s="";switch(t){case xt.NUMERIC_FAULT:{s="NUMERIC_FAULT";const t=e;switch(t){case"overflow":case"underflow":case"division-by-zero":s+="-"+t;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case xt.CALL_EXCEPTION:case xt.INSUFFICIENT_FUNDS:case xt.MISSING_NEW:case xt.NONCE_EXPIRED:case xt.REPLACEMENT_UNDERPRICED:case xt.TRANSACTION_REPLACED:case xt.UNPREDICTABLE_GAS_LIMIT:s=t}s&&(e+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(e+=" ("+n.join(", ")+")");const o=new Error(e);return o.reason=i,o.code=t,Object.keys(r).forEach((function(e){o[e]=r[e]})),o}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Pt.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){_t&&this.throwError("platform missing String.prototype.normalize",Pt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:_t})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Pt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Pt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Pt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Pt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Pt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Pt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Pt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return Et||(Et=new Pt("logger/5.6.0")),Et}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Pt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),kt){if(!e)return;this.globalLogger().throwError("error censorship permanent",Pt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}St=!!e,kt=!!t}static setLogLevel(e){const t=At[e.toLowerCase()];null!=t?It=t:Pt.globalLogger().warn("invalid log level - "+e)}static from(e){return new Pt(e)}}Pt.errors=xt,Pt.levels=vt;const Rt=new Pt("bytes/5.6.0");function Ot(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Ot(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Mt(e){return"number"===typeof e&&e==e&&e%1===0}function Bt(e,t){if(t||(t={}),"number"===typeof e){Rt.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Ot(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":Rt.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return Ot(new Uint8Array(n))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Mt(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Mt(r)||r<0||r>=256)return!1}return!0}(e)?Ot(new Uint8Array(e)):Rt.throwArgumentError("invalid arrayify value","value",e)}function Ut(e){return"0x"+wt.sha256().update(Bt(e)).digest("hex")}new Pt("sha2/5.6.0");class Nt{constructor(e){Object.assign(this,e)}encode(){return u.lW.from((0,d.serialize)(Lt,this))}static decode(e){return(0,d.deserialize)(Lt,this,e)}static decodeUnchecked(e){return(0,d.deserializeUnchecked)(Lt,this,e)}}const Lt=new Map;class zt extends Nt{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=l().decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new(s())(t)}else this._bn=new(s())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return l().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(u.lW);if(32===e.length)return e;const t=u.lW.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=u.lW.concat([e.toBuffer(),u.lW.from(t),r.toBuffer()]),i=Ut(new Uint8Array(n)).slice(2);return new zt(u.lW.from(i,"hex"))}static createProgramAddressSync(e,t){let r=u.lW.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=u.lW.concat([r,w(e)])})),r=u.lW.concat([r,t.toBuffer(),u.lW.from("ProgramDerivedAddress")]);let n=Ut(new Uint8Array(r)).slice(2),i=new(s())(n,16).toArray(void 0,32);if(Wt(i))throw new Error("Invalid seeds, address must fall off the curve");return new zt(i)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(u.lW.from([n]));r=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return 1==Wt(new zt(e).toBytes())}}zt.default=new zt("11111111111111111111111111111111"),Lt.set(zt,{kind:"struct",fields:[["_bn","u256"]]});let Ct=a().lowlevel;function Wt(e){var t=[Ct.gf(),Ct.gf(),Ct.gf(),Ct.gf()],r=Ct.gf(),n=Ct.gf(),i=Ct.gf(),s=Ct.gf(),o=Ct.gf(),a=Ct.gf(),u=Ct.gf();return Ct.set25519(t[2],Dt),Ct.unpack25519(t[1],e),Ct.S(i,t[1]),Ct.M(s,i,Ct.D),Ct.Z(i,i,t[2]),Ct.A(s,t[2],s),Ct.S(o,s),Ct.S(a,o),Ct.M(u,a,o),Ct.M(r,u,i),Ct.M(r,r,s),Ct.pow2523(r,r),Ct.M(r,r,i),Ct.M(r,r,s),Ct.M(r,r,s),Ct.M(t[0],r,s),Ct.S(n,t[0]),Ct.M(n,n,s),Ft(n,i)&&Ct.M(t[0],t[0],Kt),Ct.S(n,t[0]),Ct.M(n,n,s),Ft(n,i)?0:1}let Dt=Ct.gf([1]),Kt=Ct.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Ft(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return Ct.pack25519(r,e),Ct.pack25519(n,t),Ct.crypto_verify_32(r,0,n,0)}const Gt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return p.Ik(32,e)},Vt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=p.n_([p.Jq("length"),p.Jq("lengthPadding"),p.Ik(p.cv(p.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(e,t)=>r(e,t).chars.toString(),i.encode=(e,t,r)=>{const i={chars:u.lW.from(e,"utf8")};return n(i,t,r)},i.alloc=e=>p.Jq().span+p.Jq().span+u.lW.from(e,"utf8").length,i};const jt=(qt=8,e=>{const t=(0,p.Ik)(qt,e),{encode:r,decode:n}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const r=n(e,t);return(0,h.oU)(u.lW.from(r))},i.encode=(e,t,n)=>{const i=(0,h.k$)(e,qt);return r(i,t,n)},i});var qt;function Zt(e,t){const r=e.layout.span>=0?e.layout.span:function(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"===typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}return 0};let n=0;return e.layout.fields.forEach((e=>{n+=r(e)})),n}(e,t),n=u.lW.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}const Ht=p._O("lamportsPerSignature"),Xt=p.n_([p.Jq("version"),p.Jq("state"),Gt("authorizedPubkey"),Gt("nonce"),p.n_([Ht],"feeCalculator")]),Jt=Xt.span;const Qt=new zt("SysvarC1ock11111111111111111111111111111111"),Yt=(new zt("SysvarEpochSchedu1e111111111111111111111111"),new zt("Sysvar1nstructions1111111111111111111111111"),new zt("SysvarRecentB1ockHashes11111111111111111111")),$t=new zt("SysvarRent111111111111111111111111111111111"),er=(new zt("SysvarRewards111111111111111111111111111111"),new zt("SysvarS1otHashes111111111111111111111111111"),new zt("SysvarS1otHistory11111111111111111111111111"),new zt("SysvarStakeHistory1111111111111111111111111")),tr=1232;function rr(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function nr(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}class ir{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new zt(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];nr(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(l().decode(e.data));let i=[];nr(i,t.length);let s=[];return nr(s,n.length),{programIdIndex:r,keyIndicesCount:u.lW.from(i),keyIndices:t,dataLength:u.lW.from(s),data:n}}));let n=[];nr(n,r.length);let i=u.lW.alloc(tr);u.lW.from(n).copy(i);let s=n.length;r.forEach((e=>{const t=p.n_([p.u8("programIdIndex"),p.Ik(e.keyIndicesCount.length,"keyIndicesCount"),p.A9(p.u8("keyIndex"),e.keyIndices.length,"keyIndices"),p.Ik(e.dataLength.length,"dataLength"),p.A9(p.u8("userdatum"),e.data.length,"data")]).encode(e,i,s);s+=t})),i=i.slice(0,s);const o=p.n_([p.Ik(1,"numRequiredSignatures"),p.Ik(1,"numReadonlySignedAccounts"),p.Ik(1,"numReadonlyUnsignedAccounts"),p.Ik(t.length,"keyCount"),p.A9(Gt("key"),e,"keys"),Gt("recentBlockhash")]),a={numRequiredSignatures:u.lW.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:u.lW.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:u.lW.from([this.header.numReadonlyUnsignedAccounts]),keyCount:u.lW.from(t),keys:this.accountKeys.map((e=>w(e.toBytes()))),recentBlockhash:l().decode(this.recentBlockhash)};let c=u.lW.alloc(2048);const d=o.encode(a,c);return i.copy(c,d),c.slice(0,d+i.length)}static from(e){let t=[...e];const r=t.shift(),n=t.shift(),i=t.shift(),s=rr(t);let o=[];for(let p=0;p<s;p++){const e=t.slice(0,32);t=t.slice(32),o.push(l().encode(u.lW.from(e)))}const a=t.slice(0,32);t=t.slice(32);const c=rr(t);let d=[];for(let p=0;p<c;p++){const e=t.shift(),r=rr(t),n=t.slice(0,r);t=t.slice(r);const i=rr(t),s=t.slice(0,i),o=l().encode(u.lW.from(s));t=t.slice(i),d.push({programIdIndex:e,accounts:n,data:o})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:l().encode(u.lW.from(a)),accountKeys:o,instructions:d};return new ir(h)}}function sr(e,t){if(!e)throw new Error(t||"Assertion failed")}let or;!function(e){e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT"}(or||(or={}));const ar=u.lW.alloc(64).fill(0);class ur{constructor(e){this.keys=void 0,this.programId=void 0,this.data=u.lW.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;return{pubkey:t.toJSON(),isSigner:r,isWritable:n}})),programId:this.programId.toJSON(),data:[...this.data]}}}class cr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((e=>{let{publicKey:t}=e;return t.toJSON()}))}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new ur(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let l=0;l<t.length;l++)if(void 0===t[l].programId)throw new Error(`Transaction instruction index ${l} has undefined program id`);const n=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new zt(e),isSigner:!1,isWritable:!1})}));const s=[];i.forEach((e=>{const t=e.pubkey.toString(),r=s.findIndex((e=>e.pubkey.toString()===t));r>-1?(s[r].isWritable=s[r].isWritable||e.isWritable,s[r].isSigner=s[r].isSigner||e.isSigner):s.push(e)})),s.sort((function(e,t){return e.isSigner!==t.isSigner?e.isSigner?-1:1:e.isWritable!==t.isWritable?e.isWritable?-1:1:e.pubkey.toBase58().localeCompare(t.pubkey.toBase58())}));const o=s.findIndex((e=>e.pubkey.equals(r)));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const l of this.signatures){const e=s.findIndex((e=>e.pubkey.equals(l.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${l.publicKey.toString()}`);s[e].isSigner||(s[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,c=0;const d=[],h=[];s.forEach((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;r?(d.push(t.toString()),a+=1,n||(u+=1)):(h.push(t.toString()),n||(c+=1))}));const p=d.concat(h),f=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:p.indexOf(r.toString()),accounts:e.keys.map((e=>p.indexOf(e.pubkey.toString()))),data:l().encode(t)}}));return f.forEach((e=>{sr(e.programIdIndex>=0),e.accounts.forEach((e=>sr(e>=0)))})),new ir({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:p,recentBlockhash:e,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const s=this._compile();this._partialSign(s,...i)}partialSign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}const s=this._compile();this._partialSign(s,...i)}_partialSign(e){const t=e.serialize();for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];n.forEach((e=>{const r=a().sign.detached(t,e.secretKey);this._addSignature(e.publicKey,w(r))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){sr(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=u.lW.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!a().sign.detached.verify(e,r,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];nr(r,t.length);const n=r.length+64*t.length+e.length,i=u.lW.alloc(n);return sr(t.length<256),u.lW.from(r).copy(i,0),t.forEach(((e,t)=>{let{signature:n}=e;null!==n&&(sr(64===n.length,"signature has invalid length"),u.lW.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),sr(i.length<=tr,`Transaction too large: ${i.length} > 1232`),i}get keys(){return sr(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return sr(1===this.instructions.length),this.instructions[0].programId}get data(){return sr(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=rr(t);let n=[];for(let i=0;i<r;i++){const e=t.slice(0,64);t=t.slice(64),n.push(l().encode(u.lW.from(e)))}return cr.populate(ir.from(t),n)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new cr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==l().encode(ar)?null:l().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new ur({keys:n,programId:e.accountKeys[t.programIdIndex],data:l().decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}const lr=Object.freeze({Create:{index:0,layout:p.n_([p.Jq("instruction"),p.gM("lamports"),p.gM("space"),Gt("programId")])},Assign:{index:1,layout:p.n_([p.Jq("instruction"),Gt("programId")])},Transfer:{index:2,layout:p.n_([p.Jq("instruction"),jt("lamports")])},CreateWithSeed:{index:3,layout:p.n_([p.Jq("instruction"),Gt("base"),Vt("seed"),p.gM("lamports"),p.gM("space"),Gt("programId")])},AdvanceNonceAccount:{index:4,layout:p.n_([p.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:p.n_([p.Jq("instruction"),p.gM("lamports")])},InitializeNonceAccount:{index:6,layout:p.n_([p.Jq("instruction"),Gt("authorized")])},AuthorizeNonceAccount:{index:7,layout:p.n_([p.Jq("instruction"),Gt("authorized")])},Allocate:{index:8,layout:p.n_([p.Jq("instruction"),p.gM("space")])},AllocateWithSeed:{index:9,layout:p.n_([p.Jq("instruction"),Gt("base"),Vt("seed"),p.gM("space"),Gt("programId")])},AssignWithSeed:{index:10,layout:p.n_([p.Jq("instruction"),Gt("base"),Vt("seed"),Gt("programId")])},TransferWithSeed:{index:11,layout:p.n_([p.Jq("instruction"),jt("lamports"),Vt("seed"),Gt("programId")])},UpgradeNonceAccount:{index:12,layout:p.n_([p.Jq("instruction")])}});class dr{constructor(){}static createAccount(e){const t=Zt(lr.Create,{lamports:e.lamports,space:e.space,programId:w(e.programId.toBuffer())});return new ur({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=Zt(lr.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:w(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=Zt(lr.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=Zt(lr.AssignWithSeed,{base:w(e.basePubkey.toBuffer()),seed:e.seed,programId:w(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Zt(lr.Assign,{programId:w(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=Zt(lr.CreateWithSeed,{base:w(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:w(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ur({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new cr;"basePubkey"in e&&"seed"in e?t.add(dr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:Jt,programId:this.programId})):t.add(dr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:Jt,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=Zt(lr.InitializeNonceAccount,{authorized:w(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Yt,isSigner:!1,isWritable:!1},{pubkey:$t,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new ur(r)}static nonceAdvance(e){const t=Zt(lr.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:Yt,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new ur(r)}static nonceWithdraw(e){const t=Zt(lr.WithdrawNonceAccount,{lamports:e.lamports});return new ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:Yt,isSigner:!1,isWritable:!1},{pubkey:$t,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=Zt(lr.AuthorizeNonceAccount,{authorized:w(e.newAuthorizedPubkey.toBuffer())});return new ur({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=Zt(lr.AllocateWithSeed,{base:w(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:w(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=Zt(lr.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ur({keys:r,programId:this.programId,data:t})}}dr.programId=new zt("11111111111111111111111111111111");const hr=Object.freeze({CreateLookupTable:{index:0,layout:p.n_([p.Jq("instruction"),jt("recentSlot"),p.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:p.n_([p.Jq("instruction")])},ExtendLookupTable:{index:2,layout:p.n_([p.Jq("instruction"),jt(),p.A9(Gt(),p.cv(p.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:p.n_([p.Jq("instruction")])},CloseLookupTable:{index:4,layout:p.n_([p.Jq("instruction")])}});class pr{constructor(){}static createLookupTable(e){const[t,r]=zt.findProgramAddressSync([e.authority.toBuffer(),(0,h.k$)(BigInt(e.recentSlot),8)],this.programId),n=Zt(hr.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:dr.programId,isSigner:!1,isWritable:!1}];return[new ur({programId:this.programId,keys:i,data:n}),t]}static freezeLookupTable(e){const t=Zt(hr.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ur({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=Zt(hr.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:dr.programId,isSigner:!1,isWritable:!1}),new ur({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=Zt(hr.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new ur({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=Zt(hr.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new ur({programId:this.programId,keys:r,data:t})}}pr.programId=new zt("AddressLookupTab1e1111111111111111111111111");new zt("BPFLoader1111111111111111111111111111111111");async function fr(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await e.sendTransaction(t,r,i),o=null!=t.recentBlockhash&&null!=t.lastValidBlockHeight?(await e.confirmTransaction({signature:s,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value:(await e.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function gr(e){return new Promise((t=>setTimeout(t,e)))}class mr{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/mr.chunkSize)+1+1)}static async load(e,t,r,n,i){{const s=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new cr,a.add(dr.allocate({accountPubkey:r.publicKey,space:i.length}))),o.owner.equals(n)||(a=a||new cr,a.add(dr.assign({accountPubkey:r.publicKey,programId:n}))),o.lamports<s&&(a=a||new cr,a.add(dr.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:s-o.lamports})))}else a=(new cr).add(dr.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:i.length,programId:n}));null!==a&&await fr(e,a,[t,r],{commitment:"confirmed"})}const s=p.n_([p.Jq("instruction"),p.Jq("offset"),p.Jq("bytesLength"),p.Jq("bytesLengthPadding"),p.A9(p.u8("byte"),p.cv(p.Jq(),-8),"bytes")]),o=mr.chunkSize;let a=0,c=i,l=[];for(;c.length>0;){const i=c.slice(0,o),d=u.lW.alloc(o+16);s.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},d);const h=(new cr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:d});if(l.push(fr(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await gr(1e3/e)}a+=o,c=c.slice(o)}await Promise.all(l);{const i=p.n_([p.Jq("instruction")]),s=u.lW.alloc(i.span);i.encode({instruction:1},s);const o=(new cr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:$t,isSigner:!1,isWritable:!1}],programId:n,data:s});await fr(e,o,[t,r],{commitment:"confirmed"})}return!0}}mr.chunkSize=932;new zt("BPFLoader2111111111111111111111111111111111");const yr=Object.freeze({RequestUnits:{index:0,layout:p.n_([p.u8("instruction"),p.Jq("units"),p.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:p.n_([p.u8("instruction"),p.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:p.n_([p.u8("instruction"),p.Jq("units")])},SetComputeUnitPrice:{index:3,layout:p.n_([p.u8("instruction"),jt("microLamports")])}});class br{constructor(){}static requestUnits(e){const t=Zt(yr.RequestUnits,e);return new ur({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=Zt(yr.RequestHeapFrame,e);return new ur({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=Zt(yr.SetComputeUnitLimit,e);return new ur({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=Zt(yr.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new ur({keys:[],programId:this.programId,data:t})}}br.programId=new zt("ComputeBudget111111111111111111111111111111");Object.prototype.toString,Object.keys;globalThis.URL;Error;Error;globalThis.fetch;class wr extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(wr.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class kr extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}var Sr;Object.defineProperty(kr.prototype,"name",{value:"TransactionExpiredTimeoutError"});const Ar=(0,f.oQ)((0,f.eE)(zt),(0,f.Z_)(),(e=>new zt(e))),Ir=(0,f.bc)([(0,f.Z_)(),(0,f.i0)("base64")]),Er=(0,f.oQ)((0,f.eE)(u.lW),Ir,(e=>u.lW.from(e[0],"base64")));function _r(e){return(0,f.G0)([(0,f.dt)({jsonrpc:(0,f.i0)("2.0"),id:(0,f.Z_)(),result:e}),(0,f.dt)({jsonrpc:(0,f.i0)("2.0"),id:(0,f.Z_)(),error:(0,f.dt)({code:(0,f._4)(),message:(0,f.Z_)(),data:(0,f.jt)((0,f.Yj)())})})])}const vr=_r((0,f._4)());function xr(e){return(0,f.oQ)(_r(e),vr,(t=>"error"in t?t:{...t,result:(0,f.Ue)(t.result,e)}))}function Tr(e){return xr((0,f.dt)({context:(0,f.dt)({slot:(0,f.Rx)()}),value:e}))}function Pr(e){return(0,f.dt)({context:(0,f.dt)({slot:(0,f.Rx)()}),value:e})}const Rr=(0,f.dt)({foundation:(0,f.Rx)(),foundationTerm:(0,f.Rx)(),initial:(0,f.Rx)(),taper:(0,f.Rx)(),terminal:(0,f.Rx)()}),Or=(xr((0,f.IX)((0,f.AG)((0,f.dt)({epoch:(0,f.Rx)(),effectiveSlot:(0,f.Rx)(),amount:(0,f.Rx)(),postBalance:(0,f.Rx)()})))),(0,f.dt)({epoch:(0,f.Rx)(),slotIndex:(0,f.Rx)(),slotsInEpoch:(0,f.Rx)(),absoluteSlot:(0,f.Rx)(),blockHeight:(0,f.jt)((0,f.Rx)()),transactionCount:(0,f.jt)((0,f.Rx)())})),Mr=(0,f.dt)({slotsPerEpoch:(0,f.Rx)(),leaderScheduleSlotOffset:(0,f.Rx)(),warmup:(0,f.O7)(),firstNormalEpoch:(0,f.Rx)(),firstNormalSlot:(0,f.Rx)()}),Br=(0,f.IM)((0,f.Z_)(),(0,f.IX)((0,f.Rx)())),Ur=(0,f.AG)((0,f.G0)([(0,f.dt)({}),(0,f.Z_)()])),Nr=(0,f.dt)({err:Ur}),Lr=(0,f.i0)("receivedSignature");(0,f.dt)({"solana-core":(0,f.Z_)(),"feature-set":(0,f.jt)((0,f.Rx)())}),Tr((0,f.dt)({err:(0,f.AG)((0,f.G0)([(0,f.dt)({}),(0,f.Z_)()])),logs:(0,f.AG)((0,f.IX)((0,f.Z_)())),accounts:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.AG)((0,f.dt)({executable:(0,f.O7)(),owner:(0,f.Z_)(),lamports:(0,f.Rx)(),data:(0,f.IX)((0,f.Z_)()),rentEpoch:(0,f.jt)((0,f.Rx)())}))))),unitsConsumed:(0,f.jt)((0,f.Rx)()),returnData:(0,f.jt)((0,f.AG)((0,f.dt)({programId:(0,f.Z_)(),data:(0,f.bc)([(0,f.Z_)(),(0,f.i0)("base64")])})))})),Tr((0,f.dt)({byIdentity:(0,f.IM)((0,f.Z_)(),(0,f.IX)((0,f.Rx)())),range:(0,f.dt)({firstSlot:(0,f.Rx)(),lastSlot:(0,f.Rx)()})}));xr(Rr),xr(Or),xr(Mr),xr(Br),xr((0,f.Rx)()),Tr((0,f.dt)({total:(0,f.Rx)(),circulating:(0,f.Rx)(),nonCirculating:(0,f.Rx)(),nonCirculatingAccounts:(0,f.IX)(Ar)}));const zr=(0,f.dt)({amount:(0,f.Z_)(),uiAmount:(0,f.AG)((0,f.Rx)()),decimals:(0,f.Rx)(),uiAmountString:(0,f.jt)((0,f.Z_)())}),Cr=(Tr((0,f.IX)((0,f.dt)({address:Ar,amount:(0,f.Z_)(),uiAmount:(0,f.AG)((0,f.Rx)()),decimals:(0,f.Rx)(),uiAmountString:(0,f.jt)((0,f.Z_)())}))),Tr((0,f.IX)((0,f.dt)({pubkey:Ar,account:(0,f.dt)({executable:(0,f.O7)(),owner:Ar,lamports:(0,f.Rx)(),data:Er,rentEpoch:(0,f.Rx)()})}))),(0,f.dt)({program:(0,f.Z_)(),parsed:(0,f._4)(),space:(0,f.Rx)()})),Wr=(Tr((0,f.IX)((0,f.dt)({pubkey:Ar,account:(0,f.dt)({executable:(0,f.O7)(),owner:Ar,lamports:(0,f.Rx)(),data:Cr,rentEpoch:(0,f.Rx)()})}))),Tr((0,f.IX)((0,f.dt)({lamports:(0,f.Rx)(),address:Ar}))),(0,f.dt)({executable:(0,f.O7)(),owner:Ar,lamports:(0,f.Rx)(),data:Er,rentEpoch:(0,f.Rx)()})),Dr=((0,f.dt)({pubkey:Ar,account:Wr}),(0,f.oQ)((0,f.G0)([(0,f.eE)(u.lW),Cr]),(0,f.G0)([Ir,Cr]),(e=>Array.isArray(e)?(0,f.Ue)(e,Er):e))),Kr=(0,f.dt)({executable:(0,f.O7)(),owner:Ar,lamports:(0,f.Rx)(),data:Dr,rentEpoch:(0,f.Rx)()}),Fr=((0,f.dt)({pubkey:Ar,account:Kr}),(0,f.dt)({state:(0,f.G0)([(0,f.i0)("active"),(0,f.i0)("inactive"),(0,f.i0)("activating"),(0,f.i0)("deactivating")]),active:(0,f.Rx)(),inactive:(0,f.Rx)()}),xr((0,f.IX)((0,f.dt)({signature:(0,f.Z_)(),slot:(0,f.Rx)(),err:Ur,memo:(0,f.AG)((0,f.Z_)()),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)()))}))),xr((0,f.IX)((0,f.dt)({signature:(0,f.Z_)(),slot:(0,f.Rx)(),err:Ur,memo:(0,f.AG)((0,f.Z_)()),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)()))}))),(0,f.dt)({subscription:(0,f.Rx)(),result:Pr(Wr)}),(0,f.dt)({pubkey:Ar,account:Wr})),Gr=((0,f.dt)({subscription:(0,f.Rx)(),result:Pr(Fr)}),(0,f.dt)({parent:(0,f.Rx)(),slot:(0,f.Rx)(),root:(0,f.Rx)()})),Vr=((0,f.dt)({subscription:(0,f.Rx)(),result:Gr}),(0,f.G0)([(0,f.dt)({type:(0,f.G0)([(0,f.i0)("firstShredReceived"),(0,f.i0)("completed"),(0,f.i0)("optimisticConfirmation"),(0,f.i0)("root")]),slot:(0,f.Rx)(),timestamp:(0,f.Rx)()}),(0,f.dt)({type:(0,f.i0)("createdBank"),parent:(0,f.Rx)(),slot:(0,f.Rx)(),timestamp:(0,f.Rx)()}),(0,f.dt)({type:(0,f.i0)("frozen"),slot:(0,f.Rx)(),timestamp:(0,f.Rx)(),stats:(0,f.dt)({numTransactionEntries:(0,f.Rx)(),numSuccessfulTransactions:(0,f.Rx)(),numFailedTransactions:(0,f.Rx)(),maxTransactionsPerEntry:(0,f.Rx)()})}),(0,f.dt)({type:(0,f.i0)("dead"),slot:(0,f.Rx)(),timestamp:(0,f.Rx)(),err:(0,f.Z_)()})])),jr=((0,f.dt)({subscription:(0,f.Rx)(),result:Vr}),(0,f.dt)({subscription:(0,f.Rx)(),result:Pr((0,f.G0)([Nr,Lr]))}),(0,f.dt)({subscription:(0,f.Rx)(),result:(0,f.Rx)()}),(0,f.dt)({pubkey:(0,f.Z_)(),gossip:(0,f.AG)((0,f.Z_)()),tpu:(0,f.AG)((0,f.Z_)()),rpc:(0,f.AG)((0,f.Z_)()),version:(0,f.AG)((0,f.Z_)())}),(0,f.dt)({votePubkey:(0,f.Z_)(),nodePubkey:(0,f.Z_)(),activatedStake:(0,f.Rx)(),epochVoteAccount:(0,f.O7)(),epochCredits:(0,f.IX)((0,f.bc)([(0,f.Rx)(),(0,f.Rx)(),(0,f.Rx)()])),commission:(0,f.Rx)(),lastVote:(0,f.Rx)(),rootSlot:(0,f.AG)((0,f.Rx)())})),qr=(xr((0,f.dt)({current:(0,f.IX)(jr),delinquent:(0,f.IX)(jr)})),(0,f.G0)([(0,f.i0)("processed"),(0,f.i0)("confirmed"),(0,f.i0)("finalized")])),Zr=(0,f.dt)({slot:(0,f.Rx)(),confirmations:(0,f.AG)((0,f.Rx)()),err:Ur,confirmationStatus:(0,f.jt)(qr)}),Hr=(Tr((0,f.IX)((0,f.AG)(Zr))),xr((0,f.Rx)()),(0,f.dt)({signatures:(0,f.IX)((0,f.Z_)()),message:(0,f.dt)({accountKeys:(0,f.IX)((0,f.Z_)()),header:(0,f.dt)({numRequiredSignatures:(0,f.Rx)(),numReadonlySignedAccounts:(0,f.Rx)(),numReadonlyUnsignedAccounts:(0,f.Rx)()}),instructions:(0,f.IX)((0,f.dt)({accounts:(0,f.IX)((0,f.Rx)()),data:(0,f.Z_)(),programIdIndex:(0,f.Rx)()})),recentBlockhash:(0,f.Z_)()})})),Xr=(0,f.dt)({parsed:(0,f._4)(),program:(0,f.Z_)(),programId:Ar}),Jr=(0,f.dt)({accounts:(0,f.IX)(Ar),data:(0,f.Z_)(),programId:Ar}),Qr=(0,f.G0)([Jr,Xr]),Yr=(0,f.G0)([(0,f.dt)({parsed:(0,f._4)(),program:(0,f.Z_)(),programId:(0,f.Z_)()}),(0,f.dt)({accounts:(0,f.IX)((0,f.Z_)()),data:(0,f.Z_)(),programId:(0,f.Z_)()})]),$r=(0,f.oQ)(Qr,Yr,(e=>"accounts"in e?(0,f.Ue)(e,Jr):(0,f.Ue)(e,Xr))),en=(0,f.dt)({signatures:(0,f.IX)((0,f.Z_)()),message:(0,f.dt)({accountKeys:(0,f.IX)((0,f.dt)({pubkey:Ar,signer:(0,f.O7)(),writable:(0,f.O7)()})),instructions:(0,f.IX)($r),recentBlockhash:(0,f.Z_)()})}),tn=(0,f.dt)({accountIndex:(0,f.Rx)(),mint:(0,f.Z_)(),owner:(0,f.jt)((0,f.Z_)()),uiTokenAmount:zr}),rn=(0,f.dt)({err:Ur,fee:(0,f.Rx)(),innerInstructions:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.dt)({index:(0,f.Rx)(),instructions:(0,f.IX)((0,f.dt)({accounts:(0,f.IX)((0,f.Rx)()),data:(0,f.Z_)(),programIdIndex:(0,f.Rx)()}))})))),preBalances:(0,f.IX)((0,f.Rx)()),postBalances:(0,f.IX)((0,f.Rx)()),logMessages:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.Z_)()))),preTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(tn))),postTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(tn)))}),nn=(0,f.dt)({err:Ur,fee:(0,f.Rx)(),innerInstructions:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.dt)({index:(0,f.Rx)(),instructions:(0,f.IX)($r)})))),preBalances:(0,f.IX)((0,f.Rx)()),postBalances:(0,f.IX)((0,f.Rx)()),logMessages:(0,f.jt)((0,f.AG)((0,f.IX)((0,f.Z_)()))),preTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(tn))),postTokenBalances:(0,f.jt)((0,f.AG)((0,f.IX)(tn)))}),sn=(xr((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),transactions:(0,f.IX)((0,f.dt)({transaction:Hr,meta:(0,f.AG)(rn)})),rewards:(0,f.jt)((0,f.IX)((0,f.dt)({pubkey:(0,f.Z_)(),lamports:(0,f.Rx)(),postBalance:(0,f.AG)((0,f.Rx)()),rewardType:(0,f.AG)((0,f.Z_)())}))),blockTime:(0,f.AG)((0,f.Rx)()),blockHeight:(0,f.AG)((0,f.Rx)())}))),xr((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),transactions:(0,f.IX)((0,f.dt)({transaction:Hr,meta:(0,f.AG)(rn)})),rewards:(0,f.jt)((0,f.IX)((0,f.dt)({pubkey:(0,f.Z_)(),lamports:(0,f.Rx)(),postBalance:(0,f.AG)((0,f.Rx)()),rewardType:(0,f.AG)((0,f.Z_)())}))),blockTime:(0,f.AG)((0,f.Rx)())}))),xr((0,f.AG)((0,f.dt)({blockhash:(0,f.Z_)(),previousBlockhash:(0,f.Z_)(),parentSlot:(0,f.Rx)(),signatures:(0,f.IX)((0,f.Z_)()),blockTime:(0,f.AG)((0,f.Rx)())}))),xr((0,f.AG)((0,f.dt)({slot:(0,f.Rx)(),meta:rn,blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)())),transaction:Hr}))),xr((0,f.AG)((0,f.dt)({slot:(0,f.Rx)(),transaction:en,meta:(0,f.AG)(nn),blockTime:(0,f.jt)((0,f.AG)((0,f.Rx)()))}))),Tr((0,f.dt)({blockhash:(0,f.Z_)(),feeCalculator:(0,f.dt)({lamportsPerSignature:(0,f.Rx)()})})),Tr((0,f.dt)({blockhash:(0,f.Z_)(),lastValidBlockHeight:(0,f.Rx)()})),(0,f.dt)({slot:(0,f.Rx)(),numTransactions:(0,f.Rx)(),numSlots:(0,f.Rx)(),samplePeriodSecs:(0,f.Rx)()})),on=(xr((0,f.IX)(sn)),Tr((0,f.AG)((0,f.dt)({feeCalculator:(0,f.dt)({lamportsPerSignature:(0,f.Rx)()})}))),xr((0,f.Z_)()),xr((0,f.Z_)()),(0,f.dt)({err:Ur,logs:(0,f.IX)((0,f.Z_)()),signature:(0,f.Z_)()}));(0,f.dt)({result:Pr(on),subscription:(0,f.Rx)()}),Sr="0.0.0-development";class an{constructor(e){this._keypair=void 0,this._keypair=e||a().sign.keyPair()}static generate(){return new an(a().sign.keyPair())}static fromSecretKey(e,t){const r=a().sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("@solana/web3.js-validation-v1"),t=a().sign.detached(e,r.secretKey);if(!a().sign.detached.verify(e,t,r.publicKey))throw new Error("provided secretKey is invalid")}return new an(r)}static fromSeed(e){return new an(a().sign.keyPair.fromSeed(e))}get publicKey(){return new zt(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const un=p.n_([p.u8("numSignatures"),p.u8("padding"),p.KB("signatureOffset"),p.KB("signatureInstructionIndex"),p.KB("publicKeyOffset"),p.KB("publicKeyInstructionIndex"),p.KB("messageDataOffset"),p.KB("messageDataSize"),p.KB("messageInstructionIndex")]);class cn{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;sr(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),sr(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const s=un.span,o=s+t.length,a=o+n.length,c=u.lW.alloc(a+r.length),l=null==i?65535:i;return un.encode({numSignatures:1,padding:0,signatureOffset:o,signatureInstructionIndex:l,publicKeyOffset:s,publicKeyInstructionIndex:l,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:l},c),c.fill(t,s),c.fill(n,o),c.fill(r,a),new ur({keys:[],programId:cn.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;sr(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=an.fromSecretKey(t),i=e.publicKey.toBytes(),s=a().sign.detached(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}cn.programId=new zt("Ed25519SigVerify111111111111111111111111111");const ln=new zt("StakeConfig11111111111111111111111111111111");class dn{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}dn.default=new dn(0,0,zt.default);const hn=Object.freeze({Initialize:{index:0,layout:p.n_([p.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return p.n_([Gt("staker"),Gt("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return p.n_([p.gM("unixTimestamp"),p.gM("epoch"),Gt("custodian")],e)}()])},Authorize:{index:1,layout:p.n_([p.Jq("instruction"),Gt("newAuthorized"),p.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:p.n_([p.Jq("instruction")])},Split:{index:3,layout:p.n_([p.Jq("instruction"),p.gM("lamports")])},Withdraw:{index:4,layout:p.n_([p.Jq("instruction"),p.gM("lamports")])},Deactivate:{index:5,layout:p.n_([p.Jq("instruction")])},Merge:{index:7,layout:p.n_([p.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:p.n_([p.Jq("instruction"),Gt("newAuthorized"),p.Jq("stakeAuthorizationType"),Vt("authoritySeed"),Gt("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class pn{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||dn.default,s=Zt(hn.Initialize,{authorized:{staker:w(r.staker.toBuffer()),withdrawer:w(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:w(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:$t,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new ur(o)}static createAccountWithSeed(e){const t=new cr;t.add(dr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new cr;t.add(dr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=Zt(hn.Delegate);return(new cr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:Qt,isSigner:!1,isWritable:!1},{pubkey:er,isSigner:!1,isWritable:!1},{pubkey:ln,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,o=Zt(hn.Authorize,{newAuthorized:w(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qt,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new cr).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,u=Zt(hn.AuthorizeWithSeed,{newAuthorized:w(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:w(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:Qt,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!1,isWritable:!1}),(new cr).add({keys:c,programId:this.programId,data:u})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=Zt(hn.Split,{lamports:i});return new ur({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}static split(e){const t=new cr;return t.add(dr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),t.add(this.splitInstruction(e))}static splitWithSeed(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,basePubkey:i,seed:s,lamports:o}=e,a=new cr;return a.add(dr.allocate({accountPubkey:n,basePubkey:i,seed:s,space:this.space,programId:this.programId})),a.add(this.splitInstruction({stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:o}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=Zt(hn.Merge);return(new cr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:Qt,isSigner:!1,isWritable:!1},{pubkey:er,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,o=Zt(hn.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:Qt,isSigner:!1,isWritable:!1},{pubkey:er,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new cr).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=Zt(hn.Deactivate);return(new cr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}pn.programId=new zt("Stake11111111111111111111111111111111111111"),pn.space=200;const{publicKeyCreate:fn,ecdsaSign:gn}=m(),mn=p.n_([p.u8("numSignatures"),p.KB("signatureOffset"),p.u8("signatureInstructionIndex"),p.KB("ethAddressOffset"),p.u8("ethAddressInstructionIndex"),p.KB("messageDataOffset"),p.KB("messageDataSize"),p.u8("messageInstructionIndex"),p.Ik(20,"ethAddress"),p.Ik(64,"signature"),p.u8("recoveryId")]);class yn{constructor(){}static publicKeyToEthAddress(e){sr(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return u.lW.from(b().keccak_256.update(w(e)).digest()).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return yn.createInstructionWithEthAddress({ethAddress:yn.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:s=0}=e;let o;o="string"===typeof t?t.startsWith("0x")?u.lW.from(t.substr(2),"hex"):u.lW.from(t,"hex"):t,sr(20===o.length,`Address must be 20 bytes but received ${o.length} bytes`);const a=12+o.length,c=a+n.length+1,l=u.lW.alloc(mn.span+r.length);return mn.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:s,ethAddressOffset:12,ethAddressInstructionIndex:s,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:s,signature:w(n),ethAddress:w(o),recoveryId:i},l),l.fill(w(r),mn.span),new ur({keys:[],programId:yn.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;sr(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=w(t),i=fn(e,!1).slice(1),s=u.lW.from(b().keccak_256.update(w(r)).digest()),{signature:o,recid:a}=gn(s,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,recoveryId:a,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}yn.programId=new zt("KeccakSecp256k11111111111111111111111111111");new zt("Va1idator1nfo111111111111111111111111111111"),(0,f.dt)({name:(0,f.Z_)(),website:(0,f.jt)((0,f.Z_)()),details:(0,f.jt)((0,f.Z_)()),keybaseUsername:(0,f.jt)((0,f.Z_)())});new zt("Vote111111111111111111111111111111111111111"),p.n_([Gt("nodePubkey"),Gt("authorizedWithdrawer"),p.u8("commission"),p._O(),p.A9(p.n_([p._O("slot"),p.Jq("confirmationCount")]),p.cv(p.Jq(),-8),"votes"),p.u8("rootSlotValid"),p._O("rootSlot"),p._O(),p.A9(p.n_([p._O("epoch"),Gt("authorizedVoter")]),p.cv(p.Jq(),-8),"authorizedVoters"),p.n_([p.A9(p.n_([Gt("authorizedPubkey"),p._O("epochOfLastAuthorizedSwitch"),p._O("targetEpoch")]),32,"buf"),p._O("idx"),p.u8("isEmpty")],"priorVoters"),p._O(),p.A9(p.n_([p._O("epoch"),p._O("credits"),p._O("prevCredits")]),p.cv(p.Jq(),-8),"epochCredits"),p.n_([p._O("slot"),p._O("timestamp")],"lastTimestamp")]);const bn=Object.freeze({InitializeAccount:{index:0,layout:p.n_([p.Jq("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"voteInit";return p.n_([Gt("nodePubkey"),Gt("authorizedVoter"),Gt("authorizedWithdrawer"),p.u8("commission")],e)}()])},Authorize:{index:1,layout:p.n_([p.Jq("instruction"),Gt("newAuthorized"),p.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:p.n_([p.Jq("instruction"),p.gM("lamports")])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class wn{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=Zt(bn.InitializeAccount,{voteInit:{nodePubkey:w(n.nodePubkey.toBuffer()),authorizedVoter:w(n.authorizedVoter.toBuffer()),authorizedWithdrawer:w(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:$t,isSigner:!1,isWritable:!1},{pubkey:Qt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new ur(s)}static createAccount(e){const t=new cr;return t.add(dr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,s=Zt(bn.Authorize,{newAuthorized:w(n.toBuffer()),voteAuthorizationType:i.index}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:Qt,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new cr).add({keys:o,programId:this.programId,data:s})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,s=Zt(bn.Withdraw,{lamports:n}),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new cr).add({keys:o,programId:this.programId,data:s})}}wn.programId=new zt("Vote111111111111111111111111111111111111111"),wn.space=3731;function kn(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}for(var Sn={},An={byteLength:function(e){var t=Pn(e),r=t[0],n=t[1];return 3*(r+n)/4-n},toByteArray:function(e){var t,r,n=Pn(e),i=n[0],s=n[1],o=new _n(function(e,t,r){return 3*(t+r)/4-r}(0,i,s)),a=0,u=s>0?i-4:i;for(r=0;r<u;r+=4)t=En[e.charCodeAt(r)]<<18|En[e.charCodeAt(r+1)]<<12|En[e.charCodeAt(r+2)]<<6|En[e.charCodeAt(r+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=255&t;2===s&&(t=En[e.charCodeAt(r)]<<2|En[e.charCodeAt(r+1)]>>4,o[a++]=255&t);1===s&&(t=En[e.charCodeAt(r)]<<10|En[e.charCodeAt(r+1)]<<4|En[e.charCodeAt(r+2)]>>2,o[a++]=t>>8&255,o[a++]=255&t);return o},fromByteArray:function(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(Rn(e,o,o+s>a?a:o+s));1===n?(t=e[r-1],i.push(In[t>>2]+In[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(In[t>>10]+In[t>>4&63]+In[t<<2&63]+"="));return i.join("")}},In=[],En=[],_n="undefined"!==typeof Uint8Array?Uint8Array:Array,vn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xn=0,Tn=vn.length;xn<Tn;++xn)In[xn]=vn[xn],En[vn.charCodeAt(xn)]=xn;function Pn(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function Rn(e,t,r){for(var n,i,s=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(In[(i=n)>>18&63]+In[i>>12&63]+In[i>>6&63]+In[63&i]);return s.join("")}En["-".charCodeAt(0)]=62,En["_".charCodeAt(0)]=63;var On={read:function(e,t,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,l=-7,d=r?i-1:0,h=r?-1:1,p=e[t+d];for(d+=h,s=p&(1<<-l)-1,p>>=-l,l+=a;l>0;s=256*s+e[t+d],d+=h,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=256*o+e[t+d],d+=h,l-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),s-=c}return(p?-1:1)*o*Math.pow(2,s-n)},write:function(e,t,r,n,i,s){var o,a,u,c=8*s-i-1,l=(1<<c)-1,d=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+d>=1?h/u:h*Math.pow(2,1-d))*u>=2&&(o++,u/=2),o+d>=l?(a=0,o=l):o+d>=1?(a=(t*u-1)*Math.pow(2,i),o+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&a,p+=f,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+p]=255&o,p+=f,o/=256,c-=8);e[r+p-f]|=128*g}};!function(e){const t=An,r=On,n="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=function(e){+e!=e&&(e=0);return o.alloc(+e)},e.INSPECT_MAX_BYTES=50;const i=2147483647;function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,o.prototype),t}function o(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return a(e,t,r)}function a(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!o.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|p(e,t);let n=s(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return o.from(n,t,r);const i=function(e){if(o.isBuffer(e)){const t=0|h(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||H(e.length)?s(0):l(e);if("Buffer"===e.type&&Array.isArray(e.data))return l(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return o.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),s(e<0?0:0|h(e))}function l(e){const t=e.length<0?0:0|h(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,o.prototype),n}function h(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function p(e,t){if(o.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return V(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return j(e).length;default:if(i)return n?-1:V(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return T(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return v(this,t,r);case"latin1":case"binary":return x(this,t,r);case"base64":return I(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),H(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=o.from(t,n)),o.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function b(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(H(n))return o;e[r+o]=n}return o}function w(e,t,r,n){return q(V(t,e.length-r),e,r,n)}function k(e,t,r,n){return q(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return q(j(t),e,r,n)}function A(e,t,r,n){return q(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function I(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function E(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=_)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=_));return r}(n)}e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),o.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),o.poolSize=8192,o.from=function(e,t,r){return a(e,t,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array),o.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?s(e):void 0!==t?"string"===typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},o.allocUnsafe=function(e){return c(e)},o.allocUnsafeSlow=function(e){return c(e)},o.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==o.prototype},o.compare=function(e,t){if(Z(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(e)||!o.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return o.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=o.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Z(t,Uint8Array))i+t.length>n.length?(o.isBuffer(t)||(t=o.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!o.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},o.byteLength=p,o.prototype._isBuffer=!0,o.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},o.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},o.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},o.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):f.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===o.compare(this,e)},o.prototype.inspect=function(){let t="";const r=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(e,t,r,n,i){if(Z(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const u=Math.min(s,a),c=this.slice(n,i),l=e.slice(t,r);for(let o=0;o<u;++o)if(c[o]!==l[o]){s=c[o],a=l[o];break}return s<a?-1:a<s?1:0},o.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},o.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},o.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},o.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return k(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const _=4096;function v(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function x(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function T(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=X[e[s]];return i}function P(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function R(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,r,n,i,s){if(!o.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function M(e,t,r,n,i){D(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function B(e,t,r,n,i){D(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function U(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(e,t,n,i,s){return t=+t,n>>>=0,s||U(e,0,n,4),r.write(e,t,n,i,23,4),n+4}function L(e,t,n,i,s){return t=+t,n>>>=0,s||U(e,0,n,8),r.write(e,t,n,i,52,8),n+8}o.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,o.prototype),n},o.prototype.readUintLE=o.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},o.prototype.readUint8=o.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readBigUInt64LE=J((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),o.prototype.readBigUInt64BE=J((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),o.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},o.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},o.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},o.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readBigInt64LE=J((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),o.prototype.readBigInt64BE=J((function(e){K(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),o.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),r.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),r.read(this,e,!1,52,8)},o.prototype.writeUintLE=o.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){O(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,255,0),this[t]=255&e,t+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigUInt64LE=J((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return M(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeBigUInt64BE=J((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return B(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),o.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},o.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);O(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},o.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},o.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},o.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},o.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},o.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},o.prototype.writeBigInt64LE=J((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return M(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeBigInt64BE=J((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return B(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),o.prototype.writeFloatLE=function(e,t,r){return N(this,e,t,!0,r)},o.prototype.writeFloatBE=function(e,t,r){return N(this,e,t,!1,r)},o.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},o.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},o.prototype.copy=function(e,t,r,n){if(!o.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},o.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=o.isBuffer(e)?e:o.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};const z={};function C(e,t,r){z[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function W(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function D(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new z.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){K(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||F(t,e.length-(r+1))}(n,i,s)}function K(e,t){if("number"!==typeof e)throw new z.ERR_INVALID_ARG_TYPE(t,"number",e)}function F(e,t,r){if(Math.floor(e)!==e)throw K(e,r),new z.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new z.ERR_BUFFER_OUT_OF_BOUNDS;throw new z.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}C("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),C("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),C("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=W(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=W(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const G=/[^+/0-9A-Za-z-_]/g;function V(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function j(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function q(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function H(e){return e!==e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function J(e){return"undefined"===typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}}(Sn);var Mn="undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{},Bn="function"===typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};function Un(e,t){var r={seen:[],stylize:Ln};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),Dn(t)?r.showHidden=t:t&&Qn(r,t),Gn(r.showHidden)&&(r.showHidden=!1),Gn(r.depth)&&(r.depth=2),Gn(r.colors)&&(r.colors=!1),Gn(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=Nn),zn(r,e,r.depth)}function Nn(e,t){var r=Un.styles[t];return r?"\x1b["+Un.colors[r][0]+"m"+e+"\x1b["+Un.colors[r][1]+"m":e}function Ln(e,t){return e}function zn(e,t,r){if(e.customInspect&&t&&Hn(t.inspect)&&t.inspect!==Un&&(!t.constructor||t.constructor.prototype!==t)){var n=t.inspect(r,e);return Fn(n)||(n=zn(e,n,r)),n}var i=function(e,t){if(Gn(t))return e.stylize("undefined","undefined");if(Fn(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(n=t,"number"===typeof n)return e.stylize(""+t,"number");var n;if(Dn(t))return e.stylize(""+t,"boolean");if(Kn(t))return e.stylize("null","null")}(e,t);if(i)return i;var s=Object.keys(t),o=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),Zn(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return Cn(t);if(0===s.length){if(Hn(t)){var a=t.name?": "+t.name:"";return e.stylize("[Function"+a+"]","special")}if(Vn(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(qn(t))return e.stylize(Date.prototype.toString.call(t),"date");if(Zn(t))return Cn(t)}var u,c,l="",d=!1,h=["{","}"];(u=t,Array.isArray(u)&&(d=!0,h=["[","]"]),Hn(t))&&(l=" [Function"+(t.name?": "+t.name:"")+"]");return Vn(t)&&(l=" "+RegExp.prototype.toString.call(t)),qn(t)&&(l=" "+Date.prototype.toUTCString.call(t)),Zn(t)&&(l=" "+Cn(t)),0!==s.length||d&&0!=t.length?r<0?Vn(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),c=d?function(e,t,r,n,i){for(var s=[],o=0,a=t.length;o<a;++o)Yn(t,String(o))?s.push(Wn(e,t,r,n,String(o),!0)):s.push("");return i.forEach((function(i){i.match(/^\d+$/)||s.push(Wn(e,t,r,n,i,!0))})),s}(e,t,r,o,s):s.map((function(n){return Wn(e,t,r,o,n,d)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,l,h)):h[0]+l+h[1]}function Cn(e){return"["+Error.prototype.toString.call(e)+"]"}function Wn(e,t,r,n,i,s){var o,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),Yn(n,i)||(o="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=Kn(r)?zn(e,u.value,null):zn(e,u.value,r-1)).indexOf("\n")>-1&&(a=s?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),Gn(o)){if(s&&i.match(/^\d+$/))return a;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=e.stylize(o,"string"))}return o+": "+a}function Dn(e){return"boolean"===typeof e}function Kn(e){return null===e}function Fn(e){return"string"===typeof e}function Gn(e){return void 0===e}function Vn(e){return jn(e)&&"[object RegExp]"===Jn(e)}function jn(e){return"object"===typeof e&&null!==e}function qn(e){return jn(e)&&"[object Date]"===Jn(e)}function Zn(e){return jn(e)&&("[object Error]"===Jn(e)||e instanceof Error)}function Hn(e){return"function"===typeof e}function Xn(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e}function Jn(e){return Object.prototype.toString.call(e)}function Qn(e,t){if(!t||!jn(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}function Yn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $n(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}Un.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},Un.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};var ei,ti=Object.prototype.hasOwnProperty,ri=Object.keys||function(e){var t=[];for(var r in e)ti.call(e,r)&&t.push(r);return t},ni=Array.prototype.slice;function ii(){return"undefined"!==typeof ei?ei:ei="foo"===function(){}.name}function si(e){return Object.prototype.toString.call(e)}function oi(e){return!Sn.isBuffer(e)&&("function"===typeof Mn.ArrayBuffer&&("function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}function ai(e,t){e||pi(e,!0,t,"==",fi)}var ui=/\s*function\s+([^\(\s]*)\s*/;function ci(e){if(Hn(e)){if(ii())return e.name;var t=e.toString().match(ui);return t&&t[1]}}function li(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return di(hi(e.actual),128)+" "+e.operator+" "+di(hi(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||pi;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,i=ci(t),s=n.indexOf("\n"+i);if(s>=0){var o=n.indexOf("\n",s+1);n=n.substring(o+1)}this.stack=n}}}function di(e,t){return"string"===typeof e?e.length<t?e:e.slice(0,t):e}function hi(e){if(ii()||!Hn(e))return Un(e);var t=ci(e);return"[Function"+(t?": "+t:"")+"]"}function pi(e,t,r,n,i){throw new li({message:r,actual:e,expected:t,operator:n,stackStartFunction:i})}function fi(e,t){e||pi(e,!0,t,"==",fi)}function gi(e,t,r){e!=t&&pi(e,t,r,"==",gi)}function mi(e,t,r){e==t&&pi(e,t,r,"!=",mi)}function yi(e,t,r){wi(e,t,!1)||pi(e,t,r,"deepEqual",yi)}function bi(e,t,r){wi(e,t,!0)||pi(e,t,r,"deepStrictEqual",bi)}function wi(e,t,r,n){if(e===t)return!0;if(Sn.isBuffer(e)&&Sn.isBuffer(t))return 0===$n(e,t);if(qn(e)&&qn(t))return e.getTime()===t.getTime();if(Vn(e)&&Vn(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===typeof e||null!==t&&"object"===typeof t){if(oi(e)&&oi(t)&&si(e)===si(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===$n(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(Sn.isBuffer(e)!==Sn.isBuffer(t))return!1;var i=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==i&&i===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null===e||void 0===e||null===t||void 0===t)return!1;if(Xn(e)||Xn(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=ki(e),s=ki(t);if(i&&!s||!i&&s)return!1;if(i)return wi(e=ni.call(e),t=ni.call(t),r);var o,a,u=ri(e),c=ri(t);if(u.length!==c.length)return!1;for(u.sort(),c.sort(),a=u.length-1;a>=0;a--)if(u[a]!==c[a])return!1;for(a=u.length-1;a>=0;a--)if(!wi(e[o=u[a]],t[o],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function ki(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function Si(e,t,r){wi(e,t,!1)&&pi(e,t,r,"notDeepEqual",Si)}function Ai(e,t,r){wi(e,t,!0)&&pi(e,t,r,"notDeepStrictEqual",Ai)}function Ii(e,t,r){e!==t&&pi(e,t,r,"===",Ii)}function Ei(e,t,r){e===t&&pi(e,t,r,"!==",Ei)}function _i(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(r){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function vi(e,t,r,n){var i;if("function"!==typeof t)throw new TypeError('"block" argument must be a function');"string"===typeof r&&(n=r,r=null),i=function(e){var t;try{e()}catch(r){t=r}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!i&&pi(i,r,"Missing expected exception"+n);var s="string"===typeof n,o=!e&&i&&!r;if((!e&&Zn(i)&&s&&_i(i,r)||o)&&pi(i,r,"Got unwanted exception"+n),e&&i&&r&&!_i(i,r)||!e&&i)throw i}function xi(e,t,r){vi(!0,e,t,r)}function Ti(e,t,r){vi(!1,e,t,r)}function Pi(e){if(e)throw e}ai.AssertionError=li,Bn(li,Error),ai.fail=pi,ai.ok=fi,ai.equal=gi,ai.notEqual=mi,ai.deepEqual=yi,ai.deepStrictEqual=bi,ai.notDeepEqual=Si,ai.notDeepStrictEqual=Ai,ai.strictEqual=Ii,ai.notStrictEqual=Ei,ai.throws=xi,ai.doesNotThrow=Ti,ai.ifError=Pi;const Ri=kn(Object.freeze({__proto__:null,default:ai,AssertionError:li,fail:pi,ok:fi,assert:fi,equal:gi,notEqual:mi,deepEqual:yi,deepStrictEqual:bi,notDeepEqual:Si,notDeepStrictEqual:Ai,strictEqual:Ii,notStrictEqual:Ei,throws:xi,doesNotThrow:Ti,ifError:Pi}));class Oi{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}decode(e,t){throw new Error("Layout is abstract")}encode(e,t,r){throw new Error("Layout is abstract")}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}class Mi extends Oi{isCount(){throw new Error("ExternalLayout is abstract")}}class Bi extends Oi{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t){return void 0===t&&(t=0),e.readUIntLE(t,this.span)}encode(e,t,r){return void 0===r&&(r=0),t.writeUIntLE(e,r,this.span),this.span}}class Ui extends Oi{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof Oi),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===r&&(r=t,t=void 0);for(const s of e)if(0>s.span&&void 0===s.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(i){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(e,t){void 0===t&&(t=0);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r){void 0===r&&(r=0);const n=r;let i=0,s=0;for(const o of this.fields){let n=o.span;if(s=0<n?n:0,void 0===o.property)Ri(0<n);else{const i=e[o.property];void 0!==i&&(s=o.encode(i,t,r),0>n&&(n=o.getSpan(t,r)))}i=r,r+=n}return i+s-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class Ni extends Oi{constructor(e,t){if(!(e instanceof Mi&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof Mi||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t){void 0===t&&(t=0);let r=this.span;return 0>r&&(r=this.length.decode(e,t)),e.slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof Mi&&(n=e.length),!Sn.Buffer.isBuffer(e)||n!==e.length)throw new TypeError((i="Blob.encode",((s=this).property?i+"["+s.property+"]":i)+" requires (length "+n+") Buffer as src"));var i,s;if(r+n>t.length)throw new RangeError("encoding overruns Buffer");return t.write(e.toString("hex"),r,n,"hex"),this.length instanceof Mi&&this.length.encode(n,t,r),n}}var Li=e=>new Bi(1,e),zi=e=>new Bi(4,e),Ci=(e,t,r)=>new Ui(e,t,r),Wi=(e,t)=>new Ni(e,t);const Di=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return Wi(32,e)},Ki=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"uint64";return Wi(8,e)};function Fi(e,t,r){for(var n=arguments.length,i=new Array(n>3?n-3:0),s=3;s<n;s++)i[s-3]=arguments[s];return fr(t,r,i,{skipPreflight:!1})}const Gi=new zt("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA"),Vi=new zt("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"),ji="Failed to find account",qi="Invalid account owner";function Zi(e){return Sn.Buffer.from(e.toBuffer())}class Hi extends(s()){toBuffer(){const e=super.toArray().reverse(),t=Sn.Buffer.from(e);if(8===t.length)return t;ai(t.length<8,"u64 too large");const r=Sn.Buffer.alloc(8);return t.copy(r),r}static fromBuffer(e){return ai(8===e.length,`Invalid buffer length: ${e.length}`),new Hi([...e].reverse().map((e=>`00${e.toString(16)}`.slice(-2))).join(""),16)}}function Xi(e){return"publicKey"in e}const Ji={MintTokens:0,FreezeAccount:1,AccountOwner:2,CloseAccount:3},Qi=new zt("So11111111111111111111111111111111111111112"),Yi=Ci([zi("mintAuthorityOption"),Di("mintAuthority"),Ki("supply"),Li("decimals"),Li("isInitialized"),zi("freezeAuthorityOption"),Di("freezeAuthority")]),$i=Ci([Di("mint"),Di("owner"),Ki("amount"),zi("delegateOption"),Di("delegate"),Li("state"),zi("isNativeOption"),Ki("isNative"),Ki("delegatedAmount"),zi("closeAuthorityOption"),Di("closeAuthority")]),es=Ci([Li("m"),Li("n"),Li("is_initialized"),Di("signer1"),Di("signer2"),Di("signer3"),Di("signer4"),Di("signer5"),Di("signer6"),Di("signer7"),Di("signer8"),Di("signer9"),Di("signer10"),Di("signer11")]);class ts{constructor(e,t,r,i){(0,n.Z)(this,"connection",void 0),(0,n.Z)(this,"publicKey",void 0),(0,n.Z)(this,"programId",void 0),(0,n.Z)(this,"associatedProgramId",void 0),(0,n.Z)(this,"payer",void 0),Object.assign(this,{connection:e,publicKey:t,programId:r,payer:i,associatedProgramId:Vi})}static async getMinBalanceRentForExemptMint(e){return await e.getMinimumBalanceForRentExemption(Yi.span)}static async getMinBalanceRentForExemptAccount(e){return await e.getMinimumBalanceForRentExemption($i.span)}static async getMinBalanceRentForExemptMultisig(e){return await e.getMinimumBalanceForRentExemption(es.span)}static async createMint(e,t,r,n,i,s){const o=an.generate(),a=new ts(e,o.publicKey,s,t),u=await ts.getMinBalanceRentForExemptMint(e),c=new cr;return c.add(dr.createAccount({fromPubkey:t.publicKey,newAccountPubkey:o.publicKey,lamports:u,space:Yi.span,programId:s})),c.add(ts.createInitMintInstruction(s,o.publicKey,i,r,n)),await Fi("createAccount and InitializeMint",e,c,t,o),a}async createAccount(e){const t=await ts.getMinBalanceRentForExemptAccount(this.connection),r=an.generate(),n=new cr;n.add(dr.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:t,space:$i.span,programId:this.programId}));const i=this.publicKey;return n.add(ts.createInitAccountInstruction(this.programId,i,r.publicKey,e)),await Fi("createAccount and InitializeAccount",this.connection,n,this.payer,r),r.publicKey}async createAssociatedTokenAccount(e){const t=await ts.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);return this.createAssociatedTokenAccountInternal(e,t)}async createAssociatedTokenAccountInternal(e,t){return await Fi("CreateAssociatedTokenAccount",this.connection,(new cr).add(ts.createAssociatedTokenAccountInstruction(this.associatedProgramId,this.programId,this.publicKey,t,e,this.payer.publicKey)),this.payer),t}async getOrCreateAssociatedAccountInfo(e){const t=await ts.getAssociatedTokenAddress(this.associatedProgramId,this.programId,this.publicKey,e);try{return await this.getAccountInfo(t)}catch(r){if(r.message===ji||r.message===qi){try{await this.createAssociatedTokenAccountInternal(e,t)}catch(r){}return await this.getAccountInfo(t)}throw r}}static async createWrappedNativeAccount(e,t,r,n,i){const s=await ts.getMinBalanceRentForExemptAccount(e),o=an.generate(),a=new cr;return a.add(dr.createAccount({fromPubkey:n.publicKey,newAccountPubkey:o.publicKey,lamports:s,space:$i.span,programId:t})),a.add(dr.transfer({fromPubkey:n.publicKey,toPubkey:o.publicKey,lamports:i})),a.add(ts.createInitAccountInstruction(t,Qi,o.publicKey,r)),await Fi("createAccount, transfer, and initializeAccount",e,a,n,o),o.publicKey}async createMultisig(e,t){const r=an.generate(),n=await ts.getMinBalanceRentForExemptMultisig(this.connection),i=new cr;i.add(dr.createAccount({fromPubkey:this.payer.publicKey,newAccountPubkey:r.publicKey,lamports:n,space:es.span,programId:this.programId}));let s=[{pubkey:r.publicKey,isSigner:!1,isWritable:!0},{pubkey:$t,isSigner:!1,isWritable:!1}];t.forEach((e=>s.push({pubkey:e,isSigner:!1,isWritable:!1})));const o=Ci([Li("instruction"),Li("m")]),a=Sn.Buffer.alloc(o.span);return o.encode({instruction:2,m:e},a),i.add({keys:s,programId:this.programId,data:a}),await Fi("createAccount and InitializeMultisig",this.connection,i,this.payer,r),r.publicKey}async getMintInfo(){const e=await this.connection.getAccountInfo(this.publicKey);if(null===e)throw new Error("Failed to find mint account");if(!e.owner.equals(this.programId))throw new Error(`Invalid mint owner: ${JSON.stringify(e.owner)}`);if(e.data.length!=Yi.span)throw new Error("Invalid mint size");const t=Sn.Buffer.from(e.data),r=Yi.decode(t);return 0===r.mintAuthorityOption?r.mintAuthority=null:r.mintAuthority=new zt(r.mintAuthority),r.supply=Hi.fromBuffer(r.supply),r.isInitialized=0!=r.isInitialized,0===r.freezeAuthorityOption?r.freezeAuthority=null:r.freezeAuthority=new zt(r.freezeAuthority),r}async getAccountInfo(e,t){const r=await this.connection.getAccountInfo(e,t);if(null===r)throw new Error(ji);if(!r.owner.equals(this.programId))throw new Error(qi);if(r.data.length!=$i.span)throw new Error("Invalid account size");const n=Sn.Buffer.from(r.data),i=$i.decode(n);if(i.address=e,i.mint=new zt(i.mint),i.owner=new zt(i.owner),i.amount=Hi.fromBuffer(i.amount),0===i.delegateOption?(i.delegate=null,i.delegatedAmount=new Hi):(i.delegate=new zt(i.delegate),i.delegatedAmount=Hi.fromBuffer(i.delegatedAmount)),i.isInitialized=0!==i.state,i.isFrozen=2===i.state,1===i.isNativeOption?(i.rentExemptReserve=Hi.fromBuffer(i.isNative),i.isNative=!0):(i.rentExemptReserve=null,i.isNative=!1),0===i.closeAuthorityOption?i.closeAuthority=null:i.closeAuthority=new zt(i.closeAuthority),!i.mint.equals(this.publicKey))throw new Error(`Invalid account mint: ${JSON.stringify(i.mint)} !== ${JSON.stringify(this.publicKey)}`);return i}async getMultisigInfo(e){const t=await this.connection.getAccountInfo(e);if(null===t)throw new Error("Failed to find multisig");if(!t.owner.equals(this.programId))throw new Error("Invalid multisig owner");if(t.data.length!=es.span)throw new Error("Invalid multisig size");const r=Sn.Buffer.from(t.data),n=es.decode(r);return n.signer1=new zt(n.signer1),n.signer2=new zt(n.signer2),n.signer3=new zt(n.signer3),n.signer4=new zt(n.signer4),n.signer5=new zt(n.signer5),n.signer6=new zt(n.signer6),n.signer7=new zt(n.signer7),n.signer8=new zt(n.signer8),n.signer9=new zt(n.signer9),n.signer10=new zt(n.signer10),n.signer11=new zt(n.signer11),n}async transfer(e,t,r,n,i){let s,o;return Xi(r)?(s=r.publicKey,o=[r]):(s=r,o=n),await Fi("Transfer",this.connection,(new cr).add(ts.createTransferInstruction(this.programId,e,t,s,n,i)),this.payer,...o)}async approve(e,t,r,n,i){let s,o;Xi(r)?(s=r.publicKey,o=[r]):(s=r,o=n),await Fi("Approve",this.connection,(new cr).add(ts.createApproveInstruction(this.programId,e,t,s,n,i)),this.payer,...o)}async revoke(e,t,r){let n,i;Xi(t)?(n=t.publicKey,i=[t]):(n=t,i=r),await Fi("Revoke",this.connection,(new cr).add(ts.createRevokeInstruction(this.programId,e,n,r)),this.payer,...i)}async setAuthority(e,t,r,n,i){let s,o;Xi(n)?(s=n.publicKey,o=[n]):(s=n,o=i),await Fi("SetAuthority",this.connection,(new cr).add(ts.createSetAuthorityInstruction(this.programId,e,t,r,s,i)),this.payer,...o)}async mintTo(e,t,r,n){let i,s;Xi(t)?(i=t.publicKey,s=[t]):(i=t,s=r),await Fi("MintTo",this.connection,(new cr).add(ts.createMintToInstruction(this.programId,this.publicKey,e,i,r,n)),this.payer,...s)}async burn(e,t,r,n){let i,s;Xi(t)?(i=t.publicKey,s=[t]):(i=t,s=r),await Fi("Burn",this.connection,(new cr).add(ts.createBurnInstruction(this.programId,this.publicKey,e,i,r,n)),this.payer,...s)}async closeAccount(e,t,r,n){let i,s;Xi(r)?(i=r.publicKey,s=[r]):(i=r,s=n),await Fi("CloseAccount",this.connection,(new cr).add(ts.createCloseAccountInstruction(this.programId,e,t,i,n)),this.payer,...s)}async freezeAccount(e,t,r){let n,i;Xi(t)?(n=t.publicKey,i=[t]):(n=t,i=r),await Fi("FreezeAccount",this.connection,(new cr).add(ts.createFreezeAccountInstruction(this.programId,e,this.publicKey,n,r)),this.payer,...i)}async thawAccount(e,t,r){let n,i;Xi(t)?(n=t.publicKey,i=[t]):(n=t,i=r),await Fi("ThawAccount",this.connection,(new cr).add(ts.createThawAccountInstruction(this.programId,e,this.publicKey,n,r)),this.payer,...i)}async transferChecked(e,t,r,n,i,s){let o,a;return Xi(r)?(o=r.publicKey,a=[r]):(o=r,a=n),await Fi("TransferChecked",this.connection,(new cr).add(ts.createTransferCheckedInstruction(this.programId,e,this.publicKey,t,o,n,i,s)),this.payer,...a)}async approveChecked(e,t,r,n,i,s){let o,a;Xi(r)?(o=r.publicKey,a=[r]):(o=r,a=n),await Fi("ApproveChecked",this.connection,(new cr).add(ts.createApproveCheckedInstruction(this.programId,e,this.publicKey,t,o,n,i,s)),this.payer,...a)}async mintToChecked(e,t,r,n,i){let s,o;Xi(t)?(s=t.publicKey,o=[t]):(s=t,o=r),await Fi("MintToChecked",this.connection,(new cr).add(ts.createMintToCheckedInstruction(this.programId,this.publicKey,e,s,r,n,i)),this.payer,...o)}async burnChecked(e,t,r,n,i){let s,o;Xi(t)?(s=t.publicKey,o=[t]):(s=t,o=r),await Fi("BurnChecked",this.connection,(new cr).add(ts.createBurnCheckedInstruction(this.programId,this.publicKey,e,s,r,n,i)),this.payer,...o)}static createInitMintInstruction(e,t,r,n,i){let s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:$t,isSigner:!1,isWritable:!1}];const o=Ci([Li("instruction"),Li("decimals"),Di("mintAuthority"),Li("option"),Di("freezeAuthority")]);let a=Sn.Buffer.alloc(1024);{const e=o.encode({instruction:0,decimals:r,mintAuthority:Zi(n),option:null===i?0:1,freezeAuthority:Zi(i||new zt(0))},a);a=a.slice(0,e)}return new ur({keys:s,programId:e,data:a})}static createInitAccountInstruction(e,t,r,n){const i=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:$t,isSigner:!1,isWritable:!1}],s=Ci([Li("instruction")]),o=Sn.Buffer.alloc(s.span);return s.encode({instruction:1},o),new ur({keys:i,programId:e,data:o})}static createTransferInstruction(e,t,r,n,i,s){const o=Ci([Li("instruction"),Ki("amount")]),a=Sn.Buffer.alloc(o.span);o.encode({instruction:3,amount:new Hi(s).toBuffer()},a);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?u.push({pubkey:n,isSigner:!0,isWritable:!1}):(u.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:u,programId:e,data:a})}static createApproveInstruction(e,t,r,n,i,s){const o=Ci([Li("instruction"),Ki("amount")]),a=Sn.Buffer.alloc(o.span);o.encode({instruction:4,amount:new Hi(s).toBuffer()},a);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===i.length?u.push({pubkey:n,isSigner:!0,isWritable:!1}):(u.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:u,programId:e,data:a})}static createRevokeInstruction(e,t,r,n){const i=Ci([Li("instruction")]),s=Sn.Buffer.alloc(i.span);i.encode({instruction:5},s);let o=[{pubkey:t,isSigner:!1,isWritable:!0}];return 0===n.length?o.push({pubkey:r,isSigner:!0,isWritable:!1}):(o.push({pubkey:r,isSigner:!1,isWritable:!1}),n.forEach((e=>o.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:o,programId:e,data:s})}static createSetAuthorityInstruction(e,t,r,n,i,s){const o=Ci([Li("instruction"),Li("authorityType"),Li("option"),Di("newAuthority")]);let a=Sn.Buffer.alloc(1024);{const e=o.encode({instruction:6,authorityType:Ji[n],option:null===r?0:1,newAuthority:Zi(r||new zt(0))},a);a=a.slice(0,e)}let u=[{pubkey:t,isSigner:!1,isWritable:!0}];return 0===s.length?u.push({pubkey:i,isSigner:!0,isWritable:!1}):(u.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:u,programId:e,data:a})}static createMintToInstruction(e,t,r,n,i,s){const o=Ci([Li("instruction"),Ki("amount")]),a=Sn.Buffer.alloc(o.span);o.encode({instruction:7,amount:new Hi(s).toBuffer()},a);let u=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?u.push({pubkey:n,isSigner:!0,isWritable:!1}):(u.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:u,programId:e,data:a})}static createBurnInstruction(e,t,r,n,i,s){const o=Ci([Li("instruction"),Ki("amount")]),a=Sn.Buffer.alloc(o.span);o.encode({instruction:8,amount:new Hi(s).toBuffer()},a);let u=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return 0===i.length?u.push({pubkey:n,isSigner:!0,isWritable:!1}):(u.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>u.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:u,programId:e,data:a})}static createCloseAccountInstruction(e,t,r,n,i){const s=Ci([Li("instruction")]),o=Sn.Buffer.alloc(s.span);s.encode({instruction:9},o);let a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?a.push({pubkey:n,isSigner:!0,isWritable:!1}):(a.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>a.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:a,programId:e,data:o})}static createFreezeAccountInstruction(e,t,r,n,i){const s=Ci([Li("instruction")]),o=Sn.Buffer.alloc(s.span);s.encode({instruction:10},o);let a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===i.length?a.push({pubkey:n,isSigner:!0,isWritable:!1}):(a.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>a.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:a,programId:e,data:o})}static createThawAccountInstruction(e,t,r,n,i){const s=Ci([Li("instruction")]),o=Sn.Buffer.alloc(s.span);s.encode({instruction:11},o);let a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1}];return 0===i.length?a.push({pubkey:n,isSigner:!0,isWritable:!1}):(a.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>a.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:a,programId:e,data:o})}static createTransferCheckedInstruction(e,t,r,n,i,s,o,a){const u=Ci([Li("instruction"),Ki("amount"),Li("decimals")]),c=Sn.Buffer.alloc(u.span);u.encode({instruction:12,amount:new Hi(o).toBuffer(),decimals:a},c);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!0}];return 0===s.length?l.push({pubkey:i,isSigner:!0,isWritable:!1}):(l.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:l,programId:e,data:c})}static createApproveCheckedInstruction(e,t,r,n,i,s,o,a){const u=Ci([Li("instruction"),Ki("amount"),Li("decimals")]),c=Sn.Buffer.alloc(u.span);u.encode({instruction:13,amount:new Hi(o).toBuffer(),decimals:a},c);let l=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}];return 0===s.length?l.push({pubkey:i,isSigner:!0,isWritable:!1}):(l.push({pubkey:i,isSigner:!1,isWritable:!1}),s.forEach((e=>l.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:l,programId:e,data:c})}static createMintToCheckedInstruction(e,t,r,n,i,s,o){const a=Ci([Li("instruction"),Ki("amount"),Li("decimals")]),u=Sn.Buffer.alloc(a.span);a.encode({instruction:14,amount:new Hi(s).toBuffer(),decimals:o},u);let c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0}];return 0===i.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:c,programId:e,data:u})}static createBurnCheckedInstruction(e,t,r,n,i,s,o){const a=Ci([Li("instruction"),Ki("amount"),Li("decimals")]),u=Sn.Buffer.alloc(a.span);a.encode({instruction:15,amount:new Hi(s).toBuffer(),decimals:o},u);let c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0}];return 0===i.length?c.push({pubkey:n,isSigner:!0,isWritable:!1}):(c.push({pubkey:n,isSigner:!1,isWritable:!1}),i.forEach((e=>c.push({pubkey:e.publicKey,isSigner:!0,isWritable:!1})))),new ur({keys:c,programId:e,data:u})}static async getAssociatedTokenAddress(e,t,r,n){if(!(arguments.length>4&&void 0!==arguments[4]&&arguments[4])&&!zt.isOnCurve(n.toBuffer()))throw new Error(`Owner cannot sign: ${n.toString()}`);return(await zt.findProgramAddress([n.toBuffer(),t.toBuffer(),r.toBuffer()],e))[0]}static createAssociatedTokenAccountInstruction(e,t,r,n,i,s){const o=Sn.Buffer.alloc(0);let a=[{pubkey:s,isSigner:!0,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:dr.programId,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!1,isWritable:!1},{pubkey:$t,isSigner:!1,isWritable:!1}];return new ur({keys:a,programId:e,data:o})}}},60920:(e,t,r)=>{"use strict";const n=r(12009),i=r(45889),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.lW=u,t.h2=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function f(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return _(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function k(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function S(e,t,r,n){return H(q(t,e.length-r),e,r,n)}function A(e,t,r,n){return H(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return H(Z(t),e,r,n)}function E(e,t,r,n){return H(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function _(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function v(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return d(e)},u.allocUnsafeSlow=function(e){return d(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?v(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(n,i),l=e.slice(t,r);for(let u=0;u<a;++u)if(c[u]!==l[u]){s=c[u],o=l[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return A(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=Q[e[s]];return i}function O(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function M(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function N(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function L(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return z(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return z(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=u.isBuffer(e)?e:u.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const W={};function D(e,t,r){W[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function K(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,s)}function G(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw G(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=K(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=K(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const j=/[^+/0-9A-Za-z-_]/g;function q(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Y(e){return"undefined"===typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},78838:function(e,t,r){"use strict";var n=r(18702).Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__decorate||function(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const c=u(r(48744)),l=u(r(68532)),d=a(r(91995)),h=new("function"!==typeof TextDecoder?d.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=n.from(e,"utf8")),l.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(l.default.decode(e))};const p=1024;class f extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=f;class g{constructor(){this.buf=n.alloc(p),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(p)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(p)]),this.length+=e.length}writeString(e){this.maybeResize();const t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function m(e,t,r){const n=r.value;r.value=function(){try{for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.apply(this,t)}catch(i){if(i instanceof RangeError){const e=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new f("Reached the end of buffer when deserializing")}throw i}}}t.BinaryWriter=g;class y{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new c.default(e,"le")}readU128(){const e=this.readBuffer(16);return new c.default(e,"le")}readU256(){const e=this.readBuffer(32);return new c.default(e,"le")}readU512(){const e=this.readBuffer(64);return new c.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new f(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(r){throw new f(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let n=0;n<t;++n)r.push(e());return r}}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function w(e,t,r,n,i){try{if("string"===typeof n)i[`write${b(n)}`](r);else if(n instanceof Array)if("number"===typeof n[0]){if(r.length!==n[0])throw new f(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"===typeof n[1]){if(r.length!==n[1])throw new f(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)w(e,null,r[t],n[0],i)}else i.writeArray(r,(r=>{w(e,t,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null===r||void 0===r?i.writeU8(0):(i.writeU8(1),w(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,s)=>{w(e,t,s,n.key,i),w(e,t,r,n.value,i)}));break;default:throw new f(`FieldType ${n} unrecognized`)}else k(e,r,i)}catch(s){throw s instanceof f&&s.addToFieldPath(t),s}}function k(e,t,r){if("function"===typeof t.borshSerialize)return void t.borshSerialize(r);const n=e.get(t.constructor);if(!n)throw new f(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((n=>{let[i,s]=n;w(e,i,t[i],s,r)}));else{if("enum"!==n.kind)throw new f(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const i=t[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),w(e,o,t[o],a,r);break}}}}}function S(e,t,r,n){try{if("string"===typeof r)return n[`read${b(r)}`]();if(r instanceof Array){if("number"===typeof r[0])return n.readFixedArray(r[0]);if("number"===typeof r[1]){const t=[];for(let i=0;i<r[1];i++)t.push(S(e,null,r[0],n));return t}return n.readArray((()=>S(e,t,r[0],n)))}if("option"===r.kind){return n.readU8()?S(e,t,r.type,n):void 0}if("map"===r.kind){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const s=S(e,t,r.key,n),o=S(e,t,r.value,n);i.set(s,o)}return i}return A(e,r,n)}catch(i){throw i instanceof f&&i.addToFieldPath(t),i}}function A(e,t,r){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new f(`Class ${t.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,s]of e.get(t).fields)n[i]=S(e,i,s,r);return new t(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new f(`Enum index: ${i} is out of range`);const[s,o]=n.values[i];return new t({[s]:S(e,s,o,r)})}throw new f(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}o([m],y.prototype,"readU8",null),o([m],y.prototype,"readU16",null),o([m],y.prototype,"readU32",null),o([m],y.prototype,"readU64",null),o([m],y.prototype,"readU128",null),o([m],y.prototype,"readU256",null),o([m],y.prototype,"readU512",null),o([m],y.prototype,"readString",null),o([m],y.prototype,"readFixedArray",null),o([m],y.prototype,"readArray",null),t.BinaryReader=y,t.serialize=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;const n=new r;return k(e,t,n),n.toArray()},t.deserialize=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;const i=new n(r),s=A(e,t,i);if(i.offset<r.length)throw new f(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s},t.deserializeUnchecked=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y;const i=new n(r);return A(e,t,i)}},18702:(e,t,r)=>{"use strict";const n=r(12009),i=r(45889),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function f(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return _(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function k(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function S(e,t,r,n){return H(q(t,e.length-r),e,r,n)}function A(e,t,r,n){return H(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return H(Z(t),e,r,n)}function E(e,t,r,n){return H(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function _(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function v(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return d(e)},u.allocUnsafeSlow=function(e){return d(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?v(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(n,i),l=e.slice(t,r);for(let u=0;u<a;++u)if(c[u]!==l[u]){s=c[u],o=l[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return A(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=Q[e[s]];return i}function O(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function M(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function N(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function L(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return z(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return z(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=u.isBuffer(e)?e:u.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const W={};function D(e,t,r){W[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function K(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,s)}function G(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw G(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=K(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=K(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const j=/[^+/0-9A-Za-z-_]/g;function q(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Y(e){return"undefined"===typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},6057:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Account:()=>Ht,Authorized:()=>ai,BLOCKHASH_CACHE_TIMEOUT_MS:()=>Nr,BPF_LOADER_DEPRECATED_PROGRAM_ID:()=>Xt,BPF_LOADER_PROGRAM_ID:()=>_r,BpfLoader:()=>vr,Connection:()=>ri,Ed25519Program:()=>si,Enum:()=>Wt,EpochSchedule:()=>Rr,FeeCalculatorLayout:()=>mr,Keypair:()=>ni,LAMPORTS_PER_SOL:()=>vi,Loader:()=>Er,Lockup:()=>ui,MAX_SEED_LENGTH:()=>Kt,Message:()=>er,NONCE_ACCOUNT_LENGTH:()=>br,NonceAccount:()=>wr,PACKET_DATA_SIZE:()=>nr,PublicKey:()=>Ft,SOLANA_SCHEMA:()=>Dt,STAKE_CONFIG_ID:()=>oi,STAKE_INSTRUCTION_LAYOUTS:()=>li,SYSTEM_INSTRUCTION_LAYOUTS:()=>Sr,SYSVAR_CLOCK_PUBKEY:()=>or,SYSVAR_INSTRUCTIONS_PUBKEY:()=>dr,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:()=>ar,SYSVAR_RENT_PUBKEY:()=>ur,SYSVAR_REWARDS_PUBKEY:()=>cr,SYSVAR_STAKE_HISTORY_PUBKEY:()=>lr,Secp256k1Program:()=>mi,SendTransactionError:()=>Or,StakeAuthorizationLayout:()=>di,StakeInstruction:()=>ci,StakeProgram:()=>hi,Struct:()=>Ct,SystemInstruction:()=>kr,SystemProgram:()=>Ar,Transaction:()=>sr,TransactionInstruction:()=>ir,VALIDATOR_INFO_KEY:()=>yi,VOTE_PROGRAM_ID:()=>ki,ValidatorInfo:()=>wi,VoteAccount:()=>Ai,clusterApiUrl:()=>_i,sendAndConfirmRawTransaction:()=>Ii,sendAndConfirmTransaction:()=>hr});var n=r(44967),i=r.n(n),s=r(69314),o=r(48744),a=r.n(o),u=r(68532),c=r.n(u),l=r(21215),d=r(42296),h=r(54338),p=r(85606),f=r(32908),g=r.n(f),m=r(91747),y=r.n(m),b=r(16348),w=r.n(b);const k=e=>s.Buffer.isBuffer(e)?e:e instanceof Uint8Array?s.Buffer.from(e.buffer,e.byteOffset,e.byteLength):s.Buffer.from(e);var S="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:"undefined"!==typeof self?self:{};function A(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var I={},E={},_=v;function v(e,t){if(!e)throw new Error(t||"Assertion failed")}v.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var x={exports:{}};"function"===typeof Object.create?x.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:x.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e};var T=_,P=x.exports;function R(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function O(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function M(e){return 1===e.length?"0"+e:e}function B(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}E.inherits=P,E.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):R(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},E.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=M(e[r].toString(16));return t},E.htonl=O,E.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=O(i)),r+=B(i.toString(16))}return r},E.zero2=M,E.zero8=B,E.join32=function(e,t,r,n){var i=r-t;T(i%4===0);for(var s=new Array(i/4),o=0,a=t;o<s.length;o++,a+=4){var u;u="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],s[o]=u>>>0}return s},E.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var s=e[n];"big"===t?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},E.rotr32=function(e,t){return e>>>t|e<<32-t},E.rotl32=function(e,t){return e<<t|e>>>32-t},E.sum32=function(e,t){return e+t>>>0},E.sum32_3=function(e,t,r){return e+t+r>>>0},E.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},E.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},E.sum64=function(e,t,r,n){var i=e[t],s=n+e[t+1]>>>0,o=(s<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=s},E.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},E.sum64_lo=function(e,t,r,n){return t+n>>>0},E.sum64_4_hi=function(e,t,r,n,i,s,o,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+s>>>0)<s?1:0,e+r+i+o+(u+=(c=c+a>>>0)<a?1:0)>>>0},E.sum64_4_lo=function(e,t,r,n,i,s,o,a){return t+n+s+a>>>0},E.sum64_5_hi=function(e,t,r,n,i,s,o,a,u,c){var l=0,d=t;return l+=(d=d+n>>>0)<t?1:0,l+=(d=d+s>>>0)<s?1:0,l+=(d=d+a>>>0)<a?1:0,e+r+i+o+u+(l+=(d=d+c>>>0)<c?1:0)>>>0},E.sum64_5_lo=function(e,t,r,n,i,s,o,a,u,c){return t+n+s+a+c>>>0},E.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},E.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},E.shr64_hi=function(e,t,r){return e>>>r},E.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0};var U={},N=E,L=_;function z(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}U.BlockHash=z,z.prototype.update=function(e,t){if(e=N.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=N.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},z.prototype.digest=function(e){return this.update(this._pad()),L(null===this.pending),this._digest(e)},z.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var C={},W={},D=E.rotr32;function K(e,t,r){return e&t^~e&r}function F(e,t,r){return e&t^e&r^t&r}function G(e,t,r){return e^t^r}W.ft_1=function(e,t,r,n){return 0===e?K(t,r,n):1===e||3===e?G(t,r,n):2===e?F(t,r,n):void 0},W.ch32=K,W.maj32=F,W.p32=G,W.s0_256=function(e){return D(e,2)^D(e,13)^D(e,22)},W.s1_256=function(e){return D(e,6)^D(e,11)^D(e,25)},W.g0_256=function(e){return D(e,7)^D(e,18)^e>>>3},W.g1_256=function(e){return D(e,17)^D(e,19)^e>>>10};var V=E,j=U,q=W,Z=V.rotl32,H=V.sum32,X=V.sum32_5,J=q.ft_1,Q=j.BlockHash,Y=[1518500249,1859775393,2400959708,3395469782];function $(){if(!(this instanceof $))return new $;Q.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}V.inherits($,Q);var ee=$;$.blockSize=512,$.outSize=160,$.hmacStrength=80,$.padLength=64,$.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=Z(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4];for(n=0;n<r.length;n++){var c=~~(n/20),l=X(Z(i,5),J(c,s,o,a),u,r[n],Y[c]);u=a,a=o,o=Z(s,30),s=i,i=l}this.h[0]=H(this.h[0],i),this.h[1]=H(this.h[1],s),this.h[2]=H(this.h[2],o),this.h[3]=H(this.h[3],a),this.h[4]=H(this.h[4],u)},$.prototype._digest=function(e){return"hex"===e?V.toHex32(this.h,"big"):V.split32(this.h,"big")};var te=E,re=U,ne=W,ie=_,se=te.sum32,oe=te.sum32_4,ae=te.sum32_5,ue=ne.ch32,ce=ne.maj32,le=ne.s0_256,de=ne.s1_256,he=ne.g0_256,pe=ne.g1_256,fe=re.BlockHash,ge=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function me(){if(!(this instanceof me))return new me;fe.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=ge,this.W=new Array(64)}te.inherits(me,fe);var ye=me;me.blockSize=512,me.outSize=256,me.hmacStrength=192,me.padLength=64,me.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=oe(pe(r[n-2]),r[n-7],he(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],l=this.h[6],d=this.h[7];for(ie(this.k.length===r.length),n=0;n<r.length;n++){var h=ae(d,de(u),ue(u,c,l),this.k[n],r[n]),p=se(le(i),ce(i,s,o));d=l,l=c,c=u,u=se(a,h),a=o,o=s,s=i,i=se(h,p)}this.h[0]=se(this.h[0],i),this.h[1]=se(this.h[1],s),this.h[2]=se(this.h[2],o),this.h[3]=se(this.h[3],a),this.h[4]=se(this.h[4],u),this.h[5]=se(this.h[5],c),this.h[6]=se(this.h[6],l),this.h[7]=se(this.h[7],d)},me.prototype._digest=function(e){return"hex"===e?te.toHex32(this.h,"big"):te.split32(this.h,"big")};var be=E,we=ye;function ke(){if(!(this instanceof ke))return new ke;we.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}be.inherits(ke,we);var Se=ke;ke.blockSize=512,ke.outSize=224,ke.hmacStrength=192,ke.padLength=64,ke.prototype._digest=function(e){return"hex"===e?be.toHex32(this.h.slice(0,7),"big"):be.split32(this.h.slice(0,7),"big")};var Ae=E,Ie=U,Ee=_,_e=Ae.rotr64_hi,ve=Ae.rotr64_lo,xe=Ae.shr64_hi,Te=Ae.shr64_lo,Pe=Ae.sum64,Re=Ae.sum64_hi,Oe=Ae.sum64_lo,Me=Ae.sum64_4_hi,Be=Ae.sum64_4_lo,Ue=Ae.sum64_5_hi,Ne=Ae.sum64_5_lo,Le=Ie.BlockHash,ze=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ce(){if(!(this instanceof Ce))return new Ce;Le.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ze,this.W=new Array(160)}Ae.inherits(Ce,Le);var We=Ce;function De(e,t,r,n,i){var s=e&r^~e&i;return s<0&&(s+=4294967296),s}function Ke(e,t,r,n,i,s){var o=t&n^~t&s;return o<0&&(o+=4294967296),o}function Fe(e,t,r,n,i){var s=e&r^e&i^r&i;return s<0&&(s+=4294967296),s}function Ge(e,t,r,n,i,s){var o=t&n^t&s^n&s;return o<0&&(o+=4294967296),o}function Ve(e,t){var r=_e(e,t,28)^_e(t,e,2)^_e(t,e,7);return r<0&&(r+=4294967296),r}function je(e,t){var r=ve(e,t,28)^ve(t,e,2)^ve(t,e,7);return r<0&&(r+=4294967296),r}function qe(e,t){var r=_e(e,t,14)^_e(e,t,18)^_e(t,e,9);return r<0&&(r+=4294967296),r}function Ze(e,t){var r=ve(e,t,14)^ve(e,t,18)^ve(t,e,9);return r<0&&(r+=4294967296),r}function He(e,t){var r=_e(e,t,1)^_e(e,t,8)^xe(e,t,7);return r<0&&(r+=4294967296),r}function Xe(e,t){var r=ve(e,t,1)^ve(e,t,8)^Te(e,t,7);return r<0&&(r+=4294967296),r}function Je(e,t){var r=_e(e,t,19)^_e(t,e,29)^xe(e,t,6);return r<0&&(r+=4294967296),r}function Qe(e,t){var r=ve(e,t,19)^ve(t,e,29)^Te(e,t,6);return r<0&&(r+=4294967296),r}Ce.blockSize=1024,Ce.outSize=512,Ce.hmacStrength=192,Ce.padLength=128,Ce.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=Je(r[n-4],r[n-3]),s=Qe(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],u=He(r[n-30],r[n-29]),c=Xe(r[n-30],r[n-29]),l=r[n-32],d=r[n-31];r[n]=Me(i,s,o,a,u,c,l,d),r[n+1]=Be(i,s,o,a,u,c,l,d)}},Ce.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],d=this.h[8],h=this.h[9],p=this.h[10],f=this.h[11],g=this.h[12],m=this.h[13],y=this.h[14],b=this.h[15];Ee(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var k=y,S=b,A=qe(d,h),I=Ze(d,h),E=De(d,h,p,f,g),_=Ke(d,h,p,f,g,m),v=this.k[w],x=this.k[w+1],T=r[w],P=r[w+1],R=Ue(k,S,A,I,E,_,v,x,T,P),O=Ne(k,S,A,I,E,_,v,x,T,P);k=Ve(n,i),S=je(n,i),A=Fe(n,i,s,o,a),I=Ge(n,i,s,o,a,u);var M=Re(k,S,A,I),B=Oe(k,S,A,I);y=g,b=m,g=p,m=f,p=d,f=h,d=Re(c,l,R,O),h=Oe(l,l,R,O),c=a,l=u,a=s,u=o,s=n,o=i,n=Re(R,O,M,B),i=Oe(R,O,M,B)}Pe(this.h,0,n,i),Pe(this.h,2,s,o),Pe(this.h,4,a,u),Pe(this.h,6,c,l),Pe(this.h,8,d,h),Pe(this.h,10,p,f),Pe(this.h,12,g,m),Pe(this.h,14,y,b)},Ce.prototype._digest=function(e){return"hex"===e?Ae.toHex32(this.h,"big"):Ae.split32(this.h,"big")};var Ye=E,$e=We;function et(){if(!(this instanceof et))return new et;$e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ye.inherits(et,$e);var tt=et;et.blockSize=1024,et.outSize=384,et.hmacStrength=192,et.padLength=128,et.prototype._digest=function(e){return"hex"===e?Ye.toHex32(this.h.slice(0,12),"big"):Ye.split32(this.h.slice(0,12),"big")},C.sha1=ee,C.sha224=Se,C.sha256=ye,C.sha384=tt,C.sha512=We;var rt={},nt=E,it=U,st=nt.rotl32,ot=nt.sum32,at=nt.sum32_3,ut=nt.sum32_4,ct=it.BlockHash;function lt(){if(!(this instanceof lt))return new lt;ct.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function dt(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function ht(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function pt(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}nt.inherits(lt,ct),rt.ripemd160=lt,lt.blockSize=512,lt.outSize=160,lt.hmacStrength=192,lt.padLength=64,lt.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,u=n,c=i,l=s,d=o,h=0;h<80;h++){var p=ot(st(ut(r,dt(h,n,i,s),e[ft[h]+t],ht(h)),mt[h]),o);r=o,o=s,s=st(i,10),i=n,n=p,p=ot(st(ut(a,dt(79-h,u,c,l),e[gt[h]+t],pt(h)),yt[h]),d),a=d,d=l,l=st(c,10),c=u,u=p}p=at(this.h[1],i,l),this.h[1]=at(this.h[2],s,d),this.h[2]=at(this.h[3],o,a),this.h[3]=at(this.h[4],r,u),this.h[4]=at(this.h[0],n,c),this.h[0]=p},lt.prototype._digest=function(e){return"hex"===e?nt.toHex32(this.h,"little"):nt.split32(this.h,"little")};var ft=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],gt=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],mt=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],yt=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],bt=E,wt=_;function kt(e,t,r){if(!(this instanceof kt))return new kt(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(bt.toArray(t,r))}var St=kt;kt.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),wt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},kt.prototype.update=function(e,t){return this.inner.update(e,t),this},kt.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=E,t.common=U,t.sha=C,t.ripemd=rt,t.hmac=St,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(I);var At=I;let It=!1,Et=!1;const _t={debug:1,default:2,info:2,warning:3,error:4,off:5};let vt=_t.default,xt=null;const Tt=function(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach((t=>{try{if("test"!=="test".normalize(t))throw new Error("bad normalize")}catch(r){e.push(t)}})),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}();var Pt,Rt;!function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"}(Pt||(Pt={})),function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Rt||(Rt={}));const Ot="0123456789abcdef";class Mt{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,t){const r=e.toLowerCase();null==_t[r]&&this.throwArgumentError("invalid log level name","logLevel",e),vt>_t[r]||console.log.apply(console,t)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Mt.levels.DEBUG,t)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Mt.levels.INFO,t)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this._log(Mt.levels.WARNING,t)}makeError(e,t,r){if(Et)return this.makeError("censored error",t,{});t||(t=Mt.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((e=>{const t=r[e];try{if(t instanceof Uint8Array){let r="";for(let e=0;e<t.length;e++)r+=Ot[t[e]>>4],r+=Ot[15&t[e]];n.push(e+"=Uint8Array(0x"+r+")")}else n.push(e+"="+JSON.stringify(t))}catch(s){n.push(e+"="+JSON.stringify(r[e].toString()))}})),n.push(`code=${t}`),n.push(`version=${this.version}`);const i=e;n.length&&(e+=" ("+n.join(", ")+")");const s=new Error(e);return s.reason=i,s.code=t,Object.keys(r).forEach((function(e){s[e]=r[e]})),s}throwError(e,t,r){throw this.makeError(e,t,r)}throwArgumentError(e,t,r){return this.throwError(e,Mt.errors.INVALID_ARGUMENT,{argument:t,value:r})}assert(e,t,r,n){e||this.throwError(t,r,n)}assertArgument(e,t,r,n){e||this.throwArgumentError(t,r,n)}checkNormalize(e){Tt&&this.throwError("platform missing String.prototype.normalize",Mt.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Tt})}checkSafeUint53(e,t){"number"===typeof e&&(null==t&&(t="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(t,Mt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(t,Mt.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,t,r){r=r?": "+r:"",e<t&&this.throwError("missing argument"+r,Mt.errors.MISSING_ARGUMENT,{count:e,expectedCount:t}),e>t&&this.throwError("too many arguments"+r,Mt.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:t})}checkNew(e,t){e!==Object&&null!=e||this.throwError("missing new",Mt.errors.MISSING_NEW,{name:t.name})}checkAbstract(e,t){e===t?this.throwError("cannot instantiate abstract class "+JSON.stringify(t.name)+" directly; use a sub-class",Mt.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):e!==Object&&null!=e||this.throwError("missing new",Mt.errors.MISSING_NEW,{name:t.name})}static globalLogger(){return xt||(xt=new Mt("logger/5.5.0")),xt}static setCensorship(e,t){if(!e&&t&&this.globalLogger().throwError("cannot permanently disable censorship",Mt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),It){if(!e)return;this.globalLogger().throwError("error censorship permanent",Mt.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Et=!!e,It=!!t}static setLogLevel(e){const t=_t[e.toLowerCase()];null!=t?vt=t:Mt.globalLogger().warn("invalid log level - "+e)}static from(e){return new Mt(e)}}Mt.errors=Rt,Mt.levels=Pt;const Bt=new Mt("bytes/5.5.0");function Ut(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Ut(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Nt(e){return"number"===typeof e&&e==e&&e%1===0}function Lt(e,t){if(t||(t={}),"number"===typeof e){Bt.checkSafeUint53(e,"invalid arrayify value");const t=[];for(;e;)t.unshift(255&e),e=parseInt(String(e/256));return 0===t.length&&t.push(0),Ut(new Uint8Array(t))}if(t.allowMissingPrefix&&"string"===typeof e&&"0x"!==e.substring(0,2)&&(e="0x"+e),function(e){return!!e.toHexString}(e)&&(e=e.toHexString()),function(e,t){if("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))return!1;if(t&&e.length!==2+2*t)return!1;return!0}(e)){let r=e.substring(2);r.length%2&&("left"===t.hexPad?r="0x0"+r.substring(2):"right"===t.hexPad?r+="0":Bt.throwArgumentError("hex data is odd-length","value",e));const n=[];for(let e=0;e<r.length;e+=2)n.push(parseInt(r.substring(e,e+2),16));return Ut(new Uint8Array(n))}return function(e){if(null==e)return!1;if(e.constructor===Uint8Array)return!0;if("string"===typeof e)return!1;if(!Nt(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Nt(r)||r<0||r>=256)return!1}return!0}(e)?Ut(new Uint8Array(e)):Bt.throwArgumentError("invalid arrayify value","value",e)}function zt(e){return"0x"+At.sha256().update(Lt(e)).digest("hex")}new Mt("sha2/5.5.0");class Ct{constructor(e){Object.assign(this,e)}encode(){return s.Buffer.from((0,l.serialize)(Dt,this))}static decode(e){return(0,l.deserialize)(Dt,this,e)}static decodeUnchecked(e){return(0,l.deserializeUnchecked)(Dt,this,e)}}class Wt extends Ct{constructor(e){if(super(e),this.enum="",1!==Object.keys(e).length)throw new Error("Enum can only take single value");Object.keys(e).map((e=>{this.enum=e}))}}const Dt=new Map,Kt=32;class Ft extends Ct{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=c().decode(e);if(32!=t.length)throw new Error("Invalid public key input");this._bn=new(a())(t)}else this._bn=new(a())(e);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(e){return this._bn.eq(e._bn)}toBase58(){return c().encode(this.toBytes())}toBytes(){return this.toBuffer()}toBuffer(){const e=this._bn.toArrayLike(s.Buffer);if(32===e.length)return e;const t=s.Buffer.alloc(32);return e.copy(t,32-e.length),t}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=s.Buffer.concat([e.toBuffer(),s.Buffer.from(t),r.toBuffer()]),i=zt(new Uint8Array(n)).slice(2);return new Ft(s.Buffer.from(i,"hex"))}static async createProgramAddress(e,t){let r=s.Buffer.alloc(0);e.forEach((function(e){if(e.length>Kt)throw new TypeError("Max seed length exceeded");r=s.Buffer.concat([r,k(e)])})),r=s.Buffer.concat([r,t.toBuffer(),s.Buffer.from("ProgramDerivedAddress")]);let n=zt(new Uint8Array(r)).slice(2),i=new(a())(n,16).toArray(void 0,32);if(Vt(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ft(i)}static async findProgramAddress(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(s.Buffer.from([n]));r=await this.createProgramAddress(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static isOnCurve(e){return 1==Vt(e)}}Ft.default=new Ft("11111111111111111111111111111111"),Dt.set(Ft,{kind:"struct",fields:[["_bn","u256"]]});let Gt=i().lowlevel;function Vt(e){var t=[Gt.gf(),Gt.gf(),Gt.gf(),Gt.gf()],r=Gt.gf(),n=Gt.gf(),i=Gt.gf(),s=Gt.gf(),o=Gt.gf(),a=Gt.gf(),u=Gt.gf();return Gt.set25519(t[2],jt),Gt.unpack25519(t[1],e),Gt.S(i,t[1]),Gt.M(s,i,Gt.D),Gt.Z(i,i,t[2]),Gt.A(s,t[2],s),Gt.S(o,s),Gt.S(a,o),Gt.M(u,a,o),Gt.M(r,u,i),Gt.M(r,r,s),Gt.pow2523(r,r),Gt.M(r,r,i),Gt.M(r,r,s),Gt.M(r,r,s),Gt.M(t[0],r,s),Gt.S(n,t[0]),Gt.M(n,n,s),Zt(n,i)&&Gt.M(t[0],t[0],qt),Gt.S(n,t[0]),Gt.M(n,n,s),Zt(n,i)?0:1}let jt=Gt.gf([1]),qt=Gt.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Zt(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return Gt.pack25519(r,e),Gt.pack25519(n,t),Gt.crypto_verify_32(r,0,n,0)}class Ht{constructor(e){this._keypair=void 0,this._keypair=e?i().sign.keyPair.fromSecretKey(k(e)):i().sign.keyPair()}get publicKey(){return new Ft(this._keypair.publicKey)}get secretKey(){return k(this._keypair.secretKey)}}const Xt=new Ft("BPFLoader1111111111111111111111111111111111"),Jt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"publicKey";return d.blob(32,e)},Qt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"string";const t=d.struct([d.u32("length"),d.u32("lengthPadding"),d.blob(d.offset(d.u32(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t);return t.decode=(e,t)=>r(e,t).chars.toString("utf8"),t.encode=(e,t,r)=>{const i={chars:s.Buffer.from(e,"utf8")};return n(i,t,r)},t.alloc=e=>d.u32().span+d.u32().span+s.Buffer.from(e,"utf8").length,t};function Yt(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function $t(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}class er{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Ft(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){return e<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||e>=this.header.numRequiredSignatures&&e<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];$t(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=c().decode(e.data);let i=[];$t(i,t.length);let o=[];return $t(o,n.length),{programIdIndex:r,keyIndicesCount:s.Buffer.from(i),keyIndices:s.Buffer.from(t),dataLength:s.Buffer.from(o),data:n}}));let n=[];$t(n,r.length);let i=s.Buffer.alloc(nr);s.Buffer.from(n).copy(i);let o=n.length;r.forEach((e=>{const t=d.struct([d.u8("programIdIndex"),d.blob(e.keyIndicesCount.length,"keyIndicesCount"),d.seq(d.u8("keyIndex"),e.keyIndices.length,"keyIndices"),d.blob(e.dataLength.length,"dataLength"),d.seq(d.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);const a=d.struct([d.blob(1,"numRequiredSignatures"),d.blob(1,"numReadonlySignedAccounts"),d.blob(1,"numReadonlyUnsignedAccounts"),d.blob(t.length,"keyCount"),d.seq(Jt("key"),e,"keys"),Jt("recentBlockhash")]),u={numRequiredSignatures:s.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:s.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:s.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:s.Buffer.from(t),keys:this.accountKeys.map((e=>k(e.toBytes()))),recentBlockhash:c().decode(this.recentBlockhash)};let l=s.Buffer.alloc(2048);const h=a.encode(u,l);return i.copy(l,h),l.slice(0,h+i.length)}static from(e){let t=[...e];const r=t.shift(),n=t.shift(),i=t.shift(),o=Yt(t);let a=[];for(let p=0;p<o;p++){const e=t.slice(0,32);t=t.slice(32),a.push(c().encode(s.Buffer.from(e)))}const u=t.slice(0,32);t=t.slice(32);const l=Yt(t);let d=[];for(let p=0;p<l;p++){const e=t.shift(),r=Yt(t),n=t.slice(0,r);t=t.slice(r);const i=Yt(t),o=t.slice(0,i),a=c().encode(s.Buffer.from(o));t=t.slice(i),d.push({programIdIndex:e,accounts:n,data:a})}const h={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:c().encode(s.Buffer.from(u)),accountKeys:a,instructions:d};return new er(h)}}function tr(e,t){if(!e)throw new Error(t||"Assertion failed")}const rr=s.Buffer.alloc(64).fill(0),nr=1232;class ir{constructor(e){this.keys=void 0,this.programId=void 0,this.data=s.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}}class sr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,e&&Object.assign(this,e)}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No instructions");return t.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new ir(e))})),this}compileMessage(){const{nonceInfo:e}=this;e&&this.instructions[0]!=e.nonceInstruction&&(this.recentBlockhash=e.nonce,this.instructions.unshift(e.nonceInstruction));const{recentBlockhash:t}=this;if(!t)throw new Error("Transaction recentBlockhash required");let r;if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let c=0;c<this.instructions.length;c++)if(void 0===this.instructions[c].programId)throw new Error(`Transaction instruction index ${c} has undefined program id`);const n=[],i=[];this.instructions.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new Ft(e),isSigner:!1,isWritable:!1})})),i.sort((function(e,t){const r=e.isSigner===t.isSigner?0:e.isSigner?-1:1,n=e.isWritable===t.isWritable?0:e.isWritable?-1:1;return r||n}));const s=[];i.forEach((e=>{const t=e.pubkey.toString(),r=s.findIndex((e=>e.pubkey.toString()===t));r>-1?s[r].isWritable=s[r].isWritable||e.isWritable:s.push(e)}));const o=s.findIndex((e=>e.pubkey.equals(r)));if(o>-1){const[e]=s.splice(o,1);e.isSigner=!0,e.isWritable=!0,s.unshift(e)}else s.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const c of this.signatures){const e=s.findIndex((e=>e.pubkey.equals(c.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${c.publicKey.toString()}`);s[e].isSigner||(s[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,l=0;const d=[],h=[];s.forEach((e=>{let{pubkey:t,isSigner:r,isWritable:n}=e;r?(d.push(t.toString()),a+=1,n||(u+=1)):(h.push(t.toString()),n||(l+=1))}));const p=d.concat(h),f=this.instructions.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:p.indexOf(r.toString()),accounts:e.keys.map((e=>p.indexOf(e.pubkey.toString()))),data:c().encode(t)}}));return f.forEach((e=>{tr(e.programIdIndex>=0),e.accounts.forEach((e=>tr(e>=0)))})),new er({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:p,recentBlockhash:t,instructions:f})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}setSigners(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set;this.signatures=t.filter((e=>{const t=e.toString();return!n.has(t)&&(n.add(t),!0)})).map((e=>({signature:null,publicKey:e})))}sign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}this.signatures=i.map((e=>({signature:null,publicKey:e.publicKey})));const s=this._compile();this._partialSign(s,...i),this._verifySignatures(s.serialize(),!0)}partialSign(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("No signers");const n=new Set,i=[];for(const o of t){const e=o.publicKey.toString();n.has(e)||(n.add(e),i.push(o))}const s=this._compile();this._partialSign(s,...i)}_partialSign(e){const t=e.serialize();for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];n.forEach((e=>{const r=i().sign.detached(t,e.secretKey);this._addSignature(e.publicKey,k(r))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){tr(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=s.Buffer.from(t)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(e,t){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(t)return!1}else if(!i().sign.detached.verify(e,r,n.toBuffer()))return!1;return!0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r&&!this._verifySignatures(n,t))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];$t(r,t.length);const n=r.length+64*t.length+e.length,i=s.Buffer.alloc(n);return tr(t.length<256),s.Buffer.from(r).copy(i,0),t.forEach(((e,t)=>{let{signature:n}=e;null!==n&&(tr(64===n.length,"signature has invalid length"),s.Buffer.from(n).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),tr(i.length<=nr,`Transaction too large: ${i.length} > ${nr}`),i}get keys(){return tr(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return tr(1===this.instructions.length),this.instructions[0].programId}get data(){return tr(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=Yt(t);let n=[];for(let i=0;i<r;i++){const e=t.slice(0,64);t=t.slice(64),n.push(c().encode(s.Buffer.from(e)))}return sr.populate(er.from(t),n)}static populate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new sr;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==c().encode(rr)?null:c().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new ir({keys:n,programId:e.accountKeys[t.programIdIndex],data:c().decode(t.data)}))})),r}}const or=new Ft("SysvarC1ock11111111111111111111111111111111"),ar=new Ft("SysvarRecentB1ockHashes11111111111111111111"),ur=new Ft("SysvarRent111111111111111111111111111111111"),cr=new Ft("SysvarRewards111111111111111111111111111111"),lr=new Ft("SysvarStakeHistory1111111111111111111111111"),dr=new Ft("Sysvar1nstructions1111111111111111111111111");async function hr(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment},s=await e.sendTransaction(t,r,i),o=(await e.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function pr(e){return new Promise((t=>setTimeout(t,e)))}function fr(e,t){const r=e.layout.span>=0?e.layout.span:function(e,t){let r=0;return e.layout.fields.forEach((e=>{e.span>=0?r+=e.span:"function"===typeof e.alloc&&(r+=e.alloc(t[e.property]))})),r}(e,t),n=s.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}function gr(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==e.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${e.index}`);return r}const mr=d.nu64("lamportsPerSignature"),yr=d.struct([d.u32("version"),d.u32("state"),Jt("authorizedPubkey"),Jt("nonce"),d.struct([mr],"feeCalculator")]),br=yr.span;class wr{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=yr.decode(k(e),0);return new wr({authorizedPubkey:new Ft(t.authorizedPubkey),nonce:new Ft(t.nonce).toString(),feeCalculator:t.feeCalculator})}}class kr{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.u32("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(Sr))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a SystemInstruction");return r}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t,space:r,programId:n}=gr(Sr.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:t,space:r,programId:new Ft(n)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:t}=gr(Sr.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:t}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t,seed:r,programId:n}=gr(Sr.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:t,seed:r,programId:new Ft(n)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:t}=gr(Sr.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:t}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,space:n,programId:i}=gr(Sr.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ft(t),seed:r,space:n,programId:new Ft(i)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:t}=gr(Sr.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ft(t)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:t,seed:r,programId:n}=gr(Sr.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ft(t),seed:r,programId:new Ft(n)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:t,seed:r,lamports:n,space:i,programId:s}=gr(Sr.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ft(t),seed:r,lamports:n,space:i,programId:new Ft(s)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:t}=gr(Sr.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ft(t)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),gr(Sr.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=gr(Sr.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t}=gr(Sr.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ft(t)}}static checkProgramId(e){if(!e.equals(Ar.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const Sr=Object.freeze({Create:{index:0,layout:d.struct([d.u32("instruction"),d.ns64("lamports"),d.ns64("space"),Jt("programId")])},Assign:{index:1,layout:d.struct([d.u32("instruction"),Jt("programId")])},Transfer:{index:2,layout:d.struct([d.u32("instruction"),d.ns64("lamports")])},CreateWithSeed:{index:3,layout:d.struct([d.u32("instruction"),Jt("base"),Qt("seed"),d.ns64("lamports"),d.ns64("space"),Jt("programId")])},AdvanceNonceAccount:{index:4,layout:d.struct([d.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:d.struct([d.u32("instruction"),d.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:d.struct([d.u32("instruction"),Jt("authorized")])},AuthorizeNonceAccount:{index:7,layout:d.struct([d.u32("instruction"),Jt("authorized")])},Allocate:{index:8,layout:d.struct([d.u32("instruction"),d.ns64("space")])},AllocateWithSeed:{index:9,layout:d.struct([d.u32("instruction"),Jt("base"),Qt("seed"),d.ns64("space"),Jt("programId")])},AssignWithSeed:{index:10,layout:d.struct([d.u32("instruction"),Jt("base"),Qt("seed"),Jt("programId")])},TransferWithSeed:{index:11,layout:d.struct([d.u32("instruction"),d.ns64("lamports"),Qt("seed"),Jt("programId")])}});class Ar{constructor(){}static createAccount(e){const t=fr(Sr.Create,{lamports:e.lamports,space:e.space,programId:k(e.programId.toBuffer())});return new ir({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=fr(Sr.TransferWithSeed,{lamports:e.lamports,seed:e.seed,programId:k(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=fr(Sr.Transfer,{lamports:e.lamports}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new ir({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=fr(Sr.AssignWithSeed,{base:k(e.basePubkey.toBuffer()),seed:e.seed,programId:k(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=fr(Sr.Assign,{programId:k(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ir({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=fr(Sr.CreateWithSeed,{base:k(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:k(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey!=e.fromPubkey&&r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new ir({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new sr;"basePubkey"in e&&"seed"in e?t.add(Ar.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:br,programId:this.programId})):t.add(Ar.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:br,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=fr(Sr.InitializeNonceAccount,{authorized:k(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:ur,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new ir(r)}static nonceAdvance(e){const t=fr(Sr.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new ir(r)}static nonceWithdraw(e){const t=fr(Sr.WithdrawNonceAccount,{lamports:e.lamports});return new ir({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:ar,isSigner:!1,isWritable:!1},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=fr(Sr.AuthorizeNonceAccount,{authorized:k(e.newAuthorizedPubkey.toBuffer())});return new ir({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=fr(Sr.AllocateWithSeed,{base:k(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:k(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=fr(Sr.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new ir({keys:r,programId:this.programId,data:t})}}Ar.programId=new Ft("11111111111111111111111111111111");const Ir=nr-300;class Er{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/Er.chunkSize)+1+1)}static async load(e,t,r,n,i){{const s=await e.getMinimumBalanceForRentExemption(i.length),o=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==o){if(o.executable)return console.error("Program load failed, account is already executable"),!1;o.data.length!==i.length&&(a=a||new sr,a.add(Ar.allocate({accountPubkey:r.publicKey,space:i.length}))),o.owner.equals(n)||(a=a||new sr,a.add(Ar.assign({accountPubkey:r.publicKey,programId:n}))),o.lamports<s&&(a=a||new sr,a.add(Ar.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:s-o.lamports})))}else a=(new sr).add(Ar.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:s>0?s:1,space:i.length,programId:n}));null!==a&&await hr(e,a,[t,r],{commitment:"confirmed"})}const o=d.struct([d.u32("instruction"),d.u32("offset"),d.u32("bytesLength"),d.u32("bytesLengthPadding"),d.seq(d.u8("byte"),d.offset(d.u32(),-8),"bytes")]),a=Er.chunkSize;let u=0,c=i,l=[];for(;c.length>0;){const i=c.slice(0,a),d=s.Buffer.alloc(a+16);o.encode({instruction:0,offset:u,bytes:i},d);const h=(new sr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:d});if(l.push(hr(e,h,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await pr(1e3/e)}u+=a,c=c.slice(a)}await Promise.all(l);{const i=d.struct([d.u32("instruction")]),o=s.Buffer.alloc(i.span);i.encode({instruction:1},o);const a=(new sr).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1}],programId:n,data:o});await hr(e,a,[t,r],{commitment:"confirmed"})}return!0}}Er.chunkSize=Ir;const _r=new Ft("BPFLoader2111111111111111111111111111111111");class vr{static getMinNumSignatures(e){return Er.getMinNumSignatures(e)}static load(e,t,r,n,i){return Er.load(e,t,r,i,n)}}var xr={exports:{}};!function(e,t){var r="undefined"!==typeof self?self:S,n=function(){function e(){this.fetch=!1,this.DOMException=r.DOMException}return e.prototype=r,new e}();!function(e){!function(t){var r="URLSearchParams"in e,n="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in e,o="ArrayBuffer"in e;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function l(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return n&&(t[Symbol.iterator]=function(){return t}),t}function h(e){this.map={},e instanceof h?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function g(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function m(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=m(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=m(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=f(t);return t.readAsText(e),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(e,t){e=c(e),t=l(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},h.prototype.delete=function(e){delete this.map[c(e)]},h.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},h.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},h.prototype.set=function(e,t){this.map[c(e)]=l(t)},h.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},h.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),d(e)},h.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},h.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),d(e)},n&&(h.prototype[Symbol.iterator]=h.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function w(e,t){var r=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new h(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new h(t.headers)),this.method=function(e){var t=e.toUpperCase();return b.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(r)}function k(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}})),t}function S(e){var t=new h;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}})),t}function A(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new h(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},y.call(w.prototype),y.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},A.error=function(){var e=new A(null,{status:0,statusText:""});return e.type="error",e};var I=[301,302,303,307,308];A.redirect=function(e,t){if(-1===I.indexOf(t))throw new RangeError("Invalid status code");return new A(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(_){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,r){return new Promise((function(n,s){var o=new w(e,r);if(o.signal&&o.signal.aborted)return s(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function u(){a.abort()}a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:S(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;n(new A(t,e))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new t.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",u),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",u)}),a.send("undefined"===typeof o._bodyInit?null:o._bodyInit)}))}E.polyfill=!0,e.fetch||(e.fetch=E,e.Headers=h,e.Request=w,e.Response=A),t.Headers=h,t.Request=w,t.Response=A,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t}(xr,xr.exports);var Tr=A(xr.exports);function Pr(e){let t=0;for(;e>1;)e/=2,t++;return t}class Rr{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=Pr(0===(t=e+32+1)?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,1+(t|=t>>32)))-Pr(32)-1;return[r,e-(this.getSlotsInEpoch(r)-32)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}var t}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Pr(32)):this.slotsPerEpoch}}class Or extends Error{constructor(e,t){super(e),this.logs=void 0,this.logs=t}}const Mr=(0,h.oQ)((0,h.eE)(Ft),(0,h.Z_)(),(e=>new Ft(e))),Br=(0,h.bc)([(0,h.Z_)(),(0,h.i0)("base64")]),Ur=(0,h.oQ)((0,h.eE)(s.Buffer),Br,(e=>s.Buffer.from(e[0],"base64"))),Nr=3e4;function Lr(e){return(0,h.G0)([(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),result:e}),(0,h.dt)({jsonrpc:(0,h.i0)("2.0"),id:(0,h.Z_)(),error:(0,h.dt)({code:(0,h._4)(),message:(0,h.Z_)(),data:(0,h.jt)((0,h.Yj)())})})])}const zr=Lr((0,h._4)());function Cr(e){return(0,h.oQ)(Lr(e),zr,(t=>"error"in t?t:{...t,result:(0,h.Ue)(t.result,e)}))}function Wr(e){return Cr((0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:e}))}function Dr(e){return(0,h.dt)({context:(0,h.dt)({slot:(0,h.Rx)()}),value:e})}const Kr=(0,h.dt)({foundation:(0,h.Rx)(),foundationTerm:(0,h.Rx)(),initial:(0,h.Rx)(),taper:(0,h.Rx)(),terminal:(0,h.Rx)()}),Fr=Cr((0,h.IX)((0,h.AG)((0,h.dt)({epoch:(0,h.Rx)(),effectiveSlot:(0,h.Rx)(),amount:(0,h.Rx)(),postBalance:(0,h.Rx)()})))),Gr=(0,h.dt)({epoch:(0,h.Rx)(),slotIndex:(0,h.Rx)(),slotsInEpoch:(0,h.Rx)(),absoluteSlot:(0,h.Rx)(),blockHeight:(0,h.jt)((0,h.Rx)()),transactionCount:(0,h.jt)((0,h.Rx)())}),Vr=(0,h.dt)({slotsPerEpoch:(0,h.Rx)(),leaderScheduleSlotOffset:(0,h.Rx)(),warmup:(0,h.O7)(),firstNormalEpoch:(0,h.Rx)(),firstNormalSlot:(0,h.Rx)()}),jr=(0,h.IM)((0,h.Z_)(),(0,h.IX)((0,h.Rx)())),qr=(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),Zr=(0,h.dt)({err:qr}),Hr=(0,h.i0)("receivedSignature"),Xr=(0,h.dt)({"solana-core":(0,h.Z_)(),"feature-set":(0,h.jt)((0,h.Rx)())}),Jr=Wr((0,h.dt)({err:(0,h.AG)((0,h.G0)([(0,h.dt)({}),(0,h.Z_)()])),logs:(0,h.AG)((0,h.IX)((0,h.Z_)())),accounts:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({executable:(0,h.O7)(),owner:(0,h.Z_)(),lamports:(0,h.Rx)(),data:(0,h.IX)((0,h.Z_)()),rentEpoch:(0,h.jt)((0,h.Rx)())})))),unitsConsumed:(0,h.jt)((0,h.Rx)())}));const Qr=Cr(Kr),Yr=Cr(Gr),$r=Cr(Vr),en=Cr(jr),tn=Cr((0,h.Rx)()),rn=Wr((0,h.dt)({total:(0,h.Rx)(),circulating:(0,h.Rx)(),nonCirculating:(0,h.Rx)(),nonCirculatingAccounts:(0,h.IX)(Mr)})),nn=(0,h.dt)({amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}),sn=Wr((0,h.IX)((0,h.dt)({address:Mr,amount:(0,h.Z_)(),uiAmount:(0,h.AG)((0,h.Rx)()),decimals:(0,h.Rx)(),uiAmountString:(0,h.jt)((0,h.Z_)())}))),on=Wr((0,h.IX)((0,h.dt)({pubkey:Mr,account:(0,h.dt)({executable:(0,h.O7)(),owner:Mr,lamports:(0,h.Rx)(),data:Ur,rentEpoch:(0,h.Rx)()})}))),an=(0,h.dt)({program:(0,h.Z_)(),parsed:(0,h._4)(),space:(0,h.Rx)()}),un=Wr((0,h.IX)((0,h.dt)({pubkey:Mr,account:(0,h.dt)({executable:(0,h.O7)(),owner:Mr,lamports:(0,h.Rx)(),data:an,rentEpoch:(0,h.Rx)()})}))),cn=Wr((0,h.IX)((0,h.dt)({lamports:(0,h.Rx)(),address:Mr}))),ln=(0,h.dt)({executable:(0,h.O7)(),owner:Mr,lamports:(0,h.Rx)(),data:Ur,rentEpoch:(0,h.Rx)()}),dn=(0,h.dt)({pubkey:Mr,account:ln}),hn=(0,h.oQ)((0,h.G0)([(0,h.eE)(s.Buffer),an]),(0,h.G0)([Br,an]),(e=>Array.isArray(e)?(0,h.Ue)(e,Ur):e)),pn=(0,h.dt)({executable:(0,h.O7)(),owner:Mr,lamports:(0,h.Rx)(),data:hn,rentEpoch:(0,h.Rx)()}),fn=(0,h.dt)({pubkey:Mr,account:pn}),gn=(0,h.dt)({state:(0,h.G0)([(0,h.i0)("active"),(0,h.i0)("inactive"),(0,h.i0)("activating"),(0,h.i0)("deactivating")]),active:(0,h.Rx)(),inactive:(0,h.Rx)()}),mn=Cr((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:qr,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),yn=Cr((0,h.IX)((0,h.dt)({signature:(0,h.Z_)(),slot:(0,h.Rx)(),err:qr,memo:(0,h.AG)((0,h.Z_)()),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),bn=(0,h.dt)({subscription:(0,h.Rx)(),result:Dr(ln)}),wn=(0,h.dt)({pubkey:Mr,account:ln}),kn=(0,h.dt)({subscription:(0,h.Rx)(),result:Dr(wn)}),Sn=(0,h.dt)({parent:(0,h.Rx)(),slot:(0,h.Rx)(),root:(0,h.Rx)()}),An=(0,h.dt)({subscription:(0,h.Rx)(),result:Sn}),In=(0,h.G0)([(0,h.dt)({type:(0,h.G0)([(0,h.i0)("firstShredReceived"),(0,h.i0)("completed"),(0,h.i0)("optimisticConfirmation"),(0,h.i0)("root")]),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("createdBank"),parent:(0,h.Rx)(),slot:(0,h.Rx)(),timestamp:(0,h.Rx)()}),(0,h.dt)({type:(0,h.i0)("frozen"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),stats:(0,h.dt)({numTransactionEntries:(0,h.Rx)(),numSuccessfulTransactions:(0,h.Rx)(),numFailedTransactions:(0,h.Rx)(),maxTransactionsPerEntry:(0,h.Rx)()})}),(0,h.dt)({type:(0,h.i0)("dead"),slot:(0,h.Rx)(),timestamp:(0,h.Rx)(),err:(0,h.Z_)()})]),En=(0,h.dt)({subscription:(0,h.Rx)(),result:In}),_n=(0,h.dt)({subscription:(0,h.Rx)(),result:Dr((0,h.G0)([Zr,Hr]))}),vn=(0,h.dt)({subscription:(0,h.Rx)(),result:(0,h.Rx)()}),xn=(0,h.dt)({pubkey:(0,h.Z_)(),gossip:(0,h.AG)((0,h.Z_)()),tpu:(0,h.AG)((0,h.Z_)()),rpc:(0,h.AG)((0,h.Z_)()),version:(0,h.AG)((0,h.Z_)())}),Tn=(0,h.dt)({votePubkey:(0,h.Z_)(),nodePubkey:(0,h.Z_)(),activatedStake:(0,h.Rx)(),epochVoteAccount:(0,h.O7)(),epochCredits:(0,h.IX)((0,h.bc)([(0,h.Rx)(),(0,h.Rx)(),(0,h.Rx)()])),commission:(0,h.Rx)(),lastVote:(0,h.Rx)(),rootSlot:(0,h.AG)((0,h.Rx)())}),Pn=Cr((0,h.dt)({current:(0,h.IX)(Tn),delinquent:(0,h.IX)(Tn)})),Rn=(0,h.G0)([(0,h.i0)("processed"),(0,h.i0)("confirmed"),(0,h.i0)("finalized")]),On=(0,h.dt)({slot:(0,h.Rx)(),confirmations:(0,h.AG)((0,h.Rx)()),err:qr,confirmationStatus:(0,h.jt)(Rn)}),Mn=Wr((0,h.IX)((0,h.AG)(On))),Bn=Cr((0,h.Rx)()),Un=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.Z_)()),header:(0,h.dt)({numRequiredSignatures:(0,h.Rx)(),numReadonlySignedAccounts:(0,h.Rx)(),numReadonlyUnsignedAccounts:(0,h.Rx)()}),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()})),recentBlockhash:(0,h.Z_)()})}),Nn=(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:Mr}),Ln=(0,h.dt)({accounts:(0,h.IX)(Mr),data:(0,h.Z_)(),programId:Mr}),zn=(0,h.G0)([Ln,Nn]),Cn=(0,h.G0)([(0,h.dt)({parsed:(0,h._4)(),program:(0,h.Z_)(),programId:(0,h.Z_)()}),(0,h.dt)({accounts:(0,h.IX)((0,h.Z_)()),data:(0,h.Z_)(),programId:(0,h.Z_)()})]),Wn=(0,h.oQ)(zn,Cn,(e=>"accounts"in e?(0,h.Ue)(e,Ln):(0,h.Ue)(e,Nn))),Dn=(0,h.dt)({signatures:(0,h.IX)((0,h.Z_)()),message:(0,h.dt)({accountKeys:(0,h.IX)((0,h.dt)({pubkey:Mr,signer:(0,h.O7)(),writable:(0,h.O7)()})),instructions:(0,h.IX)(Wn),recentBlockhash:(0,h.Z_)()})}),Kn=(0,h.dt)({accountIndex:(0,h.Rx)(),mint:(0,h.Z_)(),uiTokenAmount:nn}),Fn=(0,h.dt)({err:qr,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)((0,h.dt)({accounts:(0,h.IX)((0,h.Rx)()),data:(0,h.Z_)(),programIdIndex:(0,h.Rx)()}))})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(Kn))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(Kn)))}),Gn=(0,h.dt)({err:qr,fee:(0,h.Rx)(),innerInstructions:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.dt)({index:(0,h.Rx)(),instructions:(0,h.IX)(Wn)})))),preBalances:(0,h.IX)((0,h.Rx)()),postBalances:(0,h.IX)((0,h.Rx)()),logMessages:(0,h.jt)((0,h.AG)((0,h.IX)((0,h.Z_)()))),preTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(Kn))),postTokenBalances:(0,h.jt)((0,h.AG)((0,h.IX)(Kn)))}),Vn=Cr((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),transactions:(0,h.IX)((0,h.dt)({transaction:Un,meta:(0,h.AG)(Fn)})),rewards:(0,h.jt)((0,h.IX)((0,h.dt)({pubkey:(0,h.Z_)(),lamports:(0,h.Rx)(),postBalance:(0,h.AG)((0,h.Rx)()),rewardType:(0,h.AG)((0,h.Z_)())}))),blockTime:(0,h.AG)((0,h.Rx)())}))),jn=Cr((0,h.AG)((0,h.dt)({blockhash:(0,h.Z_)(),previousBlockhash:(0,h.Z_)(),parentSlot:(0,h.Rx)(),signatures:(0,h.IX)((0,h.Z_)()),blockTime:(0,h.AG)((0,h.Rx)())}))),qn=Cr((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),meta:Fn,blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)())),transaction:Un}))),Zn=Cr((0,h.AG)((0,h.dt)({slot:(0,h.Rx)(),transaction:Dn,meta:(0,h.AG)(Gn),blockTime:(0,h.jt)((0,h.AG)((0,h.Rx)()))}))),Hn=Wr((0,h.dt)({blockhash:(0,h.Z_)(),feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})})),Xn=(0,h.dt)({slot:(0,h.Rx)(),numTransactions:(0,h.Rx)(),numSlots:(0,h.Rx)(),samplePeriodSecs:(0,h.Rx)()}),Jn=Cr((0,h.IX)(Xn)),Qn=Wr((0,h.AG)((0,h.dt)({feeCalculator:(0,h.dt)({lamportsPerSignature:(0,h.Rx)()})}))),Yn=Cr((0,h.Z_)()),$n=Cr((0,h.Z_)()),ei=(0,h.dt)({err:qr,logs:(0,h.IX)((0,h.Z_)()),signature:(0,h.Z_)()}),ti=(0,h.dt)({result:Dr(ei),subscription:(0,h.Rx)()});class ri{constructor(e,t){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={recentBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._accountChangeSubscriptionCounter=0,this._accountChangeSubscriptions={},this._programAccountChangeSubscriptionCounter=0,this._programAccountChangeSubscriptions={},this._rootSubscriptionCounter=0,this._rootSubscriptions={},this._signatureSubscriptionCounter=0,this._signatureSubscriptions={},this._slotSubscriptionCounter=0,this._slotSubscriptions={},this._logsSubscriptionCounter=0,this._logsSubscriptions={},this._slotUpdateSubscriptionCounter=0,this._slotUpdateSubscriptions={};let r=new URL(e);r.protocol;let n,i,s,o;var a;t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,n=t.wsEndpoint,i=t.httpHeaders,s=t.fetchMiddleware,o=t.disableRetryOnRateLimit),this._rpcEndpoint=e,this._rpcWsEndpoint=n||function(e){let t=new URL(e);const r="https:"===t.protocol;return t.protocol=r?"wss:":"ws:",t.host="",""!==t.port&&(t.port=String(Number(t.port)+1)),t.toString()}(e),this._rpcClient=function(e,t,r,n,i){let s;return n&&(s=(e,t)=>new Promise(((r,i)=>{n(e,t,(async(e,t)=>{try{r(await Tr(e,t))}catch(n){i(n)}}))}))),new(g())((async(t,n)=>{const o={method:"POST",body:t,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},r||{})};try{let t,r=5,a=500;for(;t=s?await s(e,o):await Tr(e,o),429===t.status&&!0!==i&&(r-=1,0!==r);)console.log(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${a}ms delay...`),await pr(a),a*=2;const u=await t.text();t.ok?n(null,u):n(new Error(`${t.status} ${t.statusText}: ${u}`))}catch(a){a instanceof Error&&n(a)}}),{})}(r.toString(),0,i,s,o),this._rpcRequest=(a=this._rpcClient,(e,t)=>new Promise(((r,n)=>{a.request(e,t,((e,t)=>{e?n(e):r(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((r,n)=>{0===t.length&&r([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?n(e):r(t)}))}))}(this._rpcClient),this._rpcWebSocket=new p.K(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}async getBalanceAndContext(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getBalance",r),i=(0,h.Ue)(n,Wr((0,h.Rx)()));if("error"in i)throw new Error("failed to get balance for "+e.toBase58()+": "+i.error.message);return i.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=await this._rpcRequest("getBlockTime",[e]),r=(0,h.Ue)(t,Cr((0,h.AG)((0,h.Rx)())));if("error"in r)throw new Error("failed to get block time for slot "+e+": "+r.error.message);return r.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),t=(0,h.Ue)(e,Cr((0,h.Rx)()));if("error"in t)throw new Error("failed to get minimum ledger slot: "+t.error.message);return t.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),t=(0,h.Ue)(e,tn);if("error"in t)throw new Error("failed to get first available block: "+t.error.message);return t.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=await this._rpcRequest("getSupply",[t]),n=(0,h.Ue)(r,rn);if("error"in n)throw new Error("failed to get supply: "+n.error.message);return n.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenSupply",r),i=(0,h.Ue)(n,Wr(nn));if("error"in i)throw new Error("failed to get token supply: "+i.error.message);return i.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenAccountBalance",r),i=(0,h.Ue)(n,Wr(nn));if("error"in i)throw new Error("failed to get token account balance: "+i.error.message);return i.result}async getTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"base64"),s=await this._rpcRequest("getTokenAccountsByOwner",i),o=(0,h.Ue)(s,on);if("error"in o)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+o.error.message);return o.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),s=await this._rpcRequest("getTokenAccountsByOwner",i),o=(0,h.Ue)(s,un);if("error"in o)throw new Error("failed to get token accounts owned by account "+e.toBase58()+": "+o.error.message);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=await this._rpcRequest("getLargestAccounts",r),i=(0,h.Ue)(n,cn);if("error"in i)throw new Error("failed to get largest accounts: "+i.error.message);return i.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=await this._rpcRequest("getTokenLargestAccounts",r),i=(0,h.Ue)(n,sn);if("error"in i)throw new Error("failed to get token largest accounts: "+i.error.message);return i.result}async getAccountInfoAndContext(e,t){const r=this._buildArgs([e.toBase58()],t,"base64"),n=await this._rpcRequest("getAccountInfo",r),i=(0,h.Ue)(n,Wr((0,h.AG)(ln)));if("error"in i)throw new Error("failed to get info about account "+e.toBase58()+": "+i.error.message);return i.result}async getParsedAccountInfo(e,t){const r=this._buildArgs([e.toBase58()],t,"jsonParsed"),n=await this._rpcRequest("getAccountInfo",r),i=(0,h.Ue)(n,Wr((0,h.AG)(pn)));if("error"in i)throw new Error("failed to get info about account "+e.toBase58()+": "+i.error.message);return i.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(r){throw new Error("failed to get info about account "+e.toBase58()+": "+r)}}async getMultipleAccountsInfo(e,t){const r=e.map((e=>e.toBase58())),n=this._buildArgs([r],t,"base64"),i=await this._rpcRequest("getMultipleAccounts",n),s=(0,h.Ue)(i,Wr((0,h.IX)((0,h.AG)(ln))));if("error"in s)throw new Error("failed to get info for accounts "+r+": "+s.error.message);return s.result.value}async getStakeActivation(e,t,r){const n=this._buildArgs([e.toBase58()],t,void 0,void 0!==r?{epoch:r}:void 0),i=await this._rpcRequest("getStakeActivation",n),s=(0,h.Ue)(i,Cr(gn));if("error"in s)throw new Error(`failed to get Stake Activation ${e.toBase58()}: ${s.error.message}`);return s.result}async getProgramAccounts(e,t){const r={};let n,i;t&&("string"===typeof t?n=t:(n=t.commitment,i=t.encoding,t.dataSlice&&(r.dataSlice=t.dataSlice),t.filters&&(r.filters=t.filters)));const s=this._buildArgs([e.toBase58()],n,i||"base64",r),o=await this._rpcRequest("getProgramAccounts",s),a=(0,h.Ue)(o,Cr((0,h.IX)(dn)));if("error"in a)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+a.error.message);return a.result}async getParsedProgramAccounts(e,t){const r={};let n;t&&("string"===typeof t?n=t:(n=t.commitment,t.filters&&(r.filters=t.filters)));const i=this._buildArgs([e.toBase58()],n,"jsonParsed",r),s=await this._rpcRequest("getProgramAccounts",i),o=(0,h.Ue)(s,Cr((0,h.IX)(fn)));if("error"in o)throw new Error("failed to get accounts owned by program "+e.toBase58()+": "+o.error.message);return o.result}async confirmTransaction(e,t){let r;try{r=c().decode(e)}catch(l){throw new Error("signature must be base58 encoded: "+e)}tr(64===r.length,"signature has invalid length");const n=Date.now(),i=t||this.commitment;let s,o=null;const a=new Promise(((t,r)=>{try{s=this.onSignature(e,((e,r)=>{s=void 0,o={context:r,value:e},t(null)}),i)}catch(l){r(l)}}));let u=this._confirmTransactionInitialTimeout||6e4;switch(i){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":u=this._confirmTransactionInitialTimeout||3e4}try{await function(e,t){let r;const n=new Promise((e=>{r=setTimeout((()=>e(null)),t)}));return Promise.race([e,n]).then((e=>(clearTimeout(r),e)))}(a,u)}finally{s&&this.removeSignatureListener(s)}if(null===o){const t=(Date.now()-n)/1e3;throw new Error(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`)}return o}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),t=(0,h.Ue)(e,Cr((0,h.IX)(xn)));if("error"in t)throw new Error("failed to get cluster nodes: "+t.error.message);return t.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getVoteAccounts",t),n=(0,h.Ue)(r,Pn);if("error"in n)throw new Error("failed to get vote accounts: "+n.error.message);return n.result}async getSlot(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getSlot",t),n=(0,h.Ue)(r,Cr((0,h.Rx)()));if("error"in n)throw new Error("failed to get slot: "+n.error.message);return n.result}async getSlotLeader(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getSlotLeader",t),n=(0,h.Ue)(r,Cr((0,h.Z_)()));if("error"in n)throw new Error("failed to get slot leader: "+n.error.message);return n.result}async getSlotLeaders(e,t){const r=[e,t],n=await this._rpcRequest("getSlotLeaders",r),i=(0,h.Ue)(n,Cr((0,h.IX)(Mr)));if("error"in i)throw new Error("failed to get slot leaders: "+i.error.message);return i.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);tr(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=await this._rpcRequest("getSignatureStatuses",r),i=(0,h.Ue)(n,Mn);if("error"in i)throw new Error("failed to get signature status: "+i.error.message);return i.result}async getTransactionCount(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getTransactionCount",t),n=(0,h.Ue)(r,Cr((0,h.Rx)()));if("error"in n)throw new Error("failed to get transaction count: "+n.error.message);return n.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getInflationGovernor",t),n=(0,h.Ue)(r,Qr);if("error"in n)throw new Error("failed to get inflation: "+n.error.message);return n.result}async getInflationReward(e,t,r){const n=this._buildArgs([e.map((e=>e.toBase58()))],r,void 0,{epoch:t}),i=await this._rpcRequest("getInflationReward",n),s=(0,h.Ue)(i,Fr);if("error"in s)throw new Error("failed to get inflation reward: "+s.error.message);return s.result}async getEpochInfo(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getEpochInfo",t),n=(0,h.Ue)(r,Yr);if("error"in n)throw new Error("failed to get epoch info: "+n.error.message);return n.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),t=(0,h.Ue)(e,$r);if("error"in t)throw new Error("failed to get epoch schedule: "+t.error.message);const r=t.result;return new Rr(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),t=(0,h.Ue)(e,en);if("error"in t)throw new Error("failed to get leader schedule: "+t.error.message);return t.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=(0,h.Ue)(n,Bn);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(e){const t=this._buildArgs([],e),r=await this._rpcRequest("getRecentBlockhash",t),n=(0,h.Ue)(r,Hn);if("error"in n)throw new Error("failed to get recent blockhash: "+n.error.message);return n.result}async getRecentPerformanceSamples(e){const t=this._buildArgs(e?[e]:[]),r=await this._rpcRequest("getRecentPerformanceSamples",t),n=(0,h.Ue)(r,Jn);if("error"in n)throw new Error("failed to get recent performance samples: "+n.error.message);return n.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=(0,h.Ue)(n,Qn);if("error"in i)throw new Error("failed to get fee calculator: "+i.error.message);const{context:s,value:o}=i.result;return{context:s,value:null!==o?o.feeCalculator:null}}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(t){throw new Error("failed to get recent blockhash: "+t)}}async getVersion(){const e=await this._rpcRequest("getVersion",[]),t=(0,h.Ue)(e,Cr(Xr));if("error"in t)throw new Error("failed to get version: "+t.error.message);return t.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),t=(0,h.Ue)(e,Cr((0,h.Z_)()));if("error"in t)throw new Error("failed to get genesis hash: "+t.error.message);return t.result}async getBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,h.Ue)(n,Vn);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const s=i.result;return s?{...s,transactions:s.transactions.map((e=>{let{transaction:t,meta:r}=e;const n=new er(t.message);return{meta:r,transaction:{...t,message:n}}}))}:s}async getTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t&&t.commitment),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,h.Ue)(n,qn);if("error"in i)throw new Error("failed to get confirmed transaction: "+i.error.message);const s=i.result;return s?{...s,transaction:{...s.transaction,message:new er(s.transaction.message)}}:s}async getConfirmedBlock(e,t){const r=await this.getBlock(e,{commitment:t});if(!r)throw new Error("Confirmed block "+e+" not found");return{...r,transactions:r.transactions.map((e=>{let{transaction:t,meta:r}=e;return{meta:r,transaction:sr.populate(t.message,t.signatures)}}))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=await this._rpcRequest("getConfirmedBlocks",n),s=(0,h.Ue)(i,Cr((0,h.IX)((0,h.Rx)())));if("error"in s)throw new Error("failed to get blocks: "+s.error.message);return s.result}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=await this._rpcRequest("getConfirmedBlock",r),i=(0,h.Ue)(n,jn);if("error"in i)throw new Error("failed to get confirmed block: "+i.error.message);const s=i.result;if(!s)throw new Error("Confirmed block "+e+" not found");return s}async getConfirmedTransaction(e,t){const r=await this.getTransaction(e,{commitment:t});if(!r)return r;const{message:n,signatures:i}=r.transaction;return{...r,transaction:sr.populate(n,i)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=await this._rpcRequest("getConfirmedTransaction",r),i=(0,h.Ue)(n,Zn);if("error"in i)throw new Error("failed to get confirmed transaction: "+i.error.message);return i.result}async getParsedConfirmedTransactions(e,t){const r=e.map((e=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=(0,h.Ue)(e,Zn);if("error"in t)throw new Error("failed to get confirmed transactions: "+t.error.message);return t.result}))}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}let s=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>s);)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(o){if(o instanceof Error&&o.message.includes("skipped"))continue;throw o}return(await this.getConfirmedSignaturesForAddress2(e,n)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",n),s=(0,h.Ue)(i,mn);if("error"in s)throw new Error("failed to get confirmed signatures for address: "+s.error.message);return s.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=await this._rpcRequest("getSignaturesForAddress",n),s=(0,h.Ue)(i,yn);if("error"in s)throw new Error("failed to get signatures for address: "+s.error.message);return s.result}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=wr.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const r=await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),n=(0,h.Ue)(r,Yn);if("error"in n)throw new Error("airdrop to "+e.toBase58()+" failed: "+n.error.message);return n.result}async _recentBlockhash(e){if(!e){for(;this._pollingBlockhash;)await pr(100);const e=Date.now()-this._blockhashInfo.lastFetch>=Nr;if(null!==this._blockhashInfo.recentBlockhash&&!e)return this._blockhashInfo.recentBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now();for(let t=0;t<50;t++){const{blockhash:e}=await this.getRecentBlockhash("finalized");if(this._blockhashInfo.recentBlockhash!=e)return this._blockhashInfo={recentBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await pr(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async simulateTransaction(e,t,r){let n;if(n=e instanceof sr?e:sr.populate(e),n.nonceInfo&&t)n.sign(...t);else{let e=this._disableBlockhashCaching;for(;n.recentBlockhash=await this._recentBlockhash(e),t;){if(n.sign(...t),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}e=!0}}const i=n._compile(),s=i.serialize(),o=n._serialize(s).toString("base64"),a={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:i.nonProgramIds()).map((e=>e.toBase58()));a.accounts={encoding:"base64",addresses:e}}t&&(a.sigVerify=!0);const u=[o,a],c=await this._rpcRequest("simulateTransaction",u),l=(0,h.Ue)(c,Jr);if("error"in l){let e;if("data"in l.error&&(e=l.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(l.error.message,r)}throw new Or("failed to simulate transaction: "+l.error.message,e)}return l.result}async sendTransaction(e,t,r){if(e.nonceInfo)e.sign(...t);else{let r=this._disableBlockhashCaching;for(;;){if(e.recentBlockhash=await this._recentBlockhash(r),e.sign(...t),!e.signature)throw new Error("!signature");const n=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(n)){this._blockhashInfo.transactionSignatures.push(n);break}r=!0}}const n=e.serialize();return await this.sendRawTransaction(n,r)}async sendRawTransaction(e,t){const r=k(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,i=t&&t.preflightCommitment||this.commitment;n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const s=[e,r],o=await this._rpcRequest("sendTransaction",s),a=(0,h.Ue)(o,$n);if("error"in a){let e;if("data"in a.error&&(e=a.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(a.error.message,r)}throw new Or("failed to send transaction: "+a.error.message,e)}return a.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{this._rpcWebSocket.notify("ping").catch((()=>{}))}),5e3),this._updateSubscriptions()}_wsOnError(e){console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?this._resetSubscriptions():this._updateSubscriptions()}async _subscribe(e,t,r){if(null==e.subscriptionId){e.subscriptionId="subscribing";try{const n=await this._rpcWebSocket.call(t,r);"number"===typeof n&&"subscribing"===e.subscriptionId&&(e.subscriptionId=n)}catch(n){"subscribing"===e.subscriptionId&&(e.subscriptionId=null),n instanceof Error&&console.error(`${t} error for argument`,r,n.message)}}}async _unsubscribe(e,t){const r=e.subscriptionId;if(null!=r&&"string"!=typeof r){const e=r;try{await this._rpcWebSocket.call(t,[e])}catch(n){n instanceof Error&&console.error(`${t} error:`,n.message)}}}_resetSubscriptions(){Object.values(this._accountChangeSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._programAccountChangeSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._rootSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._signatureSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._slotSubscriptions).forEach((e=>e.subscriptionId=null)),Object.values(this._slotUpdateSubscriptions).forEach((e=>e.subscriptionId=null))}_updateSubscriptions(){const e=Object.keys(this._accountChangeSubscriptions).map(Number),t=Object.keys(this._programAccountChangeSubscriptions).map(Number),r=Object.keys(this._slotSubscriptions).map(Number),n=Object.keys(this._slotUpdateSubscriptions).map(Number),i=Object.keys(this._signatureSubscriptions).map(Number),s=Object.keys(this._rootSubscriptions).map(Number),o=Object.keys(this._logsSubscriptions).map(Number);if(0!==e.length||0!==t.length||0!==r.length||0!==n.length||0!==i.length||0!==s.length||0!==o.length)if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),this._rpcWebSocketConnected){for(let t of e){const e=this._accountChangeSubscriptions[t];this._subscribe(e,"accountSubscribe",this._buildArgs([e.publicKey],e.commitment,"base64"))}for(let e of t){const t=this._programAccountChangeSubscriptions[e];this._subscribe(t,"programSubscribe",this._buildArgs([t.programId],t.commitment,"base64",{filters:t.filters}))}for(let e of r){const t=this._slotSubscriptions[e];this._subscribe(t,"slotSubscribe",[])}for(let e of n){const t=this._slotUpdateSubscriptions[e];this._subscribe(t,"slotsUpdatesSubscribe",[])}for(let e of i){const t=this._signatureSubscriptions[e],r=[t.signature];t.options&&r.push(t.options),this._subscribe(t,"signatureSubscribe",r)}for(let e of s){const t=this._rootSubscriptions[e];this._subscribe(t,"rootSubscribe",[])}for(let e of o){const t=this._logsSubscriptions[e];let r;r="object"===typeof t.filter?{mentions:[t.filter.toString()]}:t.filter,this._subscribe(t,"logsSubscribe",this._buildArgs([r],t.commitment))}}else this._rpcWebSocket.connect();else this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null,this._rpcWebSocket.close()}),500))}_wsOnAccountNotification(e){const t=(0,h.Ue)(e,bn);for(const r of Object.values(this._accountChangeSubscriptions))if(r.subscriptionId===t.subscription)return void r.callback(t.result.value,t.result.context)}onAccountChange(e,t,r){const n=++this._accountChangeSubscriptionCounter;return this._accountChangeSubscriptions[n]={publicKey:e.toBase58(),callback:t,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}async removeAccountChangeListener(e){if(!this._accountChangeSubscriptions[e])throw new Error(`Unknown account change id: ${e}`);{const t=this._accountChangeSubscriptions[e];delete this._accountChangeSubscriptions[e],await this._unsubscribe(t,"accountUnsubscribe"),this._updateSubscriptions()}}_wsOnProgramAccountNotification(e){const t=(0,h.Ue)(e,kn);for(const r of Object.values(this._programAccountChangeSubscriptions))if(r.subscriptionId===t.subscription){const{value:e,context:n}=t.result;return void r.callback({accountId:e.pubkey,accountInfo:e.account},n)}}onProgramAccountChange(e,t,r,n){const i=++this._programAccountChangeSubscriptionCounter;return this._programAccountChangeSubscriptions[i]={programId:e.toBase58(),callback:t,commitment:r,subscriptionId:null,filters:n},this._updateSubscriptions(),i}async removeProgramAccountChangeListener(e){if(!this._programAccountChangeSubscriptions[e])throw new Error(`Unknown program account change id: ${e}`);{const t=this._programAccountChangeSubscriptions[e];delete this._programAccountChangeSubscriptions[e],await this._unsubscribe(t,"programUnsubscribe"),this._updateSubscriptions()}}onLogs(e,t,r){const n=++this._logsSubscriptionCounter;return this._logsSubscriptions[n]={filter:e,callback:t,commitment:r,subscriptionId:null},this._updateSubscriptions(),n}async removeOnLogsListener(e){if(!this._logsSubscriptions[e])throw new Error(`Unknown logs id: ${e}`);const t=this._logsSubscriptions[e];delete this._logsSubscriptions[e],await this._unsubscribe(t,"logsUnsubscribe"),this._updateSubscriptions()}_wsOnLogsNotification(e){const t=(0,h.Ue)(e,ti),r=Object.keys(this._logsSubscriptions).map(Number);for(let n of r){const e=this._logsSubscriptions[n];if(e.subscriptionId===t.subscription)return void e.callback(t.result.value,t.result.context)}}_wsOnSlotNotification(e){const t=(0,h.Ue)(e,An);for(const r of Object.values(this._slotSubscriptions))if(r.subscriptionId===t.subscription)return void r.callback(t.result)}onSlotChange(e){const t=++this._slotSubscriptionCounter;return this._slotSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeSlotChangeListener(e){if(!this._slotSubscriptions[e])throw new Error(`Unknown slot change id: ${e}`);{const t=this._slotSubscriptions[e];delete this._slotSubscriptions[e],await this._unsubscribe(t,"slotUnsubscribe"),this._updateSubscriptions()}}_wsOnSlotUpdatesNotification(e){const t=(0,h.Ue)(e,En);for(const r of Object.values(this._slotUpdateSubscriptions))if(r.subscriptionId===t.subscription)return void r.callback(t.result)}onSlotUpdate(e){const t=++this._slotUpdateSubscriptionCounter;return this._slotUpdateSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeSlotUpdateListener(e){if(!this._slotUpdateSubscriptions[e])throw new Error(`Unknown slot update id: ${e}`);{const t=this._slotUpdateSubscriptions[e];delete this._slotUpdateSubscriptions[e],await this._unsubscribe(t,"slotsUpdatesUnsubscribe"),this._updateSubscriptions()}}_buildArgs(e,t,r,n){const i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const t=(0,h.Ue)(e,_n);for(const[r,n]of Object.entries(this._signatureSubscriptions))if(n.subscriptionId===t.subscription)return void("receivedSignature"===t.result.value?n.callback({type:"received"},t.result.context):(delete this._signatureSubscriptions[Number(r)],this._updateSubscriptions(),n.callback({type:"status",result:t.result.value},t.result.context)))}onSignature(e,t,r){const n=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[n]={signature:e,callback:(e,r)=>{"status"===e.type&&t(e.result,r)},options:{commitment:r},subscriptionId:null},this._updateSubscriptions(),n}onSignatureWithOptions(e,t,r){const n=++this._signatureSubscriptionCounter;return this._signatureSubscriptions[n]={signature:e,callback:t,options:r,subscriptionId:null},this._updateSubscriptions(),n}async removeSignatureListener(e){if(!this._signatureSubscriptions[e])throw new Error(`Unknown signature result id: ${e}`);{const t=this._signatureSubscriptions[e];delete this._signatureSubscriptions[e],await this._unsubscribe(t,"signatureUnsubscribe"),this._updateSubscriptions()}}_wsOnRootNotification(e){const t=(0,h.Ue)(e,vn);for(const r of Object.values(this._rootSubscriptions))if(r.subscriptionId===t.subscription)return void r.callback(t.result)}onRootChange(e){const t=++this._rootSubscriptionCounter;return this._rootSubscriptions[t]={callback:e,subscriptionId:null},this._updateSubscriptions(),t}async removeRootChangeListener(e){if(!this._rootSubscriptions[e])throw new Error(`Unknown root change id: ${e}`);{const t=this._rootSubscriptions[e];delete this._rootSubscriptions[e],await this._unsubscribe(t,"rootUnsubscribe"),this._updateSubscriptions()}}}class ni{constructor(e){this._keypair=void 0,this._keypair=e||i().sign.keyPair()}static generate(){return new ni(i().sign.keyPair())}static fromSecretKey(e,t){const r=i().sign.keyPair.fromSecretKey(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("@solana/web3.js-validation-v1"),t=i().sign.detached(e,r.secretKey);if(!i().sign.detached.verify(e,t,r.publicKey))throw new Error("provided secretKey is invalid")}return new ni(r)}static fromSeed(e){return new ni(i().sign.keyPair.fromSeed(e))}get publicKey(){return new Ft(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const ii=d.struct([d.u8("numSignatures"),d.u8("padding"),d.u16("signatureOffset"),d.u16("signatureInstructionIndex"),d.u16("publicKeyOffset"),d.u16("publicKeyInstructionIndex"),d.u16("messageDataOffset"),d.u16("messageDataSize"),d.u16("messageInstructionIndex")]);class si{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;tr(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),tr(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const o=ii.span,a=o+t.length,u=a+n.length,c=s.Buffer.alloc(u+r.length);return ii.encode({numSignatures:1,padding:0,signatureOffset:a,signatureInstructionIndex:i,publicKeyOffset:o,publicKeyInstructionIndex:i,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:i},c),c.fill(t,o),c.fill(n,a),c.fill(r,u),new ir({keys:[],programId:si.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;tr(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=ni.fromSecretKey(t),s=e.publicKey.toBytes(),o=i().sign.detached(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:s,message:r,signature:o,instructionIndex:n})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}si.programId=new Ft("Ed25519SigVerify111111111111111111111111111");const oi=new Ft("StakeConfig11111111111111111111111111111111");class ai{constructor(e,t){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=t}}class ui{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}ui.default=new ui(0,0,Ft.default);class ci{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const t=d.u32("instruction").decode(e.data);let r;for(const[n,i]of Object.entries(li))if(i.index==t){r=n;break}if(!r)throw new Error("Instruction type incorrect; not a StakeInstruction");return r}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:t,lockup:r}=gr(li.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new ai(new Ft(t.staker),new Ft(t.withdrawer)),lockup:new ui(r.unixTimestamp,r.epoch,new Ft(r.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),gr(li.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:t,stakeAuthorizationType:r}=gr(li.Authorize,e.data),n={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ft(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(n.custodianPubkey=e.keys[3].pubkey),n}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:t,stakeAuthorizationType:r,authoritySeed:n,authorityOwner:i}=gr(li.AuthorizeWithSeed,e.data),s={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:n,authorityOwner:new Ft(i),newAuthorizedPubkey:new Ft(t),stakeAuthorizationType:{index:r}};return e.keys.length>3&&(s.custodianPubkey=e.keys[3].pubkey),s}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:t}=gr(li.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:t}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),gr(li.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:t}=gr(li.Withdraw,e.data),r={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:t};return e.keys.length>5&&(r.custodianPubkey=e.keys[5].pubkey),r}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),gr(li.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(hi.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,t){if(e.length<t)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${t}`)}}const li=Object.freeze({Initialize:{index:0,layout:d.struct([d.u32("instruction"),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"authorized";return d.struct([Jt("staker"),Jt("withdrawer")],e)}(),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"lockup";return d.struct([d.ns64("unixTimestamp"),d.ns64("epoch"),Jt("custodian")],e)}()])},Authorize:{index:1,layout:d.struct([d.u32("instruction"),Jt("newAuthorized"),d.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:d.struct([d.u32("instruction")])},Split:{index:3,layout:d.struct([d.u32("instruction"),d.ns64("lamports")])},Withdraw:{index:4,layout:d.struct([d.u32("instruction"),d.ns64("lamports")])},Deactivate:{index:5,layout:d.struct([d.u32("instruction")])},Merge:{index:7,layout:d.struct([d.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:d.struct([d.u32("instruction"),Jt("newAuthorized"),d.u32("stakeAuthorizationType"),Qt("authoritySeed"),Jt("authorityOwner")])}}),di=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class hi{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||ui.default,s=fr(li.Initialize,{authorized:{staker:k(r.staker.toBuffer()),withdrawer:k(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:k(i.custodian.toBuffer())}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1}],programId:this.programId,data:s};return new ir(o)}static createAccountWithSeed(e){const t=new sr;t.add(Ar.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new sr;t.add(Ar.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=fr(li.Delegate);return(new sr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:oi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:s}=e,o=fr(li.Authorize,{newAuthorized:k(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new sr).add({keys:a,programId:this.programId,data:o})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:s,stakeAuthorizationType:o,custodianPubkey:a}=e,u=fr(li.AuthorizeWithSeed,{newAuthorized:k(s.toBuffer()),stakeAuthorizationType:o.index,authoritySeed:n,authorityOwner:k(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:or,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!1,isWritable:!1}),(new sr).add({keys:c,programId:this.programId,data:u})}static split(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,s=new sr;s.add(Ar.createAccount({fromPubkey:r,newAccountPubkey:n,lamports:0,space:this.space,programId:this.programId}));const o=fr(li.Split,{lamports:i});return s.add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=fr(li.Merge);return(new sr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:s}=e,o=fr(li.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return s&&a.push({pubkey:s,isSigner:!1,isWritable:!1}),(new sr).add({keys:a,programId:this.programId,data:o})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=fr(li.Deactivate);return(new sr).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:or,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}hi.programId=new Ft("Stake11111111111111111111111111111111111111"),hi.space=200;const{publicKeyCreate:pi,ecdsaSign:fi}=y(),gi=d.struct([d.u8("numSignatures"),d.u16("signatureOffset"),d.u8("signatureInstructionIndex"),d.u16("ethAddressOffset"),d.u8("ethAddressInstructionIndex"),d.u16("messageDataOffset"),d.u16("messageDataSize"),d.u8("messageInstructionIndex"),d.blob(20,"ethAddress"),d.blob(64,"signature"),d.u8("recoveryId")]);class mi{constructor(){}static publicKeyToEthAddress(e){tr(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return s.Buffer.from(w().keccak_256.update(k(e)).digest()).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:s}=e;return mi.createInstructionWithEthAddress({ethAddress:mi.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:s})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:o=0}=e;let a;a="string"===typeof t?t.startsWith("0x")?s.Buffer.from(t.substr(2),"hex"):s.Buffer.from(t,"hex"):t,tr(20===a.length,`Address must be 20 bytes but received ${a.length} bytes`);const u=12+a.length,c=u+n.length+1,l=s.Buffer.alloc(gi.span+r.length);return gi.encode({numSignatures:1,signatureOffset:u,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:c,messageDataSize:r.length,messageInstructionIndex:o,signature:k(n),ethAddress:k(a),recoveryId:i},l),l.fill(k(r),gi.span),new ir({keys:[],programId:mi.programId,data:l})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;tr(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=k(t),i=pi(e,!1).slice(1),o=s.Buffer.from(w().keccak_256.update(k(r)).digest()),{signature:a,recid:u}=fi(o,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:a,recoveryId:u,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}mi.programId=new Ft("KeccakSecp256k11111111111111111111111111111");const yi=new Ft("Va1idator1nfo111111111111111111111111111111"),bi=(0,h.dt)({name:(0,h.Z_)(),website:(0,h.jt)((0,h.Z_)()),details:(0,h.jt)((0,h.Z_)()),keybaseUsername:(0,h.jt)((0,h.Z_)())});class wi{constructor(e,t){this.key=void 0,this.info=void 0,this.key=e,this.info=t}static fromConfigData(e){let t=[...e];if(2!==Yt(t))return null;const r=[];for(let n=0;n<2;n++){const e=new Ft(t.slice(0,32));t=t.slice(32);const n=1===t.slice(0,1)[0];t=t.slice(1),r.push({publicKey:e,isSigner:n})}if(r[0].publicKey.equals(yi)&&r[1].isSigner){const e=Qt().decode(s.Buffer.from(t)),n=JSON.parse(e);return(0,h.hu)(n,bi),new wi(r[1].publicKey,n)}return null}}const ki=new Ft("Vote111111111111111111111111111111111111111"),Si=d.struct([Jt("nodePubkey"),Jt("authorizedVoterPubkey"),Jt("authorizedWithdrawerPubkey"),d.u8("commission"),d.nu64(),d.seq(d.struct([d.nu64("slot"),d.u32("confirmationCount")]),d.offset(d.u32(),-8),"votes"),d.u8("rootSlotValid"),d.nu64("rootSlot"),d.nu64("epoch"),d.nu64("credits"),d.nu64("lastEpochCredits"),d.nu64(),d.seq(d.struct([d.nu64("epoch"),d.nu64("credits"),d.nu64("prevCredits")]),d.offset(d.u32(),-8),"epochCredits")]);class Ai{constructor(e){this.nodePubkey=void 0,this.authorizedVoterPubkey=void 0,this.authorizedWithdrawerPubkey=void 0,this.commission=void 0,this.votes=void 0,this.rootSlot=void 0,this.epoch=void 0,this.credits=void 0,this.lastEpochCredits=void 0,this.epochCredits=void 0,this.nodePubkey=e.nodePubkey,this.authorizedVoterPubkey=e.authorizedVoterPubkey,this.authorizedWithdrawerPubkey=e.authorizedWithdrawerPubkey,this.commission=e.commission,this.votes=e.votes,this.rootSlot=e.rootSlot,this.epoch=e.epoch,this.credits=e.credits,this.lastEpochCredits=e.lastEpochCredits,this.epochCredits=e.epochCredits}static fromAccountData(e){const t=Si.decode(k(e),0);let r=t.rootSlot;return t.rootSlotValid||(r=null),new Ai({nodePubkey:new Ft(t.nodePubkey),authorizedVoterPubkey:new Ft(t.authorizedVoterPubkey),authorizedWithdrawerPubkey:new Ft(t.authorizedWithdrawerPubkey),commission:t.commission,votes:t.votes,rootSlot:r,epoch:t.epoch,credits:t.credits,lastEpochCredits:t.lastEpochCredits,epochCredits:t.epochCredits})}}async function Ii(e,t,r){const n=r&&{skipPreflight:r.skipPreflight,preflightCommitment:r.preflightCommitment||r.commitment},i=await e.sendRawTransaction(t,n),s=(await e.confirmTransaction(i,r&&r.commitment)).value;if(s.err)throw new Error(`Raw transaction ${i} failed (${JSON.stringify(s)})`);return i}const Ei={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com"}};function _i(e,t){const r=!1===t?"http":"https";if(!e)return Ei[r].devnet;const n=Ei[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}const vi=1e9},42296:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();t.__esModule=!0,t.s16=t.s8=t.nu64be=t.u48be=t.u40be=t.u32be=t.u24be=t.u16be=t.nu64=t.u48=t.u40=t.u32=t.u24=t.u16=t.u8=t.offset=t.greedy=t.Constant=t.UTF8=t.CString=t.Blob=t.Boolean=t.BitField=t.BitStructure=t.VariantLayout=t.Union=t.UnionLayoutDiscriminator=t.UnionDiscriminator=t.Structure=t.Sequence=t.DoubleBE=t.Double=t.FloatBE=t.Float=t.NearInt64BE=t.NearInt64=t.NearUInt64BE=t.NearUInt64=t.IntBE=t.Int=t.UIntBE=t.UInt=t.OffsetLayout=t.GreedyCount=t.ExternalLayout=t.bindConstructorLayout=t.nameWithProperty=t.Layout=t.uint8ArrayToBuffer=t.checkUint8Array=void 0,t.constant=t.utf8=t.cstr=t.blob=t.unionLayoutDiscriminator=t.union=t.seq=t.bits=t.struct=t.f64be=t.f64=t.f32be=t.f32=t.ns64be=t.s48be=t.s40be=t.s32be=t.s24be=t.s16be=t.ns64=t.s48=t.s40=t.s32=t.s24=void 0;var i=r(39598);function s(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(e){return s(e),i.Buffer.from(e.buffer,e.byteOffset,e.length)}t.checkUint8Array=s,t.uint8ArrayToBuffer=o;var a=function(){function e(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}return e.prototype.makeDestinationObject=function(){return{}},e.prototype.decode=function(e,t){throw new Error("Layout is abstract")},e.prototype.encode=function(e,t,r){throw new Error("Layout is abstract")},e.prototype.getSpan=function(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span},e.prototype.replicate=function(e){var t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t},e.prototype.fromArray=function(e){},e}();function u(e,t){return t.property?e+"["+t.property+"]":e}t.Layout=a,t.nameWithProperty=u,t.bindConstructorLayout=function(e,t){if("function"!==typeof e)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof a))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=function(){return new e},Object.defineProperty(e.prototype,"encode",{value:function(e,r){return t.encode(this,e,r)},writable:!0}),Object.defineProperty(e,"decode",{value:function(e,r){return t.decode(e,r)},writable:!0})};var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.isCount=function(){throw new Error("ExternalLayout is abstract")},t}(a);t.ExternalLayout=c;var l=function(e){function t(t,r){var n=this;if(void 0===t&&(t=1),!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");return(n=e.call(this,-1,r)||this).elementSpan=t,n}return n(t,e),t.prototype.isCount=function(){return!0},t.prototype.decode=function(e,t){s(e),void 0===t&&(t=0);var r=e.length-t;return Math.floor(r/this.elementSpan)},t.prototype.encode=function(e,t,r){return 0},t}(c);t.GreedyCount=l;var d=function(e){function t(t,r,n){var i=this;if(!(t instanceof a))throw new TypeError("layout must be a Layout");if(void 0===r)r=0;else if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");return(i=e.call(this,t.span,n||t.property)||this).layout=t,i.offset=r,i}return n(t,e),t.prototype.isCount=function(){return this.layout instanceof h||this.layout instanceof p},t.prototype.decode=function(e,t){return void 0===t&&(t=0),this.layout.decode(e,t+this.offset)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),this.layout.encode(e,t,r+this.offset)},t}(c);t.OffsetLayout=d;var h=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readUIntLE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeUIntLE(e,r,this.span),this.span},t}(a);t.UInt=h;var p=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readUIntBE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeUIntBE(e,r,this.span),this.span},t}(a);t.UIntBE=p;var f=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readIntLE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeIntLE(e,r,this.span),this.span},t}(a);t.Int=f;var g=function(e){function t(t,r){var n=e.call(this,t,r)||this;if(6<n.span)throw new RangeError("span must not exceed 6 bytes");return n}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readIntBE(t,this.span)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeIntBE(e,r,this.span),this.span},t}(a);t.IntBE=g;var m=Math.pow(2,32);function y(e){var t=Math.floor(e/m);return{hi32:t,lo32:e-t*m}}function b(e,t){return e*m+t}var w=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e),n=r.readUInt32LE(t);return b(r.readUInt32LE(t+4),n)},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=y(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8},t}(a);t.NearUInt64=w;var k=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e);return b(r.readUInt32BE(t),r.readUInt32BE(t+4))},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=y(e),i=o(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8},t}(a);t.NearUInt64BE=k;var S=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e),n=r.readUInt32LE(t);return b(r.readInt32LE(t+4),n)},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=y(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8},t}(a);t.NearInt64=S;var A=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=o(e);return b(r.readInt32BE(t),r.readUInt32BE(t+4))},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=y(e),i=o(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8},t}(a);t.NearInt64BE=A;var I=function(e){function t(t){return e.call(this,4,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readFloatLE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeFloatLE(e,r),4},t}(a);t.Float=I;var E=function(e){function t(t){return e.call(this,4,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readFloatBE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeFloatBE(e,r),4},t}(a);t.FloatBE=E;var _=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readDoubleLE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeDoubleLE(e,r),8},t}(a);t.Double=_;var v=function(e){function t(t){return e.call(this,8,t)||this}return n(t,e),t.prototype.decode=function(e,t){return void 0===t&&(t=0),o(e).readDoubleBE(t)},t.prototype.encode=function(e,t,r){return void 0===r&&(r=0),o(t).writeDoubleBE(e,r),8},t}(a);t.DoubleBE=v;var x=function(e){function t(t,r,n){var i=this;if(!(t instanceof a))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof c&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");var s=-1;return!(r instanceof c)&&0<t.span&&(s=r*t.span),(i=e.call(this,s,n)||this).elementLayout=t,i.count=r,i}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=0,n=this.count;if(n instanceof c&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else for(var i=0;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i;return r},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=[],n=0,i=this.count;for(i instanceof c&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=this.elementLayout,i=e.reduce((function(e,i){return e+n.encode(i,t,r+e)}),0);return this.count instanceof c&&this.count.encode(e.length,t,r),i},t}(a);t.Sequence=x;var T=function(e){function t(t,r,n){var i=this;if(!Array.isArray(t)||!t.reduce((function(e,t){return e&&t instanceof a}),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof r&&void 0===n&&(n=r,r=void 0);for(var s=0,o=t;s<o.length;s++){var u=o[s];if(0>u.span&&void 0===u.property)throw new Error("fields cannot contain unnamed variable-length layout")}var c=-1;try{c=t.reduce((function(e,t){return e+t.getSpan()}),0)}catch(l){}return(i=e.call(this,c,r)||this).fields=t,i.decodePrefixes=!!n,i}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=0;try{r=this.fields.reduce((function(r,n){var i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(n){throw new RangeError("indeterminate span")}return r},t.prototype.decode=function(e,t){s(e),void 0===t&&(t=0);for(var r=this.makeDestinationObject(),n=0,i=this.fields;n<i.length;n++){var o=i[n];if(void 0!==o.property&&(r[o.property]=o.decode(e,t)),t+=o.getSpan(e,t),this.decodePrefixes&&e.length===t)break}return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);for(var n=r,i=0,s=0,o=0,a=this.fields;o<a.length;o++){var u=a[o],c=u.span;if(s=0<c?c:0,void 0!==u.property){var l=e[u.property];void 0!==l&&(s=u.encode(l,t,r),0>c&&(c=u.getSpan(t,r)))}i=r,r+=c}return i+s-n},t.prototype.fromArray=function(e){for(var t=this.makeDestinationObject(),r=0,n=this.fields;r<n.length;r++){var i=n[r];void 0!==i.property&&0<e.length&&(t[i.property]=e.shift())}return t},t.prototype.layoutFor=function(e){if("string"!==typeof e)throw new TypeError("property must be string");for(var t=0,r=this.fields;t<r.length;t++){var n=r[t];if(n.property===e)return n}},t.prototype.offsetOf=function(e){if("string"!==typeof e)throw new TypeError("property must be string");for(var t=0,r=0,n=this.fields;r<n.length;r++){var i=n[r];if(i.property===e)return t;0>i.span?t=-1:0<=t&&(t+=i.span)}},t}(a);t.Structure=T;var P=function(){function e(e){this.property=e}return e.prototype.decode=function(e,t){throw new Error("UnionDiscriminator is abstract")},e.prototype.encode=function(e,t,r){throw new Error("UnionDiscriminator is abstract")},e}();t.UnionDiscriminator=P;var R=function(e){function t(t,r){var n=this;if(!(t instanceof c&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");return(n=e.call(this,r||t.property||"variant")||this).layout=t,n}return n(t,e),t.prototype.decode=function(e,t){return this.layout.decode(e,t)},t.prototype.encode=function(e,t,r){return this.layout.encode(e,t,r)},t}(P);t.UnionLayoutDiscriminator=R;var O=function(e){function t(t,r,n){var i,s=this,o=t instanceof h||t instanceof p;if(o)i=new R(new d(t));else if(t instanceof c&&t.isCount())i=new R(t);else{if(!(t instanceof P))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");i=t}if(void 0===r&&(r=null),!(null===r||r instanceof a))throw new TypeError("defaultLayout must be null or a Layout");if(null!==r){if(0>r.span)throw new Error("defaultLayout must have constant span");void 0===r.property&&(r=r.replicate("content"))}var u=-1;r&&0<=(u=r.span)&&o&&(u+=i.layout.span),(s=e.call(this,u,n)||this).discriminator=i,s.usesPrefixDiscriminator=o,s.defaultLayout=r,s.registry={};var l=s.defaultGetSourceVariant.bind(s);return s.getSourceVariant=function(e){return l(e)},s.configGetSourceVariant=function(e){l=e.bind(this)},s}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)},t.prototype.defaultGetSourceVariant=function(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;if((r=this.registry[e[this.discriminator.property]])&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(var t in this.registry){var r;if((r=this.registry[t]).property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")},t.prototype.decode=function(e,t){var r;void 0===t&&(t=0);var n=this.discriminator,i=n.decode(e,t),s=this.registry[i];if(void 0===s){var o=this.defaultLayout,a=0;this.usesPrefixDiscriminator&&(a=n.layout.span),(r=this.makeDestinationObject())[n.property]=i,r[o.property]=o.decode(e,t+a)}else r=s.decode(e,t);return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=this.getSourceVariant(e);if(void 0===n){var i=this.discriminator,s=this.defaultLayout,o=0;return this.usesPrefixDiscriminator&&(o=i.layout.span),i.encode(e[i.property],t,r),o+s.encode(e[s.property],t,r+o)}return n.encode(e,t,r)},t.prototype.addVariant=function(e,t,r){var n=new M(this,e,t,r);return this.registry[e]=n,n},t.prototype.getVariant=function(e,t){var r;return e instanceof Uint8Array?(void 0===t&&(t=0),r=this.discriminator.decode(e,t)):r=e,this.registry[r]},t}(a);t.Union=O;var M=function(e){function t(t,r,n,i){var s=this;if(!(t instanceof O))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof n&&void 0===i&&(i=n,n=null),n){if(!(n instanceof a))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof i)throw new TypeError("variant must have a String property")}var o=t.span;return 0>t.span&&0<=(o=n?n.span:0)&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span),(s=e.call(this,o,i)||this).union=t,s.variant=r,s.layout=n||null,s}return n(t,e),t.prototype.getSpan=function(e,t){if(0<=this.span)return this.span;void 0===t&&(t=0);var r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);var n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n},t.prototype.decode=function(e,t){var r=this.makeDestinationObject();if(void 0===t&&(t=0),this!==this.union.getVariant(e,t))throw new Error("variant mismatch");var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var i=this.property;return this.layout?r[i]=this.layout.decode(e,t+n):i?r[i]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);var i=this.property;if(this.layout&&!Object.prototype.hasOwnProperty.call(e,i))throw new TypeError("variant lacks property "+i);this.union.discriminator.encode(this.variant,t,r);var s=n;if(this.layout&&(this.layout.encode(e[i],t,r+n),s+=this.layout.getSpan(t,r+n),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s},t.prototype.fromArray=function(e){if(this.layout)return this.layout.fromArray(e)},t}(a);function B(e){return 0>e&&(e+=4294967296),e}t.VariantLayout=M;var U=function(e){function t(t,r,n){var i=this;if(!(t instanceof h||t instanceof p))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof r&&void 0===n&&(n=r,r=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");(i=e.call(this,t.span,n)||this).word=t,i.msb=!!r,i.fields=[];var s=0;return i._packedSetValue=function(e){return s=B(e),this},i._packedGetValue=function(){return s},i}return n(t,e),t.prototype.decode=function(e,t){var r=this.makeDestinationObject();void 0===t&&(t=0);var n=this.word.decode(e,t);this._packedSetValue(n);for(var i=0,s=this.fields;i<s.length;i++){var o=s[i];void 0!==o.property&&(r[o.property]=o.decode(n))}return r},t.prototype.encode=function(e,t,r){void 0===r&&(r=0);var n=this.word.decode(t,r);this._packedSetValue(n);for(var i=0,s=this.fields;i<s.length;i++){var o=s[i];if(void 0!==o.property){var a=e[o.property];void 0!==a&&o.encode(a)}}return this.word.encode(this._packedGetValue(),t,r)},t.prototype.addField=function(e,t){var r=new N(this,e,t);return this.fields.push(r),r},t.prototype.addBoolean=function(e){var t=new L(this,e);return this.fields.push(t),t},t.prototype.fieldFor=function(e){if("string"!==typeof e)throw new TypeError("property must be string");for(var t=0,r=this.fields;t<r.length;t++){var n=r[t];if(n.property===e)return n}},t}(a);t.BitStructure=U;var N=function(){function e(e,t,r){if(!(e instanceof U))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");var n=8*e.span,i=e.fields.reduce((function(e,t){return e+t.bits}),0);if(t+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=B(this.valueMask<<this.start),this.property=r}return e.prototype.decode=function(e,t){return B(this.container._packedGetValue()&this.wordMask)>>>this.start},e.prototype.encode=function(e){if(!Number.isInteger(e)||e!==B(e&this.valueMask))throw new TypeError(u("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);var t=this.container._packedGetValue(),r=B(e<<this.start);this.container._packedSetValue(B(t&~this.wordMask)|r)},e}();t.BitField=N;var L=function(e){function t(t,r){return e.call(this,t,1,r)||this}return n(t,e),t.prototype.decode=function(e,t){return!!N.prototype.decode.call(this,e,t)},t.prototype.encode=function(e){return"boolean"===typeof e&&(e=+e),N.prototype.encode.call(this,e)},t}(N);t.Boolean=L;var z=function(e){function t(t,r){var n=this;if(!(t instanceof c&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");var i=-1;return t instanceof c||(i=t),(n=e.call(this,i,r)||this).length=t,n}return n(t,e),t.prototype.getSpan=function(e,t){var r=this.span;return 0>r&&(r=this.length.decode(e,t)),r},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=this.span;return 0>r&&(r=this.length.decode(e,t)),o(e).slice(t,t+r)},t.prototype.encode=function(e,t,r){var n=this.length;if(this.length instanceof c&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(u("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");var i=o(e);return o(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof c&&this.length.encode(n,t,r),n},t}(a);t.Blob=z;var C=function(e){function t(t){return e.call(this,-1,t)||this}return n(t,e),t.prototype.getSpan=function(e,t){s(e),void 0===t&&(t=0);for(var r=t;r<e.length&&0!==e[r];)r+=1;return 1+r-t},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=this.getSpan(e,t);return o(e).slice(t,t+r-1).toString("utf-8")},t.prototype.encode=function(e,t,r){void 0===r&&(r=0),"string"!==typeof e&&(e=e.toString());var n=i.Buffer.from(e,"utf8"),s=n.length;if(r+s>t.length)throw new RangeError("encoding overruns Buffer");var a=o(t);return n.copy(a,r),a[r+s]=0,s+1},t}(a);t.CString=C;var W=function(e){function t(t,r){var n=this;if("string"===typeof t&&void 0===r&&(r=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");return(n=e.call(this,-1,r)||this).maxSpan=t,n}return n(t,e),t.prototype.getSpan=function(e,t){return s(e),void 0===t&&(t=0),e.length-t},t.prototype.decode=function(e,t){void 0===t&&(t=0);var r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return o(e).slice(t,t+r).toString("utf-8")},t.prototype.encode=function(e,t,r){void 0===r&&(r=0),"string"!==typeof e&&(e=e.toString());var n=i.Buffer.from(e,"utf8"),s=n.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return n.copy(o(t),r),s},t}(a);t.UTF8=W;var D=function(e){function t(t,r){var n=e.call(this,0,r)||this;return n.value=t,n}return n(t,e),t.prototype.decode=function(e,t){return this.value},t.prototype.encode=function(e,t,r){return 0},t}(a);t.Constant=D,t.greedy=function(e,t){return new l(e,t)},t.offset=function(e,t,r){return new d(e,t,r)},t.u8=function(e){return new h(1,e)},t.u16=function(e){return new h(2,e)},t.u24=function(e){return new h(3,e)},t.u32=function(e){return new h(4,e)},t.u40=function(e){return new h(5,e)},t.u48=function(e){return new h(6,e)},t.nu64=function(e){return new w(e)},t.u16be=function(e){return new p(2,e)},t.u24be=function(e){return new p(3,e)},t.u32be=function(e){return new p(4,e)},t.u40be=function(e){return new p(5,e)},t.u48be=function(e){return new p(6,e)},t.nu64be=function(e){return new k(e)},t.s8=function(e){return new f(1,e)},t.s16=function(e){return new f(2,e)},t.s24=function(e){return new f(3,e)},t.s32=function(e){return new f(4,e)},t.s40=function(e){return new f(5,e)},t.s48=function(e){return new f(6,e)},t.ns64=function(e){return new S(e)},t.s16be=function(e){return new g(2,e)},t.s24be=function(e){return new g(3,e)},t.s32be=function(e){return new g(4,e)},t.s40be=function(e){return new g(5,e)},t.s48be=function(e){return new g(6,e)},t.ns64be=function(e){return new A(e)},t.f32=function(e){return new I(e)},t.f32be=function(e){return new E(e)},t.f64=function(e){return new _(e)},t.f64be=function(e){return new v(e)},t.struct=function(e,t,r){return new T(e,t,r)},t.bits=function(e,t,r){return new U(e,t,r)},t.seq=function(e,t,r){return new x(e,t,r)},t.union=function(e,t,r){return new O(e,t,r)},t.unionLayoutDiscriminator=function(e,t){return new R(e,t)},t.blob=function(e,t){return new z(e,t)},t.cstr=function(e){return new C(e)},t.utf8=function(e,t){return new W(e,t)},t.constant=function(e,t){return new D(e,t)}},39598:(e,t,r)=>{"use strict";const n=r(12009),i=r(45889),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function f(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return _(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function k(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function S(e,t,r,n){return H(q(t,e.length-r),e,r,n)}function A(e,t,r,n){return H(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return H(Z(t),e,r,n)}function E(e,t,r,n){return H(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function _(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function v(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return d(e)},u.allocUnsafeSlow=function(e){return d(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?v(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(n,i),l=e.slice(t,r);for(let u=0;u<a;++u)if(c[u]!==l[u]){s=c[u],o=l[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return A(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=Q[e[s]];return i}function O(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function M(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function N(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function L(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return z(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return z(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=u.isBuffer(e)?e:u.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const W={};function D(e,t,r){W[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function K(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,s)}function G(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw G(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=K(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=K(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const j=/[^+/0-9A-Za-z-_]/g;function q(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Y(e){return"undefined"===typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},69314:(e,t,r)=>{"use strict";const n=r(12009),i=r(45889),s="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function a(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(X(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(X(e,ArrayBuffer)||e&&X(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(X(e,SharedArrayBuffer)||e&&X(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|f(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return l(e),a(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function f(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||X(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Z(e).length;default:if(i)return n?-1:q(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return R(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return T(this,t,r);case"latin1":case"binary":return P(this,t,r);case"base64":return _(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===u)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){let r=!0;for(let n=0;n<u;n++)if(c(e,s+n)!==c(t,n)){r=!1;break}if(r)return s}return-1}function k(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=t.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if(J(n))return o;e[r+o]=n}return o}function S(e,t,r,n){return H(q(t,e.length-r),e,r,n)}function A(e,t,r,n){return H(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function I(e,t,r,n){return H(Z(t),e,r,n)}function E(e,t,r,n){return H(function(e,t){let r,n,i;const s=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(t,e.length-r),e,r,n)}function _(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function v(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let s=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,a,u;switch(o){case 1:t<128&&(s=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(s=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(s=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(s=u))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=x));return r}(n)}t.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return l(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return d(e)},u.allocUnsafeSlow=function(e){return d(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),X(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(X(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?v(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(u.prototype[s]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(X(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const a=Math.min(s,o),c=this.slice(n,i),l=e.slice(t,r);for(let u=0;u<a;++u)if(c[u]!==l[u]){s=c[u],o=l[u];break}return s<o?-1:o<s?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return k(this,e,t,r);case"utf8":case"utf-8":return S(this,e,t,r);case"ascii":case"latin1":case"binary":return A(this,e,t,r);case"base64":return I(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function R(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let s=t;s<r;++s)i+=Q[e[s]];return i}function O(e,t,r){const n=e.slice(t,r);let i="";for(let s=0;s<n.length-1;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function M(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function B(e,t,r,n,i,s){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function N(e,t,r,n,i){F(t,n,i,e,r,7);let s=Number(t&BigInt(4294967295));e[r+7]=s,s>>=8,e[r+6]=s,s>>=8,e[r+5]=s,s>>=8,e[r+4]=s;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function L(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function z(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,s){return t=+t,r>>>=0,s||L(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||M(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=this[e],i=1,s=0;for(;++s<t&&(i*=256);)n+=this[e+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||M(e,t,this.length);let n=t,i=1,s=this[e+--n];for(;n>0&&(i*=256);)s+=this[e+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*t)),s},u.prototype.readInt8=function(e,t){return e>>>=0,t||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||M(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Y((function(e){G(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||V(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||M(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||M(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){B(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=0,s=1,o=0;for(this[t]=255&e;++i<r&&(s*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);B(this,e,t,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/s>>0)-o&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||B(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return z(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return z(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const s=u.isBuffer(e)?e:u.from(e,n),o=s.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=s[i%o]}return this};const W={};function D(e,t,r){W[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function K(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function F(e,t,r,n,i,s){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=s>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new W.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||V(t,e.length-(r+1))}(n,i,s)}function G(e,t){if("number"!==typeof e)throw new W.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,r){if(Math.floor(e)!==e)throw G(e,r),new W.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new W.ERR_BUFFER_OUT_OF_BOUNDS;throw new W.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=K(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=K(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const j=/[^+/0-9A-Za-z-_]/g;function q(e,t){let r;t=t||1/0;const n=e.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function Z(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function H(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function X(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Y(e){return"undefined"===typeof BigInt?$:e}function $(){throw new Error("BigInt not supported")}},84466:(e,t)=>{t.endianness=function(){return"LE"},t.hostname=function(){return"undefined"!==typeof location?location.hostname:""},t.loadavg=function(){return[]},t.uptime=function(){return 0},t.freemem=function(){return Number.MAX_VALUE},t.totalmem=function(){return Number.MAX_VALUE},t.cpus=function(){return[]},t.type=function(){return"Browser"},t.release=function(){return"undefined"!==typeof navigator?navigator.appVersion:""},t.networkInterfaces=t.getNetworkInterfaces=function(){return{}},t.arch=function(){return"javascript"},t.platform=function(){return"browser"},t.tmpdir=t.tmpDir=function(){return"/tmp"},t.EOL="\n",t.homedir=function(){return"/"}},71633:e=>{"use strict";function t(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",i=0,s=-1,o=0,a=0;a<=e.length;++a){if(a<e.length)r=e.charCodeAt(a);else{if(47===r)break;r=47}if(47===r){if(s===a-1||1===o);else if(s!==a-1&&2===o){if(n.length<2||2!==i||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){-1===u?(n="",i=0):i=(n=n.slice(0,u)).length-1-n.lastIndexOf("/"),s=a,o=0;continue}}else if(2===n.length||1===n.length){n="",i=0,s=a,o=0;continue}t&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+e.slice(s+1,a):n=e.slice(s+1,a),i=a-s-1;s=a,o=0}else 46===r&&-1!==o?++o:o=-1}return n}var n={resolve:function(){for(var e,n="",i=!1,s=arguments.length-1;s>=-1&&!i;s--){var o;s>=0?o=arguments[s]:(void 0===e&&(e=process.cwd()),o=e),t(o),0!==o.length&&(n=o+"/"+n,i=47===o.charCodeAt(0))}return n=r(n,!i),i?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var i=arguments[r];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var s=e.length,o=s-i,a=1;a<r.length&&47===r.charCodeAt(a);++a);for(var u=r.length-a,c=o<u?o:u,l=-1,d=0;d<=c;++d){if(d===c){if(u>c){if(47===r.charCodeAt(a+d))return r.slice(a+d+1);if(0===d)return r.slice(a+d)}else o>c&&(47===e.charCodeAt(i+d)?l=d:0===d&&(l=0));break}var h=e.charCodeAt(i+d);if(h!==r.charCodeAt(a+d))break;47===h&&(l=d)}var p="";for(d=i+l+1;d<=s;++d)d!==s&&47!==e.charCodeAt(d)||(0===p.length?p+="..":p+="/..");return p.length>0?p+r.slice(a+l):(a+=l,47===r.charCodeAt(a)&&++a,r.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,i=-1,s=!0,o=e.length-1;o>=1;--o)if(47===(r=e.charCodeAt(o))){if(!s){i=o;break}}else s=!1;return-1===i?n?"/":".":n&&1===i?"//":e.slice(0,i)},basename:function(e,r){if(void 0!==r&&"string"!==typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,i=0,s=-1,o=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var a=r.length-1,u=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!o){i=n+1;break}}else-1===u&&(o=!1,u=n+1),a>=0&&(c===r.charCodeAt(a)?-1===--a&&(s=n):(a=-1,s=u))}return i===s?s=u:-1===s&&(s=e.length),e.slice(i,s)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!o){i=n+1;break}}else-1===s&&(o=!1,s=n+1);return-1===s?"":e.slice(i,s)},extname:function(e){t(e);for(var r=-1,n=0,i=-1,s=!0,o=0,a=e.length-1;a>=0;--a){var u=e.charCodeAt(a);if(47!==u)-1===i&&(s=!1,i=a+1),46===u?-1===r?r=a:1!==o&&(o=1):-1!==r&&(o=-1);else if(!s){n=a+1;break}}return-1===r||-1===i||0===o||1===o&&r===i-1&&r===n+1?"":e.slice(r,i)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+e+n:n}("/",e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,i=e.charCodeAt(0),s=47===i;s?(r.root="/",n=1):n=0;for(var o=-1,a=0,u=-1,c=!0,l=e.length-1,d=0;l>=n;--l)if(47!==(i=e.charCodeAt(l)))-1===u&&(c=!1,u=l+1),46===i?-1===o?o=l:1!==d&&(d=1):-1!==o&&(d=-1);else if(!c){a=l+1;break}return-1===o||-1===u||0===d||1===d&&o===u-1&&o===a+1?-1!==u&&(r.base=r.name=0===a&&s?e.slice(1,u):e.slice(a,u)):(0===a&&s?(r.name=e.slice(1,o),r.base=e.slice(1,u)):(r.name=e.slice(a,o),r.base=e.slice(a,u)),r.ext=e.slice(o,u)),a>0?r.dir=e.slice(0,a-1):s&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},26477:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"===typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var a,u=[],c=!1,l=-1;function d(){c&&a&&(c=!1,a.length?u=a.concat(u):l=-1,u.length&&h())}function h(){if(!c){var e=o(d);c=!0;for(var t=u.length;t;){for(a=u,u=[];++l<t;)a&&a[l].run();l=-1,t=u.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new p(e,t)),1!==u.length||c||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=f,n.addListener=f,n.once=f,n.off=f,n.removeListener=f,n.removeAllListeners=f,n.emit=f,n.prependListener=f,n.prependOnceListener=f,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},60266:(e,t,r)=>{var n=r(28076),i=r(54640);e.exports={parse:function(e){var t=n.parse(e.toString());return i.compile(t)}}},54640:e=>{"use strict";e.exports={compile:function(e){var t=[],r=[],n="",i=Object.create(null),s=i;return function(e){for(var t,r=0;r<e.length;r++)switch((t=e[r]).type){case"Assign":a(t);break;case"ObjectPath":d(t);break;case"ArrayPath":h(t)}return i}(e);function o(e,t,r){var n=new Error(e);throw n.line=t,n.column=r,n}function a(e){var i,a=e.key,l=e.value,d=e.line,h=e.column;i=n?n+"."+a:a,"undefined"!==typeof s[a]&&o("Cannot redefine existing key '"+i+"'.",d,h),s[a]=c(l),u(i)||(t.push(i),r.push(i))}function u(e){return-1!==t.indexOf(e)}function c(e){return"Array"===e.type?function(e){for(var t=null,r=0;r<e.length;r++){var n=e[r];null===t?t=n.type:n.type!==t&&o("Cannot add value of type "+n.type+" to array of type "+t+".",n.line,n.column)}return e.map(c)}(e.value):"InlineTable"===e.type?l(e.value):e.value}function l(e){for(var t=Object.create(null),r=0;r<e.length;r++){var n=e[r];"InlineTable"===n.value.type?t[n.key]=l(n.value.value):"InlineTableValue"===n.type&&(t[n.key]=c(n.value))}return t}function d(e){var r=e.value,a=r.map(f).join("."),c=e.line,l=e.column;u(a)&&o("Cannot redefine existing key '"+r+"'.",c,l),t.push(a),s=p(i,r,Object.create(null),c,l),n=r}function h(e){var r=e.value,a=r.map(f).join("."),c=e.line,l=e.column;if(u(a)||t.push(a),(t=t.filter((function(e){return 0!==e.indexOf(a)}))).push(a),s=p(i,r,[],c,l),n=a,s instanceof Array){var d=Object.create(null);s.push(d),s=d}else o("Cannot redefine existing key '"+r+"'.",c,l)}function p(e,t,n,i,s){for(var a=[],u="",c=(t.join("."),e),l=0;l<t.length;l++){var d=t[l];a.push(d),u=a.join("."),"undefined"===typeof c[d]?l===t.length-1?c[d]=n:c[d]=Object.create(null):l!==t.length-1&&r.indexOf(u)>-1&&o("Cannot redefine existing key '"+u+"'.",i,s),(c=c[d])instanceof Array&&c.length&&l<t.length-1&&(c=c[c.length-1])}return c}function f(e){return e.indexOf(".")>-1?'"'+e+'"':e}}}},28076:e=>{e.exports=function(){function e(e,t,r,n,i,s){this.message=e,this.expected=t,this.found=r,this.offset=n,this.line=i,this.column=s,this.name="SyntaxError"}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),{SyntaxError:e,parse:function(t){var r,n=arguments.length>1?arguments[1]:{},i={},s={start:Ut},o=Ut,a=function(){return Pr},u=i,c="#",l={type:"literal",value:"#",description:'"#"'},d=void 0,h={type:"any",description:"any character"},p="[",f={type:"literal",value:"[",description:'"["'},g="]",m={type:"literal",value:"]",description:'"]"'},y=function(e){Or(Mr("ObjectPath",e,Pt,Rt))},b=function(e){Or(Mr("ArrayPath",e,Pt,Rt))},w=function(e,t){return e.concat(t)},k=function(e){return[e]},S=function(e){return e},A=".",I={type:"literal",value:".",description:'"."'},E="=",_={type:"literal",value:"=",description:'"="'},v=function(e,t){Or(Mr("Assign",t,Pt,Rt,e))},x=function(e){return e.join("")},T=function(e){return e.value},P='"""',R={type:"literal",value:'"""',description:'"\\"\\"\\""'},O=null,M=function(e){return Mr("String",e.join(""),Pt,Rt)},B='"',U={type:"literal",value:'"',description:'"\\""'},N="'''",L={type:"literal",value:"'''",description:"\"'''\""},z="'",C={type:"literal",value:"'",description:'"\'"'},W=function(e){return e},D=function(e){return e},K="\\",F={type:"literal",value:"\\",description:'"\\\\"'},G=function(){return""},V="e",j={type:"literal",value:"e",description:'"e"'},q="E",Z={type:"literal",value:"E",description:'"E"'},H=function(e,t){return Mr("Float",parseFloat(e+"e"+t),Pt,Rt)},X=function(e){return Mr("Float",parseFloat(e),Pt,Rt)},J="+",Q={type:"literal",value:"+",description:'"+"'},Y=function(e){return e.join("")},$="-",ee={type:"literal",value:"-",description:'"-"'},te=function(e){return"-"+e.join("")},re=function(e){return Mr("Integer",parseInt(e,10),Pt,Rt)},ne="true",ie={type:"literal",value:"true",description:'"true"'},se=function(){return Mr("Boolean",!0,Pt,Rt)},oe="false",ae={type:"literal",value:"false",description:'"false"'},ue=function(){return Mr("Boolean",!1,Pt,Rt)},ce=function(){return Mr("Array",[],Pt,Rt)},le=function(e){return Mr("Array",e?[e]:[],Pt,Rt)},de=function(e){return Mr("Array",e,Pt,Rt)},he=function(e,t){return Mr("Array",e.concat(t),Pt,Rt)},pe=function(e){return e},fe=",",ge={type:"literal",value:",",description:'","'},me="{",ye={type:"literal",value:"{",description:'"{"'},be="}",we={type:"literal",value:"}",description:'"}"'},ke=function(e){return Mr("InlineTable",e,Pt,Rt)},Se=function(e,t){return Mr("InlineTableValue",t,Pt,Rt,e)},Ae=function(e){return"."+e},Ie=function(e){return e.join("")},Ee=":",_e={type:"literal",value:":",description:'":"'},ve=function(e){return e.join("")},xe="T",Te={type:"literal",value:"T",description:'"T"'},Pe="Z",Re={type:"literal",value:"Z",description:'"Z"'},Oe=function(e,t){return Mr("Date",new Date(e+"T"+t+"Z"),Pt,Rt)},Me=function(e,t){return Mr("Date",new Date(e+"T"+t),Pt,Rt)},Be=/^[ \t]/,Ue={type:"class",value:"[ \\t]",description:"[ \\t]"},Ne="\n",Le={type:"literal",value:"\n",description:'"\\n"'},ze="\r",Ce={type:"literal",value:"\r",description:'"\\r"'},We=/^[0-9a-f]/i,De={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Ke=/^[0-9]/,Fe={type:"class",value:"[0-9]",description:"[0-9]"},Ge="_",Ve={type:"literal",value:"_",description:'"_"'},je=function(){return""},qe=/^[A-Za-z0-9_\-]/,Ze={type:"class",value:"[A-Za-z0-9_\\-]",description:"[A-Za-z0-9_\\-]"},He=function(e){return e.join("")},Xe='\\"',Je={type:"literal",value:'\\"',description:'"\\\\\\""'},Qe=function(){return'"'},Ye="\\\\",$e={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},et=function(){return"\\"},tt="\\b",rt={type:"literal",value:"\\b",description:'"\\\\b"'},nt=function(){return"\b"},it="\\t",st={type:"literal",value:"\\t",description:'"\\\\t"'},ot=function(){return"\t"},at="\\n",ut={type:"literal",value:"\\n",description:'"\\\\n"'},ct=function(){return"\n"},lt="\\f",dt={type:"literal",value:"\\f",description:'"\\\\f"'},ht=function(){return"\f"},pt="\\r",ft={type:"literal",value:"\\r",description:'"\\\\r"'},gt=function(){return"\r"},mt="\\U",yt={type:"literal",value:"\\U",description:'"\\\\U"'},bt=function(e){return Br(e.join(""))},wt="\\u",kt={type:"literal",value:"\\u",description:'"\\\\u"'},St=0,At=0,It=0,Et={line:1,column:1,seenCR:!1},_t=0,vt=[],xt=0,Tt={};if("startRule"in n){if(!(n.startRule in s))throw new Error("Can't start parsing from rule \""+n.startRule+'".');o=s[n.startRule]}function Pt(){return Ot(At).line}function Rt(){return Ot(At).column}function Ot(e){return It!==e&&(It>e&&(It=0,Et={line:1,column:1,seenCR:!1}),function(e,r,n){var i,s;for(i=r;i<n;i++)"\n"===(s=t.charAt(i))?(e.seenCR||e.line++,e.column=1,e.seenCR=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(e.line++,e.column=1,e.seenCR=!0):(e.column++,e.seenCR=!1)}(Et,It,e),It=e),Et}function Mt(e){St<_t||(St>_t&&(_t=St,vt=[]),vt.push(e))}function Bt(r,n,i){var s=Ot(i),o=i<t.length?t.charAt(i):null;return null!==n&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(n),new e(null!==r?r:function(e,t){var r,n=new Array(e.length);for(r=0;r<e.length;r++)n[r]=e[r].description;return"Expected "+(e.length>1?n.slice(0,-1).join(", ")+" or "+n[e.length-1]:n[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0180-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1080-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(n,o),n,o,i,s.line,s.column)}function Ut(){var e,t,r,n=49*St+0,s=Tt[n];if(s)return St=s.nextPos,s.result;for(e=St,t=[],r=Nt();r!==i;)t.push(r),r=Nt();return t!==i&&(At=e,t=a()),e=t,Tt[n]={nextPos:St,result:e},e}function Nt(){var e,t,r,n,s,o,a,c=49*St+1,l=Tt[c];if(l)return St=l.nextPos,l.result;for(e=St,t=[],r=wr();r!==i;)t.push(r),r=wr();if(t!==i)if((r=Lt())!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();if(n!==i){for(s=[],o=zt();o!==i;)s.push(o),o=zt();if(s!==i){if(o=[],(a=kr())!==i)for(;a!==i;)o.push(a),a=kr();else o=u;o===i&&(o=Ar()),o!==i?e=t=[t,r,n,s,o]:(St=e,e=u)}else St=e,e=u}else St=e,e=u}else St=e,e=u;else St=e,e=u;if(e===i){if(e=St,t=[],(r=wr())!==i)for(;r!==i;)t.push(r),r=wr();else t=u;if(t!==i){if(r=[],(n=kr())!==i)for(;n!==i;)r.push(n),n=kr();else r=u;r===i&&(r=Ar()),r!==i?e=t=[t,r]:(St=e,e=u)}else St=e,e=u;e===i&&(e=kr())}return Tt[c]={nextPos:St,result:e},e}function Lt(){var e,t=49*St+2,r=Tt[t];return r?(St=r.nextPos,r.result):((e=zt())===i&&(e=Ct())===i&&(e=Wt())===i&&(e=Gt()),Tt[t]={nextPos:St,result:e},e)}function zt(){var e,r,n,s,o,a,p=49*St+3,f=Tt[p];if(f)return St=f.nextPos,f.result;if(e=St,35===t.charCodeAt(St)?(r=c,St++):(r=i,0===xt&&Mt(l)),r!==i){for(n=[],s=St,o=St,xt++,(a=kr())===i&&(a=Ar()),xt--,a===i?o=d:(St=o,o=u),o!==i?(t.length>St?(a=t.charAt(St),St++):(a=i,0===xt&&Mt(h)),a!==i?s=o=[o,a]:(St=s,s=u)):(St=s,s=u);s!==i;)n.push(s),s=St,o=St,xt++,(a=kr())===i&&(a=Ar()),xt--,a===i?o=d:(St=o,o=u),o!==i?(t.length>St?(a=t.charAt(St),St++):(a=i,0===xt&&Mt(h)),a!==i?s=o=[o,a]:(St=s,s=u)):(St=s,s=u);n!==i?e=r=[r,n]:(St=e,e=u)}else St=e,e=u;return Tt[p]={nextPos:St,result:e},e}function Ct(){var e,r,n,s,o,a,c=49*St+4,l=Tt[c];if(l)return St=l.nextPos,l.result;if(e=St,91===t.charCodeAt(St)?(r=p,St++):(r=i,0===xt&&Mt(f)),r!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();if(n!==i)if((s=Dt())!==i){for(o=[],a=wr();a!==i;)o.push(a),a=wr();o!==i?(93===t.charCodeAt(St)?(a=g,St++):(a=i,0===xt&&Mt(m)),a!==i?(At=e,e=r=y(s)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;return Tt[c]={nextPos:St,result:e},e}function Wt(){var e,r,n,s,o,a,c,l,d=49*St+5,h=Tt[d];if(h)return St=h.nextPos,h.result;if(e=St,91===t.charCodeAt(St)?(r=p,St++):(r=i,0===xt&&Mt(f)),r!==i)if(91===t.charCodeAt(St)?(n=p,St++):(n=i,0===xt&&Mt(f)),n!==i){for(s=[],o=wr();o!==i;)s.push(o),o=wr();if(s!==i)if((o=Dt())!==i){for(a=[],c=wr();c!==i;)a.push(c),c=wr();a!==i?(93===t.charCodeAt(St)?(c=g,St++):(c=i,0===xt&&Mt(m)),c!==i?(93===t.charCodeAt(St)?(l=g,St++):(l=i,0===xt&&Mt(m)),l!==i?(At=e,e=r=b(o)):(St=e,e=u)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u;return Tt[d]={nextPos:St,result:e},e}function Dt(){var e,t,r,n=49*St+6,s=Tt[n];if(s)return St=s.nextPos,s.result;if(e=St,t=[],(r=Ft())!==i)for(;r!==i;)t.push(r),r=Ft();else t=u;return t!==i&&(r=Kt())!==i?(At=e,e=t=w(t,r)):(St=e,e=u),e===i&&(e=St,(t=Kt())!==i&&(At=e,t=k(t)),e=t),Tt[n]={nextPos:St,result:e},e}function Kt(){var e,t,r,n,s,o=49*St+7,a=Tt[o];if(a)return St=a.nextPos,a.result;for(e=St,t=[],r=wr();r!==i;)t.push(r),r=wr();if(t!==i)if((r=Vt())!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();n!==i?(At=e,e=t=S(r)):(St=e,e=u)}else St=e,e=u;else St=e,e=u;if(e===i){for(e=St,t=[],r=wr();r!==i;)t.push(r),r=wr();if(t!==i)if((r=jt())!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();n!==i?(At=e,e=t=S(r)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}return Tt[o]={nextPos:St,result:e},e}function Ft(){var e,r,n,s,o,a,c,l=49*St+8,d=Tt[l];if(d)return St=d.nextPos,d.result;for(e=St,r=[],n=wr();n!==i;)r.push(n),n=wr();if(r!==i)if((n=Vt())!==i){for(s=[],o=wr();o!==i;)s.push(o),o=wr();if(s!==i)if(46===t.charCodeAt(St)?(o=A,St++):(o=i,0===xt&&Mt(I)),o!==i){for(a=[],c=wr();c!==i;)a.push(c),c=wr();a!==i?(At=e,e=r=S(n)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u;if(e===i){for(e=St,r=[],n=wr();n!==i;)r.push(n),n=wr();if(r!==i)if((n=jt())!==i){for(s=[],o=wr();o!==i;)s.push(o),o=wr();if(s!==i)if(46===t.charCodeAt(St)?(o=A,St++):(o=i,0===xt&&Mt(I)),o!==i){for(a=[],c=wr();c!==i;)a.push(c),c=wr();a!==i?(At=e,e=r=S(n)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u}return Tt[l]={nextPos:St,result:e},e}function Gt(){var e,r,n,s,o,a,c=49*St+9,l=Tt[c];if(l)return St=l.nextPos,l.result;if(e=St,(r=Vt())!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();if(n!==i)if(61===t.charCodeAt(St)?(s=E,St++):(s=i,0===xt&&Mt(_)),s!==i){for(o=[],a=wr();a!==i;)o.push(a),a=wr();o!==i&&(a=qt())!==i?(At=e,e=r=v(r,a)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;if(e===i)if(e=St,(r=jt())!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();if(n!==i)if(61===t.charCodeAt(St)?(s=E,St++):(s=i,0===xt&&Mt(_)),s!==i){for(o=[],a=wr();a!==i;)o.push(a),a=wr();o!==i&&(a=qt())!==i?(At=e,e=r=v(r,a)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;return Tt[c]={nextPos:St,result:e},e}function Vt(){var e,t,r,n=49*St+10,s=Tt[n];if(s)return St=s.nextPos,s.result;if(e=St,t=[],(r=_r())!==i)for(;r!==i;)t.push(r),r=_r();else t=u;return t!==i&&(At=e,t=x(t)),e=t,Tt[n]={nextPos:St,result:e},e}function jt(){var e,t,r=49*St+11,n=Tt[r];return n?(St=n.nextPos,n.result):(e=St,(t=Xt())!==i&&(At=e,t=T(t)),(e=t)===i&&(e=St,(t=Qt())!==i&&(At=e,t=T(t)),e=t),Tt[r]={nextPos:St,result:e},e)}function qt(){var e,t=49*St+12,r=Tt[t];return r?(St=r.nextPos,r.result):((e=Zt())===i&&(e=br())===i&&(e=nr())===i&&(e=sr())===i&&(e=ar())===i&&(e=ur())===i&&(e=hr()),Tt[t]={nextPos:St,result:e},e)}function Zt(){var e,t=49*St+13,r=Tt[t];return r?(St=r.nextPos,r.result):((e=Ht())===i&&(e=Xt())===i&&(e=Jt())===i&&(e=Qt()),Tt[t]={nextPos:St,result:e},e)}function Ht(){var e,r,n,s,o,a=49*St+14,c=Tt[a];if(c)return St=c.nextPos,c.result;if(e=St,t.substr(St,3)===P?(r=P,St+=3):(r=i,0===xt&&Mt(R)),r!==i)if((n=kr())===i&&(n=O),n!==i){for(s=[],o=er();o!==i;)s.push(o),o=er();s!==i?(t.substr(St,3)===P?(o=P,St+=3):(o=i,0===xt&&Mt(R)),o!==i?(At=e,e=r=M(s)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;else St=e,e=u;return Tt[a]={nextPos:St,result:e},e}function Xt(){var e,r,n,s,o=49*St+15,a=Tt[o];if(a)return St=a.nextPos,a.result;if(e=St,34===t.charCodeAt(St)?(r=B,St++):(r=i,0===xt&&Mt(U)),r!==i){for(n=[],s=Yt();s!==i;)n.push(s),s=Yt();n!==i?(34===t.charCodeAt(St)?(s=B,St++):(s=i,0===xt&&Mt(U)),s!==i?(At=e,e=r=M(n)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;return Tt[o]={nextPos:St,result:e},e}function Jt(){var e,r,n,s,o,a=49*St+16,c=Tt[a];if(c)return St=c.nextPos,c.result;if(e=St,t.substr(St,3)===N?(r=N,St+=3):(r=i,0===xt&&Mt(L)),r!==i)if((n=kr())===i&&(n=O),n!==i){for(s=[],o=rr();o!==i;)s.push(o),o=rr();s!==i?(t.substr(St,3)===N?(o=N,St+=3):(o=i,0===xt&&Mt(L)),o!==i?(At=e,e=r=M(s)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;else St=e,e=u;return Tt[a]={nextPos:St,result:e},e}function Qt(){var e,r,n,s,o=49*St+17,a=Tt[o];if(a)return St=a.nextPos,a.result;if(e=St,39===t.charCodeAt(St)?(r=z,St++):(r=i,0===xt&&Mt(C)),r!==i){for(n=[],s=$t();s!==i;)n.push(s),s=$t();n!==i?(39===t.charCodeAt(St)?(s=z,St++):(s=i,0===xt&&Mt(C)),s!==i?(At=e,e=r=M(n)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;return Tt[o]={nextPos:St,result:e},e}function Yt(){var e,r,n,s=49*St+18,o=Tt[s];return o?(St=o.nextPos,o.result):((e=xr())===i&&(e=St,r=St,xt++,34===t.charCodeAt(St)?(n=B,St++):(n=i,0===xt&&Mt(U)),xt--,n===i?r=d:(St=r,r=u),r!==i?(t.length>St?(n=t.charAt(St),St++):(n=i,0===xt&&Mt(h)),n!==i?(At=e,e=r=W(n)):(St=e,e=u)):(St=e,e=u)),Tt[s]={nextPos:St,result:e},e)}function $t(){var e,r,n,s=49*St+19,o=Tt[s];return o?(St=o.nextPos,o.result):(e=St,r=St,xt++,39===t.charCodeAt(St)?(n=z,St++):(n=i,0===xt&&Mt(C)),xt--,n===i?r=d:(St=r,r=u),r!==i?(t.length>St?(n=t.charAt(St),St++):(n=i,0===xt&&Mt(h)),n!==i?(At=e,e=r=W(n)):(St=e,e=u)):(St=e,e=u),Tt[s]={nextPos:St,result:e},e)}function er(){var e,r,n,s=49*St+20,o=Tt[s];return o?(St=o.nextPos,o.result):((e=xr())===i&&(e=tr())===i&&(e=St,r=St,xt++,t.substr(St,3)===P?(n=P,St+=3):(n=i,0===xt&&Mt(R)),xt--,n===i?r=d:(St=r,r=u),r!==i?(t.length>St?(n=t.charAt(St),St++):(n=i,0===xt&&Mt(h)),n!==i?(At=e,e=r=D(n)):(St=e,e=u)):(St=e,e=u)),Tt[s]={nextPos:St,result:e},e)}function tr(){var e,r,n,s,o=49*St+21,a=Tt[o];if(a)return St=a.nextPos,a.result;if(e=St,92===t.charCodeAt(St)?(r=K,St++):(r=i,0===xt&&Mt(F)),r!==i)if(kr()!==i){for(n=[],s=Sr();s!==i;)n.push(s),s=Sr();n!==i?(At=e,e=r=G()):(St=e,e=u)}else St=e,e=u;else St=e,e=u;return Tt[o]={nextPos:St,result:e},e}function rr(){var e,r,n,s=49*St+22,o=Tt[s];return o?(St=o.nextPos,o.result):(e=St,r=St,xt++,t.substr(St,3)===N?(n=N,St+=3):(n=i,0===xt&&Mt(L)),xt--,n===i?r=d:(St=r,r=u),r!==i?(t.length>St?(n=t.charAt(St),St++):(n=i,0===xt&&Mt(h)),n!==i?(At=e,e=r=W(n)):(St=e,e=u)):(St=e,e=u),Tt[s]={nextPos:St,result:e},e)}function nr(){var e,r,n,s,o=49*St+23,a=Tt[o];return a?(St=a.nextPos,a.result):(e=St,(r=ir())===i&&(r=or()),r!==i?(101===t.charCodeAt(St)?(n=V,St++):(n=i,0===xt&&Mt(j)),n===i&&(69===t.charCodeAt(St)?(n=q,St++):(n=i,0===xt&&Mt(Z))),n!==i&&(s=or())!==i?(At=e,e=r=H(r,s)):(St=e,e=u)):(St=e,e=u),e===i&&(e=St,(r=ir())!==i&&(At=e,r=X(r)),e=r),Tt[o]={nextPos:St,result:e},e)}function ir(){var e,r,n,s,o,a,c=49*St+24,l=Tt[c];return l?(St=l.nextPos,l.result):(e=St,43===t.charCodeAt(St)?(r=J,St++):(r=i,0===xt&&Mt(Q)),r===i&&(r=O),r!==i?(n=St,(s=vr())!==i?(46===t.charCodeAt(St)?(o=A,St++):(o=i,0===xt&&Mt(I)),o!==i&&(a=vr())!==i?n=s=[s,o,a]:(St=n,n=u)):(St=n,n=u),n!==i?(At=e,e=r=Y(n)):(St=e,e=u)):(St=e,e=u),e===i&&(e=St,45===t.charCodeAt(St)?(r=$,St++):(r=i,0===xt&&Mt(ee)),r!==i?(n=St,(s=vr())!==i?(46===t.charCodeAt(St)?(o=A,St++):(o=i,0===xt&&Mt(I)),o!==i&&(a=vr())!==i?n=s=[s,o,a]:(St=n,n=u)):(St=n,n=u),n!==i?(At=e,e=r=te(n)):(St=e,e=u)):(St=e,e=u)),Tt[c]={nextPos:St,result:e},e)}function sr(){var e,t,r=49*St+25,n=Tt[r];return n?(St=n.nextPos,n.result):(e=St,(t=or())!==i&&(At=e,t=re(t)),e=t,Tt[r]={nextPos:St,result:e},e)}function or(){var e,r,n,s,o,a=49*St+26,c=Tt[a];if(c)return St=c.nextPos,c.result;if(e=St,43===t.charCodeAt(St)?(r=J,St++):(r=i,0===xt&&Mt(Q)),r===i&&(r=O),r!==i){if(n=[],(s=Er())!==i)for(;s!==i;)n.push(s),s=Er();else n=u;n!==i?(s=St,xt++,46===t.charCodeAt(St)?(o=A,St++):(o=i,0===xt&&Mt(I)),xt--,o===i?s=d:(St=s,s=u),s!==i?(At=e,e=r=Y(n)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;if(e===i)if(e=St,45===t.charCodeAt(St)?(r=$,St++):(r=i,0===xt&&Mt(ee)),r!==i){if(n=[],(s=Er())!==i)for(;s!==i;)n.push(s),s=Er();else n=u;n!==i?(s=St,xt++,46===t.charCodeAt(St)?(o=A,St++):(o=i,0===xt&&Mt(I)),xt--,o===i?s=d:(St=s,s=u),s!==i?(At=e,e=r=te(n)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;return Tt[a]={nextPos:St,result:e},e}function ar(){var e,r,n=49*St+27,s=Tt[n];return s?(St=s.nextPos,s.result):(e=St,t.substr(St,4)===ne?(r=ne,St+=4):(r=i,0===xt&&Mt(ie)),r!==i&&(At=e,r=se()),(e=r)===i&&(e=St,t.substr(St,5)===oe?(r=oe,St+=5):(r=i,0===xt&&Mt(ae)),r!==i&&(At=e,r=ue()),e=r),Tt[n]={nextPos:St,result:e},e)}function ur(){var e,r,n,s,o,a=49*St+28,c=Tt[a];if(c)return St=c.nextPos,c.result;if(e=St,91===t.charCodeAt(St)?(r=p,St++):(r=i,0===xt&&Mt(f)),r!==i){for(n=[],s=dr();s!==i;)n.push(s),s=dr();n!==i?(93===t.charCodeAt(St)?(s=g,St++):(s=i,0===xt&&Mt(m)),s!==i?(At=e,e=r=ce()):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;if(e===i&&(e=St,91===t.charCodeAt(St)?(r=p,St++):(r=i,0===xt&&Mt(f)),r!==i?((n=cr())===i&&(n=O),n!==i?(93===t.charCodeAt(St)?(s=g,St++):(s=i,0===xt&&Mt(m)),s!==i?(At=e,e=r=le(n)):(St=e,e=u)):(St=e,e=u)):(St=e,e=u),e===i)){if(e=St,91===t.charCodeAt(St)?(r=p,St++):(r=i,0===xt&&Mt(f)),r!==i){if(n=[],(s=lr())!==i)for(;s!==i;)n.push(s),s=lr();else n=u;n!==i?(93===t.charCodeAt(St)?(s=g,St++):(s=i,0===xt&&Mt(m)),s!==i?(At=e,e=r=de(n)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u;if(e===i)if(e=St,91===t.charCodeAt(St)?(r=p,St++):(r=i,0===xt&&Mt(f)),r!==i){if(n=[],(s=lr())!==i)for(;s!==i;)n.push(s),s=lr();else n=u;n!==i&&(s=cr())!==i?(93===t.charCodeAt(St)?(o=g,St++):(o=i,0===xt&&Mt(m)),o!==i?(At=e,e=r=he(n,s)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u}return Tt[a]={nextPos:St,result:e},e}function cr(){var e,t,r,n,s,o=49*St+29,a=Tt[o];if(a)return St=a.nextPos,a.result;for(e=St,t=[],r=dr();r!==i;)t.push(r),r=dr();if(t!==i)if((r=qt())!==i){for(n=[],s=dr();s!==i;)n.push(s),s=dr();n!==i?(At=e,e=t=pe(r)):(St=e,e=u)}else St=e,e=u;else St=e,e=u;return Tt[o]={nextPos:St,result:e},e}function lr(){var e,r,n,s,o,a,c,l=49*St+30,d=Tt[l];if(d)return St=d.nextPos,d.result;for(e=St,r=[],n=dr();n!==i;)r.push(n),n=dr();if(r!==i)if((n=qt())!==i){for(s=[],o=dr();o!==i;)s.push(o),o=dr();if(s!==i)if(44===t.charCodeAt(St)?(o=fe,St++):(o=i,0===xt&&Mt(ge)),o!==i){for(a=[],c=dr();c!==i;)a.push(c),c=dr();a!==i?(At=e,e=r=pe(n)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u;return Tt[l]={nextPos:St,result:e},e}function dr(){var e,t=49*St+31,r=Tt[t];return r?(St=r.nextPos,r.result):((e=wr())===i&&(e=kr())===i&&(e=zt()),Tt[t]={nextPos:St,result:e},e)}function hr(){var e,r,n,s,o,a,c=49*St+32,l=Tt[c];if(l)return St=l.nextPos,l.result;if(e=St,123===t.charCodeAt(St)?(r=me,St++):(r=i,0===xt&&Mt(ye)),r!==i){for(n=[],s=wr();s!==i;)n.push(s),s=wr();if(n!==i){for(s=[],o=pr();o!==i;)s.push(o),o=pr();if(s!==i){for(o=[],a=wr();a!==i;)o.push(a),a=wr();o!==i?(125===t.charCodeAt(St)?(a=be,St++):(a=i,0===xt&&Mt(we)),a!==i?(At=e,e=r=ke(s)):(St=e,e=u)):(St=e,e=u)}else St=e,e=u}else St=e,e=u}else St=e,e=u;return Tt[c]={nextPos:St,result:e},e}function pr(){var e,r,n,s,o,a,c,l,d,h,p,f=49*St+33,g=Tt[f];if(g)return St=g.nextPos,g.result;for(e=St,r=[],n=wr();n!==i;)r.push(n),n=wr();if(r!==i)if((n=Vt())!==i){for(s=[],o=wr();o!==i;)s.push(o),o=wr();if(s!==i)if(61===t.charCodeAt(St)?(o=E,St++):(o=i,0===xt&&Mt(_)),o!==i){for(a=[],c=wr();c!==i;)a.push(c),c=wr();if(a!==i)if((c=qt())!==i){for(l=[],d=wr();d!==i;)l.push(d),d=wr();if(l!==i)if(44===t.charCodeAt(St)?(d=fe,St++):(d=i,0===xt&&Mt(ge)),d!==i){for(h=[],p=wr();p!==i;)h.push(p),p=wr();h!==i?(At=e,e=r=Se(n,c)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u;if(e===i){for(e=St,r=[],n=wr();n!==i;)r.push(n),n=wr();if(r!==i)if((n=Vt())!==i){for(s=[],o=wr();o!==i;)s.push(o),o=wr();if(s!==i)if(61===t.charCodeAt(St)?(o=E,St++):(o=i,0===xt&&Mt(_)),o!==i){for(a=[],c=wr();c!==i;)a.push(c),c=wr();a!==i&&(c=qt())!==i?(At=e,e=r=Se(n,c)):(St=e,e=u)}else St=e,e=u;else St=e,e=u}else St=e,e=u;else St=e,e=u}return Tt[f]={nextPos:St,result:e},e}function fr(){var e,r,n,s=49*St+34,o=Tt[s];return o?(St=o.nextPos,o.result):(e=St,46===t.charCodeAt(St)?(r=A,St++):(r=i,0===xt&&Mt(I)),r!==i&&(n=vr())!==i?(At=e,e=r=Ae(n)):(St=e,e=u),Tt[s]={nextPos:St,result:e},e)}function gr(){var e,r,n,s,o,a,c,l,d,h,p,f,g=49*St+35,m=Tt[g];return m?(St=m.nextPos,m.result):(e=St,r=St,(n=Er())!==i&&(s=Er())!==i&&(o=Er())!==i&&(a=Er())!==i?(45===t.charCodeAt(St)?(c=$,St++):(c=i,0===xt&&Mt(ee)),c!==i&&(l=Er())!==i&&(d=Er())!==i?(45===t.charCodeAt(St)?(h=$,St++):(h=i,0===xt&&Mt(ee)),h!==i&&(p=Er())!==i&&(f=Er())!==i?r=n=[n,s,o,a,c,l,d,h,p,f]:(St=r,r=u)):(St=r,r=u)):(St=r,r=u),r!==i&&(At=e,r=Ie(r)),e=r,Tt[g]={nextPos:St,result:e},e)}function mr(){var e,r,n,s,o,a,c,l,d,h,p,f=49*St+36,g=Tt[f];return g?(St=g.nextPos,g.result):(e=St,r=St,(n=Er())!==i&&(s=Er())!==i?(58===t.charCodeAt(St)?(o=Ee,St++):(o=i,0===xt&&Mt(_e)),o!==i&&(a=Er())!==i&&(c=Er())!==i?(58===t.charCodeAt(St)?(l=Ee,St++):(l=i,0===xt&&Mt(_e)),l!==i&&(d=Er())!==i&&(h=Er())!==i?((p=fr())===i&&(p=O),p!==i?r=n=[n,s,o,a,c,l,d,h,p]:(St=r,r=u)):(St=r,r=u)):(St=r,r=u)):(St=r,r=u),r!==i&&(At=e,r=ve(r)),e=r,Tt[f]={nextPos:St,result:e},e)}function yr(){var e,r,n,s,o,a,c,l,d,h,p,f,g,m,y,b,w,k=49*St+37,S=Tt[k];return S?(St=S.nextPos,S.result):(e=St,r=St,(n=Er())!==i&&(s=Er())!==i?(58===t.charCodeAt(St)?(o=Ee,St++):(o=i,0===xt&&Mt(_e)),o!==i&&(a=Er())!==i&&(c=Er())!==i?(58===t.charCodeAt(St)?(l=Ee,St++):(l=i,0===xt&&Mt(_e)),l!==i&&(d=Er())!==i&&(h=Er())!==i?((p=fr())===i&&(p=O),p!==i?(45===t.charCodeAt(St)?(f=$,St++):(f=i,0===xt&&Mt(ee)),f===i&&(43===t.charCodeAt(St)?(f=J,St++):(f=i,0===xt&&Mt(Q))),f!==i&&(g=Er())!==i&&(m=Er())!==i?(58===t.charCodeAt(St)?(y=Ee,St++):(y=i,0===xt&&Mt(_e)),y!==i&&(b=Er())!==i&&(w=Er())!==i?r=n=[n,s,o,a,c,l,d,h,p,f,g,m,y,b,w]:(St=r,r=u)):(St=r,r=u)):(St=r,r=u)):(St=r,r=u)):(St=r,r=u)):(St=r,r=u),r!==i&&(At=e,r=ve(r)),e=r,Tt[k]={nextPos:St,result:e},e)}function br(){var e,r,n,s,o,a=49*St+38,c=Tt[a];return c?(St=c.nextPos,c.result):(e=St,(r=gr())!==i?(84===t.charCodeAt(St)?(n=xe,St++):(n=i,0===xt&&Mt(Te)),n!==i&&(s=mr())!==i?(90===t.charCodeAt(St)?(o=Pe,St++):(o=i,0===xt&&Mt(Re)),o!==i?(At=e,e=r=Oe(r,s)):(St=e,e=u)):(St=e,e=u)):(St=e,e=u),e===i&&(e=St,(r=gr())!==i?(84===t.charCodeAt(St)?(n=xe,St++):(n=i,0===xt&&Mt(Te)),n!==i&&(s=yr())!==i?(At=e,e=r=Me(r,s)):(St=e,e=u)):(St=e,e=u)),Tt[a]={nextPos:St,result:e},e)}function wr(){var e,r=49*St+39,n=Tt[r];return n?(St=n.nextPos,n.result):(Be.test(t.charAt(St))?(e=t.charAt(St),St++):(e=i,0===xt&&Mt(Ue)),Tt[r]={nextPos:St,result:e},e)}function kr(){var e,r,n,s=49*St+40,o=Tt[s];return o?(St=o.nextPos,o.result):(10===t.charCodeAt(St)?(e=Ne,St++):(e=i,0===xt&&Mt(Le)),e===i&&(e=St,13===t.charCodeAt(St)?(r=ze,St++):(r=i,0===xt&&Mt(Ce)),r!==i?(10===t.charCodeAt(St)?(n=Ne,St++):(n=i,0===xt&&Mt(Le)),n!==i?e=r=[r,n]:(St=e,e=u)):(St=e,e=u)),Tt[s]={nextPos:St,result:e},e)}function Sr(){var e,t=49*St+41,r=Tt[t];return r?(St=r.nextPos,r.result):((e=kr())===i&&(e=wr()),Tt[t]={nextPos:St,result:e},e)}function Ar(){var e,r,n=49*St+42,s=Tt[n];return s?(St=s.nextPos,s.result):(e=St,xt++,t.length>St?(r=t.charAt(St),St++):(r=i,0===xt&&Mt(h)),xt--,r===i?e=d:(St=e,e=u),Tt[n]={nextPos:St,result:e},e)}function Ir(){var e,r=49*St+43,n=Tt[r];return n?(St=n.nextPos,n.result):(We.test(t.charAt(St))?(e=t.charAt(St),St++):(e=i,0===xt&&Mt(De)),Tt[r]={nextPos:St,result:e},e)}function Er(){var e,r,n=49*St+44,s=Tt[n];return s?(St=s.nextPos,s.result):(Ke.test(t.charAt(St))?(e=t.charAt(St),St++):(e=i,0===xt&&Mt(Fe)),e===i&&(e=St,95===t.charCodeAt(St)?(r=Ge,St++):(r=i,0===xt&&Mt(Ve)),r!==i&&(At=e,r=je()),e=r),Tt[n]={nextPos:St,result:e},e)}function _r(){var e,r=49*St+45,n=Tt[r];return n?(St=n.nextPos,n.result):(qe.test(t.charAt(St))?(e=t.charAt(St),St++):(e=i,0===xt&&Mt(Ze)),Tt[r]={nextPos:St,result:e},e)}function vr(){var e,t,r,n=49*St+46,s=Tt[n];if(s)return St=s.nextPos,s.result;if(e=St,t=[],(r=Er())!==i)for(;r!==i;)t.push(r),r=Er();else t=u;return t!==i&&(At=e,t=He(t)),e=t,Tt[n]={nextPos:St,result:e},e}function xr(){var e,r,n=49*St+47,s=Tt[n];return s?(St=s.nextPos,s.result):(e=St,t.substr(St,2)===Xe?(r=Xe,St+=2):(r=i,0===xt&&Mt(Je)),r!==i&&(At=e,r=Qe()),(e=r)===i&&(e=St,t.substr(St,2)===Ye?(r=Ye,St+=2):(r=i,0===xt&&Mt($e)),r!==i&&(At=e,r=et()),(e=r)===i&&(e=St,t.substr(St,2)===tt?(r=tt,St+=2):(r=i,0===xt&&Mt(rt)),r!==i&&(At=e,r=nt()),(e=r)===i&&(e=St,t.substr(St,2)===it?(r=it,St+=2):(r=i,0===xt&&Mt(st)),r!==i&&(At=e,r=ot()),(e=r)===i&&(e=St,t.substr(St,2)===at?(r=at,St+=2):(r=i,0===xt&&Mt(ut)),r!==i&&(At=e,r=ct()),(e=r)===i&&(e=St,t.substr(St,2)===lt?(r=lt,St+=2):(r=i,0===xt&&Mt(dt)),r!==i&&(At=e,r=ht()),(e=r)===i&&(e=St,t.substr(St,2)===pt?(r=pt,St+=2):(r=i,0===xt&&Mt(ft)),r!==i&&(At=e,r=gt()),(e=r)===i&&(e=Tr()))))))),Tt[n]={nextPos:St,result:e},e)}function Tr(){var e,r,n,s,o,a,c,l,d,h,p,f=49*St+48,g=Tt[f];return g?(St=g.nextPos,g.result):(e=St,t.substr(St,2)===mt?(r=mt,St+=2):(r=i,0===xt&&Mt(yt)),r!==i?(n=St,(s=Ir())!==i&&(o=Ir())!==i&&(a=Ir())!==i&&(c=Ir())!==i&&(l=Ir())!==i&&(d=Ir())!==i&&(h=Ir())!==i&&(p=Ir())!==i?n=s=[s,o,a,c,l,d,h,p]:(St=n,n=u),n!==i?(At=e,e=r=bt(n)):(St=e,e=u)):(St=e,e=u),e===i&&(e=St,t.substr(St,2)===wt?(r=wt,St+=2):(r=i,0===xt&&Mt(kt)),r!==i?(n=St,(s=Ir())!==i&&(o=Ir())!==i&&(a=Ir())!==i&&(c=Ir())!==i?n=s=[s,o,a,c]:(St=n,n=u),n!==i?(At=e,e=r=bt(n)):(St=e,e=u)):(St=e,e=u)),Tt[f]={nextPos:St,result:e},e)}var Pr=[];function Rr(e,t,r){var n=new Error(e);throw n.line=t,n.column=r,n}function Or(e){Pr.push(e)}function Mr(e,t,r,n,i){var s={type:e,value:t,line:r(),column:n()};return i&&(s.key=i),s}function Br(e,t,r){var n=parseInt("0x"+e);if(!(!isFinite(n)||Math.floor(n)!=n||n<0||n>1114111||n>55295&&n<57344))return Ur(n);Rr("Invalid Unicode escape code: "+e,t,r)}function Ur(){var e,t,r=16384,n=[],i=-1,s=arguments.length;if(!s)return"";for(var o="";++i<s;){var a=Number(arguments[i]);a<=65535?n.push(a):(e=55296+((a-=65536)>>10),t=a%1024+56320,n.push(e,t)),(i+1==s||n.length>r)&&(o+=String.fromCharCode.apply(null,n),n.length=0)}return o}if((r=o())!==i&&St===t.length)return r;throw r!==i&&St<t.length&&Mt({type:"end",description:"end of input"}),Bt(null,vt,_t)}}}()},80104:e=>{"use strict";e.exports=JSON.parse('[{"address":"B37pZmwrwXHjpgvd9hHDAx1yeDsNevTnbbrN9W12BoGK","deprecated":true,"name":"ALEPH/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"CAgAeMD7quTdnr6RPa7JySQpjf3irAmefYNdTb6anemq","deprecated":true,"name":"BTC/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"ASKiV944nKg1W9vsf7hf3fTsjawK6DwLwrnB2LH9n61c","deprecated":true,"name":"ETH/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Cdp72gDcYMCLLk3aDkPxjeiirKoFqK38ECm8Ywvk94Wi","deprecated":true,"name":"SOL/WUSDC","programId":"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{"address":"68J6nkWToik6oM9rTatKSR5ibVSykAtzftBUEAvpRsys","deprecated":true,"name":"SRM/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8Jzed8Fafu1RU1CQDWdiETSrqAJy1ukZ5JL6Pma3p3a2","deprecated":true,"name":"SRM/SOL","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9wDmxsfwaDb2ysmZpBLzxKzoWrF1zHzBN7PV5EmJe19R","deprecated":true,"name":"SUSHI/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"GbQSffne1NcJbS4jsewZEpRGYVR4RNnuVUN8Ht6vAGb6","deprecated":true,"name":"SXP/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"7kgkDyW7dmyMeP8KFXzbcUZz1R2WHsovDZ7n3ihZuNDS","deprecated":true,"name":"MSRM/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FZqrBXz7ADGsmDf1TM9YgysPUfvtG8rJiNUrqDpHc9Au","deprecated":true,"name":"FTT/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FJg9FUtbN3fg3YFbMCFiZKjGh5Bn4gtzxZmtxFzmz9kT","deprecated":true,"name":"YFI/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"7GZ59DMgJ7D6dfoJTpszPayTRyua9jwcaGJXaRMMF1my","deprecated":true,"name":"LINK/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"uPNcBgFhrLW3FtvyYYbBUi53BBEQf9e4NPgwxaLu5Hn","deprecated":true,"name":"HGET/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"3puWJFZyCso14EdxhywjD7xqyTarpsULx483mzvqxQRW","deprecated":true,"name":"CREAM/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8Ae7Uhigx8k4fKdJG7irdPCVDZLvWsJfeTH2t5fr3TVD","deprecated":true,"name":"UBXT/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Hze5AUX4Qp1cTujiJ4CsAMRGn4g6ZpgXsmptFn3xxhWg","deprecated":true,"name":"HNT/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"FJq4HX3bUSgF3yQZ8ADALtJYfAyr9fz36SNG18hc3dgF","deprecated":true,"name":"FRONT/WUSDC","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"BZMuoQ2i2noNUXMdrRDivc7MwjGspNJTCfZkdHMwK18T","deprecated":true,"name":"ALEPH/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5LgJphS6D5zXwUVPU7eCryDBkyta3AidrJ5vjNU6BcGW","deprecated":true,"name":"BTC/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DmEDKZPXXkWgaYiKgWws2ZXWWKCh41eryDPRVD4zKnD9","deprecated":true,"name":"ETH/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EBFTQNg2QjyxV7WDDenoLbfLLXLcbSz6w1YrdTCGPWT5","deprecated":true,"name":"SOL/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8YmQZRXGizZXYPCDmxgjwB8X8XN4PZG7MMwNg76iAmPZ","deprecated":true,"name":"SRM/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9vFuX2BizwinWjkZLQTmThDcNMFEcY3wVXYuqnRQtcD","deprecated":true,"name":"SUSHI/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"C5NReXAeQhfjiDCGPFj1UUmDxDqF8v2CUVKoYuQqb4eW","deprecated":true,"name":"SXP/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"58H7ZRmiyWtsrz2sQGz1qQCMW6n7447xhNNehUSQGPj5","deprecated":true,"name":"MSRM/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"ES8skmkEeyH1BYFThd2FtyaFKhkqtwH7XWp8mXptv3vg","deprecated":true,"name":"FTT/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"Gw78CYLLFbgmmn4rps9KoPAnNtBQ2S1foL2Mn6Z5ZHYB","deprecated":true,"name":"YFI/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"WjfsTPyrvUUrhGJ9hVQFubMnKDcnQS8VxSXU7L2gLcA","deprecated":true,"name":"LINK/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2ZmB255T4FVUugpeXTFxD6Yz5GE47yTByYvqSTDUbk3G","deprecated":true,"name":"HGET/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FGJtCDXoHLHjagP5Ht6xcUFt2rW3z8MJPe87rFKP2ZW6","deprecated":true,"name":"CREAM/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7K6MPog6LskZmyaYwqtLvRUuedoiE68nirbQ9tK3LasE","deprecated":true,"name":"UBXT/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9RyozJe3bkAFfH3jmoiKHjkWCoLTxn7aBQSi6YfaV6ab","deprecated":true,"name":"HNT/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AGtBbGuJZiv3Ko3dfT4v6g4kCqnNc9DXfoGLe5HpjmWx","deprecated":true,"name":"FRONT/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AA1HSrsMcRNzjaQfRMTNarHR9B7e4U79LJ2319UtiqPF","deprecated":true,"name":"AKRO/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AUAobJdffexcoJBMeyLorpShu3ZtG9VvPEPjoeTN4u5Z","deprecated":true,"name":"HXRO/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GpdYLFbKHeSeDGqsnQ4jnP7D1294iBpQcsN1VPwhoaFS","deprecated":true,"name":"UNI/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"sxS9EdTx1UPe4j2c6Au9f1GKZXrFj5pTgNKgjGGtGdY","deprecated":true,"name":"KEEP/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CfnnU38ACScF6pcurxSB3FLXeZmfFYunVKExeUyosu5P","deprecated":true,"name":"MATH/WUSDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7NR5GDouQYkkfppVkNhpa4HfJ2LwqUQymE3b4CYQiYHa","deprecated":true,"name":"ALEPH/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CVfYa8RGXnuDBeGmniCcdkBwoLqVxh92xB1JqgRQx3F","deprecated":true,"name":"BTC/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H5uzEytiByuXt964KampmuNCurNDwkVVypkym75J2DQW","deprecated":true,"name":"ETH/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7xMDbYTCqQEcK2aM9LbetGtNFJpzKdfXzLL5juaLh4GJ","deprecated":true,"name":"SOL/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CDdR97S8y96v3To93aKvi3nCnjUrbuVSuumw8FLvbVeg","deprecated":true,"name":"SRM/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7LVJtqSrF6RudMaz5rKGTmR3F3V5TKoDcN6bnk68biYZ","deprecated":true,"name":"SUSHI/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"13vjJ8pxDMmzen26bQ5UrouX8dkXYPW1p3VLVDjxXrKR","deprecated":true,"name":"SXP/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AwvPwwSprfDZ86beBJDNH5vocFvuw4ZbVQ6upJDbSCXZ","deprecated":true,"name":"MSRM/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FfDb3QZUdMW2R2aqJQgzeieys4ETb3rPrFFfPSemzq7R","deprecated":true,"name":"FTT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"4QL5AQvXdMSCVZmnKXiuMMU83Kq3LCwVfU8CyznqZELG","deprecated":true,"name":"YFI/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7JCG9TsCx3AErSV3pvhxiW4AbkKRcJ6ZAveRmJwrgQ16","deprecated":true,"name":"LINK/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"3otQFkeQ7GNUKT3i2p3aGTQKS2SAw6NLYPE5qxh3PoqZ","deprecated":true,"name":"HGET/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2M8EBxFbLANnCoHydypL1jupnRHG782RofnvkatuKyLL","deprecated":true,"name":"CREAM/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"3UqXdFtNBZsFrFtRGAWGvy9R8H6GJR2hAyGRdYT9BgG3","deprecated":true,"name":"UBXT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9jiasgdYGGh34fAbBQSwkKe1dYSapXbjy2sLsYpetqFp","deprecated":true,"name":"HNT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7oKqJhnz9b8af8Mw47dieTiuxeaHnRYYGBiqCrRpzTRD","deprecated":true,"name":"FRONT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"F1rxD8Ns5w4WzVcTRdaJ96LG7YKaA5a25BBmM32yFP4b","deprecated":true,"name":"AKRO/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"6ToedDwjRCvrcKX7fnHSTA9uABQe1dcLK6YgS5B9M3wo","deprecated":true,"name":"HXRO/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FURvCsDUiuUaxZ13pZqQbbfktFGWmQVTHz7tL992LQVZ","deprecated":true,"name":"UNI/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EcfDRMrEJ3yW4SgrRyyxTPoKqAZDNSBV8EerigT7BNSS","deprecated":true,"name":"KEEP/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"2bPsJ6bZ9KDLfJ8QgSN1Eb4mRsbAiaGyHN6cJkoVLpwd","deprecated":true,"name":"MATH/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"B1GypajMh7S8zJVp6M1xMfu6zGsMgvYrt3cSn9wG7Dd6","deprecated":true,"name":"TOMO/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"rPTGvVrNFYzBeTEcYnHiaWGNnkSXsWNNjUgk771LkwJ","deprecated":true,"name":"LUA/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FrDavxi4QawYnQY259PVfYUjUvuyPNfqSXbLBqMnbfWJ","deprecated":true,"name":"FIDA/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"CVn1nJ5Utuseyy2qqwrpYoJz9Y7jjYonVL4UYvcCepDH","deprecated":true,"name":"KIN/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"BqjGW7ousAizgs8VrHo5SR1LxTksAQPtb8cKZZiNvX5D","deprecated":true,"name":"MAPS/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GcoKtAmTy5QyuijXSmJKBtFdt99e6Buza18Js7j9AJ6e","deprecated":false,"name":"ALEPH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"A8YFbxQYFVqKZaoYJLLUVcQiWP7G2MeEgW5wsAQgMvFw","deprecated":false,"name":"BTC/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4tSvZvnbyzHXLMTiFonMyxZoHmFqau1XArcRCVHLZ5gX","deprecated":false,"name":"ETH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"ByRys5tuUWDgL73G8JBAEfkdFf8JWBzPBDHsBVQ5vbQA","deprecated":false,"name":"SRM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"A1Q9iJDVVS8Wsswr9ajeZugmj64bQVCYLZQLra2TMBMo","deprecated":false,"name":"SUSHI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4LUro5jaPaTurXK737QAxgJywdhABnFAMQkXX4ZyqqaZ","deprecated":false,"name":"SXP/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4VKLSYdvrQ5ngQrt1d2VS8o4ewvb2MMUZLiejbnGPV33","deprecated":false,"name":"MSRM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2Pbh1CvRVku1TgewMfycemghf6sU9EyuFDcNXqvRmSxc","deprecated":false,"name":"FTT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7qcCo8jqepnjjvB5swP4Afsr3keVBs6gNpBTNubd1Kr2","deprecated":false,"name":"YFI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3hwH1txjJVS8qv588tWrjHfRxdqNjBykM1kMcit484up","deprecated":false,"name":"LINK/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"88vztw7RTN6yJQchVvxrs6oXUDryvpv9iJaFa1EEmg87","deprecated":false,"name":"HGET/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7nZP6feE94eAz9jmfakNJWPwEKaeezuKKC5D1vrnqyo2","deprecated":false,"name":"CREAM/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2wr3Ab29KNwGhtzr5HaPCyfU1qGJzTUAN4amCLZWaD1H","deprecated":false,"name":"UBXT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CnUV42ZykoKUnMDdyefv5kP6nDSJf7jFd7WXAecC6LYr","deprecated":false,"name":"HNT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"9Zx1CvxSVdroKMMWf2z8RwrnrLiQZ9VkQ7Ex3syQqdSH","deprecated":false,"name":"FRONT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5CZXTTgVZKSzgSA3AFMN5a2f3hmwmmJ6hU8BHTEJ3PX8","deprecated":false,"name":"AKRO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6Pn1cSiRos3qhBf54uBP9ZQg8x3JTardm1dL3n4p29tA","deprecated":false,"name":"HXRO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6JYHjaQBx6AtKSSsizDMwozAEDEZ5KBsSUzH7kRjGJon","deprecated":false,"name":"UNI/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"J7cPYBrXVy8Qeki2crZkZavcojf2sMRyQU7nx438Mf8t","deprecated":false,"name":"MATH/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"8BdpjpSD5n3nk8DQLqPUyTZvVqFu6kcff5bzUX5dqDpy","deprecated":false,"name":"TOMO/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4xyWjQ74Eifq17vbue5Ut9xfFNfuVB116tZLEpiZuAn8","deprecated":false,"name":"LUA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"jyei9Fpj2GtHLDDGgcuhDacxYLLiSyxU4TY7KxB2xai","deprecated":false,"name":"SRM/SOL","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"9wFFyRfZBsuAha4YcuxcXLKwMxJR43S7fPfQLusDBzvT","deprecated":false,"name":"SOL/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"E14BKBhDWD4EuTkWj1ooZezesGxMW8LPCps4W5PuzZJo","deprecated":false,"name":"FIDA/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Bn6NPyr6UzrFAwC4WmvPvDr2Vm8XSUnFykM2aQroedgn","deprecated":false,"name":"KIN/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3A8XQRWXC7BjLpgLDDBhQJLT5yPCzS16cGYRKHkKxvYo","deprecated":false,"name":"MAPS/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3rgacody9SvM88QR83GHaNdEEx4Fe2V2ed5GJp2oeKDr","deprecated":false,"name":"KEEP/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"EmCzMQfXMgNHcnRoFwAdPe1i2SuiSzMj1mx6wu3KN2uA","deprecated":true,"name":"ALEPH/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8AcVjMG2LTbpkjNoyq8RwysokqZunkjy3d5JDzxC6BJa","deprecated":true,"name":"BTC/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"HfCZdJ1wfsWKfYP2qyWdXTT5PWAGWFctzFjLH48U1Hsd","deprecated":true,"name":"ETH/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"8mDuvJJSgoodovMRYArtVVYBbixWYdGzR47GPrRT65YJ","deprecated":true,"name":"SOL/WUSDT","programId":"BJ3jrUzddfuSrZHXSCxMUUQsjKEyLmuuyZebkcaFp2fg"},{"address":"HARFLhSq8nECZk4DVFKvzqXMNMA9a3hjvridGMFizeLa","deprecated":true,"name":"SRM/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"DzFjazak6EKHnaB2w6qSsArnj28CV1TKd2Smcj9fqtHW","deprecated":true,"name":"SUSHI/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"GuvWMATdEV6DExWnXncPYEzn4ePWYkvGdC8pu8gsn7m7","deprecated":true,"name":"SXP/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"H4snTKK9adiU15gP22ErfZYtro3aqR9BTMXiH3AwiUTQ","deprecated":true,"name":"MSRM/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"DHDdghmkBhEpReno3tbzBPtsxCt6P3KrMzZvxavTktJt","deprecated":true,"name":"FTT/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"5zu5bTZZvqESAAgFsr12CUMxdQvMrvU9CgvC1GW8vJdf","deprecated":true,"name":"YFI/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"F5xschQBMpu1gD2q1babYEAVJHR1buj1YazLiXyQNqSW","deprecated":true,"name":"LINK/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"BAbc9baz4hV1hnYjWSJ6cZDRjfvziWbYGQu9UFkcdUmx","deprecated":true,"name":"HGET/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"EBxJWA2nLV57ZntbjizxH527ZjPNLT5cpUHMnY5k3oq","deprecated":true,"name":"CREAM/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"46VdEkj4MJwZinwVb3Y7DUDpVXLNb9YW7P2waKU3vCqr","deprecated":true,"name":"UBXT/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"Hc22rHKrhbrZBaQMmhJvPTkp1yDr31PDusU8wKoqFSZV","deprecated":true,"name":"HNT/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"HFoca5HKwiTPpw9iUY5iXWqzkXdu88dS7YrpSvt2uhyF","deprecated":true,"name":"FRONT/WUSDT","programId":"4ckmDgGdxQoPDLUkDT3vHgSAkzA3QRdNq5ywwY4sUSJn"},{"address":"5xnYnWca2bFwC6cPufpdsCbDJhMjYCC59YgwoZHEfiee","deprecated":true,"name":"ALEPH/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"EXnGBBSamqzd3uxEdRLUiYzjJkTwQyorAaFXdfteuGXe","deprecated":true,"name":"BTC/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5abZGhrELnUnfM9ZUnvK6XJPoBU5eShZwfFPkdhAC7o","deprecated":true,"name":"ETH/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7xLk17EQQ5KLDLDe44wCmupJKJjTGd8hs3eSVVhCx932","deprecated":true,"name":"SOL/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H3APNWA8bZW2gLMSq5sRL41JSMmEJ648AqoEdDgLcdvB","deprecated":true,"name":"SRM/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"4uZTPc72sCDcVRfKKii67dTPm2Xe4ri3TYnGcUQrtnU9","deprecated":true,"name":"SUSHI/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"33GHmwG9woY95JuWNi74Aa8uKvysSXxif9P1EwwkrCRz","deprecated":true,"name":"SXP/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FUaF58sDrgbqakHTR8RUwRLauSofRTjqyCsqThFPh6YM","deprecated":true,"name":"MSRM/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5NqjQVXLuLSDnsnQMfWp3rF9gbWDusWG4B1Xwtk3rZ5S","deprecated":true,"name":"FTT/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"97NiXHUNkpYd1eb2HthSDGhaPfepuqMAV3QsZhAgb1wm","deprecated":true,"name":"YFI/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"hBswhpNyz4m5nt4KwtCA7jYXvh7VmyZ4TuuPmpaKQb1","deprecated":true,"name":"LINK/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"GaeUpY7CT8rjoeVGjY1t3mJJDd1bdXxYWtrGSpsVFors","deprecated":true,"name":"HGET/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7qq9BABQvTWKZuJ5fX2PeTKX6XVtduEs9zW9WS21fSzN","deprecated":true,"name":"CREAM/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DCHvVahuLTNWBGUtEzF5GrTdx5FRpxqEJiS6Ru1hrDfD","deprecated":true,"name":"UBXT/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"DWjJ8VHdGYBxDQYdrRBVDWkHswrgjuBFEv5pBhiRoPBz","deprecated":true,"name":"HNT/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"56eqxJYzPigm4FkigiBdsfebjMgAbKNh24E7oiKLBtye","deprecated":true,"name":"FRONT/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FQbCNSVH3RgosCPB4CJRstkLh5hXkvuXzAjQzT11oMYo","deprecated":true,"name":"AKRO/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"Fs5xtGUmJTYo8Ao75M3R3m3mVX53KMUhzfXCmyRLnp2P","deprecated":true,"name":"HXRO/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"ChKV7mxecPqFPGYJjhzowPHDiLKFWXXVujUiE3EWxFcg","deprecated":true,"name":"UNI/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"6N3oU7ALvn2RPwdpYVzPBgQJ8njT29inBbS2tSrwx8fh","deprecated":true,"name":"KEEP/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"5P6dJbyKySFXMYNWiEcNQu8xPRYsehYzCeVpae9Ueqrg","deprecated":true,"name":"MATH/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"H7c8FcQPJ2E5tJmpWBPSi7xCAbk8immdtUxKFRUyE4Ro","deprecated":true,"name":"TOMO/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"7PSeX1AEtBY9KvgegF5rUh452VemMh7oDzFtJgH7sxMG","deprecated":true,"name":"LUA/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"AF2oQQaLtcrTnQyVs3EPTdyw57TPaK6njKYDq2Qw7LqP","deprecated":true,"name":"SWAG/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"9TE15E5h61zJ5VmQAAHkGrAuQdFTth33aBbKdcrppZBp","deprecated":true,"name":"FIDA/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8HEaA1vSA5mGQoHcvRPNibnuZvnUpSjJJru9HJNH3SqM","deprecated":true,"name":"KIN/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8EuuEwULFM7n7zthPjC7kA64LPRzYkpAyuLFiLuVg7D4","deprecated":true,"name":"WUSDT/USDC","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"8grUs4WZoTs4KJ8LfRNUBs6SNkMTp5BnVRzJgQ2ranDT","deprecated":true,"name":"MAPS/WUSDT","programId":"EUqojwWA2rd19FZrzeBncJsm38Jm1hEhE3zsmX3bRc2o"},{"address":"FoCuWt4KboucUg2PwmQ3dbkvLqYPLnAo1Rsm8p7QPyf","deprecated":true,"name":"ALEPH/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5r8FfnbNYcQbS1m4CYmoHYGjBtu6bxfo6UJHNRfzPiYH","deprecated":true,"name":"BTC/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"71CtEComq2XdhGNbXBuYPmosAjMCPSedcgbNi5jDaGbR","deprecated":true,"name":"ETH/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"EZyQ9zyqQsw3QcsLksoWyd1UFVjHZkzRx8N4ZMnZQrS2","deprecated":true,"name":"SRM/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6ERBjj692XHLWwWSRAUpiKenXshcwmPqhMy7RMapeoKa","deprecated":true,"name":"SUSHI/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CQ3kAGxPmpBbak2RSHWyMeRhyLYbH6oVZHJxgjzDLpLW","deprecated":true,"name":"SXP/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2Hqn46jhwaQMQ3zEnHtxrWxQZom6qwLXAgdsFJM1Srwh","deprecated":true,"name":"MSRM/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"G5jqZNo2UVCTnJxgEhKCYvqFRs3MxsnH8Bervq3rfLoL","deprecated":true,"name":"FTT/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CbwtTHEpfTnCyLw4GoTbKk7WyrXkuATLfLadY2odBSsY","deprecated":true,"name":"YFI/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5GjhBAYx8pYeCeUQt7rt93KQZnoQFuDq9Jx4iqq97Mip","deprecated":true,"name":"LINK/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"9jMPV9E23pTirMjC7vz5suRNkd25311G3Httg7jTib8R","deprecated":true,"name":"CREAM/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"DsSz9KWT97T4RewRTqTNDpNFQyxMPcuYNAJw2xHAzSiZ","deprecated":true,"name":"UBXT/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3k1sURztjxhjYczjyioQ7y2UkMB6K5Ksi3SWvLeLx6Ex","deprecated":true,"name":"HNT/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"B791G8UCahfmABVcR2wPAMK6LJnuqxSAqiG6wX3mmVVM","deprecated":true,"name":"FRONT/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"95f7fxfUh8WqUTrdjorHRXm6rTfkWqr23ioGMmKMjedP","deprecated":true,"name":"AKRO/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"H4RxtmQ4P3TYPt78G3DuHgaGzyFct6MfaeYneLB5PyeG","deprecated":true,"name":"HXRO/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7myaZEGZf9m72T1Mqm8GTx5MnmSFS5NCXSwRP18W4EA3","deprecated":true,"name":"UNI/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7cRKzNoqjF9VtzvdnP129VYP3izivk9iY3jMJBMzREVT","deprecated":true,"name":"HGET/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"GV9fYzdwipoaagXFxe5tzDMPcmSVQati5CUvBPsEZThH","deprecated":true,"name":"MATH/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"AaMLXcwYYi5fA41JNCB2ukAmQyKHitYx5NnpsiWWev6R","deprecated":true,"name":"TOMO/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5ZeNLrduGi3WkH9CPwv2Zpbkh38MH8v63aSi2aBUW23g","deprecated":true,"name":"LUA/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Ec1aq54XKH9o5fe169cU2sCcxxTP54eeQCe77SpizKuc","deprecated":true,"name":"WUSDT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"G3uhFg2rBFunHUXtCera13vyQ5KCS8Hx3d4HohLoZbT5","deprecated":true,"name":"SOL/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2NMTG7tFZidRpQk9Sf4dgQyJb9HxKCyXjQdiuXww3sKm","deprecated":true,"name":"SWAG/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7QpJAiwGmqY1SiucjfPXvgeWwCobyV6hZSgzMysZX6Ww","deprecated":true,"name":"FIDA/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CmLhvXARncLncE1949XBfQWeJh6Zvw3FE5A3Z5ecPYQH","deprecated":true,"name":"KIN/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"FhP3X2ptdi7L1RtWK9Vfow5dyzD92gfXiA57e8eqxvka","deprecated":true,"name":"MAPS/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"DE7xJE2EkaV81wLabDMuhBzUwFhhwfURLdz1aXBBQZQ1","deprecated":true,"name":"KEEP/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5nLJ22h1DUfeCfwbFxPYK8zbfbri7nA9bXoDcR8AcJjs","deprecated":false,"name":"MSRM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7dLVkUfBVfCGkFhSXDCq1ukM9usathSgS716t643iFGF","deprecated":false,"name":"ETH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"8afKwzHR3wJE7W7Y5hvQkngXh6iTepSZuutRMMy96MjR","deprecated":false,"name":"SXP/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"cgani53cMZgYfRMgSrNekJTMaLmccRfspsfTbXWRg7u","deprecated":false,"name":"CEL/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Gyp1UGRgbrb6z8t7fpssxEKQgEmcJ4pVnWW3ds2p6ZPY","deprecated":false,"name":"ALEPH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4ztJEvQyryoYagj2uieep3dyPwG2pyEwb2dKXTwmXe82","deprecated":false,"name":"CREAM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HEGnaVL5i48ubPBqWAhodnZo8VsSLzEM3Gfc451DnFj9","deprecated":false,"name":"KEEP/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"8FpuMGLtMZ7Wt9ZvyTGuTVwTwwzLYfS5NZWcHxbP1Wuh","deprecated":false,"name":"HNT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"5GAPymgnnWieGcRrcghZdA3aanefqa4cZx1ZSE8UTyMV","deprecated":false,"name":"MAPS/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"AADohBGxvf7bvixs2HKC3dG2RuU3xpZDwaTzYFJThM8U","deprecated":false,"name":"TRYB/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"EbV7pPpEvheLizuYX3gUCvWM8iySbSRAhu2mQ5Vz2Mxf","deprecated":false,"name":"FIDA/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"FcPet5fz9NLdbXwVM6kw2WTHzRAD7mT78UjwTpawd7hJ","deprecated":false,"name":"RSR/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"AtNnsY1AyRERWJ8xCskfz38YdvruWVJQUVXgScC1iPb","deprecated":false,"name":"SRM/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"teE55QrL4a4QSfydR9dnHF97jgCfptpuigbb53Lo95g","deprecated":false,"name":"RAY/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"C1EuT9VokAKLiW7i2ASnZUvxDoKuKkCpDDeNxAptuNe4","deprecated":false,"name":"BTC/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"Hr3wzG8mZXNHV7TuL6YqtgfVUesCqMxGYCEyP3otywZE","deprecated":false,"name":"FTT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HLvRdctRB48F9yLnu9E24LUTRt89D48Z35yi1HcxayDf","deprecated":false,"name":"AKRO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2SSnWNrc83otLpfRo792P6P3PESZpdr8cu2r8zCE6bMD","deprecated":false,"name":"UNI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"F1T7b6pnR8Pge3qmfNUfW6ZipRDiGpMww6TKTrRU4NiL","deprecated":false,"name":"UBXT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HWHvQhFmJB3NUcu1aihKmrKegfVxBEHzwVX6yZCKEsi1","deprecated":false,"name":"SOL/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"35tV8UsHH8FnSAi3YFRrgCu4K9tb883wKnAXpnihot5r","deprecated":false,"name":"LUA/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6DgQRTpJTnAYBSShngAVZZDq7j9ogRN1GfSQ3cq9tubW","deprecated":false,"name":"SUSHI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"2WghiBkDL2yRhHdvm8CpprrkmfguuQGJTCDfPSudKBAZ","deprecated":false,"name":"MATH/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"ErQXxiNfJgd4fqQ58PuEw5xY35TZG84tHT6FXf5s4UxY","deprecated":false,"name":"HGET/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"CGC4UgWwqA9PET6Tfx6o6dLv94EK2coVkPtxgNHuBtxj","deprecated":false,"name":"FRONT/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"GnKPri4thaGipzTbp8hhSGSrHgG4F8MFiZVrbRn16iG2","deprecated":false,"name":"TOMO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"6bxuB5N3bt3qW8UnPNLgMMzDq5sEH8pFmYJYGgzvE11V","deprecated":false,"name":"AAVE/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"7cknqHAuGpfVXPtFoJpFvUjJ8wkmyEfbFusmwMfNy3FE","deprecated":false,"name":"MAPS/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4absuMsgemvdjfkgdLQq1zKEjw3dHBoCWkzKoctndyqd","deprecated":false,"name":"HXRO/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"4nCFQr8sahhhL4XJ7kngGFBmpkmyf3xLzemuMhn6mWTm","deprecated":false,"name":"KIN/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3Xg9Q4VtZhD4bVYJbTfgGWFV5zjE3U7ztSHa938zizte","deprecated":false,"name":"YFI/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"3yEZ9ZpXSQapmKjLAGKZEzUNA1rcupJtsDp5mPBWmGZR","deprecated":false,"name":"LINK/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"J2XSt77XWim5HwtUM8RUwQvmRXNZsbMKpp5GTKpHafvf","deprecated":false,"name":"SWAG/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"77quYg4MGneUdjgXCunt9GgM1usmrxKY31twEy3WHwcS","deprecated":false,"name":"USDT/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"GKLev6UHeX1KSDCyo2bzyG6wqhByEzDBkmYTxEdmYJgB","deprecated":false,"name":"OXY/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"address":"HdBhZrnrxpje39ggXnTb6WuTWVvj5YKcSHwYGQCRsVj","deprecated":false,"name":"OXY/WUSDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"OXY/USDC","address":"GZ3WBFsqntmERPwumFEYgrX2B7J7G11MzNZAy7Hje27X","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"xCOPE/USDC","address":"7MpMwArporUHEGW7quUpkPZp5L5cHPs9eKUfKCdaPHq2","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"COPE/USDC","address":"6fc7v3PmjZG9Lk2XTot6BywGyYLkBQuzuFKd4FpCsPxk","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"MER/USDC","address":"HhvDWug3ftYNx5148ZmrQxzvEmohN2pKVNiRT4TVoekF","deprecated":true,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"MER/USDT","address":"6HwcY27nbeb933UkEcxqJejtjWLfNQFWkGCjAVNes6g7","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"MER/USDC","address":"G4LcexdCzzJUKZfqyVDQFzpkjhB1JoCNL8Kooxi9nJz5","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"SNY/USDC","address":"DPfj2jYwPaezkCmUNm5SSYfkrkz8WFqwGLcxDDUsN3gA","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"SLRS/USDC","address":"2Gx3UfV831BAh8uQv1FKSPKS9yajfeeD8GJ4ZNb2o2YP","deprecated":false,"programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin"},{"name":"ETHV/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HrgkuJryyKRserkoz7LBFYkASzhXHWp9XA6fRYCA6PHb"},{"name":"IETHV/USDT","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"5aoLj1bySDhhWjo7cLfT3pF2gqNGd63uEJ9HMSfASESL"},{"name":"SBR/USDC","programId":"9xQeWvG816bUx9EPjHmaT23yvVM2ZWbrrpZb9PusVFin","deprecated":false,"address":"HXBi8YBwbh4TXF6PjVw81m8Z3Cc4WBofvauj5SBFdgUs"}]')},7458:e=>{"use strict";e.exports=JSON.parse('[{"address":"9n4nbM75f5Ui33ZbPYXn59EwSgE8CGsHtAeTH5YFeJ9E","name":"BTC"},{"address":"2FPyTwcZLUg1MDrwsyoP4D6s1tM7hAkHYRjkNb5w6Pxk","name":"ETH"},{"address":"AGFEad2et2ZJif9jaGpdMixQqvW5i81aBdvKe7PHNfz3","name":"FTT"},{"address":"3JSf5tPeuscJGtaCp5giEiDhv51gQ4v3zWg8DGgyLfAB","name":"YFI"},{"address":"CWE8jPTUYhdCTZYWPTe1o5DFqfdjzWKc9WKz6rSjQUdG","name":"LINK"},{"address":"Ga2AXHpfAF6mv2ekZwcsJFqu7wB4NV331qNH7fW9Nst8","name":"XRP"},{"address":"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB","name":"USDT"},{"address":"BQcdHdAQW1hczDbBi9hiegXAR7A98Q9jx3X3iBBBDiq4","name":"WUSDT"},{"address":"BXXkv6z8ykpG1yuvUDPgh732wzVHB69RnB9YgSYh3itW","name":"WUSDC"},{"address":"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v","name":"USDC"},{"address":"MSRMcoVyrFxnSgo5uXwone5SKcGhT1KEJMFEkMEWf9L","name":"MSRM"},{"address":"SRMuApVNdxXokk5GT7XD5cUUgXMBCoAz2LHeuAoKWRt","name":"SRM"},{"address":"AR1Mtgh7zAtxuxGd2XPovXPVjcSdY3i4rQYisNadjfKy","name":"SUSHI"},{"address":"SF3oTvfWzEP3DTwGSvUXRrGTvr75pdZNnBLAH9bzMuX","name":"SXP"},{"address":"CsZ5LZkDS7h9TDKjrbL7VAwQZ9nsRu8vJLhRYfmGaN8K","name":"ALEPH"},{"address":"BtZQfWqDGbk9Wf2rXEiWyQBdBY1etnUUn6zEphvVS7yN","name":"HGET"},{"address":"5Fu5UUgbjpUvdBveb3a1JTNirL8rXtiYeSMWvKjtUNQv","name":"CREAM"},{"address":"873KLxCbz7s9Kc4ZzgYRtNmhfkQrhfyWGZJBmyCbC3ei","name":"UBXT"},{"address":"HqB7uswoVg4suaQiDP3wjxob1G5WdZ144zhdStwMCq7e","name":"HNT"},{"address":"9S4t2NEAiJVMvPdRYKVrfJpBafPBLtvbvyS3DecojQHw","name":"FRONT"},{"address":"6WNVCuxCGJzNjmMZoKyhZJwvJ5tYpsLyAtagzYASqBoF","name":"AKRO"},{"address":"DJafV9qemGp7mLMEn5wrfqaFwxsbLgUsGVS16zKRk9kc","name":"HXRO"},{"address":"DEhAasscXF4kEGxFgJ3bq4PpVGp5wyUxMRvn6TzGVHaw","name":"UNI"},{"address":"GUohe4DJUA5FKPWo3joiPgsB7yzer7LpDmt1Vhzy3Zht","name":"KEEP"},{"address":"GeDS162t9yGJuLEHPWXXGrb1zwkzinCgRwnT8vHYjKza","name":"MATH"},{"address":"So11111111111111111111111111111111111111112","name":"SOL"},{"address":"GXMvfY2jpQctDqZ9RoU3oWPhufKiCcFEfchvYumtX7jd","name":"TOMO"},{"address":"EqWCKXfs3x47uVosDpTRgFniThL9Y8iCztJaapxbEaVX","name":"LUA"},{"address":"9F9fNTT6qwjsu4X4yWYKZpsbw5qT7o6yR2i57JF2jagy","name":"SWAG"},{"address":"EchesyfXePKdLtoiZSL8pBe8Myagyy8ZRqsACNCFGnvp","name":"FIDA"},{"address":"kinXdEcpDQeHPEuQnqmUgtYykqKGVFq6CeVX5iAHJq6","name":"KIN"},{"address":"MAPS41MDahZ9QdKXhVa4dWB9RuyfV4XqhyAZ8XcYepb","name":"MAPS"},{"address":"z3dn17yLaGMKffVogeFHQ9zWVcXgqgf3PQnDsNs2g6M","name":"OXY"},{"address":"4k3Dyjzvzp8eMZWUXbBCjEvwSkkk59S5iCNLY3QrkX6R","name":"RAY"},{"address":"3K6rftdAaQYMPunrtNRHgnK2UAtjm2JwyT2oCiTDouYE","name":"xCOPE"},{"address":"dK83wTVypEpa1pqiBbHY3MNuUnT3ADUZM4wk9VZXZEc","name":"AAVE"},{"address":"DgHK9mfhMtUwwv54GChRrU54T2Em5cuszq2uMuen1ZVE","name":"CEL"},{"address":"7ncCLJpP3MNww17LW8bRvx8odQQnubNtfNZBL5BgAEHW","name":"RSR"},{"address":"6ry4WBDvAwAnrYJVv6MCog4J8zx6S3cPgSqnTsDZ73AR","name":"TRYB"},{"address":"8HGyAAB1yoM1ttS7pXjHMa3dukTFGQggnFFH3hJZgzQh","name":"COPE"},{"address":"MERt85fc5boKw3BW1eYdxonEuJNvXbiMbs6hvheau5K","name":"MER"},{"address":"4dmKkXNHdgYsXqBHCuMikNQWwVomZURhYvkkX5c4pQ7y","name":"SNY"},{"address":"SLRSSpSLUTP7okbCUBYStWCo1vUgyt775faPqz8HUMr","name":"SLRS"}]')},79137:e=>{"use strict";e.exports=JSON.parse('{"version":"0.1.0","name":"zeta","instructions":[{"name":"initializeZetaGroup","accounts":[{"name":"state","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"underlyingMint","isMut":false,"isSigner":false},{"name":"zetaProgram","isMut":false,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"underlying","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"insuranceVault","isMut":true,"isSigner":false},{"name":"socializedLossAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"usdcMint","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"InitializeZetaGroupArgs"}}]},{"name":"overrideExpiry","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"zetaGroup","isMut":true,"isSigner":false}],"args":[{"name":"args","type":{"defined":"OverrideExpiryArgs"}}]},{"name":"initializeMarginAccount","accounts":[{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"zetaProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false}],"args":[]},{"name":"initializeSpreadAccount","accounts":[{"name":"spreadAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"zetaProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false}],"args":[]},{"name":"closeMarginAccount","accounts":[{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"zetaGroup","isMut":false,"isSigner":false}],"args":[]},{"name":"closeSpreadAccount","accounts":[{"name":"spreadAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"zetaGroup","isMut":false,"isSigner":false}],"args":[]},{"name":"initializeMarketIndexes","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"marketIndexes","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false}],"args":[{"name":"nonce","type":"u8"}]},{"name":"initializeMarketNode","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marketNode","isMut":true,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"InitializeMarketNodeArgs"}}]},{"name":"haltZetaGroup","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[]},{"name":"unhaltZetaGroup","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[]},{"name":"updateHaltState","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"HaltZetaGroupArgs"}}]},{"name":"updateVolatility","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"UpdateVolatilityArgs"}}]},{"name":"updateInterestRate","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"UpdateInterestRateArgs"}}]},{"name":"addMarketIndexes","accounts":[{"name":"marketIndexes","isMut":true,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false}],"args":[]},{"name":"initializeZetaState","accounts":[{"name":"state","isMut":true,"isSigner":false},{"name":"mintAuthority","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true}],"args":[{"name":"args","type":{"defined":"InitializeStateArgs"}}]},{"name":"updateAdmin","accounts":[{"name":"state","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"newAdmin","isMut":true,"isSigner":true}],"args":[]},{"name":"updateZetaState","accounts":[{"name":"state","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"UpdateStateArgs"}}]},{"name":"updatePricingParameters","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"UpdatePricingParametersArgs"}}]},{"name":"updateMarginParameters","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"args","type":{"defined":"UpdateMarginParametersArgs"}}]},{"name":"cleanZetaMarkets","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false}],"args":[]},{"name":"cleanZetaMarketsHalted","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false}],"args":[]},{"name":"settlePositions","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"settlementAccount","isMut":false,"isSigner":false}],"args":[{"name":"expiryTs","type":"u64"},{"name":"settlementNonce","type":"u8"}]},{"name":"settlePositionsHalted","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[]},{"name":"settleSpreadPositions","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"settlementAccount","isMut":false,"isSigner":false}],"args":[{"name":"expiryTs","type":"u64"},{"name":"settlementNonce","type":"u8"}]},{"name":"settleSpreadPositionsHalted","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[]},{"name":"initializeMarketStrikes","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false}],"args":[]},{"name":"expireSeriesOverride","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"settlementAccount","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false}],"args":[{"name":"args","type":{"defined":"ExpireSeriesOverrideArgs"}}]},{"name":"expireSeries","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false},{"name":"settlementAccount","isMut":true,"isSigner":false},{"name":"payer","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false}],"args":[{"name":"settlementNonce","type":"u8"}]},{"name":"initializeZetaMarket","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"marketIndexes","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"market","isMut":true,"isSigner":false},{"name":"requestQueue","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"baseMint","isMut":true,"isSigner":false},{"name":"quoteMint","isMut":true,"isSigner":false},{"name":"zetaBaseVault","isMut":true,"isSigner":false},{"name":"zetaQuoteVault","isMut":true,"isSigner":false},{"name":"dexBaseVault","isMut":true,"isSigner":false},{"name":"dexQuoteVault","isMut":true,"isSigner":false},{"name":"vaultOwner","isMut":false,"isSigner":false},{"name":"mintAuthority","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[{"name":"args","type":{"defined":"InitializeMarketArgs"}}]},{"name":"retreatMarketNodes","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false}],"args":[{"name":"expiryIndex","type":"u8"}]},{"name":"cleanMarketNodes","accounts":[{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false}],"args":[{"name":"expiryIndex","type":"u8"}]},{"name":"updateVolatilityNodes","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"nodes","type":{"array":["u64",5]}}]},{"name":"updatePricing","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false}],"args":[{"name":"expiryIndex","type":"u8"}]},{"name":"updatePricingHalted","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"greeks","isMut":true,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true}],"args":[{"name":"expiryIndex","type":"u8"}]},{"name":"deposit","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"socializedLossAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"depositInsuranceVault","accounts":[{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"insuranceVault","isMut":true,"isSigner":false},{"name":"insuranceDepositAccount","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"zetaVault","isMut":true,"isSigner":false},{"name":"socializedLossAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"withdraw","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"greeks","isMut":false,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false},{"name":"socializedLossAccount","isMut":true,"isSigner":false}],"args":[{"name":"amount","type":"u64"}]},{"name":"withdrawInsuranceVault","accounts":[{"name":"zetaGroup","isMut":true,"isSigner":false},{"name":"insuranceVault","isMut":true,"isSigner":false},{"name":"insuranceDepositAccount","isMut":true,"isSigner":false},{"name":"userTokenAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[{"name":"percentageAmount","type":"u64"}]},{"name":"initializeOpenOrders","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"payer","isMut":true,"isSigner":true},{"name":"market","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrdersMap","isMut":true,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false}],"args":[]},{"name":"closeOpenOrders","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"market","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrdersMap","isMut":true,"isSigner":false}],"args":[{"name":"mapNonce","type":"u8"}]},{"name":"initializeWhitelistDepositAccount","accounts":[{"name":"whitelistDepositAccount","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"user","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false}],"args":[{"name":"nonce","type":"u8"}]},{"name":"initializeWhitelistInsuranceAccount","accounts":[{"name":"whitelistInsuranceAccount","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"user","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false}],"args":[{"name":"nonce","type":"u8"}]},{"name":"initializeWhitelistTradingFeesAccount","accounts":[{"name":"whitelistTradingFeesAccount","isMut":true,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"user","isMut":false,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false}],"args":[{"name":"nonce","type":"u8"}]},{"name":"initializeInsuranceDepositAccount","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"insuranceDepositAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"whitelistInsuranceAccount","isMut":false,"isSigner":false}],"args":[{"name":"nonce","type":"u8"}]},{"name":"placeOrder","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"marketAccounts","accounts":[{"name":"market","isMut":true,"isSigner":false},{"name":"requestQueue","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"orderPayerTokenAccount","isMut":true,"isSigner":false},{"name":"coinVault","isMut":true,"isSigner":false},{"name":"pcVault","isMut":true,"isSigner":false},{"name":"coinWallet","isMut":true,"isSigner":false},{"name":"pcWallet","isMut":true,"isSigner":false}]},{"name":"oracle","isMut":false,"isSigner":false},{"name":"marketNode","isMut":true,"isSigner":false},{"name":"marketMint","isMut":true,"isSigner":false},{"name":"mintAuthority","isMut":false,"isSigner":false}],"args":[{"name":"price","type":"u64"},{"name":"size","type":"u64"},{"name":"side","type":{"defined":"Side"}},{"name":"clientOrderId","type":{"option":"u64"}}]},{"name":"placeOrderV2","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"marketAccounts","accounts":[{"name":"market","isMut":true,"isSigner":false},{"name":"requestQueue","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"orderPayerTokenAccount","isMut":true,"isSigner":false},{"name":"coinVault","isMut":true,"isSigner":false},{"name":"pcVault","isMut":true,"isSigner":false},{"name":"coinWallet","isMut":true,"isSigner":false},{"name":"pcWallet","isMut":true,"isSigner":false}]},{"name":"oracle","isMut":false,"isSigner":false},{"name":"marketNode","isMut":true,"isSigner":false},{"name":"marketMint","isMut":true,"isSigner":false},{"name":"mintAuthority","isMut":false,"isSigner":false}],"args":[{"name":"price","type":"u64"},{"name":"size","type":"u64"},{"name":"side","type":{"defined":"Side"}},{"name":"orderType","type":{"defined":"OrderType"}},{"name":"clientOrderId","type":{"option":"u64"}}]},{"name":"placeOrderV3","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"marketAccounts","accounts":[{"name":"market","isMut":true,"isSigner":false},{"name":"requestQueue","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"orderPayerTokenAccount","isMut":true,"isSigner":false},{"name":"coinVault","isMut":true,"isSigner":false},{"name":"pcVault","isMut":true,"isSigner":false},{"name":"coinWallet","isMut":true,"isSigner":false},{"name":"pcWallet","isMut":true,"isSigner":false}]},{"name":"oracle","isMut":false,"isSigner":false},{"name":"marketNode","isMut":true,"isSigner":false},{"name":"marketMint","isMut":true,"isSigner":false},{"name":"mintAuthority","isMut":false,"isSigner":false}],"args":[{"name":"price","type":"u64"},{"name":"size","type":"u64"},{"name":"side","type":{"defined":"Side"}},{"name":"orderType","type":{"defined":"OrderType"}},{"name":"clientOrderId","type":{"option":"u64"}},{"name":"tag","type":{"option":"string"}}]},{"name":"cancelOrder","accounts":[{"name":"authority","isMut":false,"isSigner":true},{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[{"name":"side","type":{"defined":"Side"}},{"name":"orderId","type":"u128"}]},{"name":"cancelOrderNoError","accounts":[{"name":"authority","isMut":false,"isSigner":true},{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[{"name":"side","type":{"defined":"Side"}},{"name":"orderId","type":"u128"}]},{"name":"cancelOrderHalted","accounts":[{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[{"name":"side","type":{"defined":"Side"}},{"name":"orderId","type":"u128"}]},{"name":"cancelOrderByClientOrderId","accounts":[{"name":"authority","isMut":false,"isSigner":true},{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[{"name":"clientOrderId","type":"u64"}]},{"name":"cancelOrderByClientOrderIdNoError","accounts":[{"name":"authority","isMut":false,"isSigner":true},{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[{"name":"clientOrderId","type":"u64"}]},{"name":"cancelExpiredOrder","accounts":[{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[{"name":"side","type":{"defined":"Side"}},{"name":"orderId","type":"u128"}]},{"name":"forceCancelOrders","accounts":[{"name":"greeks","isMut":false,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false},{"name":"cancelAccounts","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"state","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"openOrders","isMut":true,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"bids","isMut":true,"isSigner":false},{"name":"asks","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false}]}],"args":[]},{"name":"crankEventQueue","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"eventQueue","isMut":true,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false}],"args":[]},{"name":"rebalanceInsuranceVault","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"zetaVault","isMut":true,"isSigner":false},{"name":"insuranceVault","isMut":true,"isSigner":false},{"name":"socializedLossAccount","isMut":true,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"liquidate","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"liquidator","isMut":false,"isSigner":true},{"name":"liquidatorMarginAccount","isMut":true,"isSigner":false},{"name":"greeks","isMut":false,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false},{"name":"market","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"liquidatedMarginAccount","isMut":true,"isSigner":false}],"args":[{"name":"size","type":"u64"}]},{"name":"burnVaultTokens","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"mint","isMut":true,"isSigner":false},{"name":"vault","isMut":true,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"settleDexFunds","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"market","isMut":true,"isSigner":false},{"name":"zetaBaseVault","isMut":true,"isSigner":false},{"name":"zetaQuoteVault","isMut":true,"isSigner":false},{"name":"dexBaseVault","isMut":true,"isSigner":false},{"name":"dexQuoteVault","isMut":true,"isSigner":false},{"name":"vaultOwner","isMut":false,"isSigner":false},{"name":"mintAuthority","isMut":false,"isSigner":false},{"name":"serumAuthority","isMut":false,"isSigner":false},{"name":"dexProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"positionMovement","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"spreadAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true},{"name":"greeks","isMut":false,"isSigner":false},{"name":"oracle","isMut":false,"isSigner":false}],"args":[{"name":"movementType","type":{"defined":"MovementType"}},{"name":"movements","type":{"vec":{"defined":"PositionMovementArg"}}}]},{"name":"transferExcessSpreadBalance","accounts":[{"name":"zetaGroup","isMut":false,"isSigner":false},{"name":"marginAccount","isMut":true,"isSigner":false},{"name":"spreadAccount","isMut":true,"isSigner":false},{"name":"authority","isMut":false,"isSigner":true}],"args":[]},{"name":"toggleMarketMaker","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"admin","isMut":false,"isSigner":true},{"name":"marginAccount","isMut":true,"isSigner":false}],"args":[{"name":"isMarketMaker","type":"bool"}]},{"name":"initializeReferrerAccount","accounts":[{"name":"state","isMut":false,"isSigner":false},{"name":"admin","isMut":true,"isSigner":true},{"name":"referrer","isMut":false,"isSigner":false},{"name":"referrerAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"referUser","accounts":[{"name":"user","isMut":true,"isSigner":true},{"name":"referrerAccount","isMut":false,"isSigner":false},{"name":"referralAccount","isMut":true,"isSigner":false},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]}],"accounts":[{"name":"Greeks","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"markPrices","type":{"array":["u64",46]}},{"name":"markPricesPadding","type":{"array":["u64",92]}},{"name":"productGreeks","type":{"array":[{"defined":"ProductGreeks"},22]}},{"name":"productGreeksPadding","type":{"array":[{"defined":"ProductGreeks"},44]}},{"name":"updateTimestamp","type":{"array":["u64",2]}},{"name":"updateTimestampPadding","type":{"array":["u64",4]}},{"name":"retreatExpirationTimestamp","type":{"array":["u64",2]}},{"name":"retreatExpirationTimestampPadding","type":{"array":["u64",4]}},{"name":"interestRate","type":{"array":["i64",2]}},{"name":"interestRatePadding","type":{"array":["i64",4]}},{"name":"nodes","type":{"array":["u64",5]}},{"name":"volatility","type":{"array":["u64",10]}},{"name":"volatilityPadding","type":{"array":["u64",20]}},{"name":"nodeKeys","type":{"array":["publicKey",138]}},{"name":"haltForcePricing","type":{"array":["bool",6]}},{"name":"padding","type":{"array":["u8",1641]}}]}},{"name":"MarketIndexes","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"initialized","type":"bool"},{"name":"indexes","type":{"array":["u8",138]}}]}},{"name":"OpenOrdersMap","type":{"kind":"struct","fields":[{"name":"userKey","type":"publicKey"}]}},{"name":"State","type":{"kind":"struct","fields":[{"name":"admin","type":"publicKey"},{"name":"stateNonce","type":"u8"},{"name":"serumNonce","type":"u8"},{"name":"mintAuthNonce","type":"u8"},{"name":"numUnderlyings","type":"u8"},{"name":"expiryIntervalSeconds","type":"u32"},{"name":"newExpiryThresholdSeconds","type":"u32"},{"name":"strikeInitializationThresholdSeconds","type":"u32"},{"name":"pricingFrequencySeconds","type":"u32"},{"name":"liquidatorLiquidationPercentage","type":"u32"},{"name":"insuranceVaultLiquidationPercentage","type":"u32"},{"name":"nativeTradeFeePercentage","type":"u64"},{"name":"nativeUnderlyingFeePercentage","type":"u64"},{"name":"nativeWhitelistUnderlyingFeePercentage","type":"u64"},{"name":"nativeDepositLimit","type":"u64"},{"name":"expirationThresholdSeconds","type":"u32"},{"name":"positionMovementFeeBps","type":"u8"},{"name":"marginConcessionPercentage","type":"u8"},{"name":"padding","type":{"array":["u8",157]}}]}},{"name":"Underlying","type":{"kind":"struct","fields":[{"name":"mint","type":"publicKey"}]}},{"name":"SettlementAccount","type":{"kind":"struct","fields":[{"name":"settlementPrice","type":"u64"},{"name":"strikes","type":{"array":["u64",23]}}]}},{"name":"ZetaGroup","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"vaultNonce","type":"u8"},{"name":"insuranceVaultNonce","type":"u8"},{"name":"frontExpiryIndex","type":"u8"},{"name":"haltState","type":{"defined":"HaltState"}},{"name":"underlyingMint","type":"publicKey"},{"name":"oracle","type":"publicKey"},{"name":"greeks","type":"publicKey"},{"name":"pricingParameters","type":{"defined":"PricingParameters"}},{"name":"marginParameters","type":{"defined":"MarginParameters"}},{"name":"products","type":{"array":[{"defined":"Product"},46]}},{"name":"productsPadding","type":{"array":[{"defined":"Product"},92]}},{"name":"expirySeries","type":{"array":[{"defined":"ExpirySeries"},2]}},{"name":"expirySeriesPadding","type":{"array":[{"defined":"ExpirySeries"},4]}},{"name":"totalInsuranceVaultDeposits","type":"u64"},{"name":"asset","type":{"defined":"Asset"}},{"name":"padding","type":{"array":["u8",1062]}}]}},{"name":"MarketNode","type":{"kind":"struct","fields":[{"name":"index","type":"u8"},{"name":"nonce","type":"u8"},{"name":"nodeUpdates","type":{"array":["i64",5]}},{"name":"interestUpdate","type":"i64"}]}},{"name":"SpreadAccount","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"nonce","type":"u8"},{"name":"balance","type":"u64"},{"name":"seriesExpiry","type":{"array":["u64",6]}},{"name":"positions","type":{"array":[{"defined":"Position"},46]}},{"name":"positionsPadding","type":{"array":[{"defined":"Position"},92]}},{"name":"asset","type":{"defined":"Asset"}},{"name":"padding","type":{"array":["u8",262]}}]}},{"name":"MarginAccount","type":{"kind":"struct","fields":[{"name":"authority","type":"publicKey"},{"name":"nonce","type":"u8"},{"name":"balance","type":"u64"},{"name":"forceCancelFlag","type":"bool"},{"name":"openOrdersNonce","type":{"array":["u8",138]}},{"name":"seriesExpiry","type":{"array":["u64",6]}},{"name":"productLedgers","type":{"array":[{"defined":"ProductLedger"},46]}},{"name":"productLedgersPadding","type":{"array":[{"defined":"ProductLedger"},92]}},{"name":"rebalanceAmount","type":"i64"},{"name":"asset","type":{"defined":"Asset"}},{"name":"accountType","type":{"defined":"MarginAccountType"}},{"name":"padding","type":{"array":["u8",386]}}]}},{"name":"SocializedLossAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"overbankruptAmount","type":"u64"}]}},{"name":"WhitelistDepositAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"userKey","type":"publicKey"}]}},{"name":"WhitelistInsuranceAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"userKey","type":"publicKey"}]}},{"name":"InsuranceDepositAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"amount","type":"u64"}]}},{"name":"WhitelistTradingFeesAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"userKey","type":"publicKey"}]}},{"name":"ReferrerAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"referrer","type":"publicKey"},{"name":"pendingRewards","type":"u64"},{"name":"claimedRewards","type":"u64"}]}},{"name":"ReferralAccount","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"referrer","type":"publicKey"},{"name":"user","type":"publicKey"},{"name":"timestamp","type":"u64"},{"name":"pendingRewards","type":"u64"},{"name":"claimedRewards","type":"u64"}]}}],"types":[{"name":"ProductGreeks","type":{"kind":"struct","fields":[{"name":"delta","type":"u64"},{"name":"vega","type":{"defined":"AnchorDecimal"}},{"name":"volatility","type":{"defined":"AnchorDecimal"}}]}},{"name":"AnchorDecimal","type":{"kind":"struct","fields":[{"name":"flags","type":"u32"},{"name":"hi","type":"u32"},{"name":"lo","type":"u32"},{"name":"mid","type":"u32"}]}},{"name":"HaltState","type":{"kind":"struct","fields":[{"name":"halted","type":"bool"},{"name":"spotPrice","type":"u64"},{"name":"timestamp","type":"u64"},{"name":"markPricesSet","type":{"array":["bool",2]}},{"name":"markPricesSetPadding","type":{"array":["bool",4]}},{"name":"marketNodesCleaned","type":{"array":["bool",2]}},{"name":"marketNodesCleanedPadding","type":{"array":["bool",4]}},{"name":"marketCleaned","type":{"array":["bool",46]}},{"name":"marketCleanedPadding","type":{"array":["bool",92]}}]}},{"name":"PricingParameters","type":{"kind":"struct","fields":[{"name":"optionTradeNormalizer","type":{"defined":"AnchorDecimal"}},{"name":"futureTradeNormalizer","type":{"defined":"AnchorDecimal"}},{"name":"maxVolatilityRetreat","type":{"defined":"AnchorDecimal"}},{"name":"maxInterestRetreat","type":{"defined":"AnchorDecimal"}},{"name":"maxDelta","type":"u64"},{"name":"minDelta","type":"u64"},{"name":"minVolatility","type":"u64"},{"name":"maxVolatility","type":"u64"},{"name":"minInterestRate","type":"i64"},{"name":"maxInterestRate","type":"i64"}]}},{"name":"MarginParameters","type":{"kind":"struct","fields":[{"name":"futureMarginInitial","type":"u64"},{"name":"futureMarginMaintenance","type":"u64"},{"name":"optionMarkPercentageLongInitial","type":"u64"},{"name":"optionSpotPercentageLongInitial","type":"u64"},{"name":"optionSpotPercentageShortInitial","type":"u64"},{"name":"optionDynamicPercentageShortInitial","type":"u64"},{"name":"optionMarkPercentageLongMaintenance","type":"u64"},{"name":"optionSpotPercentageLongMaintenance","type":"u64"},{"name":"optionSpotPercentageShortMaintenance","type":"u64"},{"name":"optionDynamicPercentageShortMaintenance","type":"u64"},{"name":"optionShortPutCapPercentage","type":"u64"},{"name":"padding","type":{"array":["u8",32]}}]}},{"name":"ExpirySeries","type":{"kind":"struct","fields":[{"name":"activeTs","type":"u64"},{"name":"expiryTs","type":"u64"},{"name":"dirty","type":"bool"},{"name":"padding","type":{"array":["u8",15]}}]}},{"name":"Strike","type":{"kind":"struct","fields":[{"name":"isSet","type":"bool"},{"name":"value","type":"u64"}]}},{"name":"Product","type":{"kind":"struct","fields":[{"name":"market","type":"publicKey"},{"name":"strike","type":{"defined":"Strike"}},{"name":"dirty","type":"bool"},{"name":"kind","type":{"defined":"Kind"}}]}},{"name":"Position","type":{"kind":"struct","fields":[{"name":"size","type":"i64"},{"name":"costOfTrades","type":"u64"}]}},{"name":"OrderState","type":{"kind":"struct","fields":[{"name":"closingOrders","type":"u64"},{"name":"openingOrders","type":{"array":["u64",2]}}]}},{"name":"ProductLedger","type":{"kind":"struct","fields":[{"name":"position","type":{"defined":"Position"}},{"name":"orderState","type":{"defined":"OrderState"}}]}},{"name":"HaltZetaGroupArgs","type":{"kind":"struct","fields":[{"name":"spotPrice","type":"u64"},{"name":"timestamp","type":"u64"}]}},{"name":"UpdateVolatilityArgs","type":{"kind":"struct","fields":[{"name":"expiryIndex","type":"u8"},{"name":"volatility","type":{"array":["u64",5]}}]}},{"name":"UpdateInterestRateArgs","type":{"kind":"struct","fields":[{"name":"expiryIndex","type":"u8"},{"name":"interestRate","type":"i64"}]}},{"name":"ExpireSeriesOverrideArgs","type":{"kind":"struct","fields":[{"name":"settlementNonce","type":"u8"},{"name":"settlementPrice","type":"u64"}]}},{"name":"InitializeMarketArgs","type":{"kind":"struct","fields":[{"name":"index","type":"u8"},{"name":"marketNonce","type":"u8"},{"name":"baseMintNonce","type":"u8"},{"name":"quoteMintNonce","type":"u8"},{"name":"zetaBaseVaultNonce","type":"u8"},{"name":"zetaQuoteVaultNonce","type":"u8"},{"name":"dexBaseVaultNonce","type":"u8"},{"name":"dexQuoteVaultNonce","type":"u8"},{"name":"vaultSignerNonce","type":"u64"}]}},{"name":"InitializeStateArgs","type":{"kind":"struct","fields":[{"name":"stateNonce","type":"u8"},{"name":"serumNonce","type":"u8"},{"name":"mintAuthNonce","type":"u8"},{"name":"expiryIntervalSeconds","type":"u32"},{"name":"newExpiryThresholdSeconds","type":"u32"},{"name":"strikeInitializationThresholdSeconds","type":"u32"},{"name":"pricingFrequencySeconds","type":"u32"},{"name":"liquidatorLiquidationPercentage","type":"u32"},{"name":"insuranceVaultLiquidationPercentage","type":"u32"},{"name":"nativeTradeFeePercentage","type":"u64"},{"name":"nativeUnderlyingFeePercentage","type":"u64"},{"name":"nativeWhitelistUnderlyingFeePercentage","type":"u64"},{"name":"nativeDepositLimit","type":"u64"},{"name":"expirationThresholdSeconds","type":"u32"},{"name":"positionMovementFeeBps","type":"u8"},{"name":"marginConcessionPercentage","type":"u8"}]}},{"name":"InitializeMarketNodeArgs","type":{"kind":"struct","fields":[{"name":"nonce","type":"u8"},{"name":"index","type":"u8"}]}},{"name":"OverrideExpiryArgs","type":{"kind":"struct","fields":[{"name":"expiryIndex","type":"u8"},{"name":"activeTs","type":"u64"},{"name":"expiryTs","type":"u64"}]}},{"name":"UpdateStateArgs","type":{"kind":"struct","fields":[{"name":"expiryIntervalSeconds","type":"u32"},{"name":"newExpiryThresholdSeconds","type":"u32"},{"name":"strikeInitializationThresholdSeconds","type":"u32"},{"name":"pricingFrequencySeconds","type":"u32"},{"name":"liquidatorLiquidationPercentage","type":"u32"},{"name":"insuranceVaultLiquidationPercentage","type":"u32"},{"name":"nativeTradeFeePercentage","type":"u64"},{"name":"nativeUnderlyingFeePercentage","type":"u64"},{"name":"nativeWhitelistUnderlyingFeePercentage","type":"u64"},{"name":"nativeDepositLimit","type":"u64"},{"name":"expirationThresholdSeconds","type":"u32"},{"name":"positionMovementFeeBps","type":"u8"},{"name":"marginConcessionPercentage","type":"u8"}]}},{"name":"UpdatePricingParametersArgs","type":{"kind":"struct","fields":[{"name":"optionTradeNormalizer","type":"u64"},{"name":"futureTradeNormalizer","type":"u64"},{"name":"maxVolatilityRetreat","type":"u64"},{"name":"maxInterestRetreat","type":"u64"},{"name":"minDelta","type":"u64"},{"name":"maxDelta","type":"u64"},{"name":"minInterestRate","type":"i64"},{"name":"maxInterestRate","type":"i64"},{"name":"minVolatility","type":"u64"},{"name":"maxVolatility","type":"u64"}]}},{"name":"UpdateMarginParametersArgs","type":{"kind":"struct","fields":[{"name":"futureMarginInitial","type":"u64"},{"name":"futureMarginMaintenance","type":"u64"},{"name":"optionMarkPercentageLongInitial","type":"u64"},{"name":"optionSpotPercentageLongInitial","type":"u64"},{"name":"optionSpotPercentageShortInitial","type":"u64"},{"name":"optionDynamicPercentageShortInitial","type":"u64"},{"name":"optionMarkPercentageLongMaintenance","type":"u64"},{"name":"optionSpotPercentageLongMaintenance","type":"u64"},{"name":"optionSpotPercentageShortMaintenance","type":"u64"},{"name":"optionDynamicPercentageShortMaintenance","type":"u64"},{"name":"optionShortPutCapPercentage","type":"u64"}]}},{"name":"InitializeZetaGroupArgs","type":{"kind":"struct","fields":[{"name":"zetaGroupNonce","type":"u8"},{"name":"underlyingNonce","type":"u8"},{"name":"greeksNonce","type":"u8"},{"name":"vaultNonce","type":"u8"},{"name":"insuranceVaultNonce","type":"u8"},{"name":"socializedLossAccountNonce","type":"u8"},{"name":"interestRate","type":"i64"},{"name":"volatility","type":{"array":["u64",5]}},{"name":"optionTradeNormalizer","type":"u64"},{"name":"futureTradeNormalizer","type":"u64"},{"name":"maxVolatilityRetreat","type":"u64"},{"name":"maxInterestRetreat","type":"u64"},{"name":"maxDelta","type":"u64"},{"name":"minDelta","type":"u64"},{"name":"minInterestRate","type":"i64"},{"name":"maxInterestRate","type":"i64"},{"name":"minVolatility","type":"u64"},{"name":"maxVolatility","type":"u64"},{"name":"futureMarginInitial","type":"u64"},{"name":"futureMarginMaintenance","type":"u64"},{"name":"optionMarkPercentageLongInitial","type":"u64"},{"name":"optionSpotPercentageLongInitial","type":"u64"},{"name":"optionSpotPercentageShortInitial","type":"u64"},{"name":"optionDynamicPercentageShortInitial","type":"u64"},{"name":"optionMarkPercentageLongMaintenance","type":"u64"},{"name":"optionSpotPercentageLongMaintenance","type":"u64"},{"name":"optionSpotPercentageShortMaintenance","type":"u64"},{"name":"optionDynamicPercentageShortMaintenance","type":"u64"},{"name":"optionShortPutCapPercentage","type":"u64"}]}},{"name":"UpdateGreeksArgs","type":{"kind":"struct","fields":[{"name":"index","type":"u8"},{"name":"theo","type":"u64"},{"name":"delta","type":"u32"},{"name":"gamma","type":"u32"},{"name":"volatility","type":"u32"}]}},{"name":"PositionMovementArg","type":{"kind":"struct","fields":[{"name":"index","type":"u8"},{"name":"size","type":"i64"}]}},{"name":"ExpirySeriesStatus","type":{"kind":"enum","variants":[{"name":"Uninitialized"},{"name":"Initialized"},{"name":"Live"},{"name":"Expired"},{"name":"ExpiredDirty"}]}},{"name":"Kind","type":{"kind":"enum","variants":[{"name":"Uninitialized"},{"name":"Call"},{"name":"Put"},{"name":"Future"}]}},{"name":"OrderType","type":{"kind":"enum","variants":[{"name":"Limit"},{"name":"PostOnly"},{"name":"FillOrKill"}]}},{"name":"Side","type":{"kind":"enum","variants":[{"name":"Uninitialized"},{"name":"Bid"},{"name":"Ask"}]}},{"name":"Asset","type":{"kind":"enum","variants":[{"name":"SOL"},{"name":"BTC"},{"name":"ETH"},{"name":"UNDEFINED"}]}},{"name":"MovementType","type":{"kind":"enum","variants":[{"name":"Undefined"},{"name":"Lock"},{"name":"Unlock"}]}},{"name":"MarginRequirement","type":{"kind":"enum","variants":[{"name":"Initial"},{"name":"Maintenance"},{"name":"MaintenanceIncludingOrders"},{"name":"MarketMakerConcession"}]}},{"name":"MarginAccountType","type":{"kind":"enum","variants":[{"name":"Normal"},{"name":"MarketMaker"}]}}],"events":[{"name":"TradeEvent","fields":[{"name":"marginAccount","type":"publicKey","index":false},{"name":"index","type":"u8","index":false},{"name":"size","type":"u64","index":false},{"name":"costOfTrades","type":"u64","index":false},{"name":"isBid","type":"bool","index":false},{"name":"clientOrderId","type":"u64","index":false},{"name":"orderId","type":"u128","index":false}]},{"name":"PositionMovementEvent","fields":[{"name":"netBalanceTransfer","type":"i64","index":false},{"name":"marginAccountBalance","type":"u64","index":false},{"name":"spreadAccountBalance","type":"u64","index":false},{"name":"movementFees","type":"u64","index":false}]},{"name":"PlaceOrderEvent","fields":[{"name":"fee","type":"u64","index":false},{"name":"oraclePrice","type":"u64","index":false},{"name":"orderId","type":"u128","index":false}]},{"name":"LiquidationEvent","fields":[{"name":"liquidatorReward","type":"u64","index":false},{"name":"insuranceReward","type":"u64","index":false},{"name":"costOfTrades","type":"u64","index":false},{"name":"size","type":"u64","index":false},{"name":"remainingLiquidateeBalance","type":"u64","index":false},{"name":"remainingLiquidatorBalance","type":"u64","index":false},{"name":"markPrice","type":"u64","index":false},{"name":"underlyingPrice","type":"u64","index":false}]},{"name":"CancelEvent","fields":[{"name":"marginAccount","type":"publicKey","index":false},{"name":"user","type":"publicKey","index":false},{"name":"asset","type":{"defined":"Asset"},"index":false},{"name":"marketIndex","type":"u8","index":false},{"name":"side","type":{"defined":"Side"},"index":false},{"name":"size","type":"u64","index":false},{"name":"orderId","type":"u128","index":false},{"name":"clientOrderId","type":"u64","index":false}]}],"errors":[{"code":6000,"name":"DepositOverflow","msg":"Deposit overflow"},{"code":6001,"name":"Unreachable","msg":"Unreachable"},{"code":6002,"name":"FailedInitialMarginRequirement","msg":"Failed initial margin requirement"},{"code":6003,"name":"LiquidatorFailedMarginRequirement","msg":"Liquidator failed margin requirement"},{"code":6004,"name":"CannotLiquidateOwnAccount","msg":"Cannot liquidate own account"},{"code":6005,"name":"CrankInvalidRemainingAccounts","msg":"Invalid cranking remaining accounts"},{"code":6006,"name":"IncorrectTickSize","msg":"Incorrect tick size"},{"code":6007,"name":"ZeroPrice","msg":"ZeroPrice"},{"code":6008,"name":"ZeroSize","msg":"ZeroSize"},{"code":6009,"name":"ZeroWithdrawableBalance","msg":"Zero withdrawable balance"},{"code":6010,"name":"DepositAmountExceeded","msg":"Deposit amount exceeds limit and user is not whitelisted"},{"code":6011,"name":"WithdrawalAmountExceedsWithdrawableBalance","msg":"Withdrawal amount exceeds withdrawable balance"},{"code":6012,"name":"AccountHasSufficientMarginPostCancels","msg":"Account has sufficient margin post cancels"},{"code":6013,"name":"OverBankrupt","msg":"Over bankrupt"},{"code":6014,"name":"AccountHasSufficientMargin","msg":"Account has sufficient margin"},{"code":6015,"name":"UserHasNoActiveOrders","msg":"User has no active orders"},{"code":6016,"name":"InvalidExpirationInterval","msg":"Invalid expiration interval"},{"code":6017,"name":"ProductMarketsAlreadyInitialized","msg":"Product markets already initialized"},{"code":6018,"name":"InvalidProductMarketKey","msg":"Invalid product market key"},{"code":6019,"name":"MarketNotLive","msg":"Market not live"},{"code":6020,"name":"MarketPricingNotReady","msg":"Market pricing not ready"},{"code":6021,"name":"UserHasRemainingOrdersOnExpiredMarket","msg":"User has remaining orders on expired market"},{"code":6022,"name":"InvalidSeriesExpiration","msg":"Invalid series expiration"},{"code":6023,"name":"InvalidExpiredOrderCancel","msg":"Invalid expired order cancel"},{"code":6024,"name":"NoMarketsToAdd","msg":"No markets to add"},{"code":6025,"name":"UserHasUnsettledPositions","msg":"User has unsettled positions"},{"code":6026,"name":"NoMarginAccountsToSettle","msg":"No margin accounts to settle"},{"code":6027,"name":"CannotSettleUserWithActiveOrders","msg":"Cannot settle users with active orders"},{"code":6028,"name":"OrderbookNotEmpty","msg":"Orderbook not empty"},{"code":6029,"name":"InvalidNumberOfAccounts","msg":"Invalid number of accounts"},{"code":6030,"name":"InvalidMarketAccounts","msg":"Bids or Asks don\'t match the Market"},{"code":6031,"name":"ProductStrikeUninitialized","msg":"Product strike uninitialized"},{"code":6032,"name":"PricingNotUpToDate","msg":"Pricing not up to date"},{"code":6033,"name":"RetreatsAreStale","msg":"Retreats are stale"},{"code":6034,"name":"ProductDirty","msg":"Product dirty"},{"code":6035,"name":"ProductStrikesInitialized","msg":"Product strikes initialized"},{"code":6036,"name":"StrikeInitializationNotReady","msg":"Strike initialization not ready"},{"code":6037,"name":"UnsupportedKind","msg":"Unsupported kind"},{"code":6038,"name":"InvalidZetaGroup","msg":"Invalid zeta group"},{"code":6039,"name":"InvalidMarginAccount","msg":"Invalid margin account"},{"code":6040,"name":"InvalidGreeksAccount","msg":"Invalid greeks account"},{"code":6041,"name":"InvalidSettlementAccount","msg":"Invalid settlement account"},{"code":6042,"name":"InvalidCancelAuthority","msg":"Invalid cancel authority"},{"code":6043,"name":"CannotUpdatePricingAfterExpiry","msg":"Cannot update pricing after expiry"},{"code":6044,"name":"LoadAccountDiscriminatorAlreadySet","msg":"Account discriminator already set"},{"code":6045,"name":"AccountAlreadyInitialized","msg":"Account already initialized"},{"code":6046,"name":"GreeksAccountSeedsMismatch","msg":"Greeks account seeds mismatch"},{"code":6047,"name":"ZetaGroupAccountSeedsMismatch","msg":"Zeta group account seeds mismatch"},{"code":6048,"name":"MarginAccountSeedsMismatch","msg":"Margin account seeds mismatch"},{"code":6049,"name":"OpenOrdersAccountSeedsMismatch","msg":"Open orders account seeds mismatch"},{"code":6050,"name":"MarketNodeAccountSeedsMismatch","msg":"Market node seeds mismatch"},{"code":6051,"name":"UserTradingFeeWhitelistAccountSeedsMismatch","msg":"User trading fee whitelist account seeds mismatch"},{"code":6052,"name":"UserDepositWhitelistAccountSeedsMismatch","msg":"User deposit whitelist account seeds mismatch"},{"code":6053,"name":"MarketIndexesUninitialized","msg":"Market indexes uninitialized"},{"code":6054,"name":"MarketIndexesAlreadyInitialized","msg":"Market indexes already initialized"},{"code":6055,"name":"CannotGetUnsetStrike","msg":"Cannot get unset strike"},{"code":6056,"name":"CannotSetInitializedStrike","msg":"Cannot set initialized strike"},{"code":6057,"name":"CannotResetUninitializedStrike","msg":"Cannot set initialized strike"},{"code":6058,"name":"CrankMarginAccountNotMutable","msg":"CrankMarginAccountNotMutable"},{"code":6059,"name":"InvalidAdminSigner","msg":"InvalidAdminSigner"},{"code":6060,"name":"UserHasActiveOrders","msg":"User still has active orders"},{"code":6061,"name":"UserForceCancelInProgress","msg":"User has a force cancel in progress"},{"code":6062,"name":"FailedPriceBandCheck","msg":"Failed price band check"},{"code":6063,"name":"UnsortedOpenOrdersAccounts","msg":"Unsorted open orders accounts"},{"code":6064,"name":"AccountNotMutable","msg":"Account not mutable"},{"code":6065,"name":"AccountDiscriminatorMismatch","msg":"Account discriminator mismatch"},{"code":6066,"name":"InvalidMarketNodeIndex","msg":"Invalid market node index"},{"code":6067,"name":"InvalidMarketNode","msg":"Invalid market node"},{"code":6068,"name":"LUTOutOfBounds","msg":"Lut out of bounds"},{"code":6069,"name":"RebalanceInsuranceInvalidRemainingAccounts","msg":"Rebalance insurance vault with no margin accounts"},{"code":6070,"name":"InvalidMintDecimals","msg":"Invalid mint decimals"},{"code":6071,"name":"InvalidZetaGroupOracle","msg":"Invalid oracle for this zeta group"},{"code":6072,"name":"InvalidZetaGroupDepositMint","msg":"Invalid zeta group deposit mint"},{"code":6073,"name":"InvalidZetaGroupRebalanceMint","msg":"Invalid zeta group rebalance insurance vault mint"},{"code":6074,"name":"InvalidDepositAmount","msg":"Invalid deposit amount"},{"code":6075,"name":"InvalidTokenAccountOwner","msg":"Invalid token account owner"},{"code":6076,"name":"InvalidWithdrawAmount","msg":"Invalid withdraw amount"},{"code":6077,"name":"InvalidDepositRemainingAccounts","msg":"Invalid number of remaining accounts in deposit"},{"code":6078,"name":"InvalidPlaceOrderRemainingAccounts","msg":"Invalid number of remaining accounts in place order"},{"code":6079,"name":"ClientOrderIdCannotBeZero","msg":"ClientOrderIdCannotBeZero"},{"code":6080,"name":"ZetaGroupHalted","msg":"Zeta group halted"},{"code":6081,"name":"ZetaGroupNotHalted","msg":"Zeta group not halted"},{"code":6082,"name":"HaltMarkPriceNotSet","msg":"Halt mark price not set"},{"code":6083,"name":"HaltMarketsNotCleaned","msg":"Halt markets not cleaned"},{"code":6084,"name":"HaltMarketNodesNotCleaned","msg":"Halt market nodes not cleaned"},{"code":6085,"name":"CannotExpireOptionsAfterExpirationThreshold","msg":"Cannot expire options after expiration threshold"},{"code":6086,"name":"PostOnlyInCross","msg":"Post only order in cross"},{"code":6087,"name":"FillOrKillNotFullSize","msg":"Fill or kill order was not filled for full size"},{"code":6088,"name":"InvalidOpenOrdersMapOwner","msg":"Invalid open orders map owner"},{"code":6089,"name":"AccountDidNotSerialize","msg":"Failed to serialize the account"},{"code":6090,"name":"OpenOrdersWithNonEmptyPositions","msg":"Cannot close open orders account with non empty positions"},{"code":6091,"name":"CannotCloseNonEmptyMarginAccount","msg":"Cannot close margin account that is not empty"},{"code":6092,"name":"InvalidTagLength","msg":"Invalid tag length"},{"code":6093,"name":"NakedShortCallIsNotAllowed","msg":"Naked short call is not allowed"},{"code":6094,"name":"InvalidSpreadAccount","msg":"Invalid spread account"},{"code":6095,"name":"CannotCloseNonEmptySpreadAccount","msg":"Cannot close non empty spread account"},{"code":6096,"name":"SpreadAccountSeedsMismatch","msg":"Spread account seeds mismatch"},{"code":6097,"name":"SpreadAccountHasUnsettledPositions","msg":"Spread account seeds mismatch"},{"code":6098,"name":"SpreadAccountInvalidExpirySeriesState","msg":"Spread account invalid expiry series state"},{"code":6099,"name":"InsufficientFundsToCollateralizeSpreadAccount","msg":"Insufficient funds to collateralize spread account"},{"code":6100,"name":"FailedMaintenanceMarginRequirement","msg":"Failed maintenance margin requirement"},{"code":6101,"name":"InvalidMovement","msg":"Invalid movement"},{"code":6102,"name":"MovementOnExpiredSeries","msg":"Movement on expired series"},{"code":6103,"name":"InvalidMovementSize","msg":"Invalid movement size"},{"code":6104,"name":"ExceededMaxPositionMovements","msg":"Exceeded max position movements"},{"code":6105,"name":"ExceededMaxSpreadAccountContracts","msg":"Exceeded max spread account contracts"},{"code":6106,"name":"OraclePriceIsInvalid","msg":"Fetched oracle price is invalid"}]}')}}]);
//# sourceMappingURL=vendors-node_modules_zetamarkets_sdk_dist_index_js.92f358ac.chunk.js.map