{"version":3,"file":"static/js/964.8d2b025c.chunk.js","mappings":"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","sources":["shared/antd/ionicon/assets/icon-telegram.svg","shared/antd/ionicon/customs.tsx","shared/antd/ionicon/index.tsx","app/view/dao/hero/banner.tsx","app/view/dao/hero/infoCard.tsx","app/configs/manifest.config.ts","app/helpers/safeWallet.ts","app/configs/sol.config.ts","app/configs/index.ts","app/model/proposal.controller.tsx","app/view/dao/hero/index.tsx","app/components/statisticCard.tsx","app/components/regimeTag.tsx","shared/antd/mint/mintAvatar.tsx","shared/antd/mint/mintName.tsx","shared/antd/mint/mintSymbol.tsx","shared/antd/mint/mintSelection/mintTag.tsx","shared/antd/mint/mintSelection/mintCard.tsx","shared/antd/mint/mintSelection/useAllMintAddresses.ts","shared/antd/mint/mintSelection/useSearchedMintAddresses.ts","shared/antd/mint/mintSelection/index.tsx","shared/antd/mint/mintSelection/useRecommendedMintAddresses.ts","shared/antd/mint/mintSelection/useRandomMintAddress.ts","app/components/gradientAvatar/index.tsx","app/model/metadata.controller.tsx","app/hooks/useMembers.ts","app/helpers/index.ts","app/hooks/useMetaData.ts","app/view/dao/daoList/daoCard.tsx","app/view/dao/daoList/search/index.tsx","app/view/dao/daoInitialization/daoRule/cardRegmie.tsx","app/view/dao/daoInitialization/daoRule/regimeInput.tsx","app/view/dao/daoList/sortDao.tsx","app/view/dao/daoList/search/daoProvider.ts","app/hooks/useSearchDao.ts","app/view/dao/daoList/index.tsx","app/view/dao/daoList/yourDao.tsx","app/view/dao/index.tsx","app/components/proposalStatus.tsx","app/hooks/useProposalStatus.ts","app/hooks/useProposalMetaData.ts","app/view/proposal/proposalList/proposalCard.tsx","shared/hooks/useMintDecimals.ts","app/model/template.controller.tsx","shared/antd/numericInput.tsx","app/view/templates/spl/transfer/index.tsx","app/static/images/templates/solana.svg","app/view/templates/spl/index.tsx","app/view/templates/index.tsx","app/view/proposal/proposalList/index.tsx","app/view/dao/daoDetails.tsx","app/view/proposal/index.tsx","app/view/proposal/proposalInitialization/consensusMechanismInput.tsx","app/view/proposal/proposalInitialization/consensusQuorumInput.tsx","app/view/proposal/proposalInitialization/durationInput.tsx","app/view/proposal/proposalInitialization/proposalPreview.tsx","app/view/proposal/proposalInitialization/index.tsx","app/model/dao.controller.tsx","app/view/dao/daoInitialization/chooseDaoType.tsx","app/view/dao/daoInitialization/confirmCreate.tsx","shared/hooks/useMintSupply.ts","app/view/dao/daoInitialization/daoRule/circulatingSupplyInput.tsx","app/view/dao/daoInitialization/daoRule/tokenAddressInput.tsx","app/view/dao/daoInitialization/daoRule/index.tsx","app/view/dao/daoInitialization/metaDataForm.tsx","app/view/dao/daoInitialization/createDaoSteps.tsx","app/view/dao/daoInitialization/createDaoProgress.tsx","app/view/dao/daoInitialization/actions/backAction.tsx","app/view/dao/daoInitialization/actions/continuesAction.tsx","app/view/dao/daoInitialization/index.tsx","app/hooks/useProposal.ts","app/view/proposal/proposalDetails/cardStatus.tsx","app/model/voteBid.controller.tsx","shared/hooks/useAccountBalance.ts","app/helpers/countDown.ts","app/view/proposal/proposalDetails/cardVote.tsx","app/components/rowSpaceBetween.tsx","app/view/proposal/proposalDetails/templateInfo/transferInfo.tsx","app/view/proposal/proposalDetails/templateInfo/index.tsx","app/view/proposal/proposalDetails/cardInfo.tsx","app/view/proposal/proposalDetails/cardProgress.tsx","app/view/proposal/proposalDetails/history/columnType.tsx","app/view/proposal/proposalDetails/history/columnPower.tsx","app/view/proposal/proposalDetails/history/column.tsx","app/hooks/useReceipts.ts","app/view/proposal/proposalDetails/history/index.tsx","app/view/proposal/proposalDetails/index.tsx","app/view/watcher/dao.watcher.tsx","app/view/watcher/proposal.watcher.tsx","app/model/receipt.controller.tsx","app/view/watcher/receipt.watcher.tsx","app/view/index.tsx","app/model/index.ts","app/bootstrap.app.tsx","shared/dataloader/constant.ts","shared/dataloader/request.ts","shared/dataloader/cache.ts","shared/dataloader/index.ts","shared/devTools.ts","shared/pdb/index.ts","shared/pdb/ipfs.ts","shared/runtime.ts","shared/storage.ts","shared/util.ts"],"sourcesContent":["var _path;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgIconTelegram(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"inherit\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 50 50\",\n    width: \"50px\",\n    height: \"50px\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M46.137,6.552c-0.75-0.636-1.928-0.727-3.146-0.238l-0.002,0C41.708,6.828,6.728,21.832,5.304,22.445 c-0.259,0.09-2.521,0.934-2.288,2.814c0.208,1.695,2.026,2.397,2.248,2.478l8.893,3.045c0.59,1.964,2.765,9.21,3.246,10.758 c0.3,0.965,0.789,2.233,1.646,2.494c0.752,0.29,1.5,0.025,1.984-0.355l5.437-5.043l8.777,6.845l0.209,0.125 c0.596,0.264,1.167,0.396,1.712,0.396c0.421,0,0.825-0.079,1.211-0.237c1.315-0.54,1.841-1.793,1.896-1.935l6.556-34.077 C47.231,7.933,46.675,7.007,46.137,6.552z M22,32l-3,8l-3-10l23-17L22,32z\"\n  })));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconTelegram);\nexport default __webpack_public_path__ + \"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg\";\nexport { ForwardRef as ReactComponent };","import IconTele from './assets/icon-telegram.svg'\n\nexport const CUSTOM_ICONS: Record<string, string> = {\n  'logo-telegram': IconTele,\n}\n","/**\n * IonIcon 5\n * Credit https://ionic.io/ionicons\n */\n\nimport { forwardRef } from 'react'\nimport { CUSTOM_ICONS } from './customs'\n\n/**\n * IonIcon\n * @param name The icon name. You can find it here https://ionic.io/ionicons\n * @param className To modify the span class\n */\nconst IonIcon = forwardRef<\n  HTMLElement,\n  { name: string; className?: string } & any\n>(({ name, className, ...props }, ref) => {\n  const cln = className ? 'anticon ' + className : 'anticon'\n\n  return (\n    <span className={cln} {...props}>\n      {CUSTOM_ICONS[name] ? (\n        <ion-icon ref={ref} src={CUSTOM_ICONS[name]} />\n      ) : (\n        <ion-icon ref={ref} name={name} />\n      )}\n    </span>\n  )\n})\n\nexport default IonIcon\n","import { Col, Row, Space, Typography } from 'antd'\n\nconst Banner = () => {\n  return (\n    <Row gutter={[16, 16]} justify=\"center\">\n      <Col>\n        <Space direction=\"vertical\" size={0}>\n          <Typography.Title\n            level={1}\n            style={{ fontSize: 72, textAlign: 'center' }}\n          >\n            Let's build\n          </Typography.Title>\n          <Typography.Title\n            level={1}\n            style={{ fontSize: 72, textAlign: 'center' }}\n            className=\"spec-title\"\n          >\n            Your own DAO.\n          </Typography.Title>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Typography.Paragraph\n          type=\"secondary\"\n          style={{ fontSize: 20, textAlign: 'center' }}\n        >\n          Customize the DAO to your purpose - No coding needed.\n        </Typography.Paragraph>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Banner\n","import { ReactNode } from 'react'\n\nimport { Card, Col, Row, Space, Typography } from 'antd'\n\nexport type InfoCardProps = {\n  icon?: ReactNode\n  title?: string\n  value?: string\n}\n\nconst InfoCard = ({ icon, title, value }: InfoCardProps) => {\n  return (\n    <Card\n      bordered={false}\n      style={{\n        background: 'transparent',\n        borderLeft: '1px solid',\n        borderRadius: 'unset',\n      }}\n      bodyStyle={{\n        padding: '0 24px',\n      }}\n    >\n      <Row gutter={[5, 5]}>\n        <Col span={24}>\n          <Space>\n            {icon}\n            <Typography.Text type=\"secondary\">{title}</Typography.Text>\n          </Space>\n        </Col>\n        <Col span={24}>\n          <Typography.Title level={4}>{value}</Typography.Title>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default InfoCard\n","import { Env } from 'shared/runtime'\n\nif (\n  typeof process.env.REACT_APP_ID !== 'string' ||\n  typeof process.env.REACT_APP_URL !== 'string'\n)\n  throw new Error('Please add REACT_APP_ID, REACT_APP_URL in .env!')\n\n/**\n * Contructor\n */\n\ntype Conf = {\n  appId: string\n  url: string\n}\n\nconst shared = {\n  appId: process.env.REACT_APP_ID,\n  url: process.env.REACT_APP_URL,\n}\n\nconst conf: Record<Env, Conf> = {\n  /**\n   * Development configurations\n   */\n  development: {\n    ...shared,\n  },\n\n  /**\n   * Staging configurations\n   */\n  staging: {\n    ...shared,\n  },\n\n  /**\n   * Production configurations\n   */\n  production: {\n    ...shared,\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { Transaction, PublicKey } from '@solana/web3.js'\nimport { AnchorWallet } from '@interdao/core'\nimport { WalletInterface } from '@senswap/sen-js'\n\nclass SafeWallet implements AnchorWallet {\n  private _wallet: WalletInterface = window.sentre.wallet\n  private _publicKey: PublicKey = new PublicKey(\n    'GuestAccount11111111111111111111111111111111',\n  )\n\n  constructor() {\n    this._init()\n  }\n\n  private _init = async () => {\n    const address = await this._wallet.getAddress()\n    this._publicKey = new PublicKey(address)\n  }\n\n  signTransaction = async (tx: Transaction): Promise<Transaction> => {\n    return this._wallet.signTransaction(tx)\n  }\n\n  signAllTransactions = async (txs: Transaction[]): Promise<Transaction[]> => {\n    let signedTxs: Transaction[] = []\n    for (const tx of txs) {\n      const signedTx = await this.signTransaction(tx)\n      signedTxs.push(signedTx)\n    }\n    return signedTxs\n  }\n\n  get publicKey() {\n    console.warn(\n      'This is an async getter for interface consistency. Please do not fully rely on this function.',\n    )\n    return this._publicKey\n  }\n}\n\nexport default SafeWallet\n","import InterDAO from '@interdao/core'\n\nimport SafeWallet from 'app/helpers/safeWallet'\nimport { Net } from 'shared/runtime'\n\n/**\n * Contructor\n */\ntype Conf = {\n  interDao: InterDAO\n  fee: string\n  taxman: string\n}\n\nconst conf: Record<Net, Conf> = {\n  /**\n   * Development configurations\n   */\n  devnet: {\n    interDao: new InterDAO(new SafeWallet(), 'https://api.devnet.solana.com'),\n    fee: '50000', // 0.000005 SOL\n    taxman: '8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D',\n  },\n\n  /**\n   * Staging configurations\n   */\n  testnet: {\n    interDao: new InterDAO(new SafeWallet(), 'https://api.testnet.solana.com'),\n    fee: '50000', // 0.000005 SOL\n    taxman: '8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D',\n  },\n\n  /**\n   * Production configurations\n   */\n  mainnet: {\n    interDao: new InterDAO(new SafeWallet(), 'https://ssc-dao.genesysgo.net/'),\n    fee: '50000', // 0.000005 SOL\n    taxman: '8W6QginLcAydYyMYjxuyKQN56NzeakDE3aRFrAmocS6D',\n  },\n}\n\n/**\n * Module exports\n */\nexport default conf\n","import { env, net } from 'shared/runtime'\nimport manifest from './manifest.config'\nimport sol from './sol.config'\n\nconst configs = {\n  manifest: manifest[env],\n  sol: sol[net],\n}\n\n/**\n * Module exports\n */\nexport default configs\n","import { AccountInfo, PublicKey } from '@solana/web3.js'\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { ProposalData } from '@interdao/core'\nimport { account } from '@senswap/sen-js'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\n/**\n * Interface & Utility\n */\n\nexport type ProposalState = Record<string, ProposalData>\n\n/**\n * Store constructor\n */\n\nconst NAME = 'proposal'\nconst initialState: ProposalState = {}\n\n/**\n * Actions\n */\n\nexport const getProposals = createAsyncThunk(\n  `${NAME}/getProposals`,\n  async ({ daoAddress }: { daoAddress: string }) => {\n    const {\n      provider: { connection },\n      programId,\n    } = interDao.program\n    const value: Array<{ pubkey: PublicKey; account: AccountInfo<Buffer> }> =\n      await connection.getProgramAccounts(programId, {\n        filters: [\n          {\n            memcmp: {\n              offset: 48,\n              bytes: daoAddress,\n            },\n          },\n        ],\n      })\n    let bulk: ProposalState = {}\n    value.forEach(({ pubkey, account: { data: buf } }) => {\n      const address = pubkey.toBase58()\n      const data = interDao.parseProposalData(buf)\n      bulk[address] = data\n    })\n    return bulk\n  },\n)\n\nexport const getProposal = createAsyncThunk<\n  ProposalState,\n  { address: string; force?: boolean },\n  { state: any }\n>(`${NAME}/getProposal`, async ({ address, force }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  const {\n    dao: { [address]: data },\n  } = getState()\n  if (data && !force) return { [address]: data }\n  const raw = await interDao.getProposalData(address)\n  return { [address]: raw }\n})\n\nexport const upsetProposal = createAsyncThunk<\n  ProposalState,\n  { address: string; data: ProposalData },\n  { state: any }\n>(`${NAME}/upsetProposal`, async ({ address, data }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  if (!data) throw new Error('Data is empty')\n  return { [address]: data }\n})\n\nexport const deleteProposal = createAsyncThunk(\n  `${NAME}/deleteProposal`,\n  async ({ address }: { address: string }) => {\n    if (!account.isAddress(address)) throw new Error('Invalid address')\n    return { address }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        getProposals.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        getProposal.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetProposal.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        deleteProposal.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Col, Row } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport Banner from './banner'\nimport InfoCard from './infoCard'\n\nimport { numeric } from 'shared/util'\nimport { AppDispatch, AppState } from 'app/model'\nimport { getProposals } from 'app/model/proposal.controller'\n\nimport './index.less'\n\nconst Hero = () => {\n  const {\n    dao: { daoData },\n    proposal,\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch<AppDispatch>()\n\n  const totalDao = useMemo(() => {\n    if (!daoData) return 0\n    return Object.keys(daoData).length\n  }, [daoData])\n\n  const totalProposal = useMemo(() => {\n    if (!daoData) return 0\n    return Object.keys(proposal).length\n  }, [daoData, proposal])\n\n  const executeProposal = useMemo(() => {\n    let total = 0\n    for (const proposalAddr in proposal) {\n      const { executed } = proposal[proposalAddr]\n      if (executed) total++\n      continue\n    }\n    return total\n  }, [proposal])\n\n  useEffect(() => {\n    const daoAddresses = Object.keys(daoData)\n    for (const daoAddress of daoAddresses) {\n      dispatch(getProposals({ daoAddress }))\n    }\n  }, [daoData, dispatch])\n\n  return (\n    <Row className=\"interdao-banner\" justify=\"center\">\n      <Col xs={24} lg={18}>\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <Banner />\n          </Col>\n          <Col xs={24} sm={12} lg={8}>\n            <InfoCard\n              icon={<IonIcon name=\"earth-outline\" />}\n              title=\"Total DAOs\"\n              value={numeric(totalDao).format('0,0')}\n            />\n          </Col>\n          <Col xs={24} sm={12} lg={8}>\n            <InfoCard\n              icon={<IonIcon name=\"pencil-outline\" />}\n              title=\"Total Proposals\"\n              value={numeric(totalProposal).format('0,0')}\n            />\n          </Col>\n          <Col xs={24} sm={12} lg={8}>\n            <InfoCard\n              icon={<IonIcon name=\"thumbs-up-outline\" />}\n              title=\"Total executed proposals\"\n              value={numeric(executeProposal).format('0,0')}\n            />\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Hero\n","import { ReactNode } from 'react'\n\nimport { Space, Typography } from 'antd'\n\nexport type StatisticCardProps = {\n  title: string\n  value: string | number | ReactNode\n}\nconst StatisticCard = ({ title, value }: StatisticCardProps) => {\n  return (\n    <Space direction=\"vertical\">\n      <Typography.Text className=\"caption\" type=\"secondary\">\n        {title}\n      </Typography.Text>\n      {['number', 'string'].includes(typeof value) ? (\n        <Typography.Text>{value}</Typography.Text>\n      ) : (\n        value\n      )}\n    </Space>\n  )\n}\n\nexport default StatisticCard\n","import { useMemo } from 'react'\nimport { DaoRegime, DaoRegimes } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\n\nimport { Tag } from 'antd'\n\n// import { randomColor } from 'shared/util'\n\nexport type RegimeTagProps = { regime: DaoRegime; special?: boolean }\n\nconst RegimeTag = ({ regime, special }: RegimeTagProps) => {\n  const tag = useMemo(() => {\n    if (isEqual(regime, DaoRegimes.Dictatorial)) return 'Dictatorial'\n    if (isEqual(regime, DaoRegimes.Democratic)) return 'Democratic'\n    if (isEqual(regime, DaoRegimes.Autonomous)) return 'Autonomous'\n    return 'DAO Regime'\n  }, [regime])\n\n  const className = special ? 'regime-tag dao-tag' : 'dao-tag'\n\n  return (\n    <Tag className={className} style={{ margin: 0 }}>\n      {tag}\n    </Tag>\n  )\n}\n\nexport default RegimeTag\n","import { ReactNode, useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nimport { Avatar } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nconst DEFAULT_AVATARS: Array<string | undefined> = [undefined]\n\nexport type MintAvatarProps = {\n  mintAddress: string\n  size?: number\n  icon?: ReactNode\n  reversed?: boolean\n}\n\n/**\n * Mint/Token avatar, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param size - Avatar size. Default 24px.\n * @param icon - Fallback icon for unknown token\n * @param reversed - (Optional) The default LP token avatar is A-B. The reversed is to change it to B-A\n * @returns name\n */\nconst MintAvatar = ({\n  mintAddress,\n  size = 24,\n  icon = <IonIcon name=\"diamond-outline\" />,\n  reversed = false,\n  ...props\n}: MintAvatarProps) => {\n  const [avatars, setAvatars] = useState(DEFAULT_AVATARS)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveAvatar = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.logoURI) return token.logoURI\n      return undefined\n    },\n    [tokenProvider],\n  )\n\n  const deriveAvatars = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setAvatars(DEFAULT_AVATARS)\n    // LP mint\n    const poolData = Object.values(pools || {}).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const avatars = await Promise.all([mint_a, mint_b].map(deriveAvatar))\n      if (reversed) avatars.reverse()\n      return setAvatars(avatars)\n    }\n    // Normal mint\n    const avatar = await deriveAvatar(mintAddress)\n    return setAvatars([avatar])\n  }, [mintAddress, reversed, deriveAvatar, pools])\n\n  useEffect(() => {\n    deriveAvatars()\n  }, [deriveAvatars])\n\n  if (avatars.length === 1)\n    return (\n      <Avatar\n        src={avatars[0]}\n        size={size}\n        style={{ backgroundColor: '#2D3355', border: 'none' }}\n        {...props}\n      >\n        {icon}\n      </Avatar>\n    )\n  return (\n    <Avatar.Group style={{ display: 'block', whiteSpace: 'nowrap' }} {...props}>\n      {avatars.map((avatar, i) => (\n        <Avatar\n          key={i}\n          src={avatar}\n          size={size}\n          style={{ backgroundColor: '#2D3355', border: 'none' }}\n        >\n          {icon}\n        </Avatar>\n      ))}\n    </Avatar.Group>\n  )\n}\n\nexport default MintAvatar\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nconst DEFAULT_NAME = 'Unknown Token'\n\n/**\n * Mint/Token name, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param separator - (Optional) In case of LP tokens, the names is combined by 2 token names. The separator is to separate them.\n * @param reversed - (Optional) The default LP token names is A-B. The reversed is to change it to B-A\n * @returns name\n */\nconst MintName = ({\n  mintAddress,\n  separator = ' • ',\n  reversed = false,\n}: {\n  mintAddress: string\n  separator?: string\n  reversed?: boolean\n}) => {\n  const [name, setName] = useState(DEFAULT_NAME)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveName = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.name) return token.name\n      return DEFAULT_NAME\n    },\n    [tokenProvider],\n  )\n\n  const deriveNames = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setName(DEFAULT_NAME)\n    // LP mint\n    const poolData = Object.values(pools || {}).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const names = await Promise.all([mint_a, mint_b].map(deriveName))\n      if (reversed) names.reverse()\n      return setName(`${names.join(separator)} LP`)\n    }\n    // Normal mint\n    const name = await deriveName(mintAddress)\n    return setName(name)\n  }, [mintAddress, reversed, deriveName, pools, separator])\n\n  useEffect(() => {\n    deriveNames()\n  }, [deriveNames])\n\n  return <span>{name}</span>\n}\n\nexport default MintName\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { useMint, usePool } from '@senhub/providers'\n\nconst DEFAULT_SYMBOL = 'TOKN'\n\n/**\n * Mint/Token symbol, supporting LP tokens\n * @param mintAddress -  Mint address\n * @param separator - (Optional) In case of LP tokens, the symbols is combined by 2 token symbols. The separator is to separate them.\n * @param reversed - (Optional) The default LP token symbol is A-B. The reversed is to change it to B-A\n * @returns symbol\n */\nconst MintSymbol = ({\n  mintAddress,\n  separator = ' • ',\n  reversed = false,\n}: {\n  mintAddress: string\n  separator?: string\n  reversed?: boolean\n}) => {\n  const [symbol, setSymbol] = useState(DEFAULT_SYMBOL)\n  const { tokenProvider } = useMint()\n  const { pools } = usePool()\n\n  const deriveSymbol = useCallback(\n    async (address: string) => {\n      const token = await tokenProvider.findByAddress(address)\n      if (token?.symbol) return token.symbol\n      return address.substring(0, 4)\n    },\n    [tokenProvider],\n  )\n\n  const deriveSymbols = useCallback(async () => {\n    if (!account.isAddress(mintAddress)) return setSymbol(DEFAULT_SYMBOL)\n    // LP mint\n    const poolData = Object.values(pools || {}).find(\n      ({ mint_lpt }) => mint_lpt === mintAddress,\n    )\n    if (poolData) {\n      const { mint_a, mint_b } = poolData\n      const symbols = await Promise.all([mint_a, mint_b].map(deriveSymbol))\n      if (reversed) symbols.reverse()\n      return setSymbol(symbols.join(separator))\n    }\n    // Normal mint\n    const symbol = await deriveSymbol(mintAddress)\n    return setSymbol(symbol)\n  }, [mintAddress, reversed, deriveSymbol, pools, separator])\n\n  useEffect(() => {\n    deriveSymbols()\n  }, [deriveSymbols])\n\n  return <span>{symbol}</span>\n}\n\nexport default MintSymbol\n","import { Card, Space, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport { MintAvatar, MintName } from 'shared/antd/mint'\n\nimport { randomColor } from 'shared/util'\n\nexport type MintTagProps = {\n  mintAddress: string\n  onClick?: (mintAddress: string) => void\n  active?: boolean\n}\n\nconst MintTag = ({\n  mintAddress,\n  onClick = () => {},\n  active = false,\n}: MintTagProps) => {\n  return (\n    <Card\n      bodyStyle={{ padding: 8, cursor: 'pointer' }}\n      style={{ backgroundColor: randomColor(mintAddress, 0.2) }}\n      bordered={Boolean(active)}\n      onClick={() => onClick(mintAddress)}\n    >\n      <Space>\n        <MintAvatar mintAddress={mintAddress} />\n        <Space>\n          <Typography.Text style={{ color: randomColor(mintAddress) }}>\n            <MintName mintAddress={mintAddress} />\n          </Typography.Text>\n          {active ? <IonIcon name=\"checkmark-outline\" /> : null}\n        </Space>\n      </Space>\n    </Card>\n  )\n}\nexport default MintTag\n","import { Card, Col, Row, Space, Typography } from 'antd'\nimport { MintAvatar, MintName, MintSymbol } from 'shared/antd/mint'\n\nexport type MintSelectionProps = {\n  mintAddress: string\n  onClick?: (mintAddress: string) => void\n}\n\nconst MintCard = ({ mintAddress, onClick = () => {} }: MintSelectionProps) => {\n  return (\n    <Card\n      bodyStyle={{ padding: 8 }}\n      style={{ boxShadow: 'unset', cursor: 'pointer' }}\n      bordered={false}\n      onClick={() => onClick(mintAddress)}\n    >\n      <Row gutter={[16, 16]} align=\"middle\">\n        <Col>\n          <MintAvatar mintAddress={mintAddress} size={36} />\n        </Col>\n        <Col>\n          <Space direction=\"vertical\" size={0}>\n            <Typography.Text>\n              <MintSymbol mintAddress={mintAddress} />\n            </Typography.Text>\n            <Typography.Text type=\"secondary\" className=\"caption\">\n              <MintName mintAddress={mintAddress} />\n            </Typography.Text>\n          </Space>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default MintCard\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\n\nexport const useAllMintAddresses = () => {\n  const [allMintAddresses, setAllMintAddresses] = useState<string[]>([])\n  const { tokenProvider } = useMint()\n\n  const getRecommendedMintAddresses = useCallback(async () => {\n    const allMintAddresses = (await tokenProvider.all()).map(\n      ({ address }) => address,\n    )\n    const addresses = allMintAddresses.filter((mintAddress) =>\n      allMintAddresses.includes(mintAddress),\n    )\n    return setAllMintAddresses(addresses)\n  }, [tokenProvider])\n\n  useEffect(() => {\n    getRecommendedMintAddresses()\n  }, [getRecommendedMintAddresses])\n\n  return allMintAddresses\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\n\nlet searching: NodeJS.Timeout\n\nexport const useSearchedMintAddresses = (keyword: string = '') => {\n  const [loading, setLoading] = useState(false)\n  const [searchedMintAddresses, setSearchedMintAddresses] = useState<\n    string[] | undefined\n  >()\n  const { tokenProvider } = useMint()\n\n  const getRecommendedMintAddresses = useCallback(async () => {\n    if (!keyword) {\n      setLoading(false)\n      return setSearchedMintAddresses(undefined)\n    }\n    if (searching) clearTimeout(searching)\n    setLoading(true)\n    searching = setTimeout(async () => {\n      const addresses = (await tokenProvider.find(keyword)).map(\n        ({ address }) => address,\n      )\n      setLoading(false)\n      return setSearchedMintAddresses(addresses)\n    }, 500)\n  }, [keyword, tokenProvider])\n\n  useEffect(() => {\n    getRecommendedMintAddresses()\n  }, [getRecommendedMintAddresses])\n\n  return { searchedMintAddresses, loading }\n}\n","import {\n  CSSProperties,\n  Fragment,\n  useCallback,\n  useEffect,\n  useState,\n} from 'react'\nimport LazyLoad, { forceCheck } from '@senswap/react-lazyload'\nimport { account } from '@senswap/sen-js'\n\nimport {\n  Button,\n  Col,\n  Divider,\n  Input,\n  Modal,\n  Row,\n  Space,\n  Typography,\n} from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport MintTag from './mintTag'\nimport MintCard from './mintCard'\n\nimport { useRecommendedMintAddresses } from './useRecommendedMintAddresses'\nimport { useSearchedMintAddresses } from './useSearchedMintAddresses'\nimport { useRandomMintAddresses } from './useRandomMintAddress'\n\nconst LIMIT = 50\n\nexport type MintSelectionProps = {\n  value: string\n  onChange: (value: string) => void\n  style?: CSSProperties\n}\n\nconst MintSelection = ({ value, onChange, style = {} }: MintSelectionProps) => {\n  const [visible, setVisible] = useState(false)\n  const [keyword, setKeyword] = useState('')\n  const recommendedMintAddresses = useRecommendedMintAddresses()\n  const { searchedMintAddresses, loading } = useSearchedMintAddresses(keyword)\n  const { randomHundredAddresses, refresh } = useRandomMintAddresses(LIMIT)\n\n  const onSelect = useCallback(\n    (mintAddress: string) => {\n      setVisible(false)\n      onChange(mintAddress)\n    },\n    [onChange],\n  )\n  const onRefresh = useCallback(() => {\n    const list = document.getElementById('sentre-token-selection-list')\n    if (list) list.scrollTop = 0\n    return refresh()\n  }, [refresh])\n\n  useEffect(() => {\n    forceCheck()\n  }, [searchedMintAddresses])\n\n  useEffect(() => {\n    if (!visible) setKeyword('')\n  }, [visible])\n\n  return (\n    <Fragment>\n      <Button\n        type=\"text\"\n        onClick={() => setVisible(true)}\n        style={{ padding: 4, ...style }}\n      >\n        <Space>\n          <MintAvatar mintAddress={value} />\n          <MintSymbol mintAddress={value} />\n          <IonIcon name=\"chevron-down-outline\" />\n        </Space>\n      </Button>\n      <Modal\n        visible={visible}\n        onCancel={() => setVisible(false)}\n        footer={null}\n        closeIcon={<IonIcon name=\"close-outline\" />}\n        centered\n        destroyOnClose\n      >\n        <Row gutter={[32, 32]}>\n          <Col span={24}>\n            <Typography.Title level={5} type=\"secondary\">\n              Token Selection\n            </Typography.Title>\n          </Col>\n          <Col span={24}>\n            <Input\n              placeholder=\"Search token symbol, name, address, ...\"\n              suffix={\n                <Button\n                  type=\"text\"\n                  style={{ marginRight: -7 }}\n                  icon={\n                    <IonIcon\n                      name={keyword ? 'close-outline' : 'search-outline'}\n                    />\n                  }\n                  onClick={keyword ? () => setKeyword('') : () => {}}\n                  loading={loading}\n                />\n              }\n              value={keyword}\n              onChange={(e) => setKeyword(e.target.value || '')}\n            />\n          </Col>\n          <Col span={24}>\n            <Row gutter={[8, 8]}>\n              {account.isAddress(value) ? (\n                <Col>\n                  <MintTag mintAddress={value} active />\n                </Col>\n              ) : null}\n              {recommendedMintAddresses\n                .filter((mintAddress) => mintAddress !== value)\n                .map((mintAddress) => (\n                  <Col key={mintAddress}>\n                    <MintTag mintAddress={mintAddress} onClick={onSelect} />\n                  </Col>\n                ))}\n            </Row>\n          </Col>\n          <Col span={24}>\n            <Row\n              gutter={[8, 8]}\n              style={{ maxHeight: 360 }}\n              className=\"scrollbar\"\n              id=\"sentre-token-selection-list\"\n            >\n              {(searchedMintAddresses || randomHundredAddresses).map(\n                (mintAddress) => (\n                  <Col span={24} key={mintAddress}>\n                    <LazyLoad height={60} overflow>\n                      <MintCard mintAddress={mintAddress} onClick={onSelect} />\n                    </LazyLoad>\n                  </Col>\n                ),\n              )}\n              {!searchedMintAddresses ? (\n                <Fragment>\n                  <Col span={24}>\n                    <Divider style={{ marginBottom: 0 }} />\n                  </Col>\n                  <Col span={24}>\n                    <Typography.Text type=\"secondary\" className=\"caption\">\n                      <IonIcon\n                        name=\"chatbox-ellipses-outline\"\n                        style={{ marginRight: 6 }}\n                      />\n                      This is the list of {LIMIT} random tokens while the full\n                      list is pretty longer. You can find your tokens by the\n                      search bar. Or{' '}\n                      <Typography.Link onClick={onRefresh}>\n                        Click here\n                      </Typography.Link>{' '}\n                      to refresh the current list.\n                    </Typography.Text>\n                  </Col>\n                </Fragment>\n              ) : null}\n            </Row>\n          </Col>\n        </Row>\n      </Modal>\n    </Fragment>\n  )\n}\n\nexport default MintSelection\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useAccount } from '@senhub/providers'\n\nimport { useAllMintAddresses } from './useAllMintAddresses'\n\nexport const useRecommendedMintAddresses = () => {\n  const [recommendedMintAddresses, setRecommendedMintAddresses] = useState<\n    string[]\n  >([])\n  const { accounts } = useAccount()\n  const allMintAddresses = useAllMintAddresses()\n\n  const myMintAddresses = useMemo(() => {\n    return Object.values(accounts)\n      .map(({ mint }) => mint)\n      .filter((mintAddress, index, self) => self.indexOf(mintAddress) === index)\n  }, [accounts])\n\n  const getRecommendedMintAddresses = useCallback(async () => {\n    const addresses = myMintAddresses.filter((mintAddress) =>\n      allMintAddresses.includes(mintAddress),\n    )\n    return setRecommendedMintAddresses(addresses)\n  }, [myMintAddresses, allMintAddresses])\n\n  useEffect(() => {\n    getRecommendedMintAddresses()\n  }, [getRecommendedMintAddresses])\n\n  return recommendedMintAddresses\n}\n","import { useCallback, useMemo, useState } from 'react'\n\nimport { useAllMintAddresses } from './useAllMintAddresses'\nimport { randElements } from 'shared/util'\n\nexport const useRandomMintAddresses = (limit: number = 0) => {\n  const [shuffle, setShuffle] = useState(0)\n  const allMintAddresses = useAllMintAddresses()\n\n  // A random limited list of tokens is to secure component performance\n  const randomHundredAddresses = useMemo(() => {\n    return randElements(allMintAddresses, limit + (shuffle - shuffle))\n  }, [allMintAddresses, shuffle, limit])\n\n  const refresh = useCallback(() => {\n    return setShuffle(shuffle + 1)\n  }, [shuffle])\n\n  return { randomHundredAddresses, refresh }\n}\n","import BN from 'bn.js'\n\nimport { Avatar, AvatarProps } from 'antd'\n\nimport gradients from './gradients.json'\n\nconst string2Number = (seed: string, limit: number) => {\n  const buf = Buffer.from(seed)\n  const index = new BN(buf).mod(new BN(limit))\n  return Number(index)\n}\n\nexport type GradientAvatarProps = { seed?: string; avatarProps?: AvatarProps }\n\nconst GradientAvatar = ({\n  seed = Math.random().toString(),\n  avatarProps = {},\n}: GradientAvatarProps) => {\n  const direction = string2Number(seed, 360)\n  const { name, colors } = gradients[string2Number(seed, gradients.length)]\n  return (\n    <Avatar\n      style={{\n        background: `linear-gradient(${direction}deg, ${colors.join(', ')})`,\n      }}\n      alt={name}\n      {...avatarProps}\n    />\n  )\n}\n\nexport default GradientAvatar\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { account } from '@senswap/sen-js'\nimport { utils } from '@project-serum/anchor'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\n/**\n * Interface & Utility\n */\n\nexport const SOCIAL_MEDIA = ['twitter', 'discord']\n\nconst getDefaultSocial = () => {\n  return SOCIAL_MEDIA.map(() => '')\n}\n\nexport const DEFAULT_META_DATA = {\n  address: '',\n  daoName: '',\n  description: '',\n  image: '',\n  optionals: getDefaultSocial(),\n  daoRegime: '',\n}\n\nexport type MetaData = {\n  daoName: string\n  description: string\n  image: string | ArrayBuffer | null\n  optionals: string[]\n  address: string\n  daoRegime: string\n}\nexport type MetaDataMember = { members: number }\nexport type DaoMetaDataState = Record<string, MetaDataMember>\nexport type MetaDataState = {\n  daoMetaData: DaoMetaDataState\n  createMetaData: MetaData\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'metadata'\nconst initialState: MetaDataState = {\n  daoMetaData: {},\n  createMetaData: DEFAULT_META_DATA,\n}\n\n/**\n * Actions\n */\n\nexport const getMember = createAsyncThunk<\n  Partial<MetaDataState>,\n  { daoAddress: string; force?: boolean },\n  { state: any }\n>(`${NAME}/getMember`, async ({ daoAddress, force }, { getState }) => {\n  if (!account.isAddress(daoAddress)) throw new Error('Invalid address')\n  const {\n    dao: {\n      daoData: {\n        [daoAddress]: { mint },\n      },\n    },\n    metadata: {\n      daoMetaData: { [daoAddress]: data },\n    },\n  } = getState()\n  const mintAddress = mint.toBase58()\n  if (!account.isAddress(mintAddress)) return {}\n  if (data && !force) return { [daoAddress]: data }\n  const {\n    provider: { connection },\n  } = interDao.program\n  const accounts = await connection.getProgramAccounts(\n    utils.token.TOKEN_PROGRAM_ID,\n    {\n      filters: [\n        { dataSize: 165 },\n        { memcmp: { bytes: mintAddress, offset: 0 } },\n      ],\n    },\n  )\n  return { daoMetaData: { [daoAddress]: { members: accounts.length } } }\n})\n\nexport const setCreateDaoMetaData = createAsyncThunk(\n  `${NAME}/setCreateDaoMetaData`,\n  async (metaData?: MetaData) => {\n    if (!metaData) return { createMetaData: DEFAULT_META_DATA }\n    return { createMetaData: metaData }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        getMember.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setCreateDaoMetaData.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { getMember, MetaData } from 'app/model/metadata.controller'\n\nconst useMembers = (daoAddress: string) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    metadata: { daoMetaData },\n    dao: { daoData },\n  } = useSelector((state: AppState) => state)\n\n  const { members } = useMemo(\n    () => daoMetaData[daoAddress] || ({} as MetaData),\n    [daoAddress, daoMetaData],\n  )\n  const isExistDao = useMemo(() => {\n    return !!Object.keys(daoData).length\n  }, [daoData])\n\n  useEffect(() => {\n    if (isExistDao && account.isAddress(daoAddress)) {\n      dispatch(getMember({ daoAddress }))\n    }\n  }, [dispatch, daoAddress, isExistDao])\n\n  return members || 0\n}\n\nexport default useMembers\n","import { CID } from 'ipfs-core'\nimport { DaoData } from '@interdao/core'\nimport IPFS from 'shared/pdb/ipfs'\n\nimport { DaoDataState } from 'app/model/dao.controller'\nimport { MetaData } from 'app/model/metadata.controller'\nimport PDB from 'shared/pdb'\nimport configs from 'app/configs'\nimport isEqual from 'react-fast-compare'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport const fileToBase64 = (\n  file: File,\n  callBack: (result: string | ArrayBuffer | null) => void,\n) => {\n  const reader = new FileReader()\n  reader.readAsDataURL(file)\n  reader.onload = async () => {\n    if (reader.result) callBack(reader.result)\n  }\n}\n\nexport const getCID = (digest: number[]) => {\n  const v0Prefix = new Uint8Array([18, 32])\n  const v0Digest = new Uint8Array(v0Prefix.length + digest?.length)\n  v0Digest.set(v0Prefix) // multicodec + length\n  v0Digest.set(digest, v0Prefix.length)\n  const cid = CID.decode(v0Digest)\n  return cid.toString()\n}\n\nexport const parseDaoData = async (\n  daoData: DaoDataState,\n): Promise<Record<string, DaoData & MetaData> | undefined> => {\n  try {\n    if (!daoData) throw new Error('Invalid Dao data!')\n    const results = await Promise.all(\n      Object.keys(daoData).map(async (daoAddr) => {\n        const data = await cacheDaoData(daoAddr, daoData[daoAddr])\n        return { [daoAddr]: data }\n      }),\n    )\n    const nextDaoData: Record<string, DaoData & MetaData> = {}\n    for (const rs of results) {\n      const daoAddr = Object.keys(rs)[0]\n      nextDaoData[daoAddr] = rs[daoAddr]\n    }\n    if (!nextDaoData) return\n    return nextDaoData\n  } catch (err) {\n    return\n  }\n}\n\nconst cacheDaoData = async (daoAddress: string, daoData: DaoData) => {\n  const wallet = window.sentre.wallet\n  if (!wallet) throw new Error('Please connect wallet!')\n\n  const ipfs = new IPFS()\n  const { metadata: digest } = daoData\n  const walletAddress = await wallet.getAddress()\n  const db = new PDB(walletAddress).createInstance(appId)\n  const dbDaoData = (await db.getItem(`interdao:${daoAddress}`)) as DaoData\n  const { metadata } = dbDaoData || ({} as DaoData)\n\n  if (!dbDaoData || (!!metadata && !isEqual(metadata, digest))) {\n    const { metadata, regime } = daoData\n    const cid = getCID(metadata)\n    const data = await ipfs.get(cid)\n    const daoRegime = Object.keys(regime)[0]\n    const dbData = { ...daoData, ...data, daoRegime, address: daoAddress }\n    await db.setItem(`interdao:${daoAddress}`, dbData)\n    return dbData\n  }\n  return dbDaoData\n}\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport IPFS from 'shared/pdb/ipfs'\n\nimport { MetaData } from 'app/model/metadata.controller'\nimport { AppState } from 'app/model'\nimport { getCID } from 'app/helpers'\n\nconst useMetaData = (daoAddress: string) => {\n  const {\n    dao: { daoData },\n  } = useSelector((state: AppState) => state)\n  const [metaData, setMetaData] = useState<MetaData>()\n  const { metadata: digest } = daoData?.[daoAddress] || {}\n\n  const getMetaData = useCallback(async () => {\n    if (!digest) return setMetaData(undefined)\n    const cid = getCID(digest)\n    const ipfs = new IPFS()\n    try {\n      const data = await ipfs.get(cid)\n      return setMetaData(data)\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    }\n  }, [digest])\n\n  useEffect(() => {\n    getMetaData()\n  }, [getMetaData])\n\n  return metaData\n}\n\nexport default useMetaData\n","import { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { DaoData } from '@interdao/core'\nimport { useUI } from '@senhub/providers'\n\nimport {\n  Avatar,\n  Button,\n  Card,\n  Col,\n  Image,\n  Row,\n  Space,\n  Tooltip,\n  Typography,\n} from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport StatisticCard from 'app/components/statisticCard'\nimport RegimeTag from 'app/components/regimeTag'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport GradientAvatar from 'app/components/gradientAvatar'\n\nimport { AppState } from 'app/model'\nimport { numeric, shortenAddress } from 'shared/util'\nimport useMembers from 'app/hooks/useMembers'\nimport useMetaData from 'app/hooks/useMetaData'\n\nimport autonomous from 'app/static/images/system/bg-autonomous.png'\nimport democratic from 'app/static/images/system/bg-democratic.png'\nimport dictatorial from 'app/static/images/system/bg-dictatorial.png'\n\nexport type DaoCardProps = { daoAddress: string; special?: boolean }\nexport type DaoCardBackground = 'autonomous' | 'democratic' | 'dictatorial'\nconst DAO_CARD_BG = {\n  autonomous,\n  democratic,\n  dictatorial,\n}\nconst PAGE_PADDING = 24\nconst HEIGHT_RATIO = 1.777777\nconst MAX_WIDTH_RATE = 24 / 18 // full screen is 24 col, max width is 18 col\n\nconst DaoCard = ({ daoAddress, special }: DaoCardProps) => {\n  const {\n    dao: { daoData },\n  } = useSelector((state: AppState) => state)\n  const history = useHistory()\n  const {\n    ui: { width },\n  } = useUI()\n\n  const { regime, nonce, mint } = daoData?.[daoAddress] || ({} as DaoData)\n  const members = useMembers(daoAddress)\n  const metaData = useMetaData(daoAddress)\n  const parseRegime = Object.keys(regime)?.[0]\n  const isMobile = width < 768\n  const desktopWidth = width > 992 ? width / MAX_WIDTH_RATE : width\n  const heightRatio = isMobile ? HEIGHT_RATIO : HEIGHT_RATIO * 2\n\n  return (\n    <Row\n      gutter={[0, 0]}\n      className=\"dao-card-wrapper\"\n      onClick={() => history.push(`dao/${daoAddress}`)}\n    >\n      <Col\n        span={24}\n        className=\"dao-card-img\"\n        style={{\n          height: !isMobile\n            ? (desktopWidth - PAGE_PADDING * 2) / heightRatio\n            : (width - PAGE_PADDING) / heightRatio,\n        }}\n      >\n        <Image\n          preview={false}\n          src={DAO_CARD_BG[parseRegime as DaoCardBackground]}\n        />\n      </Col>\n      <Col span={24}>\n        <Card bordered={false}>\n          <Row gutter={[20, 20]}>\n            <Col span={24}>\n              <Row gutter={[16, 16]} wrap={false}>\n                <Col>\n                  {!metaData?.image ? (\n                    <GradientAvatar\n                      seed={daoAddress}\n                      avatarProps={{ shape: 'square', size: 56 }}\n                    />\n                  ) : (\n                    <Avatar shape=\"square\" size={56} src={metaData?.image} />\n                  )}\n                </Col>\n                <Col flex=\"auto\" style={{ maxWidth: 'calc(100% - 160px)' }}>\n                  <Space direction=\"vertical\" size={0}>\n                    <Tooltip\n                      title={metaData?.daoName ? metaData.daoName : daoAddress}\n                    >\n                      <Typography.Title level={4} ellipsis={{ rows: 2 }}>\n                        {metaData?.daoName\n                          ? metaData.daoName\n                          : shortenAddress(daoAddress)}\n                      </Typography.Title>\n                    </Tooltip>\n                    <Space size={2} style={{ marginLeft: -8 }}>\n                      <Button\n                        type=\"text\"\n                        icon={<IonIcon name=\"logo-discord\" />}\n                      />\n                      <Button\n                        type=\"text\"\n                        icon={<IonIcon name=\"logo-twitter\" />}\n                      />\n                      <Button\n                        type=\"text\"\n                        icon={<IonIcon name=\"logo-telegram\" />}\n                      />\n                    </Space>\n                  </Space>\n                </Col>\n              </Row>\n            </Col>\n            <Col span={24}>\n              <Row gutter={[16, 16]}>\n                <Col span={8}>\n                  <StatisticCard\n                    title=\"Token\"\n                    value={\n                      <Space>\n                        <MintAvatar mintAddress={mint.toBase58()} />\n                        <MintSymbol mintAddress={mint.toBase58()} />\n                      </Space>\n                    }\n                  />\n                </Col>\n                <Col span={8}>\n                  <StatisticCard\n                    title=\"Proposals\"\n                    value={numeric(Number(nonce)).format('0,0')}\n                  />\n                </Col>\n                <Col span={8}>\n                  <StatisticCard\n                    title=\"Members\"\n                    value={numeric(members).format('0,0')}\n                  />\n                </Col>\n              </Row>\n            </Col>\n            <Col span={24} style={{ minHeight: 66 }}>\n              <Typography.Paragraph\n                style={{ margin: 0 }}\n                type=\"secondary\"\n                ellipsis={{ rows: 3 }}\n              >\n                {metaData?.description}\n              </Typography.Paragraph>\n            </Col>\n            <Col className=\"regmie-tag-wrapper\">\n              <RegimeTag regime={regime} special />\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DaoCard\n","import { Button, Input, Spin } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport { LoadingOutlined } from '@ant-design/icons'\n\ntype SearchDaoProps = {\n  onSearch: (keyword: string) => void\n  loading?: boolean\n}\n\nconst SearchDao = ({ onSearch, loading = false }: SearchDaoProps) => {\n  return (\n    <Input\n      prefix={\n        <Button\n          type=\"text\"\n          size=\"small\"\n          icon={\n            loading ? (\n              <Spin indicator={<LoadingOutlined style={{ fontSize: 14 }} />} />\n            ) : (\n              <IonIcon name=\"search-outline\" />\n            )\n          }\n        />\n      }\n      placeholder=\"Search by name, address\"\n      style={{ width: '100%' }}\n      onChange={(e) => onSearch(e.target.value)}\n    />\n  )\n}\nexport default SearchDao\n","import isEqual from 'react-fast-compare'\nimport { DaoRegime } from '@interdao/core'\n\nimport { Card, Image, Typography } from 'antd'\n\nimport autonomous from 'app/static/images/system/bg-autonomous.png'\nimport democratic from 'app/static/images/system/bg-democratic.png'\nimport dictatorial from 'app/static/images/system/bg-dictatorial.png'\nimport { DaoCardBackground } from '../../daoList/daoCard'\n\nconst DAO_CARD_BG = {\n  autonomous,\n  democratic,\n  dictatorial,\n}\n\nconst CardRegmie = ({\n  value,\n  regmie,\n  onChange = () => {},\n}: {\n  value?: DaoRegime\n  regmie: DaoRegime\n  onChange?: (regmie: DaoRegime) => void\n}) => {\n  return (\n    <Card\n      bordered={false}\n      style={{ overflow: 'hidden', cursor: 'pointer' }}\n      bodyStyle={{ padding: 0 }}\n      onClick={() => onChange(regmie)}\n      className={`card-regime ${isEqual(value, regmie) ? 'active' : ''}`}\n    >\n      <Image\n        src={DAO_CARD_BG[Object.keys(regmie)[0] as DaoCardBackground]}\n        preview={false}\n      />\n      <Typography.Text\n        style={{\n          position: 'absolute',\n          bottom: 0,\n          left: 0,\n          textAlign: 'center',\n          width: '100%',\n          padding: 4,\n          backdropFilter: 'blur(4px)',\n          color: '#fff',\n          textTransform: 'capitalize',\n          fontWeight: 400,\n        }}\n      >\n        {Object.keys(regmie)[0]}\n      </Typography.Text>\n    </Card>\n  )\n}\n\nexport default CardRegmie\n","import { DaoRegime, DaoRegimes } from '@interdao/core'\n\nimport { Button, Row, Col, Space, Typography, Popover } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport CardRegmie from './cardRegmie'\n\nexport type RegimeInputProps = {\n  value: DaoRegime\n  onChange: (value: DaoRegime) => void\n}\n\nexport const REGIME_LIST = [\n  DaoRegimes.Dictatorial,\n  DaoRegimes.Democratic,\n  DaoRegimes.Autonomous,\n]\n\nconst RegimeInput = ({\n  value = DaoRegimes.Dictatorial,\n  onChange = () => {},\n}: RegimeInputProps) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Space>\n          <Typography.Text>DAO Regime</Typography.Text>\n          <Popover\n            overlayStyle={{ maxWidth: 300 }}\n            trigger=\"click\"\n            content={\n              <Row gutter={[16, 16]}>\n                <Col span={24}>\n                  <Typography.Title level={5}>\n                    What is DAO Regime?\n                  </Typography.Title>\n                </Col>\n                <Col span={24}>\n                  <Space direction=\"vertical\">\n                    <Typography.Text>\n                      <strong>Dictatorial.</strong> Only DAO owner can create\n                      and execute proposals.\n                    </Typography.Text>\n                    <Typography.Text>\n                      <strong>Democratic.</strong> Community can create\n                      proposals, DAO owner execute proposals.\n                    </Typography.Text>\n                    <Typography.Text>\n                      <strong>Autonomous.</strong> Community can create and\n                      execute proposals.\n                    </Typography.Text>\n                  </Space>\n                </Col>\n              </Row>\n            }\n          >\n            <Button\n              type=\"text\"\n              size=\"small\"\n              icon={<IonIcon name=\"information-circle-outline\" />}\n            />\n          </Popover>\n        </Space>\n      </Col>\n      {REGIME_LIST.map((regmie, idx) => (\n        <Col xs={24} md={8} key={idx}>\n          <CardRegmie value={value} regmie={regmie} onChange={onChange} />\n        </Col>\n      ))}\n    </Row>\n  )\n}\n\nexport default RegimeInput\n","import { Select } from 'antd'\nimport { REGIME_LIST } from '../daoInitialization/daoRule/regimeInput'\n\ntype SortDaoProps = { value: string; onSort: (value: string) => void }\n\nconst SortDao = ({ onSort, value }: SortDaoProps) => {\n  return (\n    <Select\n      value={value}\n      style={{ textTransform: 'capitalize', width: '100%' }}\n      onChange={onSort}\n    >\n      <Select.Option value=\"all-regime\">All mechanisms</Select.Option>\n      {REGIME_LIST.map((regime, idx) => {\n        const value = Object.keys(regime)[0]\n        return (\n          <Select.Option\n            key={idx}\n            value={value}\n            style={{ textTransform: 'capitalize' }}\n          >\n            {value}\n          </Select.Option>\n        )\n      })}\n    </Select>\n  )\n}\n\nexport default SortDao\n","import lunr, { Index } from 'lunr'\n\nimport { DaoData } from '@interdao/core'\nimport { MetaData } from 'app/model/metadata.controller'\n\ntype SearchDataType = DaoData & MetaData\ntype RegisterDaoData = Record<string, SearchDataType>\nclass DaoProvider {\n  private daoMap: Map<string, SearchDataType>\n  private engine: Index | undefined\n  register: RegisterDaoData\n\n  constructor(register: RegisterDaoData) {\n    this.register = register\n    this.daoMap = new Map<string, SearchDataType>()\n    this.engine = lunr(function () {\n      this.ref('address')\n      this.field('address')\n      this.field('daoName')\n      this.field('description')\n      this.field('daoRegime')\n      Object.keys(register).forEach((address: string) => {\n        const doc = register[address]\n        if (doc) this.add(doc)\n      })\n    })\n    // build dao map\n    this._setDaoMap()\n  }\n\n  private _setDaoMap = async (): Promise<[Map<string, SearchDataType>]> => {\n    Object.keys(this.register).forEach((daoAddress) =>\n      this.daoMap.set(daoAddress, this.register[daoAddress]),\n    )\n    return [this.daoMap]\n  }\n\n  all = async (): Promise<SearchDataType[]> => {\n    const [daoMap] = await this._setDaoMap()\n    return Array.from(daoMap.values())\n  }\n\n  findByAddress = async (addr: string): Promise<string[] | undefined> => {\n    const [daoMap] = await this._setDaoMap()\n    if (daoMap.has(addr)) return [addr]\n    return\n  }\n\n  find = async (keyword: string, limit = 10): Promise<string[] | undefined> => {\n    const [daoMap] = await this._setDaoMap()\n    const engine = this.engine\n    if (!engine) return\n\n    let daos: SearchDataType[] = []\n    if (!keyword) return\n\n    const fuzzy = keyword + '~2'\n    engine.search(fuzzy).forEach(({ ref }) => {\n      if (daos.findIndex(({ mint }) => mint.toString() === ref) < 0) {\n        const dao = daoMap.get(ref)\n        if (dao) daos.push(dao)\n      }\n    })\n    const nextDaos: string[] = []\n    daos.slice(0, limit).forEach((dao) => {\n      if (dao.address) nextDaos.push(dao.address)\n    })\n    return nextDaos\n  }\n}\n\nexport default DaoProvider\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { DaoData } from '@interdao/core'\n\nimport { parseDaoData } from 'app/helpers'\nimport { AppState } from 'app/model'\nimport { MetaData } from 'app/model/metadata.controller'\nimport DaoProvider from 'app/view/dao/daoList/search/daoProvider'\nimport { DaoDataState } from 'app/model/dao.controller'\n\nconst useSearchDao = (keyword?: string, data?: DaoDataState) => {\n  const [parseData, setParseData] = useState<\n    Record<string, DaoData & MetaData> | undefined\n  >()\n  const [searchData, setSearchData] = useState<string[]>()\n  const [loading, setLoading] = useState(false)\n  const {\n    dao: { daoData },\n  } = useSelector((state: AppState) => state)\n\n  const daoProvider = useMemo(() => {\n    if (!parseData) return\n    return new DaoProvider(parseData)\n  }, [parseData])\n\n  const onParseDaoData = useCallback(async () => {\n    let parseData: Record<string, DaoData & MetaData> | undefined = undefined\n    if (data) parseData = await parseDaoData(data)\n    else parseData = await parseDaoData(daoData)\n    setParseData(parseData)\n  }, [daoData, data])\n\n  const onSearch = useCallback(async () => {\n    if (\n      !keyword ||\n      keyword.length < 3 ||\n      !daoProvider ||\n      keyword === 'all-regime'\n    )\n      return setSearchData(undefined)\n    try {\n      if (account.isAddress(keyword)) {\n        const data = await daoProvider.findByAddress(keyword)\n        return setSearchData(data)\n      }\n      const data = await daoProvider.find(keyword)\n      return setSearchData(data)\n    } catch (err) {\n      setSearchData(undefined)\n    }\n  }, [daoProvider, keyword])\n\n  useEffect(() => {\n    onParseDaoData()\n  }, [onParseDaoData])\n\n  useEffect(() => {\n    if (keyword && keyword.length >= 3) setLoading(true)\n    const delayToSearch = setTimeout(async () => {\n      //  delay to waiting keyboard typing\n      await onSearch()\n      setLoading(false)\n    }, 500)\n    return () => clearTimeout(delayToSearch)\n  }, [keyword, onSearch])\n\n  return { searchData, loading }\n}\n\nexport default useSearchDao\n","import { useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport LazyLoad from '@senswap/react-lazyload'\nimport { DaoData } from '@interdao/core'\n\nimport { Col, Empty, Row } from 'antd'\nimport DaoCard from './daoCard'\nimport SearchDao from './search'\nimport SortDao from './sortDao'\n\nimport { AppState } from 'app/model'\nimport useSearchDao from 'app/hooks/useSearchDao'\nimport { useUI } from '@senhub/providers'\n\nimport './index.less'\n\nconst DaoList = () => {\n  const [sortKey, setSortKey] = useState('all-regime')\n  const [searchKey, setSearchKey] = useState('')\n  const {\n    dao: { daoData },\n  } = useSelector((state: AppState) => state)\n  const {\n    ui: { infix },\n  } = useUI()\n  const { searchData: sortDaoRegime } = useSearchDao(sortKey)\n  const filterDaoData = useMemo(() => {\n    if (!sortDaoRegime) return\n    const data: Record<string, DaoData> = {}\n    sortDaoRegime.forEach((daoAddr) => (data[daoAddr] = daoData[daoAddr]))\n    return data\n  }, [daoData, sortDaoRegime])\n  const { searchData: searchDao, loading } = useSearchDao(\n    searchKey,\n    filterDaoData,\n  )\n\n  const searchData =\n    !searchKey || searchKey.length < 3 ? sortDaoRegime : searchDao\n\n  const spanMobile = infix === 'xs' ? 12 : undefined\n\n  return (\n    <Row gutter={[24, 16]}>\n      <Col xs={24} md={12}>\n        <Row gutter={[24, 24]}>\n          <Col span={spanMobile}>\n            <SortDao onSort={setSortKey} value={sortKey} />\n          </Col>\n          <Col span={spanMobile} flex=\"auto\">\n            <SearchDao onSearch={setSearchKey} loading={loading} />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24} />\n      {searchKey.length >= 3 && (!searchDao || !searchDao.length) ? (\n        <Col span={24} style={{ textAlign: 'center' }}>\n          <Empty />\n        </Col>\n      ) : (\n        (searchData || Object.keys(daoData)).map((daoAddress) => (\n          <Col key={daoAddress} xs={24} md={12}>\n            <LazyLoad height={479.75}>\n              <DaoCard daoAddress={daoAddress} special />\n            </LazyLoad>\n          </Col>\n        ))\n      )}\n    </Row>\n  )\n}\n\nexport default DaoList\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport LazyLoad from '@senswap/react-lazyload'\nimport { useWallet } from '@senhub/providers'\nimport { account } from '@senswap/sen-js'\nimport { DaoData } from '@interdao/core'\n\nimport { Button, Card, Col, Row, Space, Typography } from 'antd'\nimport DaoCard from './daoCard'\n\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst YourDaos = () => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const {\n    dao: { daoData },\n  } = useSelector((state: AppState) => state)\n  const history = useHistory()\n\n  const filteredDaos = useMemo(\n    () =>\n      Object.keys(daoData).filter((daoAddr) => {\n        const { authority } = daoData[daoAddr] || ({} as DaoData)\n        const authAddress = authority.toBase58()\n        return account.isAddress(authAddress) && authAddress === walletAddress\n      }),\n    [daoData, walletAddress],\n  )\n\n  if (!!filteredDaos.length)\n    return (\n      <Row gutter={[24, 24]}>\n        {filteredDaos.map((daoAddress) => (\n          <Col span={12} key={daoAddress}>\n            <LazyLoad height={191.5}>\n              <DaoCard daoAddress={daoAddress} />\n            </LazyLoad>\n          </Col>\n        ))}\n      </Row>\n    )\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Card bordered={false} bodyStyle={{ padding: 45, textAlign: 'center' }}>\n          <Space direction=\"vertical\" align=\"center\">\n            <Typography.Text type=\"secondary\">\n              You have no DAO yet!\n            </Typography.Text>\n            <Button onClick={() => history.push(`/app/${appId}/dao/new-dao`)}>\n              Build your DAO\n            </Button>\n          </Space>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default YourDaos\n","import { useHistory } from 'react-router-dom'\n\nimport { Row, Col, Button, Tabs } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport Hero from './hero'\nimport DaoList from './daoList'\nimport YourDaos from './daoList/yourDao'\n\nimport configs from 'app/configs'\n\nimport './index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst Dao = () => {\n  const history = useHistory()\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Hero />\n      </Col>\n      <Col span={24}>\n        <Row justify=\"center\">\n          <Col xs={24} lg={18}>\n            <Tabs\n              style={{ overflow: 'visible' }}\n              className=\"dao-tabs\"\n              tabBarExtraContent={\n                <Button\n                  type=\"primary\"\n                  onClick={() => history.push(`/app/${appId}/dao/new-dao`)}\n                  icon={<IonIcon name=\"add-outline\" />}\n                >\n                  Create a DAO\n                </Button>\n              }\n            >\n              <Tabs.TabPane tab=\"Community DAOs\" key=\"community-daos\">\n                <DaoList />\n              </Tabs.TabPane>\n              <Tabs.TabPane tab=\"Your DAOs\" key=\"your-daos\">\n                <YourDaos />\n              </Tabs.TabPane>\n            </Tabs>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Dao\n","import { Tag } from 'antd'\n\nexport type ProposalStatusType =\n  | 'Failed'\n  | 'Voting'\n  | 'Preparing'\n  | 'Succeeded'\n  | 'Executed'\n\nexport type ProposalStatusProps = {\n  status: ProposalStatusType\n}\n\nconst STATUS_COLOR: Record<string, string> = {\n  Succeeded: '#0CA1BF',\n  Failed: '#F9575E',\n  Preparing: '#D4B106',\n  Executed: '#03A326',\n  Voting: '#40A9FF',\n}\n\nconst ProposalStatus = ({ status }: ProposalStatusProps) => {\n  return (\n    <Tag\n      style={{ color: STATUS_COLOR[status], border: 'solid', margin: 0 }}\n      color={'transparent'}\n    >\n      {status}\n    </Tag>\n  )\n}\n\nexport default ProposalStatus\n","import { useMemo } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { AppState } from 'app/model'\nimport { ProposalStatusType } from 'app/components/proposalStatus'\n\nconst currentDate = Math.floor(Number(new Date()) / 1000)\n\nconst useProposalStatus = (proposalAddress: string) => {\n  const { proposal } = useSelector((state: AppState) => state)\n  const {\n    startDate,\n    endDate,\n    executed,\n    supply,\n    votingAgainstPower,\n    votingForPower,\n    consensusQuorum,\n    consensusMechanism,\n  } = proposal[proposalAddress] || {}\n\n  const actualSupply = useMemo(() => {\n    if (!supply) return 0\n    const mechanism = consensusMechanism\n      ? Object.keys(consensusMechanism)[0]\n      : ''\n    if (mechanism === 'StakedTokenCounter') return supply.toNumber()\n    return Number(supply) * (Number(endDate) - Number(startDate))\n  }, [consensusMechanism, endDate, startDate, supply])\n\n  const isSuccess = useMemo(() => {\n    const quorum = consensusQuorum ? Object.keys(consensusQuorum)[0] : ''\n\n    const votingPower = Number(votingForPower) - Number(votingAgainstPower)\n    if (votingPower <= 0) return false\n    if (quorum === 'half' && votingPower > actualSupply / 2) return true\n    if (quorum === 'oneThird' && votingPower > actualSupply / 3) return true\n    if (quorum === 'twoThird' && votingPower > (actualSupply * 2) / 3)\n      return true\n    return false\n  }, [actualSupply, consensusQuorum, votingAgainstPower, votingForPower])\n\n  const status: ProposalStatusType = useMemo(() => {\n    if (currentDate < Number(startDate)) return 'Preparing'\n    if (currentDate < Number(endDate)) return 'Voting'\n    if (executed) return 'Executed'\n    if (isSuccess) return 'Succeeded'\n    return 'Failed'\n  }, [endDate, executed, isSuccess, startDate])\n\n  return { status, isSuccess, actualSupply }\n}\n\nexport default useProposalStatus\n","import { useCallback, useEffect, useState } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport { AppState } from 'app/model'\nimport { getCID } from 'app/helpers'\nimport { ProposalMetaData } from 'app/view/proposal/proposalInitialization'\nimport IPFS from 'shared/pdb/ipfs'\n\nconst useProposalMetaData = (proposalAddress: string) => {\n  const [metaData, setMetaData] = useState<ProposalMetaData>()\n  const { proposal } = useSelector((state: AppState) => state)\n  const { metadata: digest } = proposal[proposalAddress] || {}\n\n  const getMetaData = useCallback(async () => {\n    if (!digest) return setMetaData(undefined)\n    const cid = getCID(digest)\n    const ipfs = new IPFS()\n    try {\n      const data = await ipfs.get(cid)\n      return setMetaData(data)\n    } catch (er: any) {\n      return window.notify({ type: 'error', description: er.message })\n    }\n  }, [digest])\n\n  useEffect(() => {\n    getMetaData()\n  }, [getMetaData])\n\n  return metaData\n}\n\nexport default useProposalMetaData\n","import { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { SystemProgram } from '@solana/web3.js'\nimport moment from 'moment'\nimport BN from 'bn.js'\n\nimport { Card, Col, Row, Space, Typography } from 'antd'\nimport ProposalStatus from 'app/components/proposalStatus'\n\nimport { shortenAddress } from 'shared/util'\nimport { AppState } from 'app/model'\nimport configs from 'app/configs'\nimport useProposalStatus from 'app/hooks/useProposalStatus'\nimport useProposalMetaData from 'app/hooks/useProposalMetaData'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport type ProposalCardProps = { proposalAddress: string }\n\nconst currentDate = Math.floor(Number(new Date()) / 1000)\n\nconst ProposalCard = ({ proposalAddress }: ProposalCardProps) => {\n  const { proposal } = useSelector((state: AppState) => state)\n  const { dao, endDate } = proposal[proposalAddress] || {\n    dao: SystemProgram.programId,\n    endDate: new BN(currentDate),\n  }\n  const { status } = useProposalStatus(proposalAddress)\n  const history = useHistory()\n  const metaData = useProposalMetaData(proposalAddress)\n\n  return (\n    <Card\n      bordered={false}\n      onClick={() =>\n        history.push(\n          `/app/${appId}/dao/${dao.toBase58()}/proposal/${proposalAddress}`,\n        )\n      }\n      className=\"proposal-card\"\n      style={{ background: `url(${metaData?.imageBackground})` }}\n      bodyStyle={{ padding: '24px 0' }}\n      hoverable\n    >\n      <Row gutter={[8, 8]}>\n        <Col span={24}>\n          <Row>\n            <Col flex=\"auto\">\n              <Typography.Title level={4}>\n                {metaData?.title\n                  ? metaData.title\n                  : shortenAddress(proposalAddress)}\n              </Typography.Title>\n            </Col>\n            <Col>\n              <ProposalStatus status={status} />\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Space>\n            <Typography.Text className=\"caption\" type=\"secondary\">\n              End Date:\n            </Typography.Text>\n            <Typography.Text className=\"caption\">\n              {moment(Number(endDate) * 1000).format('hh:mm A, MMM Do, YYYY')}\n            </Typography.Text>\n          </Space>\n        </Col>\n        <Col span={24}>\n          <Typography.Paragraph type=\"secondary\" ellipsis={{ rows: 2 }}>\n            {metaData?.description}\n          </Typography.Paragraph>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default ProposalCard\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\n\n/**\n * Get token decimals from multiple resources. This hook needs MintProvider for working.\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * @param mintAddress Mint address\n * @returns Decimals\n */\nconst useMintDecimals = (mintAddress: string) => {\n  const [decimals, setDecimals] = useState<number | undefined>(undefined)\n  const { getDecimals } = useMint()\n\n  const fetchDecimals = useCallback(async () => {\n    try {\n      const decimals = await getDecimals(mintAddress)\n      return setDecimals(decimals)\n    } catch (er: any) {\n      return setDecimals(undefined)\n    }\n  }, [mintAddress, getDecimals])\n\n  useEffect(() => {\n    fetchDecimals()\n  }, [fetchDecimals])\n\n  return decimals\n}\n\nexport default useMintDecimals\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\nimport { ProposalReturnType } from 'app/view/templates/types'\n\n/**\n * Interface & Utility\n */\n\nexport type TemplateState = {\n  visible: boolean\n  tx?: ProposalReturnType\n  imageBackground: string\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'template'\nconst initialState: TemplateState = {\n  visible: false,\n  tx: undefined,\n  imageBackground: '',\n}\n\n/**\n * Actions\n */\n\nexport const setVisible = createAsyncThunk(\n  `${NAME}/setVisible`,\n  async (visible: boolean) => {\n    return { visible }\n  },\n)\n\nexport const setTx = createAsyncThunk(\n  `${NAME}/setTx`,\n  async (tx?: ProposalReturnType) => {\n    return { tx }\n  },\n)\n\nexport const clearTx = createAsyncThunk(`${NAME}/clearTx`, async () => {\n  return { tx: undefined }\n})\n\nexport const setImgBackground = createAsyncThunk(\n  `${NAME}/setImgBackground`,\n  async (image: string) => {\n    return { imageBackground: image }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        setVisible.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setTx.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setImgBackground.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        clearTx.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { ChangeEvent, useState, forwardRef, useCallback, useRef } from 'react'\n\nimport { Input, Tooltip, Space, InputProps } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nlet timeoutId: ReturnType<typeof setTimeout> | undefined\n\n/**\n * Numeric Input\n * - Check balance based on the max\n * - Only accept numeric characters\n * @remarks The props of input follows the same as https://ant.design/components/input/#API. Extra & Overrided props\n * @param max - Maximum\n * @param onValue - A triggerred function if a valid number\n */\nconst NumericInput = forwardRef(\n  (\n    {\n      max,\n      onValue = () => {},\n      onChange = () => {},\n      ...props\n    }: InputProps & {\n      onValue?: (val: string) => void\n      max?: string | number\n    },\n    ref: any,\n  ) => {\n    const [error, setError] = useState('')\n    const [cursor, setCursor] = useState<number | null>(null)\n    const innerRef = useRef(ref)\n\n    // Handle amount\n    const onAmount = useCallback(\n      (val: string) => {\n        const onError = (er: string) => {\n          if (timeoutId) {\n            clearTimeout(timeoutId)\n            timeoutId = undefined\n          }\n          setError(er)\n          timeoutId = setTimeout(() => setError(''), 500)\n        }\n        const reg = /^\\d*(\\.\\d*)?$/\n        if (!reg.test(val)) return onError('Invalid character')\n        if (max && parseFloat(val) > parseFloat(max.toString()))\n          return onError('Not enough balance')\n        return onValue(val)\n      },\n      [max, onValue],\n    )\n\n    // Handle cursor jumping\n    // To prevent autofocus on mobile, we must strictly check cursor different from null\n    if (cursor !== null) innerRef?.current?.setSelectionRange(cursor, cursor)\n\n    return (\n      <Tooltip\n        title={\n          <Space>\n            <IonIcon name=\"warning\" />\n            {error}\n          </Space>\n        }\n        visible={!!error}\n      >\n        <Input\n          {...props}\n          onChange={(e: ChangeEvent<HTMLInputElement>) => {\n            onChange(e)\n            setCursor(e.target.selectionStart)\n            onAmount(e.target.value || '')\n          }}\n          ref={innerRef}\n        />\n      </Tooltip>\n    )\n  },\n)\n\nexport default NumericInput\n","import { useCallback, useState, useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { PublicKey } from '@solana/web3.js'\nimport { utils } from '@project-serum/anchor'\nimport BN from 'bn.js'\n// @ts-ignore\nimport * as soproxABI from 'soprox-abi'\nimport { account } from '@senswap/sen-js'\n\nimport { Button, Col, Input, Row, Space, Typography } from 'antd'\nimport { MintSelection } from 'shared/antd/mint'\n\nimport { ProposalReturnType } from 'app/view/templates/types'\nimport { AppDispatch, AppState } from 'app/model'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport {\n  setImgBackground,\n  setTx,\n  setVisible,\n} from 'app/model/template.controller'\nimport configs from 'app/configs'\nimport BG_SOLANA from 'app/static/images/templates/bg-spl.png'\nimport NumericInput from 'shared/antd/numericInput'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport const NAME = 'spl/transfer'\n\nexport const toData = (amount = new BN(0)) => {\n  const schema = [\n    { key: 'code', type: 'u8' },\n    { key: 'amount', type: 'u64' },\n  ]\n  const buf = new soproxABI.struct(schema, {\n    code: 3,\n    amount: BigInt(amount.toString()),\n  }).toBuffer()\n  return buf\n}\n\nexport const buildTransferSplvalue = (\n  amount: string | number | BN,\n  src: string,\n  dst: string,\n  payer: string,\n) => {\n  const value: ProposalReturnType = {\n    name: NAME,\n    data: toData(new BN(amount)),\n    accounts: {\n      src: {\n        pubkey: new PublicKey(src),\n        isWritable: true,\n        isSigner: false,\n        isMaster: false,\n      },\n      dst: {\n        pubkey: new PublicKey(dst),\n        isWritable: true,\n        isSigner: false,\n        isMaster: false,\n      },\n      payer: {\n        pubkey: new PublicKey(payer),\n        isWritable: true,\n        isSigner: true,\n        isMaster: true,\n      },\n    },\n    programId: utils.token.TOKEN_PROGRAM_ID,\n  }\n  return value\n}\n\ntype TransferSplPluginProps = {\n  daoAddress: string\n}\n\nconst TransferSplPlugin = ({ daoAddress = '' }: TransferSplPluginProps) => {\n  const [value, setValue] = useState('')\n  const [mintAddress, setMintAddress] = useState('')\n  const [receiverAddress, setReceiverAddress] = useState('')\n  const [srcAddress, setSrcAddress] = useState('')\n  const [dstAddress, setDstAddress] = useState('')\n\n  const [amount, setAmount] = useState('')\n  const {\n    dao: { daoData },\n  } = useSelector((state: AppState) => state)\n  const decimals = useMintDecimals(mintAddress)\n  const dispatch = useDispatch<AppDispatch>()\n  const history = useHistory()\n  const senderAddress = useMemo(() => {\n    const { master } = daoData[daoAddress] || {}\n    return master?.toBase58() || ''\n  }, [daoData, daoAddress])\n\n  const valid = useMemo(() => {\n    return Boolean(\n      amount && account.isAddress(srcAddress) && account.isAddress(dstAddress),\n    )\n  }, [amount, srcAddress, dstAddress])\n\n  const confirm = useCallback(async () => {\n    if (!valid) return dispatch(setTx(undefined))\n    const re = buildTransferSplvalue(\n      amount,\n      srcAddress,\n      dstAddress,\n      senderAddress,\n    )\n\n    await dispatch(setTx(re))\n    await dispatch(setImgBackground(BG_SOLANA))\n    await dispatch(setVisible(false))\n    return history.push(`/app/${appId}/dao/${daoAddress}/new-proposal`)\n  }, [\n    valid,\n    dispatch,\n    amount,\n    srcAddress,\n    dstAddress,\n    senderAddress,\n    history,\n    daoAddress,\n  ])\n\n  const close = useCallback(async () => {\n    setValue('')\n    setMintAddress('')\n    setReceiverAddress('')\n    await dispatch(setTx(undefined))\n    return dispatch(setVisible(false))\n  }, [dispatch])\n\n  const setSourceAddress = useCallback(async () => {\n    if (account.isAddress(senderAddress) && account.isAddress(mintAddress)) {\n      const pubkey = await utils.token.associatedAddress({\n        owner: new PublicKey(senderAddress),\n        mint: new PublicKey(mintAddress),\n      })\n      setSrcAddress(pubkey.toBase58())\n    } else setSrcAddress('')\n  }, [mintAddress, senderAddress])\n\n  const setDestinationAddress = useCallback(async () => {\n    if (account.isAddress(receiverAddress) && account.isAddress(mintAddress)) {\n      const pubkey = await utils.token.associatedAddress({\n        owner: new PublicKey(receiverAddress),\n        mint: new PublicKey(mintAddress),\n      })\n      setDstAddress(pubkey.toBase58())\n    } else setDstAddress('')\n  }, [mintAddress, receiverAddress])\n\n  const getAmount = useCallback(() => {\n    if (Number(value) && decimals)\n      setAmount(String(Number(value) * 10 ** decimals))\n    else setAmount('')\n  }, [decimals, value])\n\n  useEffect(() => {\n    setSourceAddress()\n  }, [setSourceAddress])\n\n  useEffect(() => {\n    setDestinationAddress()\n  }, [setDestinationAddress])\n\n  useEffect(() => {\n    getAmount()\n  }, [getAmount])\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Space direction=\"vertical\" size={4} style={{ width: '100%' }}>\n          <Typography.Text type=\"secondary\">Transfer</Typography.Text>\n          <NumericInput\n            className=\"border-less\"\n            placeholder=\"Input Amount\"\n            value={value}\n            onValue={(value) => setValue(value || '')}\n            prefix={\n              <MintSelection\n                value={mintAddress}\n                onChange={setMintAddress}\n                style={{ marginLeft: -7 }}\n              />\n            }\n          />\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\" size={4} style={{ width: '100%' }}>\n          <Typography.Text type=\"secondary\">\n            Sender's Wallet Address\n          </Typography.Text>\n          <Input\n            className=\"border-less\"\n            placeholder=\"Input Sender's Wallet Address\"\n            value={senderAddress}\n          />\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\" size={4} style={{ width: '100%' }}>\n          <Typography.Text type=\"secondary\">\n            Receiver's Wallet Address\n          </Typography.Text>\n          <Input\n            className=\"border-less\"\n            placeholder=\"Input Receiver's Wallet Address\"\n            value={receiverAddress}\n            onChange={(e) => setReceiverAddress(e.target.value || '')}\n          />\n        </Space>\n      </Col>\n      <Col span={24} />\n      <Col span={24} style={{ textAlign: 'right' }}>\n        <Space>\n          <Button type=\"text\" onClick={close}>\n            Close\n          </Button>\n          <Button type=\"primary\" onClick={confirm} disabled={!valid}>\n            Continue\n          </Button>\n        </Space>\n      </Col>\n      {/* <TemplateInfo content=\"\" /> */}\n    </Row>\n  )\n}\n\nexport default TransferSplPlugin\n","var _path, _path2, _path3, _defs;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport * as React from \"react\";\n\nfunction SvgSolana(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 56,\n    height: 56,\n    viewBox: \"0 0 56 56\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.09822 38.7451C9.43613 38.4072 9.90075 38.2101 10.3935 38.2101H55.082C55.8986 38.2101 56.3069 39.1956 55.7297 39.7729L46.9018 48.6008C46.5639 48.9387 46.0993 49.1358 45.6065 49.1358H0.918008C0.101395 49.1358 -0.306912 48.1502 0.270349 47.573L9.09822 38.7451Z\",\n    fill: \"url(#paint0_linear_514_9086)\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M9.09822 5.78502C9.45021 5.44711 9.91483 5.25 10.3935 5.25L55.082 5.25C55.8986 5.25 56.3069 6.23557 55.7297 6.81283L46.9018 15.6407C46.5639 15.9786 46.0993 16.1757 45.6065 16.1757H0.918008C0.101395 16.1757 -0.306912 15.1902 0.270349 14.6129L9.09822 5.78502Z\",\n    fill: \"url(#paint1_linear_514_9086)\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M46.9018 22.1596C46.5639 21.8217 46.0993 21.6246 45.6065 21.6246H0.918008C0.101395 21.6246 -0.306912 22.6101 0.270349 23.1874L9.09822 32.0153C9.43613 32.3532 9.90075 32.5503 10.3935 32.5503H55.082C55.8986 32.5503 56.3069 31.5647 55.7297 30.9875L46.9018 22.1596Z\",\n    fill: \"url(#paint2_linear_514_9086)\"\n  })), _defs || (_defs = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint0_linear_514_9086\",\n    x1: 50.8129,\n    y1: -0.023655,\n    x2: 19.885,\n    y2: 59.2159,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#00FFA3\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#DC1FFF\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint1_linear_514_9086\",\n    x1: 37.2896,\n    y1: -7.08387,\n    x2: 6.36157,\n    y2: 52.1556,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#00FFA3\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#DC1FFF\"\n  })), /*#__PURE__*/React.createElement(\"linearGradient\", {\n    id: \"paint2_linear_514_9086\",\n    x1: 44.0082,\n    y1: -3.57611,\n    x2: 13.0802,\n    y2: 55.6634,\n    gradientUnits: \"userSpaceOnUse\"\n  }, /*#__PURE__*/React.createElement(\"stop\", {\n    stopColor: \"#00FFA3\"\n  }), /*#__PURE__*/React.createElement(\"stop\", {\n    offset: 1,\n    stopColor: \"#DC1FFF\"\n  })))));\n}\n\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgSolana);\nexport default __webpack_public_path__ + \"static/media/solana.6db9bd9600699ad1fc2b302acd0731be.svg\";\nexport { ForwardRef as ReactComponent };","import { Button, Col, Image, Radio, Row, Space, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport TransferSplPlugin from './transfer'\n\nimport SOLANA_LOGO from 'app/static/images/templates/solana.svg'\n\ntype CardOptionProps = {\n  label: string\n  description: string\n  icon: string\n}\n\nconst CardOption = ({ label, description, icon }: CardOptionProps) => {\n  return (\n    <Row>\n      <Col span={24}>\n        <Row>\n          <Col flex=\"auto\">\n            <Typography.Title level={5}>{label}</Typography.Title>\n          </Col>\n          <Col>\n            <IonIcon style={{ fontSize: 24 }} name={icon} />\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Typography.Text type=\"secondary\">{description}</Typography.Text>\n      </Col>\n    </Row>\n  )\n}\n\nconst SPL = ({ daoAddress }: { daoAddress: string }) => {\n  return (\n    <Row>\n      <Col xs={24} md={16} className=\"wrap-spl-info\">\n        <Row gutter={[16, 16]} className=\"spl-info\">\n          <Col span={24}>\n            <Space size={24}>\n              <Image preview={false} src={SOLANA_LOGO} />\n              <Space size={0} direction=\"vertical\">\n                <Typography.Text>Solana Program Library</Typography.Text>\n                <Space size={2} style={{ marginLeft: -8 }}>\n                  <Button type=\"text\" icon={<IonIcon name=\"logo-discord\" />} />\n                  <Button type=\"text\" icon={<IonIcon name=\"logo-twitter\" />} />\n                  <Button type=\"text\" icon={<IonIcon name=\"logo-telegram\" />} />\n                </Space>\n              </Space>\n            </Space>\n          </Col>\n          <Col span={24}>\n            <Typography.Paragraph\n              type=\"secondary\"\n              ellipsis={{ rows: 3, expandable: true, symbol: 'View more' }}\n            >\n              The Solana Program Library (SPL) is a collection of on-chain\n              programs targeting the Sealevel parallel runtime. These programs\n              are tested against Solana's implementation of Sealevel,\n              solana-runtime, and deployed to its mainnet. As others implement\n              Sealevel, we will graciously accept patches to ensure the programs\n              here are portable across all implementations.\n            </Typography.Paragraph>\n          </Col>\n          <Col span={24}>\n            <Space direction=\"vertical\" style={{ width: '100%' }}>\n              <Typography.Text>Templates</Typography.Text>\n              <Radio.Group\n                value=\"transfer\"\n                style={{ width: '100%' }}\n                className=\"select-spl-option\"\n              >\n                <Row gutter={[24, 24]}>\n                  <Col xs={24} sm={12} md={12} lg={12}>\n                    <Radio.Button value=\"transfer\">\n                      <CardOption\n                        label=\"Transfer\"\n                        description=\"Transfer token to another wallet address\"\n                        icon=\"paper-plane-outline\"\n                      />\n                    </Radio.Button>\n                  </Col>\n                  <Col xs={24} sm={12} md={12} lg={12}>\n                    <Radio.Button value=\"approve\" disabled>\n                      <CardOption\n                        label=\"Approve\"\n                        description=\"Coming soon\"\n                        icon=\"thumbs-up-outline\"\n                      />\n                    </Radio.Button>\n                  </Col>\n                </Row>\n              </Radio.Group>\n            </Space>\n          </Col>\n        </Row>\n      </Col>\n      <Col xs={24} md={8} className=\"spl-option-transfer\">\n        <TransferSplPlugin daoAddress={daoAddress} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default SPL\n","import { useDispatch, useSelector } from 'react-redux'\n\nimport { Col, Modal, Row, Tabs, Typography } from 'antd'\nimport SPL from './spl'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { setVisible } from 'app/model/template.controller'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport './index.less'\n\nconst Template = ({ daoAddress }: { daoAddress: string }) => {\n  const {\n    template: { visible },\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch<AppDispatch>()\n\n  return (\n    <Modal\n      visible={visible}\n      footer={false}\n      closeIcon={<IonIcon name=\"close-outline\" />}\n      className=\"template-card template-modal\"\n      onCancel={() => dispatch(setVisible(false))}\n    >\n      <Row>\n        <Col span={24} className=\"template-header\">\n          <Typography.Title level={4}>Choose a template</Typography.Title>\n        </Col>\n        <Col className=\"template-body\" span={24}>\n          <Tabs>\n            <Tabs.TabPane tab=\"SPL\" key=\"spl\">\n              <SPL daoAddress={daoAddress} />\n            </Tabs.TabPane>\n            <Tabs.TabPane tab=\"Atrix\" key=\"atrix\" disabled />\n\n            <Tabs.TabPane tab=\"Quarry\" key=\"quarry\" disabled />\n\n            <Tabs.TabPane tab=\"Advanced\" key=\"advanced\" disabled />\n          </Tabs>\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\n\nexport default Template\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport LazyLoad from '@senswap/react-lazyload'\nimport { useUI, useWallet } from '@senhub/providers'\nimport { DaoRegimes } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\nimport { SystemProgram } from '@solana/web3.js'\n\nimport { Button, Col, Empty, Row, Select, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport ProposalCard from './proposalCard'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { getProposals } from 'app/model/proposal.controller'\nimport Template from 'app/view/templates'\nimport { setVisible } from 'app/model/template.controller'\n\nexport type ProposalListProps = { daoAddress: string }\n\nconst currentDate = Math.floor(Number(new Date()) / 1000)\n\nconst ProposalList = ({ daoAddress }: ProposalListProps) => {\n  const [status, setStatus] = useState('all-status')\n  const {\n    proposal,\n    dao: { daoData },\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const {\n    ui: { width },\n  } = useUI()\n\n  const { regime, authority } = daoData[daoAddress] || {\n    regime: DaoRegimes.Dictatorial,\n    authority: SystemProgram.programId,\n  }\n  const mobileScreen = width < 768\n\n  const isSuccess = useCallback(\n    (quorum: string, votingPower: number, numSupply: number) => {\n      if (votingPower <= 0) return false\n      if (quorum === 'half' && votingPower >= numSupply / 2) return true\n      if (quorum === 'oneThird' && votingPower >= numSupply / 3) return true\n      if (quorum === 'twoThird' && votingPower >= (numSupply * 2) / 3)\n        return true\n      return false\n    },\n    [],\n  )\n\n  const authorized = useMemo(() => {\n    if (isEqual(regime, DaoRegimes.Autonomous)) return true\n    if (isEqual(regime, DaoRegimes.Democratic)) return true\n    if (authority.toBase58() === walletAddress) return true\n    return false\n  }, [regime, authority, walletAddress])\n\n  const proposalAddresses = useMemo(() => {\n    const expandedProposal = Object.keys(proposal).map((address) => ({\n      address,\n      ...proposal[address],\n    }))\n    return expandedProposal\n      .filter(({ dao }) => dao.toBase58() === daoAddress)\n      .map(({ address }) => address)\n  }, [proposal, daoAddress])\n\n  const filterProposalAddresses = useMemo(() => {\n    if (!proposalAddresses.length) return []\n    const filteredAddress = []\n\n    for (const address of proposalAddresses) {\n      let valid = false\n      const {\n        endDate,\n        startDate,\n        executed,\n        supply,\n        votingForPower,\n        consensusQuorum,\n        consensusMechanism,\n        votingAgainstPower,\n      } = proposal[address] || {}\n\n      const quorum = consensusQuorum ? Object.keys(consensusQuorum)[0] : ''\n      const votingPower = Number(votingForPower) - Number(votingAgainstPower)\n      const stakeSupply = supply?.toNumber() || 0\n      const lockSupply = Number(supply) * (Number(endDate) - Number(startDate))\n      const mechanism = consensusMechanism\n        ? Object.keys(consensusMechanism)[0]\n        : ''\n      const actualSupply =\n        mechanism === 'StakedTokenCounter' ? stakeSupply : lockSupply\n\n      switch (status) {\n        case 'preparing':\n          valid = currentDate < Number(startDate)\n          break\n        case 'voting':\n          valid =\n            currentDate <= Number(endDate) && currentDate >= Number(startDate)\n          break\n        case 'executed':\n          valid = executed\n          break\n        case 'succeeded':\n          valid =\n            isSuccess(quorum, votingPower, actualSupply) &&\n            !executed &&\n            currentDate > Number(endDate)\n          break\n        case 'failed':\n          valid =\n            !isSuccess(quorum, votingPower, actualSupply) &&\n            currentDate > Number(endDate)\n          break\n        default:\n          valid = true\n          break\n      }\n      if (valid) filteredAddress.push(address)\n    }\n    return filteredAddress\n  }, [isSuccess, proposal, proposalAddresses, status])\n\n  useEffect(() => {\n    dispatch(getProposals({ daoAddress }))\n  }, [dispatch, daoAddress])\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <Row gutter={[16, 16]} align=\"bottom\">\n          <Col\n            span={mobileScreen ? 24 : undefined}\n            flex={mobileScreen ? undefined : 'auto'}\n          >\n            <Typography.Title level={4}>Proposals</Typography.Title>\n          </Col>\n          <Col span={mobileScreen ? 12 : undefined}>\n            <Select\n              className=\"select-filter-proposal\"\n              defaultValue=\"all-status\"\n              onChange={setStatus}\n              style={{ width: '100%', minWidth: 150 }}\n            >\n              <Select.Option value=\"all-status\">All status</Select.Option>\n              <Select.Option value=\"preparing\">Preparing</Select.Option>\n              <Select.Option value=\"voting\">Voting</Select.Option>\n              <Select.Option value=\"succeeded\">Succeeded</Select.Option>\n              <Select.Option value=\"executed\">Executed</Select.Option>\n              <Select.Option value=\"failed\">Failed</Select.Option>\n            </Select>\n          </Col>\n          <Col span={mobileScreen ? 12 : undefined}>\n            <Button\n              type=\"primary\"\n              icon={<IonIcon name=\"add-outline\" />}\n              onClick={() => dispatch(setVisible(true))}\n              disabled={!authorized}\n              block\n            >\n              New Proposal\n            </Button>\n          </Col>\n        </Row>\n      </Col>\n      <Col span={24}>\n        <Row>\n          {filterProposalAddresses.length ? (\n            filterProposalAddresses.map((proposalAddress) => (\n              <Col key={proposalAddress} span={24}>\n                <LazyLoad height={176}>\n                  <ProposalCard proposalAddress={proposalAddress} />\n                </LazyLoad>\n              </Col>\n            ))\n          ) : (\n            <Col span={24} style={{ textAlign: 'center' }}>\n              <Empty />\n            </Col>\n          )}\n        </Row>\n      </Col>\n      <Template daoAddress={daoAddress} />\n    </Row>\n  )\n}\n\nexport default ProposalList\n","import { useSelector } from 'react-redux'\nimport { SystemProgram } from '@solana/web3.js'\nimport BN from 'bn.js'\nimport { useUI } from '@senhub/providers'\n\nimport {\n  Avatar,\n  Button,\n  Card,\n  Col,\n  Divider,\n  Row,\n  Space,\n  Typography,\n} from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport StatisticCard from 'app/components/statisticCard'\nimport RegimeTag from 'app/components/regimeTag'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport GradientAvatar from 'app/components/gradientAvatar'\n\nimport { AppState } from 'app/model'\nimport { numeric, shortenAddress } from 'shared/util'\nimport useMembers from 'app/hooks/useMembers'\nimport useMetaData from 'app/hooks/useMetaData'\nimport { SOCIAL_MEDIA } from 'app/model/metadata.controller'\n\nexport type DaoDetailsProps = { daoAddress: string }\n\nconst DaoDetails = ({ daoAddress }: DaoDetailsProps) => {\n  const {\n    dao: { daoData },\n  } = useSelector((state: AppState) => state)\n  const {\n    ui: { width },\n  } = useUI()\n  const { regime, nonce, mint } = daoData?.[daoAddress] || {\n    regime: {},\n    nonce: new BN(0),\n    mint: SystemProgram.programId,\n  }\n  const members = useMembers(daoAddress)\n  const metaData = useMetaData(daoAddress)\n  const mobileScreen = width < 768\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[24, 24]}>\n        <Col span={24}>\n          <Row gutter={[16, 16]}>\n            <Col>\n              {!metaData?.image ? (\n                <GradientAvatar\n                  seed={daoAddress}\n                  avatarProps={{ shape: 'square', size: 56 }}\n                />\n              ) : (\n                <Avatar shape=\"square\" size={56} src={metaData?.image} />\n              )}\n            </Col>\n            <Col flex={mobileScreen ? 'auto' : undefined}>\n              <Space direction=\"vertical\" size={0}>\n                <Typography.Title level={4}>\n                  {metaData?.daoName\n                    ? metaData.daoName\n                    : shortenAddress(daoAddress)}\n                </Typography.Title>\n                <Space size={0} style={{ marginLeft: -8 }}>\n                  {metaData?.optionals.map((url, idx) => (\n                    <Button\n                      size=\"small\"\n                      type=\"text\"\n                      onClick={() => window.open(url, '_blank')}\n                      icon={<IonIcon name={`logo-${SOCIAL_MEDIA[idx]}`} />}\n                      key={idx}\n                    />\n                  ))}\n                </Space>\n              </Space>\n            </Col>\n            <Col>\n              <Divider\n                className=\"dao-detail-divide\"\n                type=\"vertical\"\n                style={mobileScreen ? { display: 'none' } : {}}\n              />\n            </Col>\n            <Col span={mobileScreen ? 24 : undefined} flex=\"auto\">\n              <Row gutter={[36, 16]}>\n                <Col xs={12} sm={4}>\n                  <StatisticCard\n                    title=\"Token\"\n                    value={\n                      <Space>\n                        <MintAvatar mintAddress={mint.toBase58()} />\n                        <MintSymbol mintAddress={mint.toBase58()} />\n                      </Space>\n                    }\n                  />\n                </Col>\n                <Col xs={12} sm={4}>\n                  <StatisticCard\n                    title=\"Proposals\"\n                    value={numeric(Number(nonce)).format('0,0')}\n                  />\n                </Col>\n                <Col xs={12} sm={4}>\n                  <StatisticCard\n                    title=\"Members\"\n                    value={numeric(members).format('0,0')}\n                  />\n                </Col>\n                <Col xs={12} sm={4}>\n                  <StatisticCard\n                    title=\"Regime\"\n                    value={<RegimeTag regime={regime} />}\n                  />\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Typography.Paragraph\n            type=\"secondary\"\n            ellipsis={{ rows: 3, expandable: true, symbol: 'View more' }}\n          >\n            {metaData?.description}\n          </Typography.Paragraph>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default DaoDetails\n","import { useHistory, useParams } from 'react-router-dom'\n\nimport { Button, Col, Row } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport ProposalList from './proposalList'\nimport DaoDetails from '../dao/daoDetails'\n\nimport configs from 'app/configs'\nimport './index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst Proposal = () => {\n  const history = useHistory()\n  const { daoAddress } = useParams<{ daoAddress: string }>()\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\" align=\"middle\">\n      <Col xs={24} lg={18}>\n        <Row gutter={[16, 16]}>\n          <Col span={24}>\n            <Button\n              icon={<IonIcon name=\"arrow-back-outline\" />}\n              type=\"text\"\n              onClick={() => history.push(`/app/${appId}/dao`)}\n              style={{ marginLeft: -8 }}\n            >\n              Back\n            </Button>\n          </Col>\n          <Col span={24}>\n            <DaoDetails daoAddress={daoAddress} />\n          </Col>\n        </Row>\n      </Col>\n      <Col xs={24} lg={18}>\n        <ProposalList daoAddress={daoAddress} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default Proposal\n","import { ConsensusMechanism, ConsensusMechanisms } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\nimport { useUI } from '@senhub/providers'\n\nimport { Button, Row, Col, Space, Typography, Popover } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nexport type ConsensusMechanismInputProps = {\n  value: ConsensusMechanism\n  onChange: (value: ConsensusMechanism) => void\n}\n\nconst ConsensusMechanismInput = ({\n  value = ConsensusMechanisms.StakedTokenCounter,\n  onChange = () => {},\n}: ConsensusMechanismInputProps) => {\n  const {\n    ui: { infix },\n  } = useUI()\n  const mobileScreen = infix === 'xs'\n  const mobileSpan = mobileScreen ? 12 : undefined\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Space>\n          <Typography.Text>Consensus Mechanism</Typography.Text>\n          <Popover\n            overlayStyle={{ maxWidth: 300 }}\n            trigger=\"click\"\n            content={\n              <Row gutter={[16, 16]}>\n                <Col span={24}>\n                  <Typography.Title level={5}>\n                    What are Consensus Mechanisms?\n                  </Typography.Title>\n                </Col>\n                <Col span={24}>\n                  <Space direction=\"vertical\">\n                    <Typography.Text>\n                      <strong>Staked (Token) Counter.</strong> The power of a\n                      vote is only counted based on the number of staked tokens.\n                    </Typography.Text>\n                    <Typography.Text>\n                      <strong>Locked (Token) Counter.</strong> The power of a\n                      vote is the product of the number of staked tokens and the\n                      lock time in seconds.\n                    </Typography.Text>\n                  </Space>\n                </Col>\n              </Row>\n            }\n          >\n            <Button\n              type=\"text\"\n              size=\"small\"\n              icon={<IonIcon name=\"information-circle-outline\" />}\n            />\n          </Popover>\n        </Space>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusMechanisms.StakedTokenCounter)\n              ? ''\n              : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusMechanisms.StakedTokenCounter)}\n          block\n        >\n          Staked Counter\n        </Button>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusMechanisms.LockedTokenCounter)\n              ? ''\n              : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusMechanisms.LockedTokenCounter)}\n          block\n        >\n          Locked Counter\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ConsensusMechanismInput\n","import { ConsensusQuorum, ConsensusQuorums } from '@interdao/core'\nimport isEqual from 'react-fast-compare'\nimport { useUI } from '@senhub/providers'\n\nimport { Button, Row, Col, Typography } from 'antd'\n\nexport type ConsensusQuorumInputProps = {\n  value: ConsensusQuorum\n  onChange: (value: ConsensusQuorum) => void\n}\n\nconst ConsensusQuorumInput = ({\n  value = ConsensusQuorums.Half,\n  onChange = () => {},\n}: ConsensusQuorumInputProps) => {\n  const {\n    ui: { infix },\n  } = useUI()\n  const mobileScreen = infix === 'xs'\n  const mobileSpan = mobileScreen ? 8 : undefined\n\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Typography.Text>Consensus Quorum</Typography.Text>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusQuorums.OneThird) ? '' : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusQuorums.OneThird)}\n          block\n        >\n          1/3\n        </Button>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusQuorums.Half) ? '' : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusQuorums.Half)}\n          block\n        >\n          1/2\n        </Button>\n      </Col>\n      <Col span={mobileSpan}>\n        <Button\n          className={\n            isEqual(value, ConsensusQuorums.TwoThird) ? '' : 'btn-unselect'\n          }\n          onClick={() => onChange(ConsensusQuorums.TwoThird)}\n          block\n        >\n          2/3\n        </Button>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ConsensusQuorumInput\n","import moment from 'moment'\n\nimport { Col, DatePicker, Row, Typography } from 'antd'\n\nexport type DurationInputType = {\n  value: Array<number>\n  onChange: (value: Array<number>) => void\n}\n\nconst DurationInput = ({ value, onChange }: DurationInputType) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Typography.Text>Proposal Duration</Typography.Text>\n      </Col>\n      <Col span={24}>\n        <Row gutter={[12, 12]}>\n          <Col span={12}>\n            <DatePicker\n              placeholder=\"Start Date\"\n              value={moment(value[0])}\n              onChange={(e) => onChange([e?.valueOf() || value[0], value[1]])}\n              showTime\n              style={{ width: '100%' }}\n            />\n          </Col>\n          <Col span={12}>\n            <DatePicker\n              placeholder=\"End Date\"\n              value={moment(value[1])}\n              onChange={(e) => onChange([value[0], e?.valueOf() || value[1]])}\n              showTime\n              style={{ width: '100%' }}\n            />\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DurationInput\n","import { useSelector } from 'react-redux'\nimport { DaoData } from '@interdao/core'\nimport { SystemProgram } from '@solana/web3.js'\n\nimport { Col, Row, Space } from 'antd'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport StatisticCard from 'app/components/statisticCard'\nimport RegimeTag from 'app/components/regimeTag'\n\nimport { AppState } from 'app/model'\nimport { numeric, shortenAddress } from 'shared/util'\nimport useMembers from 'app/hooks/useMembers'\n\nexport type ProposalPreviewProps = {\n  daoAddress: string\n}\n\nconst ProposalPreview = ({ daoAddress }: ProposalPreviewProps) => {\n  const {\n    dao: { daoData },\n  } = useSelector((state: AppState) => state)\n\n  const { regime, mint } =\n    daoData[daoAddress] ||\n    ({\n      regime: {},\n      mint: SystemProgram.programId,\n    } as DaoData)\n  const members = useMembers(daoAddress)\n\n  return (\n    <Row gutter={[36, 16]}>\n      <Col xs={12} md={5}>\n        <StatisticCard title=\"DAO Address\" value={shortenAddress(daoAddress)} />\n      </Col>\n      <Col xs={12} md={5}>\n        <StatisticCard\n          title=\"Token\"\n          value={\n            <Space>\n              <MintAvatar mintAddress={mint.toBase58()} />\n              <MintSymbol mintAddress={mint.toBase58()} />\n            </Space>\n          }\n        />\n      </Col>\n      <Col xs={12} md={5}>\n        <StatisticCard title=\"Members\" value={numeric(members).format('0,0')} />\n      </Col>\n      <Col xs={12} md={5}>\n        <StatisticCard title=\"Regime\" value={<RegimeTag regime={regime} />} />\n      </Col>\n    </Row>\n  )\n}\n\nexport default ProposalPreview\n","import { useCallback, useEffect, useMemo, useState } from 'react'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n  ConsensusMechanisms,\n  ConsensusQuorums,\n  FeeOptions,\n} from '@interdao/core'\nimport BN from 'bn.js'\nimport { CID } from 'ipfs-core'\n\nimport { Button, Card, Col, Divider, Input, Row, Space, Typography } from 'antd'\nimport ConsensusMechanismInput from './consensusMechanismInput'\nimport ConsensusQuorumInput from './consensusQuorumInput'\nimport DurationInput from './durationInput'\nimport ProposalPreview from './proposalPreview'\n\nimport configs from 'app/configs'\nimport { explorer } from 'shared/util'\nimport IPFS from 'shared/pdb/ipfs'\nimport { AppState } from 'app/model'\nimport { clearTx } from 'app/model/template.controller'\n\nconst {\n  sol: { interDao, taxman, fee },\n  manifest: { appId },\n} = configs\n\nexport type ProposalMetaData = {\n  title: string\n  description: string\n  imageBackground: string\n}\n\nconst CURRENT_TIME = Number(new Date())\nconst ONE_DAY = 24 * 60 * 60 * 1000\n\nconst ProposalInitialization = () => {\n  const [consensusMechanism, setConsensusMechanism] = useState(\n    ConsensusMechanisms.StakedTokenCounter,\n  )\n  const [consensusQuorum, setConsensusQuorum] = useState(ConsensusQuorums.Half)\n  const [duration, setDuration] = useState([\n    CURRENT_TIME + ONE_DAY,\n    CURRENT_TIME + 15 * ONE_DAY,\n  ])\n  const [loading, setLoading] = useState(false)\n  const [title, setTitle] = useState('')\n  const [description, setDescription] = useState('')\n  const { daoAddress } = useParams<{ daoAddress: string }>()\n  const {\n    template: { tx, imageBackground },\n    dao: { daoData },\n  } = useSelector((state: AppState) => state)\n  const history = useHistory()\n  const dispatch = useDispatch()\n\n  const disabled = !title || !description\n\n  const metaData: ProposalMetaData = useMemo(() => {\n    return {\n      title,\n      description,\n      imageBackground,\n    }\n  }, [description, imageBackground, title])\n\n  const newProposal = useCallback(async () => {\n    const { authority } = daoData[daoAddress]\n    if (!tx) return\n\n    try {\n      setLoading(true)\n\n      const ipfs = new IPFS()\n      const cid = await ipfs.set(metaData)\n      const {\n        multihash: { digest },\n      } = CID.parse(cid)\n\n      const feeOption: Partial<FeeOptions> = {\n        revenue: new BN(fee),\n        revenuemanAddress: authority.toBase58(),\n        tax: new BN(fee),\n        taxmanAddress: taxman,\n      }\n\n      const { programId, data, accounts } = tx\n\n      const metadata = Buffer.from(digest)\n      const valueAccounts = Object.values(accounts)\n      const { txId, proposalAddress } = await interDao.initializeProposal(\n        daoAddress,\n        programId.toBase58(),\n        data,\n        valueAccounts.map(({ pubkey }) => pubkey),\n        valueAccounts.map(({ isSigner }) => isSigner),\n        valueAccounts.map(({ isWritable }) => isWritable),\n        valueAccounts.map(({ isMaster }) => isMaster),\n        Math.floor(duration[0] / 1000),\n        Math.floor(duration[1] / 1000),\n        metadata,\n        consensusMechanism,\n        consensusQuorum,\n        feeOption,\n      )\n      window.notify({\n        type: 'success',\n        description:\n          'Create a new proposal successfully. Click here to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n\n      //Clear tx in redux\n      dispatch(clearTx())\n\n      return history.push(\n        `/app/${appId}/dao/${daoAddress}/proposal/${proposalAddress}`,\n      )\n    } catch (er: any) {\n      return window.notify({\n        type: 'error',\n        description: er.message,\n      })\n    } finally {\n      return setLoading(false)\n    }\n  }, [\n    daoData,\n    daoAddress,\n    metaData,\n    tx,\n    duration,\n    consensusMechanism,\n    consensusQuorum,\n    dispatch,\n    history,\n  ])\n\n  useEffect(() => {\n    if (!tx) return history.push(`/app/${appId}/dao/${daoAddress}`)\n  }, [daoAddress, history, tx])\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\">\n      <Col xs={24} md={14}>\n        <Card bordered={false}>\n          <Row gutter={[24, 24]}>\n            <Col span={24}>\n              <Typography.Title level={1}>\n                Input proposal information\n              </Typography.Title>\n            </Col>\n            <Col span={24} />\n            <Col span={24}>\n              <ProposalPreview daoAddress={daoAddress} />\n            </Col>\n            <Col span={24}>\n              <Divider style={{ margin: 0, borderTop: 'solid 1px #F9DEB0' }} />\n            </Col>\n            <Col span={24}>\n              <Space direction=\"vertical\" style={{ width: '100%' }}>\n                <Typography.Text>Title</Typography.Text>\n                <Input\n                  value={title}\n                  placeholder=\"A short summary of your proposal.\"\n                  className=\"border-less\"\n                  onChange={(e) => setTitle(e.target.value)}\n                />\n              </Space>\n            </Col>\n            <Col span={24}>\n              <Space direction=\"vertical\" style={{ width: '100%' }}>\n                <Typography.Text>Description</Typography.Text>\n                <Input.TextArea\n                  placeholder=\"More detail about your proposal...\"\n                  name=\"description\"\n                  className=\"border-less\"\n                  value={description}\n                  onChange={(e) => setDescription(e.target.value)}\n                />\n              </Space>\n            </Col>\n            <Col span={24}>\n              <DurationInput value={duration} onChange={setDuration} />\n            </Col>\n            <Col span={24}>\n              <ConsensusMechanismInput\n                value={consensusMechanism}\n                onChange={setConsensusMechanism}\n              />\n            </Col>\n            <Col span={24}>\n              <ConsensusQuorumInput\n                value={consensusQuorum}\n                onChange={setConsensusQuorum}\n              />\n            </Col>\n\n            <Col span={24} />\n            <Col flex=\"auto\">\n              <Button\n                type=\"text\"\n                onClick={() => history.push(`/app/${appId}/dao/${daoAddress}`)}\n                size=\"large\"\n              >\n                Cancel\n              </Button>\n            </Col>\n            <Col>\n              <Button\n                onClick={newProposal}\n                loading={loading}\n                type=\"primary\"\n                size=\"large\"\n                disabled={disabled}\n              >\n                Add a new Proposal\n              </Button>\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ProposalInitialization\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport { account } from '@senswap/sen-js'\nimport {\n  DaoData,\n  DAO_DISCRIMINATOR,\n  DaoRegime,\n  DaoRegimes,\n} from '@interdao/core'\nimport { AccountInfo, PublicKey } from '@solana/web3.js'\nimport { web3 } from '@project-serum/anchor'\nimport BN from 'bn.js'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\n/**\n * Interface & Utility\n */\n\nexport const DEFAULT_CREATE_DAO_DATA = {\n  mintAddress: '',\n  supply: new BN(0),\n  metadata: undefined,\n  dao: undefined,\n  regime: DaoRegimes.Dictatorial,\n}\n\nexport type DaoType = 'flexible-dao' | 'multisig-dao'\n\nexport type CreateDaoData = {\n  mintAddress: string\n  supply: BN\n  metadata?: Buffer\n  dao?: web3.Keypair\n  regime: DaoRegime\n}\n\nexport type DaoDataState = Record<string, DaoData>\nexport type DaoState = {\n  daoData: DaoDataState\n  createDaoData: CreateDaoData\n  daoType: DaoType\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'dao'\nconst initialState: DaoState = {\n  daoData: {},\n  createDaoData: DEFAULT_CREATE_DAO_DATA,\n  daoType: 'flexible-dao',\n}\n\n/**\n * Actions\n */\n\nexport const getDaos = createAsyncThunk(`${NAME}/getDaos`, async () => {\n  const {\n    provider: { connection },\n    programId,\n    account: { dao },\n  } = interDao.program\n  const value: Array<{ pubkey: PublicKey; account: AccountInfo<Buffer> }> =\n    await connection.getProgramAccounts(programId, {\n      filters: [\n        { dataSize: dao.size },\n        {\n          memcmp: {\n            offset: 0,\n            bytes: DAO_DISCRIMINATOR,\n          },\n        },\n      ],\n    })\n  let bulk: DaoDataState = {}\n  value.forEach(({ pubkey, account: { data: buf } }) => {\n    const address = pubkey.toBase58()\n    const data = interDao.parseDaoData(buf)\n    bulk[address] = { ...data }\n  })\n  return { daoData: bulk }\n})\n\nexport const getDao = createAsyncThunk<\n  Partial<DaoState>,\n  { address: string; force?: boolean },\n  { state: any }\n>(`${NAME}/getDao`, async ({ address, force }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  const {\n    dao: {\n      daoData: { [address]: data },\n    },\n  } = getState()\n  if (data && !force) return { [address]: data }\n  const raw = await interDao.getDaoData(address)\n  return {\n    daoData: {\n      [address]: {\n        ...raw,\n      },\n    },\n  }\n})\n\nexport const upsetDao = createAsyncThunk<\n  Partial<DaoState>,\n  { address: string; data: DaoData },\n  { state: any }\n>(`${NAME}/upsetDao`, async ({ address, data }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  if (!data) throw new Error('Data is empty')\n  return {\n    daoData: {\n      [address]: { ...data },\n    },\n  }\n})\n\nexport const setCreateDaoData = createAsyncThunk(\n  `${NAME}/setCreateDaoData`,\n  async (createDaoData?: CreateDaoData) => {\n    if (!createDaoData) return { createDaoData: DEFAULT_CREATE_DAO_DATA }\n    return { createDaoData }\n  },\n)\nexport const setCreateDaoType = createAsyncThunk(\n  `${NAME}/setCreateDaoType`,\n  async (type: string) => {\n    return { daoType: type }\n  },\n)\n\nexport const deleteDao = createAsyncThunk(\n  `${NAME}/deleteDao`,\n  async ({ address }: { address: string }) => {\n    if (!account.isAddress(address)) throw new Error('Invalid address')\n    return { address }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        getDaos.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        getDao.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetDao.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setCreateDaoData.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        setCreateDaoType.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        deleteDao.fulfilled,\n        (state, { payload }) => void Object.assign(state.daoData, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { useDispatch, useSelector } from 'react-redux'\n\nimport { Card, Col, Radio, Row, Typography } from 'antd'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { setCreateDaoType } from 'app/model/dao.controller'\n\nconst DAO_TYPE = [\n  {\n    key: 'flexible-dao',\n    label: 'Flexible DAO',\n    description:\n      'The Flexible DAO has 3 regimes that allow you to create a DAO customized for your individual requirements, community structure, and governance token setup.',\n    state: 1,\n  },\n  {\n    key: 'multisig-dao',\n    label: 'MultiSig DAO',\n    description:\n      'The Multisig DAO allows you to create an organization for your team members with Autonomous regime and jointly own, manage shared assets such as treasury accounts, NFTs or mints.',\n    state: 0,\n  },\n]\n\nconst ChooseDaoType = () => {\n  const dispatch = useDispatch<AppDispatch>()\n  const {\n    dao: { daoType },\n  } = useSelector((state: AppState) => state)\n\n  const cardBorder = (key: string) =>\n    daoType !== key ? { borderColor: 'transparent' } : {}\n\n  return (\n    <Row>\n      <Col span={24}>\n        <Radio.Group\n          defaultValue={daoType}\n          onChange={(e) => dispatch(setCreateDaoType(e.target.value))}\n          className=\"btn-radio-card\"\n        >\n          <Row gutter={[24, 24]}>\n            {DAO_TYPE.map(({ key, label, description, state }) => (\n              <Col xs={24} md={12} key={key}>\n                <Radio.Button\n                  value={key}\n                  style={{ border: 'none' }}\n                  disabled={!state}\n                >\n                  <Card\n                    style={{ ...cardBorder(key) }}\n                    className={`group-btn-card ${key} ${\n                      daoType === key ? 'active' : ''\n                    }`}\n                    bordered={false}\n                  >\n                    <Row gutter={[12, 12]}>\n                      <Col span={24}>\n                        <Row>\n                          <Col flex=\"auto\">\n                            <Typography.Title level={4} disabled={!state}>\n                              {label}\n                            </Typography.Title>\n                          </Col>\n                          {!state && (\n                            <Col>\n                              <Typography.Text style={{ fontSize: 12 }}>\n                                Coming soon\n                              </Typography.Text>\n                            </Col>\n                          )}\n                        </Row>\n                      </Col>\n                      <Col span={24}>\n                        <Typography.Text type=\"secondary\" disabled={!state}>\n                          {description}\n                        </Typography.Text>\n                      </Col>\n                    </Row>\n                  </Card>\n                </Radio.Button>\n              </Col>\n            ))}\n          </Row>\n        </Radio.Group>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ChooseDaoType\n","import { useSelector } from 'react-redux'\nimport { useUI } from '@senhub/providers'\n\nimport { Col, Image, Row, Space, Typography } from 'antd'\nimport CardRegmie from './daoRule/cardRegmie'\n\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\n\nconst MAX_WIDTH_RATIO = 24 / 16\nconst PAGE_SPACING = 24\nconst HEIGHT_RATIO = 1.777777\n\nconst ConfirmCreate = () => {\n  const {\n    dao: { createDaoData },\n    metadata: { createMetaData },\n  } = useSelector((state: AppState) => state)\n  const {\n    ui: { width },\n  } = useUI()\n\n  const { regime, mintAddress, supply } = createDaoData\n  const { daoName, description, image } = createMetaData\n  const isMobile = width < 768\n  const desktopWidth = width > 992 ? width / MAX_WIDTH_RATIO : width\n  const logoSize = isMobile\n    ? '100%'\n    : (desktopWidth - 6 - PAGE_SPACING * 4) / HEIGHT_RATIO / 2 + 3\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col xs={24} md={12}>\n        <Space direction=\"vertical\" size={24} style={{ width: '100%' }}>\n          <Space direction=\"vertical\">\n            <Typography.Text type=\"secondary\">Name of DAO</Typography.Text>\n            <Typography.Title level={1}>{daoName}</Typography.Title>\n          </Space>\n          <Space direction=\"vertical\" style={{ width: '100%' }}>\n            <Typography.Text>DAO Regmie</Typography.Text>\n            <CardRegmie regmie={regime} />\n          </Space>\n        </Space>\n      </Col>\n      <Col xs={24} md={12}>\n        <Space direction=\"vertical\" size={24}>\n          <Space direction=\"vertical\">\n            <Typography.Text type=\"secondary\">Token to vote</Typography.Text>\n            <Space>\n              <MintAvatar mintAddress={mintAddress} size={48} />\n              <Typography.Title level={1}>\n                <MintSymbol mintAddress={mintAddress} />\n              </Typography.Title>\n            </Space>\n          </Space>\n          <Space direction=\"vertical\" className=\"dao-logo-img\">\n            <Typography.Text>DAO Logo</Typography.Text>\n            <Image\n              style={{ width: logoSize, height: logoSize }}\n              src={image?.toString()}\n              preview={false}\n            />\n          </Space>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\">\n          <Typography.Text type=\"secondary\">Total power</Typography.Text>\n          <Typography.Title level={1}>\n            {numeric(supply?.toNumber()).format('0,0.[00]')}\n          </Typography.Title>\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\">\n          <Typography.Text type=\"secondary\">Description</Typography.Text>\n          <Typography.Text>{description}</Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default ConfirmCreate\n","import { useCallback, useEffect, useState } from 'react'\nimport { useMint } from '@senhub/providers'\nimport BN from 'bn.js'\n\n/**\n * Get token's total supply. This hook needs MintProvider for working.\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * @param mintAddress Mint address\n * @returns Decimals\n */\nconst useMintSupply = (mintAddress: string) => {\n  const [supply, setSupply] = useState<BN | undefined>(undefined)\n  const { getMint } = useMint()\n\n  const fetchSupply = useCallback(async () => {\n    try {\n      const {\n        [mintAddress]: { supply },\n      } = await getMint({ address: mintAddress })\n      return setSupply(new BN(supply.toString()))\n    } catch (er: any) {\n      return setSupply(undefined)\n    }\n  }, [mintAddress, getMint])\n\n  useEffect(() => {\n    fetchSupply()\n  }, [fetchSupply])\n\n  return supply\n}\n\nexport default useMintSupply\n","import BN from 'bn.js'\n\nimport { Button, Col, Row, Space, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport NumericInput from 'shared/antd/numericInput'\n\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport useMintSupply from 'shared/hooks/useMintSupply'\nimport { numeric } from 'shared/util'\n\nexport type CirculatingSupplyInputProps = {\n  mintAddress?: string\n  value: string\n  onChange: (value: string) => void\n}\n\nconst CirculatingSupplyInput = ({\n  mintAddress = '',\n  value,\n  onChange,\n}: CirculatingSupplyInputProps) => {\n  const decimals = useMintDecimals(mintAddress) || 0\n  const supply = useMintSupply(mintAddress)\n  const suggestion = String(supply?.div(new BN(10 ** decimals)) || new BN(0))\n\n  return (\n    <Row gutter={[8, 8]} justify=\"end\">\n      <Col span={24}>\n        <Typography.Text>Total DAO Power</Typography.Text>\n      </Col>\n      <Col span={24}>\n        <NumericInput\n          value={value}\n          onValue={onChange}\n          className=\"border-less\"\n          size=\"large\"\n          placeholder=\"Input Total DAO Power\"\n          suffix={\n            <Button\n              type=\"text\"\n              onClick={() => onChange(suggestion)}\n              icon={<IonIcon name=\"copy-outline\" />}\n              style={{ marginRight: -7 }}\n            >\n              By Suggestion\n            </Button>\n          }\n        />\n      </Col>\n      <Col>\n        <Space>\n          <Typography.Text type=\"secondary\">\n            Suggestion (Token Supply):\n          </Typography.Text>\n          <Typography.Text>{numeric(suggestion).format('0,0')}</Typography.Text>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nexport default CirculatingSupplyInput\n","import { Col, Input, Row, Typography } from 'antd'\nimport { MintSelection } from 'shared/antd/mint'\n\nexport type TokenAddressInputProps = {\n  value: string\n  onChange: (value: string) => void\n}\n\nconst TokenAddressInput = ({ value, onChange }: TokenAddressInputProps) => {\n  return (\n    <Row gutter={[8, 8]}>\n      <Col span={24}>\n        <Typography.Text>Token to Vote</Typography.Text>\n      </Col>\n      <Col span={24}>\n        <Input\n          size=\"large\"\n          placeholder=\"Input Token Address\"\n          value={value}\n          className=\"border-less\"\n          onChange={(e) => onChange(e.target.value || '')}\n          suffix={\n            <MintSelection\n              value={value}\n              onChange={onChange}\n              style={{ marginRight: -7 }}\n            />\n          }\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default TokenAddressInput\n","import { useDispatch, useSelector } from 'react-redux'\nimport BN from 'bn.js'\n\nimport { Col, Row } from 'antd'\nimport RegimeInput from './regimeInput'\nimport CirculatingSupplyInput from './circulatingSupplyInput'\nimport TokenAddressInput from './tokenAddressInput'\nimport { AppDispatch, AppState } from 'app/model'\nimport { setCreateDaoData } from 'app/model/dao.controller'\n\nimport './index.less'\n\nconst DaoRule = () => {\n  const {\n    dao: { createDaoData },\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch<AppDispatch>()\n\n  const { mintAddress, supply, regime } = createDaoData\n\n  return (\n    <Row gutter={[24, 24]}>\n      <Col span={24}>\n        <RegimeInput\n          value={regime}\n          onChange={(regime) =>\n            dispatch(setCreateDaoData({ ...createDaoData, regime }))\n          }\n        />\n      </Col>\n      <Col span={24}>\n        <TokenAddressInput\n          value={mintAddress}\n          onChange={(mintAddress) =>\n            dispatch(setCreateDaoData({ ...createDaoData, mintAddress }))\n          }\n        />\n      </Col>\n      <Col span={24}>\n        <CirculatingSupplyInput\n          mintAddress={mintAddress}\n          value={supply?.toString()}\n          onChange={(supply) =>\n            dispatch(\n              setCreateDaoData({ ...createDaoData, supply: new BN(supply) }),\n            )\n          }\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default DaoRule\n","import React, { ChangeEvent } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport { Card, Col, Image, Input, Row, Space, Typography, Upload } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { UploadChangeParam } from 'antd/lib/upload'\nimport { fileToBase64 } from 'app/helpers'\nimport {\n  MetaData,\n  setCreateDaoMetaData,\n  SOCIAL_MEDIA,\n} from 'app/model/metadata.controller'\nimport { AppDispatch, AppState } from 'app/model'\n\nconst MetaDataForm = () => {\n  const {\n    metadata: { createMetaData },\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch<AppDispatch>()\n\n  const formatMetaData = async (imgBase64: string | ArrayBuffer | null) => {\n    const nextMetaData: MetaData = {\n      ...createMetaData,\n      image: imgBase64,\n    }\n    return dispatch(setCreateDaoMetaData(nextMetaData))\n  }\n\n  const onFileChange = (file: UploadChangeParam) => {\n    const { fileList } = file\n    const originFile = fileList[0].originFileObj as File\n    fileToBase64(originFile, formatMetaData)\n  }\n\n  const onChange = (e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) =>\n    dispatch(\n      setCreateDaoMetaData({\n        ...createMetaData,\n        [e.target.name]: e.target.value,\n      }),\n    )\n  const onOptionalChange = (\n    e: ChangeEvent<HTMLInputElement | HTMLTextAreaElement>,\n    idx: number,\n  ) => {\n    const nextMetaData: MetaData = JSON.parse(JSON.stringify(createMetaData))\n    nextMetaData.optionals.splice(idx, 1, e.target.value)\n    dispatch(setCreateDaoMetaData(nextMetaData))\n  }\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col span={24}>\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n          <Typography.Text>DAO name</Typography.Text>\n          <Input\n            value={createMetaData.daoName}\n            placeholder=\"Input DAO name\"\n            onChange={onChange}\n            name=\"daoName\"\n            className=\"border-less\"\n          />\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n          <Typography.Text>DAO description</Typography.Text>\n          <Input.TextArea\n            value={createMetaData.description}\n            placeholder=\"Input DAO description\"\n            name=\"description\"\n            onChange={onChange}\n            className=\"border-less\"\n          />\n        </Space>\n      </Col>\n      <Col span={24}>\n        <Space direction=\"vertical\">\n          <Typography.Text>Avatar</Typography.Text>\n          <Upload\n            className={`interdao-upload-metadata ${\n              !!createMetaData.image ? 'uploaded' : ''\n            }`}\n            accept=\"image/png,image/jpg\"\n            name=\"avatar\"\n            listType=\"picture-card\"\n            maxCount={1}\n            onChange={onFileChange}\n            itemRender={(eml, uploadFile, uploadFiles, { remove }) => {\n              return (\n                <Card\n                  className=\"img-card-preview-upload\"\n                  bodyStyle={{ padding: 0, position: 'relative' }}\n                >\n                  <Image src={uploadFile.thumbUrl} preview={false} />\n                  <IonIcon\n                    className=\"ico-action-upload\"\n                    name=\"trash-outline\"\n                    onClick={remove}\n                  />\n                </Card>\n              )\n            }}\n            onRemove={() => {\n              dispatch(setCreateDaoMetaData({ ...createMetaData, image: '' }))\n              return true\n            }}\n          >\n            <Space direction=\"vertical\" size={0}>\n              <Typography.Text style={{ fontSize: 24 }}>\n                <IonIcon name=\"cloud-upload-outline\" />\n              </Typography.Text>\n              <Typography.Text type=\"secondary\" style={{ fontSize: 10 }}>\n                Support JPG, PNG\n              </Typography.Text>\n            </Space>\n          </Upload>\n        </Space>\n      </Col>\n      {SOCIAL_MEDIA.map((social, idx) => (\n        <Col span={24} key={idx}>\n          <Space direction=\"vertical\" style={{ width: '100%' }}>\n            <Typography.Text style={{ textTransform: 'capitalize' }}>\n              {social}\n            </Typography.Text>\n            <Input\n              value={createMetaData.optionals[idx]}\n              onChange={(e) => onOptionalChange(e, idx)}\n              name=\"optionals\"\n              className=\"border-less\"\n            />\n          </Space>\n        </Col>\n      ))}\n    </Row>\n  )\n}\n\nexport default MetaDataForm\n","import ChooseDaoType from './chooseDaoType'\nimport ConfirmCreate from './confirmCreate'\nimport DaoRule from './daoRule'\nimport MetaDataForm from './metaDataForm'\n\nexport enum CreateSteps {\n  stepOne = 1,\n  stepTwo = 2,\n  stepThree = 3,\n}\n\nconst CreateDaoSteps = ({ step }: { step: number }) => {\n  if (step === CreateSteps.stepOne) return <MetaDataForm />\n  if (step === CreateSteps.stepTwo) return <DaoRule />\n  if (step === CreateSteps.stepThree) return <ConfirmCreate />\n  return <ChooseDaoType />\n}\n\nexport default CreateDaoSteps\n","import { Progress, Space, Typography } from 'antd'\n\nexport type CreateDaoTitleProps = {\n  step: number\n  onHandleStep?: () => void\n  onConfirm?: () => void\n  loading?: boolean\n  disabled?: boolean\n}\n\nconst DEFAULT_PERCENT = 25\nconst DAO_PROGRESS_TITILE = [\n  'Choose type of DAO',\n  'Input DAO infomation',\n  'Set the rule',\n  'Review',\n]\n\nconst CreateDaoProgress = ({ step }: CreateDaoTitleProps) => {\n  return (\n    <Space direction=\"vertical\" size={12}>\n      <Typography.Title level={1}>{DAO_PROGRESS_TITILE[step]}</Typography.Title>\n      <Progress\n        className=\"create-progress\"\n        percent={step * DEFAULT_PERCENT + DEFAULT_PERCENT}\n        steps={4}\n        showInfo={false}\n      />\n    </Space>\n  )\n}\n\nexport default CreateDaoProgress\n","import { useHistory } from 'react-router-dom'\n\nimport { Button } from 'antd'\nimport { CreateDaoTitleProps } from '../createDaoProgress'\n\nimport configs from 'app/configs'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst BackAction = ({ step, onHandleStep = () => {} }: CreateDaoTitleProps) => {\n  const history = useHistory()\n\n  if (step > 0)\n    return (\n      <Button type=\"text\" onClick={onHandleStep} size=\"large\">\n        Back\n      </Button>\n    )\n  return (\n    <Button\n      type=\"text\"\n      onClick={() => history.push(`/app/${appId}/dao`)}\n      size=\"large\"\n    >\n      Cancel\n    </Button>\n  )\n}\n\nexport default BackAction\n","import { Button } from 'antd'\nimport { CreateDaoTitleProps } from '../createDaoProgress'\nimport { CreateSteps } from '../createDaoSteps'\n\nconst ContinuesAction = ({\n  step,\n  onHandleStep,\n  onConfirm,\n  disabled = false,\n  loading = false,\n}: CreateDaoTitleProps) => {\n  if (step === CreateSteps.stepThree)\n    return (\n      <Button onClick={onConfirm} type=\"primary\" size=\"large\" loading={loading}>\n        Confirm\n      </Button>\n    )\n  return (\n    <Button\n      onClick={onHandleStep}\n      type=\"primary\"\n      size=\"large\"\n      disabled={disabled}\n    >\n      Continues\n    </Button>\n  )\n}\n\nexport default ContinuesAction\n","import { useCallback, useMemo, useState } from 'react'\nimport { useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport IPFS from 'shared/pdb/ipfs'\nimport { CID } from 'ipfs-core'\nimport { BN } from 'bn.js'\n\nimport { Row, Col, Card } from 'antd'\nimport CreateDaoSteps, { CreateSteps } from './createDaoSteps'\nimport CreateDaoProgress from './createDaoProgress'\nimport BackAction from './actions/backAction'\nimport ContinuesAction from './actions/continuesAction'\n\nimport { AppState } from 'app/model'\nimport { explorer } from 'shared/util'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\n\nimport configs from 'app/configs'\nimport './index.less'\n\nconst {\n  sol: { interDao },\n  manifest: { appId },\n} = configs\n\nconst DaoInitialization = () => {\n  const [step, setStep] = useState(0)\n  const [loading, setLoading] = useState(false)\n  const {\n    dao: { createDaoData },\n    metadata: { createMetaData },\n  } = useSelector((state: AppState) => state)\n  const history = useHistory()\n\n  const { mintAddress, supply, regime } = createDaoData\n  const decimals = useMintDecimals(mintAddress) || 0\n\n  const onNextStep = useCallback(async () => {\n    try {\n      if (step === CreateSteps.stepOne && !createMetaData)\n        throw new Error('Invalid Metadata')\n      if (step === CreateSteps.stepTwo && !createDaoData)\n        throw new Error('Invalid DAO data')\n      return setStep(step + 1)\n    } catch (err: any) {\n      window.notify({ type: 'error', description: err.message })\n    }\n  }, [createDaoData, createMetaData, step])\n\n  const disabled = useMemo(\n    () =>\n      (step === CreateSteps.stepOne &&\n        (!createMetaData.daoName ||\n          !createMetaData.image ||\n          !createMetaData.description)) ||\n      (step === CreateSteps.stepTwo &&\n        (!createDaoData.mintAddress ||\n          !createDaoData.regime ||\n          !Number(createDaoData.supply))),\n    [createDaoData, createMetaData, step],\n  )\n\n  const onCreateDao = useCallback(async () => {\n    try {\n      setLoading(true)\n      const ipfs = new IPFS()\n      const cid = await ipfs.set(createMetaData)\n      const {\n        multihash: { digest },\n      } = CID.parse(cid)\n      const metadata = Buffer.from(digest)\n\n      const totalSupply = supply.mul(new BN(10).pow(new BN(decimals)))\n\n      const { txId, daoAddress } = await interDao.initializeDao(\n        mintAddress,\n        totalSupply,\n        metadata,\n        undefined, // Optional DAO's keypair\n        regime,\n      )\n      window.notify({\n        type: 'success',\n        description: 'A new DAO is created. Click here to view details.',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n      return history.push(`/app/${appId}/dao/${daoAddress}`)\n    } catch (err: any) {\n      window.notify({ type: 'error', description: err.message })\n    } finally {\n      setLoading(false)\n    }\n  }, [createMetaData, decimals, history, mintAddress, regime, supply])\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\">\n      <Col xs={24} lg={16}>\n        <Card bordered={false}>\n          <Row gutter={[24, 32]}>\n            <Col span={24}>\n              <CreateDaoProgress step={step} />\n            </Col>\n            <Col span={24}>\n              <CreateDaoSteps step={step} />\n            </Col>\n            <Col span={24} />\n            <Col flex=\"auto\">\n              <BackAction step={step} onHandleStep={() => setStep(step - 1)} />\n            </Col>\n            <Col>\n              <ContinuesAction\n                step={step}\n                onHandleStep={onNextStep}\n                onConfirm={onCreateDao}\n                loading={loading}\n                disabled={disabled}\n              />\n            </Col>\n          </Row>\n        </Card>\n      </Col>\n    </Row>\n  )\n}\n\nexport default DaoInitialization\n","import { useEffect, useMemo } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account } from '@senswap/sen-js'\n\nimport { AppDispatch, AppState } from 'app/model'\nimport { ProposalData } from '@interdao/core'\nimport { getProposal, getProposals } from 'app/model/proposal.controller'\n\nconst useProposal = (proposalAddress: string, daoAddress: string) => {\n  const dispatch = useDispatch<AppDispatch>()\n  const { proposal } = useSelector((state: AppState) => state)\n\n  const data = useMemo(\n    () => proposal[proposalAddress] || ({} as ProposalData),\n    [proposal, proposalAddress],\n  )\n  const isExistProposal = useMemo(() => {\n    return !!Object.keys(proposal).length\n  }, [proposal])\n\n  useEffect(() => {\n    if (isExistProposal && account.isAddress(proposalAddress)) {\n      dispatch(getProposal({ address: proposalAddress }))\n    } else {\n      dispatch(getProposals({ daoAddress }))\n    }\n  }, [daoAddress, dispatch, isExistProposal, proposalAddress])\n\n  return { ...data }\n}\n\nexport default useProposal\n","import { useCallback, useMemo, useState } from 'react'\n\nimport { Button, Card, Col, Row, Space, Typography } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport ProposalStatus from 'app/components/proposalStatus'\n\nimport { ProposalChildCardProps } from './index'\nimport useProposal from 'app/hooks/useProposal'\nimport configs from 'app/configs'\nimport { explorer, shortenAddress } from 'shared/util'\nimport useProposalStatus from 'app/hooks/useProposalStatus'\nimport useProposalMetaData from 'app/hooks/useProposalMetaData'\n\nconst {\n  sol: { interDao },\n} = configs\n\nconst CardStatus = ({\n  proposalAddress,\n  daoAddress,\n}: ProposalChildCardProps) => {\n  const [loading, setLoading] = useState(false)\n\n  const { accountsLen } = useProposal(proposalAddress, daoAddress)\n  const { status } = useProposalStatus(proposalAddress)\n  const metaData = useProposalMetaData(proposalAddress)\n\n  const disabled = useMemo(() => {\n    if (status === 'Succeeded') return false\n    return true\n  }, [status])\n\n  const execute = useCallback(async () => {\n    setLoading(true)\n    try {\n      const { txId } = await interDao.executeProposal(proposalAddress)\n      return window.notify({\n        type: 'success',\n        description: 'Execute successfully',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      return window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setLoading(false)\n    }\n  }, [proposalAddress])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Row gutter={[24, 24]} wrap={false}>\n            <Col flex=\"auto\">\n              <Space direction=\"vertical\">\n                <Row gutter={[8, 8]} align=\"middle\">\n                  <Col>\n                    <Typography.Title\n                      level={3}\n                      style={{ wordBreak: 'break-all' }}\n                    >\n                      {metaData?.title\n                        ? metaData.title\n                        : shortenAddress(proposalAddress)}\n                    </Typography.Title>\n                  </Col>\n                  <Col>\n                    <ProposalStatus status={status} />\n                  </Col>\n                </Row>\n                <Space>\n                  <IonIcon name=\"people-outline\" />\n                  <Typography.Text>Member: {accountsLen}</Typography.Text>\n                </Space>\n              </Space>\n            </Col>\n            <Col>\n              <Button\n                size=\"large\"\n                type=\"primary\"\n                onClick={execute}\n                loading={loading}\n                disabled={disabled}\n              >\n                Execute\n              </Button>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Typography.Paragraph\n            type=\"secondary\"\n            ellipsis={{ rows: 3, expandable: true, symbol: 'View more' }}\n          >\n            {metaData?.description}\n          </Typography.Paragraph>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default CardStatus\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\n\n/**\n * Interface & Utility\n */\n\nexport type VoteBidState = {\n  amount: string\n}\n\n/**\n * Store constructor\n */\n\nconst NAME = 'voteBid'\nconst initialState: VoteBidState = {\n  amount: '',\n}\n\n/**\n * Actions\n */\n\nexport const setVoteBidAmount = createAsyncThunk(\n  `${NAME}/setVoteBidAmount`,\n  async (amount: string) => {\n    if (!amount) return { amount: '' }\n    return { amount }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder.addCase(\n      setVoteBidAmount.fulfilled,\n      (state, { payload }) => void Object.assign(state, payload),\n    ),\n})\n\nexport default slice.reducer\n","import { useEffect, useState } from 'react'\nimport { account, DEFAULT_EMPTY_ADDRESS, utils } from '@senswap/sen-js'\nimport { useAccount, useWallet } from '@senhub/providers'\n\nimport useMintDecimals from './useMintDecimals'\n\nexport type AccountBalanceReturn = {\n  amount: bigint\n  decimals: number\n  balance: number\n  mintAddress: string\n}\n\nconst buildResult = (\n  mintAddress?: string,\n  amount?: bigint,\n  decimals?: number,\n) => {\n  if (\n    !account.isAddress(mintAddress) ||\n    amount === undefined ||\n    decimals === undefined\n  )\n    return { amount: BigInt(0), decimals: 0, balance: 0 }\n  return {\n    mintAddress,\n    amount,\n    decimals,\n    balance: Number(utils.undecimalize(amount, decimals)),\n  }\n}\n\n/**\n * Get account balance. This hook needs WalletProvider, MintProvider, and AccountProvider for working.\n * WalletProvider Ref: https://docs.sentre.io/senhub/development/providers/wallet-provider\n * MintProvider Ref: https://docs.sentre.io/senhub/development/providers/mint-provider\n * AccountProvider Ref: https://docs.sentre.io/senhub/development/providers/account-provider\n * @param accountAddress Associated account address\n * @returns AccountBalanceReturn\n * - AccountBalanceReturn.amount: The amount with decimals\n * - AccountBalanceReturn.decimals: The corresponding mint decimals\n * - AccountBalanceReturn.balance: The human-readable balance (undecimalized amount)\n * - AccountBalanceReturn.mintAddress: The corresponding mint\n */\nconst useAccountBalance = (accountAddress: string) => {\n  const {\n    wallet: { address: walletAddress, lamports },\n  } = useWallet()\n  const { accounts } = useAccount()\n  const { amount, mint: mintAddress } = accounts[accountAddress] || {}\n  const decimals = useMintDecimals(mintAddress) || 0\n\n  if (!account.isAddress(walletAddress) || !account.isAddress(accountAddress))\n    return buildResult()\n  if (accountAddress === walletAddress)\n    return buildResult(DEFAULT_EMPTY_ADDRESS, lamports, 9)\n\n  return buildResult(mintAddress, amount, decimals)\n}\n\nexport default useAccountBalance\n\n/**\n * The same as useAccountBalance but the input is mint address\n * @param mintAddress Mint address\n * @returns AccountBalanceReturn\n */\nexport const useAccountBalanceByMintAddress = (mintAddress: string) => {\n  const [accountAddress, setAccountAddress] = useState('')\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const data = useAccountBalance(accountAddress)\n\n  useEffect(() => {\n    ;(async () => {\n      if (!account.isAddress(walletAddress) || !account.isAddress(mintAddress))\n        return setAccountAddress('')\n      const {\n        sentre: { splt },\n      } = window\n      try {\n        const address = await splt.deriveAssociatedAddress(\n          walletAddress,\n          mintAddress,\n        )\n        return setAccountAddress(address)\n      } catch (er) {\n        return setAccountAddress('')\n      }\n    })()\n  })\n\n  return data\n}\n","import dayjs from 'dayjs'\n\nexport function getRemainingTime(timestampMs: number, finishTime?: number) {\n  const timestampDayjs = dayjs(timestampMs)\n  const nowDayjs = finishTime ? finishTime : dayjs()\n\n  // times of the past\n  if (timestampDayjs.isBefore(nowDayjs)) {\n    return {\n      minutes: '00',\n      hours: '00',\n      days: '00',\n      seconds: '00',\n    }\n  }\n\n  return {\n    minutes: getRemainingMinutes(nowDayjs, timestampDayjs),\n    hours: getRemainingHours(nowDayjs, timestampDayjs),\n    days: getRemainingDays(nowDayjs, timestampDayjs),\n    seconds: getRemainingSeconds(nowDayjs, timestampDayjs),\n  }\n}\n\n/** Get the difference function */\nfunction getRemainingSeconds(nowDayjs: any, timestampDayjs: any) {\n  const seconds = (timestampDayjs.diff(nowDayjs, 'seconds') % 60) % 60\n  return startWithZeros(seconds, 2)\n}\n\nfunction getRemainingMinutes(nowDayjs: any, timestampDayjs: any) {\n  const minutes = timestampDayjs.diff(nowDayjs, 'minutes') % 60\n  return startWithZeros(minutes, 2)\n}\n\nfunction getRemainingHours(nowDayjs: any, timestampDayjs: any) {\n  const hours = timestampDayjs.diff(nowDayjs, 'hours') % 24\n  return startWithZeros(hours, 2)\n}\n\nfunction getRemainingDays(nowDayjs: any, timestampDayjs: any) {\n  const days = timestampDayjs.diff(nowDayjs, 'days')\n  return days.toString()\n}\n\nfunction startWithZeros(number: number, minLength: number) {\n  const numberString = number.toString()\n  if (numberString.length >= minLength) return numberString\n  return '0'.repeat(minLength - numberString.length) + numberString\n}\n","import { Fragment, useCallback, useEffect, useMemo, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { account, utils } from '@senswap/sen-js'\nimport { DaoData, FeeOptions } from '@interdao/core'\nimport { BN } from 'bn.js'\n\nimport { Button, Card, Col, Row, Typography, Space, Tooltip } from 'antd'\nimport NumericInput from 'shared/antd/numericInput'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport useProposal from 'app/hooks/useProposal'\nimport { AppState } from 'app/model'\nimport { setVoteBidAmount } from 'app/model/voteBid.controller'\nimport { ProposalChildCardProps } from './index'\nimport { explorer, numeric } from 'shared/util'\nimport configs from 'app/configs'\nimport { useAccountBalanceByMintAddress } from 'shared/hooks/useAccountBalance'\nimport { MintSymbol } from 'shared/antd/mint'\nimport useProposalStatus from 'app/hooks/useProposalStatus'\nimport { getRemainingTime } from 'app/helpers/countDown'\n\nconst {\n  sol: { interDao, taxman },\n} = configs\n\nconst defaultRemainingTime = {\n  minutes: '00',\n  hours: '00',\n  days: '00',\n  seconds: '00',\n}\n\ntype LockedVotingProps = {\n  proposalAddress: string\n  daoAddress: string\n}\nconst LockedVoting = ({ proposalAddress, daoAddress }: LockedVotingProps) => {\n  const [remainingTime, setRemainingTime] = useState(defaultRemainingTime)\n  const { status } = useProposalStatus(proposalAddress)\n  const {\n    voteBid: { amount: voteAmount },\n  } = useSelector((state: AppState) => state)\n  const { consensusMechanism, endDate, startDate } = useProposal(\n    proposalAddress,\n    daoAddress,\n  )\n\n  const voteNow = new Date().getTime()\n  const endTime = Number(endDate) * 1000\n  const startTime = Number(startDate) * 1000\n\n  const isLockedVote =\n    Object.keys(consensusMechanism || [])?.[0] === 'lockedTokenCounter'\n  const remaining = voteNow < endTime ? endTime - voteNow : 0\n  const votePower = (Number(voteAmount) * remaining) / 1000\n\n  const updateRemainingTime = useCallback(\n    (countdown: number, startTime?: number) => {\n      setRemainingTime(getRemainingTime(countdown, startTime))\n    },\n    [],\n  )\n\n  useEffect(() => {\n    if (status === 'Preparing') return updateRemainingTime(endTime, startTime)\n    const intervalId = setInterval(() => {\n      updateRemainingTime(endTime)\n    }, 1000)\n    return () => clearInterval(intervalId)\n  }, [endTime, startTime, status, updateRemainingTime])\n\n  if (!isLockedVote) return <Fragment />\n\n  return (\n    <Row gutter={[16, 16]}>\n      <Col flex=\"auto\">\n        <Space direction=\"vertical\">\n          <Typography.Text>Time remaining</Typography.Text>\n          <Typography.Title level={5}>\n            {remainingTime.days}d : {remainingTime.hours}h :{' '}\n            {remainingTime.minutes}m : {remainingTime.seconds}s\n          </Typography.Title>\n        </Space>\n      </Col>\n      <Col>\n        <Space direction=\"vertical\">\n          <Space>\n            <Tooltip title=\"Your power will be equal to the token amount multiplied by the remaining time (by seconds)\">\n              <IonIcon\n                style={{ cursor: 'pointer' }}\n                name=\"information-circle-outline\"\n              />\n            </Tooltip>\n            <Typography.Text>Power of your votes</Typography.Text>\n          </Space>\n\n          <Typography.Title level={5} style={{ textAlign: 'right' }}>\n            {numeric(votePower).format('0,0.[0000]')}\n          </Typography.Title>\n        </Space>\n      </Col>\n    </Row>\n  )\n}\n\nconst CardVote = ({ proposalAddress, daoAddress }: ProposalChildCardProps) => {\n  const [loadingFor, setLoadingFor] = useState(false)\n  const [loadingAgainst, setLoadingAgainst] = useState(false)\n  const {\n    dao: { daoData },\n    voteBid: { amount },\n  } = useSelector((state: AppState) => state)\n  const dispatch = useDispatch()\n  const { mint, regime, authority } = daoData[daoAddress] || ({} as DaoData)\n  const { balance, decimals } = useAccountBalanceByMintAddress(mint?.toBase58())\n  const { status } = useProposalStatus(proposalAddress)\n\n  const disabled = useMemo(() => {\n    return status !== 'Voting' || !amount || !account.isAddress(proposalAddress)\n  }, [amount, proposalAddress, status])\n\n  const parseRegime = useMemo(() => {\n    if (!regime) return ''\n    return Object.keys(regime)[0]\n  }, [regime])\n\n  const fee = useMemo(() => {\n    if (!parseRegime || !authority) return\n\n    const feeOption: FeeOptions = {\n      tax: new BN(50000),\n      taxmanAddress: taxman,\n      revenue: new BN(50000),\n      revenuemanAddress: authority.toBase58(),\n    }\n\n    if (parseRegime === 'democratic')\n      return {\n        tax: new BN(0),\n        taxmanAddress: taxman,\n        revenue: new BN(0),\n        revenuemanAddress: authority.toBase58(),\n      }\n\n    return feeOption\n  }, [authority, parseRegime])\n\n  const onChange = useCallback(\n    (value: string) => {\n      if (!decimals) return\n      dispatch(setVoteBidAmount(value))\n    },\n    [dispatch, decimals],\n  )\n\n  const onVoteFor = useCallback(async () => {\n    setLoadingFor(true)\n    try {\n      if (!amount || !account.isAddress(proposalAddress)) return\n      const voteAmount = utils.decimalize(amount, decimals)\n      const nextAmount = new BN(voteAmount.toString())\n      const { txId } = await interDao.voteFor(proposalAddress, nextAmount, fee)\n      window.notify({\n        type: 'success',\n        description: 'Voted successfully. Click to view details!',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setLoadingFor(false)\n    }\n  }, [amount, decimals, fee, proposalAddress])\n\n  const onVoteAgainst = useCallback(async () => {\n    setLoadingAgainst(true)\n    try {\n      if (!amount || !account.isAddress(proposalAddress)) return\n      const voteAmount = utils.decimalize(amount, decimals)\n      const nextAmount = new BN(voteAmount.toString())\n      const { txId } = await interDao.voteAgainst(\n        proposalAddress,\n        nextAmount,\n        fee,\n      )\n      window.notify({\n        type: 'success',\n        description: 'Voted successfully. Click to view details!',\n        onClick: () => window.open(explorer(txId), '_blank'),\n      })\n    } catch (error: any) {\n      window.notify({\n        type: 'error',\n        description: error.message,\n      })\n    } finally {\n      setLoadingAgainst(false)\n    }\n  }, [amount, decimals, fee, proposalAddress])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Typography.Title level={5}>Cast your votes</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Card\n            className=\"numric-ip-card\"\n            bodyStyle={{ padding: '8px 12px' }}\n            bordered={false}\n          >\n            <Row gutter={[8, 8]}>\n              <Col flex=\"auto\">\n                <Typography.Text>Amount votes</Typography.Text>\n              </Col>\n              <Col>\n                <Typography.Text>\n                  Available: {numeric(balance).format('0,0.[00]')}\n                </Typography.Text>{' '}\n                <MintSymbol mintAddress={mint?.toBase58()} />\n              </Col>\n              <Col span={24}>\n                <NumericInput\n                  bordered={false}\n                  style={{ padding: 0 }}\n                  placeholder=\"0\"\n                  value={amount}\n                  onValue={onChange}\n                  suffix={\n                    <Typography.Text\n                      style={{ cursor: 'pointer' }}\n                      onClick={() => onChange(balance.toString())}\n                    >\n                      MAX\n                    </Typography.Text>\n                  }\n                />\n              </Col>\n            </Row>\n          </Card>\n        </Col>\n        <Col span={24}>\n          <LockedVoting\n            proposalAddress={proposalAddress}\n            daoAddress={daoAddress}\n          />\n        </Col>\n        <Col span={12}>\n          <Button\n            onClick={onVoteAgainst}\n            type=\"primary\"\n            disabled={disabled}\n            loading={loadingAgainst}\n            block\n            size=\"large\"\n            icon={<IonIcon name=\"thumbs-down-outline\" />}\n          >\n            Disagree\n          </Button>\n        </Col>\n        <Col span={12}>\n          <Button\n            onClick={onVoteFor}\n            type=\"primary\"\n            disabled={disabled}\n            loading={loadingFor}\n            block\n            size=\"large\"\n            icon={<IonIcon name=\"thumbs-up-outline\" />}\n          >\n            Agree\n          </Button>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\nexport default CardVote\n","import { ReactNode } from 'react'\n\nimport { Col, Row, Typography } from 'antd'\n\ntype RowSpaceBetweenProps = {\n  label?: string\n  value?: string | ReactNode\n}\nconst RowSpaceBetween = ({ label = '', value = '' }: RowSpaceBetweenProps) => {\n  return (\n    <Row gutter={[24, 24]}>\n      <Col flex=\"auto\">\n        <Typography.Text type=\"secondary\">{label}</Typography.Text>\n      </Col>\n      <Col>{value}</Col>\n    </Row>\n  )\n}\n\nexport default RowSpaceBetween\n","import { useState } from 'react'\nimport { utils } from '@senswap/sen-js'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { Col, Row, Space, Tooltip, Typography } from 'antd'\nimport RowSpaceBetween from 'app/components/rowSpaceBetween'\nimport { MintAvatar, MintSymbol } from 'shared/antd/mint'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport { asyncWait, explorer, shortenAddress } from 'shared/util'\n\nexport type TransferType = {\n  mint?: string\n  amount: number\n  source: string\n  destination: string\n}\n\nconst TemplateTransfer = ({\n  transferInfo,\n}: {\n  transferInfo?: TransferType\n}) => {\n  const [copied, setCopied] = useState('address')\n  const {\n    mint = '',\n    source = '',\n    destination = '',\n    amount = 0,\n  } = transferInfo || {}\n  const decimals = useMintDecimals(mint) || 0\n\n  const onCopy = async (address: string) => {\n    setCopied(address)\n    await asyncWait(1500)\n    setCopied('address')\n  }\n\n  return (\n    <Row gutter={[12, 12]}>\n      <Col span={24}>\n        <RowSpaceBetween label=\"Template\" value=\"SPL/Transfer\" />\n      </Col>\n      <Col span={24}>\n        <RowSpaceBetween\n          label=\"Token to be transferred\"\n          value={\n            <Space>\n              <MintAvatar mintAddress={mint} />\n              <MintSymbol mintAddress={mint} />\n            </Space>\n          }\n        />\n      </Col>\n      <Col span={24}>\n        <RowSpaceBetween\n          label=\"Transfer amount\"\n          value={utils.undecimalize(BigInt(amount), decimals)}\n        />\n      </Col>\n      <Col span={24}>\n        <RowSpaceBetween\n          label=\"Sender's Wallet Address\"\n          value={\n            <Space size={10}>\n              <Typography.Text\n                style={{ cursor: 'pointer', textDecoration: 'underline' }}\n                onClick={() => window.open(explorer(source), '_blank')}\n              >\n                {shortenAddress(source)}\n              </Typography.Text>\n              <Tooltip title=\"Copied\" visible={copied === source}>\n                <CopyToClipboard text={source}>\n                  <IonIcon\n                    style={{ cursor: 'pointer' }}\n                    name=\"copy-outline\"\n                    onClick={() => onCopy(source)}\n                  />\n                </CopyToClipboard>\n              </Tooltip>\n            </Space>\n          }\n        />\n      </Col>\n      <Col span={24}>\n        <RowSpaceBetween\n          label=\"Receiver's Wallet Address\"\n          value={\n            <Space size={10}>\n              <Typography.Text\n                style={{ cursor: 'pointer', textDecoration: 'underline' }}\n                onClick={() => window.open(explorer(destination), '_blank')}\n              >\n                {shortenAddress(destination)}\n              </Typography.Text>\n              <Tooltip title=\"Copied\" visible={copied === destination}>\n                <CopyToClipboard text={destination}>\n                  <IonIcon\n                    style={{ cursor: 'pointer' }}\n                    name=\"copy-outline\"\n                    onClick={() => onCopy(destination)}\n                  />\n                </CopyToClipboard>\n              </Tooltip>\n            </Space>\n          }\n        />\n      </Col>\n    </Row>\n  )\n}\n\nexport default TemplateTransfer\n","import { Fragment, useCallback, useEffect, useState } from 'react'\nimport { AccountMeta } from '@solana/web3.js'\nimport BN from 'bn.js'\nimport { decodeSplInstruction } from 'sen-idl-parser'\n\nimport { Col, Modal, Row, Typography } from 'antd'\nimport TemplateTransfer, { TransferType } from './transferInfo'\n\nimport useProposal from 'app/hooks/useProposal'\nimport { ProposalChildCardProps } from '../index'\n\nconst Template = ({ proposalAddress, daoAddress }: ProposalChildCardProps) => {\n  const [transferInfo, setTransferInfo] = useState<TransferType>()\n  const [templateName, setTemplateName] = useState('')\n\n  const { accounts, data } = useProposal(proposalAddress, daoAddress)\n  const fetchProposalInfo = useCallback(async () => {\n    if (!accounts || !data) return\n    const info = decodeSplInstruction<{ amount: BN }>(\n      accounts as AccountMeta[],\n      data as Buffer,\n    )\n    if (!info) return\n    setTemplateName(info.name)\n    if (info.name === 'transfer') {\n      const { splt } = window.sentre\n      const sourceAssociated =\n        info.accounts.get('source')?.pubkey.toBase58() || ''\n      const sourceAddress =\n        info.accounts.get('authority')?.pubkey.toBase58() || ''\n      const destination =\n        info.accounts.get('destination')?.pubkey.toBase58() || ''\n      const { amount } = info.data\n      let mintAddress = ''\n\n      try {\n        const { mint } = await splt.getAccountData(sourceAssociated)\n        mintAddress = mint\n      } catch (error) {\n        mintAddress = ''\n      }\n      return setTransferInfo({\n        source: sourceAddress,\n        destination,\n        amount: amount.toNumber(),\n        mint: mintAddress,\n      })\n    }\n  }, [accounts, data])\n\n  useEffect(() => {\n    fetchProposalInfo()\n  }, [fetchProposalInfo])\n\n  if (templateName === 'transfer')\n    return <TemplateTransfer transferInfo={transferInfo} />\n  return <Fragment />\n}\n\nconst TemplateInfo = ({\n  proposalAddress,\n  daoAddress,\n  visible,\n  setVisible,\n}: ProposalChildCardProps & {\n  visible: boolean\n  setVisible: (visible: boolean) => void\n}) => {\n  return (\n    <Modal\n      className=\"template-card template-info\"\n      visible={visible}\n      footer={false}\n      onCancel={() => setVisible(false)}\n    >\n      <Row>\n        <Col\n          className=\"template-info-header\"\n          span={24}\n          style={{ textAlign: 'left' }}\n        >\n          <Typography.Title level={4}>Template information</Typography.Title>\n        </Col>\n        <Col span={24} className=\"template-info-body\">\n          <Template proposalAddress={proposalAddress} daoAddress={daoAddress} />\n        </Col>\n      </Row>\n    </Modal>\n  )\n}\n\nexport default TemplateInfo\n","import { useMemo, useState } from 'react'\nimport moment from 'moment'\nimport CopyToClipboard from 'react-copy-to-clipboard'\n\nimport { Card, Col, Row, Space, Typography, Tooltip, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\nimport TemplateInfo from './templateInfo'\nimport RowSpaceBetween from 'app/components/rowSpaceBetween'\n\nimport useProposal from 'app/hooks/useProposal'\nimport { asyncWait, explorer, shortenAddress } from 'shared/util'\nimport { ProposalChildCardProps } from './index'\n\nconst CardInfo = ({ proposalAddress, daoAddress }: ProposalChildCardProps) => {\n  const [copied, setCopied] = useState(false)\n  const [visible, setVisible] = useState(false)\n\n  const { consensusQuorum, startDate, endDate, consensusMechanism, creator } =\n    useProposal(proposalAddress, daoAddress)\n  const authProposalAddress = creator?.toBase58() || ''\n\n  const onCopy = async () => {\n    setCopied(true)\n    await asyncWait(1500)\n    setCopied(false)\n  }\n\n  const quorum = useMemo(() => {\n    if (!consensusQuorum) return '-'\n    const mechanismQuorum = Object.keys(consensusQuorum)[0]\n    if (mechanismQuorum === 'half') return '1/2'\n    if (mechanismQuorum === 'oneThird') return '1/3'\n    if (mechanismQuorum === 'twoThird') return '2/3'\n  }, [consensusQuorum])\n\n  const consensus = useMemo(() => {\n    if (!consensusMechanism) return '-'\n    const _consensusMechanism = Object.keys(consensusMechanism)[0]\n    if (_consensusMechanism === 'stakedTokenCounter') return 'Staked counter'\n    if (_consensusMechanism === 'lockedTokenCounter') return 'Locked counter'\n  }, [consensusMechanism])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Row align=\"middle\">\n            <Col flex=\"auto\">\n              <Typography.Title level={5}>Information</Typography.Title>\n            </Col>\n            <Col>\n              <Button\n                type=\"text\"\n                icon={<IonIcon name=\"information-circle-outline\" />}\n                style={{ marginRight: -10 }}\n                onClick={() => setVisible(true)}\n              />\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Space style={{ width: '100%' }} direction=\"vertical\">\n            <RowSpaceBetween\n              label=\"Proposal ID\"\n              value={shortenAddress(proposalAddress, 3)}\n            />\n            <RowSpaceBetween\n              label=\"Start time\"\n              value={moment(startDate?.toNumber() * 1000).format(\n                'MMM DD,yyyy HH:mm',\n              )}\n            />\n            <RowSpaceBetween\n              label=\"End time\"\n              value={moment(endDate?.toNumber() * 1000).format(\n                'MMM DD,yyyy HH:mm',\n              )}\n            />\n            <RowSpaceBetween\n              label=\"Author\"\n              value={\n                <Space size={10}>\n                  <Typography.Text\n                    style={{ cursor: 'pointer', textDecoration: 'underline' }}\n                    onClick={() =>\n                      window.open(explorer(authProposalAddress), '_blank')\n                    }\n                  >\n                    {shortenAddress(authProposalAddress, 3)}\n                  </Typography.Text>\n                  <Tooltip title=\"Copied\" visible={copied}>\n                    <CopyToClipboard text={authProposalAddress} onCopy={onCopy}>\n                      <IonIcon\n                        style={{ cursor: 'pointer' }}\n                        name=\"copy-outline\"\n                        onClick={onCopy}\n                      />\n                    </CopyToClipboard>\n                  </Tooltip>\n                </Space>\n              }\n            />\n            <RowSpaceBetween label=\"Quorum\" value={quorum} />\n            <RowSpaceBetween label=\"Vote method\" value={consensus} />\n          </Space>\n        </Col>\n      </Row>\n      <TemplateInfo\n        setVisible={setVisible}\n        visible={visible}\n        proposalAddress={proposalAddress}\n        daoAddress={daoAddress}\n      />\n    </Card>\n  )\n}\n\nexport default CardInfo\n","import { useSelector } from 'react-redux'\nimport { useMemo } from 'react'\nimport { DaoData } from '@interdao/core'\nimport { utils } from '@senswap/sen-js'\n\nimport { Card, Col, Row, Space, Typography, Progress } from 'antd'\n\nimport { ProposalChildCardProps } from './index'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport useProposal from 'app/hooks/useProposal'\nimport { AppState } from 'app/model'\nimport { numeric } from 'shared/util'\nimport useProposalStatus from 'app/hooks/useProposalStatus'\nimport { useUI } from '@senhub/providers'\n\nconst STROKE_COLOR = {\n  dark: { default: '#312B29', success: '#698033' },\n  light: { default: '#F2EFE9', success: '#F9DEB0' },\n}\n\nconst CardProgress = ({\n  proposalAddress,\n  daoAddress,\n}: ProposalChildCardProps) => {\n  const {\n    dao: { daoData },\n  } = useSelector((state: AppState) => state)\n  const { votingAgainstPower, votingForPower, consensusQuorum } = useProposal(\n    proposalAddress,\n    daoAddress,\n  )\n  const { mint } = daoData[daoAddress] || ({} as DaoData)\n  const mintDecimal = useMintDecimals(mint?.toBase58()) || 0\n  const { actualSupply } = useProposalStatus(proposalAddress)\n  const {\n    ui: { theme },\n  } = useUI()\n\n  const noVote = Number(votingAgainstPower) || 0\n  const yesVote = Number(votingForPower) || 0\n  const totalVote = yesVote + noVote\n  const percentYes = (yesVote / totalVote) * 100\n  const percentNo = (noVote / totalVote) * 100\n\n  const currentPower = useMemo(() => {\n    if (!consensusQuorum) return 0\n    const actualYesVote = yesVote - noVote\n    const mechanismQuorum = Object.keys(consensusQuorum)[0]\n\n    if (mechanismQuorum === 'half')\n      return ((2 * actualYesVote) / actualSupply) * 100\n\n    if (mechanismQuorum === 'oneThird')\n      return ((3 * actualYesVote) / actualSupply) * 100\n\n    if (mechanismQuorum === 'twoThird')\n      return ((3 * actualYesVote) / (2 * actualSupply)) * 100\n    return 0\n  }, [actualSupply, consensusQuorum, noVote, yesVote])\n\n  const powerRequire = useMemo(() => {\n    if (!consensusQuorum || !actualSupply || currentPower >= 100) return 0\n    const actualYesVote = yesVote - noVote\n    const mechanismQuorum = Object.keys(consensusQuorum)[0]\n\n    if (mechanismQuorum === 'half') return actualSupply / 2 - actualYesVote\n\n    if (mechanismQuorum === 'oneThird') return actualSupply / 3 - actualYesVote\n\n    if (mechanismQuorum === 'twoThird')\n      return (2 * actualSupply) / 3 - actualYesVote\n    return 0\n  }, [actualSupply, consensusQuorum, currentPower, noVote, yesVote])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Typography.Title level={5}>Current results</Typography.Title>\n        </Col>\n        <Col span={24}>\n          <Space size={0} style={{ width: '100%' }} direction=\"vertical\">\n            <Typography.Text type=\"secondary\">Quorum</Typography.Text>\n            <Typography.Text>\n              {numeric(\n                utils.undecimalize(BigInt(powerRequire), mintDecimal),\n              ).format('0,0')}{' '}\n              more Yes votes required\n            </Typography.Text>\n            <Progress\n              percent={100}\n              strokeColor={STROKE_COLOR[theme].default}\n              success={{\n                percent: currentPower,\n                strokeColor: STROKE_COLOR[theme].success,\n              }}\n              showInfo={false}\n            />\n          </Space>\n        </Col>\n        <Col span={24}>\n          <Space className=\"space-full-width\">\n            <Row gutter={[4, 4]}>\n              <Col flex=\"auto\">\n                <Typography.Text type=\"secondary\">Yes vote</Typography.Text>\n              </Col>\n              <Col>\n                <Space>\n                  <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n                    {numeric(percentYes).format('0,0.[00]')}%\n                  </Typography.Text>\n                  <Typography.Title level={5}>\n                    {numeric(\n                      utils.undecimalize(BigInt(yesVote), mintDecimal),\n                    ).format('0,0.[0000]')}\n                  </Typography.Title>\n                </Space>\n              </Col>\n              <Col span={24}>\n                <Progress\n                  style={{ width: '100%' }}\n                  percent={100}\n                  strokeColor={STROKE_COLOR[theme].default}\n                  success={{\n                    percent: percentYes,\n                    strokeColor: STROKE_COLOR[theme].success,\n                  }}\n                  showInfo={false}\n                />\n              </Col>\n            </Row>\n          </Space>\n        </Col>\n        <Col span={24}>\n          <Space className=\"space-full-width\">\n            <Row gutter={[4, 4]}>\n              <Col flex=\"auto\">\n                <Typography.Text type=\"secondary\">No vote</Typography.Text>\n              </Col>\n              <Col>\n                <Space>\n                  <Typography.Text type=\"secondary\" style={{ fontSize: 12 }}>\n                    {numeric(percentNo).format('0,0.[00]')}%\n                  </Typography.Text>\n                  <Typography.Title level={5}>\n                    {numeric(\n                      utils.undecimalize(BigInt(noVote), mintDecimal),\n                    ).format('0,0.[0000]')}\n                  </Typography.Title>\n                </Space>\n              </Col>\n              <Col span={24}>\n                <Progress\n                  percent={100}\n                  strokeColor={STROKE_COLOR[theme].default}\n                  success={{\n                    percent: percentNo,\n                    strokeColor: STROKE_COLOR[theme].success,\n                  }}\n                  showInfo={false}\n                />\n              </Col>\n            </Row>\n          </Space>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\n\nexport default CardProgress\n","import { useMemo } from 'react'\nimport { ReceiptData } from '@interdao/core'\n\nimport { Typography } from 'antd'\n\nconst ColumnType = ({ record }: { record: ReceiptData }) => {\n  const type = useMemo(() => {\n    const action = Object.keys(record.action || {})[0]\n    if (action === 'voteAgainst') return 'NO'\n    return 'YES'\n  }, [record.action])\n\n  return <Typography.Text>{type}</Typography.Text>\n}\n\nexport default ColumnType\n","import { useSelector } from 'react-redux'\nimport { DaoData, ReceiptData } from '@interdao/core'\nimport { utils } from '@senswap/sen-js'\n\nimport { Typography } from 'antd'\n\nimport { AppState } from 'app/model'\nimport useMintDecimals from 'shared/hooks/useMintDecimals'\nimport { numeric } from 'shared/util'\n\nconst ColumnPower = ({ receipt }: { receipt: ReceiptData }) => {\n  const { power, proposal: proposalAddress } = receipt\n  const {\n    dao: { daoData },\n    proposal,\n  } = useSelector((state: AppState) => state)\n  const { dao: daoAddress } = proposal[proposalAddress.toBase58()] || {}\n  const { mint } = daoData[daoAddress?.toBase58() || ''] || ({} as DaoData)\n  const mintDecimal = useMintDecimals(mint?.toBase58()) || 0\n\n  return (\n    <Typography.Text>\n      {numeric(\n        utils.undecimalize(BigInt(power.toNumber()), mintDecimal),\n      ).format('0,0.[0000]a')}\n    </Typography.Text>\n  )\n}\n\nexport default ColumnPower\n","import { PublicKey } from '@solana/web3.js'\nimport { ReceiptData } from '@interdao/core'\n\nimport { Typography } from 'antd'\nimport ColumnType from './columnType'\nimport ColumnPower from './columnPower'\n\nimport { shortenAddress } from 'shared/util'\n\nexport const HISTORY_COLUMNS = [\n  {\n    title: 'WALLET ADDRESS',\n    dataIndex: 'authority',\n    render: (walletAddress: PublicKey) => (\n      <Typography>{shortenAddress(walletAddress.toBase58())}</Typography>\n    ),\n  },\n  {\n    title: 'TYPE',\n    dataIndex: 'authority',\n    render: (_: any, receipt: ReceiptData) => <ColumnType record={receipt} />,\n  },\n  {\n    title: 'POWER',\n    dataIndex: 'power',\n    render: (_: any, receipt: ReceiptData) => <ColumnPower receipt={receipt} />,\n  },\n]\n","import { useCallback, useEffect, useState } from 'react'\nimport { account } from '@senswap/sen-js'\nimport { AccountInfo, PublicKey } from '@solana/web3.js'\n\nimport configs from 'app/configs'\nimport { ReceiptData } from '@interdao/core'\n\nconst {\n  sol: { interDao },\n} = configs\n\nexport const getReceipts = async (\n  proposalAddress: string,\n): Promise<ReceiptData[]> => {\n  if (!account.isAddress(proposalAddress)) throw new Error('Invalid address')\n  const {\n    provider: { connection },\n    programId,\n    account: { receipt },\n  } = interDao.program\n  const value: Array<{ pubkey: PublicKey; account: AccountInfo<Buffer> }> =\n    await connection.getProgramAccounts(programId, {\n      filters: [\n        { dataSize: receipt.size },\n        {\n          memcmp: {\n            offset: 48,\n            bytes: proposalAddress,\n          },\n        },\n      ],\n    })\n  let bulk: ReceiptData[] = []\n\n  value.forEach(({ account: { data: buf } }) => {\n    const data = interDao.parseReceiptData(buf)\n    bulk.push(data)\n  })\n  return bulk\n}\n\nconst useReceipts = ({ proposalAddress }: { proposalAddress: string }) => {\n  const [receipts, setReceipts] = useState<ReceiptData[]>([])\n\n  const fetchReceipts = useCallback(async () => {\n    if (!account.isAddress(proposalAddress)) return setReceipts([])\n    const listReceipt = await getReceipts(proposalAddress)\n    return setReceipts(listReceipt)\n  }, [proposalAddress])\n\n  useEffect(() => {\n    fetchReceipts()\n  }, [fetchReceipts])\n\n  return { receipts }\n}\n\nexport default useReceipts\n","import { useCallback, useEffect, useState } from 'react'\nimport { ReceiptData } from '@interdao/core'\n\nimport { Card, Col, Row, Typography, Table, Button } from 'antd'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport { HISTORY_COLUMNS } from './column'\nimport { getReceipts } from 'app/hooks/useReceipts'\n\nimport './index.less'\n\nconst DEFAULT_AMOUNT_HISTORY = 5\n\nconst History = ({ proposalAddress }: { proposalAddress: string }) => {\n  const [amount, setAmount] = useState(DEFAULT_AMOUNT_HISTORY)\n  const [loading, setLoading] = useState(false)\n  const [listReceipt, setListReceipt] = useState<ReceiptData[]>([])\n\n  const fetchReceipts = useCallback(async () => {\n    setLoading(true)\n    const receipts = await getReceipts(proposalAddress)\n    const nextReceipts: ReceiptData[] = []\n    receipts.forEach((receipt) => {\n      const { authority, power, action } = receipt\n      const actionType = Object.keys(action || {})[0]\n      const owner = authority.toBase58()\n\n      const existReceipt = nextReceipts.find((_receipt) => {\n        const { action: _action, authority: _authority } = _receipt\n        const _actionType = Object.keys(_action || {})[0]\n        const _owner = _authority.toBase58()\n\n        return _owner === owner && actionType === _actionType\n      })\n      if (!existReceipt) return nextReceipts.push(receipt)\n\n      const { power: oldPower } = existReceipt\n      const index = nextReceipts.findIndex(\n        (_receipt) => _receipt === existReceipt,\n      )\n      if (index !== -1)\n        return (nextReceipts[index] = {\n          ...nextReceipts[index],\n          power: oldPower.add(power),\n        })\n    })\n    setLoading(false)\n    return setListReceipt(nextReceipts)\n  }, [proposalAddress])\n\n  useEffect(() => {\n    fetchReceipts()\n  }, [fetchReceipts])\n\n  return (\n    <Card bordered={false}>\n      <Row gutter={[16, 16]}>\n        <Col span={24}>\n          <Row>\n            <Col flex=\"auto\">\n              <Typography.Title level={5}> Votes</Typography.Title>\n            </Col>\n            <Col>\n              <Button onClick={fetchReceipts}>Refresh</Button>\n            </Col>\n          </Row>\n        </Col>\n        <Col span={24}>\n          <Table\n            columns={HISTORY_COLUMNS}\n            dataSource={listReceipt.slice(0, amount)}\n            pagination={false}\n            loading={loading}\n            rowKey={(record) =>\n              record.index.toNumber() + record.lockedDate.toNumber()\n            }\n          />\n        </Col>\n        <Col span={24} style={{ textAlign: 'center' }}>\n          <Button\n            disabled={listReceipt.length <= amount}\n            onClick={() => setAmount(amount + DEFAULT_AMOUNT_HISTORY)}\n            icon={<IonIcon name=\"chevron-down-outline\" />}\n          >\n            View more\n          </Button>\n        </Col>\n      </Row>\n    </Card>\n  )\n}\nexport default History\n","import { useParams, useHistory } from 'react-router-dom'\n\nimport { Button, Col, Row } from 'antd'\nimport CardStatus from './cardStatus'\nimport CardVote from './cardVote'\nimport CardInfo from './cardInfo'\nimport CardProgress from './cardProgress'\nimport History from './history'\nimport IonIcon from 'shared/antd/ionicon'\n\nimport configs from 'app/configs'\nimport './index.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport type ProposalChildCardProps = {\n  proposalAddress: string\n  daoAddress: string\n}\n\nconst ProposalDetails = () => {\n  const history = useHistory()\n  const { proposalAddress, daoAddress } =\n    useParams<{ daoAddress: string; proposalAddress: string }>()\n\n  return (\n    <Row justify=\"center\">\n      <Col xs={24} lg={18}>\n        <Row gutter={[24, 24]}>\n          <Col span={24}>\n            <Button\n              type=\"text\"\n              icon={<IonIcon name=\"arrow-back-outline\" />}\n              onClick={() => history.push(`/app/${appId}/dao/${daoAddress}`)}\n            >\n              Back\n            </Button>\n          </Col>\n          <Col span={24}>\n            <Row gutter={[24, 24]}>\n              <Col xs={24} md={16}>\n                <Row gutter={[24, 24]}>\n                  <Col span={24}>\n                    <CardStatus\n                      proposalAddress={proposalAddress}\n                      daoAddress={daoAddress}\n                    />\n                  </Col>\n                  <Col span={24}>\n                    <CardVote\n                      proposalAddress={proposalAddress}\n                      daoAddress={daoAddress}\n                    />\n                  </Col>\n                  <Col span={24}>\n                    <History proposalAddress={proposalAddress} />\n                  </Col>\n                </Row>\n              </Col>\n              <Col xs={24} md={8}>\n                <Row gutter={[24, 24]}>\n                  <Col span={24}>\n                    <CardInfo\n                      proposalAddress={proposalAddress}\n                      daoAddress={daoAddress}\n                    />\n                  </Col>\n                  <Col span={24}>\n                    <CardProgress\n                      proposalAddress={proposalAddress}\n                      daoAddress={daoAddress}\n                    />\n                  </Col>\n                </Row>\n              </Col>\n            </Row>\n          </Col>\n        </Row>\n      </Col>\n    </Row>\n  )\n}\nexport default ProposalDetails\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { account } from '@senswap/sen-js'\nimport { useWallet } from '@senhub/providers'\nimport { PublicKey } from '@solana/web3.js'\n\nimport { AppDispatch } from 'app/model'\nimport configs from 'app/configs'\nimport { getDao, getDaos } from 'app/model/dao.controller'\n\nconst {\n  sol: { interDao },\n} = configs\n\n// Watch id\nlet initializeDAOEventId = 0\nlet updateDaoRegimeEventId = 0\nlet updateSupplyEventId = 0\nlet transferAuthorityEventId = 0\n\nconst DaoWatcher = () => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const dispatch = useDispatch<AppDispatch>()\n\n  const reloadDaoData = useCallback(\n    ({ dao: daoPublicKey }: { dao: PublicKey }) => {\n      const daoAddress = daoPublicKey.toBase58()\n      return dispatch(getDao({ address: daoAddress, force: true }))\n    },\n    [dispatch],\n  )\n\n  // First-time fetching\n  const fetchData = useCallback(async () => {\n    try {\n      if (!account.isAddress(walletAddress)) return\n      await dispatch(getDaos()).unwrap()\n    } catch (er) {\n      return window.notify({\n        type: 'error',\n        description: 'Cannot fetch data of DAOs',\n      })\n    }\n  }, [dispatch, walletAddress])\n  // Watch dao events\n  const watchData = useCallback(async () => {\n    initializeDAOEventId = await interDao.addListener(\n      'InitializeDAOEvent',\n      reloadDaoData,\n    )\n    updateDaoRegimeEventId = await interDao.addListener(\n      'UpdateDaoRegimeEvent',\n      reloadDaoData,\n    )\n    updateSupplyEventId = await interDao.addListener(\n      'UpdateSupplyEvent',\n      reloadDaoData,\n    )\n    transferAuthorityEventId = await interDao.addListener(\n      'TransferAuthorityEvent',\n      reloadDaoData,\n    )\n  }, [reloadDaoData])\n\n  useEffect(() => {\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await interDao.removeListener(initializeDAOEventId)\n          await interDao.removeListener(updateDaoRegimeEventId)\n          await interDao.removeListener(updateSupplyEventId)\n          await interDao.removeListener(transferAuthorityEventId)\n        } catch (er: any) {\n          console.warn(er.message)\n        } finally {\n          initializeDAOEventId = 0\n          updateDaoRegimeEventId = 0\n          updateSupplyEventId = 0\n          transferAuthorityEventId = 0\n        }\n      })()\n    }\n  }, [fetchData, watchData])\n\n  return <Fragment />\n}\n\nexport default DaoWatcher\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { PublicKey } from '@solana/web3.js'\n\nimport { AppDispatch } from 'app/model'\nimport configs from 'app/configs'\nimport { getProposal } from 'app/model/proposal.controller'\n\nconst {\n  sol: { interDao },\n} = configs\n\n// Watch id\nlet initializeProposalEventId = 0\nlet voteForEventId = 0\nlet voteAgainstEventId = 0\nlet executeProposalEventId = 0\n\nconst ProposalWatcher = () => {\n  const dispatch = useDispatch<AppDispatch>()\n\n  const reloadProposalData = useCallback(\n    ({ proposal: proposalPublicKey }: { proposal: PublicKey }) => {\n      const proposalAddress = proposalPublicKey.toBase58()\n      return dispatch(getProposal({ address: proposalAddress, force: true }))\n    },\n    [dispatch],\n  )\n\n  // Watch dao events\n  const watchData = useCallback(async () => {\n    initializeProposalEventId = await interDao.addListener(\n      'InitializeProposalEvent',\n      reloadProposalData,\n    )\n    voteForEventId = await interDao.addListener(\n      'VoteForEvent',\n      reloadProposalData,\n    )\n    voteAgainstEventId = await interDao.addListener(\n      'VoteAgainstEvent',\n      reloadProposalData,\n    )\n    executeProposalEventId = await interDao.addListener(\n      'ExecuteProposalEvent',\n      reloadProposalData,\n    )\n  }, [reloadProposalData])\n\n  useEffect(() => {\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await interDao.removeListener(initializeProposalEventId)\n          await interDao.removeListener(voteForEventId)\n          await interDao.removeListener(voteAgainstEventId)\n          await interDao.removeListener(executeProposalEventId)\n        } catch (er: any) {\n          console.warn(er.message)\n        } finally {\n          initializeProposalEventId = 0\n          voteForEventId = 0\n          voteAgainstEventId = 0\n          executeProposalEventId = 0\n        }\n      })()\n    }\n  }, [watchData])\n\n  return <Fragment />\n}\n\nexport default ProposalWatcher\n","import { AccountInfo, PublicKey } from '@solana/web3.js'\nimport { createAsyncThunk, createSlice } from '@reduxjs/toolkit'\nimport {\n  ProposalData,\n  ReceiptData,\n  RECEIPT_DISCRIMINATOR,\n} from '@interdao/core'\nimport { account } from '@senswap/sen-js'\n\nimport configs from 'app/configs'\n\nconst {\n  sol: { interDao },\n} = configs\n\n/**\n * Interface & Utility\n */\n\nexport type ReceiptState = Record<string, ReceiptData>\n\n/**\n * Store constructor\n */\n\nconst NAME = 'receipt'\nconst initialState: ReceiptState = {}\n\n/**\n * Actions\n */\n\nexport const getReceipts = createAsyncThunk(\n  `${NAME}/getReceipts`,\n  async ({ authorityAddress }: { authorityAddress: string }) => {\n    if (!account.isAddress(authorityAddress)) throw new Error('Invalid address')\n    const {\n      provider: { connection },\n      programId,\n      account: { receipt },\n    } = interDao.program\n    const value: Array<{ pubkey: PublicKey; account: AccountInfo<Buffer> }> =\n      await connection.getProgramAccounts(programId, {\n        filters: [\n          { dataSize: receipt.size },\n          {\n            memcmp: {\n              offset: 0,\n              bytes: RECEIPT_DISCRIMINATOR,\n            },\n          },\n          {\n            memcmp: {\n              offset: 16,\n              bytes: authorityAddress,\n            },\n          },\n        ],\n      })\n    let bulk: ReceiptState = {}\n    value.forEach(({ pubkey, account: { data: buf } }) => {\n      const address = pubkey.toBase58()\n      const data = interDao.parseReceiptData(buf)\n      bulk[address] = data\n    })\n    return bulk\n  },\n)\n\nexport const getReceipt = createAsyncThunk<\n  ReceiptState,\n  { address: string; force?: boolean },\n  { state: any }\n>(`${NAME}/getReceipt`, async ({ address, force }, { getState }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  const {\n    dao: { [address]: data },\n  } = getState()\n  if (data && !force) return { [address]: data }\n  const raw = await interDao.getReceiptData(address)\n  return { [address]: raw }\n})\n\nexport const upsetReceipt = createAsyncThunk<\n  ReceiptState,\n  { address: string; data: ProposalData },\n  { state: any }\n>(`${NAME}/upsetReceipt`, async ({ address, data }) => {\n  if (!account.isAddress(address)) throw new Error('Invalid address')\n  if (!data) throw new Error('Data is empty')\n  return { [address]: data }\n})\n\nexport const deleteReceipt = createAsyncThunk(\n  `${NAME}/deleteReceipt`,\n  async ({ address }: { address: string }) => {\n    if (!account.isAddress(address)) throw new Error('Invalid address')\n    return { address }\n  },\n)\n\n/**\n * Usual procedure\n */\n\nconst slice = createSlice({\n  name: NAME,\n  initialState,\n  reducers: {},\n  extraReducers: (builder) =>\n    void builder\n      .addCase(\n        getReceipts.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        getReceipt.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        upsetReceipt.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      )\n      .addCase(\n        deleteReceipt.fulfilled,\n        (state, { payload }) => void Object.assign(state, payload),\n      ),\n})\n\nexport default slice.reducer\n","import { Fragment, useCallback, useEffect } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { PublicKey } from '@solana/web3.js'\nimport { useWallet } from '@senhub/providers'\nimport { account } from '@senswap/sen-js'\n\nimport { AppDispatch } from 'app/model'\nimport configs from 'app/configs'\nimport { getReceipt, getReceipts } from 'app/model/receipt.controller'\n\nconst {\n  sol: { interDao },\n} = configs\n\n// Watch id\nlet voteForEventId = 0\nlet voteAgainstEventId = 0\nlet closeEventId = 0\n\nconst ReceiptWatcher = () => {\n  const {\n    wallet: { address: walletAddress },\n  } = useWallet()\n  const dispatch = useDispatch<AppDispatch>()\n\n  const reloadReceiptData = useCallback(\n    ({ receipt: receiptPublicKey }: { receipt: PublicKey }) => {\n      const receiptAddress = receiptPublicKey.toBase58()\n      return dispatch(getReceipt({ address: receiptAddress, force: true }))\n    },\n    [dispatch],\n  )\n\n  // First-time fetching\n  const fetchData = useCallback(async () => {\n    try {\n      if (!account.isAddress(walletAddress)) return\n      await dispatch(getReceipts({ authorityAddress: walletAddress })).unwrap()\n    } catch (er) {\n      return window.notify({\n        type: 'error',\n        description: 'Cannot fetch data of receipts',\n      })\n    }\n  }, [dispatch, walletAddress])\n  // Watch dao events\n  const watchData = useCallback(async () => {\n    voteForEventId = await interDao.addListener(\n      'VoteForEvent',\n      reloadReceiptData,\n    )\n    voteAgainstEventId = await interDao.addListener(\n      'VoteAgainstEvent',\n      reloadReceiptData,\n    )\n    closeEventId = await interDao.addListener('CloseEvent', reloadReceiptData)\n  }, [reloadReceiptData])\n\n  useEffect(() => {\n    fetchData()\n    watchData()\n    // Unwatch (cancel socket)\n    return () => {\n      ;(async () => {\n        try {\n          await interDao.removeListener(voteForEventId)\n          await interDao.removeListener(voteAgainstEventId)\n          await interDao.removeListener(closeEventId)\n        } catch (er: any) {\n          console.warn(er.message)\n        } finally {\n          voteForEventId = 0\n          voteAgainstEventId = 0\n          closeEventId = 0\n        }\n      })()\n    }\n  }, [fetchData, watchData])\n\n  return <Fragment />\n}\n\nexport default ReceiptWatcher\n","import { useEffect } from 'react'\nimport { useUI } from '@senhub/providers'\nimport { Redirect, Route, Switch } from 'react-router-dom'\n\nimport { Row, Col } from 'antd'\nimport Dao from './dao'\nimport Proposal from './proposal'\nimport ProposalInitialization from './proposal/proposalInitialization'\nimport DaoInitialization from './dao/daoInitialization'\nimport ProposalDetails from './proposal/proposalDetails'\nimport DaoWatcher from './watcher/dao.watcher'\nimport ProposalWatcher from './watcher/proposal.watcher'\nimport ReceiptWatcher from './watcher/receipt.watcher'\n\nimport BG from 'app/static/images/system/bg-dark.png'\nimport BG_LIGHT from 'app/static/images/system/bg-light.png'\nimport configs from 'app/configs'\n\nimport 'app/static/styles/dark.less'\nimport 'app/static/styles/light.less'\n\nconst {\n  manifest: { appId },\n} = configs\n\nconst View = () => {\n  const { setBackground } = useUI()\n\n  useEffect(() => {\n    setBackground({ light: BG_LIGHT, dark: BG })\n  }, [setBackground])\n\n  return (\n    <Row gutter={[24, 24]} justify=\"center\">\n      <Col span={24}>\n        <Switch>\n          <Route exact path={`/app/${appId}/dao`} component={Dao} />\n          <Route\n            exact\n            path={`/app/${appId}/dao/new-dao`}\n            component={DaoInitialization}\n          />\n          <Route\n            exact\n            path={`/app/${appId}/dao/:daoAddress`}\n            component={Proposal}\n          />\n          <Route\n            exact\n            path={`/app/${appId}/dao/:daoAddress/new-proposal`}\n            component={ProposalInitialization}\n          />\n          <Route\n            exact\n            path={`/app/${appId}/dao/:daoAddress/proposal/:proposalAddress`}\n            component={ProposalDetails}\n          />\n          <Redirect from=\"*\" to={`/app/${appId}/dao`} />\n        </Switch>\n      </Col>\n      <Col span={24} />\n      <DaoWatcher />\n      <ProposalWatcher />\n      <ReceiptWatcher />\n    </Row>\n  )\n}\n\nexport default View\n","import { configureStore } from '@reduxjs/toolkit'\nimport { devTools, bigintSerializationMiddleware } from 'shared/devTools'\n\nimport dao from 'app/model/dao.controller'\nimport metadata from 'app/model/metadata.controller'\nimport proposal from 'app/model/proposal.controller'\nimport receipt from 'app/model/receipt.controller'\nimport voteBid from 'app/model/voteBid.controller'\nimport template from 'app/model/template.controller'\n\n/**\n * Isolated store\n */\nconst model = configureStore({\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware(bigintSerializationMiddleware),\n  devTools: devTools(process.env.REACT_APP_ID as string),\n  reducer: {\n    dao,\n    metadata,\n    proposal,\n    receipt,\n    voteBid,\n    template,\n  },\n})\n\nexport type AppState = ReturnType<typeof model.getState>\nexport type AppDispatch = typeof model.dispatch\nexport default model\n","import { Provider } from 'react-redux'\nimport {\n  WalletProvider,\n  UIProvider,\n  AccountProvider,\n  PoolProvider,\n  MintProvider,\n} from '@senhub/providers'\n\nimport View from 'app/view'\n\nimport model from 'app/model'\nimport configs from 'app/configs'\n\nconst {\n  manifest: { appId },\n} = configs\n\nexport const Page = () => {\n  return (\n    <UIProvider appId={appId} antd={{ prefixCls: appId }}>\n      <WalletProvider>\n        <AccountProvider>\n          <PoolProvider>\n            <MintProvider>\n              <Provider store={model}>\n                <View />\n              </Provider>\n            </MintProvider>\n          </PoolProvider>\n        </AccountProvider>\n      </WalletProvider>\n    </UIProvider>\n  )\n}\n","export type LimitConfig = {\n  calls: number\n  time: number\n}\n\nexport type CacheConfig = {\n  ttl: number // millisecond\n}\n\nexport type SingleFlightConfig = {\n  limit?: LimitConfig\n  cache?: CacheConfig\n}\n\n// 10 request per 1 second\nexport const DEFAULT_LIMIT_CONFIG: LimitConfig = {\n  calls: 10,\n  time: 1000,\n}\n\n// 10 request per 1 second\nexport const DEFAULT_CACHE_CONFIG: CacheConfig = {\n  ttl: 30000,\n}\n\nexport const DEFAULT_SINGLE_FLIGHT_CONFIG: SingleFlightConfig = {\n  limit : DEFAULT_LIMIT_CONFIG,\n  cache: DEFAULT_CACHE_CONFIG\n}","export interface IRequestQueue {\n  key: string\n  add(resolve: any, reject: any): void\n  resolves(data: any): void\n  rejects(error: any): void\n}\n\nexport class RequestQueue implements IRequestQueue {\n  key = ''\n  private resolveQueue: any[] = []\n  private rejectQueue: any[] = []\n  constructor(key: string) {\n    this.key = key\n  }\n\n  add(resolve: any, reject: any) {\n    this.resolveQueue.push(resolve)\n    this.rejectQueue.push(reject)\n  }\n\n  resolves(data: any) {\n    while (this.resolveQueue.length > 0) {\n      const resolve = this.resolveQueue.shift()\n      resolve(data)\n    }\n  }\n\n  rejects(error: any) {\n    while (this.rejectQueue.length > 0) {\n      const reject = this.rejectQueue.shift()\n      reject(error)\n    }\n  }\n}\n","import { DEFAULT_CACHE_CONFIG } from './constant'\nimport { CacheConfig } from './constant'\n\nexport class SingleFlightCache {\n  private static mapCache = new Map<string, any>()\n\n  static set(\n    key: string,\n    value: any,\n    configs: CacheConfig = DEFAULT_CACHE_CONFIG,\n  ) {\n    this.mapCache.set(key, value)\n    setTimeout(() => {\n      this.mapCache.delete(key)\n    }, configs.ttl)\n  }\n\n  static get(key: string) {\n    return this.mapCache.get(key)\n  }\n}\n","import { DEFAULT_SINGLE_FLIGHT_CONFIG, SingleFlightConfig } from './constant'\n\nimport { IRequestQueue, RequestQueue } from './request'\nimport { SingleFlightCache } from './cache'\n\nexport class DataLoader {\n  static mapInstance = new Map<string, SingleFlight>()\n\n  private static getSingleFlight(configs: SingleFlightConfig): SingleFlight {\n    const instanceKey = JSON.stringify(configs)\n    if (this.mapInstance.has(instanceKey)) {\n      const instance = this.mapInstance.get(instanceKey)\n      if (instance) return instance\n    }\n\n    let newSingleFlight = new SingleFlight(configs)\n    this.mapInstance.set(instanceKey, newSingleFlight)\n    return newSingleFlight\n  }\n\n  static async load<T>(\n    requestKey: string | object,\n    callback: () => Promise<T>,\n    configs: SingleFlightConfig = {},\n  ): Promise<T> {\n    if (typeof requestKey === 'object') requestKey = JSON.stringify(requestKey)\n\n    let singleFlight = DataLoader.getSingleFlight(configs)\n    DataLoader.mapInstance.set(requestKey, singleFlight)\n    const newRequest = new RequestQueue(requestKey)\n    return singleFlight.load<T>(newRequest, callback)\n  }\n}\n\nclass SingleFlight {\n  private config: SingleFlightConfig\n  private intervalRequest: any\n  private timeLogs: number[] = []\n\n  private mapRequestCalling = new Map<string, IRequestQueue>()\n  private requestQueue: IRequestQueue[] = []\n\n  constructor(configs: SingleFlightConfig) {\n    this.config = Object.assign(DEFAULT_SINGLE_FLIGHT_CONFIG, configs)\n  }\n\n  async load<T>(newRequest: IRequestQueue, callback: () => Promise<T>) {\n    const cacheData = SingleFlightCache.get(newRequest.key)\n    if (cacheData) return Promise.resolve(cacheData)\n\n    let isFetch = false\n    let request = this.mapRequestCalling.get(newRequest.key)\n    if (!request) {\n      request = newRequest\n      isFetch = true\n      this.mapRequestCalling.set(request.key, request)\n    }\n\n    return new Promise((resolve, reject) => {\n      if (!request) return reject('Not found request!')\n      request.add(resolve, reject)\n      if (isFetch) {\n        this.fetch<T>(request, callback)\n      }\n    })\n  }\n\n  private fetch<T>(request: IRequestQueue, callback: () => Promise<T>) {\n    if (!this.validateLimit()) {\n      return this.addRequestQueue(request, callback)\n    }\n    this.createTimeLogs()\n\n    callback()\n      .then((response) => {\n        SingleFlightCache.set(request.key, response, this.config.cache)\n        request.resolves(response)\n      })\n      .catch((error) => {\n        request.rejects(error)\n      })\n      .finally(() => {\n        this.mapRequestCalling.delete(request.key)\n        this.fetchRequestQueue(callback)\n      })\n  }\n\n  private fetchRequestQueue(callback: () => Promise<any>) {\n    if (!this.validateLimit()) return\n    const request = this.requestQueue.shift()\n    if (request) this.load(request, callback)\n\n    if (this.requestQueue.length === 0 && this.intervalRequest) {\n      clearInterval(this.intervalRequest)\n    }\n  }\n\n  private addRequestQueue(\n    request: IRequestQueue,\n    callback: () => Promise<any>,\n  ) {\n    this.requestQueue.push(request)\n    this.intervalRequest = setInterval(() => {\n      this.fetchRequestQueue(callback)\n    }, this.config.limit?.time)\n  }\n\n  private validateLimit(): boolean {\n    return true\n  }\n\n  private createTimeLogs() {\n    if (!this.config.limit) return\n\n    const now = new Date().getTime()\n    this.timeLogs.push(now)\n    if (this.timeLogs.length > this.config.limit?.calls) {\n      this.timeLogs.shift()\n    }\n  }\n}\n","import { PublicKey } from '@solana/web3.js'\nimport BN from 'bn.js'\n\n// Bugfix performance\n// https://github.com/zalmoxisus/redux-devtools-extension/blob/master/docs/Troubleshooting.md#excessive-use-of-memory-and-cpu\nexport const devTools = (appName: string): any => {\n  if (process.env.REACT_APP_ENV !== 'development') return false\n  return {\n    name: appName,\n    actionSanitizer: ({ payload, type }: { payload: any; type: string }) => ({\n      payload,\n      type,\n    }),\n  }\n}\n\n// BigInt Serialization Middleware\n// https://redux-toolkit.js.org/api/serializabilityMiddleware\nconst isPlain = (val: any): boolean => {\n  const isPlainObject = (obj: object): boolean => {\n    if (obj === null) return false\n    const proto = Object.getPrototypeOf(obj)\n    return proto !== null && Object.getPrototypeOf(proto) === null\n  }\n  return (\n    typeof val === 'undefined' ||\n    val === null ||\n    typeof val === 'string' ||\n    typeof val === 'boolean' ||\n    typeof val === 'number' ||\n    Array.isArray(val) ||\n    isPlainObject(val) ||\n    typeof val === 'bigint' ||\n    val instanceof PublicKey ||\n    val instanceof BN ||\n    val instanceof Buffer\n  )\n}\nBigInt.prototype.toJSON = function () {\n  return this.toString() // https://github.com/GoogleChromeLabs/jsbi/issues/30\n}\nexport const bigintSerializationMiddleware = {\n  serializableCheck: {\n    isSerializable: isPlain,\n  },\n}\n","import localForage from 'localforage'\nimport { account } from '@senswap/sen-js'\nimport IPFS from './ipfs'\n\n/**\n * Persistent Database\n */\nclass PDB {\n  readonly dbName: string\n  private driver: any\n  private ipfs: IPFS\n\n  constructor(walletAddress: string) {\n    if (!account.isAddress(walletAddress)) throw new Error('Invalid address')\n    this.dbName = walletAddress\n    this.driver = [localForage.WEBSQL, localForage.LOCALSTORAGE]\n    this.ipfs = new IPFS()\n  }\n\n  /**\n   * Local\n   */\n\n  createInstance = (appId: string): LocalForage => {\n    return localForage.createInstance({\n      driver: this.driver,\n      name: this.dbName,\n      storeName: appId,\n    })\n  }\n\n  dropInstance = async (appId: string): Promise<void> => {\n    const instance = this.createInstance(appId)\n    await instance.clear()\n    return await localForage.dropInstance({\n      name: this.dbName,\n      storeName: appId,\n    })\n  }\n\n  all = async (): Promise<any> => {\n    let data: any = {}\n    const appIds = (\n      ((await this.createInstance('sentre').getItem('appIds')) as string[]) ||\n      []\n    )\n      .flat()\n      .concat(['sentre'])\n    for (const appId of appIds) {\n      data[appId] = {}\n      const instance = this.createInstance(appId)\n      await instance.iterate((value: string, key: string) => {\n        data[appId][key] = value\n      })\n    }\n    return data\n  }\n\n  /**\n   * Cloud\n   */\n\n  fetch = async (cid: string) => {\n    return await this.ipfs.get(cid)\n  }\n\n  backup = async () => {\n    const data = await this.all()\n    return await this.ipfs.set(data)\n  }\n\n  restore = async (cid: string) => {\n    // Download data\n    const data = await this.fetch(cid)\n    // Apply to storage\n    for (const appId in data) {\n      const instance = await this.createInstance(appId)\n      for (const key in data[appId]) {\n        const value = data[appId][key]\n        await instance.setItem(key, value)\n      }\n    }\n    return data\n  }\n}\n\nexport default PDB\n\n/**\n * High abtraction pdb for app\n */\nexport const createPDB = (walletArress: string, appId: string) => {\n  return account.isAddress(walletArress)\n    ? new PDB(walletArress).createInstance(appId)\n    : undefined\n}\n","import { create, isIPFS } from 'ipfs-core'\nimport { asyncWait } from 'shared/util'\n\nconst GET_CID_TIMEOUT = 15000\nclass IPFS {\n  private _ipfs: any = async () => {\n    try {\n      if (!window.ipfs) window.ipfs = await create()\n      return window.ipfs\n    } catch (er) {\n      await asyncWait(500)\n      return await this._ipfs()\n    }\n  }\n\n  static isCID = (cid: string | undefined | null): boolean => {\n    try {\n      if (!cid) return false\n      return isIPFS.multihash(cid)\n    } catch (er) {\n      return false\n    }\n  }\n\n  get = async (cid: string) => {\n    if (!IPFS.isCID(cid)) throw new Error('Invalid CID')\n    try {\n      const ipfs = await this._ipfs()\n      const stream = await ipfs.cat(cid, { timeout: GET_CID_TIMEOUT })\n      let raw = ''\n      for await (const chunk of stream) raw += Buffer.from(chunk).toString()\n      const data = JSON.parse(raw)\n      return data\n    } catch (err) {\n      // notthing\n    }\n  }\n\n  set = async (data: object): Promise<string> => {\n    if (!data) throw new Error('Empty data')\n    const raw = JSON.stringify(data)\n    const ipfs = await this._ipfs()\n    const { cid } = await ipfs.add(raw)\n    return cid.toString()\n  }\n}\n\nexport default IPFS\n","import storage from './storage'\n\n/**\n * Environment\n */\nconst getEnv = () => {\n  switch (process.env.REACT_APP_ENV) {\n    case 'development':\n      return 'development'\n    case 'staging':\n      return 'staging'\n    case 'production':\n      return 'production'\n    default:\n      return 'development'\n  }\n}\nexport type Env = 'development' | 'staging' | 'production'\nexport const env: Env = getEnv()\n\n/**\n * Network\n */\nconst getNetwork = () => {\n  switch (storage.get('network')) {\n    case 'devnet':\n      return 'devnet'\n    case 'testnet':\n      return 'testnet'\n    case 'mainnet':\n      return 'mainnet'\n    default:\n      return 'mainnet'\n  }\n}\nexport type Net = 'devnet' | 'testnet' | 'mainnet'\nexport const net: Net = getNetwork()\n\nexport const onSwitchNetwork = (value: Net) => {\n  storage.set('network', value)\n  return window.location.reload()\n}\n\n/**\n * Chain ID\n */\nconst getChainId = () => {\n  switch (net) {\n    case 'devnet':\n      return 103\n    case 'testnet':\n      return 102\n    case 'mainnet':\n      return 101\n    default:\n      return 101\n  }\n}\nexport type ChainId = 101 | 102 | 103\nexport const chainId: ChainId = getChainId()\n","const KEY = 'sentre'\nconst driver = window.localStorage\n\nconst convert = (value: string | null) => {\n  try {\n    if (!value) return null\n    return JSON.parse(value)\n  } catch (e) {\n    return null\n  }\n}\n\nconst storage = {\n  set: (key: string, value: any) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') data = {}\n    data[key] = value\n    driver.setItem(KEY, JSON.stringify(data))\n  },\n  get: (key: string) => {\n    let data = convert(driver.getItem(KEY))\n    if (!data || typeof data !== 'object') return null\n    return data[key]\n  },\n  clear: (key: string) => {\n    storage.set(key, null)\n  },\n}\n\nexport default storage\n","import { account, utils } from '@senswap/sen-js'\nimport numbro from 'numbro'\n\nimport { net } from 'shared/runtime'\nimport { DataLoader } from './dataloader'\n\n/**\n * Delay by async/await\n * @param ms - milisenconds\n * @returns\n */\nexport const asyncWait = (ms: number): Promise<void> => {\n  return new Promise((resolve) => setTimeout(resolve, ms))\n}\n\n/**\n * Shorten a long address\n * @param address - The long address\n * @param num - The number of the heading and trailing characters\n * @param delimiter - The delimiter\n * @returns Shortened address\n */\nexport const shortenAddress = (address: string, num = 4, delimiter = '...') => {\n  return (\n    address.substring(0, num) +\n    delimiter +\n    address.substring(address.length - num, address.length)\n  )\n}\n\n/**\n * Build a explorer url by context including addresses or transaction ids\n * @param addressOrTxId - Address or TxId\n * @returns\n */\nexport const explorer = (addressOrTxId: string): string => {\n  if (account.isAddress(addressOrTxId)) {\n    return `https://explorer.solana.com/address/${addressOrTxId}?cluster=${net}`\n  }\n  return `https://explorer.solana.com/tx/${addressOrTxId}?cluster=${net}`\n}\n\n/**\n * Wrapped Numbro - https://numbrojs.com/old-format.html\n * @param value - value\n * @returns\n */\nexport const numeric = (\n  value?: number | string | BigInt,\n): ReturnType<typeof numbro> => {\n  if (!value) return numbro('0')\n  return numbro(value)\n}\n\n/**\n * Generate a random color\n * @param seed - Seed\n * @param opacity - Opacity\n * @returns\n */\nexport const randomColor = (seed?: string, opacity?: string | number) => {\n  let hash = Math.floor(Math.random() * 16777215)\n  if (seed) {\n    hash = 0\n    for (let i = 0; i < seed.length; i++) {\n      hash = seed.charCodeAt(i) + ((hash << 5) - hash)\n    }\n  }\n  var rgb = [0, 0, 0]\n  for (let i = 0; i < 3; i++) {\n    var value = (hash >> (i * 8)) & 255\n    rgb[i] = value\n  }\n  return `rgba(${rgb[0]}, 100, ${rgb[1]},${opacity || 1})`\n}\n\n/**\n * Fetch coingecko data with cache\n * @param ticket - Token ticket\n * @returns\n */\nexport const fetchCGK = async (ticket = '') => {\n  return DataLoader.load('fetchCGK' + ticket, () => utils.parseCGK(ticket))\n}\n\n/**\n * Randomly choose an element in the input array\n * @param arr - Original array of elements\n * @returns\n */\nexport const randChoose = <T>(arr: T[]): T => {\n  const rand = Math.floor(Math.random() * arr.length)\n  return arr[rand]\n}\n\n/**\n * Randomize a subarray in the input array with a specific number of elements\n * @param arr - Original array of elements\n * @param num - Number of elements in randomized subarray\n * @returns\n */\nexport const randElements = <T>(arr: T[], num: number): T[] => {\n  if (arr.length < num) return [...arr]\n  const re: T[] = []\n  while (re.length < num) {\n    const el = randChoose(arr)\n    if (!re.includes(el)) re.push(el)\n  }\n  return re\n}\n"],"names":["CUSTOM_ICONS","forwardRef","ref","name","className","props","cln","src","Row","gutter","justify","Col","Space","direction","size","Typography","level","style","fontSize","textAlign","span","type","icon","title","value","Card","bordered","background","borderLeft","borderRadius","bodyStyle","padding","shared","appId","process","url","development","staging","production","constructor","_wallet","window","sentre","wallet","_publicKey","PublicKey","_init","async","address","this","getAddress","signTransaction","tx","signAllTransactions","signedTxs","txs","signedTx","push","publicKey","console","warn","devnet","interDao","InterDAO","SafeWallet","fee","taxman","testnet","mainnet","manifest","env","sol","net","configs","NAME","getProposals","createAsyncThunk","daoAddress","provider","connection","programId","program","getProgramAccounts","filters","memcmp","offset","bytes","bulk","forEach","pubkey","account","data","buf","toBase58","parseProposalData","getProposal","force","getState","Error","dao","getProposalData","upsetProposal","deleteProposal","createSlice","initialState","reducers","extraReducers","builder","addCase","fulfilled","state","payload","Object","assign","daoData","proposal","useSelector","dispatch","useDispatch","totalDao","useMemo","keys","length","totalProposal","executeProposal","total","proposalAddr","executed","useEffect","daoAddresses","xs","lg","sm","numeric","format","includes","regime","special","tag","isEqual","DaoRegimes","Tag","margin","DEFAULT_AVATARS","undefined","mintAddress","reversed","avatars","setAvatars","useState","tokenProvider","useMint","pools","usePool","deriveAvatar","useCallback","token","findByAddress","logoURI","deriveAvatars","poolData","values","find","mint_lpt","mint_a","mint_b","Promise","all","map","reverse","avatar","Avatar","backgroundColor","border","display","whiteSpace","i","DEFAULT_NAME","separator","setName","deriveName","deriveNames","names","join","DEFAULT_SYMBOL","symbol","setSymbol","deriveSymbol","substring","deriveSymbols","symbols","onClick","active","cursor","randomColor","Boolean","color","boxShadow","align","useAllMintAddresses","allMintAddresses","setAllMintAddresses","getRecommendedMintAddresses","addresses","filter","searching","onChange","visible","setVisible","keyword","setKeyword","recommendedMintAddresses","setRecommendedMintAddresses","accounts","useAccount","myMintAddresses","mint","index","self","indexOf","useRecommendedMintAddresses","searchedMintAddresses","loading","setLoading","setSearchedMintAddresses","clearTimeout","setTimeout","useSearchedMintAddresses","randomHundredAddresses","refresh","limit","shuffle","setShuffle","randElements","useRandomMintAddresses","onSelect","onRefresh","list","document","getElementById","scrollTop","forceCheck","Fragment","Button","Modal","onCancel","footer","closeIcon","centered","destroyOnClose","Input","placeholder","suffix","marginRight","e","target","maxHeight","id","height","overflow","Divider","marginBottom","string2Number","seed","Buffer","from","BN","mod","Number","Math","random","toString","avatarProps","colors","gradients","alt","SOCIAL_MEDIA","DEFAULT_META_DATA","daoName","description","image","optionals","daoRegime","daoMetaData","createMetaData","getMember","metadata","members","utils","dataSize","setCreateDaoMetaData","metaData","isExistDao","getCID","digest","v0Prefix","Uint8Array","v0Digest","set","CID","parseDaoData","results","daoAddr","cacheDaoData","nextDaoData","rs","err","ipfs","IPFS","walletAddress","db","PDB","createInstance","dbDaoData","getItem","cid","get","dbData","setItem","setMetaData","getMetaData","er","notify","message","DAO_CARD_BG","autonomous","democratic","dictatorial","HEIGHT_RATIO","history","useHistory","ui","width","useUI","nonce","useMembers","useMetaData","parseRegime","isMobile","desktopWidth","heightRatio","PAGE_PADDING","Image","preview","wrap","shape","flex","maxWidth","Tooltip","ellipsis","rows","shortenAddress","marginLeft","minHeight","onSearch","prefix","Spin","indicator","LoadingOutlined","regmie","position","bottom","left","backdropFilter","textTransform","fontWeight","REGIME_LIST","Popover","overlayStyle","trigger","content","idx","md","onSort","Select","register","daoMap","engine","_setDaoMap","Array","has","addr","daos","fuzzy","search","findIndex","nextDaos","slice","Map","lunr","field","doc","add","parseData","setParseData","searchData","setSearchData","daoProvider","DaoProvider","onParseDaoData","delayToSearch","sortKey","setSortKey","searchKey","setSearchKey","infix","sortDaoRegime","useSearchDao","filterDaoData","searchDao","spanMobile","Empty","useWallet","filteredDaos","authority","authAddress","Tabs","tabBarExtraContent","tab","STATUS_COLOR","Succeeded","Failed","Preparing","Executed","Voting","status","currentDate","floor","Date","proposalAddress","startDate","endDate","supply","votingAgainstPower","votingForPower","consensusQuorum","consensusMechanism","actualSupply","toNumber","isSuccess","quorum","votingPower","SystemProgram","useProposalStatus","useProposalMetaData","imageBackground","hoverable","moment","decimals","setDecimals","getDecimals","fetchDecimals","setTx","clearTx","setImgBackground","timeoutId","max","onValue","error","setError","setCursor","innerRef","useRef","onAmount","val","onError","test","parseFloat","current","setSelectionRange","selectionStart","toData","amount","schema","key","soproxABI","code","BigInt","toBuffer","setValue","setMintAddress","receiverAddress","setReceiverAddress","srcAddress","setSrcAddress","dstAddress","setDstAddress","setAmount","useMintDecimals","senderAddress","master","valid","confirm","re","dst","payer","isWritable","isSigner","isMaster","buildTransferSplvalue","close","setSourceAddress","owner","setDestinationAddress","getAmount","String","disabled","CardOption","label","SOLANA_LOGO","expandable","Radio","template","setStatus","mobileScreen","numSupply","authorized","proposalAddresses","filterProposalAddresses","filteredAddress","stakeSupply","lockSupply","defaultValue","minWidth","block","open","useParams","ConsensusMechanisms","mobileSpan","ConsensusQuorums","DatePicker","valueOf","showTime","CURRENT_TIME","ONE_DAY","setConsensusMechanism","setConsensusQuorum","duration","setDuration","setTitle","setDescription","newProposal","multihash","feeOption","revenue","revenuemanAddress","tax","taxmanAddress","valueAccounts","txId","initializeProposal","explorer","borderTop","DEFAULT_CREATE_DAO_DATA","createDaoData","daoType","getDaos","DAO_DISCRIMINATOR","getDao","getDaoData","upsetDao","setCreateDaoData","setCreateDaoType","deleteDao","DAO_TYPE","cardBorder","borderColor","logoSize","PAGE_SPACING","setSupply","getMint","fetchSupply","useMintSupply","suggestion","div","formatMetaData","nextMetaData","imgBase64","Upload","accept","listType","maxCount","file","fileList","callBack","reader","FileReader","readAsDataURL","onload","result","fileToBase64","originFileObj","itemRender","eml","uploadFile","uploadFiles","remove","thumbUrl","onRemove","social","JSON","parse","stringify","splice","onOptionalChange","CreateSteps","step","stepOne","stepTwo","stepThree","DAO_PROGRESS_TITILE","Progress","percent","steps","showInfo","onHandleStep","onConfirm","setStep","onNextStep","onCreateDao","totalSupply","mul","pow","initializeDao","isExistProposal","accountsLen","useProposal","execute","wordBreak","setVoteBidAmount","buildResult","balance","useAccountBalance","accountAddress","lamports","DEFAULT_EMPTY_ADDRESS","getRemainingSeconds","nowDayjs","timestampDayjs","startWithZeros","diff","getRemainingMinutes","getRemainingHours","getRemainingDays","number","minLength","numberString","repeat","defaultRemainingTime","minutes","hours","days","seconds","LockedVoting","remainingTime","setRemainingTime","voteBid","voteAmount","voteNow","getTime","endTime","startTime","isLockedVote","remaining","votePower","updateRemainingTime","countdown","timestampMs","finishTime","dayjs","isBefore","getRemainingTime","intervalId","setInterval","clearInterval","loadingFor","setLoadingFor","loadingAgainst","setLoadingAgainst","setAccountAddress","splt","deriveAssociatedAddress","useAccountBalanceByMintAddress","onVoteFor","nextAmount","voteFor","onVoteAgainst","voteAgainst","transferInfo","copied","setCopied","source","destination","onCopy","asyncWait","textDecoration","text","Template","setTransferInfo","templateName","setTemplateName","fetchProposalInfo","info","decodeSplInstruction","sourceAssociated","sourceAddress","getAccountData","creator","authProposalAddress","mechanismQuorum","consensus","_consensusMechanism","STROKE_COLOR","dark","default","success","light","mintDecimal","theme","noVote","yesVote","totalVote","percentYes","percentNo","currentPower","actualYesVote","powerRequire","strokeColor","record","action","receipt","power","HISTORY_COLUMNS","dataIndex","render","_","getReceipts","parseReceiptData","listReceipt","setListReceipt","fetchReceipts","receipts","nextReceipts","actionType","existReceipt","_receipt","_action","_authority","_actionType","oldPower","Table","columns","dataSource","pagination","rowKey","lockedDate","initializeDAOEventId","updateDaoRegimeEventId","updateSupplyEventId","transferAuthorityEventId","reloadDaoData","daoPublicKey","fetchData","unwrap","watchData","addListener","removeListener","initializeProposalEventId","voteForEventId","voteAgainstEventId","executeProposalEventId","reloadProposalData","proposalPublicKey","authorityAddress","RECEIPT_DISCRIMINATOR","getReceipt","getReceiptData","upsetReceipt","deleteReceipt","closeEventId","reloadReceiptData","receiptPublicKey","receiptAddress","setBackground","Switch","Route","exact","path","component","Dao","DaoInitialization","Proposal","ProposalInitialization","ProposalDetails","Redirect","to","configureStore","middleware","getDefaultMiddleware","bigintSerializationMiddleware","devTools","reducer","Page","UIProvider","antd","prefixCls","WalletProvider","AccountProvider","PoolProvider","MintProvider","Provider","store","model","DEFAULT_CACHE_CONFIG","ttl","DEFAULT_SINGLE_FLIGHT_CONFIG","calls","time","cache","RequestQueue","resolveQueue","rejectQueue","resolve","reject","resolves","shift","rejects","SingleFlightCache","mapCache","delete","DataLoader","instanceKey","mapInstance","instance","newSingleFlight","SingleFlight","requestKey","callback","singleFlight","getSingleFlight","newRequest","load","config","intervalRequest","timeLogs","mapRequestCalling","requestQueue","cacheData","isFetch","request","fetch","validateLimit","addRequestQueue","createTimeLogs","then","response","catch","finally","fetchRequestQueue","now","appName","prototype","toJSON","serializableCheck","isSerializable","isArray","obj","proto","getPrototypeOf","isPlainObject","dbName","driver","localForage","storeName","dropInstance","clear","appIds","flat","concat","iterate","backup","restore","_ipfs","create","isCID","stream","cat","timeout","raw","chunk","isIPFS","storage","getNetwork","chainId","getChainId","KEY","localStorage","convert","ms","num","delimiter","addressOrTxId","numbro","opacity","hash","charCodeAt","rgb","randChoose","arr","el"],"sourceRoot":""}