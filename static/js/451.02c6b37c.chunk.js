(globalThis.webpackChunkinterdao=globalThis.webpackChunkinterdao||[]).push([[451],{3077:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Page:()=>I});var s=n(55754),r=n(15780),a=n(99019),o=n(92950);const i={"logo-telegram":n.p+"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg"};var c=n(45263);const l=(0,o.forwardRef)(((e,t)=>{let{name:n,className:s,...r}=e;const a=s?"anticon "+s:"anticon";return(0,c.jsx)("span",{className:a,...r,children:i[n]?(0,c.jsx)("ion-icon",{ref:t,src:i[n]}):(0,c.jsx)("ion-icon",{ref:t,name:n})})}));var d=n(95418),u=n(19289),p=n(15190);const f={appId:"interdao",url:"https://descartesnetwork.github.io/interdao.so/index.js"},g={development:{...f},staging:{...f},production:{...f}};var h=n(77817),y=n.n(h),w=n(71256);const m=class{constructor(){this._wallet=window.sentre.wallet,this._publicKey=new w.PublicKey("GuestAccount11111111111111111111111111111111"),this._init=async()=>{const e=await this._wallet.getAddress();this._publicKey=new w.PublicKey(e)},this.signTransaction=async e=>this._wallet.signTransaction(e),this.signAllTransactions=async e=>{let t=[];for(const n of e){const e=await this.signTransaction(n);t.push(e)}return t},this._init()}get publicKey(){return console.warn("This is an async getter for interface consistency. Please do not fully rely on this function."),this._publicKey}},b={devnet:{rpc:"https://api.devnet.solana.com",interDao:new(y())(new m)},testnet:{rpc:"https://api.testnet.solana.com",interDao:new(y())(new m)},mainnet:{rpc:"https://ssc-dao.genesysgo.net",interDao:new(y())(new m)}},j={manifest:g[p.OB],sol:b[p.ef]},{sol:{interDao:v}}=j,x=(0,u.createAsyncThunk)("dao/getDaos",(async()=>{const{provider:{connection:e},programId:t,account:n,coder:s}=v.program,r=await e.getProgramAccounts(t,{filters:[{dataSize:n.dao.size}]});let a={};return r.forEach((e=>{let{pubkey:t,account:{data:n}}=e;const r=t.toBase58(),o=s.accounts.decode("dao",n);a[r]=o})),a})),S=(0,u.createSlice)({name:"dao",initialState:{},reducers:{},extraReducers:e=>{e.addCase(x.fulfilled,((e,t)=>{let{payload:n}=t;Object.assign(e,n)}))}}).reducer,O=()=>{const{wallet:{address:e}}=(0,r.useWallet)(),t=(0,s.useDispatch)(),n=(0,o.useCallback)((async()=>{try{if(!d.account.isAddress(e))return;await t(x()).unwrap()}catch(n){return console.log(n.message),window.notify({type:"error",description:"Cannot fetch data of DAOs"})}}),[t,e]);return(0,o.useEffect)((()=>{n()}),[n]),(0,c.jsx)(o.Fragment,{})},P=()=>{const{dao:e}=(0,s.useSelector)((e=>e));return console.log(e),(0,c.jsxs)(a.Row,{gutter:[24,24],align:"middle",children:[(0,c.jsx)(a.Col,{span:24,children:(0,c.jsxs)(a.Space,{align:"center",children:[(0,c.jsx)(l,{name:"newspaper-outline"}),(0,c.jsx)(a.Typography.Title,{level:4,children:"App View"})]})}),(0,c.jsx)(O,{})]})};var T=n(85912);const k=(0,u.configureStore)({middleware:e=>e(T.h),devTools:(0,T.$)("interdao"),reducer:{dao:S}}),{manifest:{appId:A}}=j,I=()=>(0,c.jsx)(r.UIProvider,{appId:A,antd:!0,children:(0,c.jsx)(r.WalletProvider,{children:(0,c.jsx)(s.Provider,{store:k,children:(0,c.jsx)(P,{})})})})},85912:(e,t,n)=>{"use strict";n.d(t,{$:()=>o,h:()=>i});var s=n(71256),r=n(48744),a=n.n(r);const o=e=>!1;BigInt.prototype.toJSON=function(){return this.toString()};const i={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e||e instanceof s.PublicKey||e instanceof a()}}},15190:(e,t,n)=>{"use strict";n.d(t,{Bv:()=>d,OB:()=>c,ef:()=>l});const s="sentre",r=window.localStorage,a=e=>{try{return e?JSON.parse(e):null}catch(t){return null}},o={set:(e,t)=>{let n=a(r.getItem(s));n&&"object"===typeof n||(n={}),n[e]=t,r.setItem(s,JSON.stringify(n))},get:e=>{let t=a(r.getItem(s));return t&&"object"===typeof t?t[e]:null},clear:e=>{o.set(e,null)}},i=o,c="production",l=(()=>{switch(i.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}})(),d=(()=>{switch(l){case"devnet":return 103;case"testnet":return 102;default:return 101}})()},46601:()=>{},89214:()=>{},85568:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=451.02c6b37c.chunk.js.map